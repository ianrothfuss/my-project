"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6279],{46771:(e,t,n)=>{let l,a;n.r(t),n.d(t,{Account:()=>fy,ActionsProvider:()=>fC,AnimateHeight:()=>a2,AppHeader:()=>fW,ArrayField:()=>hI,AuthProvider:()=>ly,Banner:()=>tn,BlocksDrawer:()=>ob,BlocksField:()=>o_,BrowseByFolderButton:()=>vu,BulkUploadDrawer:()=>hd,BulkUploadProvider:()=>hv,Button:()=>tP,CalendarIcon:()=>s.m,Card:()=>fY,CheckIcon:()=>aK,CheckboxField:()=>a$,CheckboxInput:()=>aQ,ChevronIcon:()=>tl,ClientFunctionProvider:()=>v3,CloseMenuIcon:()=>fj,CodeBlockIcon:()=>vH,CodeEdiftor:()=>i.k,CodeEditorLazy:()=>oN,CodeField:()=>oP,Collapsible:()=>a9,CollapsibleField:()=>oR,Combobox:()=>vc,ConfigProvider:()=>i.a,ConfirmPasswordField:()=>hM,ConfirmationModal:()=>lh,CopyIcon:()=>tO,CopyLocaleData:()=>fX,CopyToClipboard:()=>pW,DateCell:()=>cK,DateCondition:()=>gm,DatePicker:()=>s.n,DateTimeField:()=>sG,DefaultBlockImage:()=>oh,DefaultBrowseByFolderView:()=>bX,DefaultCell:()=>c2,DefaultCollectionFolderView:()=>bH,DefaultEditView:()=>yh,DefaultListView:()=>b_,DeleteMany:()=>f4,DocumentControls:()=>mN,DocumentEventsProvider:()=>dX,DocumentFields:()=>d1,DocumentIcon:()=>vp,DocumentInfoProvider:()=>aA,DocumentLocked:()=>fh,DocumentTakeOver:()=>fu,DragHandleIcon:()=>a3,Drawer:()=>ls,DrawerContentContainer:()=>pn,DrawerToggler:()=>li,Dropzone:()=>dS,EditDepthProvider:()=>nr,EditIcon:()=>ta,EditMany:()=>mW,EditUpload:()=>pU,EmailAndUsernameFields:()=>bb,EmailField:()=>sQ,EntityVisibilityProvider:()=>bn,ErrorIcon:()=>vX,ErrorPill:()=>nt,ExternalLinkIcon:()=>md,FieldContext:()=>aM,FieldDescription:()=>nl,FieldDiffContainer:()=>yg,FieldDiffLabel:()=>yf,FieldError:()=>na,FieldLabel:()=>lR,FieldPathContext:()=>aF,File:()=>cY,FileDetails:()=>pX,FolderFileTable:()=>vk,FolderIcon:()=>d3,FolderProvider:()=>d6,FolderTypeField:()=>vd,Form:()=>dn,FormLoadingOverlayToggle:()=>cS,FormSubmit:()=>d7,FullscreenModal:()=>mY,GearIcon:()=>vK,GenerateConfirmation:()=>mG,GridViewIcon:()=>vG,GroupByHeader:()=>g5,GroupByPageControls:()=>vl,GroupField:()=>s2,Gutter:()=>ll,Hamburger:()=>fk,HiddenField:()=>s6,HydrateAuthProvider:()=>mX,InfoIcon:()=>v$,ItemCardGrid:()=>vL,JSONField:()=>uu,JoinField:()=>uc,LeaveWithoutSaving:()=>fi,LineIcon:()=>aY,Link:()=>te,LinkIcon:()=>to,ListControls:()=>gL,ListDrawerContextProvider:()=>s8,ListHeader:()=>g2,ListQueryProvider:()=>ca,ListSelection:()=>gq,ListViewIcon:()=>vQ,LivePreviewProvider:()=>v9,LivePreviewWindow:()=>yn,LoadingOverlay:()=>cC,LoadingOverlayToggle:()=>cj,LocaleProvider:()=>lE,Locked:()=>mc,LogOutIcon:()=>va,Logout:()=>vo,MenuIcon:()=>fS,MinimizeMaximizeIcon:()=>vW,Modal:()=>nH,MoreIcon:()=>tL,MoveDocToFolder:()=>pk,MoveDocToFolderButton:()=>pE,MoveFolderIcon:()=>vY,NavContext:()=>fT,NavGroup:()=>vi,NavProvider:()=>fL,NavToggler:()=>fF,NullifyLocaleField:()=>aZ,NumberCondition:()=>gg,NumberField:()=>ud,OperationProvider:()=>aL,OrderableTable:()=>h7,PageConfigProvider:()=>i.c,PageControls:()=>vt,PageControlsComponent:()=>ve,Pagination:()=>ul,ParamsProvider:()=>bo,PasswordField:()=>hU,PayloadIcon:()=>fI,PerPage:()=>g9,Pill:()=>ol,PillSelector:()=>cp,PlusIcon:()=>tr,PointField:()=>uh,Popup:()=>t_,PopupList:()=>ts,PreferencesProvider:()=>lj,PreviewButton:()=>mp,PreviewSizes:()=>p0,ProgressBar:()=>be,PublishButton:()=>my,PublishMany:()=>gF,QueryPresetsAccessCell:()=>fn,QueryPresetsColumnField:()=>fl,QueryPresetsColumnsCell:()=>fe,QueryPresetsWhereCell:()=>ft,QueryPresetsWhereField:()=>fo,RadioGroupField:()=>uv,ReactSelect:()=>sq,RelationshipCondition:()=>gC,RelationshipField:()=>uW,RelationshipInput:()=>uq,RelationshipProvider:()=>cM,RelationshipTable:()=>ur,RenderCustomComponent:()=>ed,RenderDefaultCell:()=>c8,RenderFields:()=>hR,RenderTitle:()=>vM,RichTextField:()=>uK,RootProvider:()=>bv,RouteCacheProvider:()=>d8,RouteTransitionProvider:()=>e6,RowField:()=>uY,RowLabel:()=>eU,RowLabelProvider:()=>eB,SaveButton:()=>mC,SaveDraftButton:()=>mj,ScrollInfoProvider:()=>bu,SearchFilter:()=>gp,SearchIcon:()=>of,SearchParamsProvider:()=>bf,SectionTitle:()=>ow,Select:()=>sq,SelectAll:()=>bx,SelectCondition:()=>gj,SelectField:()=>uX,SelectInput:()=>uG,SelectMany:()=>bj,SelectRow:()=>bC,SelectionProvider:()=>f1,ServerFunctionsContext:()=>co,ServerFunctionsProvider:()=>ci,SetDocumentStepNav:()=>yu,SetDocumentTitle:()=>yd,SetStepNav:()=>fU,ShimmerEffect:()=>i.e,SlugField:()=>vU,SortColumn:()=>vz,SortHeader:()=>h2,SortRow:()=>h5,StaggeredShimmers:()=>i.f,StickyToolbar:()=>vn,SuccessIcon:()=>vZ,SwapIcon:()=>ti,TabComponent:()=>da,Table:()=>mm,TableColumnsProvider:()=>cu,TabsField:()=>ds,TabsProvider:()=>sJ,TextCondition:()=>g_,TextField:()=>dg,TextInput:()=>dh,TextareaField:()=>db,TextareaInput:()=>dv,ThemeProvider:()=>i.h,Thumbnail:()=>cQ,TimezonePicker:()=>sK,Tooltip:()=>tk,Translation:()=>ps,TranslationProvider:()=>s.c,UIField:()=>dy,UnpublishMany:()=>gV,Upload:()=>p4,UploadEditsProvider:()=>ak,UploadField:()=>hD,UploadHandlersProvider:()=>u3,UploadInput:()=>hP,ViewDescription:()=>ff,WarningIcon:()=>vJ,WatchChildErrors:()=>oT,WatchCondition:()=>aU,WindowInfoProvider:()=>bd,XIcon:()=>s.a,allFieldComponents:()=>hH,defaultTheme:()=>i.g,documentDrawerBaseClass:()=>cT,fieldBaseClass:()=>aq,fieldComponents:()=>hV,fieldReducer:()=>de,formatDrawerSlug:()=>lr,formatTimeToNow:()=>ab,getHTMLDiffComponents:()=>mO,parseSearchParams:()=>s7,toast:()=>eZ,useActions:()=>fw,useAddClientFunction:()=>v2,useAllFormFields:()=>eI,useAuth:()=>lx,useBulkUpload:()=>hb,useBulkUploadDrawerSlug:()=>hy,useCellProps:()=>c4,useClickOutside:()=>mB,useClickOutsideContext:()=>mM,useClientFunctions:()=>v6,useCollapsible:()=>a4,useConfig:()=>i.b,useControllableState:()=>lI,useDebounce:()=>cO,useDebouncedCallback:()=>uk,useDebouncedEffect:()=>u0,useDelay:()=>i.d,useDelayedRender:()=>cm,useDocumentDrawer:()=>cL,useDocumentDrawerContext:()=>cP,useDocumentEvents:()=>d$,useDocumentForm:()=>eP,useDocumentInfo:()=>aD,useDocumentTitle:()=>aj,useDrawerSlug:()=>la,useEditDepth:()=>ni,useEffectEvent:()=>lg,useEntityVisibility:()=>bl,useField:()=>aB,useFieldPath:()=>aI,useFolder:()=>d5,useForm:()=>eE,useFormBackgroundProcessing:()=>eR,useFormFields:()=>eF,useFormInitializing:()=>eO,useFormModified:()=>eL,useFormProcessing:()=>eA,useFormSubmitted:()=>eT,useHotkey:()=>hY,useIntersect:()=>tw,useListDrawer:()=>uS,useListDrawerContext:()=>s9,useListQuery:()=>ct,useListRelationships:()=>cB,useLivePreviewContext:()=>f7,useLocale:()=>lD,useModal:()=>nN,useNav:()=>fA,useOperation:()=>aO,useParams:()=>br,usePayloadAPI:()=>h$,usePreferences:()=>lS,useResize:()=>hZ,useRouteCache:()=>d9,useRouteTransition:()=>e4,useRowLabel:()=>ez,useScrollInfo:()=>bs,useSearchParams:()=>bm,useSelection:()=>f3,useServerFunctions:()=>cr,useStepNav:()=>fM,useTableColumns:()=>cc,useTheme:()=>i.i,useThrottledEffect:()=>lF,useTranslation:()=>s.d,useUploadControls:()=>dC,useUploadEdits:()=>aN,useUploadHandlers:()=>u2,useUseTitleField:()=>hJ,useWatchForm:()=>eD,useWindowInfo:()=>bp,withCondition:()=>aV});var o=n(3391),r=n(47566),i=n(30207),s=n(18019),c=n(35669),u=n(93495),d=n(37415),p=n(42919),h=n(49464),f=n(89057),m=n(49639),g=n(1306),v=n(31641),b=n(38079),y=n(49150),x=n(3055),w=n(1754),C=n(89805),j=n(53590),S=n(74786),_=n(36610),k=n(34953),N=n(17870),E=n(91949),P=n(26859),D=n(36491),T=n(38651),A=n(47716),R=n(77363),L=n(93818),O=n(22574),F=n(19952),I=n(59588),M=n(1968),B=n(25505),z=n(28626),U=n(22659);n(52990);var V=n(67588),H=n(17615),q=n(45241),W=n(74686),K=n(60689),Y=n(73454),G=n(59870),Q=n(88199),X=n(13787),$=n(29033),Z=n(69538),J=n(9418).hp,ee=(0,c.c)(e=>{function t(e,t){var n=e.length;for(e.push(t);0<n;){var l=n-1>>>1,o=e[l];if(0<a(o,t))e[l]=t,e[n]=o,n=l;else break}}function n(e){return 0===e.length?null:e[0]}function l(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var l=0,o=e.length,r=o>>>1;l<r;){var i=2*(l+1)-1,s=e[i],c=i+1,u=e[c];if(0>a(s,n))c<o&&0>a(u,s)?(e[l]=u,e[c]=n,l=c):(e[l]=s,e[i]=n,l=i);else if(c<o&&0>a(u,n))e[l]=u,e[c]=n,l=c;else break}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now?(s=performance,e.unstable_now=function(){return s.now()}):(u=(c=Date).now(),e.unstable_now=function(){return c.now()-u});var o,r,i,s,c,u,d=[],p=[],h=1,f=null,m=3,g=!1,v=!1,b=!1,y="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,w="u">typeof setImmediate?setImmediate:null;function C(e){for(var a=n(p);null!==a;){if(null===a.callback)l(p);else if(a.startTime<=e)l(p),a.sortIndex=a.expirationTime,t(d,a);else break;a=n(p)}}function j(e){if(b=!1,C(e),!v)if(null!==n(d))v=!0,D();else{var t=n(p);null!==t&&T(j,t.startTime-e)}}var S=!1,_=-1,k=5,N=-1;function E(){return!(e.unstable_now()-N<k)}function P(){if(S){var t=e.unstable_now();N=t;var a=!0;try{e:{v=!1,b&&(b=!1,x(_),_=-1),g=!0;var r=m;try{t:{for(C(t),f=n(d);null!==f&&!(f.expirationTime>t&&E());){var i=f.callback;if("function"==typeof i){f.callback=null,m=f.priorityLevel;var s=i(f.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){f.callback=s,C(t),a=!0;break t}f===n(d)&&l(d),C(t)}else l(d);f=n(d)}if(null!==f)a=!0;else{var c=n(p);null!==c&&T(j,c.startTime-t),a=!1}}break e}finally{f=null,m=r,g=!1}}}finally{a?o():S=!1}}}function D(){S||(S=!0,o())}function T(t,n){_=y(function(){t(e.unstable_now())},n)}"function"==typeof w?o=function(){w(P)}:"u">typeof MessageChannel?(i=(r=new MessageChannel).port2,r.port1.onmessage=P,o=function(){i.postMessage(null)}):o=function(){y(P,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,D())},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},e.unstable_scheduleCallback=function(l,a,o){var r=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?r+o:r,l){case 1:var i=-1;break;case 2:i=250;break;case 5:i=0x3fffffff;break;case 4:i=1e4;break;default:i=5e3}return i=o+i,l={id:h++,callback:a,priorityLevel:l,startTime:o,expirationTime:i,sortIndex:-1},o>r?(l.sortIndex=o,t(p,l),null===n(d)&&l===n(p)&&(b?(x(_),_=-1):b=!0,T(j,o-r))):(l.sortIndex=i,t(d,l),v||g||(v=!0,D())),l},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}}),et=(0,c.c)((e,t)=>{t.exports=ee()}),en=(0,c.c)(e=>{var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,l=t?Symbol.for("react.portal"):60106,a=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,r=t?Symbol.for("react.profiler"):60114,i=t?Symbol.for("react.provider"):60109,s=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,f=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,y=t?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case a:case r:case o:case p:return e;default:switch(e=e&&e.$$typeof){case s:case d:case m:case f:case i:return e;default:return t}}case l:return t}}}function w(e){return x(e)===u}e.AsyncMode=c,e.ConcurrentMode=u,e.ContextConsumer=s,e.ContextProvider=i,e.Element=n,e.ForwardRef=d,e.Fragment=a,e.Lazy=m,e.Memo=f,e.Portal=l,e.Profiler=r,e.StrictMode=o,e.Suspense=p,e.isAsyncMode=function(e){return w(e)||x(e)===c},e.isConcurrentMode=w,e.isContextConsumer=function(e){return x(e)===s},e.isContextProvider=function(e){return x(e)===i},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return x(e)===d},e.isFragment=function(e){return x(e)===a},e.isLazy=function(e){return x(e)===m},e.isMemo=function(e){return x(e)===f},e.isPortal=function(e){return x(e)===l},e.isProfiler=function(e){return x(e)===r},e.isStrictMode=function(e){return x(e)===o},e.isSuspense=function(e){return x(e)===p},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===u||e===r||e===o||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===i||e.$$typeof===s||e.$$typeof===d||e.$$typeof===v||e.$$typeof===b||e.$$typeof===y||e.$$typeof===g)},e.typeOf=x}),el=(0,c.c)((e,t)=>{t.exports=en()}),ea=(0,c.c)((e,t)=>{var n=el(),l={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};function i(e){return n.isMemo(e)?o:r[e.$$typeof]||l}r[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r[n.Memo]=o;var s=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;t.exports=function e(t,n,l){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,l)}var r=c(n);u&&(r=r.concat(u(n)));for(var f=i(t),m=i(n),g=0;g<r.length;++g){var v=r[g];if(!a[v]&&!(l&&l[v])&&!(m&&m[v])&&!(f&&f[v])){var b=d(n,v);try{s(t,v,b)}catch(e){}}}}return t}}),eo=(0,c.c)((e,t)=>{var n=Math.floor(0xffffff*Math.random()),l=d.index=parseInt(0xffffff*Math.random(),10),a=(typeof Z>"u"||"number"!=typeof Z.pid?Math.floor(1e5*Math.random()):Z.pid)%65535,o=(()=>{try{return _Buffer}catch(e){try{return J}catch(e){return null}}})(),r=function(e){return!!(null!=e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))},i=[];for(s=0;s<256;s++)i[s]=(s<=15?"0":"")+s.toString(16);var s,c=RegExp("^[0-9a-fA-F]{24}$"),u=[];for(s=0;s<10;)u[48+s]=s++;for(;s<16;)u[55+s]=u[87+s]=s++;function d(e){if(!(this instanceof d))return new d(e);if(e&&(e instanceof d||"ObjectID"===e._bsontype))return e;if(this._bsontype="ObjectID",null==e||"number"==typeof e){this.id=this.generate(e);return}var t=d.isValid(e);if(!t&&null!=e)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(t&&"string"==typeof e&&24===e.length)return d.createFromHexString(e);if(null!=e&&12===e.length)this.id=e;else{if(null!=e&&"function"==typeof e.toHexString)return e;throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}t.exports=d,d.default=d,d.createFromTime=function(e){var t,n;return new d((t=8,(8===(n=(n=e=parseInt(e,10)%0xffffffff).toString(16)).length?n:"00000000".substring(n.length,t)+n)+"0000000000000000"))},d.createFromHexString=function(e){if(typeof e>"u"||null!=e&&24!==e.length)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var t="",n=0;n<24;)t+=String.fromCharCode(u[e.charCodeAt(n++)]<<4|u[e.charCodeAt(n++)]);return new d(t)},d.isValid=function(e){return null!=e&&("number"==typeof e||("string"==typeof e?12===e.length||24===e.length&&c.test(e):e instanceof d||(r(e)?d.isValid(e.toString("hex")):"function"==typeof e.toHexString&&!!o&&(e.id instanceof o||"string"==typeof e.id)&&(12===e.id.length||24===e.id.length&&c.test(e.id)))))},d.prototype={constructor:d,toHexString:function(){if(!this.id||!this.id.length)throw Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(24===this.id.length)return this.id;if(r(this.id))return this.id.toString("hex");for(var e="",t=0;t<this.id.length;t++)e+=i[this.id.charCodeAt(t)];return e},equals:function(e){return e instanceof d?this.toString()===e.toString():"string"==typeof e&&d.isValid(e)&&12===e.length&&r(this.id)?e===this.id.toString("binary"):"string"==typeof e&&d.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():"string"==typeof e&&d.isValid(e)&&12===e.length?e===this.id:null!=e&&(e instanceof d||!!e.toHexString)&&e.toHexString()===this.toHexString()},getTimestamp:function(){var e,t=new Date;return e=r(this.id)?this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(1e3*Math.floor(e)),t},generate:function(e){"number"!=typeof e&&(e=~~(Date.now()/1e3)),e=parseInt(e,10)%0xffffffff;var t=l=(l+1)%0xffffff;return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e,n>>16&255,n>>8&255,255&n,a>>8&255,255&a,t>>16&255,t>>8&255,255&t)}};var p=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";d.prototype[p]=function(){return"ObjectID("+this+")"},d.prototype.toJSON=d.prototype.toHexString,d.prototype.toString=d.prototype.toHexString}),er=(0,c.c)((e,t)=>{function n(e){return void 0===e}function l(e){return e===Object(e)}function a(e){return Array.isArray(e)}function o(e,t){return t?l(e)&&!n(e.uri):l(e)&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.slice}function r(e){return!n(e)&&e}t.exports={serialize:function e(t,i,s,c){i=i||{},s=s||new FormData,i.indices=r(i.indices),i.nullsAsUndefineds=r(i.nullsAsUndefineds),i.booleansAsIntegers=r(i.booleansAsIntegers),i.allowEmptyArrays=r(i.allowEmptyArrays),i.noAttributesWithArrayNotation=r(i.noAttributesWithArrayNotation),i.noFilesWithArrayNotation=r(i.noFilesWithArrayNotation),i.dotsForObjectNotation=r(i.dotsForObjectNotation);let u="function"==typeof s.getParts;return n(t)||(null===t?i.nullsAsUndefineds||s.append(c,""):"boolean"==typeof t?i.booleansAsIntegers?s.append(c,+!!t):s.append(c,t):a(t)?t.length?t.forEach((t,n)=>{var a;let r=c+"["+(i.indices?n:"")+"]";(i.noAttributesWithArrayNotation||i.noFilesWithArrayNotation&&o(a=t,u)&&"string"==typeof a.name&&(l(a.lastModifiedDate)||"number"==typeof a.lastModified))&&(r=c),e(t,i,s,r)}):i.allowEmptyArrays&&s.append(i.noAttributesWithArrayNotation?c:c+"[]",""):t instanceof Date?s.append(c,t.toISOString()):l(t)&&!o(t,u)?Object.keys(t).forEach(n=>{let l=t[n];if(a(l))for(;n.length>2&&n.lastIndexOf("[]")===n.length-2;)n=n.substring(0,n.length-2);let o=c?i.dotsForObjectNotation?c+"."+n:c+"["+n+"]":n;e(l,i,s,o)}):s.append(c,t)),s}}}),ei=(0,c.c)((e,t)=>{!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 0xff00ff&n.rotl(e,8)|0xff00ff00&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,l=0;n<e.length;n++,l+=8)t[l>>>5]|=e[n]<<24-l%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(t){for(var n=[],l=0;l<t.length;l+=3)for(var a=t[l]<<16|t[l+1]<<8|t[l+2],o=0;o<4;o++)8*l+6*o<=8*t.length?n.push(e.charAt(a>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],l=0,a=0;l<t.length;a=++l%4)0!=a&&n.push((e.indexOf(t.charAt(l-1))&Math.pow(2,-2*a+8)-1)<<2*a|e.indexOf(t.charAt(l))>>>6-2*a);return n}};t.exports=n}()}),es=(0,c.c)((e,t)=>{var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};t.exports=n}),ec=(0,c.c)((e,t)=>{function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){var t;return null!=e&&(n(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))||!!e._isBuffer)}}),eu=(0,c.c)((e,t)=>{!function(){var e=ei(),n=es().utf8,l=ec(),a=es().bin,o=function(t,r){t.constructor==String?t=r&&"binary"===r.encoding?a.stringToBytes(t):n.stringToBytes(t):l(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var i=e.bytesToWords(t),s=8*t.length,c=0x67452301,u=-0x10325477,d=-0x67452302,p=0x10325476,h=0;h<i.length;h++)i[h]=(i[h]<<8|i[h]>>>24)&0xff00ff|(i[h]<<24|i[h]>>>8)&0xff00ff00;i[s>>>5]|=128<<s%32,i[(s+64>>>9<<4)+14]=s;for(var f=o._ff,m=o._gg,g=o._hh,v=o._ii,h=0;h<i.length;h+=16){var b=c,y=u,x=d,w=p;c=f(c,u,d,p,i[h+0],7,-0x28955b88),p=f(p,c,u,d,i[h+1],12,-0x173848aa),d=f(d,p,c,u,i[h+2],17,0x242070db),u=f(u,d,p,c,i[h+3],22,-0x3e423112),c=f(c,u,d,p,i[h+4],7,-0xa83f051),p=f(p,c,u,d,i[h+5],12,0x4787c62a),d=f(d,p,c,u,i[h+6],17,-0x57cfb9ed),u=f(u,d,p,c,i[h+7],22,-0x2b96aff),c=f(c,u,d,p,i[h+8],7,0x698098d8),p=f(p,c,u,d,i[h+9],12,-0x74bb0851),d=f(d,p,c,u,i[h+10],17,-42063),u=f(u,d,p,c,i[h+11],22,-0x76a32842),c=f(c,u,d,p,i[h+12],7,0x6b901122),p=f(p,c,u,d,i[h+13],12,-0x2678e6d),d=f(d,p,c,u,i[h+14],17,-0x5986bc72),u=f(u,d,p,c,i[h+15],22,0x49b40821),c=m(c,u,d,p,i[h+1],5,-0x9e1da9e),p=m(p,c,u,d,i[h+6],9,-0x3fbf4cc0),d=m(d,p,c,u,i[h+11],14,0x265e5a51),u=m(u,d,p,c,i[h+0],20,-0x16493856),c=m(c,u,d,p,i[h+5],5,-0x29d0efa3),p=m(p,c,u,d,i[h+10],9,0x2441453),d=m(d,p,c,u,i[h+15],14,-0x275e197f),u=m(u,d,p,c,i[h+4],20,-0x182c0438),c=m(c,u,d,p,i[h+9],5,0x21e1cde6),p=m(p,c,u,d,i[h+14],9,-0x3cc8f82a),d=m(d,p,c,u,i[h+3],14,-0xb2af279),u=m(u,d,p,c,i[h+8],20,0x455a14ed),c=m(c,u,d,p,i[h+13],5,-0x561c16fb),p=m(p,c,u,d,i[h+2],9,-0x3105c08),d=m(d,p,c,u,i[h+7],14,0x676f02d9),u=m(u,d,p,c,i[h+12],20,-0x72d5b376),c=g(c,u,d,p,i[h+5],4,-378558),p=g(p,c,u,d,i[h+8],11,-0x788e097f),d=g(d,p,c,u,i[h+11],16,0x6d9d6122),u=g(u,d,p,c,i[h+14],23,-0x21ac7f4),c=g(c,u,d,p,i[h+1],4,-0x5b4115bc),p=g(p,c,u,d,i[h+4],11,0x4bdecfa9),d=g(d,p,c,u,i[h+7],16,-0x944b4a0),u=g(u,d,p,c,i[h+10],23,-0x41404390),c=g(c,u,d,p,i[h+13],4,0x289b7ec6),p=g(p,c,u,d,i[h+0],11,-0x155ed806),d=g(d,p,c,u,i[h+3],16,-0x2b10cf7b),u=g(u,d,p,c,i[h+6],23,0x4881d05),c=g(c,u,d,p,i[h+9],4,-0x262b2fc7),p=g(p,c,u,d,i[h+12],11,-0x1924661b),d=g(d,p,c,u,i[h+15],16,0x1fa27cf8),u=g(u,d,p,c,i[h+2],23,-0x3b53a99b),c=v(c,u,d,p,i[h+0],6,-0xbd6ddbc),p=v(p,c,u,d,i[h+7],10,0x432aff97),d=v(d,p,c,u,i[h+14],15,-0x546bdc59),u=v(u,d,p,c,i[h+5],21,-0x36c5fc7),c=v(c,u,d,p,i[h+12],6,0x655b59c3),p=v(p,c,u,d,i[h+3],10,-0x70f3336e),d=v(d,p,c,u,i[h+10],15,-1051523),u=v(u,d,p,c,i[h+1],21,-0x7a7ba22f),c=v(c,u,d,p,i[h+8],6,0x6fa87e4f),p=v(p,c,u,d,i[h+15],10,-0x1d31920),d=v(d,p,c,u,i[h+6],15,-0x5cfebcec),u=v(u,d,p,c,i[h+13],21,0x4e0811a1),c=v(c,u,d,p,i[h+4],6,-0x8ac817e),p=v(p,c,u,d,i[h+11],10,-0x42c50dcb),d=v(d,p,c,u,i[h+2],15,0x2ad7d2bb),u=v(u,d,p,c,i[h+9],21,-0x14792c6f),c=c+b>>>0,u=u+y>>>0,d=d+x>>>0,p=p+w>>>0}return e.endian([c,u,d,p])};o._ff=function(e,t,n,l,a,o,r){var i=e+(t&n|~t&l)+(a>>>0)+r;return(i<<o|i>>>32-o)+t},o._gg=function(e,t,n,l,a,o,r){var i=e+(t&l|n&~l)+(a>>>0)+r;return(i<<o|i>>>32-o)+t},o._hh=function(e,t,n,l,a,o,r){var i=e+(t^n^l)+(a>>>0)+r;return(i<<o|i>>>32-o)+t},o._ii=function(e,t,n,l,a,o,r){var i=e+(n^(t|~l))+(a>>>0)+r;return(i<<o|i>>>32-o)+t},o._blocksize=16,o._digestsize=16,t.exports=function(t,n){if(null==t)throw Error("Illegal argument "+t);var l=e.wordsToBytes(o(t,n));return n&&n.asBytes?l:n&&n.asString?a.bytesToString(l):e.bytesToHex(l)}}()});function ed(e){let{CustomComponent:t,Fallback:n}=e;return void 0!==t?t:n}var ep=(0,c.e)(et(),1),eh=Symbol(),ef=Symbol(),em=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?o.useEffect:o.useLayoutEffect,eg=ep.unstable_runWithPriority?e=>{try{(0,ep.unstable_runWithPriority)(ep.unstable_NormalPriority,e)}catch(t){if("Not implemented."===t.message)e();else throw t}}:e=>e(),ev=e=>e;function eb(e,t){let{v:{current:n},n:{current:l},l:a}=(0,o.useContext)(e)[eh],r=t(n),[i,s]=(0,o.useReducer)((e,a)=>{if(!a)return[n,r];if("p"in a)throw a.p;if(a.n===l)return Object.is(e[1],r)?e:[n,r];try{if("v"in a){if(Object.is(e[0],a.v))return e;let n=t(a.v);return Object.is(e[1],n)?e:[a.v,n]}}catch(e){}return[...e]},[n,r]);return Object.is(i[1],r)||s(),em(()=>(a.add(s),()=>{a.delete(s)}),[a]),i[1]}var ey=(0,o.createContext)({}),ex=(0,o.createContext)({}),ew=(0,o.createContext)({}),eC=(0,o.createContext)(!1),ej=(0,o.createContext)(!1),eS=(0,o.createContext)(!1),e_=(0,o.createContext)(!1),ek=(0,o.createContext)(!1),eN=function(e){let t,n=(0,o.createContext)({[eh]:{v:{current:e},n:{current:-1},l:new Set,u:e=>e()}});return n[ef]=n.Provider,t=n.Provider,n.Provider=e=>{let{value:n,children:l}=e,a=(0,o.useRef)(n),r=(0,o.useRef)(0),[i,s]=(0,o.useState)(null);i&&(i(n),s(null));let c=(0,o.useRef)();if(!c.current){let e=new Set;c.current={[eh]:{v:a,n:r,l:e,u:(t,n)=>{r.current+=1;let l={n:r.current};(null==n?void 0:n.suspense)&&(l.n*=-1,l.p=new Promise(e=>{s(()=>t=>{l.v=t,delete l.p,e(t)})})),e.forEach(e=>e(l)),t()}}}}return em(()=>{a.current=n,r.current+=1,eg(()=>{c.current[eh].l.forEach(e=>{e({n:r.current,v:n})})})},[n]),(0,o.createElement)(t,{value:c.current},l)},delete n.Consumer,n}([{},()=>null]),eE=()=>(0,o.use)(ey),eP=()=>(0,o.use)(ex),eD=()=>(0,o.use)(ew),eT=()=>(0,o.use)(eC),eA=()=>(0,o.use)(ej),eR=()=>(0,o.use)(eS),eL=()=>(0,o.use)(e_),eO=()=>(0,o.use)(ek),eF=e=>eb(eN,e),eI=()=>eb(eN,ev),eM=o.createContext({data:{},path:"",rowNumber:void 0}),eB=e=>{let{children:t,path:n,rowNumber:l}=e,{getDataByPath:a,getSiblingData:r}=eD(),i=r(n),s=a(n)||i,c=o.useMemo(()=>({data:s,path:n,rowNumber:l}),[s,n,l]);return(0,u.jsx)(eM,{value:c,children:t})},ez=()=>o.use(eM),eU=e=>{let{className:t,CustomComponent:n,label:l,path:a,rowNumber:o}=e;return(0,u.jsx)(eB,{path:a,rowNumber:o,children:(0,u.jsx)(ed,{CustomComponent:n,Fallback:"string"==typeof l?(0,u.jsx)("span",{className:["row-label",t].filter(Boolean).join(" "),style:{pointerEvents:"none"},children:l}):l})})},eV=Array(12).fill(0),eH=e=>{let{visible:t,className:n}=e;return o.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},o.createElement("div",{className:"sonner-spinner"},eV.map((e,t)=>o.createElement("div",{className:"sonner-loading-bar",key:"spinner-bar-".concat(t)}))))},eq=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eW=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eK=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),eY=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),eG=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},o.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),eQ=1,eX=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...l}=e,a="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:eQ++,o=this.toasts.find(e=>e.id===a),r=void 0===e.dismissible||e.dismissible;return o?this.toasts=this.toasts.map(t=>t.id===a?(this.publish({...t,...e,id:a,title:n}),{...t,...e,id:a,dismissible:r,title:n}):t):this.addToast({title:n,...l,dismissible:r,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{let n;if(!t)return;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let l=e instanceof Promise?e:e(),a=void 0!==n,r,i=l.then(async e=>{if(r=["resolve",e],o.isValidElement(e))a=!1,this.create({id:n,type:"default",message:e});else if(e$(e)&&!e.ok){a=!1;let l="function"==typeof t.error?await t.error("HTTP error! status: ".concat(e.status)):t.error,o="function"==typeof t.description?await t.description("HTTP error! status: ".concat(e.status)):t.description;this.create({id:n,type:"error",message:l,description:o})}else if(void 0!==t.success){a=!1;let l="function"==typeof t.success?await t.success(e):t.success,o="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"success",message:l,description:o})}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){a=!1;let l="function"==typeof t.error?await t.error(e):t.error,o="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"error",message:l,description:o})}}).finally(()=>{var e;a&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)}),s=()=>new Promise((e,t)=>i.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:s}:Object.assign(n,{unwrap:s})},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||eQ++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},e$=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,eZ=Object.assign((e,t)=>{let n=(null==t?void 0:t.id)||eQ++;return eX.addToast({title:e,...t,id:n}),n},{success:eX.success,info:eX.info,warning:eX.warning,error:eX.error,custom:eX.custom,message:eX.message,promise:eX.promise,dismiss:eX.dismiss,loading:eX.loading},{getHistory:()=>eX.toasts});function eJ(e){return void 0!==e.label}function e0(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}!function(e){let{insertAt:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===t&&n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var e1=e=>{var t,n,l,a,r,i,s,c,u,d,p;let{invert:h,toast:f,unstyled:m,interacting:g,setHeights:v,visibleToasts:b,heights:y,index:x,toasts:w,expanded:C,removeToast:j,defaultRichColors:S,closeButton:_,style:k,cancelButtonStyle:N,actionButtonStyle:E,className:P="",descriptionClassName:D="",duration:T,position:A,gap:R,loadingIcon:L,expandByDefault:O,classNames:F,icons:I,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:B}=e,[z,U]=o.useState(null),[V,H]=o.useState(null),[q,W]=o.useState(!1),[K,Y]=o.useState(!1),[G,Q]=o.useState(!1),[X,$]=o.useState(!1),[Z,J]=o.useState(!1),[ee,et]=o.useState(0),[en,el]=o.useState(0),ea=o.useRef(f.duration||T||4e3),eo=o.useRef(null),er=o.useRef(null),ei=0===x,es=x+1<=b,ec=f.type,eu=!1!==f.dismissible,ed=f.className||"",ep=f.descriptionClassName||"",eh=o.useMemo(()=>y.findIndex(e=>e.toastId===f.id)||0,[y,f.id]),ef=o.useMemo(()=>{var e;return null!=(e=f.closeButton)?e:_},[f.closeButton,_]),em=o.useMemo(()=>f.duration||T||4e3,[f.duration,T]),eg=o.useRef(0),ev=o.useRef(0),eb=o.useRef(0),ey=o.useRef(null),[ex,ew]=A.split("-"),eC=o.useMemo(()=>y.reduce((e,t,n)=>n>=eh?e:e+t.height,0),[y,eh]),ej=(()=>{let[e,t]=o.useState(document.hidden);return o.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),eS=f.invert||h,e_="loading"===ec;ev.current=o.useMemo(()=>eh*R+eC,[eh,eC]),o.useEffect(()=>{ea.current=em},[em]),o.useEffect(()=>{W(!0)},[]),o.useEffect(()=>{let e=er.current;if(e){let t=e.getBoundingClientRect().height;return el(t),v(e=>[{toastId:f.id,height:t,position:f.position},...e]),()=>v(e=>e.filter(e=>e.toastId!==f.id))}},[v,f.id]),o.useLayoutEffect(()=>{if(!q)return;let e=er.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,el(n),v(e=>e.find(e=>e.toastId===f.id)?e.map(e=>e.toastId===f.id?{...e,height:n}:e):[{toastId:f.id,height:n,position:f.position},...e])},[q,f.title,f.description,v,f.id]);let ek=o.useCallback(()=>{Y(!0),et(ev.current),v(e=>e.filter(e=>e.toastId!==f.id)),setTimeout(()=>{j(f)},200)},[f,j,v,ev]);return o.useEffect(()=>{let e;if((!f.promise||"loading"!==ec)&&f.duration!==1/0&&"loading"!==f.type)return C||g||B&&ej?(()=>{if(eb.current<eg.current){let e=new Date().getTime()-eg.current;ea.current=ea.current-e}eb.current=new Date().getTime()})():ea.current!==1/0&&(eg.current=new Date().getTime(),e=setTimeout(()=>{var e;null==(e=f.onAutoClose)||e.call(f,f),ek()},ea.current)),()=>clearTimeout(e)},[C,g,f,ec,B,ej,ek]),o.useEffect(()=>{f.delete&&ek()},[ek,f.delete]),o.createElement("li",{tabIndex:0,ref:er,className:e0(P,ed,null==F?void 0:F.toast,null==(t=null==f?void 0:f.classNames)?void 0:t.toast,null==F?void 0:F.default,null==F?void 0:F[ec],null==(n=null==f?void 0:f.classNames)?void 0:n[ec]),"data-sonner-toast":"","data-rich-colors":null!=(l=f.richColors)?l:S,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":q,"data-promise":!!f.promise,"data-swiped":Z,"data-removed":K,"data-visible":es,"data-y-position":ex,"data-x-position":ew,"data-index":x,"data-front":ei,"data-swiping":G,"data-dismissible":eu,"data-type":ec,"data-invert":eS,"data-swipe-out":X,"data-swipe-direction":V,"data-expanded":!!(C||O&&q),style:{"--index":x,"--toasts-before":x,"--z-index":w.length-x,"--offset":"".concat(K?ee:ev.current,"px"),"--initial-height":O?"auto":"".concat(en,"px"),...k,...f.style},onPointerDown:e=>{e_||!eu||(eo.current=new Date,et(ev.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(Q(!0),ey.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,l;if(X||!eu)return;ey.current=null;let a=Number((null==(e=er.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),o=Number((null==(t=er.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),r=new Date().getTime()-(null==(n=eo.current)?void 0:n.getTime()),i="x"===z?a:o,s=Math.abs(i)/r;if(Math.abs(i)>=20||s>.11){et(ev.current),null==(l=f.onDismiss)||l.call(f,f),H("x"===z?a>0?"right":"left":o>0?"down":"up"),ek(),$(!0),J(!1);return}Q(!1),U(null)},onPointerMove:t=>{var n,l,a,o;if(!ey.current||!eu||(null==(n=window.getSelection())?void 0:n.toString().length)>0)return;let r=t.clientY-ey.current.y,i=t.clientX-ey.current.x,s=null!=(l=e.swipeDirections)?l:function(e){let[t,n]=e.split("-"),l=[];return t&&l.push(t),n&&l.push(n),l}(A);!z&&(Math.abs(i)>1||Math.abs(r)>1)&&U(Math.abs(i)>Math.abs(r)?"x":"y");let c={x:0,y:0};"y"===z?(s.includes("top")||s.includes("bottom"))&&(s.includes("top")&&r<0||s.includes("bottom")&&r>0)&&(c.y=r):"x"===z&&(s.includes("left")||s.includes("right"))&&(s.includes("left")&&i<0||s.includes("right")&&i>0)&&(c.x=i),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&J(!0),null==(a=er.current)||a.style.setProperty("--swipe-amount-x","".concat(c.x,"px")),null==(o=er.current)||o.style.setProperty("--swipe-amount-y","".concat(c.y,"px"))}},ef&&!f.jsx?o.createElement("button",{"aria-label":M,"data-disabled":e_,"data-close-button":!0,onClick:e_||!eu?()=>{}:()=>{var e;ek(),null==(e=f.onDismiss)||e.call(f,f)},className:e0(null==F?void 0:F.closeButton,null==(a=null==f?void 0:f.classNames)?void 0:a.closeButton)},null!=(r=null==I?void 0:I.close)?r:eG):null,f.jsx||(0,o.isValidElement)(f.title)?f.jsx?f.jsx:"function"==typeof f.title?f.title():f.title:o.createElement(o.Fragment,null,ec||f.icon||f.promise?o.createElement("div",{"data-icon":"",className:e0(null==F?void 0:F.icon,null==(i=null==f?void 0:f.classNames)?void 0:i.icon)},f.promise||"loading"===f.type&&!f.icon?f.icon||function(){var e,t,n;return null!=I&&I.loading?o.createElement("div",{className:e0(null==F?void 0:F.loader,null==(e=null==f?void 0:f.classNames)?void 0:e.loader,"sonner-loader"),"data-visible":"loading"===ec},I.loading):L?o.createElement("div",{className:e0(null==F?void 0:F.loader,null==(t=null==f?void 0:f.classNames)?void 0:t.loader,"sonner-loader"),"data-visible":"loading"===ec},L):o.createElement(eH,{className:e0(null==F?void 0:F.loader,null==(n=null==f?void 0:f.classNames)?void 0:n.loader),visible:"loading"===ec})}():null,"loading"!==f.type?f.icon||(null==I?void 0:I[ec])||(e=>{switch(e){case"success":return eq;case"info":return eK;case"warning":return eW;case"error":return eY;default:return null}})(ec):null):null,o.createElement("div",{"data-content":"",className:e0(null==F?void 0:F.content,null==(s=null==f?void 0:f.classNames)?void 0:s.content)},o.createElement("div",{"data-title":"",className:e0(null==F?void 0:F.title,null==(c=null==f?void 0:f.classNames)?void 0:c.title)},"function"==typeof f.title?f.title():f.title),f.description?o.createElement("div",{"data-description":"",className:e0(D,ep,null==F?void 0:F.description,null==(u=null==f?void 0:f.classNames)?void 0:u.description)},"function"==typeof f.description?f.description():f.description):null),(0,o.isValidElement)(f.cancel)?f.cancel:f.cancel&&eJ(f.cancel)?o.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||N,onClick:e=>{var t,n;eJ(f.cancel)&&eu&&(null==(n=(t=f.cancel).onClick)||n.call(t,e),ek())},className:e0(null==F?void 0:F.cancelButton,null==(d=null==f?void 0:f.classNames)?void 0:d.cancelButton)},f.cancel.label):null,(0,o.isValidElement)(f.action)?f.action:f.action&&eJ(f.action)?o.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||E,onClick:e=>{var t,n;eJ(f.action)&&(null==(n=(t=f.action).onClick)||n.call(t,e),e.defaultPrevented||ek())},className:e0(null==F?void 0:F.actionButton,null==(p=null==f?void 0:f.classNames)?void 0:p.actionButton)},f.action.label):null))};function e3(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var e2=(0,o.forwardRef)(function(e,t){let{invert:n,position:l="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:s,className:c,offset:u,mobileOffset:d,theme:p="light",richColors:h,duration:f,style:m,visibleToasts:g=3,toastOptions:v,dir:b=e3(),gap:y=14,loadingIcon:x,icons:w,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:j}=e,[S,_]=o.useState([]),k=o.useMemo(()=>Array.from(new Set([l].concat(S.filter(e=>e.position).map(e=>e.position)))),[S,l]),[N,E]=o.useState([]),[P,D]=o.useState(!1),[T,A]=o.useState(!1),[R,L]=o.useState("system"!==p?p:"u">typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=o.useRef(null),F=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=o.useRef(null),M=o.useRef(!1),B=o.useCallback(e=>{_(t=>{var n;return null!=(n=t.find(t=>t.id===e.id))&&n.delete||eX.dismiss(e.id),t.filter(t=>{let{id:n}=t;return n!==e.id})})},[]);return o.useEffect(()=>eX.subscribe(e=>{if(e.dismiss)return void _(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t));setTimeout(()=>{r.flushSync(()=>{_(t=>{let n=t.findIndex(t=>t.id===e.id);return -1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]})})})}),[]),o.useEffect(()=>{if("system"!==p)return void L(p);if("system"===p&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",e=>{let{matches:t}=e;L(t?"dark":"light")})}catch(t){e.addListener(e=>{let{matches:t}=e;try{L(t?"dark":"light")}catch(e){console.error(e)}})}},[p]),o.useEffect(()=>{S.length<=1&&D(!1)},[S]),o.useEffect(()=>{let e=e=>{var t,n;a.every(t=>e[t]||e.code===t)&&(D(!0),null==(t=O.current)||t.focus()),"Escape"===e.code&&(document.activeElement===O.current||null!=(n=O.current)&&n.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),o.useEffect(()=>{if(O.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,M.current=!1)}},[O.current]),o.createElement("section",{ref:t,"aria-label":"".concat(C," ").concat(F),tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((t,l)=>{var a;let r,[p,C]=t.split("-");return S.length?o.createElement("ol",{key:t,dir:"auto"===b?e3():b,tabIndex:-1,ref:O,className:c,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":p,"data-lifted":P&&S.length>1&&!i,"data-x-position":C,style:{"--front-toast-height":"".concat((null==(a=N[0])?void 0:a.height)||0,"px"),"--width":"".concat(356,"px"),"--gap":"".concat(y,"px"),...m,...(r={},[u,d].forEach((e,t)=>{let n=1===t,l=n?"--mobile-offset":"--offset",a=n?"16px":"32px";function o(e){["top","right","bottom","left"].forEach(t=>{r["".concat(l,"-").concat(t)]="number"==typeof e?"".concat(e,"px"):e})}"number"==typeof e||"string"==typeof e?o(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?r["".concat(l,"-").concat(t)]=a:r["".concat(l,"-").concat(t)]="number"==typeof e[t]?"".concat(e[t],"px"):e[t]}):o(a)}),r)},onBlur:e=>{M.current&&!e.currentTarget.contains(e.relatedTarget)&&(M.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||M.current||(M.current=!0,I.current=e.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{T||D(!1)},onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||A(!0)},onPointerUp:()=>A(!1)},S.filter(e=>!e.position&&0===l||e.position===t).map((l,a)=>{var r,c;return o.createElement(e1,{key:l.id,icons:w,index:a,toast:l,defaultRichColors:h,duration:null!=(r=null==v?void 0:v.duration)?r:f,className:null==v?void 0:v.className,descriptionClassName:null==v?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:null!=(c=null==v?void 0:v.closeButton)?c:s,interacting:T,position:t,style:null==v?void 0:v.style,unstyled:null==v?void 0:v.unstyled,classNames:null==v?void 0:v.classNames,cancelButtonStyle:null==v?void 0:v.cancelButtonStyle,actionButtonStyle:null==v?void 0:v.actionButtonStyle,removeToast:B,toasts:S.filter(e=>e.position==l.position),heights:N.filter(e=>e.position==l.position),setHeights:E,expandByDefault:i,gap:y,loadingIcon:x,expanded:P,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))}),e6=e=>{let t,n=(0,f.c)(11),{children:l}=e,[a,r]=(0,o.useOptimistic)(!1),[i,s]=o.useState(0),c=(0,o.useRef)(i),d=(0,o.useRef)(null),p;n[0]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{d.current=setInterval(()=>{let e=c.current+(.93-c.current)*Math.random()*.2*Math.pow(Math.log(1+(1-c.current)*.75),.75);s(e),c.current=e},250)},n[0]=p):p=n[0];let h=p,m,g;n[1]!==a?(m=()=>{s(0),c.current=0,a?h():d.current&&clearInterval(d.current)},g=[a,h],n[1]=a,n[2]=m,n[3]=g):(m=n[2],g=n[3]),(0,o.useEffect)(m,g),n[4]!==r?(t=e=>{(0,o.startTransition)(()=>{r(!0),"function"==typeof e&&e()})},n[4]=r,n[5]=t):t=n[5];let v=t,b;return n[6]!==l||n[7]!==a||n[8]!==v||n[9]!==i?(b=(0,u.jsx)(e5,{value:{isTransitioning:a,startRouteTransition:v,transitionProgress:i},children:l}),n[6]=l,n[7]=a,n[8]=v,n[9]=i,n[10]=b):b=n[10],b},e5=o.createContext({isTransitioning:!1,startRouteTransition:()=>{},transitionProgress:0}),e4=()=>o.use(e5),e8=/https?|ftp|gopher|file/;function e9(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}var e7="default"in p?p.default:p,te=e=>{let{children:t,href:n,onClick:l,preventDefault:a=!0,ref:o,replace:r,scroll:i,...s}=e,c=(0,h.useRouter)(),{startRouteTransition:d}=e4();return(0,u.jsx)(e7,{href:n,onClick:e=>{(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which})(e)||(l&&l(e),a&&e.preventDefault(),d(()=>{let e="string"==typeof n?n:function(e){var t;let n,{auth:l}=e,{hostname:a}=e,o=e.protocol||"",r=e.pathname||"",i=e.hash||"",s=e.query||"",c=!1;l=l?encodeURIComponent(l).replace(/%3A/i,":")+"@":"",e.host?c=l+e.host:a&&(c=l+(~a.indexOf(":")?"[".concat(a,"]"):a),e.port&&(c+=":"+e.port)),s&&"object"==typeof s&&(s=String((t=s,n=new URLSearchParams,Object.entries(t).forEach(e=>{let[t,l]=e;Array.isArray(l)?l.forEach(e=>n.append(t,e9(e))):n.set(t,e9(l))}),n)));let u=e.search||s&&"?".concat(s)||"";return o&&!o.endsWith(":")&&(o+=":"),e.slashes||(!o||e8.test(o))&&!1!==c?(c="//"+(c||""),r&&"/"!==r[0]&&(r="/"+r)):c||(c=""),i&&"#"!==i[0]&&(i="#"+i),u&&"?"!==u[0]&&(u="?"+u),r=r.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),"".concat(o).concat(c).concat(r).concat(u).concat(i)}(n);r?c.replace(e,{scroll:i}):c.push(e,{scroll:i})}))},ref:o,...s,children:t})},tt="banner",tn=e=>{let{type:t="default",alignIcon:n="right",children:l,className:a,icon:r,onClick:i,to:s}=e,c=[tt,"".concat(tt,"--type-").concat(t),a&&a,s&&"".concat(tt,"--has-link"),(s||i)&&"".concat(tt,"--has-action"),r&&"".concat(tt,"--has-icon"),r&&"".concat(tt,"--align-icon-").concat(n)].filter(Boolean).join(" "),d="div";return i&&!s&&(d="button"),s&&(d=te),(0,u.jsxs)(d,{className:c,href:s||null,onClick:i,children:[r&&"left"===n&&(0,u.jsx)(o.Fragment,{children:r}),(0,u.jsx)("span",{className:"".concat(tt,"__content"),children:l}),r&&"right"===n&&(0,u.jsx)(o.Fragment,{children:r})]})},tl=e=>{let{ariaLabel:t,className:n,direction:l,size:a}=e;return(0,u.jsx)("svg",{"aria-label":t,className:["icon icon--chevron",n,a&&"icon--size-".concat(a)].filter(Boolean).join(" "),height:"100%",style:{transform:"left"===l?"rotate(90deg)":"right"===l?"rotate(-90deg)":"up"===l?"rotate(180deg)":void 0},viewBox:"0 0 20 20",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 8L10 12L6 8",strokeLinecap:"square"})})},ta=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:[t,"icon icon--edit"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M9.68531 4.62938H5.2634C4.92833 4.62938 4.60698 4.76248 4.37004 4.99942C4.13311 5.23635 4 5.5577 4 5.89278V14.7366C4 15.0717 4.13311 15.393 4.37004 15.63C4.60698 15.8669 4.92833 16 5.2634 16H14.1072C14.4423 16 14.7636 15.8669 15.0006 15.63C15.2375 15.393 15.3706 15.0717 15.3706 14.7366V10.3147M13.7124 4.39249C13.9637 4.14118 14.3046 4 14.66 4C15.0154 4 15.3562 4.14118 15.6075 4.39249C15.8588 4.6438 16 4.98464 16 5.34004C16 5.69544 15.8588 6.03629 15.6075 6.28759L9.91399 11.9817C9.76399 12.1316 9.57868 12.2413 9.37515 12.3008L7.56027 12.8314C7.50591 12.8472 7.44829 12.8482 7.39344 12.8341C7.33859 12.8201 7.28853 12.7915 7.24849 12.7515C7.20845 12.7115 7.17991 12.6614 7.16586 12.6066C7.15181 12.5517 7.15276 12.4941 7.16861 12.4397L7.69924 10.6249C7.75896 10.4215 7.86888 10.2364 8.01888 10.0866L13.7124 4.39249Z",strokeLinecap:"square"})})},to=()=>(0,u.jsx)("svg",{"aria-hidden":"true",className:"graphic link icon icon--link",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M7.99999 13.3333H6.66666C5.78261 13.3333 4.93476 12.9821 4.30964 12.357C3.68452 11.7319 3.33333 10.884 3.33333 9.99999C3.33333 9.11593 3.68452 8.26809 4.30964 7.64297C4.93476 7.01785 5.78261 6.66666 6.66666 6.66666H7.99999M12 6.66666H13.3333C14.2174 6.66666 15.0652 7.01785 15.6904 7.64297C16.3155 8.26809 16.6667 9.11593 16.6667 9.99999C16.6667 10.884 16.3155 11.7319 15.6904 12.357C15.0652 12.9821 14.2174 13.3333 13.3333 13.3333H12M7.33333 9.99999H12.6667",strokeLinecap:"square"})}),tr=()=>(0,u.jsx)("svg",{className:"icon icon--plus",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M5.33333 9.99998H14.6667M9.99999 5.33331V14.6666",strokeLinecap:"square"})}),ti=()=>(0,u.jsx)("svg",{className:"icon icon--swap",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M7.33334 4L4.66667 6.66667M4.66667 6.66667L7.33334 9.33333M4.66667 6.66667H15.3333M12.6667 16L15.3333 13.3333M15.3333 13.3333L12.6667 10.6667M15.3333 13.3333H4.66667",strokeLinecap:"square"})}),ts={};(0,c.d)(ts,{Button:()=>th,ButtonGroup:()=>tp,Divider:()=>tc,GroupLabel:()=>tu});var tc=()=>(0,u.jsx)("hr",{className:"popup-divider"}),tu=e=>{let{label:t}=e;return(0,u.jsx)("p",{className:"popup-list-group-label",children:t})},td="popup-button-list",tp=e=>{let{buttonSize:t="default",children:n,className:l,textAlign:a="left"}=e,o=[td,l,"".concat(td,"__text-align--").concat(a),"".concat(td,"__button-size--").concat(t)].filter(Boolean).join(" ");return(0,u.jsx)("div",{className:o,children:n})},th=e=>{let{id:t,active:n,children:l,className:a,disabled:o,href:r,onClick:i}=e,s=["".concat(td,"__button"),o&&"".concat(td,"__disabled"),n&&"".concat(td,"__button--selected"),a].filter(Boolean).join(" ");if(!o){if(r)return(0,u.jsx)(te,{className:s,href:r,id:t,onClick:e=>{i&&i(e)},prefetch:!1,children:l});if(i)return(0,u.jsx)("button",{className:s,id:t,onClick:e=>{i&&i(e)},type:"button",children:l})}return(0,u.jsx)("div",{className:s,id:t,children:l})},tf={};(0,c.d)(tf,{WindowInfo:()=>tv,WindowInfoContext:()=>tm,WindowInfoProvider:()=>ty,useWindowInfo:()=>tg,withWindowInfo:()=>tx});var tm=(0,o.createContext)({}),tg=()=>(0,o.useContext)(tm),tv=e=>{let{children:t}=e,n=tg();return t?"function"==typeof t?o.createElement(o.Fragment,null,t(n)):o.createElement(o.Fragment,null,t):null},tb=(e,t)=>{let{payload:{breakpoints:n,animationRef:l}}=t;l.current=null;let{eventsFired:a}=e,{documentElement:{style:o,clientWidth:r,clientHeight:i}}=document,{innerWidth:s,innerHeight:c}=window,u="".concat(r/100,"px"),d="".concat(i/100,"px"),p=n?Object.keys(n).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:window.matchMedia(n[t]).matches}),{}):{};return o.setProperty("--vw",u),o.setProperty("--vh",d),{width:s,height:c,"--vw":u,"--vh":d,breakpoints:p,eventsFired:a+1}},ty=e=>{let{breakpoints:t,children:n}=e,l=(0,o.useRef)(null),[a,r]=(0,o.useReducer)(tb,{width:void 0,height:void 0,"--vw":"","--vh":"",breakpoints:{},eventsFired:0}),i=(0,o.useCallback)(()=>{l.current&&cancelAnimationFrame(l.current),l.current=requestAnimationFrame(()=>r({type:"UPDATE",payload:{breakpoints:t,animationRef:l}}))},[t]),s=(0,o.useCallback)(()=>{setTimeout(()=>{i()},500)},[i]);return(0,o.useEffect)(()=>(window.addEventListener("resize",i),window.addEventListener("orientationchange",s),()=>{window.removeEventListener("resize",i),window.removeEventListener("orientationchange",s)}),[i,s]),(0,o.useEffect)(()=>{0===a.eventsFired&&r({type:"UPDATE",payload:{breakpoints:t,animationRef:l}})},[t,a]),o.createElement(tm.Provider,{value:Object.assign({},a)},n&&n)},tx=e=>t=>{let n=tg();return o.createElement(e,Object.assign({},t,{windowInfo:n}))},tw=(e,t)=>{let n,l=(0,f.c)(8),{root:a,rootMargin:r,threshold:i}=void 0===e?{}:e,[s,c]=(0,o.useState)(),[u,d]=(0,o.useState)(null),p=(0,o.useRef)("u">typeof window&&"IntersectionObserver"in window&&!t?new window.IntersectionObserver(e=>{let[t]=e;return c(t)},{root:void 0===a?null:a,rootMargin:void 0===r?"0px":r,threshold:void 0===i?0:i}):null),h,m;return l[0]!==t||l[1]!==u?(h=()=>{if(t)return;let{current:e}=p;return e.disconnect(),u&&e.observe(u),()=>e.disconnect()},m=[u,t],l[0]=t,l[1]=u,l[2]=h,l[3]=m):(h=l[2],m=l[3]),(0,o.useEffect)(h,m),l[4]!==s||l[5]!==u||l[6]!==d?(n=[d,s,u],l[4]=s,l[5]=u,l[6]=d,l[7]=n):n=l[7],n},tC="popup-button",tj=e=>{let t,n,l=(0,f.c)(24),{active:a,button:o,buttonType:r,className:i,disabled:s,noBackground:c,setActive:d,size:p}=e,h="".concat(tC,"--").concat(r),m=!c&&"".concat(tC,"--background"),g=p&&"".concat(tC,"--size-").concat(p),v=s&&"".concat(tC,"--disabled"),b;l[0]!==i||l[1]!==h||l[2]!==m||l[3]!==g||l[4]!==v?(b=[tC,i,h,m,g,v].filter(Boolean),l[0]=i,l[1]=h,l[2]=m,l[3]=g,l[4]=v,l[5]=b):b=l[5];let y=b.join(" "),x;l[6]!==a||l[7]!==d?(x=()=>{d(!a)},l[6]=a,l[7]=d,l[8]=x):x=l[8];let w=x;if("none"===r)return null;if("custom"===r){let e,t;return l[9]!==w?(e=e=>{"Enter"===e.key&&w()},l[9]=w,l[10]=e):e=l[10],l[11]!==o||l[12]!==y||l[13]!==w||l[14]!==e?(t=(0,u.jsx)("div",{className:y,onClick:w,onKeyDown:e,role:"button",tabIndex:0,children:o}),l[11]=o,l[12]=y,l[13]=w,l[14]=e,l[15]=t):t=l[15],t}return l[16]!==w?(t=e=>{"Enter"===e.key&&w()},l[16]=w,l[17]=t):t=l[17],l[18]!==o||l[19]!==y||l[20]!==s||l[21]!==w||l[22]!==t?(n=(0,u.jsx)("button",{className:y,disabled:s,onClick:w,onKeyDown:t,tabIndex:0,type:"button",children:o}),l[18]=o,l[19]=y,l[20]=s,l[21]=w,l[22]=t,l[23]=n):n=l[23],n},tS="popup",t_=e=>{let{id:t,boundingRef:n,button:l,buttonClassName:a,buttonSize:r,buttonType:i="default",caret:s=!0,children:c,className:d,disabled:p,forceOpen:h,horizontalAlign:f="left",initActive:m=!1,noBackground:g,onToggleClose:v,onToggleOpen:b,render:y,showOnHover:x=!1,showScrollbar:w=!1,size:C="medium",verticalAlign:j="top"}=e,{height:S,width:_}=tg(),[k,N]=tw({root:(null==n?void 0:n.current)||null,rootMargin:"-100px 0px 0px 0px",threshold:1}),E=(0,o.useRef)(null),P=(0,o.useRef)(null),[D,T]=(0,o.useState)(m),[A,R]=(0,o.useState)(j),[L,O]=(0,o.useState)(f),F=o.useCallback(e=>{e&&"function"==typeof b&&b(!0),e||"function"!=typeof v||v(),T(e)},[v,b]),I=(0,o.useCallback)(e=>{let{horizontal:t=!1,vertical:l=!1}=e;if(E.current){let{bottom:e,left:a,right:o,top:r}=E.current.getBoundingClientRect(),i=100,s=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=0;(null==n?void 0:n.current)&&({bottom:c,left:u,right:s,top:i}=n.current.getBoundingClientRect()),t&&(o>s&&a>u?O("right"):a<u&&o<s&&O("left")),l&&(r<i&&e<c?R("bottom"):e>c&&r>i&&R("top"))}},[n]),M=(0,o.useCallback)(e=>{E.current.contains(e.target)||P.current.contains(e.target)||F(!1)},[E,F]);(0,o.useEffect)(()=>{I({horizontal:!0})},[N,I,_]),(0,o.useEffect)(()=>{I({vertical:!0})},[N,I,S]),(0,o.useEffect)(()=>(D?document.addEventListener("mousedown",M):document.removeEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}),[D,M,b]),(0,o.useEffect)(()=>{F(h)},[h,F]);let B=[tS,d,"".concat(tS,"--size-").concat(C),r&&"".concat(tS,"--button-size-").concat(r),"".concat(tS,"--v-align-").concat(A),"".concat(tS,"--h-align-").concat(L),D&&"".concat(tS,"--active"),w&&"".concat(tS,"--show-scrollbar")].filter(Boolean).join(" ");return(0,u.jsxs)("div",{className:B,id:t,children:[(0,u.jsx)("div",{className:"".concat(tS,"__trigger-wrap"),ref:P,children:x?(0,u.jsx)("div",{className:"".concat(tS,"__on-hover-watch"),onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),role:"button",tabIndex:0,children:(0,u.jsx)(tj,{active:D,button:l,buttonType:i,className:a,disabled:p,noBackground:g,setActive:F,size:r})}):(0,u.jsx)(tj,{active:D,button:l,buttonType:i,className:a,disabled:p,noBackground:g,setActive:F,size:r})}),(0,u.jsxs)("div",{className:"".concat(tS,"__content"),ref:E,children:[(0,u.jsx)("div",{className:"".concat(tS,"__hide-scrollbar"),ref:k,children:(0,u.jsx)("div",{className:"".concat(tS,"__scroll-container"),children:(0,u.jsxs)("div",{className:"".concat(tS,"__scroll-content"),children:[y&&y({close:()=>F(!1)}),c]})})}),s&&(0,u.jsx)("div",{className:"".concat(tS,"__caret")})]})]})},tk=e=>{let{alignCaret:t="center",boundingRef:n,children:l,className:a,delay:r=350,position:i,show:s=!0,staticPositioning:c=!1}=e,[d,p]=o.useState(s),[h,f]=o.useState("top"),[m,g]=tw({root:(null==n?void 0:n.current)||null,rootMargin:"-145px 0px 0px 100px",threshold:0},c);return(0,o.useEffect)(()=>{let e;return r&&s?e=setTimeout(()=>{p(s)},r):p(s),()=>{e&&clearTimeout(e)}},[s,r]),(0,o.useEffect)(()=>{c||f((null==g?void 0:g.isIntersecting)?"top":"bottom")},[g,c]),(0,u.jsxs)(o.Fragment,{children:[!c&&(0,u.jsx)("aside",{"aria-hidden":"true",className:["tooltip",a,"tooltip--caret-".concat(t),"tooltip--position-top"].filter(Boolean).join(" "),ref:m,style:{opacity:"0"},children:(0,u.jsx)("div",{className:"tooltip-content",children:l})}),(0,u.jsx)("aside",{className:["tooltip",a,d&&"tooltip--show","tooltip--caret-".concat(t),"tooltip--position-".concat(i||h)].filter(Boolean).join(" "),title:(e=>"string"==typeof e?e:"")(l),children:(0,u.jsx)("div",{className:"tooltip-content",children:l})})]})},tN={chevron:tl,edit:ta,link:to,plus:tr,swap:ti,x:s.a},tE=e=>{let{children:t,icon:n,showTooltip:l,tooltip:a}=e,r=tN[n];return(0,u.jsxs)(o.Fragment,{children:[a&&(0,u.jsx)(tk,{className:"".concat("btn","__tooltip"),show:l,children:a}),(0,u.jsxs)("span",{className:"".concat("btn","__content"),children:[t&&(0,u.jsx)("span",{className:"".concat("btn","__label"),children:t}),n&&(0,u.jsxs)("span",{className:"".concat("btn","__icon"),children:[(0,o.isValidElement)(n)&&n,r&&(0,u.jsx)(r,{})]})]})]})},tP=e=>{let{id:t,type:n="button","aria-label":l,buttonStyle:a="primary",children:r,className:i,disabled:s,el:c="button",enableSubMenu:d,extraButtonProps:p={},icon:h,iconPosition:f="right",iconStyle:m="without-border",margin:g=!0,newTab:v,onClick:b,onMouseDown:y,ref:x,round:w,size:C="medium",SubMenuPopupContent:j,to:S,tooltip:_,url:k}=e,[N,E]=o.useState(!1),P=["btn",i&&i,h&&"".concat("btn","--icon"),m&&"".concat("btn","--icon-style-").concat(m),h&&!r&&"".concat("btn","--icon-only"),C&&"".concat("btn","--size-").concat(C),h&&f&&"".concat("btn","--icon-position-").concat(f),_&&"".concat("btn","--has-tooltip"),!j&&"".concat("btn","--withoutPopup"),!g&&"".concat("btn","--no-margin")].filter(Boolean).join(" "),D=[a&&"".concat("btn","--style-").concat(a),s&&"".concat("btn","--disabled"),w&&"".concat("btn","--round"),j?"".concat("btn","--withPopup"):"".concat("btn","--withoutPopup")].filter(Boolean).join(" "),T={id:t,type:n,"aria-disabled":s,"aria-label":l,className:j?P:[P,D].join(" "),disabled:s,onClick:s?void 0:function(e){E(!1),"submit"!==n&&b&&e.preventDefault(),b&&b(e)},onMouseDown:s?void 0:y,onPointerEnter:_?()=>E(!0):void 0,onPointerLeave:_?()=>E(!1):void 0,rel:v?"noopener noreferrer":void 0,target:v?"_blank":void 0,title:l,...p},A;switch(c){case"anchor":A=(0,u.jsx)("a",{...T,href:s?void 0:k,ref:x,children:(0,u.jsx)(tE,{icon:h,showTooltip:N,tooltip:_,children:r})});break;case"link":s&&(A=(0,u.jsx)("div",{...T,children:(0,u.jsx)(tE,{icon:h,showTooltip:N,tooltip:_,children:r})})),A=(0,u.jsx)(te,{...T,href:S||k,prefetch:!1,children:(0,u.jsx)(tE,{icon:h,showTooltip:N,tooltip:_,children:r})});break;default:A=(0,u.jsx)(c,{ref:x,...T,children:(0,u.jsx)(tE,{icon:h,showTooltip:N,tooltip:_,children:r})})}return j?(0,u.jsxs)("div",{className:D,children:[A,(0,u.jsx)(t_,{button:(0,u.jsx)(tl,{}),buttonSize:C,className:s&&!d?"".concat("btn","--popup-disabled"):"",disabled:s&&!d,horizontalAlign:"right",id:"".concat(t,"-popup"),noBackground:!0,render:e=>{let{close:t}=e;return j({close:()=>t()})},size:"large",verticalAlign:"bottom"})]}):A};function tD(e){let{fieldsFromClipboard:t,fieldsFromConfig:n}=e;return!!n&&t.length===(null==n?void 0:n.length)&&t.every((e,t)=>{let l=n[t];if(e.type!==l.type||(0,m.Z7)(e)&&(0,m.Z7)(l)&&e.name!==l.name)return!1;let a=(0,m.sd)(l),o=(0,m.sd)(e);return o===a&&(!o||!a||tD({fieldsFromClipboard:e.fields,fieldsFromConfig:l.fields}))})}var tT="_payloadClipboard";function tA(e){let{getDataToCopy:t,t:n,...l}=e,a={data:t(),...l};try{return localStorage.setItem(tT,JSON.stringify(a)),!0}catch(e){return n("error:unableToCopy")}}function tR(e){let t,{onPaste:n,path:l,t:a,...o}=e;try{let e=localStorage.getItem(tT);if(!e)return a("error:invalidClipboardData");t=JSON.parse(e)}catch(e){return a("error:invalidClipboardData")}return!function(e){let{data:t,path:n,...l}=e;return!(typeof t>"u")&&!!n&&!!l.type&&("blocks"===l.type?function(e){let{blocksFromClipboard:t,blocksFromConfig:n}=e,l=new Map(null==n?void 0:n.map(e=>[e.slug,e]));if(!l.size)return!1;let a=new Set;for(let e of t){let t=e.slug;if(!a.has(t)){let n=l.get(t);if(!n||!tD({fieldsFromClipboard:e.fields,fieldsFromConfig:n.fields}))return!1;a.add(t)}}return!0}({blocksFromClipboard:l.blocks,blocksFromConfig:l.schemaBlocks}):tD({fieldsFromClipboard:l.fields,fieldsFromConfig:l.schemaFields}))}({...t,...o,fieldPath:l})?a("error:invalidClipboardData"):(n(t),!0)}var tL=e=>{let{className:t}=e;return(0,u.jsxs)("svg",{className:["icon icon--more",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{className:"fill",d:"M10 10.6666C10.3682 10.6666 10.6667 10.3682 10.6667 9.99998C10.6667 9.63179 10.3682 9.33331 10 9.33331C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998C9.33334 10.3682 9.63182 10.6666 10 10.6666Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M14.6667 10.6666C15.0349 10.6666 15.3333 10.3682 15.3333 9.99998C15.3333 9.63179 15.0349 9.33331 14.6667 9.33331C14.2985 9.33331 14 9.63179 14 9.99998C14 10.3682 14.2985 10.6666 14.6667 10.6666Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M5.33334 10.6666C5.70153 10.6666 6.00001 10.3682 6.00001 9.99998C6.00001 9.63179 5.70153 9.33331 5.33334 9.33331C4.96515 9.33331 4.66667 9.63179 4.66667 9.99998C4.66667 10.3682 4.96515 10.6666 5.33334 10.6666Z",strokeLinecap:"square"})]})},tO=()=>(0,u.jsx)("svg",{className:"icon icon--copy",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M4.66666 12.6667C3.93333 12.6667 3.33333 12.0667 3.33333 11.3333V4.66668C3.33333 3.93334 3.93333 3.33334 4.66666 3.33334H11.3333C12.0667 3.33334 12.6667 3.93334 12.6667 4.66668M8.66666 7.33334H15.3333C16.0697 7.33334 16.6667 7.9303 16.6667 8.66668V15.3333C16.6667 16.0697 16.0697 16.6667 15.3333 16.6667H8.66666C7.93028 16.6667 7.33333 16.0697 7.33333 15.3333V8.66668C7.33333 7.9303 7.93028 7.33334 8.66666 7.33334Z",strokeLinecap:"square"})}),tF=e=>{let t=(0,f.c)(4),{isPaste:n,isRow:l}=e,{t:a}=(0,s.d)(),r;if(t[0]!==n||t[1]!==l||t[2]!==a){let e=a("general:copyField");!l&&n?e=a("general:pasteField"):l&&!n?e=a("general:copyRow"):l&&n&&(e=a("general:pasteRow")),r=(0,u.jsxs)(o.Fragment,{children:[n?(0,u.jsx)(ta,{}):(0,u.jsx)(tO,{})," ",e]}),t[0]=n,t[1]=l,t[2]=a,t[3]=r}else r=t[3];return r},tI=e=>{let{allowCopy:t,allowPaste:n,className:l,copyClassName:a,disabled:r,isRow:i,onPaste:c,pasteClassName:d,path:p,...h}=e,{t:f}=(0,s.d)(),m=["".concat("clipboard-action","__popup"),l].filter(Boolean).join(" "),g=(0,o.useCallback)(()=>{let e=tA({path:p,t:f,...h});"string"==typeof e?eZ.error(e):eZ.success(f("general:copied"))},[f,h,p]),v=(0,o.useCallback)(()=>{let e=tR("array"===h.type?{onPaste:c,path:p,schemaFields:h.fields,t:f}:{onPaste:c,path:p,schemaBlocks:h.blocks,t:f});"string"==typeof e&&eZ.error(e)},[c,h,p,f]);return n||t?(0,u.jsx)(t_,{button:(0,u.jsx)(tL,{}),className:m,disabled:r,horizontalAlign:"center",render:e=>{let{close:l}=e;return(0,u.jsxs)(ts.ButtonGroup,{children:[(0,u.jsx)(ts.Button,{className:a,disabled:!t,onClick:()=>{g(),l()},children:(0,u.jsx)(tF,{isRow:i})}),(0,u.jsx)(ts.Button,{className:d,disabled:!n,onClick:()=>{v(),l()},children:(0,u.jsx)(tF,{isPaste:!0,isRow:i})})]})},size:"large",verticalAlign:"bottom"}):null};function tM(e){let{formState:t,path:n,rowIndex:l}=e,a={},o="number"!=typeof l?n:"".concat(n,".").concat(l);for(let e in t){if(!e.startsWith(o))continue;let{customComponents:n,validate:l,...r}=t[e];Array.isArray(r.rows)&&(r.rows=r.rows.map(e=>{if(!e||"object"!=typeof e)return e;let{customComponents:t,...n}=e;return n})),a[e]=r}return a}function tB(e){var t,n,l;let a,{dataFromClipboard:o,formState:r,path:i,rowIndex:s}=e,{type:c,data:u,path:d,rowIndex:p}=o,h="number"!=typeof p,f="number"!=typeof s,m=!h&&f,g="array"===c,v;if(v=h&&f?d:h?"".concat(d,".").concat(s):"".concat(d,".").concat(p),a=f?m?"".concat(i,".0"):i:"".concat(i,".").concat(s),m){let e="".concat(i,".0"),n=u["".concat(v,".id")].value,l=null==(t=r[i].rows)?void 0:t.length;for(let t in r[i].rows=[{...l&&g?r[i].rows[0]:{},id:n,isLoading:!1,lastRenderedPath:e}],r[i].value=1,r[i].initialValue=1,r[i].disableFormData=!0,r)t!==i&&!t.startsWith(e)&&t.startsWith(i)&&delete r[t]}for(let e in u){if(!f&&e.endsWith(".id")||!e.startsWith(v))continue;let t=e.replace(v,a),o=g?null==(n=r[t])?void 0:n.customComponents:void 0,i=g?null==(l=r[t])?void 0:l.validate:void 0;r[t]={customComponents:o,validate:i,...u[e]}}return r}function tz(e){var t,n;let l;return e?"[object Window]"===(l=Object.prototype.toString.call(e))||"[object global]"===l?e:"nodeType"in e&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}var tU="u">typeof window&&"u">typeof window.document&&"u">typeof window.document.createElement?o.useLayoutEffect:o.useEffect,tV={},tH=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];return n.reduce((e,t)=>{for(let[n,l]of Object.entries(t)){let t=e[n];null!=t&&(e[n]=t+-1*l)}return e},{...e})},tq=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[tq.Translate.toString(e),tq.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:l}=e;return t+" "+n+"ms "+l}}});function tW(e,t,n){let l=e.slice();return l.splice(n<0?l.length+n:n,0,l.splice(t,1)[0]),l}function tK(e){return null!==e&&e>=0}var tY=e=>{let{rects:t,activeIndex:n,overIndex:l,index:a}=e,o=tW(t,l,n),r=t[a],i=o[a];return i&&r?{x:i.left-r.left,y:i.top-r.top,scaleX:i.width/r.width,scaleY:i.height/r.height}:null},tG="Sortable",tQ=o.createContext({activeIndex:-1,containerId:tG,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:tY,disabled:{draggable:!1,droppable:!1}});function tX(e){let{children:t,id:n,items:l,strategy:a=tY,disabled:r=!1}=e,{active:i,dragOverlay:s,droppableRects:c,over:u,measureDroppableContainers:d}=(0,g.fF)(),p=(0,o.useMemo)(()=>{if(n)return n;let e=null==tV[tG]?0:tV[tG]+1;return tV[tG]=e,tG+"-"+e},[tG,n]),h=null!==s.rect,f=(0,o.useMemo)(()=>l.map(e=>"object"==typeof e&&"id"in e?e.id:e),[l]),m=null!=i,v=i?f.indexOf(i.id):-1,b=u?f.indexOf(u.id):-1,y=(0,o.useRef)(f),x=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(f,y.current),w=-1!==b&&-1===v||x,C="boolean"==typeof r?{draggable:r,droppable:r}:r;tU(()=>{x&&m&&d(f)},[x,f,m,d]),(0,o.useEffect)(()=>{y.current=f},[f]);let j=(0,o.useMemo)(()=>({activeIndex:v,containerId:p,disabled:C,disableTransforms:w,items:f,overIndex:b,useDragOverlay:h,sortedRects:f.reduce((e,t,n)=>{let l=c.get(t);return l&&(e[n]=l),e},Array(f.length)),strategy:a}),[v,p,C.draggable,C.droppable,w,f,b,c,h,a]);return o.createElement(tQ.Provider,{value:j},t)}var t$=e=>{let{id:t,items:n,activeIndex:l,overIndex:a}=e;return tW(n,l,a).indexOf(t)},tZ=e=>{let{containerId:t,isSorting:n,wasDragging:l,index:a,items:o,newIndex:r,previousItems:i,previousContainerId:s,transition:c}=e;return!!c&&!!l&&(i===o||a!==r)&&(!!n||r!==a&&t===s)},tJ={duration:200,easing:"ease"},t0="transform",t1=tq.Transition.toString({property:t0,duration:0,easing:"linear"}),t3={roleDescription:"sortable"};function t2(e){if(!e)return!1;let t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}var t6=[g.vL.Down,g.vL.Right,g.vL.Up,g.vL.Left],t5=(e,t)=>{let{context:{active:n,collisionRect:l,droppableRects:a,droppableContainers:o,over:r,scrollableAncestors:i}}=t;if(t6.includes(e.code)){if(e.preventDefault(),!n||!l)return;let t=[];o.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;let o=a.get(n.id);if(o)switch(e.code){case g.vL.Down:l.top<o.top&&t.push(n);break;case g.vL.Up:l.top>o.top&&t.push(n);break;case g.vL.Left:l.left>o.left&&t.push(n);break;case g.vL.Right:l.left<o.left&&t.push(n)}});let s=(0,g.y$)({active:n,collisionRect:l,droppableRects:a,droppableContainers:t,pointerCoordinates:null}),c=(0,g.Vy)(s,"id");if(c===(null==r?void 0:r.id)&&s.length>1&&(c=s[1].id),null!=c){let e=o.get(n.id),t=o.get(c),r=t?a.get(t.id):null,s=null==t?void 0:t.node.current;if(s&&r&&e&&t){let n=(0,g.sl)(s).some((e,t)=>i[t]!==e),a=t4(e,t),o=function(e,t){return!!t2(e)&&!!t2(t)&&!!t4(e,t)&&e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=n||!a?{x:0,y:0}:{x:o?l.width-r.width:0,y:o?l.height-r.height:0},u={x:r.left,y:r.top};return c.x&&c.y?u:tH(u,c)}}}};function t4(e,t){return!!t2(e)&&!!t2(t)&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}var t8=e=>{let t,n,l=(0,f.c)(17),{id:a,disabled:r}=e,i;l[0]===Symbol.for("react.memo_cache_sentinel")?(i={duration:250,easing:"cubic-bezier(0, 0.2, 0.2, 1)"},l[0]=i):i=l[0],l[1]!==r||l[2]!==a?(t={id:a,disabled:r,transition:i},l[1]=r,l[2]=a,l[3]=t):t=l[3];let{attributes:s,isDragging:c,listeners:u,setNodeRef:d,transform:p,transition:h}=function(e){var t,n,l,a;let{animateLayoutChanges:r=tZ,attributes:i,disabled:s,data:c,getNewIndex:u=t$,id:d,strategy:p,resizeObserverConfig:h,transition:f=tJ}=e,{items:m,containerId:v,activeIndex:b,disabled:y,disableTransforms:x,sortedRects:w,overIndex:C,useDragOverlay:j,strategy:S}=(0,o.useContext)(tQ),_=(t=s,n=y,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(l=null==t?void 0:t.draggable)?l:n.draggable,droppable:null!=(a=null==t?void 0:t.droppable)?a:n.droppable}),k=m.indexOf(d),N=(0,o.useMemo)(()=>({sortable:{containerId:v,index:k,items:m},...c}),[v,c,k,m]),E=(0,o.useMemo)(()=>m.slice(m.indexOf(d)),[m,d]),{rect:P,node:D,isOver:T,setNodeRef:A}=(0,g.zM)({id:d,data:N,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...h}}),{active:R,activatorEvent:L,activeNodeRect:O,attributes:F,setNodeRef:I,listeners:M,isDragging:B,over:z,setActivatorNodeRef:U,transform:V}=(0,g.PM)({id:d,data:N,attributes:{...t3,...i},disabled:_.draggable}),H=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(A,I),q=!!R,W=q&&!x&&tK(b)&&tK(C),K=!j&&B,Y=K&&W?V:null,G=W?null!=Y?Y:(null!=p?p:S)({rects:w,activeNodeRect:O,activeIndex:b,overIndex:C,index:k}):null,Q=tK(b)&&tK(C)?u({id:d,items:m,activeIndex:b,overIndex:C}):k,X=null==R?void 0:R.id,$=(0,o.useRef)({activeId:X,items:m,newIndex:Q,containerId:v}),Z=m!==$.current.items,J=r({active:R,containerId:v,isDragging:B,isSorting:q,id:d,index:k,items:m,newIndex:$.current.newIndex,previousItems:$.current.items,previousContainerId:$.current.containerId,transition:f,wasDragging:null!=$.current.activeId}),ee=function(e){let{disabled:t,index:n,node:l,rect:a}=e,[r,i]=(0,o.useState)(null),s=(0,o.useRef)(n);return tU(()=>{if(!t&&n!==s.current&&l.current){let e=a.current;if(e){let t=(0,g.Sj)(l.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&i(n)}}n!==s.current&&(s.current=n)},[t,n,l,a]),(0,o.useEffect)(()=>{r&&i(null)},[r]),r}({disabled:!J,index:k,node:D,rect:P});return(0,o.useEffect)(()=>{q&&$.current.newIndex!==Q&&($.current.newIndex=Q),v!==$.current.containerId&&($.current.containerId=v),m!==$.current.items&&($.current.items=m)},[q,Q,v,m]),(0,o.useEffect)(()=>{if(X===$.current.activeId)return;if(X&&!$.current.activeId){$.current.activeId=X;return}let e=setTimeout(()=>{$.current.activeId=X},50);return()=>clearTimeout(e)},[X]),{active:R,activeIndex:b,attributes:F,data:N,rect:P,index:k,newIndex:Q,items:m,isOver:T,isSorting:q,isDragging:B,listeners:M,node:D,overIndex:C,over:z,setNodeRef:H,setActivatorNodeRef:U,setDroppableNodeRef:A,setDraggableNodeRef:I,transform:null!=ee?ee:G,transition:ee||Z&&$.current.newIndex===k?t1:!(K&&!function(e){if(!e)return!1;let{KeyboardEvent:t}=tz(e.target);return t&&e instanceof t}(L)||!f)&&(q||J)?tq.Transition.toString({...f,property:t0}):void 0}}(t),m=c?"grabbing":"grab",v;l[4]!==m||l[5]!==h?(v={cursor:m,transition:h},l[4]=m,l[5]=h,l[6]=v):v=l[6],l[7]!==s||l[8]!==v?(n={...s,style:v},l[7]=s,l[8]=v,l[9]=n):n=l[9];let b=p&&"translate3d(".concat(p.x,"px, ").concat(p.y,"px, 0)"),y;return l[10]!==c||l[11]!==u||l[12]!==d||l[13]!==n||l[14]!==b||l[15]!==h?(y={attributes:n,isDragging:c,listeners:u,setNodeRef:d,transform:b,transition:h},l[10]=c,l[11]=u,l[12]=d,l[13]=n,l[14]=b,l[15]=h,l[16]=y):y=l[16],y},t9=e=>{let t=(0,f.c)(12),{id:n,children:l,disabled:a}=e,r;t[0]!==a||t[1]!==n?(r={id:n,disabled:a},t[0]=a,t[1]=n,t[2]=r):r=t[2];let{attributes:i,isDragging:s,listeners:c,setNodeRef:d,transform:p,transition:h}=t8(r),m=s?"grabbing":"grab",g;return t[3]!==i||t[4]!==l||t[5]!==s||t[6]!==c||t[7]!==d||t[8]!==m||t[9]!==p||t[10]!==h?(g=(0,u.jsx)(o.Fragment,{children:l({attributes:{...i,style:{cursor:m}},isDragging:s,listeners:c,setNodeRef:d,transform:p,transition:h})}),t[3]=i,t[4]=l,t[5]=s,t[6]=c,t[7]=d,t[8]=m,t[9]=p,t[10]=h,t[11]=g):g=t[11],g},t7=e=>{let t,n=(0,f.c)(18),{children:l,className:a,ids:r,onDragEnd:i,onDragStart:s}=e,c=(0,o.useId)(),d;n[0]!==c?(d={id:c},n[0]=c,n[1]=d):d=n[1];let{setNodeRef:p}=(0,g.zM)(d),h;n[2]===Symbol.for("react.memo_cache_sentinel")?(h={activationConstraint:{distance:5}},n[2]=h):h=n[2],n[3]===Symbol.for("react.memo_cache_sentinel")?(t={coordinateGetter:t5},n[3]=t):t=n[3];let m=(0,g.FR)((0,g.MS)(g.AN,h),(0,g.MS)(g.uN,t)),v;n[4]!==r||n[5]!==i?(v=e=>{let{active:t,over:n}=e;e.activatorEvent.stopPropagation(),t&&n&&"function"==typeof i&&i({event:e,moveFromIndex:r.findIndex(e=>e===t.id),moveToIndex:r.findIndex(e=>e===n.id)})},n[4]=r,n[5]=i,n[6]=v):v=n[6];let b=v,y;n[7]!==s?(y=e=>{let{active:t}=e;t&&"function"==typeof s&&s({id:t.id,event:e})},n[7]=s,n[8]=y):y=n[8];let x=y,w;return n[9]!==l||n[10]!==a||n[11]!==b||n[12]!==x||n[13]!==c||n[14]!==r||n[15]!==m||n[16]!==p?(w=(0,u.jsx)(g.Mp,{collisionDetection:g.fp,id:c,onDragEnd:b,onDragStart:x,sensors:m,children:(0,u.jsx)(tX,{items:r,children:(0,u.jsx)("div",{className:a,ref:p,children:l})})}),n[9]=l,n[10]=a,n[11]=b,n[12]=x,n[13]=c,n[14]=r,n[15]=m,n[16]=p,n[17]=w):w=n[17],w},ne="error-pill",nt=e=>{let{className:t,count:n,i18n:l,withMessage:a}=e,o=[ne,!a&&n<99&&"".concat(ne,"--fixed-width"),t&&t].filter(Boolean).join(" ");return 0===n?null:(0,u.jsx)("div",{className:o,children:(0,u.jsxs)("div",{className:"".concat(ne,"__content"),children:[(0,u.jsx)("span",{className:"".concat(ne,"__count"),children:n}),a&&" ".concat(n>1?l.t("general:errors"):l.t("general:error"))]})})},nn="field-description",nl=e=>{let t=(0,f.c)(8),{className:n,description:l,marginPlacement:a,path:o}=e,{i18n:r}=(0,s.d)();if(l){let e="field-description-".concat(null==o?void 0:o.replace(/\./g,"__")),i=a&&"".concat(nn,"--margin-").concat(a),s;t[0]!==n||t[1]!==e||t[2]!==i?(s=[nn,n,e,i].filter(Boolean),t[0]=n,t[1]=e,t[2]=i,t[3]=s):s=t[3];let c=s.join(" "),p;return t[4]!==l||t[5]!==r||t[6]!==c?(p=(0,u.jsx)("div",{className:c,children:(0,d.s)(l,r)}),t[4]=l,t[5]=r,t[6]=c,t[7]=p):p=t[7],p}return null},na=e=>{let t=(0,f.c)(8),{alignCaret:n,message:l,path:a,showError:o}=e,r=void 0===n?"right":n,i=eT(),s;t[0]!==a?(s=e=>{let[t]=e;return t&&(null==t?void 0:t[a])||null},t[0]=a,t[1]=s):s=t[1];let c=eF(s),d;if(t[2]!==r||t[3]!==c||t[4]!==i||t[5]!==l||t[6]!==o){d=Symbol.for("react.early_return_sentinel");e:{let{errorMessage:e,valid:t}=c||{},n=l||e;if((o||i&&!1===t)&&(null==n?void 0:n.length)){d=(0,u.jsx)(tk,{alignCaret:r,className:"field-error",delay:0,staticPositioning:!0,children:n});break e}}t[2]=r,t[3]=c,t[4]=i,t[5]=l,t[6]=o,t[7]=d}else d=t[7];return d!==Symbol.for("react.early_return_sentinel")?d:null},no=(0,o.createContext)(0),nr=e=>{let t=(0,f.c)(3),{children:n}=e,l=ni()+1,a;return t[0]!==n||t[1]!==l?(a=(0,u.jsx)(no,{value:l,children:n}),t[0]=n,t[1]=l,t[2]=a):a=t[2],a},ni=()=>(0,o.use)(no),ns=(e,t)=>(null==e?void 0:e.locales)&&0!==e.locales.length?e.locales.find(e=>(null==e?void 0:e.code)===t):null;function nc(){return(nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}function nu(e,t){if(null==e)return{};var n={};for(var l in e)if(({}).hasOwnProperty.call(e,l)){if(t.includes(l))continue;n[l]=e[l]}return n}function nd(e,t){return(nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function np(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,nd(e,t)}function nh(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var nf={disabled:!1},nm=o.createContext(null),ng=function(e){return e.scrollTop},nv="unmounted",nb="exited",ny="entering",nx="entered",nw="exiting",nC=function(e){function t(t,n){var l,a=e.call(this,t,n)||this,o=n&&!n.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?o?(l=nb,a.appearStatus=ny):l=nx:l=t.unmountOnExit||t.mountOnEnter?nv:nb,a.state={status:l},a.nextCallback=null,a}np(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===nv?{status:nb}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ny&&n!==nx&&(t=ny):(n===ny||n===nx)&&(t=nw)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,l=this.props.timeout;return e=t=n=l,null!=l&&"number"!=typeof l&&(e=l.exit,t=l.enter,n=void 0!==l.appear?l.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===ny){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this);n&&ng(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===nb&&this.setState({status:nv})},n.performEnter=function(e){var t=this,n=this.props.enter,l=this.context?this.context.isMounting:e,a=this.props.nodeRef?[l]:[r.findDOMNode(this),l],o=a[0],i=a[1],s=this.getTimeouts(),c=l?s.appear:s.enter;if(!e&&!n||nf.disabled)return void this.safeSetState({status:nx},function(){t.props.onEntered(o)});this.props.onEnter(o,i),this.safeSetState({status:ny},function(){t.props.onEntering(o,i),t.onTransitionEnd(c,function(){t.safeSetState({status:nx},function(){t.props.onEntered(o,i)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),l=this.props.nodeRef?void 0:r.findDOMNode(this);if(!t||nf.disabled)return void this.safeSetState({status:nb},function(){e.props.onExited(l)});this.props.onExit(l),this.safeSetState({status:nw},function(){e.props.onExiting(l),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:nb},function(){e.props.onExited(l)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(l){n&&(n=!1,t.nextCallback=null,e(l))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),l=null==e&&!this.props.addEndListener;if(!n||l)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],i=a[1];this.props.addEndListener(o,i)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===nv)return null;var t=this.props,n=t.children,l=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,nu(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(nm.Provider,{value:null},"function"==typeof n?n(e,l):o.cloneElement(o.Children.only(n),l))},t}(o.Component);function nj(){}nC.contextType=nm,nC.propTypes={},nC.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:nj,onEntering:nj,onEntered:nj,onExit:nj,onExiting:nj,onExited:nj},nC.UNMOUNTED=nv,nC.EXITED=nb,nC.ENTERING=ny,nC.ENTERED=nx,nC.EXITING=nw;var nS=function(e,t){return e&&t&&t.split(" ").forEach(function(t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=nh(e.className,t):e.setAttribute("class",nh(e.className&&e.className.baseVal||"",t))})},n_=function(e){function t(){for(var t,n=arguments.length,l=Array(n),a=0;a<n;a++)l[a]=arguments[a];return(t=e.call.apply(e,[this].concat(l))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var l=t.resolveArguments(e,n),a=l[0],o=l[1];t.removeClasses(a,"exit"),t.addClass(a,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var l=t.resolveArguments(e,n),a=l[0],o=l[1];t.addClass(a,o?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var l=t.resolveArguments(e,n),a=l[0],o=l[1]?"appear":"enter";t.removeClasses(a,o),t.addClass(a,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,l="string"==typeof n,a=l&&n?n+"-":"",o=l?""+a+e:n[e],r=l?o+"-active":n[e+"Active"],i=l?o+"-done":n[e+"Done"];return{baseClassName:o,activeClassName:r,doneClassName:i}},t}np(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var l,a=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(a+=" "+o),"active"===n&&e&&ng(e),a&&(this.appliedClasses[t][n]=a,l=a,e&&l&&l.split(" ").forEach(function(t){e.classList?e.classList.add(t):(e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" "))||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],l=n.base,a=n.active,o=n.done;this.appliedClasses[t]={},l&&nS(e,l),a&&nS(e,a),o&&nS(e,o)},n.render=function(){var e=this.props,t=(e.classNames,nu(e,["classNames"]));return o.createElement(nC,nc({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(o.Component);n_.defaultProps={classNames:""},n_.propTypes={};var nk=(0,o.createContext)({}),nN=()=>(0,o.useContext)(nk),nE=e=>e?{appear:"".concat(e,"--appear"),appearActive:"".concat(e,"--appearActive"),appearDone:"".concat(e,"--appearDone"),enter:"".concat(e,"--enter"),enterActive:"".concat(e,"--enterActive"),enterDone:"".concat(e,"--enterDone"),exit:"".concat(e,"--exit"),exitActive:"".concat(e,"--exitActive"),exitDone:"".concat(e,"--exitDone")}:{};function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function nD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nP(Object(n),!0).forEach(function(t){var l,a,o;l=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in l?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,s.j)();var nT={activateTrap:function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var l=e.indexOf(t);-1===l||e.splice(l,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},nA=function(e){return(null==e?void 0:e.key)==="Tab"||(null==e?void 0:e.keyCode)===9},nR=function(e){return nA(e)&&!e.shiftKey},nL=function(e){return nA(e)&&e.shiftKey},nO=function(e){return setTimeout(e,0)},nF=function(e,t){var n=-1;return e.every(function(e,l){return!t(e)||(n=l,!1)}),n},nI=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];return"function"==typeof e?e.apply(void 0,n):e},nM=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},nB=[],nz=function(e,t){var n,l=(null==t?void 0:t.document)||document,a=(null==t?void 0:t.trapStack)||nB,o=nD({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:nR,isKeyBackward:nL},t),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},i=function(e,t,n){return e&&void 0!==e[t]?e[t]:o[n||t]},c=function(e,t){var n="function"==typeof(null==t?void 0:t.composedPath)?t.composedPath():void 0;return r.containerGroups.findIndex(function(t){var l=t.container,a=t.tabbableNodes;return l.contains(e)||(null==n?void 0:n.includes(l))||a.find(function(t){return t===e})})},u=function(e){var t=o[e];if("function"==typeof t){for(var n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];t=t.apply(void 0,a)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var i=t;if("string"==typeof t&&!(i=l.querySelector(t)))throw Error("`".concat(e,"` as selector refers to no known node"));return i},d=function(){var e=u("initialFocus");if(!1===e)return!1;if(void 0===e||!(0,s.i)(e,o.tabbableOptions))if(c(l.activeElement)>=0)e=l.activeElement;else{var t=r.tabbableGroups[0];e=t&&t.firstTabbableNode||u("fallbackFocus")}if(!e)throw Error("Your focus-trap needs to have at least one focusable element");return e},p=function(){if(r.containerGroups=r.containers.map(function(e){var t=(0,s.f)(e,o.tabbableOptions),n=(0,s.g)(e,o.tabbableOptions),l=t.length>0?t[0]:void 0,a=t.length>0?t[t.length-1]:void 0,r=n.find(function(e){return(0,s.h)(e)}),i=n.slice().reverse().find(function(e){return(0,s.h)(e)}),c=!!t.find(function(e){return(0,s.e)(e)>0});return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:c,firstTabbableNode:l,lastTabbableNode:a,firstDomTabbableNode:r,lastDomTabbableNode:i,nextTabbableNode:function(e){var l=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a=t.indexOf(e);return a<0?l?n.slice(n.indexOf(e)+1).find(function(e){return(0,s.h)(e)}):n.slice(0,n.indexOf(e)).reverse().find(function(e){return(0,s.h)(e)}):t[a+(l?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(e){return e.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!u("fallbackFocus"))throw Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(e){return e.posTabIndexesFound})&&r.containerGroups.length>1)throw Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function e(t){var n=t.activeElement;if(n)return n.shadowRoot&&null!==n.shadowRoot.activeElement?e(n.shadowRoot):n},f=function e(t){if(!1!==t&&t!==h(document)){if(!t||!t.focus)return void e(d());t.focus({preventScroll:!!o.preventScroll}),r.mostRecentlyFocusedNode=t,t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select&&t.select()}},m=function(e){var t=u("setReturnFocus",e);return t||!1!==t&&e},g=function(e){var t=e.target,n=e.event,l=e.isBackward,a=void 0!==l&&l;t=t||nM(n),p();var i=null;if(r.tabbableGroups.length>0){var d=c(t,n),h=d>=0?r.containerGroups[d]:void 0;if(d<0)i=a?r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:r.tabbableGroups[0].firstTabbableNode;else if(a){var f=nF(r.tabbableGroups,function(e){var n=e.firstTabbableNode;return t===n});if(f<0&&(h.container===t||(0,s.i)(t,o.tabbableOptions)&&!(0,s.h)(t,o.tabbableOptions)&&!h.nextTabbableNode(t,!1))&&(f=d),f>=0){var m=0===f?r.tabbableGroups.length-1:f-1,g=r.tabbableGroups[m];i=(0,s.e)(t)>=0?g.lastTabbableNode:g.lastDomTabbableNode}else nA(n)||(i=h.nextTabbableNode(t,!1))}else{var v=nF(r.tabbableGroups,function(e){var n=e.lastTabbableNode;return t===n});if(v<0&&(h.container===t||(0,s.i)(t,o.tabbableOptions)&&!(0,s.h)(t,o.tabbableOptions)&&!h.nextTabbableNode(t))&&(v=d),v>=0){var b=v===r.tabbableGroups.length-1?0:v+1,y=r.tabbableGroups[b];i=(0,s.e)(t)>=0?y.firstTabbableNode:y.firstDomTabbableNode}else nA(n)||(i=h.nextTabbableNode(t))}}else i=u("fallbackFocus");return i},v=function(e){if(!(c(nM(e),e)>=0)){if(nI(o.clickOutsideDeactivates,e))return void n.deactivate({returnFocus:o.returnFocusOnDeactivate});nI(o.allowOutsideClick,e)||e.preventDefault()}},b=function(e){var t=nM(e),n=c(t,e)>=0;if(n||t instanceof Document)n&&(r.mostRecentlyFocusedNode=t);else{e.stopImmediatePropagation();var l,a=!0;if(r.mostRecentlyFocusedNode)if((0,s.e)(r.mostRecentlyFocusedNode)>0){var i=c(r.mostRecentlyFocusedNode),u=r.containerGroups[i].tabbableNodes;if(u.length>0){var p=u.findIndex(function(e){return e===r.mostRecentlyFocusedNode});p>=0&&(o.isKeyForward(r.recentNavEvent)?p+1<u.length&&(l=u[p+1],a=!1):p-1>=0&&(l=u[p-1],a=!1))}}else r.containerGroups.some(function(e){return e.tabbableNodes.some(function(e){return(0,s.e)(e)>0})})||(a=!1);else a=!1;a&&(l=g({target:r.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(r.recentNavEvent)})),f(l||r.mostRecentlyFocusedNode||d())}r.recentNavEvent=void 0},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.recentNavEvent=e;var n=g({event:e,isBackward:t});n&&(nA(e)&&e.preventDefault(),f(n))},x=function(e){if(((null==e?void 0:e.key)==="Escape"||(null==e?void 0:e.key)==="Esc"||(null==e?void 0:e.keyCode)===27)&&!1!==nI(o.escapeDeactivates,e)){e.preventDefault(),n.deactivate();return}(o.isKeyForward(e)||o.isKeyBackward(e))&&y(e,o.isKeyBackward(e))},w=function(e){c(nM(e),e)>=0||nI(o.clickOutsideDeactivates,e)||nI(o.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},C=function(){if(r.active)return nT.activateTrap(a,n),r.delayInitialFocusTimer=o.delayInitialFocus?nO(function(){f(d())}):f(d()),l.addEventListener("focusin",b,!0),l.addEventListener("mousedown",v,{capture:!0,passive:!1}),l.addEventListener("touchstart",v,{capture:!0,passive:!1}),l.addEventListener("click",w,{capture:!0,passive:!1}),l.addEventListener("keydown",x,{capture:!0,passive:!1}),n},j=function(){if(r.active)return l.removeEventListener("focusin",b,!0),l.removeEventListener("mousedown",v,!0),l.removeEventListener("touchstart",v,!0),l.removeEventListener("click",w,!0),l.removeEventListener("keydown",x,!0),n},S="u">typeof window&&"MutationObserver"in window?new MutationObserver(function(e){e.some(function(e){return Array.from(e.removedNodes).some(function(e){return e===r.mostRecentlyFocusedNode})})&&f(d())}):void 0,_=function(){S&&(S.disconnect(),r.active&&!r.paused&&r.containers.map(function(e){S.observe(e,{subtree:!0,childList:!0})}))};return(n={get active(){return r.active},get paused(){return r.paused},activate:function(e){if(r.active)return this;var t=i(e,"onActivate"),n=i(e,"onPostActivate"),a=i(e,"checkCanFocusTrap");a||p(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=l.activeElement,null==t||t();var o=function(){a&&p(),C(),_(),null==n||n()};return a?a(r.containers.concat()).then(o,o):o(),this},deactivate:function(e){if(!r.active)return this;var t=nD({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},e);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,j(),r.active=!1,r.paused=!1,_(),nT.deactivateTrap(a,n);var l=i(t,"onDeactivate"),s=i(t,"onPostDeactivate"),c=i(t,"checkCanReturnFocus"),u=i(t,"returnFocus","returnFocusOnDeactivate");null==l||l();var d=function(){nO(function(){u&&f(m(r.nodeFocusedBeforeActivation)),null==s||s()})};return u&&c?c(m(r.nodeFocusedBeforeActivation)).then(d,d):d(),this},pause:function(e){if(r.paused||!r.active)return this;var t=i(e,"onPause"),n=i(e,"onPostPause");return r.paused=!0,null==t||t(),j(),_(),null==n||n(),this},unpause:function(e){if(!r.paused||!r.active)return this;var t=i(e,"onUnpause"),n=i(e,"onPostUnpause");return r.paused=!1,null==t||t(),p(),C(),_(),null==n||n(),this},updateContainerElements:function(e){return r.containers=[].concat(e).filter(Boolean).map(function(e){return"string"==typeof e?l.querySelector(e):e}),r.active&&p(),_(),this}}).updateContainerElements(e),n},nU=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,l=Object.getOwnPropertySymbols(e);a<l.length;a++)0>t.indexOf(l[a])&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(n[l[a]]=e[l[a]]);return n},nV="modal-item",nH=(l=e=>{let{children:t}=e;return t?"function"==typeof t?(0,u.jsx)(o.Fragment,{children:t(e)}):(0,u.jsx)(o.Fragment,{children:t}):null},e=>{let t=nN(),n=(0,o.useRef)(null),[i,s]=(0,o.useState)(!1),c=(0,o.useRef)(!1),[d,p]=(0,o.useState)(null),{modalState:h,classPrefix:f,containerRef:m,transTime:g,setCloseOnBlur:v,setBodyScrollLock:b,openModal:y}=t,{className:x,htmlElement:w="dialog",slug:C="",closeOnBlur:j=!0,lockBodyScroll:S=!0,classPrefix:_,onEnter:k,onEntering:N,onEntered:E,onExit:P,onExiting:D,onExited:T,openOnInit:A,trapFocus:R=!0,focusTrapOptions:L={}}=e,O=nU(e,["className","htmlElement","slug","closeOnBlur","lockBodyScroll","classPrefix","onEnter","onEntering","onEntered","onExit","onExiting","onExited","openOnInit","trapFocus","focusTrapOptions"]),F=_||f,I=a||C,M=h[I]&&h[I].isOpen;(0,o.useEffect)(()=>{if(R){let e=n.current;!1===c.current&&e&&(p(nz(e,Object.assign(Object.assign({},L),{fallbackFocus:(null==L?void 0:L.fallbackFocus)||e,allowOutsideClick:!("u">typeof L.allowOutsideClick)||L.allowOutsideClick}))),c.current=!0)}},[R,i,L]),(0,o.useEffect)(()=>{s(!0)},[]),(0,o.useEffect)(()=>(d&&(M?d.activate():d.deactivate()),()=>{d&&d.deactivate()}),[M,d]),(0,o.useEffect)(()=>{M&&v(j)},[M,j,v]),(0,o.useEffect)(()=>{let e=n.current;return e&&b(!!(M&&S),e),()=>{e&&b(!1,e)}},[M,S,b]);let[B,z]=(0,o.useState)(M);if((0,o.useEffect)(()=>{M?z(M):setTimeout(()=>z(!1),g)},[M,g]),(0,o.useEffect)(()=>{A&&y(I)},[I,A,y]),m.current){let a=F?"".concat(F,"__").concat(nV):nV,o=[a,"".concat(a,"--slug-").concat(I),x].filter(Boolean).join(" "),i=Object.assign({role:"dialog"!==w?"dialog":void 0,open:"dialog"===w?B||M:void 0,"aria-modal":!0,"aria-label":O["aria-labelledby"]?void 0:I},O);return r.createPortal((0,u.jsx)(n_,{nodeRef:n,timeout:g,in:M,classNames:nE(a),appear:!0,onEnter:k,onEntering:N,onEntered:E,onExit:P,onExiting:D,onExited:T,children:(0,u.jsx)(w,Object.assign({ref:n,id:(null==O?void 0:O.id)||I,className:o},i,{children:(0,u.jsx)(l,Object.assign({},e,{isOpen:M,modal:t}))}))}),m.current)}return null}),nq=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,l=Object.getOwnPropertySymbols(e);a<l.length;a++)0>t.indexOf(l[a])&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(n[l[a]]=e[l[a]]);return n},nW="modal-container",nK=e=>{let{oneModalIsOpen:t,classPrefix:n,transTime:l,setContainerRef:a,containerRef:o,closeAllModals:r,closeOnBlur:i}=nN(),{className:s,htmlElement:c="div",children:d,onClick:p}=e,h=nq(e,["className","htmlElement","children","onClick"]),f=n?"".concat(n,"__").concat(nW):nW,m=[f,s].filter(Boolean).join(" "),g=Object.assign(Object.assign({},h),{onClick:e=>{i&&r(),"function"==typeof p&&p(e)}});return(0,u.jsx)(n_,{nodeRef:o,in:t,timeout:l,classNames:nE(f),appear:!0,children:(0,u.jsx)(c,Object.assign({className:m,ref:a},g,{children:d&&d}))})},nY=!1;"u">typeof window&&(nG={get passive(){nY=!0}},window.addEventListener("testPassive",null,nG),window.removeEventListener("testPassive",null,nG));var nG,nQ="u">typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),nX=[],n$=!1,nZ=-1,nJ=void 0,n0=void 0,n1=void 0,n3=function(e){return nX.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},n2=function(e){var t=e||window.event;return!!n3(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},n6=function(e){if(void 0===n1){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var l=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);n1=document.body.style.paddingRight,document.body.style.paddingRight=l+n+"px"}}void 0===nJ&&(nJ=document.body.style.overflow,document.body.style.overflow="hidden")},n5=function(){void 0!==n1&&(document.body.style.paddingRight=n1,n1=void 0),void 0!==nJ&&(document.body.style.overflow=nJ,nJ=void 0)},n4=function(){if(void 0!==n0){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=n0.position,document.body.style.top=n0.top,document.body.style.left=n0.left,window.scrollTo(t,e),n0=void 0}},n8=function(e,t){var n=e.targetTouches[0].clientY-nZ;return!n3(e.target)&&(t&&0===t.scrollTop&&n>0||t&&t.scrollHeight-t.scrollTop<=t.clientHeight&&n<0?n2(e):(e.stopPropagation(),!0))},n9=function(e,t){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");!nX.some(function(t){return t.targetElement===e})&&(nX=[].concat(function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(nX),[{targetElement:e,options:t||{}}]),nQ?window.requestAnimationFrame(function(){if(void 0===n0){n0={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,l=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var e=l-window.innerHeight;e&&t>=l&&(document.body.style.top=-(t+e))})},300)}}):n6(t),nQ&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(nZ=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&n8(t,e)},n$||(document.addEventListener("touchmove",n2,nY?{passive:!1}:void 0),n$=!0)))},n7=function(e){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");nX=nX.filter(function(t){return t.targetElement!==e}),nQ&&(e.ontouchstart=null,e.ontouchmove=null,n$&&0===nX.length&&(document.removeEventListener("touchmove",n2,nY?{passive:!1}:void 0),n$=!1)),nQ?n4():n5()},le=(e,t)=>{let n=Object.assign({},e),{type:l,payload:a}=t;switch(l){case"UPDATE_MODAL":{let{slug:e}=a;e&&(n[e]=Object.assign(Object.assign({},n[e]),a));break}case"OPEN_MODAL":{let{slug:e}=a;e&&(e in n&&n[e].isOpen||(n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:Date.now(),isOpen:!0})));break}case"TOGGLE_MODAL":{let{slug:e}=a;if(e){let t=e in n&&n[e].isOpen;n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:t?void 0:Date.now(),isOpen:!t})}break}case"CLOSE_MODAL":{let{slug:e}=a;e&&(n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:void 0,isOpen:!1}));break}case"REMOVE_MODAL":{let{slug:e}=a;e&&e in n&&delete n[e];break}case"CLOSE_LATEST_MODAL":{let e=Object.keys(n).reduce((e,t)=>{let l=n[t];return l.isOpen&&"number"==typeof l.openedOn&&(!e||"number"==typeof e.openedOn&&l.openedOn>e.openedOn)?l:e},void 0);e&&(n[e.slug]=Object.assign(Object.assign({},n[e.slug]),{isOpen:!1,openedOn:void 0}));break}case"CLOSE_ALL_MODALS":n=Object.entries(n).reduce((e,t)=>{let[n,l]=t;return e[n]=Object.assign(Object.assign({},l),{isOpen:!1,openedOn:void 0}),e},{})}return n},lt=e=>{let{classPrefix:t,minifyCSS:n=!0,generateCSS:l=!0,zIndex:a=9999,handleParamChange:r,children:i,transTime:s=250}=e,c=(0,o.useRef)(null),[d,p]=(0,o.useReducer)(le,{},()=>(()=>{let e=(()=>{if("u">typeof window)return new URLSearchParams(window.location.search)})(),t=[];if(e){let n=e.get("modal");n&&(t=n.includes(",")?n.split(","):[n])}return t})().reduce((e,t)=>(e[t]={slug:t,isOpen:!0,openedOn:Date.now()},e),{})),[h,f]=(0,o.useState)(!1),[m,g]=(0,o.useState)(!1),[v,b]=(0,o.useState)(!1),[y,x]=(0,o.useState)(""),w=(0,o.useRef)(!1),C=(0,o.useCallback)(e=>{27===e.keyCode&&p({type:"CLOSE_LATEST_MODAL"})},[]);(0,o.useEffect)(()=>(w.current||(document.addEventListener("keydown",e=>C(e),!1),w.current=!0),()=>{w.current&&document.removeEventListener("keydown",e=>C(e),!1)}),[C]),(0,o.useEffect)(()=>{if(l){let e="";e=(e=>{let{classPrefix:t,zIndex:n}=e,l=t?"".concat(t,"__"):"";return"\n    .".concat(l).concat(nW," {\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      position: fixed;\n      pointer-events: none;\n      visibility: hidden;\n      z-index: -1;\n    }\n\n    .").concat(l).concat(nW,"--appear,\n    .").concat(l).concat(nW,"--appearDone,\n    .").concat(l).concat(nW,"--enter,\n    .").concat(l).concat(nW,"--enterDone,\n    .").concat(l).concat(nW,"--exit {\n      pointer-events: all;\n      visibility: visible;\n      z-index: ").concat(n,";\n    }\n\n    .").concat(l).concat(nV," {\n      position: absolute;\n      visibility: hidden;\n    }\n\n    .").concat(l).concat(nV,"--appear,\n    .").concat(l).concat(nV,"--appearDone,\n    .").concat(l).concat(nV,"--enter,\n    .").concat(l).concat(nV,"--enterDone,\n    .").concat(l).concat(nV,"--exit {\n      visibility: visible;\n    }\n  ")})({classPrefix:t,zIndex:a}),n&&(e=e.replace(/\n/g,"").replace(/\s\s+/g," ")),x(e)}},[l,n,a,t]),(0,o.useEffect)(()=>{if("function"==typeof r&&r(d),"boolean"==typeof r&&r){let e=Object.keys(d).filter(e=>d[e].isOpen),t=new URLSearchParams;for(let n of e)t.append("modal",n);let n=t.toString()?"?".concat(t):"",l="".concat(window.location.pathname).concat(n);window.history.pushState({},"",l)}},[d,r]),(0,o.useEffect)(()=>{f(Object.keys(d).some(e=>d[e].isOpen))},[d]);let j=(0,o.useCallback)((e,t)=>{t&&(e?(n9(t),b(!0)):(n7(t),b(!1)))},[]),S=(0,o.useCallback)(e=>{c.current=e},[]),_=(0,o.useCallback)(e=>{p({type:"OPEN_MODAL",payload:{slug:e}})},[]),k=(0,o.useCallback)(e=>{p({type:"CLOSE_MODAL",payload:{slug:e}})},[]),N=(0,o.useCallback)(()=>{p({type:"CLOSE_ALL_MODALS"})},[]),E=(0,o.useCallback)(e=>{p({type:"TOGGLE_MODAL",payload:{slug:e}})},[]),P=(0,o.useCallback)(e=>d[e]&&d[e].isOpen,[d]),D=Object.assign({},e);return delete D.children,(0,u.jsxs)(o.Fragment,{children:[l&&(0,u.jsx)("style",{dangerouslySetInnerHTML:{__html:y}}),(0,u.jsx)(nk.Provider,{value:Object.assign(Object.assign({},D),{transTime:s,containerRef:c,modalState:d,oneModalIsOpen:h,isModalOpen:P,closeOnBlur:m,bodyScrollIsLocked:v,classPrefix:t,closeAllModals:N,setCloseOnBlur:g,openModal:_,closeModal:k,toggleModal:E,setBodyScrollLock:j,setContainerRef:S}),children:i})]})},ln="gutter",ll=e=>{let{children:t,className:n,left:l=!0,negativeLeft:a=!1,negativeRight:o=!1,ref:r,right:i=!0}=e,s=l&&!a,c=i&&!o;return(0,u.jsx)("div",{className:[ln,s&&"".concat(ln,"--left"),c&&"".concat(ln,"--right"),a&&"".concat(ln,"--negative-left"),o&&"".concat(ln,"--negative-right"),n].filter(Boolean).join(" "),ref:r,children:t})},la=e=>{let t=(0,f.c)(3),n=(0,o.useId)(),l=ni(),a="".concat(e,"-").concat(n),r;return t[0]!==l||t[1]!==a?(r=lr({slug:a,depth:l}),t[0]=l,t[1]=a,t[2]=r):r=t[2],r},lo="drawer",lr=e=>{let{slug:t,depth:n}=e;return"drawer_".concat(n,"_").concat(t)},li=e=>{let t=(0,f.c)(4),{slug:n,children:l,className:a,disabled:o,onClick:r,...i}=e,{openModal:s}=nN(),c;return t[0]!==r||t[1]!==s||t[2]!==n?(c=e=>{s(n),"function"==typeof r&&r(e)},t[0]=r,t[1]=s,t[2]=n,t[3]=c):c=t[3],(0,u.jsx)("button",{className:a,disabled:o,onClick:c,type:"button",...i,children:l})},ls=e=>{var t;let n=(0,f.c)(22),{slug:l,children:a,className:r,gutter:i,Header:c,hoverTitle:d,title:p}=e,h=void 0===i||i,{t:m}=(0,s.d)(),{closeModal:g,modalState:v}=nN(),b=ld(),y=!!(null==(t=v[l])?void 0:t.isOpen),[x,w]=(0,o.useState)(y),C,j;if(n[0]!==y?(C=()=>{w(y)},j=[y],n[0]=y,n[1]=C,n[2]=j):(C=n[1],j=n[2]),(0,o.useLayoutEffect)(C,j),y){let e=x&&"".concat(lo,"--is-open"),t=b>1&&"".concat(lo,"--nested"),o;n[3]!==r||n[4]!==e||n[5]!==t?(o=[r,lo,e,t].filter(Boolean),n[3]=r,n[4]=e,n[5]=t,n[6]=o):o=n[6];let i=o.join(" "),f=100+b,v;if(n[7]!==c||n[8]!==a||n[9]!==g||n[10]!==b||n[11]!==h||n[12]!==d||n[13]!==l||n[14]!==m||n[15]!==i||n[16]!==f||n[17]!==p){let e;n[19]!==g||n[20]!==l?(e=()=>g(l),n[19]=g,n[20]=l,n[21]=e):e=n[21],v=(0,u.jsx)(lu,{children:(0,u.jsxs)(nH,{className:i,closeOnBlur:!1,slug:l,style:{zIndex:f},children:[(!b||1===b)&&(0,u.jsx)("div",{className:"".concat(lo,"__blur-bg")}),(0,u.jsx)("button",{"aria-label":m("general:close"),className:"".concat(lo,"__close"),id:"close-drawer__".concat(l),onClick:e,type:"button"}),(0,u.jsxs)("div",{className:"".concat(lo,"__content"),style:{width:"calc(100% - (".concat(b," * var(--gutter-h)))")},children:[(0,u.jsx)("div",{className:"".concat(lo,"__blur-bg-content")}),(0,u.jsxs)(ll,{className:"".concat(lo,"__content-children"),left:h,right:h,children:[c,void 0===c&&(0,u.jsxs)("div",{className:"".concat(lo,"__header"),children:[(0,u.jsx)("h2",{className:"".concat(lo,"__header__title"),title:d?p:null,children:p}),(0,u.jsx)("button",{"aria-label":m("general:close"),className:"".concat(lo,"__header__close"),id:"close-drawer__".concat(l),onClick:()=>g(l),type:"button",children:(0,u.jsx)(s.a,{})})]}),a]})]})]})}),n[7]=c,n[8]=a,n[9]=g,n[10]=b,n[11]=h,n[12]=d,n[13]=l,n[14]=m,n[15]=i,n[16]=f,n[17]=p,n[18]=v}else v=n[18];return v}return null},lc=(0,o.createContext)(1),lu=e=>{let t=(0,f.c)(3),{children:n}=e,l=ld()+1,a;return t[0]!==n||t[1]!==l?(a=(0,u.jsx)(lc,{value:l,children:n}),t[0]=n,t[1]=l,t[2]=a):a=t[2],a},ld=()=>(0,o.use)(lc),lp="confirmation-modal";function lh(e){let t=(0,f.c)(25),{body:n,cancelLabel:l,className:a,confirmingLabel:r,confirmLabel:i,heading:c,modalSlug:d,onCancel:p,onConfirm:h}=e,m=ld(),[g,v]=o.useState(!1),{closeModal:b}=nN(),{t:y}=(0,s.d)(),x;t[0]!==b||t[1]!==g||t[2]!==d||t[3]!==h?(x=async()=>{g||(v(!0),"function"==typeof h&&await h(),v(!1),b(d))},t[0]=b,t[1]=g,t[2]=d,t[3]=h,t[4]=x):x=t[4];let w=x,C;t[5]!==b||t[6]!==g||t[7]!==d||t[8]!==p?(C=()=>{g||(b(d),"function"==typeof p&&p())},t[5]=b,t[6]=g,t[7]=d,t[8]=p,t[9]=C):C=t[9];let j=C,S;t[10]!==a?(S=[lp,a].filter(Boolean),t[10]=a,t[11]=S):S=t[11];let _=S.join(" "),k=100+m,N;return t[12]!==n||t[13]!==l||t[14]!==i||t[15]!==g||t[16]!==r||t[17]!==c||t[18]!==d||t[19]!==j||t[20]!==w||t[21]!==y||t[22]!==_||t[23]!==k?(N=(0,u.jsx)(nH,{className:_,closeOnBlur:!1,slug:d,style:{zIndex:k},children:(0,u.jsxs)("div",{className:"".concat(lp,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(lp,"__content"),children:["string"==typeof c?(0,u.jsx)("h1",{children:c}):c,"string"==typeof n?(0,u.jsx)("p",{children:n}):n]}),(0,u.jsxs)("div",{className:"".concat(lp,"__controls"),children:[(0,u.jsx)(tP,{buttonStyle:"secondary",disabled:g,id:"confirm-cancel",onClick:j,size:"large",type:"button",children:l||y("general:cancel")}),(0,u.jsx)(tP,{id:"confirm-action",onClick:w,size:"large",children:g?r||"".concat(y("general:loading"),"..."):i||y("general:confirm")})]})]})}),t[12]=n,t[13]=l,t[14]=i,t[15]=g,t[16]=r,t[17]=c,t[18]=d,t[19]=j,t[20]=w,t[21]=y,t[22]=_,t[23]=k,t[24]=N):N=t[24],N}var lf="stay-logged-in",lm=()=>{let e=(0,f.c)(11),{refreshCookie:t}=lx(),n=(0,h.useRouter)(),{config:l}=(0,i.b)(),{admin:a,routes:o}=l,{routes:r}=a,{logout:c}=r,{admin:d}=o,{t:p}=(0,s.d)(),{startRouteTransition:m}=e4(),g;e[0]!==d||e[1]!==c||e[2]!==n||e[3]!==m?(g=()=>m(()=>n.push((0,v.Q)({adminRoute:d,path:c}))),e[0]=d,e[1]=c,e[2]=n,e[3]=m,e[4]=g):g=e[4];let b=g,y;e[5]!==t?(y=()=>{t()},e[5]=t,e[6]=y):y=e[6];let x=y,w;return e[7]!==x||e[8]!==b||e[9]!==p?(w=(0,u.jsx)(lh,{body:p("authentication:youAreInactive"),cancelLabel:p("authentication:stayLoggedIn"),confirmLabel:p("authentication:logOut"),heading:p("authentication:stayLoggedIn"),modalSlug:lf,onCancel:x,onConfirm:b}),e[7]=x,e[8]=b,e[9]=p,e[10]=w):w=e[10],w};function lg(e){let t,n=(0,f.c)(4),l=(0,o.useRef)(e),a,r;return n[0]!==e?(a=()=>{l.current=e},r=[e],n[0]=e,n[1]=a,n[2]=r):(a=n[1],r=n[2]),(0,o.useInsertionEffect)(a,r),n[3]===Symbol.for("react.memo_cache_sentinel")?(t=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,l.current)(...t)},n[3]=t):t=n[3],t}var lv={delete:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"delete"})},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n="";return t.params&&(n=b.A(t.params,{addQueryPrefix:!0})),fetch("".concat(e).concat(n),{credentials:"include",...t})},patch:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"PATCH"})},post:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{},l={...t,credentials:"include",headers:{...n},method:"post"};return fetch("".concat(e),l)},put:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"put"})}},lb=(0,o.createContext)({});function ly(e){let{children:t,permissions:n,user:l}=e,a=(0,h.usePathname)(),r=(0,h.useRouter)(),{config:c}=(0,i.b)(),{admin:{autoLogin:d,autoRefresh:p,routes:{inactivity:f},user:m},routes:{admin:g,api:y},serverURL:x}=c,{i18n:w}=(0,s.d)(),{closeAllModals:C,openModal:j}=nN(),{startRouteTransition:S}=e4(),[_,k]=(0,o.useState)(l),[N,E]=(0,o.useState)(),[P,D]=(0,o.useState)(),[T,A]=(0,o.useState)(n),[R,L]=(0,o.useState)(12e4),[O,F]=(0,o.useState)(!1),I=o.useRef(null),M=o.useRef(null),B=o.useRef(null),z=null==_?void 0:_.id,U=(0,o.useCallback)(()=>{S(()=>r.replace((0,v.Q)({adminRoute:g,path:"".concat(f).concat(window.location.pathname.startsWith(g)?"?redirect=".concat(encodeURIComponent(window.location.pathname)):"")}))),C()},[r,g,f,C,S]),V=(0,o.useCallback)(()=>{k(null),E(void 0),D(void 0),clearTimeout(I.current)},[]),H=(0,o.useCallback)(e=>{if(clearTimeout(M.current),clearTimeout(B.current),null==e?void 0:e.user){var t;k(e.user),E(e.token),D(1e3*e.exp);let n=Math.max(0,Math.min((null!=(t=e.exp)?t:0)*1e3-Date.now(),0x7fffffff));if(n){let e=Math.min(6e4,n/2);L(e),M.current=setTimeout(()=>{p?Q():j(lf)},Math.max(n-e,0)),B.current=setTimeout(()=>{V(),U()},n)}}else V()},[p,U,V,j]),q=(0,o.useCallback)(e=>{if(!z)return;let t=Math.max(0,(null!=P?P:0)-Date.now());(e||P&&t<2*R)&&(clearTimeout(I.current),I.current=setTimeout(async()=>{try{let e=await lv.post("".concat(x).concat(y,"/").concat(m,"/refresh-token?refresh"),{headers:{"Accept-Language":w.language}});if(200===e.status){let t=await e.json();H(t)}else H(null),U()}catch(e){eZ.error(e.message)}},1e3))},[y,w.language,U,x,H,P,m,R,z]),W=(0,o.useCallback)(async e=>{try{let t=await lv.post("".concat(x).concat(y,"/").concat(m,"/refresh-token"),{headers:{"Accept-Language":w.language}});if(200===t.status){let n=await t.json();return e||H(n),n.user}_&&(H(null),U())}catch(e){eZ.error("Refreshing token failed: ".concat(e.message))}return null},[y,w.language,U,x,H,m,_]),K=(0,o.useCallback)(async()=>{try{_&&_.collection&&(H(null),await lv.post("".concat(x).concat(y,"/").concat(_.collection,"/logout")))}catch(e){}return!0},[y,x,H,_]),Y=(0,o.useCallback)(async function(){let{locale:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=b.A({locale:e},{addQueryPrefix:!0});try{let e=await lv.get("".concat(x).concat(y,"/access").concat(t),{headers:{"Accept-Language":w.language}});if(200===e.status){let t=await e.json();A(t)}else throw Error("Fetching permissions failed with status code ".concat(e.status))}catch(e){eZ.error("Refreshing permissions failed: ".concat(e.message))}},[x,y,w]),G=o.useCallback(async()=>{try{let e=await lv.get("".concat(x).concat(y,"/").concat(m,"/me"),{credentials:"include",headers:{"Accept-Language":w.language}});if(200===e.status){let t=await e.json();return H(t),(null==t?void 0:t.user)||null}}catch(e){eZ.error("Fetching user failed: ".concat(e.message))}return null},[x,y,m,w.language,H]),Q=lg(q);(0,o.useEffect)(()=>{Q()},[a]);let X=lg(G);return(0,o.useEffect)(()=>{!async function(){await X(),F(!0)}()},[]),(0,o.useEffect)(()=>{_||!d||d.prefillOnly||X()},[_,d]),(0,o.useEffect)(()=>()=>{clearTimeout(I.current),clearTimeout(M.current),clearTimeout(B.current)},[]),_||O?(0,u.jsx)(lb,{value:{fetchFullUser:G,logOut:K,permissions:T,refreshCookie:q,refreshCookieAsync:W,refreshPermissions:Y,setPermissions:A,setUser:H,token:N,tokenExpirationMs:P,user:_},children:t}):null}var lx=()=>(0,o.use)(lb),lw=(0,o.createContext)({}),lC=(e,t)=>({body:JSON.stringify({value:e}),headers:{"Accept-Language":t,"Content-Type":"application/json"}}),lj=e=>{let{children:t}=e,n=(0,o.useRef)({}),l=(0,o.useRef)({}),a=(0,o.useRef)({}),{config:r}=(0,i.b)(),{user:c}=lx(),{i18n:d}=(0,s.d)(),{routes:{api:p},serverURL:h}=r;(0,o.useEffect)(()=>{c||(l.current={})},[c]);let f=(0,o.useCallback)(async e=>{let t=l.current;if("u">typeof t[e])return t[e];let n=new Promise(t=>{(async()=>{let n=await lv.get("".concat(h).concat(p,"/payload-preferences/").concat(e),{credentials:"include",headers:{"Accept-Language":d.language}}),a=null;200===n.status&&(a=(await n.json()).value),l.current[e]=a,t(a)})()});return t[e]=n,n},[d.language,p,l,h]),m=(0,o.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!1===n){l.current[e]=t,await lv.post("".concat(h).concat(p,"/payload-preferences/").concat(e),lC(t,d.language));return}let o=t,r=await f(e);if("object"==typeof t&&"object"==typeof r&&"object"==typeof o){if(r&&(o=function e(t,n){let l={...t};for(let a in n)Object.prototype.hasOwnProperty.call(n,a)&&("object"==typeof n[a]&&!Array.isArray(n[a])&&t[a]?l[a]=e(t[a],n[a]):l[a]=n[a]);return l}(r,o)),(0,y.j)(o,r))return;a.current[e]={...a.current[e],...o}}else{if(o===r)return;a.current[e]=o}let i=async()=>{(0,y.j)(a.current[e],l.current[e])||(l.current[e]=a.current[e],await lv.post("".concat(h).concat(p,"/payload-preferences/").concat(e),lC(l.current[e],d.language)),delete a.current[e])};setTimeout(()=>{i()})},[p,f,d.language,a,h]);return n.current.getPreference=f,n.current.setPreference=m,(0,u.jsx)(lw,{value:n.current,children:t})},lS=()=>(0,o.use)(lw),l_=(0,o.createContext)({}),lk=(0,o.createContext)({localeIsLoading:!1,setLocaleIsLoading:e=>{}}),lN=async(e,t)=>{var n;return await (null==(n=fetch("".concat(t,"/payload-preferences/").concat(e),{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"}))?void 0:n.then(e=>e.json()))},lE=e=>{let t,n=(0,f.c)(27),{children:l,locale:a}=e,{config:r}=(0,i.b)(),{localization:s,routes:c,serverURL:d}=r,p=void 0!==s&&s,{api:m}=c,{user:g}=lx(),v=p?p.defaultLocale:"en",{getPreference:b}=lS(),y=(0,h.useSearchParams)(),x;n[0]!==y?(x=y.get("locale"),n[0]=y,n[1]=x):x=n[1];let w=x,C;n[2]!==v||n[3]!==a||n[4]!==w||n[5]!==p?(C=()=>p&&(!p||p.locales.length)?ns(p,w)||ns(p,a)||ns(p,v)||ns(p,p.locales[0].code):{},n[2]=v,n[3]=a,n[4]=w,n[5]=p,n[6]=C):C=n[6];let[j,S]=o.useState(C),[_,k]=(0,o.useState)(!1),N=(0,o.useRef)(j),E,P;n[7]!==j?(E=()=>{j.code!==N.current.code&&k(!1),N.current=j},P=[j],n[7]=j,n[8]=E,n[9]=P):(E=n[8],P=n[9]),(0,o.useEffect)(E,P);let D="".concat(d).concat(m),T;n[10]!==v||n[11]!==D||n[12]!==w||n[13]!==p||n[14]!==(null==g?void 0:g.id)?(T=()=>{!async function(){if(p&&(null==g?void 0:g.id)){var e,t,n;let l=ns(p,w||await (null==(e=lN("locale",D))?void 0:e.then(lT)))||ns(p,v)||ns(p,null==p||null==(n=p.locales)||null==(t=n[0])?void 0:t.code);l&&S(l)}}()},n[10]=v,n[11]=D,n[12]=w,n[13]=p,n[14]=null==g?void 0:g.id,n[15]=T):T=n[15];let A=null==g?void 0:g.id,R;return n[16]!==v||n[17]!==D||n[18]!==b||n[19]!==w||n[20]!==p||n[21]!==A?(R=[v,b,p,D,w,A],n[16]=v,n[17]=D,n[18]=b,n[19]=w,n[20]=p,n[21]=A,n[22]=R):R=n[22],(0,o.useEffect)(T,R),n[23]!==l||n[24]!==_||n[25]!==j?(t=(0,u.jsx)(l_,{value:j,children:(0,u.jsx)(lk,{value:{localeIsLoading:_,setLocaleIsLoading:k},children:l})}),n[23]=l,n[24]=_,n[25]=j,n[26]=t):t=n[26],t},lP=()=>(0,o.use)(lk),lD=()=>(0,o.use)(l_);function lT(e){return e.value}var lA=(e,t,n)=>{if(e)return"field-".concat(e.replace(/\./g,"__")).concat(t>1?"-".concat(t):"").concat(n?"-".concat(n):"")},lR=e=>{let{as:t,hideLocale:n,htmlFor:l,label:a,localized:o,path:r,required:i,unstyled:c}=e,p=void 0===t?"label":t,h=void 0!==c&&c,{uuid:f}=eE(),m=ni(),g=l||lA(r,m,f),{i18n:v}=(0,s.d)(),{code:b,label:y}=lD();return a?(0,u.jsxs)("label"===p?g?"label":"span":p||"span",{className:"field-label".concat(h?" unstyled":""),htmlFor:g,children:[(0,d.s)(a,v),void 0!==i&&i&&!h&&(0,u.jsx)("span",{className:"required",children:"*"}),void 0!==o&&o&&!(void 0!==n&&n)&&(0,u.jsxs)("span",{className:"localized",children:[" ","string"==typeof y?y:b]})]}):null},lL=e=>{let{collapsed:t,rowID:n,rows:l}=e;return l.reduce((e,l)=>(n===l.id&&(l.collapsed=t),l.collapsed&&e.collapsedIDs.push(l.id),e.updatedRows.push(l),e),{collapsedIDs:[],updatedRows:[]})},lO=e=>{let{collapsed:t,rows:n}=e;return n.reduce((e,n)=>(n.collapsed=t,t&&e.collapsedIDs.push(n.id),e.updatedRows.push(n),e),{collapsedIDs:[],updatedRows:[]})},lF=(e,t,n)=>{let l,a=(0,f.c)(9),r;a[0]!==n?(r=void 0===n?[]:n,a[0]=n,a[1]=r):r=a[1];let i=r,s;a[2]===Symbol.for("react.memo_cache_sentinel")?(s=Date.now(),a[2]=s):s=a[2];let c=(0,o.useRef)(s),u;a[3]!==e||a[4]!==t?(u=()=>{let n=setTimeout(()=>{Date.now()-c.current>=t&&(e(),c.current=Date.now())},t-(Date.now()-c.current));return()=>{clearTimeout(n)}},a[3]=e,a[4]=t,a[5]=u):u=a[5],a[6]!==t||a[7]!==i?(l=[t,...i],a[6]=t,a[7]=i,a[8]=l):l=a[8],(0,o.useEffect)(u,l)};function lI(e,t){let n,l=(0,f.c)(6),[a,r]=(0,o.useState)(null!=e?e:t),i=(0,o.useRef)(!0),s,c;l[0]!==e?(s=()=>{if(i.current){i.current=!1;return}r(e)},c=[e],l[0]=e,l[1]=s,l[2]=c):(s=l[1],c=l[2]),(0,o.useEffect)(s,c),l[3]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{r(e)},l[3]=n):n=l[3];let u=n,d;return l[4]!==a?(d=[a,u],l[4]=a,l[5]=d):d=l[5],d}var lM={},lB={};function lz(e,t){try{let n=(lM[e]||(lM[e]=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format))(t).split("GMT")[1]||"";return n in lB?lB[n]:lV(n,n.split(":"))}catch(n){if(e in lB)return lB[e];let t=null==e?void 0:e.match(lU);return t?lV(e,t.slice(1)):NaN}}var lU=/([+-]\d\d):?(\d\d)?/;function lV(e,t){let n=+t[0],l=+(t[1]||0);return lB[e]=n>0?60*n+l:60*n-l}var lH=class e extends Date{static tz(t){for(var n=arguments.length,l=Array(n>1?n-1:0),a=1;a<n;a++)l[a-1]=arguments[a];return l.length?new e(...l,t):new e(Date.now(),t)}withTimeZone(t){return new e(+this,t)}getTimezoneOffset(){return-lz(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),lW(this),+this}[Symbol.for("constructDateFrom")](t){return new e(+new Date(t),this.timeZone)}constructor(...e){super(),e.length>1&&"string"==typeof e[e.length-1]&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(lz(this.timeZone,this))?this.setTime(NaN):e.length?"number"==typeof e[0]&&(1===e.length||2===e.length&&"number"!=typeof e[1])?this.setTime(e[0]):"string"==typeof e[0]?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),lK(this,NaN),lW(this)):this.setTime(Date.now())}},lq=/^(get|set)(?!UTC)/;function lW(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function lK(e){let t=lz(e.timeZone,e),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);let l=-new Date(+e).getTimezoneOffset(),a=l- -new Date(+n).getTimezoneOffset(),o=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&o&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);let r=l-t;r&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+r);let i=lz(e.timeZone,e),s=-new Date(+e).getTimezoneOffset()-i-r;if(i!==t&&s){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+s);let t=i-lz(e.timeZone,e);t&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+t),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+t))}}Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!lq.test(e))return;let t=e.replace(lq,"$1UTC");lH.prototype[t]&&(e.startsWith("get")?lH.prototype[e]=function(){return this.internal[t]()}:(lH.prototype[e]=function(){var e;return Date.prototype[t].apply(this.internal,arguments),e=this,Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),lK(e),+this},lH.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),lW(this),+this}))});var lY=Symbol.for("constructDateFrom");function lG(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&lY in e?e[lY](t):e instanceof Date?new e.constructor(t):new Date(t)}function lQ(e,t){return lG(t||e,e)}var lX={};function l$(e,t){var n,l,a,o,r,i,s,c;let u=null!=(c=null!=(s=null!=(i=null!=(r=null==t?void 0:t.weekStartsOn)?r:null==t||null==(l=t.locale)||null==(n=l.options)?void 0:n.weekStartsOn)?i:lX.weekStartsOn)?s:null==(o=lX.locale)||null==(a=o.options)?void 0:a.weekStartsOn)?c:0,d=lQ(e,null==t?void 0:t.in),p=d.getDay();return d.setDate(d.getDate()-(7*(p<u)+p-u)),d.setHours(0,0,0,0),d}function lZ(e,t){return l$(e,{...t,weekStartsOn:1})}function lJ(e,t){let n=lQ(e,null==t?void 0:t.in),l=n.getFullYear(),a=lG(n,0);a.setFullYear(l+1,0,4),a.setHours(0,0,0,0);let o=lZ(a),r=lG(n,0);r.setFullYear(l,0,4),r.setHours(0,0,0,0);let i=lZ(r);return n.getTime()>=o.getTime()?l+1:n.getTime()>=i.getTime()?l:l-1}function l0(e){let t=lQ(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-n}function l1(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];let a=lG.bind(null,e||n.find(e=>"object"==typeof e));return n.map(a)}function l3(e,t){let n=lQ(e,null==t?void 0:t.in);return n.setHours(0,0,0,0),n}function l2(e,t){let n=lQ(e)-lQ(t);return n<0?-1:n>0?1:n}function l6(e){return lG(e,Date.now())}function l5(e,t){let n=lQ(e,null==t?void 0:t.in);return n.setHours(23,59,59,999),n}function l4(e,t){var n,l,a,o,r,i,s,c;let u=lQ(e,null==t?void 0:t.in),d=u.getFullYear(),p=null!=(c=null!=(s=null!=(i=null!=(r=null==t?void 0:t.firstWeekContainsDate)?r:null==t||null==(l=t.locale)||null==(n=l.options)?void 0:n.firstWeekContainsDate)?i:lX.firstWeekContainsDate)?s:null==(o=lX.locale)||null==(a=o.options)?void 0:a.firstWeekContainsDate)?c:1,h=lG((null==t?void 0:t.in)||e,0);h.setFullYear(d+1,0,p),h.setHours(0,0,0,0);let f=l$(h,t),m=lG((null==t?void 0:t.in)||e,0);m.setFullYear(d,0,p),m.setHours(0,0,0,0);let g=l$(m,t);return+u>=+f?d+1:+u>=+g?d:d-1}function l8(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}var l9={y(e,t){let n=e.getFullYear(),l=n>0?n:1-n;return l8("yy"===t?l%100:l,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):l8(n+1,2)},d:(e,t)=>l8(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>l8(e.getHours()%12||12,t.length),H:(e,t)=>l8(e.getHours(),t.length),m:(e,t)=>l8(e.getMinutes(),t.length),s:(e,t)=>l8(e.getSeconds(),t.length),S(e,t){let n=t.length;return l8(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},l7={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ae={G:function(e,t,n){let l=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(l,{width:"abbreviated"});case"GGGGG":return n.era(l,{width:"narrow"});default:return n.era(l,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return l9.y(e,t)},Y:function(e,t,n,l){let a=l4(e,l),o=a>0?a:1-a;return"YY"===t?l8(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):l8(o,t.length)},R:function(e,t){return l8(lJ(e),t.length)},u:function(e,t){return l8(e.getFullYear(),t.length)},Q:function(e,t,n){let l=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(l);case"QQ":return l8(l,2);case"Qo":return n.ordinalNumber(l,{unit:"quarter"});case"QQQ":return n.quarter(l,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(l,{width:"narrow",context:"formatting"});default:return n.quarter(l,{width:"wide",context:"formatting"})}},q:function(e,t,n){let l=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(l);case"qq":return l8(l,2);case"qo":return n.ordinalNumber(l,{unit:"quarter"});case"qqq":return n.quarter(l,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(l,{width:"narrow",context:"standalone"});default:return n.quarter(l,{width:"wide",context:"standalone"})}},M:function(e,t,n){let l=e.getMonth();switch(t){case"M":case"MM":return l9.M(e,t);case"Mo":return n.ordinalNumber(l+1,{unit:"month"});case"MMM":return n.month(l,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(l,{width:"narrow",context:"formatting"});default:return n.month(l,{width:"wide",context:"formatting"})}},L:function(e,t,n){let l=e.getMonth();switch(t){case"L":return String(l+1);case"LL":return l8(l+1,2);case"Lo":return n.ordinalNumber(l+1,{unit:"month"});case"LLL":return n.month(l,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(l,{width:"narrow",context:"standalone"});default:return n.month(l,{width:"wide",context:"standalone"})}},w:function(e,t,n,l){var a,o,r,i,s,c,u,d;let p,h,f,m,g=Math.round((l$(m=lQ(e,null==l?void 0:l.in),l)-(p=null!=(d=null!=(u=null!=(c=null!=(s=null==l?void 0:l.firstWeekContainsDate)?s:null==l||null==(o=l.locale)||null==(a=o.options)?void 0:a.firstWeekContainsDate)?c:lX.firstWeekContainsDate)?u:null==(i=lX.locale)||null==(r=i.options)?void 0:r.firstWeekContainsDate)?d:1,h=l4(m,l),(f=lG((null==l?void 0:l.in)||m,0)).setFullYear(h,0,p),f.setHours(0,0,0,0),l$(f,l)))/6048e5)+1;return"wo"===t?n.ordinalNumber(g,{unit:"week"}):l8(g,t.length)},I:function(e,t,n){var l;let a,o,r,i=Math.round((lZ(r=lQ(e,void 0))-(a=lJ(r,void 0),(o=lG((null==l?void 0:l.in)||r,0)).setFullYear(a,0,4),o.setHours(0,0,0,0),lZ(o)))/6048e5)+1;return"Io"===t?n.ordinalNumber(i,{unit:"week"}):l8(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):l9.d(e,t)},D:function(e,t,n){let l,a,o=function(e,t,n){let[l,a]=l1(void 0,e,t),o=l3(l),r=l3(a);return Math.round((o-l0(o)-(r-l0(r)))/864e5)}(l=lQ(e,void 0),((a=lQ(l,void 0)).setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a))+1;return"Do"===t?n.ordinalNumber(o,{unit:"dayOfYear"}):l8(o,t.length)},E:function(e,t,n){let l=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(l,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(l,{width:"short",context:"formatting"});default:return n.day(l,{width:"wide",context:"formatting"})}},e:function(e,t,n,l){let a=e.getDay(),o=(a-l.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return l8(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,l){let a=e.getDay(),o=(a-l.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return l8(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){let l=e.getDay(),a=0===l?7:l;switch(t){case"i":return String(a);case"ii":return l8(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(l,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(l,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(l,{width:"short",context:"formatting"});default:return n.day(l,{width:"wide",context:"formatting"})}},a:function(e,t,n){let l=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,n){let l=e.getHours(),a;switch(a=12===l?l7.noon:0===l?l7.midnight:l/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){let l=e.getHours(),a;switch(a=l>=17?l7.evening:l>=12?l7.afternoon:l>=4?l7.morning:l7.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return l9.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):l9.H(e,t)},K:function(e,t,n){let l=e.getHours()%12;return"Ko"===t?n.ordinalNumber(l,{unit:"hour"}):l8(l,t.length)},k:function(e,t,n){let l=e.getHours();return 0===l&&(l=24),"ko"===t?n.ordinalNumber(l,{unit:"hour"}):l8(l,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):l9.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):l9.s(e,t)},S:function(e,t){return l9.S(e,t)},X:function(e,t,n){let l=e.getTimezoneOffset();if(0===l)return"Z";switch(t){case"X":return an(l);case"XXXX":case"XX":return al(l);default:return al(l,":")}},x:function(e,t,n){let l=e.getTimezoneOffset();switch(t){case"x":return an(l);case"xxxx":case"xx":return al(l);default:return al(l,":")}},O:function(e,t,n){let l=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+at(l,":");default:return"GMT"+al(l,":")}},z:function(e,t,n){let l=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+at(l,":");default:return"GMT"+al(l,":")}},t:function(e,t,n){return l8(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return l8(+e,t.length)}};function at(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e>0?"-":"+",l=Math.abs(e),a=Math.trunc(l/60),o=l%60;return 0===o?n+String(a):n+String(a)+t+l8(o,2)}function an(e,t){return e%60==0?(e>0?"-":"+")+l8(Math.abs(e)/60,2):al(e,t)}function al(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Math.abs(e);return(e>0?"-":"+")+l8(Math.trunc(n/60),2)+t+l8(n%60,2)}var aa=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},ao=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},ar={p:ao,P:(e,t)=>{let n,l=e.match(/(P+)(p+)?/)||[],a=l[1],o=l[2];if(!o)return aa(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",aa(a,t)).replace("{{time}}",ao(o,t))}},ai=/^D+$/,as=/^Y+$/,ac=["D","DD","YY","YYYY"],au=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ad=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ap=/^'([^]*?)'?$/,ah=/''/g,af=/[a-zA-Z]/;function am(e,t,n){var l,a,o,r,i,c,u,d,p,h,f,m,g,v,b,y,x,w;let C=null!=(h=null!=(p=null==n?void 0:n.locale)?p:lX.locale)?h:s.b,j=null!=(v=null!=(g=null!=(m=null!=(f=null==n?void 0:n.firstWeekContainsDate)?f:null==n||null==(a=n.locale)||null==(l=a.options)?void 0:l.firstWeekContainsDate)?m:lX.firstWeekContainsDate)?g:null==(r=lX.locale)||null==(o=r.options)?void 0:o.firstWeekContainsDate)?v:1,S=null!=(w=null!=(x=null!=(y=null!=(b=null==n?void 0:n.weekStartsOn)?b:null==n||null==(c=n.locale)||null==(i=c.options)?void 0:i.weekStartsOn)?y:lX.weekStartsOn)?x:null==(d=lX.locale)||null==(u=d.options)?void 0:u.weekStartsOn)?w:0,_=lQ(e,null==n?void 0:n.in);if(!(_ instanceof Date||"object"==typeof _&&"[object Date]"===Object.prototype.toString.call(_))&&"number"!=typeof _||isNaN(+lQ(_)))throw RangeError("Invalid time value");let k=t.match(ad).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,ar[t])(e,C.formatLong):e}).join("").match(au).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var n;let t;return{isToken:!1,value:(t=(n=e).match(ap))?t[1].replace(ah,"'"):n}}if(ae[t])return{isToken:!0,value:e};if(t.match(af))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});C.localize.preprocessor&&(k=C.localize.preprocessor(_,k));let N={firstWeekContainsDate:j,weekStartsOn:S,locale:C};return k.map(l=>{if(!l.isToken)return l.value;let a=l.value;return(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&as.test(a)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&ai.test(a))&&function(e,t,n){var l,a,o;let r,i=(l=e,a=t,o=n,r="Y"===l[0]?"years":"days of the month","Use `".concat(l.toLowerCase(),"` instead of `").concat(l,"` (in `").concat(a,"`) for formatting ").concat(r," to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(console.warn(i),ac.includes(e))throw RangeError(i)}(a,t,String(e)),(0,ae[a[0]])(_,a,C.localize,N)}).join("")}function ag(e,t){var n,l;let a="function"==typeof(n=t)&&(null==(l=n.prototype)?void 0:l.constructor)===n?new t(0):lG(t,0);return a.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),a.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),a}var av=e=>{let{date:t,i18n:n,pattern:l,timezone:a}=e,o=new lH(new Date(t));if(a){let e=lH.tz(a),t=ag(o.withTimeZone(a),e);return n.dateFNS?am(t,l,{locale:n.dateFNS}):"".concat(n.t("general:loading"),"...")}return n.dateFNS?am(o,l,{locale:n.dateFNS}):"".concat(n.t("general:loading"),"...")},ab=e=>{let{date:t,i18n:n}=e,l="string"==typeof t?new Date(t):t;return(null==n?void 0:n.dateFNS)?function(e,t){return function(e,t,n){var l,a,o;let r=null!=(a=null!=(l=null==n?void 0:n.locale)?l:lX.locale)?a:s.b,i=l2(e,t);if(isNaN(i))throw RangeError("Invalid time value");let c=Object.assign({},n,{addSuffix:null==n?void 0:n.addSuffix,comparison:i}),[u,d]=l1(null==n?void 0:n.in,...i>0?[t,e]:[e,t]),p=(o=void 0,e=>{let t=(o?Math[o]:Math.trunc)(e);return 0===t?0:t})((lQ(d)-lQ(u))/1e3),h=Math.round((p-(l0(d)-l0(u))/1e3)/60),f;if(h<2)return(null==n?void 0:n.includeSeconds)?p<5?r.formatDistance("lessThanXSeconds",5,c):p<10?r.formatDistance("lessThanXSeconds",10,c):p<20?r.formatDistance("lessThanXSeconds",20,c):p<40?r.formatDistance("halfAMinute",0,c):p<60?r.formatDistance("lessThanXMinutes",1,c):r.formatDistance("xMinutes",1,c):0===h?r.formatDistance("lessThanXMinutes",1,c):r.formatDistance("xMinutes",h,c);if(h<45)return r.formatDistance("xMinutes",h,c);if(h<90)return r.formatDistance("aboutXHours",1,c);if(h<1440){let e=Math.round(h/60);return r.formatDistance("aboutXHours",e,c)}if(h<2520)return r.formatDistance("xDays",1,c);if(h<43200){let e=Math.round(h/1440);return r.formatDistance("xDays",e,c)}if(h<86400)return f=Math.round(h/43200),r.formatDistance("aboutXMonths",f,c);if((f=function(e,t,n){var l;let a,o,r,[i,s,c]=l1(void 0,e,e,t),u=l2(s,c),d=Math.abs(function(e,t,n){let[l,a]=l1(void 0,e,t);return 12*(l.getFullYear()-a.getFullYear())+(l.getMonth()-a.getMonth())}(s,c));if(d<1)return 0;1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-u*d);let p=l2(s,c)===-u;+l5(a=lQ(i,void 0),l)==+(r=(o=lQ(a,null==l?void 0:l.in)).getMonth(),o.setFullYear(o.getFullYear(),r+1,0),o.setHours(23,59,59,999),o)&&1===d&&1===l2(i,c)&&(p=!1);let h=u*(d-p);return 0===h?0:h}(d,u))<12){let e=Math.round(h/43200);return r.formatDistance("xMonths",e,c)}{let e=f%12,t=Math.trunc(f/12);return e<3?r.formatDistance("aboutXYears",t,c):e<9?r.formatDistance("overXYears",t,c):r.formatDistance("almostXYears",t+1,c)}}(e,l6(e),t)}(l,{locale:n.dateFNS}):"".concat(n.t("general:loading"),"...")};function ay(e){return"object"==typeof e&&"root"in e}function ax(e,t){for(let n of e)"text"in n&&n.text?t+=n.text:"children"in n||(t+="[".concat(n.type,"]")),"children"in n&&n.children&&(t+=ax(n.children,t));return t}var aw=e=>{var t,n,l,a,o,r,i;let s,{collectionConfig:c,data:u,dateFormat:p,fallback:h,globalConfig:f,i18n:m}=e;if(c){let e=null==c||null==(o=c.admin)?void 0:o.useAsTitle;if(e&&(s=null==u?void 0:u[e])){let t=c.fields.find(t=>"name"in t&&t.name===e),n=(null==t?void 0:t.type)==="date",l=(null==t?void 0:t.type)==="relationship";n&&(s=av({date:s,i18n:m,pattern:"date"in t.admin&&(null==t||null==(i=t.admin)||null==(r=i.date)?void 0:r.displayFormat)||p})||s),l&&(s=(e=>Array.isArray(e)?e.map(e=>"object"==typeof e&&null!==e?e.id:String(e)).filter(Boolean).join(", "):"object"==typeof e&&null!==e?e.id||"":String(e))(u[e]))}}return f&&(s=(0,d.s)(null==f?void 0:f.label,m)||(null==f?void 0:f.slug)),s&&ay(s)&&(s=ax((null==(n=s.root.children)||null==(t=n[0])?void 0:t.children)||[],"")),!s&&ay(h)&&(s=ax((null==(a=h.root.children)||null==(l=a[0])?void 0:l.children)||[],"")),s||(s="string"==typeof h?h:"[".concat(m.t("general:untitled"),"]")),s},aC=(0,o.createContext)({}),aj=()=>(0,o.use)(aC),aS=e=>{let{children:t}=e,{id:n,collectionSlug:l,data:a,docConfig:r,globalSlug:c,initialData:d}=aD(),{config:{admin:{dateFormat:p}}}=(0,i.b)(),{i18n:h}=(0,s.d)(),[f,m]=(0,o.useState)(()=>aw({collectionConfig:l?r:void 0,data:{...d||{},id:n},dateFormat:p,fallback:null==n?void 0:n.toString(),globalConfig:c?r:void 0,i18n:h}));return(0,o.useEffect)(()=>{m(aw({collectionConfig:l?r:void 0,data:{...a,id:n},dateFormat:p,fallback:null==n?void 0:n.toString(),globalConfig:c?r:void 0,i18n:h}))},[a,p,h,n,l,r,c]),(0,u.jsx)(aC,{value:{setDocumentTitle:m,title:f},children:t})},a_=o.createContext({getUploadEdits:()=>{},resetUploadEdits:void 0,updateUploadEdits:void 0,uploadEdits:void 0}),ak=e=>{let t=(0,f.c)(10),{children:n,initialUploadEdits:l}=e,a;t[0]!==l?(a=l||{},t[0]=l,t[1]=a):a=t[1];let[r,i]=o.useState(a),s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{i({})},t[2]=s):s=t[2];let c=s,d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d=e=>{i(t=>({...t||{},...e||{}}))},t[3]=d):d=t[3];let p=d,h;t[4]!==r?(h=()=>r,t[4]=r,t[5]=h):h=t[5];let m=h,g;return t[6]!==n||t[7]!==m||t[8]!==r?(g=(0,u.jsx)(a_,{value:{getUploadEdits:m,resetUploadEdits:c,updateUploadEdits:p,uploadEdits:r},children:n}),t[6]=n,t[7]=m,t[8]=r,t[9]=g):g=t[9],g},aN=()=>o.use(a_),aE=e=>{let{collectionSlug:t,docPermissions:n,globalSlug:l,isEditing:a}=e;return t?!!(a&&(null==n?void 0:n.update)||!a&&(null==n?void 0:n.create)):!!l&&!!(null==n?void 0:n.update)},aP=(0,o.createContext)({}),aD=()=>(0,o.use)(aP),aT=e=>{let{children:t,...n}=e,{id:l,collectionSlug:a,currentEditor:r,docPermissions:c,globalSlug:d,hasPublishedDoc:p,hasPublishPermission:h,hasSavePermission:f,initialData:m,initialState:g,isLocked:v,lastUpdateTime:y,mostRecentVersionIsAutosaved:x,unpublishedVersionCount:w,versionCount:C}=n,[j,S]=lI(c),[_,k]=lI(f),[N,E]=lI(h),{permissions:P}=lx(),{config:{admin:{dateFormat:D},routes:{api:T},serverURL:A},getEntityConfig:R}=(0,i.b)(),L=R({collectionSlug:a}),O=R({globalSlug:d}),F=(0,o.useRef)(new AbortController),I=L||O,{i18n:M}=(0,s.d)(),{uploadEdits:B}=aN(),[z,U]=(0,o.useState)(()=>aw({collectionConfig:L,data:{...m||{},id:l},dateFormat:D,fallback:null==l?void 0:l.toString(),globalConfig:O,i18n:M})),[V,H]=(0,o.useState)(x),[q,W]=(0,o.useState)(C),[K,Y]=(0,o.useState)(p),[G,Q]=(0,o.useState)(w),[X,$]=lI(v),[Z,J]=lI(r),[ee,et]=lI(y),[en,el]=lI(m),[ea,eo]=lI("idle"),er=(0,o.useRef)({hasShownLockedModal:!1,isLocked:!1,user:null}),ei=(0,o.useCallback)(e=>{eo(e)},[eo]),{getPreference:es,setPreference:ec}=lS(),{code:eu}=lD(),{localeIsLoading:ed}=lP(),ep=(0,o.useMemo)(()=>void 0===g||void 0===m||ed,[m,g,ed]),eh="".concat(A).concat(T),ef,em,eg;d&&(ef=d,em="globals",eg="global-".concat(ef)),a&&(ef=a,em="collections",l&&(eg="collection-".concat(ef,"-").concat(l)));let ev=(0,o.useCallback)(async(e,t)=>{try{let n=t===d,l=await lv.get("".concat(A).concat(T,"/payload-locked-documents"),{credentials:"include",params:n?{"where[globalSlug][equals]":t}:{"where[document.relationTo][equals]":t,"where[document.value][equals]":e}}),{docs:a}=await l.json();if((null==a?void 0:a.length)>0){let e=a[0].id;await lv.delete("".concat(A).concat(T,"/payload-locked-documents/").concat(e),{credentials:"include",headers:{"Content-Type":"application/json"}}),$(!1)}}catch(e){console.error("Failed to unlock the document",e)}},[A,T,d,$]),eb=(0,o.useCallback)(async(e,t,n)=>{try{let l=t===d,a=await lv.get("".concat(A).concat(T,"/payload-locked-documents"),{credentials:"include",params:l?{"where[globalSlug][equals]":t}:{"where[document.relationTo][equals]":t,"where[document.value][equals]":e}}),{docs:o}=await a.json();if((null==o?void 0:o.length)>0){let e=o[0].id,t="object"==typeof n?{relationTo:n.collection,value:n.id}:{relationTo:"users",value:n};await lv.patch("".concat(A).concat(T,"/payload-locked-documents/").concat(e),{body:JSON.stringify({user:t}),credentials:"include",headers:{"Content-Type":"application/json"}})}}catch(e){console.error("Failed to update the document editor",e)}},[A,T,d]),ey=(e=>{let{id:t,api:n,collectionSlug:l,globalSlug:a,i18n:r,locale:i,permissions:s,serverURL:c,setDocPermissions:u,setHasPublishPermission:d,setHasSavePermission:p}=e;return o.useCallback(async e=>{let o={locale:i||void 0},h=(null==e?void 0:e.id)||t,f=(e=>{let{id:t,collectionSlug:n,globalSlug:l}=e;return!!(l||n&&t)})({id:h,collectionSlug:l,globalSlug:a});if(f){let t=l?"/".concat(l,"/access/").concat(h):a?"/globals/".concat(a,"/access"):null;if(t){let i=await (await fetch("".concat(c).concat(n).concat(t,"?").concat(b.A(o)),{body:JSON.stringify({...e||{},_status:"draft"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"post"})).json(),s=await fetch("".concat(c).concat(n).concat(t,"?").concat(b.A(o)),{body:JSON.stringify({...e||{},_status:"published"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"POST"}).then(e=>e.json());u(i),p(aE({collectionSlug:l,docPermissions:i,globalSlug:a,isEditing:f})),d(null==s?void 0:s.update)}}else{var m,g;let e=l?null==s||null==(m=s.collections)?void 0:m[l]:null==s||null==(g=s.globals)?void 0:g[a];u(e),p(aE({collectionSlug:l,docPermissions:e,globalSlug:a,isEditing:f}))}},[i,t,l,a,c,n,r.language,u,p,d,null==s?void 0:s.collections,null==s?void 0:s.globals])})({id:l,api:T,collectionSlug:a,globalSlug:d,i18n:M,locale:eu,permissions:P,serverURL:A,setDocPermissions:S,setHasPublishPermission:E,setHasSavePermission:k}),ex=(0,o.useCallback)(()=>es(eg),[es,eg]),ew=(0,o.useCallback)(async(e,t)=>{let n=await ex();if(eg)try{var l;await ec(eg,{...n,fields:{...(null==n?void 0:n.fields)||{},[e]:{...null==n||null==(l=n.fields)?void 0:l[e],...t}}})}catch(e){console.error(e)}},[ec,eg,ex]),eC=(0,o.useCallback)(()=>{let e=q+1;L&&L.versions?L.versions.maxPerDoc>0?W(Math.min(e,L.versions.maxPerDoc)):W(e):O&&O.versions&&(O.versions.max>0?W(Math.min(e,O.versions.max)):W(e))},[L,O,q]);(0,o.useEffect)(()=>{U(aw({collectionConfig:L,data:{...en,id:l},dateFormat:D,fallback:null==l?void 0:l.toString(),globalConfig:O,i18n:M}))},[L,O,en,D,M,l]),(0,o.useEffect)(()=>{let e=F.current;return()=>{if(e)try{e.abort()}catch(e){}}},[]);let ej=o.useMemo(()=>"".concat("".concat(eh).concat("globals"===em?"/globals":"","/").concat(ef).concat(l?"/".concat(l):"")).concat(b.A({depth:0,"fallback-locale":"null",locale:eu,uploadEdits:B||void 0},{addQueryPrefix:!0})),[eh,eu,em,l,ef,B]),eS={...n,action:ej,currentEditor:Z,data:en,docConfig:I,docPermissions:j,documentIsLocked:X,documentLockState:er,getDocPermissions:ey,getDocPreferences:ex,hasPublishedDoc:K,hasPublishPermission:N,hasSavePermission:_,incrementVersionCount:eC,initialData:m,initialState:g,isInitializing:ep,lastUpdateTime:ee,mostRecentVersionIsAutosaved:V,preferencesKey:eg,savedDocumentData:en,setCurrentEditor:J,setData:el,setDocFieldPreferences:ew,setDocumentIsLocked:$,setDocumentTitle:U,setHasPublishedDoc:Y,setLastUpdateTime:et,setMostRecentVersionIsAutosaved:H,setUnpublishedVersionCount:Q,setUploadStatus:ei,title:z,unlockDocument:ev,unpublishedVersionCount:G,updateDocumentEditor:eb,updateSavedDocumentData:el,uploadStatus:ea,versionCount:q};return(0,u.jsx)(aP,{value:eS,children:(0,u.jsx)(aS,{children:t})})},aA=e=>(0,u.jsx)(ak,{children:(0,u.jsx)(aT,{...e})}),aR=(0,o.createContext)(""),aL=e=>{let{children:t,operation:n}=e;return(0,u.jsx)(aR,{value:n,children:t})},aO=()=>(0,o.use)(aR),aF=o.createContext(void 0),aI=()=>{let e=o.useContext(aF);if(e)return e},aM=o.createContext(void 0),aB=e=>{let t=aI(),n=o.use(aM),l=o.useRef(null);if(null===l.current){let a=(null==e?void 0:e.path)||t||e.potentiallyStalePath;l.current=!!(n&&a&&n.path===a)}if(!0===l.current){if(!n)throw Error("FieldContext was removed after mount. This breaks hook ordering.");return n}return(e=>{let t=(0,f.c)(65),n;t[0]!==e?(n=e||{},t[0]=e,t[1]=n):n=t[1];let{disableFormData:l,hasRows:a,path:r,potentiallyStalePath:c,validate:u}=n,d=void 0!==l&&l,p=aI(),h=r||p||c,m=eT(),g=eA(),v=eO(),{user:b}=lx(),{id:y,collectionSlug:x}=aD(),w=aO(),C=eF(az),j;t[2]!==h?(j=e=>{let[t]=e;return t&&(null==t?void 0:t[h])||null},t[2]=h,t[3]=j):j=t[3];let S=eF(j),{t:_}=(0,s.d)(),{config:k}=(0,i.b)(),{getData:N,getDataByPath:E,getSiblingData:P,setModified:D}=eE(),T=eP(),A=null==S?void 0:S.filterOptions,R=null==S?void 0:S.value,L=null==S?void 0:S.initialValue,O="boolean"!=typeof(null==S?void 0:S.valid)||S.valid,F=!1===O&&m,I=(0,o.useRef)(O),M=(0,o.useRef)(null==S?void 0:S.errorMessage),B;t[4]!==h?(B=h?h.split("."):[],t[4]=h,t[5]=B):B=t[5];let z=B,U;t[6]!==d||t[7]!==C||t[8]!==a||t[9]!==h||t[10]!==D?(U=(e,t)=>{let n=e&&"object"==typeof e&&"function"==typeof e.preventDefault&&"function"==typeof e.stopPropagation?e.target.value:e;C({type:"UPDATE",disableFormData:d||a&&n>0,path:h,value:n}),void 0!==t&&t||D(!0)},t[6]=d,t[7]=C,t[8]=a,t[9]=h,t[10]=D,t[11]=U):U=t[11];let V=U,H=null==S?void 0:S.blocksFilterOptions,q=null==S?void 0:S.customComponents,W=g||v,K=null==S?void 0:S.errorMessage,Y;t[12]!==(null==S?void 0:S.errorPaths)?(Y=(null==S?void 0:S.errorPaths)||[],t[12]=null==S?void 0:S.errorPaths,t[13]=Y):Y=t[13];let G=null==S?void 0:S.rows,Q=null==S?void 0:S.selectFilterOptions,X=null==S?void 0:S.valid,$;t[14]!==A||t[15]!==L||t[16]!==v||t[17]!==h||t[18]!==g||t[19]!==V||t[20]!==F||t[21]!==m||t[22]!==G||t[23]!==Q||t[24]!==X||t[25]!==H||t[26]!==q||t[27]!==W||t[28]!==K||t[29]!==Y||t[30]!==R?($={blocksFilterOptions:H,customComponents:q,disabled:W,errorMessage:K,errorPaths:Y,filterOptions:A,formInitializing:v,formProcessing:g,formSubmitted:m,initialValue:L,path:h,rows:G,selectFilterOptions:Q,setValue:V,showError:F,valid:X,value:R},t[14]=A,t[15]=L,t[16]=v,t[17]=h,t[18]=g,t[19]=V,t[20]=F,t[21]=m,t[22]=G,t[23]=Q,t[24]=X,t[25]=H,t[26]=q,t[27]=W,t[28]=K,t[29]=Y,t[30]=R,t[31]=$):$=t[31];let Z=$,J;t[32]!==x||t[33]!==k||t[34]!==d||t[35]!==C||t[36]!==T||t[37]!==S||t[38]!==N||t[39]!==E||t[40]!==P||t[41]!==a||t[42]!==y||t[43]!==w||t[44]!==h||t[45]!==z||t[46]!==_||t[47]!==b||t[48]!==u||t[49]!==R?(J=()=>{(async()=>{let e=R;(null==S?void 0:S.rows)&&Array.isArray(S.rows)&&(e=E(h));let t=M.current,n=I.current,l=N(),o="function"==typeof u?await u(e,{id:y,blockData:void 0,collectionSlug:x,data:(null==T?void 0:T.getData)?T.getData():l,event:"onChange",operation:w,path:z,preferences:{},req:{payload:{config:k},t:_,user:b},siblingData:P(h)}):"string"==typeof M.current?M.current:I.current;if("string"==typeof o?(n=!1,t=o):"boolean"==typeof o&&(n=o,t=void 0),n!==I.current||t!==M.current){I.current=n,M.current=t;let e={type:"UPDATE",errorMessage:t,path:h,rows:null==S?void 0:S.rows,valid:n,validate:u,value:R};(d||a&&"number"==typeof R&&R>0)&&(e.disableFormData=!0),"function"==typeof C&&C(e)}})()},t[32]=x,t[33]=k,t[34]=d,t[35]=C,t[36]=T,t[37]=S,t[38]=N,t[39]=E,t[40]=P,t[41]=a,t[42]=y,t[43]=w,t[44]=h,t[45]=z,t[46]=_,t[47]=b,t[48]=u,t[49]=R,t[50]=J):J=t[50];let ee=null==S?void 0:S.rows,et;return t[51]!==x||t[52]!==d||t[53]!==C||t[54]!==N||t[55]!==E||t[56]!==P||t[57]!==y||t[58]!==w||t[59]!==h||t[60]!==ee||t[61]!==b||t[62]!==u||t[63]!==R?(et=[R,d,C,N,P,E,y,w,h,b,u,ee,x],t[51]=x,t[52]=d,t[53]=C,t[54]=N,t[55]=E,t[56]=P,t[57]=y,t[58]=w,t[59]=h,t[60]=ee,t[61]=b,t[62]=u,t[63]=R,t[64]=et):et=t[64],lF(J,150,et),Z})(e)};function az(e){let[,t]=e;return t}var aU=e=>{let t=(0,f.c)(2),{children:n,path:l}=e,a;t[0]!==l?(a=e=>{let[t]=e;return t&&(null==t?void 0:t[l])||null},t[0]=l,t[1]=a):a=t[1];let{passesCondition:o}=eF(a)||{};return!1===o?null:n},aV=e=>t=>{let{path:n}=t;return(0,u.jsx)(aU,{path:n,children:(0,u.jsx)(e,{...t})})},aH=e=>{var t,n,l,a;return{...(null==e||null==(t=e.admin)?void 0:t.style)||{},...(null==e||null==(n=e.admin)?void 0:n.width)?{"--field-width":e.admin.width}:{flex:"1 1 auto"},...(null==e||null==(a=e.admin)||null==(l=a.style)?void 0:l.flex)?{flex:e.admin.style.flex}:{}}},aq="field-type";function aW(e){let{fieldLocalized:t,fieldRTL:n,locale:l,localizationConfig:a}=e,o=l&&a&&a.locales&&a.locales.length>1,r=(null==l?void 0:l.code)===(null==a?void 0:a.defaultLocale);return!1!==n&&(null==l?void 0:l.rtl)===!0&&(t||!t&&!o||!t&&r)||!0===n}var aK=()=>(0,u.jsx)("svg",{className:"icon icon--check",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M15.3333 6.00001L8.00001 13.3333L4.66667 10",strokeLinecap:"square"})}),aY=()=>(0,u.jsx)("svg",{className:"icon icon--line",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M5.33333 10H14.6667",strokeLinecap:"square"})}),aG="checkbox-input",aQ=e=>{let t=(0,f.c)(22),{id:n,name:l,AfterInput:a,BeforeInput:r,checked:i,className:s,inputRef:c,Label:d,label:p,localized:h,onToggle:m,partialChecked:g,readOnly:v,required:b}=e,y=(0,o.useId)(),x=n||y,w=i&&"".concat(aG,"--checked"),C=v&&"".concat(aG,"--read-only"),j;t[0]!==s||t[1]!==w||t[2]!==C?(j=[s,aG,w,C].filter(Boolean),t[0]=s,t[1]=w,t[2]=C,t[3]=j):j=t[3];let S=j.join(" "),_=!!i,k;if(t[4]!==a||t[5]!==r||t[6]!==d||t[7]!==i||t[8]!==x||t[9]!==c||t[10]!==p||t[11]!==h||t[12]!==l||t[13]!==m||t[14]!==g||t[15]!==v||t[16]!==b||t[17]!==S||t[18]!==_){let e=(0,u.jsx)("input",{"aria-label":"","aria-labelledby":l,defaultChecked:_,disabled:v,id:x,name:l,onInput:m,ref:c,required:b,title:l,type:"checkbox"}),n=!i&&g?"partial":"check",o;t[20]!==n?(o=["".concat(aG,"__icon"),n].filter(Boolean),t[20]=n,t[21]=o):o=t[21],k=(0,u.jsxs)("div",{className:S,children:[(0,u.jsxs)("div",{className:"".concat(aG,"__input"),children:[r,e,(0,u.jsxs)("span",{className:o.join(" "),children:[i&&(0,u.jsx)(aK,{}),!i&&g&&(0,u.jsx)(aY,{})]}),a]}),(0,u.jsx)(ed,{CustomComponent:d,Fallback:(0,u.jsx)(lR,{htmlFor:x,label:p,localized:h,required:b})})]}),t[4]=a,t[5]=r,t[6]=d,t[7]=i,t[8]=x,t[9]=c,t[10]=p,t[11]=h,t[12]=l,t[13]=m,t[14]=g,t[15]=v,t[16]=b,t[17]=S,t[18]=_,t[19]=k}else k=t[19];return k},aX="checkbox",a$=aV(e=>{let{id:t,checked:n,disableFormData:l,field:a,field:{admin:{className:r,description:i}={},label:c,required:d}={},onChange:p,partialChecked:h,path:f,readOnly:m,validate:g}=e,{uuid:v}=eE(),b=ni(),{i18n:{language:y}}=(0,s.d)(),w=x.aG.includes(y),{customComponents:{AfterInput:C,BeforeInput:j,Description:S,Error:_,Label:k}={},disabled:N,path:E,setValue:P,showError:D,value:T}=aB({disableFormData:l,potentiallyStalePath:f,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof g)return g(e,{...t,required:d})},[g,d])}),A=(0,o.useCallback)(()=>{m||(P(!T),"function"==typeof p&&p(!T))},[p,m,P,T]),R=n||!!T,L=t||lA(E,b,v),O=(0,o.useMemo)(()=>aH(a),[a]);return(0,u.jsxs)("div",{className:[aq,aX,D&&"error",r,T&&"".concat(aX,"--checked"),(m||N)&&"".concat(aX,"--read-only")].filter(Boolean).join(" "),style:O,children:[(0,u.jsx)(ed,{CustomComponent:_,Fallback:(0,u.jsx)(na,{alignCaret:w?"right":"left",path:E,showError:D})}),(0,u.jsx)(aQ,{AfterInput:C,BeforeInput:j,checked:R,id:L,inputRef:null,Label:k,label:c,name:E,onToggle:A,partialChecked:h,readOnly:m||N,required:d}),(0,u.jsx)(ed,{CustomComponent:S,Fallback:(0,u.jsx)(nl,{description:i,path:E})})]})}),aZ=e=>{let t,n,l=(0,f.c)(13),{fieldValue:a,localized:r,path:c,readOnly:d}=e,p=void 0!==d&&d,{code:h}=lD(),{config:m}=(0,i.b)(),{localization:g}=m,[v,b]=o.useState("number"!=typeof a),{t:y}=(0,s.d)(),{dispatchFields:x,setModified:w}=eE();if(!r||!g||g.defaultLocale===h||!g.fallback)return null;l[0]!==v||l[1]!==x||l[2]!==a||l[3]!==c||l[4]!==w?(t=()=>{let e=!v;x({type:"UPDATE",path:c,value:e?null:a||0}),w(!0),b(e)},l[0]=v,l[1]=x,l[2]=a,l[3]=c,l[4]=w,l[5]=t):t=l[5];let C=t;if(a){let e=!1;if("number"==typeof a&&a>0&&(e=!0),Array.isArray(a)&&a.length>0&&(e=!0),e)return v&&b(!1),null}return l[6]!==v||l[7]!==a||l[8]!==C||l[9]!==c||l[10]!==p||l[11]!==y?(n=(0,u.jsx)(tn,{className:"nullify-locale-field",children:!a&&p?y("general:fallbackToDefaultLocale"):(0,u.jsx)(a$,{checked:v,field:{name:"",label:y("general:fallbackToDefaultLocale")},id:"field-".concat(c.replace(/\./g,"__")),onChange:C,path:c,schemaPath:""})}),l[6]=v,l[7]=a,l[8]=C,l[9]=c,l[10]=p,l[11]=y,l[12]=n):n=l[12],n},aJ=e=>{let t=document.getElementById(e);if(t){let e=t.getBoundingClientRect();window.scrollBy({behavior:"smooth",top:e.top-100})}},a0="array-actions",a1=e=>{let t=(0,f.c)(12),{addRow:n,copyRow:l,duplicateRow:a,hasMaxRows:r,index:i,isSortable:c,moveRow:d,pasteRow:p,removeRow:h,rowCount:m}=e,{t:g}=(0,s.d)(),v;return t[0]!==n||t[1]!==l||t[2]!==a||t[3]!==r||t[4]!==i||t[5]!==c||t[6]!==d||t[7]!==p||t[8]!==h||t[9]!==m||t[10]!==g?(v=(0,u.jsx)(t_,{button:(0,u.jsx)(tL,{}),buttonClassName:"".concat(a0,"__button"),className:a0,horizontalAlign:"center",render:e=>{let{close:t}=e;return(0,u.jsxs)(ts.ButtonGroup,{buttonSize:"small",children:[c&&0!==i&&(0,u.jsxs)(ts.Button,{className:"".concat(a0,"__action ").concat(a0,"__move-up"),onClick:()=>{d(i,i-1),t()},children:[(0,u.jsx)("div",{className:"".concat(a0,"__action-chevron"),children:(0,u.jsx)(tl,{direction:"up"})}),g("general:moveUp")]}),c&&i<m-1&&(0,u.jsxs)(ts.Button,{className:"".concat(a0,"__action"),onClick:()=>{d(i,i+1),t()},children:[(0,u.jsx)("div",{className:"".concat(a0,"__action-chevron"),children:(0,u.jsx)(tl,{})}),g("general:moveDown")]}),!r&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)(ts.Button,{className:"".concat(a0,"__action ").concat(a0,"__add"),onClick:()=>{n(i+1),t()},children:[(0,u.jsx)(tr,{}),g("general:addBelow")]}),(0,u.jsxs)(ts.Button,{className:"".concat(a0,"__action ").concat(a0,"__duplicate"),onClick:()=>{a(i),t()},children:[(0,u.jsx)(tO,{}),g("general:duplicate")]})]}),(0,u.jsx)(ts.Button,{className:"".concat(a0,"__action ").concat(a0,"__copy"),onClick:()=>{l(i),t()},children:(0,u.jsx)(tF,{isRow:!0})}),(0,u.jsx)(ts.Button,{className:"".concat(a0,"__action ").concat(a0,"__paste"),onClick:()=>{p(i),t()},children:(0,u.jsx)(tF,{isPaste:!0,isRow:!0})}),(0,u.jsxs)(ts.Button,{className:"".concat(a0,"__action ").concat(a0,"__remove"),onClick:()=>{h(i),t()},children:[(0,u.jsx)(s.a,{}),g("general:remove")]})]})},size:"medium"}),t[0]=n,t[1]=l,t[2]=a,t[3]=r,t[4]=i,t[5]=c,t[6]=d,t[7]=p,t[8]=h,t[9]=m,t[10]=g,t[11]=v):v=t[11],v},a3=e=>{let{className:t}=e;return(0,u.jsxs)("svg",{className:["icon icon--drag-handle",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{className:"fill",d:"M7.99999 10.6667C8.36818 10.6667 8.66666 10.3682 8.66666 9.99999C8.66666 9.6318 8.36818 9.33332 7.99999 9.33332C7.63181 9.33332 7.33333 9.6318 7.33333 9.99999C7.33333 10.3682 7.63181 10.6667 7.99999 10.6667Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M7.99999 5.99999C8.36818 5.99999 8.66666 5.70151 8.66666 5.33332C8.66666 4.96513 8.36818 4.66666 7.99999 4.66666C7.63181 4.66666 7.33333 4.96513 7.33333 5.33332C7.33333 5.70151 7.63181 5.99999 7.99999 5.99999Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M7.99999 15.3333C8.36818 15.3333 8.66666 15.0348 8.66666 14.6667C8.66666 14.2985 8.36818 14 7.99999 14C7.63181 14 7.33333 14.2985 7.33333 14.6667C7.33333 15.0348 7.63181 15.3333 7.99999 15.3333Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M12 10.6667C12.3682 10.6667 12.6667 10.3682 12.6667 9.99999C12.6667 9.6318 12.3682 9.33332 12 9.33332C11.6318 9.33332 11.3333 9.6318 11.3333 9.99999C11.3333 10.3682 11.6318 10.6667 12 10.6667Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M12 5.99999C12.3682 5.99999 12.6667 5.70151 12.6667 5.33332C12.6667 4.96513 12.3682 4.66666 12 4.66666C11.6318 4.66666 11.3333 4.96513 11.3333 5.33332C11.3333 5.70151 11.6318 5.99999 12 5.99999Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M12 15.3333C12.3682 15.3333 12.6667 15.0348 12.6667 14.6667C12.6667 14.2985 12.3682 14 12 14C11.6318 14 11.3333 14.2985 11.3333 14.6667C11.3333 15.0348 11.6318 15.3333 12 15.3333Z",strokeLinecap:"square"})]})},a2=e=>{let{id:t,children:n,className:l,duration:a=300,height:r}=e,[i,s]=o.useState(()=>!!r),c=(0,o.useRef)(i),[d,p]=o.useState(()=>i?"":"none"),[h,f]=o.useState(()=>i?"":"hidden"),[m,g]=o.useState(!1),v=(0,o.useRef)(null),b=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e,t,n=!!r,l=c.current!==n;return c.current=n,l&&(g(!0),f("hidden"),n?p(""):e=window.setTimeout(()=>{p("none")},a),s(n),t=window.setTimeout(()=>{f(""),g(!1)},a)),()=>{e&&clearTimeout(e),t&&clearTimeout(t)}},[r,a]),(e=>{let{containerRef:t,contentRef:n,duration:l,open:a}=e,r=(0,o.useMemo)(()=>!!("u">typeof CSS&&CSS)&&!!CSS.supports&&CSS.supports("interpolate-size","allow-keywords"),[]),i=(0,o.useRef)(!1),s=(0,o.useRef)(a),[c,u]=(0,o.useState)(!1),d=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e=t.current,o=n.current;if(!e||!o||r)return;let p=t=>{e.style.height=t};return(()=>{if(!i.current&&a){p("auto"),u(!1);return}i.current=!0,s.current!==a&&p(a?"0px":"".concat(o.scrollHeight,"px")),e.offsetHeight,u(!0),e.style.transition="height ".concat(l,"ms ease"),p(a?"".concat(o.scrollHeight,"px"):"0px");let t=()=>{e&&(e.style.transition="",e.style.height=a?"auto":"0px",u(!1)),e.removeEventListener("transitionend",t)};e.addEventListener("transitionend",t)})(),s.current=a,d.current=new ResizeObserver(()=>{c&&(e.style.height=a?"".concat(o.scrollHeight,"px"):"0px")}),d.current.observe(o),()=>{var t;e&&(e.style.transition="",e.style.height=""),null==(t=d.current)||t.disconnect()}},[a,l,t,n,r])})({containerRef:v,contentRef:b,duration:a,open:i}),(0,u.jsx)("div",{"aria-hidden":!i,className:[l,"rah-static",i&&"auto"===r&&"rah-static--height-auto",m&&"rah-animating--".concat(i?"down":"up"),m&&"auto"===r&&"rah-animating--to-height-auto"].filter(Boolean).join(" "),id:t,ref:v,style:{overflow:h,transition:"height ".concat(a,"ms ease")},children:(0,u.jsx)("div",{ref:b,...d?{style:{display:d}}:{},children:n})})},a6=(0,o.createContext)({isCollapsed:void 0,isVisible:void 0,isWithinCollapsible:void 0,toggle:()=>{}}),a5=e=>{let{children:t,isCollapsed:n,isWithinCollapsible:l=!0,toggle:a}=e,{isCollapsed:r,isVisible:i}=a4(),s=o.useMemo(()=>({isCollapsed:n,isVisible:i&&!r,isWithinCollapsible:l,toggle:a}),[n,l,a,r,i]);return(0,u.jsx)(a6,{value:s,children:t})},a4=()=>(0,o.use)(a6),a8="collapsible",a9=e=>{let t,n=(0,f.c)(25),{actions:l,AfterCollapsible:a,children:r,className:i,collapsibleStyle:c,disableHeaderToggle:d,disableToggleIndicator:p,dragHandleProps:h,header:m,initCollapsed:g,isCollapsed:v,onToggle:b}=e,y=void 0!==d&&d,x=void 0!==p&&p,[w,C]=(0,o.useState)(!!g),[j,S]=(0,o.useState)(!1),{isWithinCollapsible:_}=a4(),{t:k}=(0,s.d)(),N="boolean"==typeof v?v:w,E;n[0]!==N||n[1]!==b?(E=()=>{"function"==typeof b&&b(!N),C(!N)},n[0]=N,n[1]=b,n[2]=E):E=n[2];let P=E,D=h&&"".concat(a8,"--has-drag-handle"),T=N&&"".concat(a8,"--collapsed"),A=_&&"".concat(a8,"--nested"),R=j&&!y&&"".concat(a8,"--hovered"),L="".concat(a8,"--style-").concat(void 0===c?"default":c),O;n[3]!==i||n[4]!==D||n[5]!==T||n[6]!==A||n[7]!==R||n[8]!==L?(O=[a8,i,D,T,A,R,L].filter(Boolean),n[3]=i,n[4]=D,n[5]=T,n[6]=A,n[7]=R,n[8]=L,n[9]=O):O=n[9];let F=O.join(" "),I="".concat(a8,"__toggle-wrap").concat(y?" toggle-disabled":""),M,B;return n[10]===Symbol.for("react.memo_cache_sentinel")?(M=()=>S(!0),B=()=>S(!1),n[10]=M,n[11]=B):(M=n[10],B=n[11]),n[12]!==a||n[13]!==l||n[14]!==r||n[15]!==y||n[16]!==x||n[17]!==h||n[18]!==m||n[19]!==N||n[20]!==k||n[21]!==F||n[22]!==I||n[23]!==P?(t=(0,u.jsx)("div",{className:F,children:(0,u.jsxs)(a5,{isCollapsed:N,toggle:P,children:[(0,u.jsxs)("div",{className:I,onMouseEnter:M,onMouseLeave:B,children:[!y&&(0,u.jsx)("button",{className:["".concat(a8,"__toggle"),"".concat(a8,"__toggle--").concat(N?"collapsed":"open")].filter(Boolean).join(" "),onClick:P,type:"button",children:(0,u.jsx)("span",{children:k("fields:toggleBlock")})}),h&&(0,u.jsx)("div",{className:"".concat(a8,"__drag"),...h.attributes,...h.listeners,children:(0,u.jsx)(a3,{})}),m?(0,u.jsx)("div",{className:["".concat(a8,"__header-wrap"),h&&"".concat(a8,"__header-wrap--has-drag-handle")].filter(Boolean).join(" "),children:m}):null,(0,u.jsxs)("div",{className:"".concat(a8,"__actions-wrap"),children:[l?(0,u.jsx)("div",{className:"".concat(a8,"__actions"),children:l}):null,!x&&(0,u.jsx)("div",{className:"".concat(a8,"__indicator"),children:(0,u.jsx)(tl,{direction:N?void 0:"up"})})]})]}),(0,u.jsx)(a2,{height:N?0:"auto",children:(0,u.jsx)("div",{className:"".concat(a8,"__content"),children:r})}),a]})}),n[12]=a,n[13]=l,n[14]=r,n[15]=y,n[16]=x,n[17]=h,n[18]=m,n[19]=N,n[20]=k,n[21]=F,n[22]=I,n[23]=P,n[24]=t):t=n[24],t},a7=e=>{var t;let n=(0,f.c)(9),{children:l,className:a,forceRender:r}=e,[i,s]=o.useState(!!r),c;n[0]===Symbol.for("react.memo_cache_sentinel")?(c={rootMargin:"1000px"},n[0]=c):c=n[0];let[d,p]=tw(c,!!r),h=!!(null==p?void 0:p.isIntersecting),m=(null==p||null==(t=p.boundingClientRect)?void 0:t.top)<0,g=r||h||m,v,b;n[1]!==i||n[2]!==g?(v=()=>{g&&!i&&s(!0)},b=[g,i],n[1]=i,n[2]=g,n[3]=v,n[4]=b):(v=n[3],b=n[4]),o.useEffect(v,b);let y=i?l:null,x;return n[5]!==a||n[6]!==d||n[7]!==y?(x=(0,u.jsx)("div",{className:a,ref:d,children:y}),n[5]=a,n[6]=d,n[7]=y,n[8]=x):x=n[8],x},oe="pill",ot=e=>{let t=(0,f.c)(12),{id:n,className:l}=e,a;t[0]!==n?(a={id:n},t[0]=n,t[1]=a):a=t[1];let{attributes:o,isDragging:r,listeners:i,setNodeRef:s,transform:c}=t8(a),d=r&&"".concat(oe,"--is-dragging"),p;t[2]!==l||t[3]!==d?(p=[d,l].filter(Boolean),t[2]=l,t[3]=d,t[4]=p):p=t[4];let h=p.join(" "),m;return t[5]!==o||t[6]!==i||t[7]!==e||t[8]!==s||t[9]!==h||t[10]!==c?(m=(0,u.jsx)(on,{...e,className:h,elementProps:{...i,...o,ref:s,style:{transform:c}}}),t[5]=o,t[6]=i,t[7]=e,t[8]=s,t[9]=h,t[10]=c,t[11]=m):m=t[11],m},on=e=>{let{id:t,alignIcon:n="right","aria-checked":l,"aria-controls":a,"aria-expanded":o,"aria-label":r,children:i,className:s,draggable:c,elementProps:d,icon:p,onClick:h,pillStyle:f="light",rounded:m,size:g="medium",to:v}=e,b=[oe,"".concat(oe,"--style-").concat(f),"".concat(oe,"--size-").concat(g),s&&s,v&&"".concat(oe,"--has-link"),(v||h)&&"".concat(oe,"--has-action"),p&&"".concat(oe,"--has-icon"),p&&"".concat(oe,"--align-icon-").concat(n),c&&"".concat(oe,"--draggable"),m&&"".concat(oe,"--rounded")].filter(Boolean).join(" "),y="div";return h&&!v&&(y="button"),v&&(y=te),(0,u.jsxs)(y,{...d,"aria-checked":l,"aria-controls":a,"aria-expanded":o,"aria-label":r,className:b,href:v||null,id:t,onClick:h,type:"button"===y?"button":void 0,children:[(0,u.jsx)("span",{className:"".concat(oe,"__label"),children:i}),!!p&&(0,u.jsx)("span",{className:"".concat(oe,"__icon"),children:p})]})},ol=e=>{let{draggable:t}=e;return t?(0,u.jsx)(ot,{...e}):(0,u.jsx)(on,{...e})};function oa(e,t){let[n,l]=(0,o.useState)(e);return(0,o.useEffect)(()=>{let n=setTimeout(()=>{l(e)},t);return()=>{clearTimeout(n)}},[e,t]),n}var oo="thumbnail-card",or=e=>{let t=(0,f.c)(13),{alignLabel:n,className:l,collection:a,doc:o,label:r,onClick:c,thumbnail:d}=e,{config:p}=(0,i.b)(),{i18n:h}=(0,s.d)(),m="function"==typeof c&&"".concat(oo,"--has-on-click"),g=n&&"".concat(oo,"--align-label-").concat(n),v;t[0]!==l||t[1]!==m||t[2]!==g?(v=[oo,l,m,g].filter(Boolean),t[0]=l,t[1]=m,t[2]=g,t[3]=v):v=t[3];let b=v.join(" "),y;if(t[4]!==b||t[5]!==a||t[6]!==p||t[7]!==o||t[8]!==h||t[9]!==r||t[10]!==c||t[11]!==d){let e=r;e||(e=aw({collectionConfig:a,data:o,dateFormat:p.admin.dateFormat,fallback:null==o?void 0:o.filename,i18n:h})),y=(0,u.jsxs)("button",{className:b,onClick:c,title:e,type:"button",children:[(0,u.jsx)("div",{className:"".concat(oo,"__thumbnail"),children:d}),(0,u.jsx)("div",{className:"".concat(oo,"__label"),children:e})]}),t[4]=b,t[5]=a,t[6]=p,t[7]=o,t[8]=h,t[9]=r,t[10]=c,t[11]=d,t[12]=y}else y=t[12];return y},oi=[];for(os=0;os<256;++os)oi.push((os+256).toString(16).slice(1));var os,oc,ou=new Uint8Array(16),od={randomUUID:"u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},op=function(e,t,n){if(od.randomUUID&&!t&&!e)return od.randomUUID();var l=(e=e||{}).random||(e.rng||function(){if(!oc&&!(oc="u">typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oc(ou)})();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=l[a];return t}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(oi[e[t+0]]+oi[e[t+1]]+oi[e[t+2]]+oi[e[t+3]]+"-"+oi[e[t+4]]+oi[e[t+5]]+"-"+oi[e[t+6]]+oi[e[t+7]]+"-"+oi[e[t+8]]+oi[e[t+9]]+"-"+oi[e[t+10]]+oi[e[t+11]]+oi[e[t+12]]+oi[e[t+13]]+oi[e[t+14]]+oi[e[t+15]]).toLowerCase()}(l)},oh=()=>{let[e]=(0,o.useState)(()=>"pattern".concat(op()));return(0,u.jsxs)("svg",{fill:"none",height:"151",preserveAspectRatio:"xMidYMid slice",viewBox:"0 0 231 151",width:"231",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsxs)("g",{clipPath:"url(#".concat(e,")"),children:[(0,u.jsx)("rect",{fill:"#D9D9D9",height:"100%",rx:"2",width:"100%"}),(0,u.jsx)("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 33.7051 79.3051)",width:"85.8593",x:"33.7051",y:"79.3051"}),(0,u.jsx)("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 86.1219 92.6272)",width:"85.8593",x:"86.1219",y:"92.6272"}),(0,u.jsx)("circle",{cx:"189",cy:"45",fill:"#BCBCBC",r:"19"}),(0,u.jsx)("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"98",x:"66",y:"70"}),(0,u.jsx)("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"76",x:"77",y:"82"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"".concat(e),children:(0,u.jsx)("rect",{fill:"white",height:"151",width:"231"})})})]})},of=()=>(0,u.jsx)("svg",{className:"icon icon--search",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M16 16L13.1333 13.1333M14.6667 9.33333C14.6667 12.2789 12.2789 14.6667 9.33333 14.6667C6.38781 14.6667 4 12.2789 4 9.33333C4 6.38781 6.38781 4 9.33333 4C12.2789 4 14.6667 6.38781 14.6667 9.33333Z",strokeLinecap:"square"})}),om="block-search",og=e=>{let t=(0,f.c)(5),{setSearchTerm:n}=e,{t:l}=(0,s.d)(),a;t[0]!==n?(a=e=>{n(e.target.value)},t[0]=n,t[1]=a):a=t[1];let o=a,r;return t[2]!==o||t[3]!==l?(r=(0,u.jsxs)("div",{className:om,children:[(0,u.jsx)("input",{className:"".concat(om,"__input"),onChange:o,placeholder:l("fields:searchForBlock")}),(0,u.jsx)(of,{})]}),t[2]=o,t[3]=l,t[4]=r):r=t[4],r},ov="blocks-drawer",ob=e=>{let{addRow:t,addRowIndex:n,blocks:l,drawerSlug:a,labels:r}=e,[c,p]=(0,o.useState)(""),[h,f]=(0,o.useState)(l),{closeModal:m,isModalOpen:g}=nN(),{i18n:v,t:b}=(0,s.d)(),{config:y}=(0,i.b)(),x=(0,o.useMemo)(()=>{let e={_none:[]};return h.forEach(t=>{var n;if("object"==typeof t&&(null==(n=t.admin)?void 0:n.group)){let n=t.admin.group,l="string"==typeof n?n:(0,d.s)(n,v);Object.hasOwn(e,l)?e[l].push(t):e[l]=[t]}else e._none.push(t)}),e},[h,v]);return(0,o.useEffect)(()=>{g(a)||p("")},[g,a]),(0,o.useEffect)(()=>{let e=c.toLowerCase();f(null==l?void 0:l.reduce((t,n)=>{let l="string"==typeof n?y.blocksMap[n]:n;return((e,t)=>"string"==typeof e.labels.singular?e.labels.singular.toLowerCase():"object"==typeof e.labels.singular?(0,d.s)(e.labels.singular,t).toLowerCase():"")(l,v).includes(e)&&t.push(l),t},[]))},[c,l,v,y.blocksMap]),(0,u.jsxs)(ls,{slug:a,title:b("fields:addLabel",{label:(0,d.s)(r.singular,v)}),children:[(0,u.jsx)(og,{setSearchTerm:p}),(0,u.jsx)("div",{className:"".concat(ov,"__blocks-wrapper"),children:(0,u.jsx)("ul",{className:"".concat(ov,"__block-groups"),children:Object.entries(x).map(e=>{let[l,o]=e;return o.length?(0,u.jsxs)("li",{className:["".concat(ov,"__block-group"),"_none"===l&&"".concat(ov,"__block-group-none")].filter(Boolean).join(" "),children:["_none"!==l&&(0,u.jsx)("h3",{className:"".concat(ov,"__block-group-label"),children:l}),(0,u.jsx)("ul",{className:"".concat(ov,"__blocks"),children:o.map((e,l)=>{let{slug:o,imageAltText:r,imageURL:i,labels:s}="string"==typeof e?y.blocksMap[e]:e;return(0,u.jsx)("li",{className:"".concat(ov,"__block"),children:(0,u.jsx)(or,{alignLabel:"center",label:(0,d.s)(null==s?void 0:s.singular,v),onClick:()=>{t(n,o),m(a)},thumbnail:(0,u.jsx)("div",{className:"".concat(ov,"__default-image"),children:i?(0,u.jsx)("img",{alt:r,src:i}):(0,u.jsx)(oh,{})})})},l)})})]},l):null})})})]})},oy=e=>{let t,n=(0,f.c)(28),{addRow:l,blocks:a,blockType:r,copyRow:i,duplicateRow:s,hasMaxRows:c,isSortable:d,labels:p,moveRow:h,pasteRow:m,removeRow:g,rowCount:v,rowIndex:b}=e,{closeModal:y,openModal:x}=nN(),w=la("blocks-drawer"),[C,j]=o.useState(null),S;if(n[0]!==l||n[1]!==y||n[2]!==w||n[3]!==C?(S=(e,t)=>{"function"==typeof l&&l(C,t),y(w)},n[0]=l,n[1]=y,n[2]=w,n[3]=C,n[4]=S):S=n[4],n[5]!==r||n[6]!==a||n[7]!==i||n[8]!==w||n[9]!==s||n[10]!==c||n[11]!==d||n[12]!==p||n[13]!==h||n[14]!==x||n[15]!==m||n[16]!==g||n[17]!==v||n[18]!==b||n[19]!==S){let e,l;n[21]!==w||n[22]!==x?(e=e=>{j(e),x(w)},n[21]=w,n[22]=x,n[23]=e):e=n[23],n[24]!==r||n[25]!==s||n[26]!==b?(l=()=>s(b,r),n[24]=r,n[25]=s,n[26]=b,n[27]=l):l=n[27],t=(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ob,{addRow:S,addRowIndex:b,blocks:a,drawerSlug:w,labels:p}),(0,u.jsx)(a1,{addRow:e,copyRow:i,duplicateRow:l,hasMaxRows:c,index:b,isSortable:d,moveRow:h,pasteRow:m,removeRow:g,rowCount:v})]}),n[5]=r,n[6]=a,n[7]=i,n[8]=w,n[9]=s,n[10]=c,n[11]=d,n[12]=p,n[13]=h,n[14]=x,n[15]=m,n[16]=g,n[17]=v,n[18]=b,n[19]=S,n[20]=t}else t=n[20];return t},ox="section-title",ow=e=>{let t=(0,f.c)(14),{customOnChange:n,customValue:l,path:a,readOnly:o}=e,r;t[0]!==a?(r={path:a},t[0]=a,t[1]=r):r=t[1];let{setValue:i,value:c}=aB(r),{t:d}=(0,s.d)(),p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p=[ox].filter(Boolean),t[2]=p):p=t[2];let h=p.join(" "),m;t[3]!==n||t[4]!==i?(m=n||(e=>{e.stopPropagation(),e.preventDefault(),i(e.target.value)}),t[3]=n,t[4]=i,t[5]=m):m=t[5];let g=m,v=l||c,b;return t[6]!==l||t[7]!==g||t[8]!==a||t[9]!==o||t[10]!==d||t[11]!==v||t[12]!==c?(b=(0,u.jsx)("div",{className:h,"data-value":v,children:(0,u.jsx)("input",{className:"".concat(ox,"__input"),id:a,name:a,onChange:g,placeholder:d("general:untitled"),readOnly:o,type:"text",value:l||c||""})}),t[6]=l,t[7]=g,t[8]=a,t[9]=o,t[10]=d,t[11]=v,t[12]=c,t[13]=b):b=t[13],b},oC="blocks-field",oj=e=>{var t,n;let l=(0,f.c)(42),{addRow:a,attributes:o,block:r,blocks:c,copyRow:p,duplicateRow:h,errorCount:m,fields:g,hasMaxRows:v,isLoading:b,isSortable:y,Label:x,labels:w,listeners:C,moveRow:j,parentPath:S,pasteRow:_,path:k,permissions:N,readOnly:E,removeRow:P,row:D,rowCount:T,rowIndex:A,schemaPath:R,setCollapse:L,setNodeRef:O,transform:F}=e,I=oa(b,500),{i18n:M}=(0,s.d)(),B=eT()&&m>0,z=!(null==(t=r.admin)?void 0:t.disableBlockName),U=B?"".concat(oC,"__row--has-errors"):"".concat(oC,"__row--no-errors"),V;l[0]!==U?(V=["".concat(oC,"__row"),U].filter(Boolean),l[0]=U,l[1]=V):V=l[1];let H=V.join(" "),q;if(!0===N)q=!0;else{let e=null==N||null==(n=N.blocks)?void 0:n[r.slug];q=!0===e||(null==e?void 0:e.fields)}let W="".concat(null==S?void 0:S.split(".").join("-"),"-row-").concat(A),K;if(l[2]!==x||l[3]!==a||l[4]!==o||l[5]!==r.fields||l[6]!==r.labels||l[7]!==q||l[8]!==c||l[9]!==H||l[10]!==p||l[11]!==h||l[12]!==m||l[13]!==B||l[14]!==g||l[15]!==v||l[16]!==M||l[17]!==I||l[18]!==y||l[19]!==w||l[20]!==C||l[21]!==j||l[22]!==S||l[23]!==_||l[24]!==k||l[25]!==E||l[26]!==P||l[27]!==D.blockType||l[28]!==D.collapsed||l[29]!==D.id||l[30]!==T||l[31]!==A||l[32]!==R||l[33]!==L||l[34]!==O||l[35]!==z||l[36]!==W||l[37]!==F){let e;l[39]!==D.id||l[40]!==L?(e=e=>L(D.id,e),l[39]=D.id,l[40]=L,l[41]=e):e=l[41],K=(0,u.jsx)("div",{id:W,ref:O,style:{transform:F},children:(0,u.jsx)(a9,{actions:E?void 0:(0,u.jsx)(oy,{addRow:a,blocks:c,blockType:D.blockType,copyRow:p,duplicateRow:h,fields:r.fields,hasMaxRows:v,isSortable:y,labels:w,moveRow:j,pasteRow:_,removeRow:P,rowCount:T,rowIndex:A}),className:H,collapsibleStyle:B?"error":"default",dragHandleProps:y?{id:D.id,attributes:o,listeners:C}:void 0,header:I?(0,u.jsx)(i.e,{height:"1rem",width:"8rem"}):(0,u.jsxs)("div",{className:"".concat(oC,"__block-header"),children:[(0,u.jsx)(eU,{CustomComponent:x,label:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"".concat(oC,"__block-number"),children:String(A+1).padStart(2,"0")}),(0,u.jsx)(ol,{className:"".concat(oC,"__block-pill ").concat(oC,"__block-pill-").concat(D.blockType),pillStyle:"white",size:"small",children:(0,d.s)(r.labels.singular,M)}),z&&(0,u.jsx)(ow,{path:"".concat(k,".blockName"),readOnly:E})]}),path:k,rowNumber:A}),B&&(0,u.jsx)(nt,{count:m,i18n:M,withMessage:!0})]}),isCollapsed:D.collapsed,onToggle:e,children:I?(0,u.jsx)(i.e,{}):(0,u.jsx)(hR,{className:"".concat(oC,"__fields"),fields:g,margins:"small",parentIndexPath:"",parentPath:k,parentSchemaPath:R,permissions:q,readOnly:E})},D.id)},"".concat(S,"-row-").concat(A)),l[2]=x,l[3]=a,l[4]=o,l[5]=r.fields,l[6]=r.labels,l[7]=q,l[8]=c,l[9]=H,l[10]=p,l[11]=h,l[12]=m,l[13]=B,l[14]=g,l[15]=v,l[16]=M,l[17]=I,l[18]=y,l[19]=w,l[20]=C,l[21]=j,l[22]=S,l[23]=_,l[24]=k,l[25]=E,l[26]=P,l[27]=D.blockType,l[28]=D.collapsed,l[29]=D.id,l[30]=T,l[31]=A,l[32]=R,l[33]=L,l[34]=O,l[35]=z,l[36]=W,l[37]=F,l[38]=K}else K=l[38];return K},oS="blocks-field",o_=aV(e=>{let{i18n:t,t:n}=(0,s.d)(),{field:l,field:{name:a,type:r,admin:{className:c,description:p,isSortable:h=!0}={},blockReferences:f,blocks:m,label:g,labels:v,localized:b,maxRows:y,minRows:x,required:w},path:C,permissions:j,readOnly:S,schemaPath:_,validate:k}=e,N=null!=_?_:a,E=+(null!=x?!!x:!!w),{setDocFieldPreferences:P}=aD(),{addFieldRow:D,dispatchFields:T,getFields:A,moveFieldRow:R,removeFieldRow:L,replaceState:O,setModified:F}=eE(),{code:I}=lD(),{config:{localization:M},config:B}=(0,i.b)(),z=la("blocks-drawer"),U=eT(),V={plural:n("fields:blocks"),singular:n("fields:block"),...v},H=!M||!M.fallback||I===M.defaultLocale,{blocksFilterOptions:q,customComponents:{AfterInput:W,BeforeInput:K,Description:Y,Error:G,Label:Q}={},disabled:X,errorPaths:$,path:Z,rows:J=[],showError:ee,valid:et,value:en}=aB({hasRows:!0,potentiallyStalePath:C,validate:(0,o.useCallback)((e,t)=>!H&&null===e||("function"==typeof k?k(e,{...t,maxRows:y,minRows:E,required:w}):void 0),[y,E,w,k,H])}),{clientBlocks:el,clientBlocksAfterFilter:ea}=(0,o.useMemo)(()=>{let e=[];if(f)for(let t of f){let n="string"==typeof t?B.blocksMap[t]:t;n&&e.push(n)}else e=m;if(Array.isArray(q)){let t=e.filter(e=>{let t="string"==typeof e?e:e.slug;return q.includes(t)});return{clientBlocks:e,clientBlocksAfterFilter:t}}return{clientBlocks:e,clientBlocksAfterFilter:e}},[f,m,q,B.blocksMap]),eo=(0,o.useCallback)((e,t)=>{D({blockType:t,path:Z,rowIndex:e,schemaPath:N}),setTimeout(()=>{aJ("".concat(Z,"-row-").concat(e+1))},0)},[D,Z,N]),er=(0,o.useCallback)(e=>{T({type:"DUPLICATE_ROW",path:Z,rowIndex:e}),F(!0),setTimeout(()=>{aJ("".concat(Z,"-row-").concat(e+1))},0)},[T,Z,F]),ei=(0,o.useCallback)(e=>{L({path:Z,rowIndex:e})},[Z,L]),es=(0,o.useCallback)((e,t)=>{R({moveFromIndex:e,moveToIndex:t,path:Z})},[R,Z]),ec=(0,o.useCallback)(e=>{let{collapsedIDs:t,updatedRows:n}=lO({collapsed:e,rows:J});T({type:"SET_ALL_ROWS_COLLAPSED",path:Z,updatedRows:n}),P(Z,{collapsed:t})},[T,Z,J,P]),eu=(0,o.useCallback)((e,t)=>{let{collapsedIDs:n,updatedRows:l}=lL({collapsed:t,rowID:e,rows:J});T({type:"SET_ROW_COLLAPSED",path:Z,updatedRows:l}),P(Z,{collapsed:n})},[T,Z,J,P]),ep=(0,o.useCallback)(e=>{let t=tA({type:r,blocks:el,getDataToCopy:()=>tM({formState:{...A()},path:Z,rowIndex:e}),path:Z,rowIndex:e,t:n});"string"==typeof t?eZ.error(t):eZ.success(n("general:copied"))},[el,Z,n,r,A]),eh=(0,o.useCallback)(e=>{let t=tR({onPaste:t=>{O(tB({dataFromClipboard:t,formState:{...A()},path:Z,rowIndex:e})),F(!0)},path:Z,schemaBlocks:el,t:n});"string"==typeof t&&eZ.error(t)},[el,A,Z,O,F,n]),ef=(0,o.useCallback)(e=>{O(tB({dataFromClipboard:e,formState:{...A()},path:Z})),F(!0)},[A,Z,O,F]),em=y&&J.length>=y,eg=$.length,ev=U&&eg+ +!et>0,eb=J.length<E||w&&0===J.length,ey=S&&0===J.length,ex=(0,o.useMemo)(()=>aH(l),[l]);return(0,u.jsxs)("div",{className:[aq,oS,c,ev?"".concat(oS,"--has-error"):"".concat(oS,"--has-no-error")].filter(Boolean).join(" "),id:"field-".concat(null==Z?void 0:Z.replace(/\./g,"__")),style:ex,children:[ee&&(0,u.jsx)(ed,{CustomComponent:G,Fallback:(0,u.jsx)(na,{path:Z,showError:ee})}),(0,u.jsxs)("header",{className:"".concat(oS,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(oS,"__header-wrap"),children:[(0,u.jsxs)("div",{className:"".concat(oS,"__heading-with-error"),children:[(0,u.jsx)("h3",{children:(0,u.jsx)(ed,{CustomComponent:Q,Fallback:(0,u.jsx)(lR,{as:"span",label:g,localized:b,path:Z,required:w})})}),ev&&eg>0&&(0,u.jsx)(nt,{count:eg,i18n:t,withMessage:!0})]}),(0,u.jsxs)("ul",{className:"".concat(oS,"__header-actions"),children:[J.length>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(oS,"__header-action"),onClick:()=>ec(!0),type:"button",children:n("fields:collapseAll")})}),(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(oS,"__header-action"),onClick:()=>ec(!1),type:"button",children:n("fields:showAll")})})]}),(0,u.jsx)("li",{children:(0,u.jsx)(tI,{allowCopy:(null==J?void 0:J.length)>0,allowPaste:!S,blocks:el,className:"".concat(oS,"__header-action"),disabled:X,getDataToCopy:()=>tM({formState:{...A()},path:Z}),onPaste:ef,path:Z,type:r})})]})]}),(0,u.jsx)(ed,{CustomComponent:Y,Fallback:(0,u.jsx)(nl,{description:p,path:Z})})]}),K,(0,u.jsx)(aZ,{fieldValue:en,localized:b,path:Z,readOnly:S}),(J.length>0||!et&&(ey||eb))&&(0,u.jsxs)(t7,{className:"".concat(oS,"__rows"),ids:J.map(e=>e.id),onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;return es(t,n)},children:[J.map((e,t)=>{var n;let{blockType:l,isLoading:a}=e,o=null!=(n=B.blocksMap[l])?n:el.find(e=>e.slug===l);if(o){let n="".concat(Z,".").concat(t),l=$.filter(e=>e.startsWith(n+".")).length;return(0,u.jsx)(t9,{disabled:S||X||!h,id:e.id,children:r=>{var i,s;return(0,u.jsx)(oj,{...r,addRow:eo,block:o,blocks:el,copyRow:ep,duplicateRow:er,errorCount:l,fields:o.fields,hasMaxRows:em,isLoading:a,isSortable:h,Label:null==J||null==(s=J[t])||null==(i=s.customComponents)?void 0:i.RowLabel,labels:V,moveRow:es,parentPath:Z,pasteRow:eh,path:n,permissions:j,readOnly:S||X,removeRow:ei,row:e,rowCount:J.length,rowIndex:t,schemaPath:N+o.slug,setCollapse:eu})}},e.id)}return null}),!H&&(0,u.jsxs)(o.Fragment,{children:[eb&&(0,u.jsx)(tn,{type:"error",children:n("validation:requiresAtLeast",{count:E,label:(0,d.s)(E>1?V.plural:V.singular,t)||n(E>1?"general:row":"general:rows")})}),ey&&(0,u.jsx)(tn,{children:n("validation:fieldHasNo",{label:(0,d.s)(V.plural,t)})})]})]}),!em&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(li,{className:"".concat(oS,"__drawer-toggler"),disabled:S||X,slug:z,children:(0,u.jsx)(tP,{buttonStyle:"icon-label",disabled:S||X,el:"span",icon:"plus",iconPosition:"left",iconStyle:"with-border",children:n("fields:addLabel",{label:(0,d.s)(V.singular,t)})})}),(0,u.jsx)(ob,{addRow:eo,addRowIndex:(null==J?void 0:J.length)||0,blocks:ea,drawerSlug:z,labels:V})]}),W]})}),ok=(0,o.lazy)(()=>n.e(5262).then(n.bind(n,95262))),oN=e=>(0,u.jsx)(o.Suspense,{fallback:(0,u.jsx)(i.e,{}),children:(0,u.jsx)(ok,{...e})}),oE={js:"javascript",ts:"typescript",tsx:"typescript"},oP=aV(e=>{let{field:t,field:{admin:{className:n,description:l,editorOptions:a,editorProps:r,language:i="javascript"}={},label:s,localized:c,required:d},onMount:p,path:h,readOnly:f,validate:m}=e,g=o.useRef("formState"),[v,b]=(0,o.useState)(Date.now()),{customComponents:{AfterInput:y,BeforeInput:x,Description:w,Error:C,Label:j}={},disabled:S,initialValue:_,path:k,setValue:N,showError:E,value:P}=aB({potentiallyStalePath:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:d})},[m,d])}),D=o.useRef((P||_)!==void 0?null!=P?P:_:void 0),T=(0,o.useCallback)(e=>{if(!(f||S)){g.current="internalEditor";try{N(e||null),D.current=e}catch(t){N(e||null),D.current=e}}},[f,S,N]);(0,o.useEffect)(()=>{"formState"===g.current&&(D.current=(P||_)!==void 0?null!=P?P:_:void 0,b(Date.now())),g.current="formState"},[_,k,P]);let A=(0,o.useMemo)(()=>aH(t),[t]);return(0,u.jsxs)("div",{className:[aq,"code-field",n,E&&"error",(f||S)&&"read-only"].filter(Boolean).join(" "),style:A,children:[(0,u.jsx)(ed,{CustomComponent:j,Fallback:(0,u.jsx)(lR,{label:s,localized:c,path:k,required:d})}),(0,u.jsxs)("div",{className:"".concat(aq,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:C,Fallback:(0,u.jsx)(na,{path:k,showError:E})}),x,(0,u.jsx)(oN,{defaultLanguage:oE[i]||i,onChange:T,onMount:p,options:a,readOnly:f||S,recalculatedHeightAt:v,value:D.current,wrapperProps:{id:"field-".concat(null==k?void 0:k.replace(/\./g,"__"))},...r||{}}),y]}),(0,u.jsx)(ed,{CustomComponent:w,Fallback:(0,u.jsx)(nl,{description:l,path:k})})]})}),oD=e=>e.reduce((e,t)=>{var n;let l="fields"in t?t.fields:void 0;return l?(0,m.Z7)(t)?e.push("".concat(t.name,".")):e.push(...oD(l)):"tabs"===t.type?"tabs"in t&&(null==(n=t.tabs)||n.forEach(t=>{"name"in t?e.push("".concat(t.name,".")):e.push(...oD(t.fields))})):(0,m.Z7)(t)&&e.push(t.name),e},[]),oT=e=>{let t,n=(0,f.c)(12),{fields:l,path:a,setErrorCount:o}=e,[r]=eI(),i=eT(),s;n[0]!==l?(s=oD(l),n[0]=l,n[1]=s):s=n[1];let c=s,u;return n[2]!==r||n[3]!==i||n[4]!==a||n[5]!==c||n[6]!==o?(u=()=>{if(i){let e=0;Object.entries(r).forEach(t=>{let[n]=t;if(null==c?void 0:c.some(e=>{let t=[...a,e].join(".");return t.endsWith(".")?n.startsWith(t):n===t})){let t=r[n];"valid"in t&&!t.valid&&(e+=1)}}),o(e)}},n[2]=r,n[3]=i,n[4]=a,n[5]=c,n[6]=o,n[7]=u):u=n[7],n[8]!==l||n[9]!==r||n[10]!==i?(t=[r,i,l],n[8]=l,n[9]=r,n[10]=i,n[11]=t):t=n[11],lF(u,250,t),null},oA="collapsible-field",oR=aV(e=>{let{field:t,field:{admin:{className:n,description:l,initCollapsed:a=!1}={},fields:r,label:i}={},indexPath:c,parentPath:p,parentSchemaPath:h,path:f,permissions:m,readOnly:g}=e,{i18n:v}=(0,s.d)(),{getPreference:b,setPreference:y}=lS(),{preferencesKey:x}=aD(),[w,C]=(0,o.useState)(),j="collapsible-".concat(null==f?void 0:f.replace(/\./g,"__")),[S,_]=(0,o.useState)(0),k=S>0,{customComponents:{AfterInput:N,BeforeInput:E,Description:P,Label:D}={},disabled:T}=aB({path:f}),A=(0,o.useCallback)(async e=>{var t,n;let l=await b(x);x&&y(x,{...l,...f?{fields:{...(null==l?void 0:l.fields)||{},[f]:{...null==l||null==(t=l.fields)?void 0:t[f],collapsed:e}}}:{fields:{...(null==l?void 0:l.fields)||{},[j]:{...null==l||null==(n=l.fields)?void 0:n[j],collapsed:e}}}})},[x,j,b,y,f]);(0,o.useEffect)(()=>{(async()=>{if(x){var e,t,n,l;let o=await b(x),r=f?null==o||null==(t=o.fields)||null==(e=t[f])?void 0:e.collapsed:null==o||null==(l=o.fields)||null==(n=l[j])?void 0:n.collapsed;C(void 0!==r?!!r:"boolean"==typeof a&&a)}else C("boolean"==typeof a&&a)})()},[b,x,j,a,f]);let R=(0,o.useMemo)(()=>aH(t),[t]);return"boolean"!=typeof w?null:(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(oT,{fields:r,path:f.split(".").slice(0,-1),setErrorCount:_}),(0,u.jsxs)("div",{className:[aq,oA,n,k?"".concat(oA,"--has-error"):"".concat(oA,"--has-no-error")].filter(Boolean).join(" "),id:"field-".concat(j),style:R,children:[E,(0,u.jsx)(a9,{className:"".concat(oA,"__collapsible"),collapsibleStyle:k?"error":"default",header:(0,u.jsxs)("div",{className:"".concat(oA,"__row-label-wrap"),children:[(0,u.jsx)(eU,{CustomComponent:D,label:(0,d.s)(i,v),path:f}),k&&(0,u.jsx)(nt,{count:S,i18n:v,withMessage:!0})]}),initCollapsed:w,onToggle:A,children:(0,u.jsx)(hR,{fields:r,margins:"small",parentIndexPath:c,parentPath:p,parentSchemaPath:h,permissions:m,readOnly:g||T})}),N,(0,u.jsx)(ed,{CustomComponent:P,Fallback:(0,u.jsx)(nl,{description:l,path:f})})]})]})}),oL=(0,o.lazy)(()=>n.e(6442).then(n.bind(n,6442))),oO=e=>(0,u.jsx)(o.Suspense,{fallback:(0,u.jsx)(i.e,{height:50}),children:(0,u.jsx)(oL,{...e})});function oF(e){return(oF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oI(e){var t=function(e,t){if("object"!=oF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=oF(l))return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oF(t)?t:t+""}function oM(e,t,n){return(t=oI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function oz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oB(Object(n),!0).forEach(function(t){oM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=Array(t);n<t;n++)l[n]=e[n];return l}function oV(e,t){if(e){if("string"==typeof e)return oU(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oU(e,t):void 0}}function oH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,a,o,r,i=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(l=o.call(n)).done)&&(i.push(l.value),i.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw a}}return i}}(e,t)||oV(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oq(e,t){if(null==e)return{};var n,l,a=nu(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)n=o[l],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var oW=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function oK(e){var t=e.defaultInputValue,n=e.defaultMenuIsOpen,l=e.defaultValue,a=e.inputValue,r=e.menuIsOpen,i=e.onChange,s=e.onInputChange,c=e.onMenuClose,u=e.onMenuOpen,d=e.value,p=oq(e,oW),h=oH((0,o.useState)(void 0!==a?a:void 0===t?"":t),2),f=h[0],m=h[1],g=oH((0,o.useState)(void 0!==r?r:void 0!==n&&n),2),v=g[0],b=g[1],y=oH((0,o.useState)(void 0!==d?d:void 0===l?null:l),2),x=y[0],w=y[1],C=(0,o.useCallback)(function(e,t){"function"==typeof i&&i(e,t),w(e)},[i]),j=(0,o.useCallback)(function(e,t){var n;"function"==typeof s&&(n=s(e,t)),m(void 0!==n?n:e)},[s]),S=(0,o.useCallback)(function(){"function"==typeof u&&u(),b(!0)},[u]),_=(0,o.useCallback)(function(){"function"==typeof c&&c(),b(!1)},[c]),k=void 0!==a?a:f,N=void 0!==r?r:v,E=void 0!==d?d:x;return oz(oz({},p),{},{inputValue:k,menuIsOpen:N,onChange:C,onInputChange:j,onMenuClose:_,onMenuOpen:S,value:E})}function oY(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,oI(l.key),l)}}function oG(e){return(oG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(oQ=function(){return!!e})()}function oX(e){return function(e){if(Array.isArray(e))return oU(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oV(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o$=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t));var t,n=this.tags[this.tags.length-1];if(this.isSpeedy){var l=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{l.insertRule(e,l.cssRules.length)}catch(e){}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),oZ="-ms-",oJ="-moz-",o0="-webkit-",o1="comm",o3="rule",o2="decl",o6="@keyframes",o5=Math.abs,o4=String.fromCharCode,o8=Object.assign;function o9(e,t,n){return e.replace(t,n)}function o7(e,t){return e.indexOf(t)}function re(e,t){return 0|e.charCodeAt(t)}function rt(e,t,n){return e.slice(t,n)}function rn(e){return e.length}function rl(e,t){return t.push(e),e}var ra=1,ro=1,rr=0,ri=0,rs=0,rc="";function ru(e,t,n,l,a,o,r){return{value:e,root:t,parent:n,type:l,props:a,children:o,line:ra,column:ro,length:r,return:""}}function rd(e,t){return o8(ru("",null,null,"",null,null,0),e,{length:-e.length},t)}function rp(){return rs=ri<rr?re(rc,ri++):0,ro++,10===rs&&(ro=1,ra++),rs}function rh(){return re(rc,ri)}function rf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rm(e){return ra=ro=1,rr=rn(rc=e),ri=0,[]}function rg(e){var t,n;return(t=ri-1,n=function e(t){for(;rp();)switch(rs){case t:return ri;case 34:case 39:34!==t&&39!==t&&e(rs);break;case 40:41===t&&e(t);break;case 92:rp()}return ri}(91===e?e+2:40===e?e+1:e),rt(rc,t,n)).trim()}function rv(e,t,n,l,a,o,r,i,s,c,u){for(var d=a-1,p=0===a?o:[""],h=p.length,f=0,m=0,g=0;f<l;++f)for(var v=0,b=rt(e,d+1,d=o5(m=r[f])),y=e;v<h;++v)(y=(m>0?p[v]+" "+b:o9(b,/&\f/g,p[v])).trim())&&(s[g++]=y);return ru(e,t,n,0===a?o3:i,s,c,u)}function rb(e,t,n,l){return ru(e,t,n,o2,rt(e,0,l),rt(e,l+1,-1),l)}function ry(e,t){for(var n="",l=e.length,a=0;a<l;a++)n+=t(e[a],a,e,t)||"";return n}function rx(e,t,n,l){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case o2:return e.return=e.return||e.value;case o1:return"";case o6:return e.return=e.value+"{"+ry(e.children,l)+"}";case o3:e.value=e.props.join(",")}return rn(n=ry(e.children,l))?e.return=e.value+"{"+n+"}":""}var rw=function(e,t,n){for(var l=0,a=0;l=a,a=rh(),38===l&&12===a&&(t[n]=1),!rf(a);)rp();return rt(rc,e,ri)},rC=function(e,t){var n=-1,l=44;do switch(rf(l)){case 0:38===l&&12===rh()&&(t[n]=1),e[n]+=rw(ri-1,t,n);break;case 2:e[n]+=rg(l);break;case 4:if(44===l){e[++n]=58===rh()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o4(l)}while(l=rp());return e},rj=function(e,t){var n;return n=rC(rm(e),t),rc="",n},rS=new WeakMap,r_=function(e){if(!("rule"!==e.type||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,l=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if(!(1===e.props.length&&58!==t.charCodeAt(0)&&!rS.get(n))&&!l){rS.set(e,!0);for(var a=[],o=rj(t,a),r=n.props,i=0,s=0;i<o.length;i++)for(var c=0;c<r.length;c++,s++)e.props[s]=a[i]?o[i].replace(/&\f/g,r[c]):r[c]+" "+o[i]}}},rk=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},rN=[function(e,t,n,l){if(e.length>-1&&!e.return)switch(e.type){case o2:e.return=function e(t,n){switch(45^re(t,0)?(((n<<2^re(t,0))<<2^re(t,1))<<2^re(t,2))<<2^re(t,3):0){case 5103:return o0+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return o0+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return o0+t+oJ+t+oZ+t+t;case 6828:case 4268:return o0+t+oZ+t+t;case 6165:return o0+t+oZ+"flex-"+t+t;case 5187:return o0+t+o9(t,/(\w+).+(:[^]+)/,o0+"box-$1$2"+oZ+"flex-$1$2")+t;case 5443:return o0+t+oZ+"flex-item-"+o9(t,/flex-|-self/,"")+t;case 4675:return o0+t+oZ+"flex-line-pack"+o9(t,/align-content|flex-|-self/,"")+t;case 5548:return o0+t+oZ+o9(t,"shrink","negative")+t;case 5292:return o0+t+oZ+o9(t,"basis","preferred-size")+t;case 6060:return o0+"box-"+o9(t,"-grow","")+o0+t+oZ+o9(t,"grow","positive")+t;case 4554:return o0+o9(t,/([^-])(transform)/g,"$1"+o0+"$2")+t;case 6187:return o9(o9(o9(t,/(zoom-|grab)/,o0+"$1"),/(image-set)/,o0+"$1"),t,"")+t;case 5495:case 3959:return o9(t,/(image-set\([^]*)/,o0+"$1$`$1");case 4968:return o9(o9(t,/(.+:)(flex-)?(.*)/,o0+"box-pack:$3"+oZ+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+o0+t+t;case 4095:case 3583:case 4068:case 2532:return o9(t,/(.+)-inline(.+)/,o0+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(rn(t)-1-n>6)switch(re(t,n+1)){case 109:if(45!==re(t,n+4))break;case 102:return o9(t,/(.+:)(.+)-([^]+)/,"$1"+o0+"$2-$3$1"+oJ+(108==re(t,n+3)?"$3":"$2-$3"))+t;case 115:return~o7(t,"stretch")?e(o9(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(115!==re(t,n+1))break;case 6444:switch(re(t,rn(t)-3-(~o7(t,"!important")&&10))){case 107:return o9(t,":",":"+o0)+t;case 101:return o9(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+o0+(45===re(t,14)?"inline-":"")+"box$3$1"+o0+"$2$3$1"+oZ+"$2box$3")+t}break;case 5936:switch(re(t,n+11)){case 114:return o0+t+oZ+o9(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return o0+t+oZ+o9(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return o0+t+oZ+o9(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return o0+t+oZ+t+t}return t}(e.value,e.length);break;case o6:return ry([rd(e,{value:o9(e.value,"@","@"+o0)})],l);case o3:if(e.length){var a,o;return a=e.props,o=function(t){var n;switch(n=t,(n=/(::plac\w+|:read-\w+)/.exec(n))?n[0]:n){case":read-only":case":read-write":return ry([rd(e,{props:[o9(t,/:(read-\w+)/,":"+oJ+"$1")]})],l);case"::placeholder":return ry([rd(e,{props:[o9(t,/:(plac\w+)/,":"+o0+"input-$1")]}),rd(e,{props:[o9(t,/:(plac\w+)/,":"+oJ+"$1")]}),rd(e,{props:[o9(t,/:(plac\w+)/,oZ+"input-$1")]})],l)}return""},a.map(o).join("")}}}],rE=function(e,t,n){var l=e.key+"-"+t.name;!1===n&&void 0===e.registered[l]&&(e.registered[l]=t.styles)},rP=function(e,t,n){rE(e,t,n);var l=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do e.insert(t===a?"."+l:"",a,e.sheet,!0),a=a.next;while(void 0!==a)}},rD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rT=/[A-Z]|^ms/g,rA=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rR=function(e){return 45===e.charCodeAt(1)},rL=function(e){return null!=e&&"boolean"!=typeof e},rO=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return rR(e)?e:e.replace(rT,"-$&").toLowerCase()}),rF=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(rA,function(e,t,n){return rM={name:t,styles:n,next:rM},t})}return 1===rD[e]||rR(e)||"number"!=typeof t||0===t?t:t+"px"};function rI(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return rM={name:n.name,styles:n.styles,next:rM},n.name;if(void 0!==n.styles){var l=n.next;if(void 0!==l)for(;void 0!==l;)rM={name:l.name,styles:l.styles,next:rM},l=l.next;return n.styles+";"}return function(e,t,n){var l="";if(Array.isArray(n))for(var a=0;a<n.length;a++)l+=rI(e,t,n[a])+";";else for(var o in n){var r=n[o];if("object"!=typeof r)null!=t&&void 0!==t[r]?l+=o+"{"+t[r]+"}":rL(r)&&(l+=rO(o)+":"+rF(o,r)+";");else if(Array.isArray(r)&&"string"==typeof r[0]&&(null==t||void 0===t[r[0]]))for(var i=0;i<r.length;i++)rL(r[i])&&(l+=rO(o)+":"+rF(o,r[i])+";");else{var s=rI(e,t,r);switch(o){case"animation":case"animationName":l+=rO(o)+":"+s+";";break;default:l+=o+"{"+s+"}"}}}return l}(e,t,n);case"function":if(void 0!==e){var a=rM,o=n(e);return rM=a,rI(e,t,o)}}if(null==t)return n;var r=t[n];return void 0!==r?r:n}var rM,rB=/label:\s*([^\s;{]+)\s*(;|$)/g;function rz(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var l=!0,a="";rM=void 0;var o=e[0];null==o||void 0===o.raw?(l=!1,a+=rI(n,t,o)):a+=o[0];for(var r=1;r<e.length;r++)a+=rI(n,t,e[r]),l&&(a+=o[r]);rB.lastIndex=0;for(var i,s="";null!==(i=rB.exec(a));)s+="-"+i[1];return{name:function(e){for(var t,n=0,l=0,a=e.length;a>=4;++l,a-=4)t=(65535&(t=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24))*0x5bd1e995+((t>>>16)*59797<<16),t^=t>>>24,n=(65535&t)*0x5bd1e995+((t>>>16)*59797<<16)^(65535&n)*0x5bd1e995+((n>>>16)*59797<<16);switch(a){case 3:n^=(255&e.charCodeAt(l+2))<<16;case 2:n^=(255&e.charCodeAt(l+1))<<8;case 1:n^=255&e.charCodeAt(l),n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)}(a)+s,styles:a,next:rM}}var rU=!!o.useInsertionEffect&&o.useInsertionEffect||function(e){return e()},rV=o.createContext("u">typeof HTMLElement?function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var l,a=e.stylisPlugins||rN,o={},r=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;r.push(e)});var i,s,c,u,d=(s=(i=[r_,rk].concat(a,[rx,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})])).length,function(e,t,n,l){for(var a="",o=0;o<s;o++)a+=i[o](e,t,n,l)||"";return a}),p=function(e){var t,n;return ry((n=function e(t,n,l,a,o,r,i,s,c){for(var u,d=0,p=0,h=i,f=0,m=0,g=0,v=1,b=1,y=1,x=0,w="",C=o,j=r,S=a,_=w;b;)switch(g=x,x=rp()){case 40:if(108!=g&&58==re(_,h-1)){-1!=o7(_+=o9(rg(x),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=rg(x);break;case 9:case 10:case 13:case 32:_+=function(e){for(;(rs=rh())&&rs<33;)rp();return rf(e)>2||rf(rs)>3?"":" "}(g);break;case 92:_+=function(e,t){for(var n;--t&&rp()&&!(rs<48||rs>102||rs>57&&rs<65||rs>70&&rs<97););return n=ri+(t<6&&32==rh()&&32==rp()),rt(rc,e,n)}(ri-1,7);continue;case 47:switch(rh()){case 42:case 47:rl((u=function(e,t){for(;rp()&&e+rs!==57&&(e+rs!==84||47!==rh()););return"/*"+rt(rc,t,ri-1)+"*"+o4(47===e?e:rp())}(rp(),ri),ru(u,n,l,o1,o4(rs),rt(u,2,-2),0)),c);break;default:_+="/"}break;case 123*v:s[d++]=rn(_)*y;case 125*v:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+p:-1==y&&(_=o9(_,/\f/g,"")),m>0&&rn(_)-h&&rl(m>32?rb(_+";",a,l,h-1):rb(o9(_," ","")+";",a,l,h-2),c);break;case 59:_+=";";default:if(rl(S=rv(_,n,l,d,p,o,s,w,C=[],j=[],h),r),123===x)if(0===p)e(_,n,S,S,C,r,h,s,j);else switch(99===f&&110===re(_,3)?100:f){case 100:case 108:case 109:case 115:e(t,S,S,a&&rl(rv(t,S,S,0,0,o,s,w,o,C=[],h),j),o,j,h,s,a?C:j);break;default:e(_,S,S,S,[""],j,0,s,j)}}d=p=m=0,v=y=1,w=_="",h=i;break;case 58:h=1+rn(_),m=g;default:if(v<1){if(123==x)--v;else if(125==x&&0==v++&&125==(rs=ri>0?re(rc,--ri):0,ro--,10===rs&&(ro=1,ra--),rs))continue}switch(_+=o4(x),x*v){case 38:y=p>0?1:(_+="\f",-1);break;case 44:s[d++]=(rn(_)-1)*y,y=1;break;case 64:45===rh()&&(_+=rg(rp())),f=rh(),p=h=rn(w=_+=function(e){for(;!rf(rh());)rp();return rt(rc,e,ri)}(ri)),x++;break;case 45:45===g&&2==rn(_)&&(v=0)}}return r}("",null,null,null,[""],t=rm(t=e),0,[0],t),rc="",n),d)},h={key:t,sheet:new o$({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:function(e,t,n,l){u=n,p(e?e+"{"+t.styles+"}":t.styles),l&&(h.inserted[t.name]=!0)}};return h.sheet.hydrate(r),h}({key:"css"}):null);rV.Provider;var rH=o.createContext({}),rq={}.hasOwnProperty,rW="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",rK=function(e,t){var n={};for(var l in t)rq.call(t,l)&&(n[l]=t[l]);return n[rW]=e,n},rY=function(e){var t=e.cache,n=e.serialized,l=e.isStringTag;return rE(t,n,l),rU(function(){return rP(t,n,l)}),null},rG=(io=function(e,t,n){var l,a,r,i=e.css;"string"==typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var s=e[rW],c=[i],u="";"string"==typeof e.className?(l=t.registered,a=e.className,r="",a.split(" ").forEach(function(e){void 0!==l[e]?c.push(l[e]+";"):e&&(r+=e+" ")}),u=r):null!=e.className&&(u=e.className+" ");var d=rz(c,void 0,o.useContext(rH));u+=t.key+"-"+d.name;var p={};for(var h in e)rq.call(e,h)&&"css"!==h&&h!==rW&&(p[h]=e[h]);return p.className=u,n&&(p.ref=n),o.createElement(o.Fragment,null,o.createElement(rY,{cache:t,serialized:d,isStringTag:"string"==typeof s}),o.createElement(s,p))},(0,o.forwardRef)(function(e,t){return io(e,(0,o.useContext)(rV),t)}));(0,c.e)(ea());var rQ=function(e,t){var n=arguments;if(null==t||!rq.call(t,"css"))return o.createElement.apply(void 0,n);var l=n.length,a=Array(l);a[0]=rG,a[1]=rK(e,t);for(var r=2;r<l;r++)a[r]=n[r];return o.createElement.apply(null,a)};function rX(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return rz(t)}!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(rQ||(rQ={})),(0,s.l)();var r$=o.useLayoutEffect,rZ=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],rJ=function(){};function r0(e,t){for(var n=arguments.length,l=Array(n>2?n-2:0),a=2;a<n;a++)l[a-2]=arguments[a];var o=[].concat(l);if(t&&e)for(var r in t)t.hasOwnProperty(r)&&t[r]&&o.push("".concat(r?"-"===r[0]?e+r:e+"__"+r:e));return o.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}var r1=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===oF(e)&&null!==e?[e]:[]},r3=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,oz({},oq(e,rZ))},r2=function(e,t,n){var l=e.cx,a=e.getStyles,o=e.getClassNames,r=e.className;return{css:a(t,e),className:l(null!=n?n:{},o(t,e),r)}};function r6(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function r5(e){return r6(e)?window.pageYOffset:e.scrollTop}function r4(e,t){if(r6(e))return void window.scrollTo(0,t);e.scrollTop=t}function r8(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rJ,a=r5(e),o=t-a,r=0;!function t(){var i;r+=10,r4(e,o*((i=(i=r)/n-1)*i*i+1)+a),r<n?window.requestAnimationFrame(t):l(e)}()}function r9(e,t){var n=e.getBoundingClientRect(),l=t.getBoundingClientRect(),a=t.offsetHeight/3;l.bottom+a>n.bottom?r4(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):l.top-a<n.top&&r4(e,Math.max(t.offsetTop-a,0))}function r7(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var ie=!1,it="u">typeof window?window:{};it.addEventListener&&it.removeEventListener&&(it.addEventListener("p",rJ,{get passive(){return ie=!0}}),it.removeEventListener("p",rJ,!1));var il=ie;function ia(e){return null!=e}var io,ir,ii=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];return Object.entries(e).filter(function(e){var t=oH(e,1)[0];return!n.includes(t)}).reduce(function(e,t){var n=oH(t,2),l=n[0],a=n[1];return e[l]=a,e},{})},is=["children","innerProps"],ic=["children","innerProps"],iu=function(e){return"auto"===e?"bottom":e},id=(0,o.createContext)(null),ip=function(e){var t=e.children,n=e.minMenuHeight,l=e.maxMenuHeight,a=e.menuPlacement,r=e.menuPosition,i=e.menuShouldScrollIntoView,s=e.theme,c=((0,o.useContext)(id)||{}).setPortalPlacement,u=(0,o.useRef)(null),d=oH((0,o.useState)(l),2),p=d[0],h=d[1],f=oH((0,o.useState)(null),2),m=f[0],g=f[1],v=s.spacing.controlHeight;return r$(function(){var e=u.current;if(e){var t="fixed"===r,o=function(e){var t,n=e.maxHeight,l=e.menuEl,a=e.minHeight,o=e.placement,r=e.shouldScroll,i=e.isFixedPosition,s=e.controlHeight,c=function(e){var t=getComputedStyle(e),n="absolute"===t.position,l=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),!(n&&"static"===t.position)&&l.test(t.overflow+t.overflowY+t.overflowX))return a;return document.documentElement}(l),u={placement:"bottom",maxHeight:n};if(!l||!l.offsetParent)return u;var d=c.getBoundingClientRect().height,p=l.getBoundingClientRect(),h=p.bottom,f=p.height,m=p.top,g=l.offsetParent.getBoundingClientRect().top,v=i||r6(t=c)?window.innerHeight:t.clientHeight,b=r5(c),y=parseInt(getComputedStyle(l).marginBottom,10),x=parseInt(getComputedStyle(l).marginTop,10),w=g-x,C=v-m,j=w+b,S=d-b-m,_=h-v+b+y,k=b+m-x;switch(o){case"auto":case"bottom":if(C>=f)return{placement:"bottom",maxHeight:n};if(S>=f&&!i)return r&&r8(c,_,160),{placement:"bottom",maxHeight:n};if(!i&&S>=a||i&&C>=a)return r&&r8(c,_,160),{placement:"bottom",maxHeight:i?C-y:S-y};if("auto"===o||i){var N=n,E=i?w:j;return E>=a&&(N=Math.min(E-y-s,n)),{placement:"top",maxHeight:N}}if("bottom"===o)return r&&r4(c,_),{placement:"bottom",maxHeight:n};break;case"top":if(w>=f)return{placement:"top",maxHeight:n};if(j>=f&&!i)return r&&r8(c,k,160),{placement:"top",maxHeight:n};if(!i&&j>=a||i&&w>=a){var P=n;return(!i&&j>=a||i&&w>=a)&&(P=i?w-x:j-x),r&&r8(c,k,160),{placement:"top",maxHeight:P}}return{placement:"bottom",maxHeight:n};default:throw Error('Invalid placement provided "'.concat(o,'".'))}return u}({maxHeight:l,menuEl:e,minHeight:n,placement:a,shouldScroll:i&&!t,isFixedPosition:t,controlHeight:v});h(o.maxHeight),g(o.placement),null==c||c(o.placement)}},[l,a,r,i,n,c,v]),t({ref:u,placerProps:oz(oz({},e),{},{placement:m||iu(a),maxHeight:p})})},ih=function(e,t){var n=e.theme,l=n.spacing.baseUnit,a=n.colors;return oz({textAlign:"center"},t?{}:{color:a.neutral40,padding:"".concat(2*l,"px ").concat(3*l,"px")})},im=["size"],ig=["innerProps","isRtl","size"],iv={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},ib=function(e){var t=e.size,n=oq(e,im);return rQ("svg",nc({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:iv},n))},iy=function(e){return rQ(ib,nc({size:20},e),rQ("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},ix=function(e){return rQ(ib,nc({size:20},e),rQ("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},iw=function(e,t){var n=e.isFocused,l=e.theme,a=l.spacing.baseUnit,o=l.colors;return oz({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*a,":hover":{color:n?o.neutral80:o.neutral40}})},iC=function(){var e=rX.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(ir||(ir=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),ij=function(e){var t=e.delay,n=e.offset;return rQ("span",{css:rX({animation:"".concat(iC," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},iS=["data"],i_=["innerRef","isDisabled","isHidden","inputClassName"],ik={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},iN={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":oz({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},ik)},iE=function(e){var t=e.children,n=e.innerProps;return rQ("div",n,t)},iP={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return rQ("div",nc({},r2(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||rQ(iy,null))},Control:function(e){var t=e.children,n=e.isDisabled,l=e.isFocused,a=e.innerRef,o=e.innerProps,r=e.menuIsOpen;return rQ("div",nc({ref:a},r2(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":l,"control--menu-is-open":r}),o,{"aria-disabled":n||void 0}),t)},DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return rQ("div",nc({},r2(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||rQ(ix,null))},DownChevron:ix,CrossIcon:iy,Group:function(e){var t=e.children,n=e.cx,l=e.getStyles,a=e.getClassNames,o=e.Heading,r=e.headingProps,i=e.innerProps,s=e.label,c=e.theme,u=e.selectProps;return rQ("div",nc({},r2(e,"group",{group:!0}),i),rQ(o,nc({},r,{selectProps:u,theme:c,getStyles:l,getClassNames:a,cx:n}),s),rQ("div",null,t))},GroupHeading:function(e){var t=r3(e);t.data;var n=oq(t,iS);return rQ("div",nc({},r2(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return rQ("div",nc({},r2(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return rQ("span",nc({},t,r2(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,l=r3(e),a=l.innerRef,o=l.isDisabled,r=l.isHidden,i=l.inputClassName,s=oq(l,i_);return rQ("div",nc({},r2(e,"input",{"input-container":!0}),{"data-value":n||""}),rQ("input",nc({className:t({input:!0},i),ref:a,style:oz({label:"input",color:"inherit",background:0,opacity:+!r,width:"100%"},ik),disabled:o},s)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,l=e.size,a=oq(e,ig);return rQ("div",nc({},r2(oz(oz({},a),{},{innerProps:t,isRtl:n,size:void 0===l?4:l}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),rQ(ij,{delay:0,offset:n}),rQ(ij,{delay:160,offset:!0}),rQ(ij,{delay:320,offset:!n}))},Menu:function(e){var t=e.children,n=e.innerRef,l=e.innerProps;return rQ("div",nc({},r2(e,"menu",{menu:!0}),{ref:n},l),t)},MenuList:function(e){var t=e.children,n=e.innerProps,l=e.innerRef,a=e.isMulti;return rQ("div",nc({},r2(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:l},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,l=e.controlElement,a=e.innerProps,i=e.menuPlacement,c=e.menuPosition,u=(0,o.useRef)(null),d=(0,o.useRef)(null),p=oH((0,o.useState)(iu(i)),2),h=p[0],f=p[1],m=(0,o.useMemo)(function(){return{setPortalPlacement:f}},[]),g=oH((0,o.useState)(null),2),v=g[0],b=g[1],y=(0,o.useCallback)(function(){if(l){var e,t={bottom:(e=l.getBoundingClientRect()).bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width},n="fixed"===c?0:window.pageYOffset,a=t[h]+n;(a!==(null==v?void 0:v.offset)||t.left!==(null==v?void 0:v.rect.left)||t.width!==(null==v?void 0:v.rect.width))&&b({offset:a,rect:t})}},[l,c,h,null==v?void 0:v.offset,null==v?void 0:v.rect.left,null==v?void 0:v.rect.width]);r$(function(){y()},[y]);var x=(0,o.useCallback)(function(){"function"==typeof d.current&&(d.current(),d.current=null),l&&u.current&&(d.current=(0,s.k)(l,u.current,y,{elementResize:"ResizeObserver"in window}))},[l,y]);r$(function(){x()},[x]);var w=(0,o.useCallback)(function(e){u.current=e,x()},[x]);if(!t&&"fixed"!==c||!v)return null;var C=rQ("div",nc({ref:w},r2(oz(oz({},e),{},{offset:v.offset,position:c,rect:v.rect}),"menuPortal",{"menu-portal":!0}),a),n);return rQ(id.Provider,{value:m},t?(0,r.createPortal)(C,t):C)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,l=e.innerProps,a=oq(e,ic);return rQ("div",nc({},r2(oz(oz({},a),{},{children:n,innerProps:l}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),l),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,l=e.innerProps,a=oq(e,is);return rQ("div",nc({},r2(oz(oz({},a),{},{children:n,innerProps:l}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),l),n)},MultiValue:function(e){var t=e.children,n=e.components,l=e.data,a=e.innerProps,o=e.isDisabled,r=e.removeProps,i=e.selectProps,s=n.Container,c=n.Label,u=n.Remove;return rQ(s,{data:l,innerProps:oz(oz({},r2(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),a),selectProps:i},rQ(c,{data:l,innerProps:oz({},r2(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:i},t),rQ(u,{data:l,innerProps:oz(oz({},r2(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},r),selectProps:i}))},MultiValueContainer:iE,MultiValueLabel:iE,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return rQ("div",nc({role:"button"},n),t||rQ(iy,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,l=e.isFocused,a=e.isSelected,o=e.innerRef,r=e.innerProps;return rQ("div",nc({},r2(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":l,"option--is-selected":a}),{ref:o,"aria-disabled":n},r),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return rQ("div",nc({},r2(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,l=e.isDisabled,a=e.isRtl;return rQ("div",nc({},r2(e,"container",{"--is-disabled":l,"--is-rtl":a}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,l=e.innerProps;return rQ("div",nc({},r2(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),l),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,l=e.isMulti,a=e.hasValue;return rQ("div",nc({},r2(e,"valueContainer",{"value-container":!0,"value-container--is-multi":l,"value-container--has-value":a}),n),t)}},iD=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function iT(e,t){if(e.length!==t.length)return!1;for(var n,l,a=0;a<e.length;a++)if(!((n=e[a])===(l=t[a])||iD(n)&&iD(l)))return!1;return!0}var iA={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},iR=function(e){return rQ("span",nc({css:iA},e))},iL={guidance:function(e){var t=e.isSearchable,n=e.isMulti,l=e.tabSelectsValue,a=e.context,o=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(l?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,l=void 0===n?"":n,a=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(l,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return o?"option ".concat(l," is disabled. Select another option."):"option ".concat(l,", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,l=e.options,a=e.label,o=void 0===a?"":a,r=e.selectValue,i=e.isDisabled,s=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&r)return"value ".concat(o," focused, ").concat(u(r,n),".");if("menu"===t&&c){var d="".concat(s?" selected":"").concat(i?" disabled":"");return"".concat(o).concat(d,", ").concat(u(l,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},iO=function(e){var t=e.ariaSelection,n=e.focusedOption,l=e.focusedValue,a=e.focusableOptions,r=e.isFocused,i=e.selectValue,s=e.selectProps,c=e.id,u=e.isAppleDevice,d=s.ariaLiveMessages,p=s.getOptionLabel,h=s.inputValue,f=s.isMulti,m=s.isOptionDisabled,g=s.isSearchable,v=s.menuIsOpen,b=s.options,y=s.screenReaderStatus,x=s.tabSelectsValue,w=s.isLoading,C=s["aria-label"],j=s["aria-live"],S=(0,o.useMemo)(function(){return oz(oz({},iL),d||{})},[d]),_=(0,o.useMemo)(function(){var e="";if(t&&S.onChange){var n=t.option,l=t.options,a=t.removedValue,o=t.removedValues,r=t.value,s=a||n||(Array.isArray(r)?null:r),c=s?p(s):"",u=l||o||void 0,d=u?u.map(p):[],h=oz({isDisabled:s&&m(s,i),label:c,labels:d},t);e=S.onChange(h)}return e},[t,S,m,i,p]),k=(0,o.useMemo)(function(){var e="",t=n||l,o=!!(n&&i&&i.includes(n));if(t&&S.onFocus){var r={focused:t,label:p(t),isDisabled:m(t,i),isSelected:o,options:a,context:t===n?"menu":"value",selectValue:i,isAppleDevice:u};e=S.onFocus(r)}return e},[n,l,p,m,S,a,i,u]),N=(0,o.useMemo)(function(){var e="";if(v&&b.length&&!w&&S.onFilter){var t=y({count:a.length});e=S.onFilter({inputValue:h,resultsMessage:t})}return e},[a,h,v,S,b,y,w]),E=(null==t?void 0:t.action)==="initial-input-focus",P=(0,o.useMemo)(function(){var e="";if(S.guidance){var t=l?"value":v?"menu":"input";e=S.guidance({"aria-label":C,context:t,isDisabled:n&&m(n,i),isMulti:f,isSearchable:g,tabSelectsValue:x,isInitialFocus:E})}return e},[C,n,l,f,m,g,v,S,i,x,E]),D=rQ(o.Fragment,null,rQ("span",{id:"aria-selection"},_),rQ("span",{id:"aria-focused"},k),rQ("span",{id:"aria-results"},N),rQ("span",{id:"aria-guidance"},P));return rQ(o.Fragment,null,rQ(iR,{id:c},E&&D),rQ(iR,{"aria-live":j,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},r&&!E&&D))},iF=[{base:"A",letters:"A\xc0\xc1\xc2\xc3\xc4\xc5"},{base:"AA",letters:""},{base:"AE",letters:"\xc6"},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C\xc7"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E\xc8\xc9\xca\xcb"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I\xcc\xcd\xce\xcf"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N\xd1"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O\xd2\xd3\xd4\xd5\xd6\xd8"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U\xd9\xda\xdb\xdc"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y\xdd"},{base:"Z",letters:"Z"},{base:"a",letters:"a\xe0\xe1\xe2\xe3\xe4\xe5"},{base:"aa",letters:""},{base:"ae",letters:"\xe6"},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c\xe7"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e\xe8\xe9\xea\xeb"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i\xec\xed\xee\xef"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n\xf1"},{base:"nj",letters:""},{base:"o",letters:"o\xf2\xf3\xf4\xf5\xf6\xf8"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s\xdf"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u\xf9\xfa\xfb\xfc"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y\xfd\xff"},{base:"z",letters:"z"}],iI=RegExp("["+iF.map(function(e){return e.letters}).join("")+"]","g"),iM={};for(iU=0;iU<iF.length;iU++)for(iB=iF[iU],iz=0;iz<iB.letters.length;iz++)iM[iB.letters[iz]]=iB.base;var iB,iz,iU,iV=function(e){return e.replace(iI,function(e){return iM[e]})},iH=function(e,t){void 0===t&&(t=iT);var n=null;function l(){for(var l=[],a=0;a<arguments.length;a++)l[a]=arguments[a];if(n&&n.lastThis===this&&t(l,n.lastArgs))return n.lastResult;var o=e.apply(this,l);return n={lastResult:o,lastArgs:l,lastThis:this},o}return l.clear=function(){n=null},l}(iV),iq=function(e){return e.replace(/^\s+|\s+$/g,"")},iW=function(e){return"".concat(e.label," ").concat(e.value)},iK=["innerRef"];function iY(e){var t=e.innerRef,n=ii(oq(e,iK),"onExited","in","enter","exit","appear");return rQ("input",nc({ref:t},n,{css:rX({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var iG=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()},iQ=["boxSizing","height","overflow","paddingRight","position"],iX={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function i$(e){e.cancelable&&e.preventDefault()}function iZ(e){e.stopPropagation()}function iJ(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function i0(){return"ontouchstart"in window||navigator.maxTouchPoints}var i1=!!("u">typeof window&&window.document&&window.document.createElement),i3=0,i2={capture:!1,passive:!1},i6=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},i5={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function i4(e){var t,n,l,a,r,i,s,c,u,d,p,h,f,m,g,v,b,y,x,w,C,j,S,_,k=e.children,N=e.lockEnabled,E=e.captureEnabled,P=(n=(t={isEnabled:void 0===E||E,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}).isEnabled,l=t.onBottomArrive,a=t.onBottomLeave,r=t.onTopArrive,i=t.onTopLeave,s=(0,o.useRef)(!1),c=(0,o.useRef)(!1),u=(0,o.useRef)(0),d=(0,o.useRef)(null),p=(0,o.useCallback)(function(e,t){if(null!==d.current){var n=d.current,o=n.scrollTop,u=n.scrollHeight,p=n.clientHeight,h=d.current,f=t>0,m=u-p-o,g=!1;m>t&&s.current&&(a&&a(e),s.current=!1),f&&c.current&&(i&&i(e),c.current=!1),f&&t>m?(l&&!s.current&&l(e),h.scrollTop=u,g=!0,s.current=!0):!f&&-t>o&&(r&&!c.current&&r(e),h.scrollTop=0,g=!0,c.current=!0),g&&iG(e)}},[l,a,r,i]),h=(0,o.useCallback)(function(e){p(e,e.deltaY)},[p]),f=(0,o.useCallback)(function(e){u.current=e.changedTouches[0].clientY},[]),m=(0,o.useCallback)(function(e){var t=u.current-e.changedTouches[0].clientY;p(e,t)},[p]),g=(0,o.useCallback)(function(e){if(e){var t=!!il&&{passive:!1};e.addEventListener("wheel",h,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",m,t)}},[m,f,h]),v=(0,o.useCallback)(function(e){e&&(e.removeEventListener("wheel",h,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",m,!1))},[m,f,h]),(0,o.useEffect)(function(){if(n){var e=d.current;return g(e),function(){v(e)}}},[n,g,v]),function(e){d.current=e}),D=(y=(b={isEnabled:N}).isEnabled,w=void 0===(x=b.accountForScrollbars)||x,C=(0,o.useRef)({}),j=(0,o.useRef)(null),S=(0,o.useCallback)(function(e){if(i1){var t=document.body,n=t&&t.style;if(w&&iQ.forEach(function(e){var t=n&&n[e];C.current[e]=t}),w&&i3<1){var l=parseInt(C.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,o=window.innerWidth-a+l||0;Object.keys(iX).forEach(function(e){var t=iX[e];n&&(n[e]=t)}),n&&(n.paddingRight="".concat(o,"px"))}t&&i0()&&(t.addEventListener("touchmove",i$,i2),e&&(e.addEventListener("touchstart",iJ,i2),e.addEventListener("touchmove",iZ,i2))),i3+=1}},[w]),_=(0,o.useCallback)(function(e){if(i1){var t=document.body,n=t&&t.style;i3=Math.max(i3-1,0),w&&i3<1&&iQ.forEach(function(e){var t=C.current[e];n&&(n[e]=t)}),t&&i0()&&(t.removeEventListener("touchmove",i$,i2),e&&(e.removeEventListener("touchstart",iJ,i2),e.removeEventListener("touchmove",iZ,i2)))}},[w]),(0,o.useEffect)(function(){if(y){var e=j.current;return S(e),function(){_(e)}}},[y,S,_]),function(e){j.current=e});return rQ(o.Fragment,null,N&&rQ("div",{onClick:i6,css:i5}),k(function(e){P(e),D(e)}))}var i8={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},i9=function(e){var t=e.name,n=e.onFocus;return rQ("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:i8,value:"",onChange:function(){}})};function i7(e){var t;return"u">typeof window&&null!=window.navigator&&e.test((null==(t=window.navigator.userAgentData)?void 0:t.platform)||window.navigator.platform)}var se=function(e){return e.label},st=function(e){return e.value},sn={clearIndicator:iw,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,l=e.isFocused,a=e.theme,o=a.colors,r=a.borderRadius;return oz({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:l?o.primary:o.neutral20,borderRadius:r,borderStyle:"solid",borderWidth:1,boxShadow:l?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:l?o.primary:o.neutral30}})},dropdownIndicator:iw,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,l=n.colors,a=n.spacing;return oz({label:"group",cursor:"default",display:"block"},t?{}:{color:l.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*a.baseUnit,paddingRight:3*a.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,l=e.theme,a=l.spacing.baseUnit,o=l.colors;return oz({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*a,marginTop:2*a})},input:function(e,t){var n=e.isDisabled,l=e.value,a=e.theme,o=a.spacing,r=a.colors;return oz(oz({visibility:n?"hidden":"visible",transform:l?"translateZ(0)":""},iN),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:r.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,l=e.size,a=e.theme,o=a.colors,r=a.spacing.baseUnit;return oz({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:l,lineHeight:1,marginRight:l,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*r})},loadingMessage:ih,menu:function(e,t){var n,l=e.placement,a=e.theme,o=a.borderRadius,r=a.spacing,i=a.colors;return oz((oM(n={label:"menu"},l?({bottom:"top",top:"bottom"})[l]:"bottom","100%"),oM(n,"position","absolute"),oM(n,"width","100%"),oM(n,"zIndex",1),n),t?{}:{backgroundColor:i.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:r.menuGutter,marginTop:r.menuGutter})},menuList:function(e,t){var n=e.maxHeight,l=e.theme.spacing.baseUnit;return oz({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:l,paddingTop:l})},menuPortal:function(e){var t=e.rect,n=e.offset,l=e.position;return{left:t.left,position:l,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,l=n.spacing,a=n.borderRadius,o=n.colors;return oz({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:a/2,margin:l.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,l=n.borderRadius,a=n.colors,o=e.cropWithEllipsis;return oz({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:l/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,l=n.spacing,a=n.borderRadius,o=n.colors,r=e.isFocused;return oz({alignItems:"center",display:"flex"},t?{}:{borderRadius:a/2,backgroundColor:r?o.dangerLight:void 0,paddingLeft:l.baseUnit,paddingRight:l.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:ih,option:function(e,t){var n=e.isDisabled,l=e.isFocused,a=e.isSelected,o=e.theme,r=o.spacing,i=o.colors;return oz({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:a?i.primary:l?i.primary25:"transparent",color:n?i.neutral20:a?i.neutral0:"inherit",padding:"".concat(2*r.baseUnit,"px ").concat(3*r.baseUnit,"px"),":active":{backgroundColor:n?void 0:a?i.primary:i.primary50}})},placeholder:function(e,t){var n=e.theme,l=n.spacing,a=n.colors;return oz({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:a.neutral50,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,l=e.theme,a=l.spacing,o=l.colors;return oz({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?o.neutral40:o.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,l=e.isMulti,a=e.hasValue,o=e.selectProps.controlShouldRenderValue;return oz({alignItems:"center",display:l&&a&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},sl={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},sa={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:r7(),captureMenuScroll:!r7(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=oz({ignoreCase:!0,ignoreAccents:!0,stringify:iW,trim:!0,matchFrom:"any"},void 0),l=n.ignoreCase,a=n.ignoreAccents,o=n.stringify,r=n.trim,i=n.matchFrom,s=r?iq(t):t,c=r?iq(o(e)):o(e);return l&&(s=s.toLowerCase(),c=c.toLowerCase()),a&&(s=iH(s),c=iV(c)),"start"===i?c.substr(0,s.length)===s:c.indexOf(s)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:se,getOptionValue:st,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function so(e,t,n,l){var a=sh(e,t,n),o=sf(e,t,n),r=sd(e,t),i=sp(e,t);return{type:"option",data:t,isDisabled:a,isSelected:o,label:r,value:i,index:l}}function sr(e,t){return e.options.map(function(n,l){if("options"in n){var a=n.options.map(function(n,l){return so(e,n,t,l)}).filter(function(t){return sc(e,t)});return a.length>0?{type:"group",data:n,options:a,index:l}:void 0}var o=so(e,n,t,l);return sc(e,o)?o:void 0}).filter(ia)}function si(e){return e.reduce(function(e,t){return"group"===t.type?e.push.apply(e,oX(t.options.map(function(e){return e.data}))):e.push(t.data),e},[])}function ss(e,t){return e.reduce(function(e,n){return"group"===n.type?e.push.apply(e,oX(n.options.map(function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}}))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e},[])}function sc(e,t){var n=e.inputValue,l=t.data,a=t.isSelected,o=t.label,r=t.value;return(!sg(e)||!a)&&sm(e,{label:o,value:r,data:l},void 0===n?"":n)}var su=function(e,t){var n;return(null==(n=e.find(function(e){return e.data===t}))?void 0:n.id)||null},sd=function(e,t){return e.getOptionLabel(t)},sp=function(e,t){return e.getOptionValue(t)};function sh(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function sf(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var l=sp(e,t);return n.some(function(t){return sp(e,t)===l})}function sm(e,t,n){return!e.filterOption||e.filterOption(t,n)}var sg=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},sv=1,sb=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&nd(r,e);var t,n,l,a=(t=oQ(),function(){var e,n=oG(r);e=t?Reflect.construct(n,arguments,oG(this).constructor):n.apply(this,arguments);if(e&&("object"==oF(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return this});function r(e){var t;if(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),(t=a.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=i7(/^Mac/i)||i7(/^iPhone/i)||i7(/^iPad/i)||i7(/^Mac/i)&&navigator.maxTouchPoints>1,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var l=t.props,a=l.onChange;n.name=l.name,t.ariaOnChange(e,n),a(e,n)},t.setValue=function(e,n,l){var a=t.props,o=a.closeMenuOnSelect,r=a.isMulti,i=a.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:i}),o&&(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:l})},t.selectOption=function(e){var n=t.props,l=n.blurInputOnSelect,a=n.isMulti,o=n.name,r=t.state.selectValue,i=a&&t.isOptionSelected(e,r),s=t.isOptionDisabled(e,r);if(i){var c=t.getOptionValue(e);t.setValue(r.filter(function(e){return t.getOptionValue(e)!==c}),"deselect-option",e)}else{if(s)return void t.ariaOnChange(e,{action:"select-option",option:e,name:o});a?t.setValue([].concat(oX(r),[e]),"select-option",e):t.setValue(e,"select-option")}l&&t.blurInput()},t.removeValue=function(e){var n,l=t.props.isMulti,a=t.state.selectValue,o=t.getOptionValue(e),r=a.filter(function(e){return t.getOptionValue(e)!==o}),i=(n=r[0]||null,l?r:n);t.onChange(i,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e,n,l=t.state.selectValue;t.onChange((e=t.props.isMulti,n=[],e?n:null),{action:"clear",removedValues:l})},t.popValue=function(){var e,n=t.props.isMulti,l=t.state.selectValue,a=l[l.length-1],o=l.slice(0,l.length-1),r=(e=o[0]||null,n?o:e);a&&t.onChange(r,{action:"pop-value",removedValue:a})},t.getFocusedOptionId=function(e){return su(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return ss(sr(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];return r0.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return sd(t.props,e)},t.getOptionValue=function(e){return sp(t.props,e)},t.getStyles=function(e,n){var l=t.props.unstyled,a=sn[e](n,l);a.boxSizing="border-box";var o=t.props.styles[e];return o?o(a,n):a},t.getClassNames=function(e,n){var l,a;return null==(l=(a=t.props.classNames)[e])?void 0:l.call(a,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){var e;return e=t.props,oz(oz({},iP),e.components)},t.buildCategorizedOptions=function(){return sr(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return si(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:oz({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button)&&!t.props.isDisabled){var n=t.props,l=n.isMulti,a=n.menuIsOpen;t.focusInput(),a?(t.setState({inputIsHiddenAfterUpdate:!l}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout(function(){return t.focusInput()}))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&r6(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,l=n&&n.item(0);l&&(t.initialTouchX=l.clientX,t.initialTouchY=l.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,l=n&&n.item(0);if(l){var a=Math.abs(l.clientX-t.initialTouchX),o=Math.abs(l.clientY-t.initialTouchY);t.userIsDragging=a>5||o>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,l=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(l,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;if(t.menuListRef&&t.menuListRef.contains(document.activeElement))return void t.inputRef.focus();t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1})},t.onOptionHover=function(e){if(!(t.blockOptionHover||t.state.focusedOption===e)){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return sg(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,l=n.isMulti,a=n.backspaceRemovesValue,o=n.escapeClearsValue,r=n.inputValue,i=n.isClearable,s=n.isDisabled,c=n.menuIsOpen,u=n.onKeyDown,d=n.tabSelectsValue,p=n.openMenuOnFocus,h=t.state,f=h.focusedOption,m=h.focusedValue,g=h.selectValue;if(!s&&!("function"==typeof u&&(u(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!l||r)return;t.focusValue("previous");break;case"ArrowRight":if(!l||r)return;t.focusValue("next");break;case"Delete":case"Backspace":if(r)return;if(m)t.removeValue(m);else{if(!a)return;l?t.popValue():i&&t.clearValue()}break;case"Tab":if(t.isComposing||e.shiftKey||!c||!d||!f||p&&t.isOptionSelected(f,g))return;t.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f||t.isComposing)return;t.selectOption(f);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:r}),t.onMenuClose()):i&&o&&t.clearValue();break;case" ":if(r)return;if(!c){t.openMenu("first");break}if(!f)return;t.selectOption(f);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++sv),t.state.selectValue=r1(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.getFocusableOptionsWithIds(),l=t.buildFocusableOptions(),o=l.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=n,t.state.focusedOption=l[o],t.state.focusedOptionId=su(n,l[o])}return t}return n=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&r9(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,l=t.menuIsOpen,a=this.state.isFocused;(a&&!n&&e.isDisabled||a&&l&&!e.menuIsOpen)&&this.focusInput(),a&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):a||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(r9(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,l=n.selectValue,a=n.isFocused,o=this.buildFocusableOptions(),r="first"===e?0:o.length-1;if(!this.props.isMulti){var i=o.indexOf(l[0]);i>-1&&(r=i)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[r],focusedOptionId:this.getFocusedOptionId(o[r])},function(){return t.onMenuOpen()})}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,l=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=n.indexOf(l);l||(a=-1);var o=n.length-1,r=-1;if(n.length){switch(e){case"previous":r=0===a?0:-1===a?o:a-1;break;case"next":a>-1&&a<o&&(r=a+1)}this.setState({inputIsHidden:-1!==r,focusedValue:n[r]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var a=0,o=l.indexOf(n);n||(o=-1),"up"===e?a=o>0?o-1:l.length-1:"down"===e?a=(o+1)%l.length:"pageup"===e?(a=o-t)<0&&(a=0):"pagedown"===e?(a=o+t)>l.length-1&&(a=l.length-1):"last"===e&&(a=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[a])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(sl):oz(oz({},sl),this.props.theme):sl}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,l=this.getClassNames,a=this.getValue,o=this.selectOption,r=this.setValue,i=this.props,s=i.isMulti,c=i.isRtl,u=i.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:l,getValue:a,hasValue:this.hasValue(),isMulti:s,isRtl:c,options:u,selectOption:o,selectProps:i,setValue:r,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return sh(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return sf(this.props,e,t)}},{key:"filterOption",value:function(e,t){return sm(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"!=typeof this.props.formatOptionLabel)return this.getOptionLabel(e);var n=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:l})}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,l=e.inputId,a=e.inputValue,r=e.tabIndex,i=e.form,s=e.menuIsOpen,c=e.required,u=this.getComponents().Input,d=this.state,p=d.inputIsHidden,h=d.ariaSelection,f=this.commonProps,m=l||this.getElementId("input"),g=oz(oz(oz({"aria-autocomplete":"list","aria-expanded":s,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},s&&{"aria-controls":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?(null==h?void 0:h.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?o.createElement(u,nc({},f,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:r,form:i,type:"text",value:a},g)):o.createElement(iY,nc({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:rJ,onFocus:this.onInputFocus,disabled:t,tabIndex:r,inputMode:"none",form:i,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,l=t.MultiValueContainer,a=t.MultiValueLabel,r=t.MultiValueRemove,i=t.SingleValue,s=t.Placeholder,c=this.commonProps,u=this.props,d=u.controlShouldRenderValue,p=u.isDisabled,h=u.isMulti,f=u.inputValue,m=u.placeholder,g=this.state,v=g.selectValue,b=g.focusedValue,y=g.isFocused;if(!this.hasValue()||!d)return f?null:o.createElement(s,nc({},c,{key:"placeholder",isDisabled:p,isFocused:y,innerProps:{id:this.getElementId("placeholder")}}),m);if(h)return v.map(function(t,i){var s=t===b,u="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return o.createElement(n,nc({},c,{components:{Container:l,Label:a,Remove:r},isFocused:s,isDisabled:p,key:u,index:i,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))});if(f)return null;var x=v[0];return o.createElement(i,nc({},c,{data:x,isDisabled:p}),this.formatOptionLabel(x,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,l=n.isDisabled,a=n.isLoading,r=this.state.isFocused;if(!this.isClearable()||!e||l||!this.hasValue()||a)return null;var i={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return o.createElement(e,nc({},t,{innerProps:i,isFocused:r}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,l=n.isDisabled,a=n.isLoading,r=this.state.isFocused;return e&&a?o.createElement(e,nc({},t,{innerProps:{"aria-hidden":"true"},isDisabled:l,isFocused:r})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var l=this.commonProps,a=this.props.isDisabled,r=this.state.isFocused;return o.createElement(n,nc({},l,{isDisabled:a,isFocused:r}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,l=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return o.createElement(e,nc({},t,{innerProps:a,isDisabled:n,isFocused:l}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,l=t.GroupHeading,a=t.Menu,r=t.MenuList,i=t.MenuPortal,s=t.LoadingMessage,c=t.NoOptionsMessage,u=t.Option,d=this.commonProps,p=this.state.focusedOption,h=this.props,f=h.captureMenuScroll,m=h.inputValue,g=h.isLoading,v=h.loadingMessage,b=h.minMenuHeight,y=h.maxMenuHeight,x=h.menuIsOpen,w=h.menuPlacement,C=h.menuPosition,j=h.menuPortalTarget,S=h.menuShouldBlockScroll,_=h.menuShouldScrollIntoView,k=h.noOptionsMessage,N=h.onMenuScrollToTop,E=h.onMenuScrollToBottom;if(!x)return null;var P,D=function(t,n){var l=t.type,a=t.data,r=t.isDisabled,i=t.isSelected,s=t.label,c=t.value,h=p===a,f=r?void 0:function(){return e.onOptionHover(a)},m=r?void 0:function(){return e.selectOption(a)},g="".concat(e.getElementId("option"),"-").concat(n),v={id:g,onClick:m,onMouseMove:f,onMouseOver:f,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:i};return o.createElement(u,nc({},d,{innerProps:v,data:a,isDisabled:r,isSelected:i,key:g,label:s,type:l,value:c,isFocused:h,innerRef:h?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())P=this.getCategorizedOptions().map(function(t){if("group"===t.type){var a=t.data,r=t.options,i=t.index,s="".concat(e.getElementId("group"),"-").concat(i),c="".concat(s,"-heading");return o.createElement(n,nc({},d,{key:s,data:a,options:r,Heading:l,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return D(e,"".concat(i,"-").concat(e.index))}))}if("option"===t.type)return D(t,"".concat(t.index))});else if(g){var T=v({inputValue:m});if(null===T)return null;P=o.createElement(s,d,T)}else{var A=k({inputValue:m});if(null===A)return null;P=o.createElement(c,d,A)}var R={minMenuHeight:b,maxMenuHeight:y,menuPlacement:w,menuPosition:C,menuShouldScrollIntoView:_},L=o.createElement(ip,nc({},d,R),function(t){var n=t.ref,l=t.placerProps,i=l.placement,s=l.maxHeight;return o.createElement(a,nc({},d,R,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:g,placement:i}),o.createElement(i4,{captureEnabled:f,onTopArrive:N,onBottomArrive:E,lockEnabled:S},function(t){return o.createElement(r,nc({},d,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":d.isMulti,id:e.getElementId("listbox")},isLoading:g,maxHeight:s,focusedOption:p}),P)}))});return j||"fixed"===C?o.createElement(i,nc({},d,{appendTo:j,controlElement:this.controlRef,menuPlacement:w,menuPosition:C}),L):L}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,l=t.isDisabled,a=t.isMulti,r=t.name,i=t.required,s=this.state.selectValue;if(i&&!this.hasValue()&&!l)return o.createElement(i9,{name:r,onFocus:this.onValueInputFocus});if(!(!r||l))if(a)if(n){var c=s.map(function(t){return e.getOptionValue(t)}).join(n);return o.createElement("input",{name:r,type:"hidden",value:c})}else{var u=s.length>0?s.map(function(t,n){return o.createElement("input",{key:"i-".concat(n),name:r,type:"hidden",value:e.getOptionValue(t)})}):o.createElement("input",{name:r,type:"hidden",value:""});return o.createElement("div",null,u)}else{var d=s[0]?this.getOptionValue(s[0]):"";return o.createElement("input",{name:r,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,l=t.focusedOption,a=t.focusedValue,r=t.isFocused,i=t.selectValue,s=this.getFocusableOptions();return o.createElement(iO,nc({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:l,focusedValue:a,isFocused:r,selectValue:i,focusableOptions:s,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,l=e.SelectContainer,a=e.ValueContainer,r=this.props,i=r.className,s=r.id,c=r.isDisabled,u=r.menuIsOpen,d=this.state.isFocused,p=this.commonProps=this.getCommonProps();return o.createElement(l,nc({},p,{className:i,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:d}),this.renderLiveRegion(),o.createElement(t,nc({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:d,menuIsOpen:u}),o.createElement(a,nc({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),o.createElement(n,nc({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],l=[{key:"getDerivedStateFromProps",value:function(e,t){var n,l=t.prevProps,a=t.clearFocusValueOnUpdate,o=t.inputIsHiddenAfterUpdate,r=t.ariaSelection,i=t.isFocused,s=t.prevWasFocused,c=t.instancePrefix,u=e.options,d=e.value,p=e.menuIsOpen,h=e.inputValue,f=e.isMulti,m=r1(d),g={};if(l&&(d!==l.value||u!==l.options||p!==l.menuIsOpen||h!==l.inputValue)){var v,b=p?si(sr(e,m)):[],y=p?ss(sr(e,m),"".concat(c,"-option")):[],x=a?function(e,t){var n=e.focusedValue,l=e.selectValue.indexOf(n);if(l>-1){if(t.indexOf(n)>-1)return n;if(l<t.length)return t[l]}return null}(t,m):null,w=(v=t.focusedOption)&&b.indexOf(v)>-1?v:b[0],C=su(y,w);g={selectValue:m,focusedOption:w,focusedOptionId:C,focusableOptionsWithIds:y,focusedValue:x,clearFocusValueOnUpdate:!1}}var j=null!=o&&e!==l?{inputIsHidden:o,inputIsHiddenAfterUpdate:void 0}:{},S=r,_=i&&s;return i&&!_&&(S={value:(n=m[0]||null,f?m:n),options:m,action:"initial-input-focus"},_=!s),(null==r?void 0:r.action)==="initial-input-focus"&&(S=null),oz(oz(oz({},g),j),{},{prevProps:e,ariaSelection:S,prevWasFocused:_})}}],n&&oY(r.prototype,n),l&&oY(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r}(o.Component);sb.defaultProps=sa;var sy=(0,o.forwardRef)(function(e,t){var n=oK(e);return o.createElement(sb,nc({ref:t},n))}),sx=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],sw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,l=String(e).toLowerCase(),a=String(n.getOptionValue(t)).toLowerCase(),o=String(n.getOptionLabel(t)).toLowerCase();return a===l||o===l},sC={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,l){return!(!e||t.some(function(t){return sw(e,t,l)})||n.some(function(t){return sw(e,t,l)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}},sj=(0,o.forwardRef)(function(e,t){var n,l,a,r,i,s,c,u,d,p,h,f,m,g,v,b,y,x,w,C,j,S,_,k,N,E,P,D,T=(a=void 0!==(l=(n=oK(e)).allowCreateWhileLoading)&&l,i=void 0===(r=n.createOptionPosition)?"last":r,c=void 0===(s=n.formatCreateLabel)?sC.formatCreateLabel:s,d=void 0===(u=n.isValidNewOption)?sC.isValidNewOption:u,h=void 0===(p=n.getNewOptionData)?sC.getNewOptionData:p,f=n.onCreateOption,g=void 0===(m=n.options)?[]:m,v=n.onChange,x=void 0===(y=(b=oq(n,sx)).getOptionValue)?st:y,C=void 0===(w=b.getOptionLabel)?se:w,j=b.inputValue,S=b.isLoading,_=b.isMulti,k=b.value,N=b.name,E=(0,o.useMemo)(function(){return d(j,r1(k),g,{getOptionValue:x,getOptionLabel:C})?h(j,c(j)):void 0},[c,h,C,x,j,d,g,k]),P=(0,o.useMemo)(function(){return(a||!S)&&E?"first"===i?[E].concat(oX(g)):[].concat(oX(g),[E]):g},[a,i,S,E,g]),D=(0,o.useCallback)(function(e,t){if("select-option"!==t.action)return v(e,t);var n=Array.isArray(e)?e:[e];if(n[n.length-1]===E){if(f)f(j);else{var l,a=h(j,j);v((l=[].concat(oX(r1(k)),[a]),_?l:a),{action:"create-option",name:N,option:a})}return}v(e,t)},[h,j,_,N,E,f,v,k]),oz(oz({},b),{},{options:P,onChange:D}));return o.createElement(sb,nc({ref:t},T))}),sS="clear-indicator",s_=e=>{let{clearValue:t,innerProps:{ref:n,...l}}=e;return(0,u.jsx)("div",{className:sS,ref:"string"==typeof n?null:n,...l,onKeyDown:e=>{"Enter"===e.key&&(t(),e.stopPropagation())},role:"button",tabIndex:0,children:(0,u.jsx)(s.a,{className:"".concat(sS,"__icon")})})},sk=e=>{let{children:t,innerProps:n,selectProps:{customProps:{disableKeyDown:l,disableMouseDown:a}={}}={}}=e;return(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(iP.Control,{...e,innerProps:{...n,onKeyDown:e=>{if(l){e.stopPropagation();let t=new CustomEvent("bypassKeyDown",{detail:e});document.dispatchEvent(t)}},onMouseDown:e=>{a||n.onMouseDown(e)}},children:t})})},sN="dropdown-indicator",sE=e=>{let{innerProps:{ref:t,...n}}=e;return(0,u.jsx)("button",{className:sN,ref:t,...n,onKeyDown:e=>{"Enter"===e.key&&(e.key=" ")},type:"button",children:(0,u.jsx)(tl,{className:"".concat(sN,"__icon")})})},sP=e=>(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(iP.Input,{...e,"aria-activedescendant":void 0})}),sD="multi-value";function sT(e,t){return"function"==typeof t?t(e):e.value}var sA=e=>{let t=(0,f.c)(26),{className:n,data:l,innerProps:a,isDisabled:r,selectProps:i}=e,s;t[0]!==i?(s=void 0===i?{}:i,t[0]=i,t[1]=s):s=t[1];let{customProps:c,getOptionValue:d,isSortable:p}=s,h;t[2]!==c?(h=void 0===c?{}:c,t[2]=c,t[3]=h):h=t[3];let{disableMouseDown:m}=h,g;t[4]!==l||t[5]!==d?(g=sT(l,d),t[4]=l,t[5]=d,t[6]=g):g=t[6];let v=!p,b;t[7]!==g||t[8]!==v?(b={id:g,disabled:v},t[7]=g,t[8]=v,t[9]=b):b=t[9];let{attributes:y,isDragging:x,listeners:w,setNodeRef:C,transform:j}=t8(b),S=!r&&p&&"draggable",_=x&&"".concat(sD,"--is-dragging"),k;t[10]!==n||t[11]!==S||t[12]!==_?(k=[sD,n,S,_].filter(Boolean),t[10]=n,t[11]=S,t[12]=_,t[13]=k):k=t[13];let N=k.join(" "),E;if(t[14]!==y||t[15]!==N||t[16]!==m||t[17]!==a||t[18]!==p||t[19]!==w||t[20]!==e||t[21]!==C||t[22]!==j){let n;t[24]!==m?(n=e=>{m||e.stopPropagation()},t[24]=m,t[25]=n):n=t[25],E=(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(iP.MultiValue,{...e,className:N,innerProps:{...p?{...y,...w}:{},...a,onMouseDown:n,ref:C,style:p?{transform:j,...null==y?void 0:y.style}:{}}})}),t[14]=y,t[15]=N,t[16]=m,t[17]=a,t[18]=p,t[19]=w,t[20]=e,t[21]=C,t[22]=j,t[23]=E}else E=t[23];return E},sR="multi-value-label",sL=e=>{let{data:t,selectProps:{customProps:{draggableProps:n,editableProps:l}={}}={}}=e,a="".concat(sR,"__text");return(0,u.jsx)("div",{className:sR,children:(0,u.jsx)(iP.MultiValueLabel,{...e,innerProps:{className:a,...l&&l(t,a,e.selectProps)||{},...n||{}}})})},sO="multi-value-remove",sF=e=>{let t=(0,f.c)(12),{innerProps:n}=e,{className:l,onClick:a,onTouchEnd:r}=n,[i,c]=o.useState(!1),{t:d}=(0,s.d)(),p;if(t[0]!==l||t[1]!==a||t[2]!==r||t[3]!==i||t[4]!==d){let e,n,o,h=d("general:remove"),f;t[6]!==l?(f=[sO,l].filter(Boolean),t[6]=l,t[7]=f):f=t[7],t[8]!==a?(e=e=>{c(!1),a(e)},t[8]=a,t[9]=e):e=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(n=()=>c(!0),o=()=>c(!1),t[10]=n,t[11]=o):(n=t[10],o=t[11]),p=(0,u.jsxs)("button",{"aria-label":h,className:f.join(" "),onClick:e,onKeyDown:sI,onMouseDown:sM,onMouseEnter:n,onMouseLeave:o,onTouchEnd:r,type:"button",children:[(0,u.jsx)(tk,{className:"".concat(sO,"__tooltip"),show:i,children:d("general:remove")}),(0,u.jsx)(s.a,{className:"".concat(sO,"__icon")})]}),t[0]=l,t[1]=a,t[2]=r,t[3]=i,t[4]=d,t[5]=p}else p=t[5];return p};function sI(e){"Enter"===e.key&&e.stopPropagation()}function sM(e){return e.stopPropagation()}var sB=e=>{let{children:t,className:n}=e;return(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(iP.SingleValue,{...e,className:["react-select--single-value",n].filter(Boolean).join(" "),children:t})})},sz="value-container",sU=e=>{let{selectProps:{customProps:t}={}}=e;return(0,u.jsxs)("div",{className:sz,ref:null==t?void 0:t.droppableRef,children:[(null==t?void 0:t.valueContainerLabel)&&(0,u.jsx)("span",{className:"".concat(sz,"__label"),children:null==t?void 0:t.valueContainerLabel}),(0,u.jsx)(iP.ValueContainer,{...e})]})},sV=e=>{let{i18n:t,t:n}=(0,s.d)(),[l,a]=o.useState(""),r=(0,o.useId)(),[c,p]=o.useState(!1);(0,o.useEffect)(()=>{p(!0)},[]);let{className:h,components:f,customProps:m,disabled:g=!1,filterOption:v,getOptionValue:b,isClearable:y=!0,isCreatable:x,isLoading:w,isSearchable:C=!0,noOptionsMessage:j=()=>n("general:noOptions"),numberOnly:S=!1,onChange:_,onMenuClose:k,onMenuOpen:N,options:E,placeholder:P=n("general:selectValue"),showError:D,value:T}=e,A=()=>n("general:loading")+"...",R=[h,"react-select",D&&"react-select--error"].filter(Boolean).join(" "),L={menu:e=>({...e,zIndex:void 0})};return c?x?(0,u.jsx)(sj,{captureMenuScroll:!0,isLoading:w,...e,className:R,classNamePrefix:"rs",components:{ClearIndicator:s_,Control:sk,DropdownIndicator:sE,Input:sP,MultiValue:sA,MultiValueLabel:sL,MultiValueRemove:sF,SingleValue:sB,ValueContainer:sU,...f},filterOption:v,inputValue:l,instanceId:r,isClearable:y,isDisabled:g,isSearchable:C,loadingMessage:A,menuPlacement:"auto",noOptionsMessage:j,onChange:_,onInputChange:e=>a(e),onKeyDown:e=>{if(!0===S){let t=!/\D/.test(e.key),n=["Tab","Escape","Backspace","Enter","ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(e.key);if(!t&&!n)return void e.preventDefault()}if(!(!T||!l||""===l.trim())&&!(v&&!v(null,l)))switch(e.key){case"Enter":case"Tab":_([...T,(e=>({label:e,value:e}))(l)]),a(""),e.preventDefault()}},onMenuClose:k,onMenuOpen:N,options:E,placeholder:(0,d.s)(P,t),styles:L,unstyled:!0,value:T}):(0,u.jsx)(sy,{captureMenuScroll:!0,customProps:m,isLoading:w,...e,className:R,classNamePrefix:"rs",components:{ClearIndicator:s_,Control:sk,DropdownIndicator:sE,Input:sP,MultiValue:sA,MultiValueLabel:sL,MultiValueRemove:sF,SingleValue:sB,ValueContainer:sU,...f},filterOption:v,getOptionValue:b,instanceId:r,isClearable:y,isDisabled:g,isSearchable:C,loadingMessage:A,menuPlacement:"auto",noOptionsMessage:j,onChange:_,onMenuClose:k,onMenuOpen:N,options:E,placeholder:(0,d.s)(P,t),styles:L,unstyled:!0,value:T}):(0,u.jsx)(i.e,{height:"calc(var(--base) * 2 + 2px)"})},sH=e=>{let{getOptionValue:t,onChange:n,value:l}=e,a=[];return l&&(a=(Array.isArray(l)?l:[l]).map(e=>sT(e,t))),(0,u.jsx)(t7,{className:"react-select-container",ids:a,onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:a}=e,o=l;l&&Array.isArray(l)&&(o=tW(l,t,a)),n(o)},children:(0,u.jsx)(sV,{...e})})},sq=e=>{let{isMulti:t,isSortable:n}=e;return t&&n?(0,u.jsx)(sH,{...e}):(0,u.jsx)(sV,{...e})},sW=e=>e.map(e=>"object"==typeof e&&(e.value||""===e.value)?e:{label:e,value:e}),sK=e=>{let{id:t,onChange:n,options:l,required:a,selectedTimezone:r}=e,{t:i}=(0,s.d)(),c=sW(l),d=(0,o.useMemo)(()=>c.find(e=>("string"==typeof e?e:e.value)===(r||"UTC")),[c,r]);return(0,u.jsxs)("div",{className:"timezone-picker-wrapper",children:[(0,u.jsx)(lR,{htmlFor:t,label:"".concat(i("general:timezone")," ").concat(a?"*":""),required:a,unstyled:!0}),(0,u.jsx)(sq,{className:"timezone-picker",inputId:t,isClearable:!0,isCreatable:!1,onChange:e=>{n&&n((null==e?void 0:e.value)||"")},options:c,value:d})]})},sY="date-time-field",sG=aV(e=>{let{field:t,field:{admin:{className:n,date:l,description:a,placeholder:r}={},label:c,localized:p,required:h,timezone:f},path:m,readOnly:g,validate:v}=e,b=(null==l?void 0:l.pickerAppearance)||"default",y=Intl.DateTimeFormat().resolvedOptions().timeZone,{config:x}=(0,i.b)(),{i18n:w}=(0,s.d)(),{dispatchFields:C,setModified:j}=eE(),{customComponents:{AfterInput:S,BeforeInput:_,Description:k,Error:N,Label:E}={},disabled:P,path:D,setValue:T,showError:A,value:R}=aB({potentiallyStalePath:m,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof v)return v(e,{...t,required:h})},[v,h])}),L=D+"_tz",O=eF(e=>{let[t,n]=e;return null==t?void 0:t[L]}),F=x.admin.timezones.supportedTimezones,I=["dayOnly","default","monthOnly"].includes(b),M=null==O?void 0:O.value,B=(0,o.useMemo)(()=>{if(f&&M&&y&&R){let e=lH.tz(M),t=lH.tz(y),n=ag(new lH(R).withTimeZone(M),e);return ag(n,t).toISOString()}return R},[f,M,R,y]),z=(0,o.useMemo)(()=>aH(t),[t]),U=(0,o.useCallback)(e=>{if(!(g||P))if(f&&M&&e){let t=lH.tz(M);if(I){let n=e.getTimezoneOffset()/60,l=e.getHours()+n;e.setHours(l),T(ag(e,t).toISOString()||null)}else T(ag(new lH(e),t).toISOString()||null)}else T((null==e?void 0:e.toISOString())||null)},[g,P,f,M,I,T]),V=(0,o.useCallback)(e=>{L&&(C({type:"UPDATE",path:L,value:e}),j(!0))},[C,j,L]);return(0,u.jsxs)("div",{className:[aq,sY,n,A&&"".concat(sY,"--has-error"),(g||P)&&"read-only"].filter(Boolean).join(" "),style:z,children:[(0,u.jsx)(ed,{CustomComponent:E,Fallback:(0,u.jsx)(lR,{label:c,localized:p,path:D,required:h})}),(0,u.jsxs)("div",{className:"".concat(aq,"__wrap"),id:"field-".concat(D.replace(/\./g,"__")),children:[(0,u.jsx)(ed,{CustomComponent:N,Fallback:(0,u.jsx)(na,{path:D,showError:A})}),_,(0,u.jsx)(oO,{...l,onChange:U,overrides:{...null==l?void 0:l.overrides},placeholder:(0,d.s)(r,w),readOnly:g||P,value:B}),f&&F.length>0&&(0,u.jsx)(sK,{id:"".concat(D,"-timezone-picker"),onChange:V,options:F,required:h,selectedTimezone:M}),S]}),(0,u.jsx)(ed,{CustomComponent:k,Fallback:(0,u.jsx)(nl,{description:a,path:D})})]})}),sQ=aV(e=>{let{field:t,field:{admin:{autoComplete:n,className:l,description:a,placeholder:r}={},label:i,localized:c,required:p}={},path:h,readOnly:f,validate:m}=e,{i18n:g}=(0,s.d)(),{customComponents:{AfterInput:v,BeforeInput:b,Description:y,Error:x,Label:w}={},disabled:C,path:j,setValue:S,showError:_,value:k}=aB({potentiallyStalePath:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:p})},[m,p])}),N=(0,o.useMemo)(()=>aH(t),[t]);return(0,u.jsxs)("div",{className:[aq,"email",l,_&&"error",(f||C)&&"read-only"].filter(Boolean).join(" "),style:N,children:[(0,u.jsx)(ed,{CustomComponent:w,Fallback:(0,u.jsx)(lR,{label:i,localized:c,path:j,required:p})}),(0,u.jsxs)("div",{className:"".concat(aq,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:x,Fallback:(0,u.jsx)(na,{path:j,showError:_})}),b,(0,u.jsx)("input",{autoComplete:n,disabled:f||C,id:"field-".concat(j.replace(/\./g,"__")),name:j,onChange:S,placeholder:(0,d.s)(r,g),required:p,type:"email",value:k||""}),v]}),(0,u.jsx)(ed,{CustomComponent:y,Fallback:(0,u.jsx)(nl,{description:a,path:j})})]})}),sX=(0,o.createContext)(!1),s$=e=>{let{children:t,withinRow:n=!0}=e;return(0,u.jsx)(sX,{value:n,children:t})},sZ=(0,o.createContext)(!1),sJ=e=>{let{children:t,withinTab:n=!0}=e;return(0,u.jsx)(sZ,{value:n,children:t})},s0=(0,o.createContext)(!1),s1=e=>{let{children:t,withinGroup:n=!0}=e;return(0,u.jsx)(s0,{value:n,children:t})},s3="group-field",s2=aV(e=>{let{field:t,field:{admin:{className:n,description:l,hideGutter:a}={},fields:r,label:i},indexPath:c,parentPath:p,parentSchemaPath:h,path:f,permissions:g,readOnly:v,schemaPath:b}=e,y=null!=b?b:"group"===t.type&&(0,m.jY)(t)?t.name:f,{i18n:x}=(0,s.d)(),{isWithinCollapsible:w}=a4(),C=(0,o.use)(s0),j=(0,o.use)(sX),S=(0,o.use)(sZ),{customComponents:{AfterInput:_,BeforeInput:k,Description:N,Label:E}={},errorPaths:P}=aB({path:f}),D=eT(),T=P.length,A=D&&T>0,R=!(w||C||j),L=(0,o.useMemo)(()=>aH(t),[t]);return(0,u.jsxs)("div",{className:[aq,s3,R&&"".concat(s3,"--top-level"),w&&"".concat(s3,"--within-collapsible"),C&&"".concat(s3,"--within-group"),j&&"".concat(s3,"--within-row"),S&&"".concat(s3,"--within-tab"),!a&&C&&"".concat(s3,"--gutter"),A&&"".concat(s3,"--has-error"),n].filter(Boolean).join(" "),id:"field-".concat(null==f?void 0:f.replace(/\./g,"__")),style:L,children:[(0,u.jsx)(s1,{children:(0,u.jsxs)("div",{className:"".concat(s3,"__wrap"),children:[!!(E||N||i||A)&&(0,u.jsxs)("div",{className:"".concat(s3,"__header"),children:[!!(E||N||i)&&(0,u.jsxs)("header",{children:[(0,u.jsx)(ed,{CustomComponent:E,Fallback:(0,u.jsx)("h3",{className:"".concat(s3,"__title"),children:(0,u.jsx)(lR,{as:"span",label:(0,d.s)(i,x),localized:!1,path:f,required:!1})})}),(0,u.jsx)(ed,{CustomComponent:N,Fallback:(0,u.jsx)(nl,{description:l,path:f})})]}),A&&(0,u.jsx)(nt,{count:T,i18n:x,withMessage:!0})]}),k,(0,m.jY)(t)?(0,u.jsx)(hR,{fields:r,margins:"small",parentIndexPath:"",parentPath:f,parentSchemaPath:y,permissions:!0===g?g:null==g?void 0:g.fields,readOnly:v}):(0,u.jsx)(hR,{fields:r,margins:"small",parentIndexPath:c,parentPath:p,parentSchemaPath:h,permissions:g,readOnly:v})]})}),_]})}),s6=aV(e=>{let t=(0,f.c)(13),{disableModifyingForm:n,path:l,value:a}=e,r=void 0===n||n,i;t[0]!==l?(i={potentiallyStalePath:l},t[0]=l,t[1]=i):i=t[1];let{formInitializing:s,path:c,setValue:d,value:p}=aB(i),h,m;t[2]!==r||t[3]!==s||t[4]!==d||t[5]!==a?(h=()=>{void 0===a||s||d(a,r)},m=[a,d,r,s],t[2]=r,t[3]=s,t[4]=d,t[5]=a,t[6]=h,t[7]=m):(h=t[6],m=t[7]),(0,o.useEffect)(h,m);let g="field-".concat(null==c?void 0:c.replace(/\./g,"__")),v=p||"",b;return t[8]!==c||t[9]!==d||t[10]!==g||t[11]!==v?(b=(0,u.jsx)("input",{id:g,name:c,onChange:d,type:"hidden",value:v}),t[8]=c,t[9]=d,t[10]=g,t[11]=v,t[12]=b):b=t[12],b}),s5=(0,c.e)(eo(),1),s4=(0,o.createContext)({}),s8=e=>{let{children:t,...n}=e;return(0,u.jsx)(s4,{value:{isInDrawer:!!n.drawerSlug,...n},children:t})},s9=()=>{let e=(0,o.use)(s4);if(!e)throw Error("useListDrawerContext must be used within a ListDrawerContextProvider");return e};function s7(e){let t=e.toString();return k.q(t,{depth:10,ignoreQueryPrefix:!0})}var ce=(0,o.createContext)({}),ct=()=>(0,o.use)(ce),cn=(0,o.createContext)(!1),cl=e=>{let t={...e};return Object.entries(t).forEach(e=>{let[n,l]=e;if("columns"===n&&("[]"===l||Array.isArray(t[n])&&0===t[n].length)&&delete t[n],"where"!==n||"object"!=typeof l||Object.keys(l).length||delete t[n],("limit"===n||"page"===n)&&"string"==typeof l){let e=parseInt(l,10);t[n]=Number.isNaN(e)?void 0:e}"page"===n&&0===l&&delete t[n],""===l&&delete t[n]}),t},ca=e=>{var t;let{children:n,collectionSlug:l,data:a,modifySearchParams:r,onQueryChange:s,orderableFieldName:c,query:d}=e,p=(0,h.useRouter)(),f=(0,h.useSearchParams)(),{startRouteTransition:m}=e4(),[g,v]=(0,o.useState)(!1),{getEntityConfig:y}=(0,i.b)(),x=y({collectionSlug:l}),w=(0,o.useMemo)(()=>cl(s7(f)),[f]),C=(0,o.useRef)({});C.current.modified=g;let{onQueryChange:j}=s9(),[S,_]=(0,o.useState)(()=>r?w:{limit:d.limit,sort:d.sort}),k=(0,o.useCallback)(async(e,t)=>{v(void 0===t||t);let n=((e,t,n)=>{var l,a,o,r,i,s;let c,u="page"in t?t.page:null==e?void 0:e.page;return["where","search","groupBy"].some(e=>e in t&&!["limit","page"].includes(e))&&(u=1),["where","search","page","limit","groupBy","sort"].some(e=>e in t)||(c={...(null==e?void 0:e.queryByGroup)||{},...t.queryByGroup?Object.fromEntries(Object.entries(t.queryByGroup).map(t=>{var n;let[l,a]=t;return[l,{...(null==e||null==(n=e.queryByGroup)?void 0:n[l])||{},...a}]})):{}}),{...e,...t,columns:"columns"in t?t.columns:e.columns,groupBy:"groupBy"in t?t.groupBy:null!=(r=null==e?void 0:e.groupBy)?r:null==n||null==(l=n.defaults)?void 0:l.groupBy,limit:"limit"in t?t.limit:null!=(i=null==e?void 0:e.limit)?i:null==n||null==(a=n.defaults)?void 0:a.limit,page:u,preset:"preset"in t?t.preset:null==e?void 0:e.preset,queryByGroup:c,search:"search"in t?t.search:null==e?void 0:e.search,sort:"sort"in t?t.sort:null!=(s=null==e?void 0:e.sort)?s:null==n||null==(o=n.defaults)?void 0:o.sort,where:"where"in t?t.where:null==e?void 0:e.where}})(S,e,{defaults:{limit:d.limit,sort:d.sort}});r?m(()=>p.replace("".concat(b.A({...n,columns:JSON.stringify(n.columns),queryByGroup:JSON.stringify(n.queryByGroup)},{addQueryPrefix:!0})))):("function"==typeof j||"function"==typeof s)&&(j||s)(n),_(n)},[S,d.limit,d.sort,r,j,s,m,p]),N=(0,o.useCallback)(async e=>{await k({page:e})},[k]),E=o.useCallback(async e=>{await k({limit:e,page:1})},[k]),P=(0,o.useCallback)(async e=>{await k({search:""===e?void 0:e})},[k]),D=(0,o.useCallback)(async e=>{await k({sort:e})},[k]),T=(0,o.useCallback)(async e=>{await k({where:e})},[k]),A=lg(()=>{let e=cl({...S||{},...d||{}}),t="?".concat(b.A({...e,columns:JSON.stringify(e.columns),queryByGroup:JSON.stringify(e.queryByGroup)}));window.location.search!==t&&(_(e),window.history.replaceState(null,"",t))});return(0,o.useEffect)(()=>{r&&A()},[r,d]),(0,u.jsx)(ce,{value:{collectionSlug:l,data:a,handlePageChange:N,handlePerPageChange:E,handleSearchChange:P,handleSortChange:D,handleWhereChange:T,isGroupingBy:!!((null==x||null==(t=x.admin)?void 0:t.groupBy)&&(null==S?void 0:S.groupBy)),orderableFieldName:c,query:S,refineListData:k,setModified:v,...C.current},children:(0,u.jsx)(cn,{value:g,children:n})})},co=(0,o.createContext)(void 0),cr=()=>{let e=o.use(co);if(void 0===e)throw Error("useServerFunctions must be used within a ServerFunctionsProvider");return e},ci=e=>{let{children:t,serverFunction:n}=e;if(!n)throw Error("ServerFunctionsProvider requires a serverFunction prop");let l=(0,o.useCallback)(async e=>await n({name:"render-document-slots",args:e}),[n]),a=(0,o.useCallback)(async e=>{let{signal:t,...l}=e;try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"schedule-publish",args:{...l}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}let a="Error scheduling ".concat(l.type);return l.doc&&(a+=" for document with ID ".concat(l.doc.value," in collection ").concat(l.doc.relationTo)),{error:a}},[n]),r=(0,o.useCallback)(async e=>{let{signal:t,...l}=e||{};try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"form-state",args:{fallbackLocale:!1,...l}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}return{state:null}},[n]),i=(0,o.useCallback)(async e=>{let{signal:t,...l}=e||{};try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"table-state",args:{fallbackLocale:!1,...l}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}},[n]),s=(0,o.useCallback)(async e=>{let{signal:t,...l}=e||{};try{return await n({name:"render-document",args:{fallbackLocale:!1,...l}})}catch(e){console.error(e)}},[n]),c=(0,o.useCallback)(async e=>{let{signal:t,...l}=e||{};try{let e=await n({name:"copy-data-from-locale",args:l});if(!(null==t?void 0:t.aborted))return e}catch(e){console.error(e)}},[n]),d=(0,o.useCallback)(async e=>{let{signal:t,...l}=e||{};try{let e=await n({name:"get-folder-results-component-and-data",args:l});if(!(null==t?void 0:t.aborted))return e}catch(e){console.error(e)}},[n]),p=(0,o.useCallback)(async e=>{try{return await n({name:"render-field",args:e})}catch(e){console.error(e)}},[n]);return(0,u.jsx)(co,{value:{_internal_renderField:p,copyDataFromLocale:c,getDocumentSlots:l,getFolderResultsComponentAndData:d,getFormState:r,getTableState:i,renderDocument:s,schedulePublish:a,serverFunction:n},children:t})},cs=(0,o.createContext)({}),cc=()=>(0,o.use)(cs),cu=e=>{let{children:t,collectionSlug:n,columnState:l,LinkedCellOverride:a}=e,{getEntityConfig:r}=(0,i.b)(),{query:s,refineListData:c}=ct(),{admin:{defaultColumns:d}={}}=r({collectionSlug:n}),[p,h]=o.useOptimistic(l,(e,t)=>t),f=(0,o.useRef)({}),m=(0,o.useCallback)(async e=>{let t=(p||[]).map(t=>t.accessor===e?{...t,active:!t.active}:t);(0,o.startTransition)(()=>{h(t)}),await c({columns:(0,_.F)(t)})},[c,p,h]),g=(0,o.useCallback)(async e=>{let{fromIndex:t,toIndex:n}=e,l=[...p||[]],[a]=l.splice(t,1);l.splice(n,0,a),(0,o.startTransition)(()=>{h(l)}),await c({columns:(0,_.F)(l)})},[p,c,h]),v=(0,o.useCallback)(async e=>{let t=s.columns;e.forEach(e=>{let n=t.findIndex(t=>e===t);void 0!==n&&"-"===t[n][0]&&(t[n]=e.slice(1))}),await c({columns:t})},[s,c]),b=o.useCallback(async()=>{await c({columns:d||[]})},[d,c]);return(0,u.jsx)(cs,{value:{columns:p,LinkedCellOverride:a,moveColumn:g,resetColumnsState:b,setActiveColumns:v,toggleColumn:m,...f.current},children:t})},cd="pill-selector",cp=e=>{let{draggable:t,onClick:n,pills:l}=e,a=o.useMemo(()=>t?e=>{let{children:n}=e;return(0,u.jsx)(t7,{className:cd,ids:l.map(e=>e.name),onDragEnd:e=>{let{moveFromIndex:n,moveToIndex:l}=e;t.onDragEnd({moveFromIndex:n,moveToIndex:l})},children:n})}:e=>{let{children:t}=e;return(0,u.jsx)("div",{className:cd,children:t})},[t,l]);return(0,u.jsx)(a,{children:l.map((e,l)=>{var a,o;return(0,u.jsx)(ol,{alignIcon:"left","aria-checked":e.selected,className:["".concat(cd,"__pill"),e.selected&&"".concat(cd,"__pill--selected")].filter(Boolean).join(" "),draggable:!!t,icon:e.selected?(0,u.jsx)(s.a,{}):(0,u.jsx)(tr,{}),id:e.name,onClick:()=>{n&&n({pill:e})},size:"small",children:null!=(a=e.Label)?a:(0,u.jsx)("span",{className:"".concat(cd,"__pill-label"),children:e.name})},null!=(o=e.key)?o:"".concat(e.name,"-").concat(l))})})},ch=e=>{let{collectionSlug:t}=e,{columns:n,moveColumn:l,toggleColumn:a}=cc(),r=(0,o.useId)(),i=ni(),s=(0,o.useMemo)(()=>null==n?void 0:n.filter(e=>{var t,n;return!((0,m.I2)(e.field)&&!(0,m.uT)(e.field))&&!(null==e||null==(n=e.field)||null==(t=n.admin)?void 0:t.disableListColumn)}),[n]),c=(0,o.useMemo)(()=>s?s.map((e,n)=>{let{accessor:l,active:a,field:o}=e,s="labelWithPrefix"in o&&void 0!==o.labelWithPrefix?o.labelWithPrefix:"label"in o&&void 0!==o.label?o.label:"name"in o&&void 0!==o.name?o.name:void 0;return{name:l,key:"".concat(t,"-").concat(l,"-").concat(n).concat(i?"-".concat(i,"-"):"").concat(r),Label:(0,u.jsx)(lR,{label:s,unstyled:!0}),selected:a}}):null,[t,i,s,r]);return c?(0,u.jsx)(cp,{draggable:{onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;l({fromIndex:t,toIndex:n})}},onClick:e=>{let{pill:t}=e;a(t.name)},pills:c}):null},cf=e=>{let t=(0,f.c)(3),{getEntityConfig:n}=(0,i.b)(),l;t[0]!==n||t[1]!==e?(l=()=>e?("string"==typeof e?[e]:e).map(e=>n({collectionSlug:e})):[],t[0]=n,t[1]=e,t[2]=l):l=t[2];let[a]=(0,o.useState)(l);return a},cm=e=>{let t,n=(0,f.c)(13),{delayBeforeShow:l,inTimeout:a,minShowTime:r,outTimeout:s,show:c}=e,u=a+r+s,[d,p]=(0,i.d)(l),[h,m]=o.useState(!1),[g,v]=o.useState(!1),b=o.useRef(0),y=o.useRef(void 0),x;n[0]!==s?(x=()=>{v(!0),y.current=setTimeout(()=>{m(!1),v(!1)},s)},n[0]=s,n[1]=x):x=n[1];let w=x,C,j;return n[2]!==d||n[3]!==h||n[4]!==c||n[5]!==u||n[6]!==w?(C=()=>{let e=d&&!h&&c,t=h&&!c;if(e)b.current=Date.now(),m(!0);else if(t){let e=u-(Date.now()-b.current);clearTimeout(y.current),y.current=setTimeout(w,Math.max(0,e))}},j=[h,c,w,u,d],n[2]=d,n[3]=h,n[4]=c,n[5]=u,n[6]=w,n[7]=C,n[8]=j):(C=n[7],j=n[8]),o.useEffect(C,j),n[9]!==h||n[10]!==g||n[11]!==p?(t={isMounted:h,isUnmounting:g,triggerDelayedRender:p},n[9]=h,n[10]=g,n[11]=p,n[12]=t):t=n[12],t},cg={isLoading:!1,loaders:[],loadingText:"",overlayType:null},cv=(e,t)=>{let n=[...e.loaders],{type:l="fullscreen",key:a="user",loadingText:o}=t.payload;if("add"===t.type)n.push({type:l,key:a,loadingText:o});else if("remove"===t.type){let e=n.findIndex(e=>e.key===a&&e.type===l);n.splice(e,1)}let r=(null==n?void 0:n.length)>0?n[n.length-1]:null;return{isLoading:!!r,loaders:n,loadingText:(null==r?void 0:r.loadingText)||(null==e?void 0:e.loadingText),overlayType:(null==r?void 0:r.type)||(null==e?void 0:e.overlayType)}},cb=(0,o.createContext)({isOnScreen:!1,toggleLoadingOverlay:void 0}),cy=e=>{let{children:t}=e,{t:n}=(0,s.d)(),l=n("general:loading"),[a,r]=o.useReducer(cv,cg),{isMounted:i,isUnmounting:c,triggerDelayedRender:d}=cm({delayBeforeShow:1e3,inTimeout:250,minShowTime:500,outTimeout:250,show:a.isLoading}),p=o.useCallback(e=>{let{type:t,isLoading:n,key:a,loadingText:o=l}=e;n?(d(),r({type:"add",payload:{type:t,key:a,loadingText:o}})):r({type:"remove",payload:{type:t,key:a}})},[d,l]);return(0,u.jsxs)(cb,{value:{isOnScreen:i,toggleLoadingOverlay:p},children:[i&&(0,u.jsx)(cC,{animationDuration:"".concat(250,"ms"),loadingText:a.loadingText||l,overlayType:a.overlayType,show:!c}),t]})},cx=()=>{let e=o.use(cb);if(void 0===e)throw Error("useLoadingOverlay must be used within a LoadingOverlayProvider");return e},cw="loading-overlay",cC=e=>{let t=(0,f.c)(8),{animationDuration:n,loadingText:l,overlayType:a,show:o}=e,{t:r}=(0,s.d)(),i=void 0===o||o?"".concat(cw,"--entering"):"".concat(cw,"--exiting"),c=a?"".concat(cw,"--").concat(a):"",d;t[0]!==i||t[1]!==c?(d=[cw,i,c].filter(Boolean),t[0]=i,t[1]=c,t[2]=d):d=t[2];let p=d.join(" "),h=n||"500ms",m;return t[3]!==l||t[4]!==r||t[5]!==p||t[6]!==h?(m=(0,u.jsxs)("div",{className:p,style:{animationDuration:h},children:[(0,u.jsxs)("div",{className:"".concat(cw,"__bars"),children:[(0,u.jsx)("div",{className:"".concat(cw,"__bar")}),(0,u.jsx)("div",{className:"".concat(cw,"__bar")}),(0,u.jsx)("div",{className:"".concat(cw,"__bar")}),(0,u.jsx)("div",{className:"".concat(cw,"__bar")}),(0,u.jsx)("div",{className:"".concat(cw,"__bar")})]}),(0,u.jsx)("span",{className:"".concat(cw,"__text"),children:l||r("general:loading")})]}),t[3]=l,t[4]=r,t[5]=p,t[6]=h,t[7]=m):m=t[7],m},cj=e=>{let t=(0,f.c)(7),{name:n,type:l,loadingText:a,show:r}=e,i=void 0===l?"fullscreen":l,{toggleLoadingOverlay:s}=cx(),c,u;return t[0]!==n||t[1]!==a||t[2]!==r||t[3]!==s||t[4]!==i?(c=()=>(s({type:i,isLoading:r,key:n,loadingText:a||void 0}),()=>{s({type:i,isLoading:!1,key:n})}),u=[r,s,n,i,a],t[0]=n,t[1]=a,t[2]=r,t[3]=s,t[4]=i,t[5]=c,t[6]=u):(c=t[5],u=t[6]),o.useEffect(c,u),null},cS=e=>{let t=(0,f.c)(6),{name:n,type:l,action:a,formIsLoading:o,loadingSuffix:r}=e,i=void 0===l?"fullscreen":l,c=void 0!==o&&o,p=eA(),{i18n:h,t:m}=(0,s.d)(),g="".concat({create:m("general:creating"),loading:m("general:loading"),update:m("general:updating")}[a]," ").concat(r?(0,d.s)(r,h):""),v;return t[0]!==c||t[1]!==p||t[2]!==n||t[3]!==g||t[4]!==i?(v=(0,u.jsx)(cj,{loadingText:g.trim(),name:n,show:c||p,type:i}),t[0]=c,t[1]=p,t[2]=n,t[3]=g,t[4]=i,t[5]=v):v=t[5],v};function c_(e){if(e)try{e.abort()}catch(e){}}function ck(e){let t=new AbortController;if(e.current)try{e.current.abort()}catch(e){}return e.current=t,t}var cN=(0,o.createContext)({}),cE=e=>{let{children:t,...n}=e;return(0,u.jsx)(cN,{value:n,children:t})},cP=()=>{let e=(0,o.use)(cN);if(!e)throw Error("useDocumentDrawerContext must be used within a DocumentDrawerProvider");return e},cD=e=>{let{id:t,collectionSlug:n,disableActions:l,drawerSlug:a,initialData:r,onDelete:c,onDuplicate:d,onSave:p,overrideEntityVisibility:h=!0,redirectAfterCreate:f,redirectAfterDelete:m,redirectAfterDuplicate:g,redirectAfterRestore:v}=e,{getEntityConfig:b}=(0,i.b)(),y=lD(),[x]=(0,o.useState)(()=>b({collectionSlug:n})),w=o.useRef(null),{closeModal:C}=nN(),{t:j}=(0,s.d)(),{renderDocument:S}=cr(),[_,k]=(0,o.useState)(void 0),[N,E]=(0,o.useState)(!0),P=(0,o.useRef)(!1),D=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=ck(w);(async()=>{t&&E(!0);try{let t=await S({collectionSlug:n,disableActions:l,docID:e,drawerSlug:a,initialData:r,locale:y,overrideEntityVisibility:h,redirectAfterCreate:f,redirectAfterDelete:void 0!==m&&m,redirectAfterDuplicate:void 0!==g&&g,redirectAfterRestore:void 0!==v&&v,signal:o.signal});(null==t?void 0:t.Document)&&(k(t.Document),E(!1))}catch(e){eZ.error((null==e?void 0:e.message)||j("error:unspecific")),C(a)}w.current=null})()},[n,l,a,r,m,g,v,S,f,C,h,j,y]),T=(0,o.useCallback)(e=>{"create"===e.operation&&D(e.doc.id),"function"==typeof p&&p({...e,collectionConfig:x})},[p,x,D]),A=(0,o.useCallback)(e=>{D(e.doc.id),"function"==typeof d&&d({...e,collectionConfig:x})},[d,x,D]),R=(0,o.useCallback)(e=>{"function"==typeof c&&c({...e,collectionConfig:x}),C(a)},[c,C,a,x]),L=(0,o.useCallback)(()=>{D(void 0,!0)},[D]);return(0,o.useEffect)(()=>{_||P.current||(D(t,!0),P.current=!0)},[_,D,t]),(0,o.useEffect)(()=>{let e=w.current;return()=>{c_(e)}},[]),N?(0,u.jsx)(cC,{}):(0,u.jsx)(cE,{clearDoc:L,drawerSlug:a,onDelete:R,onDuplicate:A,onSave:T,children:_})},cT="doc-drawer",cA=e=>{let t=(0,f.c)(2),{children:n,className:l,collectionSlug:a,disabled:o,drawerSlug:r,onClick:i,operation:c,...d}=e,{t:p}=(0,s.d)(),[h]=cf(a),m=p("create"===c?"fields:addNewLabel":"general:editLabel",{label:null==h?void 0:h.labels.singular}),g;return t[0]!==l?(g=[l,"".concat(cT,"__toggler")].filter(Boolean),t[0]=l,t[1]=g):g=t[1],(0,u.jsx)(li,{"aria-label":m,className:g.join(" "),disabled:o,onClick:i,slug:r,...d,children:n})},cR=e=>{let{drawerSlug:t}=e;return(0,u.jsx)(ls,{className:cT,gutter:!1,Header:null,slug:t,children:(0,u.jsx)(cD,{...e})})},cL=e=>{let t,n=(0,f.c)(38),{id:l,collectionSlug:a,overrideEntityVisibility:r}=e,i=ni(),s=(0,o.useId)(),{closeModal:c,modalState:d,openModal:p,toggleModal:h}=nN(),[m,g]=(0,o.useState)(!1),v;n[0]!==a||n[1]!==i||n[2]!==l||n[3]!==s?(v=(e=>{let{id:t,collectionSlug:n,depth:l,uuid:a}=e;return"doc-drawer_".concat(n,"_").concat(l).concat(t?"_".concat(t):"","_").concat(a)})({id:l,collectionSlug:a,depth:i,uuid:s}),n[0]=a,n[1]=i,n[2]=l,n[3]=s,n[4]=v):v=n[4];let b=v,y,x;n[5]!==b||n[6]!==d?(y=()=>{var e;g(!!(null==(e=d[b])?void 0:e.isOpen))},x=[d,b],n[5]=b,n[6]=d,n[7]=y,n[8]=x):(y=n[7],x=n[8]),(0,o.useEffect)(y,x),n[9]!==b||n[10]!==h?(t=()=>{h(b)},n[9]=b,n[10]=h,n[11]=t):t=n[11];let w=t,C;n[12]!==c||n[13]!==b?(C=()=>{c(b)},n[12]=c,n[13]=b,n[14]=C):C=n[14];let j=C,S;n[15]!==b||n[16]!==p?(S=()=>{p(b)},n[15]=b,n[16]=p,n[17]=S):S=n[17];let _=S,k;n[18]!==a||n[19]!==b||n[20]!==l||n[21]!==r?(k=e=>(0,o.createElement)(cR,{...e,collectionSlug:a,drawerSlug:b,id:l,key:b,overrideEntityVisibility:r}),n[18]=a,n[19]=b,n[20]=l,n[21]=r,n[22]=k):k=n[22];let N=k,E;n[23]!==a||n[24]!==b||n[25]!==l?(E=e=>(0,u.jsx)(cA,{...e,collectionSlug:a,drawerSlug:b,operation:l?"update":"create"}),n[23]=a,n[24]=b,n[25]=l,n[26]=E):E=n[26];let P=E,D;n[27]!==j||n[28]!==b||n[29]!==i||n[30]!==m||n[31]!==_||n[32]!==w?(D={closeDrawer:j,drawerDepth:i,drawerSlug:b,isDrawerOpen:m,openDrawer:_,toggleDrawer:w},n[27]=j,n[28]=b,n[29]=i,n[30]=m,n[31]=_,n[32]=w,n[33]=D):D=n[33];let T=D,A;return n[34]!==N||n[35]!==T||n[36]!==P?(A=[N,P,T],n[34]=N,n[35]=T,n[36]=P,n[37]=A):A=n[37],A};function cO(e,t){let n=(0,f.c)(4),[l,a]=(0,o.useState)(e),r,i;return n[0]!==t||n[1]!==e?(r=()=>{let n=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(n)}},i=[e,t],n[0]=t,n[1]=e,n[2]=r,n[3]=i):(r=n[2],i=n[3]),(0,o.useEffect)(r,i),l}function cF(e,t){switch(t.type){case"ADD_LOADED":{let n={...e};"object"!=typeof n[t.relationTo]&&(n[t.relationTo]={});let l=[...t.idsToLoad];return Array.isArray(t.docs)&&t.docs.forEach(e=>{l.splice(l.indexOf(e.id),1),n[t.relationTo][e.id]=e}),l.forEach(e=>{n[t.relationTo][e]=!1}),n}case"REQUEST":{let n={...e};return t.docs.forEach(e=>{let{relationTo:t,value:l}=e;"object"!=typeof n[t]&&(n[t]={}),n[t][l]=null}),n}default:return e}}var cI=(0,o.createContext)({}),cM=e=>{let t,n=(0,f.c)(16),{children:l}=e,a;n[0]===Symbol.for("react.memo_cache_sentinel")?(a={},n[0]=a):a=n[0];let[r,c]=(0,o.useReducer)(cF,a),d=cO(r,100),{config:p}=(0,i.b)(),{collections:h,routes:m,serverURL:g}=p,{api:v}=m,{i18n:y}=(0,s.d)(),{code:x}=lD(),w=(0,o.useRef)(x),C;n[1]!==v||n[2]!==h||n[3]!==d||n[4]!==y||n[5]!==x||n[6]!==g?(C=e=>{let t=void 0!==e&&e;Object.entries(d).forEach(async e=>{let[n,l]=e,a=[];if(Object.entries(l).forEach(e=>{let[n,l]=e;(null===l||t)&&a.push(n)}),a.length>0){let e="".concat(g).concat(v,"/").concat(n),t=new URLSearchParams,l={};t.append("depth","0"),t.append("limit","250");let r=h.find(e=>e.slug===n);if(r.admin.enableListViewSelectAPI){var o;l[null!=(o=r.admin.useAsTitle)?o:"id"]=!0,r.upload&&(0,N.f)({collectionConfig:r,select:l})}x&&t.append("locale",x);let i=a.map(cz);t.append("where[id][in]",i.join(","));let s="?".concat(t.toString(),"&").concat(b.A({select:l})),u=await fetch("".concat(e).concat(s),{credentials:"include",headers:{"Accept-Language":y.language}});if(u.ok){let e=await u.json();e.docs&&c({type:"ADD_LOADED",docs:e.docs,idsToLoad:a,relationTo:n})}else c({type:"ADD_LOADED",docs:[],idsToLoad:a,relationTo:n})}})},n[1]=v,n[2]=h,n[3]=d,n[4]=y,n[5]=x,n[6]=g,n[7]=C):C=n[7];let j=C,S,_;n[8]!==j||n[9]!==x?(S=()=>{j(x&&w.current!==x),w.current=x},_=[x,j],n[8]=j,n[9]=x,n[10]=S,n[11]=_):(S=n[10],_=n[11]),(0,o.useEffect)(S,_),n[12]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{c({type:"REQUEST",docs:e})},n[12]=t):t=n[12];let k=t,E;return n[13]!==l||n[14]!==r?(E=(0,u.jsx)(cI,{value:{documents:r,getRelationships:k},children:l}),n[13]=l,n[14]=r,n[15]=E):E=n[15],E},cB=()=>(0,o.use)(cI);function cz(e){return String(e)}var cU=e=>{let{allowCreate:t,baseClass:n,buttonStyle:l,className:a,collections:o,i18n:r,icon:i,label:s,onClick:c,permissions:p,relationTo:h}=e;return t?Array.isArray(h)?(0,u.jsx)("div",{className:"".concat(n,"__add-new-polymorphic-wrapper"),children:(0,u.jsx)(t_,{button:(0,u.jsx)(tP,{buttonStyle:l,className:a,icon:i,children:s}),buttonType:"custom",horizontalAlign:"center",render:e=>{let{close:t}=e;return(0,u.jsx)(ts.ButtonGroup,{children:h.map(e=>{var l;return(null==(l=p.collections[e])?void 0:l.create)?(0,u.jsx)(ts.Button,{className:"".concat(n,"__relation-button--").concat(e),onClick:()=>{t(),c(e)},children:(0,d.s)(o.find(t=>t.slug===e).labels.singular,r)},e):null})})},size:"medium"})}):(0,u.jsx)(tP,{buttonStyle:l,className:a,onClick:()=>c(),children:s}):null},cV=Symbol.for("react.lazy");function cH(e){return o.isValidElement(e)||(null==e?void 0:e.$$typeof)===cV}var cq=e=>{let{cellData:t,nowrap:n}=e,l=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),""):t;return(0,u.jsx)("code",{className:"code-cell",style:n?{whiteSpace:"nowrap"}:{},children:(0,u.jsx)("span",{children:l})})};function cW(e){let{blockType:t}=e;return t}var cK=e=>{let{cellData:t,field:n}=e,{admin:l}=n,{date:a}=void 0===l?{}:l,{config:o}=(0,i.b)(),{admin:r}=o,{dateFormat:c}=r,d=(null==a?void 0:a.displayFormat)||c,{i18n:p}=(0,s.d)();return(0,u.jsx)("span",{children:t&&av({date:t,i18n:p,pattern:d})})},cY=()=>(0,u.jsxs)("svg",{height:"150",style:{backgroundColor:"#333333"},viewBox:"0 0 150 150",width:"150",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M82.8876 50.5H55.5555V100.5H94.4444V61.9818H82.8876V50.5Z",fill:"white"}),(0,u.jsx)("path",{d:"M82.8876 61.9818H94.4444L82.8876 50.5V61.9818Z",fill:"#9A9A9A"})]}),cG="thumbnail",cQ=e=>{let t=(0,f.c)(6),{className:n,doc:l,fileSrc:a,height:r,imageCacheTag:s,size:c,width:d}=e,p=void 0===n?"":n,{filename:h}=void 0===l?{}:l,[m,g]=o.useState(void 0),v="".concat(cG,"--size-").concat(c||"medium"),b;t[0]!==p||t[1]!==v?(b=[cG,v,p],t[0]=p,t[1]=v,t[2]=b):b=t[2];let y=b.join(" "),x,w;t[3]!==a?(x=()=>{if(!a)return void g(!1);g(void 0);let e=new Image;e.src=a,e.onload=()=>{g(!0)},e.onerror=()=>{g(!1)}},w=[a],t[3]=a,t[4]=x,t[5]=w):(x=t[4],w=t[5]),o.useEffect(x,w);let C=null;if(a){let e=(null==a?void 0:a.includes("?"))?"&":"?";C=s?"".concat(a).concat(e).concat(encodeURIComponent(s)):a}return(0,u.jsxs)("div",{className:y,children:[void 0===m&&(0,u.jsx)(i.e,{height:"100%"}),m&&(0,u.jsx)("img",{alt:h,height:r,src:C,width:d}),!1===m&&(0,u.jsx)(cY,{})]})};function cX(e){let t,n=(0,f.c)(12),{alt:l,className:a,filename:r,fileSrc:s,imageCacheTag:c,size:d}=e,p=void 0===a?"":a,[h,m]=o.useState(void 0),g="".concat(cG,"--size-").concat(d||"medium"),v;n[0]!==p||n[1]!==g?(v=[cG,g,p],n[0]=p,n[1]=g,n[2]=v):v=n[2];let b=v.join(" "),y,x;n[3]!==s?(y=()=>{if(!s)return void m(!1);m(void 0);let e=new Image;e.src=s,e.onload=()=>{m(!0)},e.onerror=()=>{m(!1)}},x=[s],n[3]=s,n[4]=y,n[5]=x):(y=n[4],x=n[5]),o.useEffect(y,x);let w="";if(s){let e=(null==s?void 0:s.includes("?"))?"&":"?";w=c?"".concat(s).concat(e).concat(encodeURIComponent(c)):s}return n[6]!==l||n[7]!==b||n[8]!==h||n[9]!==r||n[10]!==w?(t=(0,u.jsxs)("div",{className:b,children:[void 0===h&&(0,u.jsx)(i.e,{height:"100%"}),h&&(0,u.jsx)("img",{alt:l||r,src:w}),!1===h&&(0,u.jsx)(cY,{})]}),n[6]=l,n[7]=b,n[8]=h,n[9]=r,n[10]=w,n[11]=t):t=n[11],t}var c$="file",cZ=e=>{var t,n,l;let{cellData:a,collectionConfig:o,field:r,rowData:i}=e;if(null!=(l=null!=(n="displayPreview"in r?r.displayPreview:void 0)?n:null==(t=o.upload)?void 0:t.displayPreview)&&!l)return(0,u.jsx)(u.Fragment,{children:String(a)});{let e=(0,E.w)(null==i?void 0:i.mimeType),t=e?(null==i?void 0:i.thumbnailURL)||(null==i?void 0:i.url):null==i?void 0:i.thumbnailURL;return e&&(t=(0,P.k)({sizes:null==i?void 0:i.sizes,thumbnailURL:null==i?void 0:i.thumbnailURL,url:null==i?void 0:i.url,width:null==i?void 0:i.width})),(0,u.jsxs)("div",{className:c$,children:[(0,u.jsx)(cQ,{className:"".concat(c$,"__thumbnail"),collectionSlug:null==o?void 0:o.slug,doc:{...i,filename:a},fileSrc:t,size:"small",uploadConfig:null==o?void 0:o.upload}),(0,u.jsx)("span",{className:"".concat(c$,"__filename"),children:String(a)})]})}},cJ=!!("u">typeof window&&window.document&&window.document.createElement),c0=e=>{var t;let n,l,a,r,c=(0,f.c)(40),{cellData:p,customCellProps:h,field:m,field:g}=e,{label:v}=g,b="relationTo"in m&&m.relationTo||"collection"in m&&m.collection,y="collection"in m?null==p?void 0:p.docs:p,{config:x,getEntityConfig:w}=(0,i.b)(),{collections:C,routes:j}=x,[S,_]=tw(),k;c[0]===Symbol.for("react.memo_cache_sentinel")?(k=[],c[0]=k):k=c[0];let[N,E]=(0,o.useState)(k),{documents:P,getRelationships:D}=cB(),[T,A]=(0,o.useState)(!1),{i18n:R,t:L}=(0,s.d)(),O=!!cJ&&(null==_||null==(t=_.boundingClientRect)?void 0:t.top)<window.innerHeight,F;if(c[1]!==y||c[2]!==D||c[3]!==T||c[4]!==O||c[5]!==b?(F=()=>{if((y||"number"==typeof y)&&O&&!T){let e=[],t=Array.isArray(y)?y:[y];t.slice(0,t.length<3?t.length:3).forEach(t=>{"object"==typeof t&&"relationTo"in t&&"value"in t&&e.push(t),("number"==typeof t||"string"==typeof t)&&"string"==typeof b&&e.push({relationTo:b,value:t})}),D(e),A(!0),E(e)}},c[1]=y,c[2]=D,c[3]=T,c[4]=O,c[5]=b,c[6]=F):F=c[6],c[7]!==y||c[8]!==C||c[9]!==D||c[10]!==T||c[11]!==O||c[12]!==b||c[13]!==j.api?(n=[y,b,C,O,j.api,T,D],c[7]=y,c[8]=C,c[9]=D,c[10]=T,c[11]=O,c[12]=b,c[13]=j.api,c[14]=n):n=c[14],(0,o.useEffect)(F,n),c[15]!==T?(l=()=>{T&&A(!1)},c[15]=T,c[16]=l):l=c[16],c[17]!==y?(a=[y],c[17]=y,c[18]=a):a=c[18],(0,o.useEffect)(l,a),c[19]!==y||c[20]!==x.admin||c[21]!==h||c[22]!==P||c[23]!==m||c[24]!==w||c[25]!==R||c[26]!==S||c[27]!==v||c[28]!==L||c[29]!==N){let e;c[31]!==x.admin||c[32]!==h||c[33]!==P||c[34]!==m||c[35]!==w||c[36]!==R||c[37]!==L||c[38]!==N.length?(e=(e,t)=>{var n,l,a;let{relationTo:r,value:i}=e,s=P[r][i],c=w({collectionSlug:r}),d=aw({collectionConfig:c,data:s||null,dateFormat:x.admin.dateFormat,fallback:"".concat(L("general:untitled")," - ID: ").concat(i),i18n:R}),p=null;return"upload"===m.type&&(null==(a=null!=(l="displayPreview"in m?m.displayPreview:void 0)?l:null==(n=c.upload)?void 0:n.displayPreview)||a)&&s&&(p=(0,u.jsx)(cZ,{cellData:d,collectionConfig:c,collectionSlug:c.slug,customCellProps:h,field:m,rowData:s})),(0,u.jsxs)(o.Fragment,{children:[!1===s&&"".concat(L("general:untitled")," - ID: ").concat(i),null===s&&"".concat(L("general:loading"),"..."),s?p||d:null,N.length>t+1&&", "]},t)},c[31]=x.admin,c[32]=h,c[33]=P,c[34]=m,c[35]=w,c[36]=R,c[37]=L,c[38]=N.length,c[39]=e):e=c[39],r=(0,u.jsxs)("div",{className:"relationship-cell",ref:S,children:[N.map(e),Array.isArray(y)&&y.length>3&&L("fields:itemsAndMore",{count:y.length-3,items:""}),0===N.length&&L("general:noLabel",{label:(0,d.s)(v||"",R)})]}),c[19]=y,c[20]=x.admin,c[21]=h,c[22]=P,c[23]=m,c[24]=w,c[25]=R,c[26]=S,c[27]=v,c[28]=L,c[29]=N,c[30]=r}else r=c[30];return r},c1=e=>{let t=(0,f.c)(7),{cellData:n,field:l}=e,{options:a}=l,{i18n:o}=(0,s.d)(),r;t[0]!==o||t[1]!==a?(r=e=>e.map(e=>{var t,n;let l=null==(n=a.filter(t=>t.value===e))||null==(t=n[0])?void 0:t.label;return(0,d.s)(l,o)}).join(", "),t[0]=o,t[1]=a,t[2]=r):r=t[2];let i=r,c;if(t[3]!==n||t[4]!==i||t[5]!==a){let e;e=(0,m.Vh)(a)?i(Array.isArray(n)?n:[n]):Array.isArray(n)?n.join(", "):n,c=(0,u.jsx)("span",{children:e}),t[3]=n,t[4]=i,t[5]=a,t[6]=c}else c=t[6];return c},c3={array:e=>{let t=(0,f.c)(2),{cellData:n,field:l}=e,{labels:a}=l,{i18n:o}=(0,s.d)(),r=null!=n?n:[],i=1===r.length?"".concat(r.length," ").concat((0,d.s)((null==a?void 0:a.singular)||o.t("general:rows"),o)):"".concat(r.length," ").concat((0,d.s)((null==a?void 0:a.plural)||o.t("general:rows"),o)),c;return t[0]!==i?(c=(0,u.jsx)("span",{children:i}),t[0]=i,t[1]=c):c=t[1],c},blocks:e=>{var t;let n,l=(0,f.c)(2),{cellData:a,field:o}=e,{blockReferences:r,blocks:c,labels:p}=o,{i18n:h}=(0,s.d)(),{config:m}=(0,i.b)(),g=Array.isArray(a)?a.map(cW):[],v=null==(t=null!=r?r:c)?void 0:t.map(e=>{let t="string"==typeof e?m.blocksMap[e]:e;return{slug:t.slug,label:(0,d.s)(t.labels.singular,h)}}),b="0 ".concat((0,d.s)(null==p?void 0:p.plural,h)),y=e=>e.map(e=>{var t,n;return null==(n=v.filter(t=>t.slug===e))||null==(t=n[0])?void 0:t.label}).join(", ");if(g.length>5){let e=g.length-5;b="".concat(g.length," ").concat((0,d.s)(null==p?void 0:p.plural,h)," - ").concat(h.t("fields:itemsAndMore",{count:e,items:y(g.slice(0,5))}))}else g.length>0&&(b="".concat(g.length," ").concat((0,d.s)(1===g.length?null==p?void 0:p.singular:null==p?void 0:p.plural,h)," - ").concat(y(g)));return l[0]!==b?(n=(0,u.jsx)("span",{children:b}),l[0]=b,l[1]=n):n=l[1],n},checkbox:e=>{let t=(0,f.c)(3),{cellData:n}=e,{t:l}=(0,s.d)(),a="general:".concat(n),o;return t[0]!==l||t[1]!==a?(o=(0,u.jsx)("code",{className:"bool-cell",children:(0,u.jsx)("span",{children:l(a).toLowerCase()})}),t[0]=l,t[1]=a,t[2]=o):o=t[2],o},code:cq,date:cK,File:cZ,join:c0,json:e=>{let{cellData:t}=e,n=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),""):t;return(0,u.jsx)("code",{className:"json-cell",children:(0,u.jsx)("span",{children:JSON.stringify(n)})})},radio:c1,relationship:c0,select:c1,textarea:e=>{let{cellData:t}=e,n=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),""):t;return(0,u.jsx)("span",{children:n})},upload:c0},c2=e=>{let t=(0,f.c)(16),{cellData:n,className:l,collectionSlug:a,field:o,field:r,link:c,linkURL:p,onClick:h,rowData:g,viewType:b}=e,{admin:y}=r,{i18n:x}=(0,s.d)(),{config:w,getEntityConfig:C}=(0,i.b)(),{routes:j}=w,{admin:S}=j,_,k;if(t[0]!==y||t[1]!==S||t[2]!==n||t[3]!==l||t[4]!==a||t[5]!==o||t[6]!==C||t[7]!==x||t[8]!==c||t[9]!==p||t[10]!==h||t[11]!==e||t[12]!==g||t[13]!==b){k=Symbol.for("react.early_return_sentinel");e:{let t=C({collectionSlug:a}),r=y&&"className"in y?y.className:void 0,i=l||(o.admin&&"className"in o.admin?o.admin.className:null)||r,s="span",f={className:i};if(c&&(f.prefetch=!1,s=te,p?f.href=p:f.href=(null==t?void 0:t.slug)?(0,v.Q)({adminRoute:S,path:"/collections/".concat(null==t?void 0:t.slug).concat("trash"===b?"/trash":"","/").concat(encodeURIComponent(g.id))}):""),"function"==typeof h&&(s="button",f.type="button",f.onClick=()=>{h({cellData:n,collectionSlug:null==t?void 0:t.slug,rowData:g})}),(0,m.uT)(o)){k=(0,u.jsx)(s,{...f,children:(0,u.jsx)(cq,{cellData:"ID: ".concat(n),collectionConfig:t,collectionSlug:a,field:{...o,type:"code"},nowrap:!0,rowData:g})});break e}let w=((e,t,n)=>{if(((null==t?void 0:t.type)==="select"||(null==t?void 0:t.type)==="radio")&&Array.isArray(t.options)){let l=t.options.find(t=>"object"==typeof t?t.value===e:t===e);if(l)return"object"==typeof l&&"label"in l?cH(l.label)?l.label:(0,d.s)(l.label,n)||l.value:l}return e})(n,o,x),j="u">typeof n&&c3[o.type],N=null;if(cH(w))N=w;else if(j)N=(0,u.jsx)(j,{cellData:n,rowData:g,...e});else if(!j)if((null==t?void 0:t.upload)&&(0,m.Z7)(o)&&"filename"===o.name&&"text"===o.type){let l=c3.File;N=(0,u.jsx)(l,{cellData:n,rowData:g,...e,collectionConfig:t,field:o})}else{k=(0,u.jsxs)(s,{...f,children:[(""===w||typeof w>"u"||null===w)&&x.t("general:noLabel",{label:(0,d.s)(("label"in o?o.label:null)||"data",x)}),"string"==typeof w&&w,"number"==typeof w&&w,"object"==typeof w&&null!==w&&JSON.stringify(w)]});break e}if(("select"===o.type||"radio"===o.type)&&o.options.length&&n){let e=Array.isArray(n)?n.map(c6).join(" "):"selected--".concat(n),t=[f.className,e].filter(Boolean).join(" ");k=(0,u.jsx)(s,{...f,className:t,children:N});break e}_=(0,u.jsx)(s,{...f,children:N})}t[0]=y,t[1]=S,t[2]=n,t[3]=l,t[4]=a,t[5]=o,t[6]=C,t[7]=x,t[8]=c,t[9]=p,t[10]=h,t[11]=e,t[12]=g,t[13]=b,t[14]=_,t[15]=k}else _=t[14],k=t[15];return k!==Symbol.for("react.early_return_sentinel")?k:_};function c6(e){return"selected--".concat(e)}var c5=o.createContext(null),c4=()=>o.use(c5),c8=e=>{let t=(0,f.c)(9),{clientProps:n,columnIndex:l,isLinkedColumn:a}=e,{drawerSlug:o,onSelect:r}=s9(),{LinkedCellOverride:i}=cc(),s;if(t[0]!==i||t[1]!==n||t[2]!==l||t[3]!==o||t[4]!==a||t[5]!==r){let e={...n,columnIndex:l};if(a&&o){let n;e.className="".concat("default-cell","__first-cell"),e.link=!1,t[7]!==r?(n=e=>{let{collectionSlug:t,rowData:n}=e;"function"==typeof r&&r({collectionSlug:t,doc:n,docID:n.id})},t[7]=r,t[8]=n):n=t[8],e.onClick=n}s=(0,u.jsx)(c5,{value:e,children:a&&i?i:(0,u.jsx)(c2,{...e})}),t[0]=i,t[1]=n,t[2]=l,t[3]=o,t[4]=a,t[5]=r,t[6]=s}else s=t[6];return s},c9=e=>{let t=(0,f.c)(3),{onDrawerOpen:n}=e,l=c4(),a;return t[0]!==l||t[1]!==n?(a=(0,u.jsxs)("div",{className:"drawer-link",children:[(0,u.jsx)(c2,{...l,className:"drawer-link__cell",link:!1,onClick:null}),(0,u.jsx)("button",{className:"drawer-link__doc-drawer-toggler",onClick:()=>{n(l.rowData.id)},type:"button",children:(0,u.jsx)(ta,{})})]}),t[0]=l,t[1]=n,t[2]=a):a=t[2],a},c7="clickable-arrow",ue="paginator__page",ut=e=>{let{isCurrent:t,isFirstPage:n=!1,isLastPage:l=!1,page:a=1,updatePage:o}=e,r=[ue,t&&"".concat(ue,"--is-current"),n&&"".concat(ue,"--is-first-page"),l&&"".concat(ue,"--is-last-page")].filter(Boolean).join(" ");return(0,u.jsx)("button",{className:r,onClick:()=>o(a),type:"button",children:a})},un={ClickableArrow:e=>{let{direction:t="right",isDisabled:n=!1,updatePage:l}=e,a=[c7,n&&"".concat(c7,"--is-disabled"),t&&"".concat(c7,"--").concat(t)].filter(Boolean).join(" ");return(0,u.jsx)("button",{className:a,disabled:n,onClick:n?void 0:l,type:"button",children:(0,u.jsx)(tl,{})})},Page:ut,Separator:()=>(0,u.jsx)("span",{className:"paginator__separator",children:""})},ul=e=>{let{hasNextPage:t=!1,hasPrevPage:n=!1,nextPage:l=null,numberOfNeighbors:a=1,onChange:o,page:r,prevPage:i=null,totalPages:s=null}=e;if(!n&&!t)return null;let c=e=>{"function"==typeof o&&o(e)},d=Array.from({length:s},(e,t)=>t+1),p=r-1-a;p<=0&&(p=0);let h=r-1+a+1,f=d.slice(p,h);return r-a-1>=2&&f.unshift({type:"Separator"}),r>a+1&&f.unshift({type:"Page",props:{isFirstPage:!0,page:1,updatePage:c}}),r+a+1<s&&f.push({type:"Separator"}),h<s&&f.push({type:"Page",props:{isLastPage:!0,page:s,updatePage:c}}),f.unshift({type:"ClickableArrow",props:{direction:"right",isDisabled:!t,updatePage:()=>c(null!=l?l:r+1)}}),f.unshift({type:"ClickableArrow",props:{direction:"left",isDisabled:!n,updatePage:()=>c(null!=i?i:Math.max(1,r-1))}}),(0,u.jsx)("div",{className:"paginator",children:f.map((e,t)=>{if("number"==typeof e)return(0,u.jsx)(ut,{isCurrent:r===e,page:e,updatePage:c},t);let n=un[e.type];return(0,u.jsx)(n,{...e.props},t)})})},ua=()=>{let e=(0,f.c)(11),{data:t,handlePageChange:n}=ct(),l=t.nextPage||2,a;e[0]!==n?(a=e=>{n(e)},e[0]=n,e[1]=a):a=e[1];let o=t.page||1,r=t.prevPage||void 0,i;return e[2]!==t.hasNextPage||e[3]!==t.hasPrevPage||e[4]!==t.limit||e[5]!==t.totalPages||e[6]!==l||e[7]!==a||e[8]!==o||e[9]!==r?(i=(0,u.jsx)(ul,{hasNextPage:t.hasNextPage,hasPrevPage:t.hasPrevPage,limit:t.limit,nextPage:l,numberOfNeighbors:1,onChange:a,page:o,prevPage:r,totalPages:t.totalPages}),e[2]=t.hasNextPage,e[3]=t.hasPrevPage,e[4]=t.limit,e[5]=t.totalPages,e[6]=l,e[7]=a,e[8]=o,e[9]=r,e[10]=i):i=e[10],i},uo="relationship-table",ur=e=>{var t,n,l,a,r,c;let{AfterInput:p,allowCreate:h=!0,BeforeInput:f,disableTable:m=!1,field:g,fieldPath:v,filterOptions:b,initialData:y,initialDrawerData:x,Label:w,parent:C,relationTo:j}=e,[k,N]=(0,o.useState)(null),{config:E,getEntityConfig:P}=(0,i.b)(),{i18n:D,t:T}=(0,s.d)(),[A,R]=(0,o.useState)(),[L,O]=(0,o.useState)(!1),[F]=(0,o.useState)(()=>P({collectionSlug:j})),I=Array.isArray(j),[M,B]=(0,o.useState)(I?void 0:j),{permissions:z}=lx(),U=(0,o.useRef)(!1),[V,H]=(0,o.useState)(void 0),[q,,{closeDrawer:W,isDrawerOpen:K,openDrawer:Y}]=cL({id:V,collectionSlug:M}),[G,Q]=(0,o.useState)(!m),[X,$]=(0,o.useState)(()=>y?{...y,docs:Array.isArray(y.docs)?y.docs.reduce((e,t)=>"string"==typeof t||"number"==typeof t?[...e,{id:t}]:[...e,t],[]):[]}:void 0),[Z,J]=(0,o.useState)(),{getTableState:ee}=cr(),et=(0,o.useCallback)(async e=>{var t,n;let l={limit:(null==g?void 0:g.defaultLimit)||(null==F||null==(n=F.admin)||null==(t=n.pagination)?void 0:t.defaultLimit),sort:g.defaultSort||(null==F?void 0:F.defaultSort),...A||{},where:{...(null==A?void 0:A.where)||{}}};b&&(l.where=(0,S.Y)(l.where,b));let a=g.admin.defaultColumns?g.admin.defaultColumns.map(e=>({accessor:e,active:!0})):void 0,o="boolean"==typeof g.admin.disableRowTypes?!g.admin.disableRowTypes:Array.isArray(j),{data:r,state:i,Table:s}=await ee({collectionSlug:j,columns:(0,_.l)(null==A?void 0:A.columns)||a,data:e,enableRowSelections:!1,orderableFieldName:!g.orderable||Array.isArray(g.collection)?void 0:"_".concat(g.collection,"_").concat(g.name,"_order"),parent:C,query:l,renderRowTypes:o,tableAppearance:"condensed"});$(r),N(s),J(i),Q(!1)},[g.defaultLimit,g.defaultSort,g.admin.defaultColumns,g.admin.disableRowTypes,g.collection,g.name,g.orderable,null==F||null==(n=F.admin)||null==(t=n.pagination)?void 0:t.defaultLimit,null==F?void 0:F.defaultSort,A,b,ee,j,C]),en=lg((e,t)=>{t||k&&!e||et()});(0,o.useEffect)(()=>{en(A,m)},[A,m]);let el=(0,o.useCallback)(e=>{var t;let{doc:n,operation:l}=e;"create"===l&&W();let a=null==X||null==(t=X.docs)?void 0:t.findIndex(e=>e.id===n.id),o={docs:[]};if(-1!==a){let e=[...X.docs];e[a]=n,o.docs=e}else o.docs=[n,...X.docs];et(o)},[null==X?void 0:X.docs,et,W]),ea=(0,o.useCallback)(e=>{let t=X.docs.filter(t=>t.id!==e.id);et({...X,docs:t}),H(void 0)},[X,et]),eo=(0,o.useCallback)(e=>{U.current=!0,H(e||void 0)},[]);(0,o.useEffect)(()=>{U.current&&(U.current=!1,Y())},[Y]),(0,o.useEffect)(()=>{K||H(void 0)},[K]);let er=!1!==h&&(null==z||null==(a=z.collections)||null==(l=a[I?j[0]:j])?void 0:l.create);(0,o.useEffect)(()=>{I&&M&&Y()},[M,Y,I]),(0,o.useEffect)(()=>{I&&!K&&M&&B(void 0)},[K]);let ei=o.useMemo(()=>{var e,t,n,l,a;return{columns:null==(e=(0,_.l)(Z))?void 0:e.map(e=>{let{accessor:t}=e;return t}),limit:null!=(l=g.defaultLimit)?l:null==F||null==(n=F.admin)||null==(t=n.pagination)?void 0:t.defaultLimit,sort:null!=(a=g.defaultSort)?a:null==F?void 0:F.defaultSort}},[Z,g,F]);return(0,u.jsxs)("div",{className:uo,children:[(0,u.jsxs)("div",{className:"".concat(uo,"__header"),children:[w,(0,u.jsxs)("div",{className:"".concat(uo,"__actions"),children:[(0,u.jsx)(cU,{allowCreate:!1!==h,baseClass:uo,buttonStyle:"none",className:"".concat(uo,"__add-new").concat(I?"-polymorphic":" doc-drawer__toggler"),collections:E.collections,i18n:D,icon:I?"plus":void 0,label:D.t("fields:addNew"),onClick:I?B:Y,permissions:z,relationTo:j}),(0,u.jsx)(ol,{"aria-controls":"".concat(uo,"-columns"),"aria-expanded":L,className:"".concat(uo,"__toggle-columns ").concat(L?"".concat(uo,"__buttons-active"):""),icon:(0,u.jsx)(tl,{direction:L?"up":"down"}),onClick:()=>O(!L),pillStyle:"light",size:"small",children:T("general:columns")})]})]}),f,G?(0,u.jsx)("p",{children:T("general:loading")}):(0,u.jsxs)(o.Fragment,{children:[(null==X?void 0:X.docs)&&0===X.docs.length&&(0,u.jsxs)("div",{className:"".concat(uo,"__no-results"),children:[(0,u.jsx)("p",{children:D.t("general:noResults",{label:I?D.t("general:documents"):(0,d.s)(null==F||null==(r=F.labels)?void 0:r.plural,D)})}),(0,u.jsx)(cU,{allowCreate:er,baseClass:uo,collections:E.collections,i18n:D,label:D.t("general:createNewLabel",{label:I?D.t("general:document"):(0,d.s)(null==F||null==(c=F.labels)?void 0:c.singular,D)}),onClick:I?B:Y,permissions:z,relationTo:j})]}),(null==X?void 0:X.docs)&&X.docs.length>0&&(0,u.jsx)(cM,{children:(0,u.jsx)(ca,{data:X,modifySearchParams:!1,onQueryChange:R,orderableFieldName:!g.orderable||Array.isArray(g.collection)?void 0:"_".concat(g.collection,"_").concat(v.replaceAll(".","_"),"_order"),query:ei,children:(0,u.jsxs)(cu,{collectionSlug:I?j[0]:j,columnState:Z,LinkedCellOverride:(0,u.jsx)(c9,{currentDrawerID:V,onDrawerOpen:eo}),children:[(0,u.jsx)(a2,{className:"".concat(uo,"__columns"),height:L?"auto":0,id:"".concat(uo,"-columns"),children:(0,u.jsx)("div",{className:"".concat(uo,"__columns-inner"),children:F&&(0,u.jsx)(ch,{collectionSlug:F.slug})})}),k,(0,u.jsx)(ua,{})]})})})]}),p,(0,u.jsx)(q,{initialData:x,onDelete:ea,onSave:el})]})},ui="default"in s5.default?s5.default.default:s5.default,us=e=>{var t;let{collectionSlug:n,config:l,docID:a,fields:o,segments:r}=e,i=(0,j.L)(o,{keepPresentationalFields:!0}),s=r[0],c=i.find(e=>e.name===s);if(!c)return null;if("relationship"===c.type||"upload"===c.type){let e=a;return Array.isArray(c.relationTo)&&(e={relationTo:n,value:a}),{[c.name]:c.hasMany?[e]:e}}let u=r.slice(1,r.length);if("tab"===c.type||"group"===c.type&&(0,m.Z7)(c))return{[c.name]:us({collectionSlug:n,config:l,docID:a,fields:c.fields,segments:u})};if("array"===c.type){let e=us({collectionSlug:n,config:l,docID:a,fields:c.fields,segments:u});return e.id=ui().toHexString(),{[c.name]:[e]}}if("blocks"===c.type)for(let e of null!=(t=c.blockReferences)?t:c.blocks){let t="string"==typeof e?l.blocksMap[e]:e,o=us({collectionSlug:n,config:l,docID:a,fields:t.fields,segments:u});if(o)return o.id=ui().toHexString(),o.blockType=t.slug,{[c.name]:[o]}}},uc=aV(e=>{let{field:t,field:{admin:{allowCreate:n,description:l},collection:a,label:r,localized:s,on:c,required:d},path:p}=e,{id:h,docConfig:f}=aD(),{config:m,getEntityConfig:g}=(0,i.b)(),{customComponents:{AfterInput:v,BeforeInput:b,Description:y,Error:x,Label:w}={},path:C,showError:j,value:S}=aB({potentiallyStalePath:p}),_=(0,o.useMemo)(()=>{if(!h)return null;let e=h;Array.isArray(t.targetField.relationTo)&&(e={relationTo:f.slug,value:e});let n=Array.isArray(a)?{}:{[c]:{equals:e}};return t.where?{and:[n,t.where]}:n},[h,a,t.targetField.relationTo,t.where,c,null==f?void 0:f.slug]),k=(0,o.useMemo)(()=>{let e=g({collectionSlug:Array.isArray(t.collection)?t.collection[0]:t.collection});return us({collectionSlug:null==f?void 0:f.slug,config:m,docID:h,fields:null==e?void 0:e.fields,segments:t.on.split(".")})},[g,t.collection,t.on,null==f?void 0:f.slug,h,m]);return f?(0,u.jsxs)("div",{className:[aq,j&&"error","join"].filter(Boolean).join(" "),id:"field-".concat(null==C?void 0:C.replace(/\./g,"__")),children:[(0,u.jsx)(ed,{CustomComponent:x,Fallback:(0,u.jsx)(na,{path:C,showError:j})}),(0,u.jsx)(ur,{AfterInput:v,allowCreate:"u">typeof h&&n,BeforeInput:b,disableTable:null===_,field:t,fieldPath:C,filterOptions:_,initialData:h&&S?S:{docs:[]},initialDrawerData:k,Label:(0,u.jsx)("h4",{style:{margin:0},children:w||(0,u.jsx)(lR,{label:r,localized:s,path:C,required:d})}),parent:Array.isArray(a)?{id:h,collectionSlug:f.slug,joinPath:C}:void 0,relationTo:a}),(0,u.jsx)(ed,{CustomComponent:y,Fallback:(0,u.jsx)(nl,{description:l,path:C})})]}):null}),uu=aV(e=>{let{field:t,field:{admin:{className:n,description:l,editorOptions:a,maxHeight:r}={},jsonSchema:s,label:c,localized:d,required:p},path:h,readOnly:f,validate:m}=e,{insertSpaces:g=i.j.insertSpaces,tabSize:v=i.j.tabSize}=a||{},b=(0,o.useCallback)(e=>{if(void 0!==e)return null===e?"":g?JSON.stringify(e,null,v):JSON.stringify(e,null,"	")},[v,g]),[y,x]=(0,o.useState)(),w=o.useRef("formState"),[C,j]=(0,o.useState)(Date.now()),{customComponents:{AfterInput:S,BeforeInput:_,Description:k,Error:N,Label:E}={},disabled:P,initialValue:D,path:T,setValue:A,showError:R,value:L}=aB({potentiallyStalePath:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,jsonError:y,required:p})},[m,p,y])}),O=o.useRef(b(null!=L?L:D)),F=(0,o.useCallback)((e,t)=>{if(!s)return;t.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[...t.languages.json.jsonDefaults.diagnosticsOptions.schemas||[],s],validate:!0});let n=s.uri,l=n.includes("?")?"".concat(n,"&").concat(crypto.randomUUID?crypto.randomUUID():op()):"".concat(n,"?").concat(crypto.randomUUID?crypto.randomUUID():op());e.setModel(t.editor.createModel(b(L)||"","json",t.Uri.parse(l)))},[s,b,L]),I=(0,o.useCallback)(e=>{if(!(f||P)){w.current="internalEditor";try{A(e?JSON.parse(e):null),O.current=e,x(void 0)}catch(t){A(e||null),O.current=e,x(t)}}},[f,P,A]);(0,o.useEffect)(()=>{if("formState"===w.current){let e=b(null!=L?L:D);e!==O.current&&(O.current=e,j(Date.now()))}w.current="formState"},[D,T,b,L]);let M=(0,o.useMemo)(()=>aH(t),[t]);return(0,u.jsxs)("div",{className:[aq,"json-field",n,R&&"error",(f||P)&&"read-only"].filter(Boolean).join(" "),style:M,children:[(0,u.jsx)(ed,{CustomComponent:E,Fallback:(0,u.jsx)(lR,{label:c,localized:d,path:T,required:p})}),(0,u.jsxs)("div",{className:"".concat(aq,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:N,Fallback:(0,u.jsx)(na,{message:y,path:T,showError:R})}),_,(0,u.jsx)(oN,{defaultLanguage:"json",maxHeight:r,onChange:I,onMount:F,options:a,readOnly:f||P,recalculatedHeightAt:C,value:O.current,wrapperProps:{id:"field-".concat(null==T?void 0:T.replace(/\./g,"__"))}}),S]}),(0,u.jsx)(ed,{CustomComponent:k,Fallback:(0,u.jsx)(nl,{description:l,path:T})})]})}),ud=aV(e=>{let{field:t,field:{admin:{className:n,description:l,placeholder:a,step:r=1}={},hasMany:i=!1,label:c,localized:p,max:h=1/0,maxRows:f=1/0,min:m=-1/0,required:g},onChange:v,path:b,readOnly:y,validate:x}=e,{i18n:w,t:C}=(0,s.d)(),{customComponents:{AfterInput:j,BeforeInput:S,Description:_,Error:k,Label:N}={},disabled:E,path:P,setValue:T,showError:A,value:R}=aB({potentiallyStalePath:b,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof x)return x(e,{...t,max:h,min:m,required:g})},[x,m,h,g])}),L=(0,o.useCallback)(e=>{let t=parseFloat(e.target.value),n=t;Number.isNaN(t)&&(n=null),"function"==typeof v&&v(n),T(n)},[v,T]),[O,F]=(0,o.useState)([]),I=(0,o.useCallback)(e=>{if(!(y||E)){var t;T(e?Array.isArray(e)?e.map(e=>{var t;return Number((null==(t=e.value)?void 0:t.value)||e.value)}):[Number((null==(t=e.value)?void 0:t.value)||e.value)]:[])}},[y,E,T]);(0,o.useEffect)(()=>{i&&Array.isArray(R)&&F(R.map((e,t)=>({id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}})))},[R,i]);let M=(0,o.useMemo)(()=>aH(t),[t]),B=(0,d.s)(a,w);return(0,u.jsxs)("div",{className:[aq,"number",n,A&&"error",(y||E)&&"read-only",i&&"has-many"].filter(Boolean).join(" "),style:M,children:[(0,u.jsx)(ed,{CustomComponent:N,Fallback:(0,u.jsx)(lR,{label:c,localized:p,path:P,required:g})}),(0,u.jsxs)("div",{className:"".concat(aq,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:k,Fallback:(0,u.jsx)(na,{path:P,showError:A})}),S,i?(0,u.jsx)(sq,{className:"field-".concat(P.replace(/\./g,"__")),disabled:y||E,filterOption:(e,t)=>{let n=Array.isArray(R)&&R.length>=f;return(0,D.E)(t)&&!n},isClearable:!0,isCreatable:!0,isMulti:!0,isSortable:!0,noOptionsMessage:()=>Array.isArray(R)&&R.length>=f?C("validation:limitReached",{max:f,value:R.length+1}):null,onChange:I,options:[],placeholder:B,showError:A,value:O}):(0,u.jsx)("div",{children:(0,u.jsx)("input",{disabled:y||E,id:"field-".concat(P.replace(/\./g,"__")),max:h,min:m,name:P,onChange:L,onWheel:e=>{e.target.blur()},placeholder:B,step:r,type:"number",value:"number"==typeof R?R:""})}),j,(0,u.jsx)(ed,{CustomComponent:_,Fallback:(0,u.jsx)(nl,{description:l,path:P})})]})]})}),up="point",uh=aV(e=>{let{field:t,field:{admin:{className:n,description:l,placeholder:a,step:r}={},label:i,localized:c,required:p},path:h,readOnly:f,validate:m}=e,{i18n:g,t:v}=(0,s.d)(),{customComponents:{AfterInput:b,BeforeInput:y,Description:x,Error:w,Label:C}={},disabled:j,path:S,setValue:_,showError:k,value:N=[null,null]}=aB({potentiallyStalePath:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:p})},[m,p])}),E=(0,o.useCallback)((e,t)=>{let n=parseFloat(e.target.value);Number.isNaN(n)&&(n=e.target.value);let l=[...N];l[t]=n,_(l)},[_,N]),P=e=>{let t=v("longitude"===e?"fields:longitude":"fields:latitude"),n=i?(0,d.s)(i,g):"";return"".concat(n).concat(n?" - ":"").concat(t)},D=(0,o.useMemo)(()=>aH(t),[t]);return(0,u.jsxs)("div",{className:[aq,up,n,k&&"error",(f||j)&&"read-only"].filter(Boolean).join(" "),style:D,children:[(0,u.jsxs)("ul",{className:"".concat(up,"__wrap"),children:[(0,u.jsxs)("li",{children:[(0,u.jsx)(ed,{CustomComponent:C,Fallback:(0,u.jsx)(lR,{label:P("longitude"),localized:c,path:S,required:p})}),(0,u.jsxs)("div",{className:"input-wrapper",children:[y,(0,u.jsx)("input",{disabled:f||j,id:"field-longitude-".concat(null==S?void 0:S.replace(/\./g,"__")),name:"".concat(S,".longitude"),onChange:e=>E(e,0),placeholder:(0,d.s)(a,g),step:r,type:"number",value:N&&"number"==typeof N[0]?N[0]:""}),b]})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)(ed,{CustomComponent:C,Fallback:(0,u.jsx)(lR,{label:P("latitude"),localized:c,path:S,required:p})}),(0,u.jsxs)("div",{className:"input-wrapper",children:[(0,u.jsx)(ed,{CustomComponent:w,Fallback:(0,u.jsx)(na,{path:S,showError:k})}),y,(0,u.jsx)("input",{disabled:f||j,id:"field-latitude-".concat(null==S?void 0:S.replace(/\./g,"__")),name:"".concat(S,".latitude"),onChange:e=>E(e,1),placeholder:(0,d.s)(a,g),step:r,type:"number",value:N&&"number"==typeof N[1]?N[1]:""}),b]})]})]}),(0,u.jsx)(ed,{CustomComponent:x,Fallback:(0,u.jsx)(nl,{description:l,path:S})})]})}),uf="radio-input",um=e=>{let t,n=(0,f.c)(16),{isSelected:l,onChange:a,option:o,path:r,readOnly:i,uuid:c}=e,{i18n:p}=(0,s.d)(),h=ni(),m="field-".concat(r,"-").concat(o.value).concat(h>1?"-".concat(h):"").concat(c?"-".concat(c):""),g=l&&"".concat(uf,"--is-selected"),v;n[0]!==g?(v=[uf,g].filter(Boolean),n[0]=g,n[1]=v):v=n[1];let b=v.join(" "),y;if(n[2]!==a||n[3]!==o.value?(y=()=>"function"==typeof a?a(o.value):null,n[2]=a,n[3]=o.value,n[4]=y):y=n[4],n[5]!==p||n[6]!==m||n[7]!==l||n[8]!==o.label||n[9]!==r||n[10]!==i||n[11]!==b||n[12]!==y){let e=(0,u.jsx)("input",{checked:l,disabled:i,id:m,name:r,onChange:y,type:"radio"}),a=i&&"".concat(uf,"__styled-radio--disabled"),s;n[14]!==a?(s=["".concat(uf,"__styled-radio"),a].filter(Boolean),n[14]=a,n[15]=s):s=n[15],t=(0,u.jsx)("label",{htmlFor:m,children:(0,u.jsxs)("div",{className:b,children:[e,(0,u.jsx)("span",{className:s.join(" ")}),(0,u.jsx)("span",{className:"".concat(uf,"__label"),children:(0,d.s)(o.label,p)})]})}),n[5]=p,n[6]=m,n[7]=l,n[8]=o.label,n[9]=r,n[10]=i,n[11]=b,n[12]=y,n[13]=t}else t=n[13];return t},ug="radio-group",uv=aV(e=>{let{disableModifyingForm:t,field:n,field:{admin:{className:l,description:a,layout:r="horizontal"}={},label:i,localized:s,options:c=[],required:d}={},onChange:p,path:h,readOnly:f,validate:g,value:v}=e,{uuid:b}=eE(),{customComponents:{AfterInput:y,BeforeInput:x,Description:w,Error:C,Label:j}={},disabled:S,path:_,setValue:k,showError:N,value:E}=aB({potentiallyStalePath:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof g)return g(e,{...t,options:c,required:d})},[g,c,d])}),P=E||v,D=(0,o.useMemo)(()=>aH(n),[n]);return(0,u.jsxs)("div",{className:[aq,ug,l,"".concat(ug,"--layout-").concat(r),N&&"error",(f||S)&&"".concat(ug,"--read-only")].filter(Boolean).join(" "),style:D,children:[(0,u.jsx)(ed,{CustomComponent:C,Fallback:(0,u.jsx)(na,{path:_,showError:N})}),(0,u.jsx)(ed,{CustomComponent:j,Fallback:(0,u.jsx)(lR,{label:i,localized:s,path:_,required:d})}),(0,u.jsxs)("div",{className:"".concat(aq,"__wrap"),children:[x,(0,u.jsx)("ul",{className:"".concat(ug,"--group"),id:"field-".concat(_.replace(/\./g,"__")),children:c.map(e=>{let n="",l=String(n=(0,m.vs)(e)?e.value:e)===String(P),a="field-".concat(_,"-").concat(n).concat(b?"-".concat(b):"");return(0,u.jsx)("li",{children:(0,u.jsx)(um,{id:a,isSelected:l,onChange:()=>{"function"==typeof p&&p(n),f||S||k(n,!!t)},option:(0,m.vs)(e)?e:{label:e,value:e},path:_,readOnly:f||S,uuid:b})},"".concat(_," - ").concat(n))})}),y,(0,u.jsx)(ed,{CustomComponent:w,Fallback:(0,u.jsx)(nl,{description:a,path:_})})]})]})}),ub="relationship-add-new",uy=e=>{var t,n;let l,a,r,i,c,p,h=(0,f.c)(47),{Button:m,hasMany:g,onChange:v,path:b,relationTo:y,unstyled:x,value:w}=e,C=cf(y),{permissions:j}=lx(),[S,_]=(0,o.useState)(!1),[k,N]=(0,o.useState)(),E=C.length>1,P;h[0]!==C[0]||h[1]!==E?(P=()=>E?void 0:C[0],h[0]=C[0],h[1]=E,h[2]=P):P=h[2];let[D,T]=(0,o.useState)(P),[A,R]=(0,o.useState)(!1),{i18n:L,t:O}=(0,s.d)(),[F,I]=(0,o.useState)(!1),M=null==D?void 0:D.slug,B;h[3]!==M?(B={collectionSlug:M},h[3]=M,h[4]=B):B=h[4];let[z,U,V]=cL(B),{isDrawerOpen:H,toggleDrawer:q}=V,W;h[5]!==D||h[6]!==g||h[7]!==v||h[8]!==C[0]||h[9]!==w?(W=e=>{var t;let{doc:n,operation:l}=e,a="object"==typeof(null==D||null==(t=D.versions)?void 0:t.drafts)&&D.versions.drafts.autosave;("create"===l||"update"===l&&a)&&(w&&(Array.isArray(w)?w.some(e=>e&&e.value===n.id):w.value===n.id)||v(!0===g?[...Array.isArray(w)?w:[],{relationTo:null==D?void 0:D.slug,value:n.id}]:{relationTo:C[0].slug,value:n.id}),N(void 0))},h[5]=D,h[6]=g,h[7]=v,h[8]=C[0],h[9]=w,h[10]=W):W=h[10];let K=W,Y;h[11]===Symbol.for("react.memo_cache_sentinel")?(Y=e=>{R(e)},h[11]=Y):Y=h[11];let G=Y,Q,X;h[12]!==j||h[13]!==C?(Q=()=>{var e,t;j&&(1===C.length?_(null==(e=j.collections[null==(t=C[0])?void 0:t.slug])?void 0:e.create):_(C.some(e=>{var t;return null==(t=j.collections[null==e?void 0:e.slug])?void 0:t.create})))},X=[j,C],h[12]=j,h[13]=C,h[14]=Q,h[15]=X):(Q=h[14],X=h[15]),(0,o.useEffect)(Q,X),h[16]!==C||h[17]!==E||h[18]!==k?(a=()=>{E&&k&&T(C.find(e=>(null==e?void 0:e.slug)===k))},l=[k,E,C],h[16]=C,h[17]=E,h[18]=k,h[19]=l,h[20]=a):(l=h[19],a=h[20]),(0,o.useEffect)(a,l),h[21]!==D||h[22]!==E||h[23]!==q?(r=()=>{E&&D&&(q(),N(void 0))},i=[q,E,D],h[21]=D,h[22]=E,h[23]=q,h[24]=r,h[25]=i):(r=h[24],i=h[25]),(0,o.useEffect)(r,i),h[26]!==H||h[27]!==E?(c=()=>{E&&!H&&T(void 0)},p=[H,E],h[26]=H,h[27]=E,h[28]=c,h[29]=p):(c=h[28],p=h[29]),(0,o.useEffect)(c,p);let $=null==(t=C[0])?void 0:t.labels.singular,Z,J;if(h[30]!==m||h[31]!==z||h[32]!==U||h[33]!==D||h[34]!==L||h[35]!==K||h[36]!==b||h[37]!==j||h[38]!==A||h[39]!==C||h[40]!==S||h[41]!==F||h[42]!==O||h[43]!==$||h[44]!==x){J=Symbol.for("react.early_return_sentinel");e:{let e=O("fields:addNewLabel",{label:(0,d.s)($,L)});if(!S){J=null;break e}Z=(0,u.jsxs)("div",{className:ub,id:"".concat(b,"-add-new"),children:[1===C.length&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(U,{className:["".concat(ub,"__add-button"),x&&"".concat(ub,"__add-button--unstyled")].filter(Boolean).join(" "),onClick:()=>{I(!1)},onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),children:m||(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(tk,{className:"".concat(ub,"__tooltip"),show:F,children:e}),(0,u.jsx)(tr,{})]})}),(0,u.jsx)(z,{onSave:K})]}),C.length>1&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(t_,{button:m||(0,u.jsx)(tP,{buttonStyle:"none",className:"".concat(ub,"__add-button"),tooltip:A?void 0:O("fields:addNew"),children:(0,u.jsx)(tr,{})}),buttonType:"custom",horizontalAlign:"center",onToggleOpen:G,render:e=>{let{close:t}=e;return(0,u.jsx)(tp,{children:C.map(e=>{var n;return j.collections[null==e?void 0:e.slug].create?(0,u.jsx)(th,{className:"".concat(ub,"__relation-button--").concat(null==e?void 0:e.slug),onClick:()=>{t(),N(null==e?void 0:e.slug)},children:(0,d.s)(null==e||null==(n=e.labels)?void 0:n.singular,L)},null==e?void 0:e.slug):null})})},size:"medium"}),D&&(null==(n=j.collections[null==D?void 0:D.slug])?void 0:n.create)&&(0,u.jsx)(z,{onSave:K})]})]})}h[30]=m,h[31]=z,h[32]=U,h[33]=D,h[34]=L,h[35]=K,h[36]=b,h[37]=j,h[38]=A,h[39]=C,h[40]=S,h[41]=F,h[42]=O,h[43]=$,h[44]=x,h[45]=Z,h[46]=J}else Z=h[45],J=h[46];return J!==Symbol.for("react.early_return_sentinel")?J:Z},ux=e=>{let{allowCreate:t=!0,collectionSlugs:n,disableQueryPresets:l,drawerSlug:a,enableRowSelections:r,filterOptions:s,onBulkSelect:c,onSelect:d,overrideEntityVisibility:p=!0,selectedCollection:h}=e,{closeModal:f,isModalOpen:m}=nN(),{serverFunction:g}=cr(),[v,b]=(0,o.useState)(void 0),[y,x]=(0,o.useState)(!0),{config:{collections:w},getEntityConfig:C}=(0,i.b)(),j=m(a),_=w.filter(e=>{let{slug:t}=e;return n.includes(t)}),[k,N]=(0,o.useState)(()=>{var e;let t=C({collectionSlug:h||(null==(e=_[0])?void 0:e.slug)});return t?{label:t.labels,value:t.slug}:void 0}),[E,P,{drawerSlug:D}]=cL({collectionSlug:k.value}),T=lg(e=>{var t;e&&e!==(null==k?void 0:k.value)&&N({label:null==(t=C({collectionSlug:e}))?void 0:t.labels,value:e})});(0,o.useEffect)(()=>{T(h)},[h]);let A=(0,o.useCallback)(async e=>{let{slug:n,query:o}=e;try{let e={...o||{},where:{...(null==o?void 0:o.where)||{}}},i=null==s?void 0:s[n];if(s&&"boolean"!=typeof i&&(e.where=(0,S.Y)(e.where,i)),n){let o=await g({name:"render-list",args:{allowCreate:t,collectionSlug:n,disableBulkDelete:!0,disableBulkEdit:!0,disableQueryPresets:l,drawerSlug:a,enableRowSelections:r,overrideEntityVisibility:p,query:e}});b((null==o?void 0:o.List)||null)}else b(null);x(!1)}catch(e){console.error("Error rendering List View: ",e),j&&f(a)}},[g,f,t,a,j,r,s,p,l]);(0,o.useEffect)(()=>{v||A({slug:null==k?void 0:k.value})},[A,v,k.value]);let R=(0,o.useCallback)(e=>{let{doc:t}=e;"function"==typeof d&&d({collectionSlug:null==k?void 0:k.value,doc:t,docID:t.id}),f(D),f(a)},[f,D,a,d,k.value]),L=(0,o.useCallback)(e=>{A({slug:null==k?void 0:k.value,query:e})},[A,k.value]),O=(0,o.useCallback)(e=>{N(e),A({slug:null==e?void 0:e.value})},[A]),F=(0,o.useCallback)(async e=>{var t;e&&N({label:null==(t=C({collectionSlug:e}))?void 0:t.labels,value:e}),await A({slug:k.value||e})},[C,A,k.value]);return y?(0,u.jsx)(cC,{}):(0,u.jsxs)(s8,{allowCreate:t,createNewDrawerSlug:D,DocumentDrawerToggler:P,drawerSlug:a,enabledCollections:n,onBulkSelect:c,onQueryChange:L,onSelect:d,refresh:F,selectedOption:k,setSelectedOption:O,children:[v,(0,u.jsx)(E,{onSave:R})]})},uw="list-drawer",uC=e=>{let{children:t,className:n,disabled:l,drawerSlug:a,onClick:o,...r}=e;return(0,u.jsx)(li,{className:[n,"".concat(uw,"__toggler")].filter(Boolean).join(" "),disabled:l,onClick:o,slug:a,...r,children:t})},uj=e=>{let{drawerSlug:t}=e;return(0,u.jsx)(ls,{className:uw,gutter:!1,Header:null,slug:t,children:(0,u.jsx)(ux,{...e})})},uS=e=>{let t,n,l,a=(0,f.c)(42),{collectionSlugs:r,filterOptions:s,selectedCollection:c,uploads:d}=e,{config:p}=(0,i.b)(),{collections:h}=p,m=ni(),g=(0,o.useId)(),{closeModal:v,modalState:b,openModal:y,toggleModal:x}=nN(),[w,C]=(0,o.useState)(!1),[j,S]=(0,o.useState)(r),_;a[0]!==m||a[1]!==g?(_=(e=>{let{depth:t,uuid:n}=e;return"list-drawer_".concat(t,"_").concat(n)})({depth:m,uuid:g}),a[0]=m,a[1]=g,a[2]=_):_=a[2];let k=_,N,E;a[3]!==k||a[4]!==b?(N=()=>{var e;C(!!(null==(e=b[k])?void 0:e.isOpen))},E=[b,k],a[3]=k,a[4]=b,a[5]=N,a[6]=E):(N=a[5],E=a[6]),(0,o.useEffect)(N,E),a[7]!==j||a[8]!==h||a[9]!==d?(t=()=>{j&&0!==j.length||S(h.filter(e=>{let{upload:t}=e;return!d||!!t}).map(u_))},n=[j,d,h],a[7]=j,a[8]=h,a[9]=d,a[10]=t,a[11]=n):(t=a[10],n=a[11]),(0,o.useEffect)(t,n),a[12]!==k||a[13]!==x?(l=()=>{x(k)},a[12]=k,a[13]=x,a[14]=l):l=a[14];let P=l,D;a[15]!==v||a[16]!==k?(D=()=>{v(k)},a[15]=v,a[16]=k,a[17]=D):D=a[17];let T=D,A;a[18]!==k||a[19]!==y?(A=()=>{y(k)},a[18]=k,a[19]=y,a[20]=A):A=a[20];let R=A,L;a[21]!==T||a[22]!==j||a[23]!==k||a[24]!==s||a[25]!==c||a[26]!==d?(L=e=>(0,o.createElement)(uj,{...e,closeDrawer:T,collectionSlugs:j,drawerSlug:k,filterOptions:s,key:k,selectedCollection:c,uploads:d}),a[21]=T,a[22]=j,a[23]=k,a[24]=s,a[25]=c,a[26]=d,a[27]=L):L=a[27];let O=L,F;a[28]!==k?(F=e=>(0,u.jsx)(uC,{...e,drawerSlug:k}),a[28]=k,a[29]=F):F=a[29];let I=F,M;a[30]!==T||a[31]!==j||a[32]!==m||a[33]!==k||a[34]!==w||a[35]!==R||a[36]!==P?(M={closeDrawer:T,collectionSlugs:j,drawerDepth:m,drawerSlug:k,isDrawerOpen:w,openDrawer:R,setCollectionSlugs:S,toggleDrawer:P},a[30]=T,a[31]=j,a[32]=m,a[33]=k,a[34]=w,a[35]=R,a[36]=P,a[37]=M):M=a[37];let B=M,z;return a[38]!==O||a[39]!==B||a[40]!==I?(z=[O,I,B],a[38]=O,a[39]=B,a[40]=I,a[41]=z):z=a[41],z};function u_(e){let{slug:t}=e;return t}var uk=(e,t)=>{let n=(0,f.c)(3),l=(0,o.useRef)(void 0),a;return n[0]!==e||n[1]!==t?(a=function(){for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];clearTimeout(l.current),l.current=setTimeout(()=>{clearTimeout(l.current),e(...a)},t)},n[0]=e,n[1]=t,n[2]=a):a=n[2],a};function uN(){let e=(0,o.useRef)([]),t=(0,o.useRef)(!1);return{queueTask:(0,o.useCallback)((n,l)=>{e.current.push(n),async function(){if(!t.current&&("function"!=typeof(null==l?void 0:l.beforeProcess)||!1!==l.beforeProcess()))for(;e.current.length>0;){let n=e.current.pop();e.current=[],t.current=!0;try{await n()}catch(e){console.error("Error in queued function:",e)}finally{t.current=!1,"function"==typeof(null==l?void 0:l.afterProcess)&&l.afterProcess()}}}()},[])}}var uE=e=>{for(let t in e){let n=e[t];if(("and"===t.toLowerCase()||"or"===t.toLowerCase())&&Array.isArray(n))for(let e of n)uE(e);else n&&"object"==typeof n&&"in"in n&&Array.isArray(n.in)&&0===n.in.length&&(e[t]={exists:!1})}return e},uP=e=>{let{hasMany:t,relationTo:n,value:l}=e,a=n.reduce((e,t)=>({...e,[t]:[]}),{});if(null===l)return a;if(l){let e=(e,t)=>{("string"==typeof t||"number"==typeof t)&&"string"==typeof e&&(a[e]?a[e].push(t):a[e]=[t])};!0===t?l.forEach(t=>{t&&e(t.relationTo,t.value)}):e(l.relationTo,l.value)}return a},uD=e=>e.reduce((e,t)=>t.options?[...e,...uD(t.options)]:[...e,{id:t.value,relationTo:t.relationTo}],[]),uT=e=>e.sort((e,t)=>{var n,l;return"function"==typeof(null==e||null==(n=e.label)?void 0:n.localeCompare)&&"function"==typeof(null==t||null==(l=t.label)?void 0:l.localeCompare)?e.label.localeCompare(t.label):0}),uA=(e,t)=>{switch(t.type){case"ADD":{let{collection:n,config:l,docs:a,i18n:o,ids:r=[],sort:i}=t,s=n.slug,c=uD(e),u=[...e],p=u.find(e=>e.label===n.labels.plural),h=a.reduce((e,t)=>0===c.filter(e=>e.id===t.id&&e.relationTo===s).length?(c.push({id:t.id,relationTo:s}),[...e,{label:aw({collectionConfig:n,data:t,dateFormat:l.admin.dateFormat,fallback:"".concat(o.t("general:untitled")," - ID: ").concat(t.id),i18n:o}),relationTo:s,value:t.id}]):e,[]);if(r.forEach(e=>{0===c.filter(t=>t.id===e&&t.relationTo===s).length&&(c.push({id:e,relationTo:s}),h.push({allowEdit:!1,label:"".concat(o.t("general:untitled")," - ID: ").concat(e),relationTo:s,value:e}))}),p){let e=[...p.options,...h];p.options=i?uT(e):e}else u.push({label:(0,d.s)(n.labels.plural,o),options:i?uT(h):h});return u}case"CLEAR":{let n=t.exemptValues?Array.isArray(t.exemptValues)?t.exemptValues:[t.exemptValues]:[];return e.filter(e=>{let t=e.options.filter(e=>!!n&&n.some(t=>t&&e.value===t.value));return e.options=t,t.length>0})}case"REMOVE":{let{id:n,collection:l}=t,a=[...e],o=a.findIndex(e=>e.label===l.labels.plural);return -1===o||(a[o]={...a[o],options:a[o].options.filter(e=>e.value!==n)}),a}case"UPDATE":{var n,l;let{collection:a,config:o,doc:r,i18n:i}=t,s=a.slug,c=[...e],u=aw({collectionConfig:a,data:r,dateFormat:o.admin.dateFormat,fallback:"".concat(i.t("general:untitled")," - ID: ").concat(r.id),i18n:i}),d=null==(l=c.find(e=>e.label===a.labels.plural))||null==(n=l.options)?void 0:n.find(e=>e.value===r.id);return d&&(d.label=u,d.relationTo=s),c}default:return e}},uR="relationship--multi-value-label",uL=e=>{var t,n;let{data:l,selectProps:a}=e,{allowEdit:r,label:i,relationTo:c,value:d}=l,{customProps:p}=void 0===a?{}:a,{draggableProps:h,onDocumentOpen:f}=void 0===p?{}:p,{permissions:m}=lx(),[g,v]=(0,o.useState)(!1),{t:b}=(0,s.d)(),y=!!(null==m||null==(n=m.collections)||null==(t=n[c])?void 0:t.read);return(0,u.jsxs)("div",{className:uR,children:[(0,u.jsx)("div",{className:"".concat(uR,"__content"),children:(0,u.jsx)(iP.MultiValueLabel,{...e,innerProps:{className:"".concat(uR,"__text"),...h||{}}})}),c&&y&&!1!==r&&(0,u.jsx)(o.Fragment,{children:(0,u.jsxs)("button",{"aria-label":"Edit ".concat(i),className:"".concat(uR,"__drawer-toggler"),onClick:e=>{v(!1),f({id:d,collectionSlug:c,hasReadPermission:y,openInNewTab:e.metaKey||e.ctrlKey})},onKeyDown:uO,onMouseDown:uF,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onTouchEnd:uI,type:"button",children:[(0,u.jsx)(tk,{className:"".concat(uR,"__tooltip"),show:g,children:b("general:editLabel",{label:""})}),(0,u.jsx)(ta,{className:"".concat(uR,"__icon")})]})})]})};function uO(e){"Enter"===e.key&&e.stopPropagation()}function uF(e){return e.stopPropagation()}function uI(e){return e.stopPropagation()}var uM="relationship--single-value",uB=e=>{var t,n;let l=(0,f.c)(15),{children:a,data:r,selectProps:i}=e,{allowEdit:c,label:d,relationTo:p,value:h}=r,m;l[0]!==i?(m=void 0===i?{}:i,l[0]=i,l[1]=m):m=l[1];let{customProps:g}=m,v;l[2]!==g?(v=void 0===g?{}:g,l[2]=g,l[3]=v):v=l[3];let{onDocumentOpen:b}=v,[y,x]=(0,o.useState)(!1),{t:w}=(0,s.d)(),{permissions:C}=lx(),j=!!(null==C||null==(n=C.collections)||null==(t=n[p])?void 0:t.read),S;return l[4]!==c||l[5]!==a||l[6]!==j||l[7]!==d||l[8]!==b||l[9]!==e||l[10]!==p||l[11]!==y||l[12]!==w||l[13]!==h?(S=(0,u.jsx)(iP.SingleValue,{...e,className:uM,children:(0,u.jsx)("div",{className:"".concat(uM,"__label"),children:(0,u.jsxs)("div",{className:"".concat(uM,"__label-text"),children:[(0,u.jsx)("div",{className:"".concat(uM,"__text"),children:a}),p&&j&&!1!==c&&(0,u.jsx)(o.Fragment,{children:(0,u.jsxs)("button",{"aria-label":w("general:editLabel",{label:d}),className:"".concat(uM,"__drawer-toggler"),onClick:e=>{x(!1),b({id:h,collectionSlug:p,hasReadPermission:j,openInNewTab:e.metaKey||e.ctrlKey})},onKeyDown:uz,onMouseDown:uU,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onTouchEnd:uV,type:"button",children:[(0,u.jsx)(tk,{className:"".concat(uM,"__tooltip"),show:y,children:w("general:edit")}),(0,u.jsx)(ta,{})]})})]})})}),l[4]=c,l[5]=a,l[6]=j,l[7]=d,l[8]=b,l[9]=e,l[10]=p,l[11]=y,l[12]=w,l[13]=h,l[14]=S):S=l[14],S};function uz(e){"Enter"===e.key&&e.stopPropagation()}function uU(e){return e.stopPropagation()}function uV(e){return e.stopPropagation()}var uH="relationship",uq=e=>{let{AfterInput:t,allowCreate:n=!0,allowEdit:l=!0,appearance:a="select",BeforeInput:r,className:c,description:d,Description:p,Error:h,filterOptions:f,formatDisplayedOptions:m,hasMany:g,initialValue:x,isSortable:w=!0,label:C,Label:j,localized:S,maxResultsPerRequest:_=10,onChange:k,path:N,placeholder:E,readOnly:P,relationTo:D,required:A,showError:R,sortOptions:L,style:O,value:F}=e,{config:I,getEntityConfig:M}=(0,i.b)(),{routes:{api:B},serverURL:z}=I,{i18n:U,t:V}=(0,s.d)(),{permissions:H}=lx(),{code:q}=lD(),[W,K]=(0,o.useState)({id:void 0,collectionSlug:void 0,hasReadPermission:!1}),[Y,G]=(0,o.useState)(-1),[Q,X]=(0,o.useState)({}),[$,Z]=(0,o.useState)(""),[J,ee]=(0,o.useState)(""),[et,en]=(0,o.useState)(!1),[el,ea]=(0,o.useState)(!1),[eo,er]=(0,o.useState)(!1),ei=(0,o.useRef)(!1),{queueTask:es}=uN(),[ec,eu]=(0,o.useReducer)(uA,[]),ep=(0,o.useRef)(F),[eh,,{isDrawerOpen:ef,openDrawer:em}]=cL({id:W.id,collectionSlug:W.collectionSlug}),eg=(0,o.useMemo)(()=>{let e=f;if(F){let t=(!1===g?[F]:F).reduce((e,t)=>(e[t.relationTo]||(e[t.relationTo]=[]),e[t.relationTo].push(t.value),e),{});(Array.isArray(D)?D:[D]).forEach(n=>{e={...e||{},[n]:{..."object"==typeof(null==f?void 0:f[n])?f[n]:{},...t[n]?{id:{not_in:t[n]}}:{}}}})}return e},[f,F,g,D]),[ev,,{closeDrawer:eb,isDrawerOpen:ey,openDrawer:ex}]=uS({collectionSlugs:D,filterOptions:eg}),ew=(0,o.useCallback)(e=>{let{collectionSlug:t,doc:n}=e;g?k([...Array.isArray(F)?F:[],{relationTo:t,value:n.id}]):!1===g&&k({relationTo:t,value:n.id}),eb()},[g,k,eb,F]),eC=(0,o.useRef)(!1),ej=(0,o.useCallback)(e=>{let{filterOptions:t,hasMany:n,lastFullyLoadedRelation:l,lastLoadedPage:a,onSuccess:o,search:r,sort:i,value:s}=e;H&&es(async()=>{let e="u">typeof l?l:-1,c=Array.isArray(D)?D:[D],u=-1===e?c:c.slice(e+1),d=0,p=uP(!0===n?{hasMany:!0,relationTo:D,value:s}:{hasMany:!1,relationTo:D,value:s});$||(await u.reduce(async(e,n)=>{let l=null==t?void 0:t[n],o;if(o=J!==r?1:a[n]+1,await e,!1===l)return G(c.indexOf(n)),Promise.resolve();if(d<10){var s;let e=M({collectionSlug:n}),t=(null==e||null==(s=e.admin)?void 0:s.useAsTitle)||"id",a=(null==e?void 0:e.defaultSort)||"id";"string"==typeof L?a=L:(null==L?void 0:L[n])&&(a=L[n]);let u={depth:0,draft:!0,limit:_,locale:q,page:o,select:{[t]:!0},sort:a,where:{and:[{id:{not_in:p[n]}}]}};r&&u.where.and.push({[t]:{like:r}}),l&&"boolean"!=typeof l&&u.where.and.push(l),uE(u.where);let h=await fetch("".concat(z).concat(B,"/").concat(n),{body:b.A(u),credentials:"include",headers:{"Accept-Language":U.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(h.ok){let t=await h.json();X(e=>({...e,[n]:o})),t.nextPage||G(c.indexOf(n)),t.docs.length>0&&(d+=t.docs.length,eu({type:"ADD",collection:e,config:I,docs:t.docs,i18n:U,sort:i}))}else 403===h.status?(G(c.indexOf(n)),eu({type:"ADD",collection:e,config:I,docs:[],i18n:U,ids:p[n],sort:i})):Z(V("error:unspecific"))}},Promise.resolve()),"function"==typeof o&&o())})},[H,es,D,$,J,M,L,_,q,z,B,U,I,V]),eS=uk(e=>{let{hasMany:t,search:n,value:l}=e;eA({filterOptions:f,lastLoadedPage:{},onSuccess:()=>{en(!1)},search:n,sort:!0,hasMany:t,value:l}),ee(n)},300),e_=(0,o.useCallback)(e=>{J!==e.search&&(en(!0),X({}),eS(e))},[J,eS]),ek=lg(e=>{let{hasMany:t,value:n}=e;Object.entries(uP({hasMany:t,relationTo:D,value:n})).reduce(async(e,t)=>{let[n,l]=t;await e;let a=l.filter(e=>!ec.find(t=>{var l;return null==t||null==(l=t.options)?void 0:l.find(t=>t.value===e&&t.relationTo===n)}));if(a.length>0){var o;let e=M({collectionSlug:n}),t=(null==e||null==(o=e.admin)?void 0:o.useAsTitle)||"id",l={depth:0,draft:!0,limit:a.length,locale:q,select:{[t]:!0},where:{id:{in:a}}};if(!$){let t=await fetch("".concat(z).concat(B,"/").concat(n),{body:b.A(l),credentials:"include",headers:{"Accept-Language":U.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"}),o=[];t.ok&&(o=(await t.json()).docs),eu({type:"ADD",collection:e,config:I,docs:o,i18n:U,ids:a,sort:!0})}}},Promise.resolve())}),eN=(0,o.useCallback)(e=>{eu({type:"UPDATE",collection:e.collectionConfig,config:I,doc:e.doc,i18n:U});let t=e.doc.id;g?k((F?Array.isArray(F)?F:[F]:[]).map(n=>({relationTo:n.value===t?e.collectionConfig.slug:n.relationTo,value:n.value}))):!1===g&&k({relationTo:e.collectionConfig.slug,value:t})},[U,I,g,k,F]),eE=(0,o.useCallback)(e=>{eu({type:"ADD",collection:e.collectionConfig,config:I,docs:[e.doc],i18n:U,sort:!0}),g?k(F?F.concat({relationTo:e.collectionConfig.slug,value:e.doc.id}):null):!1===g&&k({relationTo:e.collectionConfig.slug,value:e.doc.id})},[U,I,g,k,F]),eP=(0,o.useCallback)(e=>{eu({id:e.id,type:"REMOVE",collection:e.collectionConfig,config:I,i18n:U}),k(g&&F?F.filter(t=>t.value!==e.id):null)},[U,I,g,k,F]),eD=(0,o.useCallback)((e,t)=>{if(!t)return!0;let n=(0,T.m)(t||""),l=String(e.label);for(;l.length>250;){let e=l.indexOf(" ",t.length);if(n.test(l.slice(0,-1===e?t.length:e+1)))return!0;l=l.slice(-1===e?t.length:e+1)}return n.test(l.slice(-250))},[]),eT=(0,o.useCallback)(e=>{let{id:t,collectionSlug:n,hasReadPermission:l,openInNewTab:a}=e;if(a){if(l&&t&&n){let e=(0,v.Q)({adminRoute:I.routes.admin,path:"/collections/".concat(n,"/").concat(t)});window.open(e,"_blank")}}else eC.current=!0,K({id:t,collectionSlug:n,hasReadPermission:l})},[I.routes.admin]),eA=lg(e=>ej(e));(0,o.useEffect)(()=>{ei.current&&eo&&(en(!0),eA({filterOptions:f,lastLoadedPage:{},onSuccess:()=>{ei.current=!0,en(!1)},...{hasMany:g,value:ep.current}})),eu({type:"CLEAR",exemptValues:ep.current}),G(-1),X({})},[D,f,q,N,eo,g]);let eR=(0,o.useRef)(F),eL=(0,o.useRef)(!0);(0,o.useEffect)(()=>{(eL.current||!(0,y.j)(F,eR.current))&&ek({hasMany:g,value:F}),eL.current=!1,eR.current=F},[F,g]),(0,o.useEffect)(()=>{ea(!(Array.isArray(D)?D:[D]).reduce((e,t)=>{var n,l;return"id"===((null==(l=M({collectionSlug:t}))||null==(n=l.admin)?void 0:n.useAsTitle)||"id")&&e},!0))},[D,M]),(0,o.useEffect)(()=>{eC.current&&(em(),eC.current=!1)},[em,W]),(0,o.useEffect)(()=>{ep.current=F},[F]);let eO=(e=>{let{allowEdit:t,options:n,value:l}=e;if(l||"number"==typeof l){let e;return Array.isArray(l)?l.map(e=>{let l;return n.forEach(t=>{l||(l=t.options.find(t=>t.value===e.value&&t.relationTo===e.relationTo))}),l?{allowEdit:t,...l}:void 0}):(n.forEach(t=>{e||(e=t.options.find(e=>e.value===l.value&&e.relationTo===l.relationTo))}),e?{allowEdit:t,...e}:void 0)}})({allowEdit:l,options:ec,value:F});return Array.isArray(eO)||(null==eO?void 0:eO.value)!=="null"||(eO.value=null),(0,u.jsxs)("div",{className:[aq,uH,c,R&&"error",$&&"error-loading",P&&"".concat(uH,"--read-only"),!P&&n&&"".concat(uH,"--allow-create")].filter(Boolean).join(" "),id:"field-".concat(N.replace(/\./g,"__")),style:O,children:[(0,u.jsx)(ed,{CustomComponent:j,Fallback:(0,u.jsx)(lR,{label:C,localized:S,path:N,required:A})}),(0,u.jsxs)("div",{className:"".concat(aq,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:h,Fallback:(0,u.jsx)(na,{path:N,showError:R})}),r,$?(0,u.jsx)("div",{className:"".concat(uH,"__error-loading"),children:$}):(0,u.jsxs)("div",{className:"".concat(uH,"__wrap"),children:[(0,u.jsx)(sq,{backspaceRemovesValue:!(ef||ey),components:{MultiValueLabel:uL,SingleValue:uB,..."select"!==a&&{DropdownIndicator:null}},customProps:{disableKeyDown:ef||ey,disableMouseDown:ef||ey,onDocumentOpen:eT,onSave:eN},disabled:P||ef||ey,filterOption:el?eD:void 0,getOptionValue:e=>{if(e)return g&&Array.isArray(D)?"".concat(e.relationTo,"_").concat(e.value):e.value},isLoading:"select"===a&&et,isMulti:g,isSearchable:"select"===a,isSortable:w,menuIsOpen:"select"===a&&eo,onChange:P?void 0:e=>{g?null===e?(ep.current=[],k([])):(ep.current=e,k(e)):!1===g&&(null===e?(ep.current=null,k(null)):(ep.current=e,k(e)))},onInputChange:e=>e_({search:e,hasMany:g,value:F}),onMenuClose:()=>{er(!1)},onMenuOpen:()=>{"drawer"===a?ex():"select"===a&&(er(!0),ei.current||(en(!0),eA({filterOptions:f,lastLoadedPage:{},onSuccess:()=>{ei.current=!0,en(!1)},hasMany:g,value:F})))},onMenuScrollToBottom:()=>{en(!0),eA({filterOptions:f,lastFullyLoadedRelation:Y,lastLoadedPage:Q,onSuccess:()=>{en(!1)},search:J,sort:!1,hasMany:g,value:x})},options:"function"==typeof m?m(ec):ec,placeholder:E,showError:R,value:null!=eO?eO:null}),!P&&n&&(0,u.jsx)(uy,{path:N,relationTo:D,hasMany:g,onChange:k,value:F})]}),t,(0,u.jsx)(ed,{CustomComponent:p,Fallback:(0,u.jsx)(nl,{description:d,path:N})})]}),W.collectionSlug&&W.hasReadPermission&&(0,u.jsx)(eh,{onDelete:eP,onDuplicate:eE,onSave:eN}),"drawer"===a&&!P&&(0,u.jsx)(ev,{allowCreate:n,enableRowSelections:!1,onSelect:ew})]})},uW=aV(e=>{let{field:t,field:{admin:{allowCreate:n=!0,allowEdit:l=!0,appearance:a="select",className:r,description:i,isSortable:s=!0,placeholder:c,sortOptions:d}={},hasMany:p,label:h,localized:f,relationTo:m,required:g},path:v,readOnly:b,validate:y}=e,{customComponents:{AfterInput:x,BeforeInput:w,Description:C,Error:j,Label:S}={},disabled:_,filterOptions:k,initialValue:N,path:E,setValue:P,showError:D,value:T}=aB({potentiallyStalePath:v,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof y)return y(e,{...t,required:g})},[y,g])}),A=(0,o.useMemo)(()=>aH(t),[t]),R=Array.isArray(m),[L]=o.useState(()=>Array.isArray(m)?m:[m]),O=(0,o.useCallback)(e=>{if(!e)return void P(null,e===T);let t=!1;t=R?Array.isArray(T)&&Array.isArray(e)&&T.length===e.length&&T.every((t,n)=>{let l=e[n];return t.value===l.value&&t.relationTo===l.relationTo}):Array.isArray(T)&&Array.isArray(e)&&T.length===e.length&&T.every((t,n)=>t===e[n].value),P(e.map(e=>R?e:e.value),t)},[R,P,T]),F=(0,o.useCallback)(e=>{if(!e)return void P(null,e===T);let t=!1;t=R?T&&e&&T.value===e.value&&T.relationTo===e.relationTo:T&&e&&T===e.value,P(R?e:e.value,t)},[R,P,T]),I=o.useMemo(()=>!0===p?Array.isArray(T)?T.map(e=>R?e:{relationTo:Array.isArray(L)?L[0]:L,value:e}):T:T&&(R?T:{relationTo:Array.isArray(L)?L[0]:L,value:T}),[p,T,R,L]),M=o.useMemo(()=>!0===p?Array.isArray(N)?N.map(e=>R?e:{relationTo:Array.isArray(L)?L[0]:L,value:e}):N:N&&(R?N:{relationTo:Array.isArray(L)?L[0]:L,value:N}),[N,R,L,p]);return(0,u.jsx)(uq,{AfterInput:x,allowCreate:n,allowEdit:l,appearance:a,BeforeInput:w,className:r,Description:C,description:i,Error:j,filterOptions:k,formatDisplayedOptions:R?void 0:e=>e.map(e=>e.options).flat(),isSortable:s,Label:S,label:h,localized:f,maxResultsPerRequest:10,maxRows:null==t?void 0:t.maxRows,minRows:null==t?void 0:t.minRows,path:E,placeholder:c,readOnly:b||_,relationTo:L,required:g,showError:D,sortOptions:d,style:A,...!0===p?{hasMany:!0,initialValue:M,onChange:O,value:I}:{hasMany:!1,initialValue:M,onChange:F,value:I}})}),uK=()=>null,uY=aV(e=>{let{field:{admin:{className:t,style:n}={},fields:l},forceRender:a=!1,indexPath:o="",parentPath:r="",parentSchemaPath:i="",permissions:s,readOnly:c}=e;return(0,u.jsx)(s$,{children:(0,u.jsx)("div",{className:[aq,"row",t].filter(Boolean).join(" "),style:n||void 0,children:(0,u.jsx)(hR,{className:"".concat("row","__fields"),fields:l,forceRender:a,margins:!1,parentIndexPath:o,parentPath:r,parentSchemaPath:i,permissions:s,readOnly:c})})})}),uG=e=>{let t=(0,f.c)(37),{id:n,AfterInput:l,BeforeInput:a,className:o,Description:r,description:i,Error:c,filterOption:p,hasMany:h,isClearable:m,isSortable:g,label:v,Label:b,localized:y,onChange:x,onInputChange:w,options:C,path:j,placeholder:S,readOnly:_,required:k,showError:N,style:E,value:P}=e,D=void 0!==h&&h,T=void 0===m||m,A=void 0===g||g,{i18n:R}=(0,s.d)(),L;if(t[0]!==l||t[1]!==a||t[2]!==r||t[3]!==c||t[4]!==b||t[5]!==o||t[6]!==i||t[7]!==p||t[8]!==D||t[9]!==R||t[10]!==n||t[11]!==T||t[12]!==A||t[13]!==v||t[14]!==y||t[15]!==x||t[16]!==w||t[17]!==C||t[18]!==j||t[19]!==S||t[20]!==_||t[21]!==k||t[22]!==N||t[23]!==E||t[24]!==P){let e,s;if(D&&Array.isArray(P)){let n;t[26]!==R||t[27]!==C?(n=e=>{var t;let n=C.find(t=>t.value===e);return{label:n?(0,d.s)(n.label,R):e,value:null!=(t=null==n?void 0:n.value)?t:e}},t[26]=R,t[27]=C,t[28]=n):n=t[28],e=P.map(n)}else if(P){var O;let n;t[29]!==P?(n=e=>e.value===P,t[29]=P,t[30]=n):n=t[30];let l=C.find(n);e={label:l?(0,d.s)(l.label,R):P,value:null!=(O=null==l?void 0:l.value)?O:P}}else e=null;let h=N&&"error",f=_&&"read-only",m;t[31]!==o||t[32]!==h||t[33]!==f?(m=[aq,"select",o,h,f].filter(Boolean),t[31]=o,t[32]=h,t[33]=f,t[34]=m):m=t[34],t[35]!==R?(s=e=>({...e,label:(0,d.s)(e.label,R)}),t[35]=R,t[36]=s):s=t[36],L=(0,u.jsxs)("div",{className:m.join(" "),id:"field-".concat(j.replace(/\./g,"__")),style:E,children:[(0,u.jsx)(ed,{CustomComponent:b,Fallback:(0,u.jsx)(lR,{label:v,localized:y,path:j,required:k})}),(0,u.jsxs)("div",{className:"".concat(aq,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:c,Fallback:(0,u.jsx)(na,{path:j,showError:N})}),a,(0,u.jsx)(sq,{disabled:_,filterOption:p,id:n,isClearable:T,isMulti:D,isSortable:A,onChange:x,onInputChange:w,options:C.map(s),placeholder:S,showError:N,value:e}),l]}),(0,u.jsx)(ed,{CustomComponent:r,Fallback:(0,u.jsx)(nl,{description:i,path:j})})]}),t[0]=l,t[1]=a,t[2]=r,t[3]=c,t[4]=b,t[5]=o,t[6]=i,t[7]=p,t[8]=D,t[9]=R,t[10]=n,t[11]=T,t[12]=A,t[13]=v,t[14]=y,t[15]=x,t[16]=w,t[17]=C,t[18]=j,t[19]=S,t[20]=_,t[21]=k,t[22]=N,t[23]=E,t[24]=P,t[25]=L}else L=t[25];return L},uQ=e=>e.map(e=>"object"==typeof e&&(e.value||""===e.value)?e:{label:e,value:e}),uX=aV(e=>{let{field:t,field:{name:n,admin:{className:l,description:a,isClearable:r=!0,isSortable:i=!0,placeholder:s}={},hasMany:c=!1,label:d,localized:p,options:h=[],required:f},onChange:m,path:g,readOnly:v,validate:b}=e,y=o.useMemo(()=>uQ(h),[h]),{customComponents:{AfterInput:x,BeforeInput:w,Description:C,Error:j,Label:S}={},disabled:_,path:k,selectFilterOptions:N,setValue:E,showError:P,value:D}=aB({potentiallyStalePath:g,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof b)return b(e,{...t,hasMany:c,options:y,required:f})},[b,f,c,y])}),T=(0,o.useCallback)(e=>{if(!v||_){let t=null;e&&c?t=Array.isArray(e)?e.map(e=>e.value):[]:e&&!Array.isArray(e)&&(t=e.value),"function"==typeof m&&m(t),E(t)}},[v,_,c,E,m]),A=(0,o.useMemo)(()=>aH(t),[t]);return(0,u.jsx)(uG,{AfterInput:x,BeforeInput:w,className:l,Description:C,description:a,Error:j,filterOption:N?(e,t)=>{let{label:n,value:l}=e;return(null==N?void 0:N.some(e=>("string"==typeof e?e:e.value)===l))&&n.toLowerCase().includes(t.toLowerCase())}:void 0,hasMany:c,isClearable:r,isSortable:i,Label:S,label:d,localized:p,name:n,onChange:T,options:y,path:k,placeholder:s,readOnly:v||_,required:f,showError:P,style:A,value:D})}),u$=(0,c.e)(er(),1);function uZ(e){let t=(0,f.c)(5),{errorMessage:n}=e,l;t[0]!==n?(l=()=>(function(e){let[t,n]=e.split(":");if(!n)return{message:t};let l=n.split(",").map(e=>e.replaceAll(" > ","  ").trim());return 1===l.length?{errors:l,message:"".concat(t,": ")}:{errors:function(e){let t=[];for(let n of e)if(n){let e=n.split("  "),l=!1;for(let a=0;a<t.length;a++)if(t[a].startsWith(e[0])){t.splice(a+1,0,n),l=!0;break}l||t.push(n)}return t}(l),message:"".concat(t," (").concat(l.length,"):")}})(n),t[0]=n,t[1]=l):l=t[1];let[a]=o.useState(l),{errors:r,message:i}=a,s;return t[2]!==r||t[3]!==i?(s=(0,u.jsxs)("div",{children:[i,Array.isArray(r)&&r.length>0?1===r.length?(0,u.jsx)("span",{"data-testid":"field-error",children:r[0]}):(0,u.jsx)("ul",{"data-testid":"field-errors",children:r.map(uJ)}):null]}),t[2]=r,t[3]=i,t[4]=s):s=t[4],s}function uJ(e,t){return(0,u.jsx)("li",{children:e},t)}function u0(e,t,n){let l,a,r,i=(0,f.c)(11),s;i[0]!==e?(s=()=>e,i[0]=e,i[1]=s):s=i[1];let[c,u]=(0,o.useState)(s),d;i[2]!==n||i[3]!==e?(d=()=>{let t=setTimeout(()=>{u(()=>e)},n);return()=>{clearTimeout(t)}},i[2]=n,i[3]=e,i[4]=d):d=i[4],i[5]!==n||i[6]!==t?(l=[...t,n],i[5]=n,i[6]=t,i[7]=l):l=i[7],(0,o.useEffect)(d,l),i[8]!==c?(a=()=>{c()},r=[c],i[8]=c,i[9]=a,i[10]=r):(a=i[9],r=i[10]),(0,o.useEffect)(a,r)}var u1=o.createContext(null),u3=e=>{let t=(0,f.c)(6),{children:n}=e,[l,a]=(0,o.useState)(u6),r;t[0]!==l?(r=e=>{let{collectionSlug:t}=e;return l.get(t)},t[0]=l,t[1]=r):r=t[1];let i=r,s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{let{collectionSlug:t,handler:n}=e;a(e=>{let l=new Map(e);return l.set(t,n),l})},t[2]=s):s=t[2];let c=s,d;return t[3]!==n||t[4]!==i?(d=(0,u.jsx)(u1,{value:{getUploadHandler:i,setUploadHandler:c},children:n}),t[3]=n,t[4]=i,t[5]=d):d=t[5],d},u2=()=>{let e=o.use(u1);if(null===e)throw Error("useUploadHandlers must be used within UploadHandlersProvider");return e};function u6(){return new Map}var u5={413:"Your request was too large to submit successfully."},u4=(0,c.e)(eo(),1),u8=(e,t)=>{let n={},l=Object.entries(t).reduce((t,l)=>{let[a,o]=l;if(0===a.indexOf("".concat(e,"."))){let[n]=a.replace("".concat(e,"."),"").split(".");t[n]||(t[n]={}),t[n][a.replace("".concat(e,".").concat(String(n),"."),"")]={...o}}else n[a]=o;return t},[]);return{remainingFields:n,rows:l}},u9=(e,t)=>t.reduce((t,n,l)=>({...t,...Object.entries(n).reduce((t,n)=>{let[a,o]=n;return{...t,["".concat(e,".").concat(l,".").concat(a)]:{...o}}},{})}),{}),u7="default"in u4.default?u4.default.default:u4.default;function de(e,t){var n,l,a,o,r,i,s,c,u,d;switch(t.type){case"ADD_ROW":{let{blockType:r,path:i,rowIndex:s,subFieldState:c={}}=t,u="number"==typeof s?s:(null==(l=e[i])||null==(n=l.rows)?void 0:n.length)||0,d=[...(null==(a=e[i])?void 0:a.rows)||[]],p={id:(null==c||null==(o=c.id)?void 0:o.value)||new u7().toHexString(),isLoading:!0};r&&(p.blockType=r),d.splice(u,0,p),r&&(c.blockType={initialValue:r,valid:!0,value:r});let{remainingFields:h,rows:f}=u8(i,e);return f.splice(u,0,c),{...h,...u9(i,f),["".concat(i,".").concat(u,".id")]:{initialValue:p.id,passesCondition:!0,valid:!0,value:p.id},[i]:{...e[i],disableFormData:!0,rows:d,value:f.length}}}case"ADD_SERVER_ERRORS":{let n={...e},l=[];return t.errors.forEach(e=>{let{message:t,path:a}=e;n[a]={...n[a]||{initialValue:null,value:null},errorMessage:t,valid:!1};let o=a.split(".");o.length>1&&l.push({fieldErrorPath:a,parentPath:o.slice(0,o.length-1).join(".")})}),n=Object.entries(n).reduce((e,t)=>{let[n,a]=t,o=l.reduce((e,t)=>{let{fieldErrorPath:l,parentPath:a}=t;return a.startsWith(n)&&e.push(l),e},[]),r=!1;if(o.length>0){let t=Array.isArray(a.errorPaths)?a.errorPaths:[];o.forEach(e=>{t.includes(e)||(t.push(e),r=!0)}),r&&(e[n]={...a,errorPaths:t})}return r||(e[n]=a),e},{})}case"DUPLICATE_ROW":{let{path:n,rowIndex:l}=t,{remainingFields:a,rows:o}=u8(n,e),c=[...e[n].rows||[]],u=(0,O.KS)(c[l]),d=new u7().toHexString();u.id&&(u.id=d),(null==(i=c[l])||null==(r=i.customComponents)?void 0:r.RowLabel)&&(u.customComponents={RowLabel:c[l].customComponents.RowLabel});let p=(0,O.KS)(o[l]);for(let e of(p.id&&(p.id.value=d,p.id.initialValue=d),Object.keys(p).filter(e=>e.endsWith(".id")))){let t=p[e],n=new u7().toHexString();if(t&&"string"==typeof t.value&&u7.isValid(t.value)){p[e].value=n,p[e].initialValue=n;let t=e.split("."),l=parseInt(t[t.length-2],10),a=t.slice(0,t.length-2).join("."),o=null==p||null==(s=p[a])?void 0:s.rows;p[a]&&Array.isArray(o)&&(o[l]?o[l].id=n:o[l]={id:n})}}return Object.keys(p).length>0&&(o.splice(l+1,0,p),c.splice(l+1,0,u)),{...a,...u9(n,o),[n]:{...e[n],disableFormData:!0,rows:c,value:o.length}}}case"MERGE_SERVER_STATE":{let{acceptValues:n,prevStateRef:l,serverState:a}=t,o=(e=>{let{acceptValues:t,currentState:n={},incomingState:l}=e,a={...n};for(let[e,i]of Object.entries(l||{})){var o,r;if(!(e in n)&&!i.addedByServer)continue;let l=i.addedByServer||!0===t||"object"==typeof t&&null!==t&&!1===t.overrideLocalChanges&&!(null==(o=n[e])?void 0:o.isModified),s=i;if(!l){let{initialValue:e,value:t,...n}=i;s=n}a[e]={...n[e],...s},n[e]&&"errorPaths"in n[e]&&!("errorPaths"in i)&&(a[e].errorPaths=[]),Array.isArray(i.rows)&&e in n&&(a[e].rows=[...(null==(r=n[e])?void 0:r.rows)||[]],i.rows.forEach(t=>{var l;let o=null==(l=n[e].rows)?void 0:l.findIndex(e=>e.id===t.id);if(o>-1)a[e].rows[o]={...n[e].rows[o],...t};else if(t.addedByServer){let n={...t};delete n.addedByServer,a[e].rows.push(n)}})),!1!==i.valid&&(a[e].valid=!0),!1!==i.passesCondition&&(a[e].passesCondition=!0),i.blocksFilterOptions||delete a[e].blocksFilterOptions,delete a[e].addedByServer}return(0,y.j)(a,n)?n:a})({acceptValues:n,currentState:e||{},incomingState:a});return l.current=o,o}case"MOVE_ROW":{let{moveFromIndex:n,moveToIndex:l,path:a}=t,{remainingFields:o,rows:r}=u8(a,e),i=r[n];r.splice(n,1),r.splice(l,0,i);let s=[...(null==(c=e[a])?void 0:c.rows)||[]],u={...s[n]};return s.splice(n,1),s.splice(l,0,u),{...o,...u9(a,r),[a]:{...e[a],rows:s}}}case"REMOVE":{let n={...e};return n[t.path]&&delete n[t.path],n}case"REMOVE_ROW":{let{path:n,rowIndex:l}=t,{remainingFields:a,rows:o}=u8(n,e),r=[...(null==(u=e[n])?void 0:u.rows)||[]];return o.splice(l,1),r.splice(l,1),{...a,[n]:{...e[n],disableFormData:o.length>0,rows:r,value:o.length},...u9(n,o)}}case"REPLACE_ROW":{let{blockType:n,path:l,rowIndex:a,subFieldState:o={}}=t,{remainingFields:r,rows:i}=u8(l,e),s=Math.max(0,Math.min(a,(null==i?void 0:i.length)-1||0)),c=[...(null==(d=e[l])?void 0:d.rows)||[]];return c[s]={id:new u7().toHexString(),blockType:n||void 0,collapsed:!1},n&&(o.blockType={initialValue:n,valid:!0,value:n}),i[s]=o,{...r,...u9(l,i),[l]:{...e[l],disableFormData:!0,rows:c,value:i.length}}}case"REPLACE_STATE":if(!1!==t.optimize){let n={};for(let[l,a]of Object.entries(t.state)){let t=e[l];!1!==a.valid&&(a.valid=!0),!1!==a.passesCondition&&(a.passesCondition=!0),(0,y.j)(t,a)?t&&(n[l]=t):n[l]=a}return n}if(t.sanitize)for(let e of Object.values(t.state))!1!==e.valid&&(e.valid=!0),!1!==e.passesCondition&&(e.passesCondition=!0);return t.state;case"SET_ALL_ROWS_COLLAPSED":{let{path:n,updatedRows:l}=t;return{...e,[n]:{...e[n],rows:l}}}case"SET_ROW_COLLAPSED":{let{path:n,updatedRows:l}=t;return{...e,[n]:{...e[n],rows:l}}}case"UPDATE":{let n=Object.entries(t).reduce((e,t)=>{let[n,l]=t;return["disableFormData","errorMessage","initialValue","rows","valid","validate","value"].includes(n)?{...e,[n]:l,..."value"===n?{isModified:!0}:{}}:e},(null==e?void 0:e[t.path])||{}),l={...e,[t.path]:n};if("value"in t)for(let[e,n]of Object.entries(l))e!==t.path&&"isModified"in n&&delete l[e].isModified;return l}case"UPDATE_MANY":{let n={...e};return Object.entries(t.formState).forEach(e=>{let[t,l]=e;n[t]=l}),n}default:return e}}var dt={addFieldRow:()=>{},buildRowErrors:()=>{},createFormData:()=>{},disabled:!1,dispatchFields:()=>{},fields:{},formRef:null,getData:()=>{},getDataByPath:()=>{},getField:()=>{},getFields:()=>({}),getSiblingData:()=>{},initializing:void 0,isValid:!0,moveFieldRow:()=>{},removeFieldRow:()=>{},replaceFieldRow:()=>{},replaceState:()=>{},reset:()=>{},setBackgroundProcessing:()=>{},setDisabled:()=>{},setIsValid:()=>{},setModified:()=>{},setProcessing:()=>{},setSubmitted:()=>{},submit:()=>{},validateForm:()=>{}},dn=e=>{var t,n,l;let{id:a,collectionSlug:r,docConfig:c,docPermissions:d,getDocPreferences:p,globalSlug:f}=aD(),m=null!=c&&null!=(t=c.versions)&&!!t.drafts&&"object"==typeof(null==c||null==(n=c.versions)?void 0:n.drafts)&&null!=(l=c.versions.drafts.validate)&&l,{action:g,beforeSubmit:v,children:b,className:x,disabled:w,disableSuccessStatus:C,disableValidationOnSubmit:j,el:S,handleResponse:_,initialState:k,isDocumentForm:N,isInitializing:E,onChange:P,onSubmit:D,onSuccess:T,redirect:A,submitted:M,uuid:B,waitForAutocomplete:z}=e,U="method"in e?null==e?void 0:e.method:void 0,V=(0,h.useRouter)(),H=eP(),{code:q}=lD(),{i18n:W,t:K}=(0,s.d)(),{refreshCookie:Y,user:G}=lx(),Q=aO(),{queueTask:X}=uN(),{getFormState:$}=cr(),{startRouteTransition:Z}=e4(),{getUploadHandler:J}=u2(),{config:ee}=(0,i.b)(),[et,en]=(0,o.useState)(w||!1),[el,ea]=(0,o.useState)(!1),[eo,er]=(0,o.useState)(!1),[ei,es]=(0,o.useState)(!0),[ec,eu]=(0,o.useState)(E),[ed,ep]=(0,o.useState)(!1),[eh,ef]=(0,o.useState)(!1),[em,eg]=(0,o.useState)(!1),ev=(0,o.useRef)(null),eb=(0,o.useRef)({}),eE=(0,o.useRef)(null),eD=(0,o.useRef)(!0),eT=(0,o.useReducer)(de,{},()=>k),[eA,eR]=eT;eb.current.fields=eA;let eL=(0,o.useRef)(eA),eO=(0,o.useCallback)(async()=>{let e={},t=!0,n=eb.current.getData(),l=Object.entries(eb.current.fields).map(async l=>{let[o,i]=l,s=o?o.split("."):[];if(!1!==i.passesCondition){let e=i.valid;if("validate"in i&&"function"==typeof i.validate){let t=i.value;(null==i?void 0:i.rows)&&Array.isArray(i.rows)&&(t=eb.current.getDataByPath(o)),"string"==typeof(e=await i.validate(t,{...i,id:a,collectionSlug:r,blockData:void 0,data:(null==H?void 0:H.getData)?H.getData():n,event:"submit",operation:Q,path:s,preferences:{},req:{payload:{config:ee},t:K,user:G},siblingData:eb.current.getSiblingData(o)}))?(i.errorMessage=e,i.valid=!1):(i.valid=!0,i.errorMessage=void 0)}!1===i.valid&&(t=!1)}e[o]=i});return await Promise.all(l),(0,y.j)(eb.current.fields,e)||eR({type:"REPLACE_STATE",state:e}),es(t),t},[r,ee,eR,a,Q,K,G,H]),eF=(0,o.useCallback)(async(e,t)=>{let{acceptValues:n=!0,action:l=g,context:a,disableFormWhileProcessing:o=!0,disableSuccessStatus:r,method:i=U,overrides:s={},skipValidation:c}=e||{},d=null!=r?r:C;if(et){t&&t.preventDefault();return}let p,h,f=new Promise((e,t)=>{h=e,p=t}),b=l||"string"==typeof g||"function"==typeof g;A||d||!b?(h=e=>eZ.success(e),p=e=>eZ.error(e)):eZ.promise(f,{error:e=>e,loading:K("general:submitting"),success:e=>e}),t&&(t.stopPropagation(),t.preventDefault()),o&&(ep(!0),en(!0)),z&&await (0,R.u)(100);let y=(0,L.r)(eb.current.fields,!0),x=(0,O.KS)(eb.current.fields);if(Array.isArray(v)){let e;await v.reduce(async(t,n)=>{await t,e=await n({formState:x})},Promise.resolve());let t=Object.entries(e).every(e=>{let[,t]=e;return!1!==t.valid});if(es(t),!t)return ep(!1),eg(!0),en(!1),eR({type:"REPLACE_STATE",state:e})}let w=!!c||!!j||await eb.current.validateForm();if(es(w),!w){p(K("error:correctInvalidFields")),ep(!1),eg(!0),en(!1);return}let S={};if("function"==typeof s?S=s(eb.current.fields):"object"==typeof s&&(S=s),D){for(let[e,t]of Object.entries(S))y[e]=t;D(eb.current.fields,y)}if(!b){ep(!1),eg(!0),en(!1);return}let k=await eb.current.createFormData(S,{data:y,mergeOverrideData:"function"!=typeof s});try{let e;if("string"==typeof l?e=await lv[i.toLowerCase()](l,{body:k,headers:{"Accept-Language":W.language}}):"function"==typeof g&&(e=await g(k)),er(!1),en(!1),"function"==typeof _)return void _(e,h,p);let t=e.headers.get("content-type"),o=t&&-1!==t.indexOf("application/json"),r={};if(o&&(r=await e.json()),e.status<400){if("function"==typeof T){let e=await T(r,{context:a,formState:x});e&&eR({type:"MERGE_SERVER_STATE",acceptValues:n,prevStateRef:eL,serverState:e})}eg(!1),ep(!1),A?Z(()=>V.push(A)):d||h(r.message||K("general:submissionSuccessful"))}else{if(ep(!1),eg(!0),m||"draft"!==s._status||eg(!1),eb.current={...eb.current},r.message)return void p(r.message);if(Array.isArray(r.errors)){let[e,t]=r.errors.reduce((e,t)=>{var n,l;let[a,o]=e,r=[],i=[];return(null==t?void 0:t.message)&&i.push(t),Array.isArray(null==t||null==(n=t.data)?void 0:n.errors)&&(null==(l=t.data)||l.errors.forEach(e=>{(null==e?void 0:e.path)?r.push(e):i.push(e)})),[[...a,...r],[...o,...i]]},[[],[]]);es(!1),eR({type:"ADD_SERVER_ERRORS",errors:e}),t.forEach(e=>{p((0,u.jsx)(uZ,{errorMessage:e.message||K("error:unknown")}))});return}let t=(null==u5?void 0:u5[e.status])||(null==e?void 0:e.statusText)||K("error:unknown");p(t)}return{formState:eb.current.fields,res:e}}catch(e){console.error("Error submitting form",e),ep(!1),eg(!0),en(!1),p(e.message)}},[v,Z,g,C,j,et,eR,_,U,D,T,A,V,K,W,z]),eI=(0,o.useCallback)(()=>eb.current.fields,[]),eM=(0,o.useCallback)(e=>eb.current.fields[e],[]),eB=(0,o.useCallback)(()=>(0,L.r)(eb.current.fields,!0),[]),ez=(0,o.useCallback)(e=>(0,F.d)(eb.current.fields,e),[]),eU=(0,o.useCallback)(e=>(0,I.Z)(eb.current.fields,e),[]),eV=(0,o.useCallback)(async(e,t)=>{let{data:n,mergeOverrideData:l=!0}=t,a=n||(0,L.r)(eb.current.fields,!0),o=null==a?void 0:a.file;if(c&&"upload"in c&&c.upload&&o){delete a.file;let e=J({collectionSlug:r});if("function"==typeof e){let t=o.name;o=JSON.stringify({clientUploadContext:await e({file:o,updateFilename:e=>{t=e}}),collectionSlug:r,filename:t,mimeType:o.type,size:o.size})}}let i={_payload:JSON.stringify(a=l?{...a,...e}:e)};return c&&"upload"in c&&c.upload&&o&&(i.file=o),(0,u$.serialize)(i,{indices:!0,nullsAsUndefineds:!1})},[r,c,J]),eH=(0,o.useCallback)(async e=>{let t=ck(eE),n=await p(),{state:l}=await $({id:a,collectionSlug:r,data:e,docPermissions:d,docPreferences:n,globalSlug:f,locale:q,operation:Q,renderAllFields:!0,schemaPath:r||f,signal:t.signal,skipValidation:!0});eb.current={...dt},er(!1),eR({type:"REPLACE_STATE",state:l}),eE.current=null},[r,eR,f,a,Q,$,d,p,q]),eq=(0,o.useCallback)(e=>{eb.current={...dt},er(!1),eR({type:"REPLACE_STATE",state:e})},[eR]),eW=(0,o.useCallback)(e=>{let{blockType:t,path:n,rowIndex:l,subFieldState:a}=e,o=eU(n)||[];eR({type:"ADD_ROW",blockType:t,path:n,rowIndex:void 0===l?o.length:l,subFieldState:a}),er(!0)},[eR,eU]),eK=(0,o.useCallback)(e=>{let{moveFromIndex:t,moveToIndex:n,path:l}=e;eR({type:"MOVE_ROW",moveFromIndex:t,moveToIndex:n,path:l}),er(!0)},[eR]),eY=(0,o.useCallback)(e=>{let{path:t,rowIndex:n}=e;eR({type:"REMOVE_ROW",path:t,rowIndex:n}),er(!0)},[eR]),eG=(0,o.useCallback)(e=>{let{blockType:t,path:n,rowIndex:l,subFieldState:a}=e,o=eU(n);eR({type:"REPLACE_ROW",blockType:t,path:n,rowIndex:void 0===l?o.length:l,subFieldState:a}),er(!0)},[eR,eU]);(0,o.useEffect)(()=>{let e=eE.current;return()=>{c_(e)}},[]),(0,o.useEffect)(()=>{void 0!==E&&eu(E)},[E]),eb.current.submit=eF,eb.current.getFields=eI,eb.current.getField=eM,eb.current.getData=eB,eb.current.getSiblingData=ez,eb.current.getDataByPath=eU,eb.current.validateForm=eO,eb.current.createFormData=eV,eb.current.setModified=er,eb.current.setProcessing=ep,eb.current.setBackgroundProcessing=ef,eb.current.setSubmitted=eg,eb.current.setIsValid=es,eb.current.disabled=et,eb.current.setDisabled=en,eb.current.formRef=ev,eb.current.reset=eH,eb.current.replaceState=eq,eb.current.dispatchFields=eR,eb.current.addFieldRow=eW,eb.current.removeFieldRow=eY,eb.current.moveFieldRow=eK,eb.current.replaceFieldRow=eG,eb.current.uuid=B,eb.current.initializing=ec,eb.current.isValid=ei,(0,o.useEffect)(()=>{ea(!0)},[]),(0,o.useEffect)(()=>{"boolean"==typeof w&&en(w)},[w]),(0,o.useEffect)(()=>{"boolean"==typeof M&&eg(M)},[M]),(0,o.useEffect)(()=>{k&&(eb.current={...dt},eR({type:"REPLACE_STATE",optimize:!1,sanitize:!0,state:k}))},[k,eR]),lF(()=>{Y()},15e3,[eA]),(0,o.useEffect)(()=>{eb.current={...eb.current},er(!1)},[q]);let eQ=[x,"form"].filter(Boolean).join(" "),eX=lg(e=>{X(async()=>{if(Array.isArray(P)){let t;for(let n of P)t=await n({formState:(0,O.KS)(eA),submitted:e});eR({type:"MERGE_SERVER_STATE",prevStateRef:eL,serverState:t})}})});u0(()=>{(eD.current||!(0,y.j)(eA,eL.current))&&eo&&eX(em),eL.current=eA,eD.current=!1},[eo,em,eA],250);let e$=N?ex:o.Fragment,eJ=N?{value:eb.current}:{};return(0,u.jsx)(S||"form",{action:"function"==typeof g?void 0:g,className:eQ,method:U,noValidate:!0,onSubmit:e=>void eb.current.submit({},e),ref:ev,children:(0,u.jsx)(e$,{...eJ,children:(0,u.jsx)(ey,{value:eb.current,children:(0,u.jsx)(ew,{value:{fields:eA,...eb.current},children:(0,u.jsx)(eC,{value:em,children:(0,u.jsx)(ek,{value:!el||el&&ec,children:(0,u.jsx)(ej,{value:ed,children:(0,u.jsx)(eS,{value:eh,children:(0,u.jsx)(e_,{value:eo,children:(0,u.jsx)(eN.Provider,{value:eT,children:b})})})})})})})})})})},dl="tabs-field__tab-button",da=e=>{let t=(0,f.c)(12),{hidden:n,isActive:l,parentPath:a,setIsActive:r,tab:i}=e,{i18n:c}=(0,s.d)(),[p,h]=(0,o.useState)(void 0),g;if(t[0]!==p||t[1]!==n||t[2]!==c||t[3]!==l||t[4]!==a||t[5]!==r||t[6]!==i){let e=[...a?a.split(".").slice(0,-1):[],...(0,m.pz)(i)?[i.name]:[]],s=p>0,f=(0,u.jsx)(oT,{fields:i.fields,path:e,setErrorCount:h}),v=s&&"".concat(dl,"--has-error"),b=l&&"".concat(dl,"--active"),y=n&&"".concat(dl,"--hidden"),x;t[8]!==v||t[9]!==b||t[10]!==y?(x=[dl,v,b,y].filter(Boolean),t[8]=v,t[9]=b,t[10]=y,t[11]=x):x=t[11],g=(0,u.jsxs)(o.Fragment,{children:[f,(0,u.jsxs)("button",{className:x.join(" "),onClick:r,type:"button",children:[i.label?(0,d.s)(i.label,c):(0,m.pz)(i)?i.name:"",s&&(0,u.jsx)(nt,{count:p,i18n:c})]})]}),t[0]=p,t[1]=n,t[2]=c,t[3]=l,t[4]=a,t[5]=r,t[6]=i,t[7]=g}else g=t[7];return g},dr="tabs-field";function di(e){let{activeTabConfig:t,path:n}=e,l=n;return(0,m.pz)(t)&&t.name&&(l=n?"".concat(n,".").concat(t.name):t.name),l}var ds=aV(e=>{var t,n;let l,a,r,i=(0,f.c)(59),{field:c,forceRender:d,indexPath:p,parentPath:h,parentSchemaPath:g,path:v,permissions:b,readOnly:y}=e,{admin:x,tabs:w}=c,C;i[0]!==x?(C=void 0===x?{}:x,i[0]=x,i[1]=C):C=i[1];let{className:j}=C,S;i[2]!==w?(S=void 0===w?[]:w,i[2]=w,i[3]=S):S=i[3];let _=S,k=void 0===p?"":p,N=void 0===h?"":h,E=void 0===g?"":g,P=void 0===v?"":v,{getPreference:D,setPreference:T}=lS(),{preferencesKey:A}=aD(),{i18n:R}=(0,s.d)(),{isWithinCollapsible:L}=a4(),O;i[4]!==_?(O=e=>{let[t]=e;return _.map((e,n)=>{var l,a;let o=null==e?void 0:e.id;return{index:n,passesCondition:null==(a=null==t||null==(l=t[o])?void 0:l.passesCondition)||a,tab:e}})},i[4]=_,i[5]=O):O=i[5];let F=eF(O),I;i[6]!==F?(I=()=>{var e,t,n;return null!=(n=null==(t=F.filter(du))||null==(e=t[0])?void 0:e.index)?n:0},i[6]=F,i[7]=I):I=i[7];let[M,B]=(0,o.useState)(I),z="tabs-".concat(k),U;i[8]!==M||i[9]!==N||i[10]!==_?(U=()=>di({activeTabConfig:_[M],path:N}),i[8]=M,i[9]=N,i[10]=_,i[11]=U):U=i[11];let[V,H]=(0,o.useState)(U),q;i[12]!==E||i[13]!==_[0]?(q=()=>di({activeTabConfig:_[0],path:E}),i[12]=E,i[13]=_[0],i[14]=q):q=i[14];let[W,K]=(0,o.useState)(q),Y;i[15]!==M||i[16]!==V||i[17]!==N||i[18]!==_?(Y=(0,m.pz)(_[M])?V:N,i[15]=M,i[16]=V,i[17]=N,i[18]=_,i[19]=Y):Y=i[19];let G=Y,Q=F[M],X=null==Q?void 0:Q.tab,$;i[20]!==M||i[21]!==W||i[22]!==E||i[23]!==_?($=(0,m.pz)(_[M])?W:E,i[20]=M,i[21]=W,i[22]=E,i[23]=_,i[24]=$):$=i[24];let Z=$,J=null!=(n=null==(t=X.admin)?void 0:t.description)?n:X.description,ee="function"==typeof J?J({i18n:R,t:R.t}):J,et=F.some(dd),en;i[25]!==D||i[26]!==N||i[27]!==E||i[28]!==P||i[29]!==A||i[30]!==T||i[31]!==_||i[32]!==z?(en=async e=>{var t,n;B(e),H(di({activeTabConfig:_[e],path:N})),K(di({activeTabConfig:_[e],path:E}));let l=await D(A);A&&T(A,{...l,...P?{fields:{...(null==l?void 0:l.fields)||{},[P]:{...null==l||null==(t=l.fields)?void 0:t[P],tabIndex:e}}}:{fields:{...null==l?void 0:l.fields,[z]:{...null==l||null==(n=l.fields)?void 0:n[z],tabIndex:e}}}})},i[25]=D,i[26]=N,i[27]=E,i[28]=P,i[29]=A,i[30]=T,i[31]=_,i[32]=z,i[33]=en):en=i[33];let el=en,ea,eo;i[34]!==D||i[35]!==N||i[36]!==E||i[37]!==P||i[38]!==A||i[39]!==_||i[40]!==z?(ea=()=>{A&&(async()=>{var e,t,n,l;let a=await D(A),o=(P?null==a||null==(t=a.fields)||null==(e=t[P])?void 0:e.tabIndex:null==a||null==(l=a.fields)||null==(n=l[z])?void 0:n.tabIndex)||0;B(o),H(di({activeTabConfig:_[o],path:N})),K(di({activeTabConfig:_[o],path:E}))})()},eo=[P,D,A,z,_,N,E],i[34]=D,i[35]=N,i[36]=E,i[37]=P,i[38]=A,i[39]=_,i[40]=z,i[41]=ea,i[42]=eo):(ea=i[41],eo=i[42]),(0,o.useEffect)(ea,eo),i[43]!==(null==Q?void 0:Q.passesCondition)||i[44]!==el||i[45]!==F?(l=()=>{if((null==Q?void 0:Q.passesCondition)===!1){let e=F.find(dp);e&&el(e.index)}},i[43]=null==Q?void 0:Q.passesCondition,i[44]=el,i[45]=F,i[46]=l):l=i[46],i[47]!==Q||i[48]!==el||i[49]!==F?(a=[Q,F,el],i[47]=Q,i[48]=el,i[49]=F,i[50]=a):a=i[50],(0,o.useEffect)(l,a);let er=L&&"".concat(dr,"--within-collapsible"),ei=!et&&"".concat(dr,"--hidden"),es;return i[51]!==j||i[52]!==er||i[53]!==ei?(es=[aq,j,dr,er,ei].filter(Boolean),i[51]=j,i[52]=er,i[53]=ei,i[54]=es):es=i[54],i[55]!==M||i[56]!==el||i[57]!==P?(r=e=>{let{index:t,passesCondition:n,tab:l}=e;return(0,u.jsx)(da,{hidden:!n,isActive:M===t,parentPath:P,setIsActive:()=>{el(t)},tab:l},t)},i[55]=M,i[56]=el,i[57]=P,i[58]=r):r=i[58],(0,u.jsx)("div",{className:es.join(" "),children:(0,u.jsxs)(sJ,{children:[(0,u.jsx)("div",{className:"".concat(dr,"__tabs-wrap"),children:(0,u.jsx)("div",{className:"".concat(dr,"__tabs"),children:F.map(r)})}),(0,u.jsx)("div",{className:"".concat(dr,"__content-wrap"),children:X&&(0,u.jsx)(dc,{description:ee,fields:X.fields,forceRender:void 0!==d&&d,hidden:!1,parentIndexPath:(0,m.pz)(X)?"":"".concat(k?k+"-":"")+String(Q.index),parentPath:G,parentSchemaPath:Z,path:V,permissions:b&&"object"==typeof b&&"name"in X?b[X.name]&&"object"==typeof b[X.name]&&"fields"in b[X.name]?b[X.name].fields:b[X.name]:b,readOnly:y})})]})})});function dc(e){let t=(0,f.c)(21),{description:n,fields:l,forceRender:a,hidden:o,label:r,parentIndexPath:i,parentPath:c,parentSchemaPath:p,permissions:h,readOnly:m}=e,{i18n:g}=(0,s.d)(),{customComponents:v,path:b}=aB(),y,x;if(t[0]!==n||t[1]!==l||t[2]!==a||t[3]!==o||t[4]!==g||t[5]!==r||t[6]!==i||t[7]!==c||t[8]!==p||t[9]!==b||t[10]!==h||t[11]!==m||t[12]!==v){x=Symbol.for("react.early_return_sentinel");e:{let e,{AfterInput:s,BeforeInput:f,Description:w,Field:C}=void 0===v?{}:v;if(C){x=C;break e}let j=o&&"".concat(dr,"__tab--hidden"),S;t[15]!==g||t[16]!==r?(S=r&&"".concat(dr,"__tabConfigLabel-").concat((0,A.f)((0,d.s)(r,g))),t[15]=g,t[16]=r,t[17]=S):S=t[17],t[18]!==j||t[19]!==S?(e=[j,"".concat(dr,"__tab"),S].filter(Boolean),t[18]=j,t[19]=S,t[20]=e):e=t[20],y=(0,u.jsxs)("div",{className:e.join(" "),children:[(0,u.jsx)(ed,{CustomComponent:w,Fallback:(0,u.jsx)(nl,{description:n,marginPlacement:"bottom",path:b})}),f,(0,u.jsx)(hR,{fields:l,forceRender:a,parentIndexPath:i,parentPath:c,parentSchemaPath:p,permissions:h,readOnly:m}),s]})}t[0]=n,t[1]=l,t[2]=a,t[3]=o,t[4]=g,t[5]=r,t[6]=i,t[7]=c,t[8]=p,t[9]=b,t[10]=h,t[11]=m,t[12]=v,t[13]=y,t[14]=x}else y=t[13],x=t[14];return x!==Symbol.for("react.early_return_sentinel")?x:y}function du(e){let{passesCondition:t}=e;return t}function dd(e){let{passesCondition:t}=e;return t}function dp(e){let{passesCondition:t}=e;return t}var dh=e=>{let t=(0,f.c)(32),{AfterInput:n,BeforeInput:l,className:a,Description:o,description:r,Error:i,hasMany:c,htmlAttributes:p,inputRef:h,Label:m,label:g,localized:v,maxRows:b,onChange:y,onKeyDown:x,path:w,placeholder:C,readOnly:j,required:S,rtl:_,showError:k,style:N,value:E,valueToRender:P}=e,{i18n:D,t:T}=(0,s.d)(),A;if(t[0]!==n||t[1]!==l||t[2]!==o||t[3]!==i||t[4]!==m||t[5]!==a||t[6]!==r||t[7]!==c||t[8]!==p||t[9]!==D||t[10]!==h||t[11]!==g||t[12]!==v||t[13]!==b||t[14]!==y||t[15]!==x||t[16]!==w||t[17]!==C||t[18]!==j||t[19]!==S||t[20]!==_||t[21]!==k||t[22]!==N||t[23]!==T||t[24]!==E||t[25]!==P){let e=(0,d.s)(C,D),s=k&&"error",f=j&&"read-only",R=c&&"has-many",L;t[27]!==a||t[28]!==s||t[29]!==f||t[30]!==R?(L=[aq,"text",a,s,f,R].filter(Boolean),t[27]=a,t[28]=s,t[29]=f,t[30]=R,t[31]=L):L=t[31],A=(0,u.jsxs)("div",{className:L.join(" "),style:N,children:[(0,u.jsx)(ed,{CustomComponent:m,Fallback:(0,u.jsx)(lR,{label:g,localized:v,path:w,required:S})}),(0,u.jsxs)("div",{className:"".concat(aq,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:i,Fallback:(0,u.jsx)(na,{path:w,showError:k})}),l,c?(0,u.jsx)(sq,{className:"field-".concat(w.replace(/\./g,"__")),components:{DropdownIndicator:null},customProps:{editableProps:dm},disabled:j,filterOption:()=>!b||!(Array.isArray(E)&&b&&E.length>=b),isClearable:!1,isCreatable:!0,isMulti:!0,isSortable:!0,menuIsOpen:!1,noOptionsMessage:()=>Array.isArray(E)&&E.length>=b?T("validation:limitReached",{max:b,value:E.length+1}):null,onChange:y,options:[],placeholder:e,showError:k,value:P}):(0,u.jsx)("input",{"data-rtl":_,disabled:j,id:"field-".concat(null==w?void 0:w.replace(/\./g,"__")),name:w,onChange:y,onKeyDown:x,placeholder:e,ref:h,type:"text",value:E||"",...null!=p?p:{}}),n,(0,u.jsx)(ed,{CustomComponent:o,Fallback:(0,u.jsx)(nl,{description:r,path:w})})]})]}),t[0]=n,t[1]=l,t[2]=o,t[3]=i,t[4]=m,t[5]=a,t[6]=r,t[7]=c,t[8]=p,t[9]=D,t[10]=h,t[11]=g,t[12]=v,t[13]=b,t[14]=y,t[15]=x,t[16]=w,t[17]=C,t[18]=j,t[19]=S,t[20]=_,t[21]=k,t[22]=N,t[23]=T,t[24]=E,t[25]=P,t[26]=A}else A=t[26];return A};function df(e){e.currentTarget.contentEditable="false"}function dm(e,t,n){let l="".concat(t,"--editable");return{onBlur:df,onClick:e=>{e.currentTarget.contentEditable="true",e.currentTarget.classList.add(l),e.currentTarget.focus()},onKeyDown:t=>{if("Enter"===t.key||"Tab"===t.key||"Escape"===t.key){if(t.currentTarget.contentEditable="false",t.currentTarget.classList.remove(l),e.value.value=t.currentTarget.innerText,e.label=t.currentTarget.innerText,e.value.value.replaceAll("\n",""))n.onChange(n.value,{action:"create-option",option:e});else if(Array.isArray(n.value)){let t=n.value.filter(t=>t.id!==e.id);n.onChange(t,{action:"pop-value",removedValue:e})}t.preventDefault()}t.stopPropagation()}}}var dg=aV(e=>{let{field:t,field:{admin:{autoComplete:n,className:l,description:a,placeholder:r,rtl:s}={},hasMany:c,label:d,localized:p,maxLength:h,maxRows:f,minLength:m,minRows:g,required:v},inputRef:b,path:y,readOnly:x,validate:w}=e,C=lD(),{config:{localization:j}}=(0,i.b)(),{customComponents:{AfterInput:S,BeforeInput:_,Description:k,Error:N,Label:E}={},disabled:P,path:D,setValue:T,showError:A,value:R}=aB({potentiallyStalePath:y,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof w)return w(e,{...t,maxLength:h,minLength:m,required:v})},[w,m,h,v])}),L=aW({fieldLocalized:p,fieldRTL:s,locale:C,localizationConfig:j||void 0}),[O,F]=(0,o.useState)([]),I=(0,o.useCallback)(e=>{if(!(x||P)){var t;T(e?Array.isArray(e)?e.map(e=>{var t;return(null==(t=e.value)?void 0:t.value)||e.value}):[(null==(t=e.value)?void 0:t.value)||e.value]:[])}},[x,T,P]);(0,o.useEffect)(()=>{c&&Array.isArray(R)&&F(R.map((e,t)=>({id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}})))},[R,c]);let M=(0,o.useMemo)(()=>aH(t),[t]);return(0,u.jsx)(dh,{AfterInput:S,BeforeInput:_,className:l,Description:k,description:a,Error:N,hasMany:c,htmlAttributes:{autoComplete:n||void 0},inputRef:b,Label:E,label:d,localized:p,maxRows:f,minRows:g,onChange:c?I:e=>{T(e.target.value)},path:D,placeholder:r,readOnly:x||P,required:v,rtl:L,showError:A,style:M,value:R||"",valueToRender:O})}),dv=e=>{let t=(0,f.c)(26),{AfterInput:n,BeforeInput:l,className:a,Description:o,description:r,Error:i,Label:c,label:p,localized:h,onChange:m,path:g,placeholder:v,readOnly:b,required:y,rows:x,rtl:w,showError:C,style:j,value:S}=e,{i18n:_}=(0,s.d)(),k=C&&"error",N=b&&"read-only",E;t[0]!==a||t[1]!==k||t[2]!==N?(E=[aq,"textarea",a,k,N].filter(Boolean),t[0]=a,t[1]=k,t[2]=N,t[3]=E):E=t[3];let P=E.join(" "),D="field-".concat(g.replace(/\./g,"__")),T;return t[4]!==n||t[5]!==l||t[6]!==o||t[7]!==i||t[8]!==c||t[9]!==r||t[10]!==_||t[11]!==p||t[12]!==h||t[13]!==m||t[14]!==g||t[15]!==v||t[16]!==b||t[17]!==y||t[18]!==x||t[19]!==w||t[20]!==C||t[21]!==j||t[22]!==P||t[23]!==D||t[24]!==S?(T=(0,u.jsxs)("div",{className:P,style:j,children:[(0,u.jsx)(ed,{CustomComponent:c,Fallback:(0,u.jsx)(lR,{htmlFor:D,label:p,localized:h,path:g,required:y})}),(0,u.jsxs)("div",{className:"".concat(aq,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:i,Fallback:(0,u.jsx)(na,{path:g,showError:C})}),l,(0,u.jsx)("div",{className:"textarea-outer",children:(0,u.jsx)("textarea",{"data-rtl":w,disabled:b,id:"field-".concat(g.replace(/\./g,"__")),name:g,onChange:m,placeholder:(0,d.s)(v,_),rows:x,style:{"--rows":x},value:S||""})}),n,(0,u.jsx)(ed,{CustomComponent:o,Fallback:(0,u.jsx)(nl,{description:r,path:g})})]})]}),t[4]=n,t[5]=l,t[6]=o,t[7]=i,t[8]=c,t[9]=r,t[10]=_,t[11]=p,t[12]=h,t[13]=m,t[14]=g,t[15]=v,t[16]=b,t[17]=y,t[18]=x,t[19]=w,t[20]=C,t[21]=j,t[22]=P,t[23]=D,t[24]=S,t[25]=T):T=t[25],T},db=aV(e=>{let{field:t,field:{admin:{className:n,description:l,placeholder:a,rows:r,rtl:c}={},label:p,localized:h,maxLength:f,minLength:m,required:g},path:v,readOnly:b,validate:y}=e,{i18n:x}=(0,s.d)(),{config:{localization:w}}=(0,i.b)(),C=aW({fieldLocalized:h,fieldRTL:c,locale:lD(),localizationConfig:w||void 0}),{customComponents:{AfterInput:j,BeforeInput:S,Description:_,Error:k,Label:N}={},disabled:E,path:P,setValue:D,showError:T,value:A}=aB({potentiallyStalePath:v,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof y)return y(e,{...t,maxLength:f,minLength:m,required:g})},[y,g,f,m])}),R=(0,o.useMemo)(()=>aH(t),[t]);return(0,u.jsx)(dv,{AfterInput:j,BeforeInput:S,className:n,Description:_,description:l,Error:k,Label:N,label:p,localized:h,onChange:e=>{D(e.target.value)},path:P,placeholder:(0,d.s)(a,x),readOnly:b||E,required:g,rows:r,rtl:C,showError:T,style:R,value:A})}),dy=()=>null,dx=(0,o.createContext)(void 0),dw=e=>{let t=(0,f.c)(5),{children:n}=e,[l,a]=(0,o.useState)(null),[r,i]=(0,o.useState)(""),[s,c]=(0,o.useState)(null),d;return t[0]!==n||t[1]!==s||t[2]!==l||t[3]!==r?(d=(0,u.jsx)(dx,{value:{setUploadControlFile:c,setUploadControlFileName:a,setUploadControlFileUrl:i,uploadControlFile:s,uploadControlFileName:l,uploadControlFileUrl:r},children:n}),t[0]=n,t[1]=s,t[2]=l,t[3]=r,t[4]=d):d=t[4],d},dC=()=>{let e=(0,o.use)(dx);if(!e)throw Error("useUploadControls must be used within an UploadControlsProvider");return e},dj=e=>{e.preventDefault(),e.stopPropagation()};function dS(e){let{children:t,className:n,disabled:l=!1,dropzoneStyle:a="default",multipleFiles:r,onChange:i}=e,s=o.useRef(null),[c,d]=o.useState(!1),p=o.useCallback(e=>{if(!r&&e.length>1){let t=new DataTransfer;t.items.add(e[0]),i(t.files)}else i(e)},[r,i]),h=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),e.clipboardData.files&&e.clipboardData.files.length>0&&p(e.clipboardData.files)},[p]),f=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d(!0)},[]),m=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d(!1)},[]),g=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(p(e.dataTransfer.files),d(!1),e.dataTransfer.clearData())},[p]);o.useEffect(()=>{let e=s.current;return e&&!l?(e.addEventListener("dragenter",f),e.addEventListener("dragleave",m),e.addEventListener("dragover",dj),e.addEventListener("drop",g),e.addEventListener("paste",h),()=>{e.removeEventListener("dragenter",f),e.removeEventListener("dragleave",m),e.removeEventListener("dragover",dj),e.removeEventListener("drop",g),e.removeEventListener("paste",h)}):()=>null},[l,f,m,g,h]);let v=["dropzone",n,c?"dragging":"","dropzoneStyle--".concat(a)].filter(Boolean).join(" ");return(0,u.jsx)("div",{className:v,ref:s,children:t})}function d_(e){let t=(0,f.c)(3),{onClick:n}=e,{t:l}=(0,s.d)(),a;return t[0]!==n||t[1]!==l?(a=(0,u.jsx)("button",{"aria-label":l("general:close"),className:"drawer-close-button",onClick:n,type:"button",children:(0,u.jsx)(s.a,{})}),t[0]=n,t[1]=l,t[2]=a):a=t[2],a}function dk(e){let{onClose:t,title:n}=e;return(0,u.jsxs)("div",{className:"bulk-upload--drawer-header",children:[(0,u.jsx)("h2",{title:n,children:n}),(0,u.jsx)(d_,{onClick:t})]})}var dN="bulk-upload--add-files";function dE(e){let{acceptMimeTypes:t,onCancel:n,onDrop:l}=e,{t:a}=(0,s.d)(),r=o.useRef(null);return(0,u.jsxs)("div",{className:dN,children:[(0,u.jsx)(dk,{onClose:n,title:a("upload:addFiles")}),(0,u.jsx)("div",{className:"".concat(dN,"__dropArea"),children:(0,u.jsxs)(dS,{multipleFiles:!0,onChange:l,children:[(0,u.jsx)(tP,{buttonStyle:"subtle",iconPosition:"left",onClick:()=>{r.current&&r.current.click()},size:"small",children:a("upload:selectFile")}),(0,u.jsx)("input",{accept:t,"aria-hidden":"true",className:"".concat(dN,"__hidden-input"),hidden:!0,multiple:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&l(e.target.files)},ref:r,type:"file"}),(0,u.jsxs)("p",{className:"".concat(dN,"__dragAndDropText"),children:[a("general:or")," ",a("upload:dragAndDrop")]})]})})]})}var dP=(0,c.e)(er(),1);async function dD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=(0,L.r)(e,!0),o=null==a?void 0:a.file;if(o&&delete a.file,o&&"function"==typeof l){let e=o.name;o=JSON.stringify({clientUploadContext:await l({file:o,updateFilename:t=>{e=t}}),collectionSlug:n,filename:e,mimeType:o.type,size:o.size})}let r={_payload:JSON.stringify({...a,...t}),file:o};return(0,dP.serialize)(r,{indices:!0,nullsAsUndefineds:!1})}function dT(e,t){switch(t.type){case"ADD_FORMS":{var n;let l=[];for(let e=0;e<t.forms.length;e++)l[e]={errorCount:0,formID:null!=(n=t.forms[e].formID)?n:crypto.randomUUID?crypto.randomUUID():op(),formState:{...t.forms[e].initialState||{},file:{initialValue:t.forms[e].file,valid:!0,value:t.forms[e].file}},uploadEdits:{}};return{...e,activeIndex:0,forms:[...l,...e.forms]}}case"REMOVE_FORM":{let n=[...e.forms],[l]=n.splice(t.index,1),a=e.activeIndex>=t.index,o=Math.min(n.length-1,e.activeIndex===t.index?t.index:a?e.activeIndex-1:e.activeIndex);return{...e,activeIndex:a?o:e.activeIndex,forms:n,totalErrorCount:e.totalErrorCount-l.errorCount}}case"REPLACE":return{...e,...t.state};case"SET_ACTIVE_INDEX":return{...e,activeIndex:t.index};case"UPDATE_ERROR_COUNT":{let n=[...e.forms];return n[t.index].errorCount=t.count,{...e,forms:n,totalErrorCount:e.forms.reduce((e,t)=>e+t.errorCount,0)}}case"UPDATE_FORM":{let n=[...e.forms];return n[t.index].errorCount=t.errorCount,n[t.index]={...n[t.index],formState:{...n[t.index].formState,...t.formState},uploadEdits:{...n[t.index].uploadEdits,...t.uploadEdits}},{...e,forms:n,totalErrorCount:e.forms.reduce((e,t)=>e+t.errorCount,0)}}default:return e}}var dA=o.createContext({activeIndex:0,addFiles:()=>Promise.resolve(),bulkUpdateForm:()=>null,collectionSlug:"",docPermissions:void 0,documentSlots:{},forms:[],getFormDataRef:{current:()=>({})},hasPublishPermission:!1,hasSavePermission:!1,hasSubmitted:!1,isInitializing:!1,removeFile:()=>{},saveAllDocs:()=>Promise.resolve(),setActiveIndex:()=>0,setFormTotalErrorCount:()=>{},totalErrorCount:0,updateUploadEdits:()=>{}}),dR={activeIndex:0,forms:[],totalErrorCount:0};function dL(e){let{children:t}=e,{config:n}=(0,i.b)(),{routes:{api:l},serverURL:a}=n,{code:r}=lD(),{i18n:c,t:d}=(0,s.d)(),{getDocumentSlots:p,getFormState:h}=cr(),{getUploadHandler:f}=u2(),[m,g]=o.useState({}),[v,y]=o.useState(!1),[x,w]=o.useState(),[C,j]=o.useState(!1),[S,_]=o.useState(!1),[k,N]=o.useState(!1),[E,P]=o.useState(!1),[D,T]=o.useState(!1),[A,R]=o.useReducer(dT,dR),{activeIndex:L,forms:O,totalErrorCount:F}=A;o.useRef(O).current=O;let{toggleLoadingOverlay:I}=cx(),{closeModal:M}=nN(),{collectionSlug:B,drawerSlug:z,initialFiles:U,initialForms:V,onSuccess:H,setInitialFiles:q,setInitialForms:W,setSuccessfullyUploaded:K}=hb(),[Y,G]=o.useState(!1),[Q,X]=o.useState(""),$=o.useRef(!1),Z=o.useRef(null),J=o.useRef(()=>({})),ee="".concat(a).concat(l,"/").concat(B),et=o.useCallback(async()=>{let e={locale:r||void 0},t="/".concat(B,"/access"),n=await (await fetch("".concat(a).concat(l).concat(t,"?").concat(b.A(e)),{credentials:"include",headers:{"Accept-Language":c.language,"Content-Type":"application/json"},method:"post"})).json(),o=await fetch("".concat(a).concat(l).concat(t,"?").concat(b.A(e)),{body:JSON.stringify({_status:"published"}),credentials:"include",headers:{"Accept-Language":c.language,"Content-Type":"application/json"},method:"POST"}).then(e=>e.json());w(n),j(aE({collectionSlug:B,docPermissions:n,isEditing:!1})),_(null==o?void 0:o.update),P(!0)},[l,r,B,c.language,a]),en=o.useCallback(async e=>{(null==e?void 0:e.signal)&&e.abort("aborting previous fetch for initial form state without files"),g(await p({collectionSlug:B}));try{let{state:e}=await h({collectionSlug:B,docPermissions:x,docPreferences:{fields:{}},locale:r,operation:"create",renderAllFields:!0,schemaPath:B,skipValidation:!0});Z.current=e,N(!0)}catch(e){}},[p,B,h,x,r]),el=o.useCallback(e=>{let t=J.current();R({type:"REPLACE",state:{activeIndex:e,forms:O.map((e,n)=>n===L?{errorCount:e.errorCount,formID:e.formID,formState:t,uploadEdits:e.uploadEdits}:e)}})},[O,L]),ea=o.useCallback(async e=>{O.length&&R({type:"UPDATE_FORM",errorCount:O[L].errorCount,formState:J.current(),index:L}),I({isLoading:!0,key:"addingDocs"}),k||await en(),R({type:"ADD_FORMS",forms:Array.from(e).map(e=>({file:e,initialState:Z.current}))}),I({isLoading:!1,key:"addingDocs"})},[en,k,I,L,O]),eo=lg(ea),er=lg(async e=>{I({isLoading:!0,key:"addingDocs"}),k||await en(),R({type:"ADD_FORMS",forms:e.map(e=>({...e,initialState:(null==e?void 0:e.initialState)||Z.current}))}),I({isLoading:!1,key:"addingDocs"})}),ei=o.useCallback(e=>{R({type:"REMOVE_FORM",index:e})},[]),es=o.useCallback(e=>{let{errorCount:t,index:n}=e;R({type:"UPDATE_ERROR_COUNT",count:t,index:n})},[]),ec=o.useCallback(async function(){let{overrides:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=J.current(),n=[...O];n[L]={errorCount:n[L].errorCount,formID:n[L].formID,formState:t,uploadEdits:n[L].uploadEdits};let l=[];G(!0);for(let t=0;t<n.length;t++)try{var a;let o=n[t];X(d("general:uploadingBulk",{current:t+1,total:n.length}));let i="".concat(ee).concat(b.A({locale:r,uploadEdits:(null==o?void 0:o.uploadEdits)||void 0},{addQueryPrefix:!0})),s=await fetch(i,{body:await dD(o.formState,e,B,f({collectionSlug:B})),credentials:"include",method:"POST"}),c=await s.json();201===s.status&&(null==c?void 0:c.doc)&&l.push({collectionSlug:B,doc:c.doc,formID:o.formID});let[u,p]=((null==c?void 0:c.errors)||[]).reduce((e,t)=>{var n,l;let[a,o]=e,r=[],i=[];return(null==t?void 0:t.message)&&i.push(t),Array.isArray(null==t||null==(n=t.data)?void 0:n.errors)&&(null==(l=t.data)||l.errors.forEach(e=>{(null==e?void 0:e.path)?r.push(e):i.push(e)})),[[...a,...r],[...o,...i]]},[[],[]]);n[t]={errorCount:u.length,formID:n[t].formID,formState:de(n[t].formState,{type:"ADD_SERVER_ERRORS",errors:u})},(413===s.status||400===s.status)&&(n[t]={...n[t],errorCount:n[t].errorCount+1},eZ.error(null==(a=p[0])?void 0:a.message))}catch(e){}y(!0),X(""),G(!1);let o=[];n.forEach((e,t)=>{let{errorCount:l}=e;l&&o.push(n[t])});let i=Math.max(0,n.length-o.length),s=n.length-i;i&&(eZ.success("Successfully saved ".concat(i," files")),K(!0),"function"==typeof H&&H(l,s)),s?eZ.error("Failed to save ".concat(s," files")):M(z),R({type:"REPLACE",state:{activeIndex:0,forms:o,totalErrorCount:o.reduce((e,t)=>{let{errorCount:n}=t;return e+n},0)}}),0===o.length&&(q(void 0),W(void 0))},[O,L,d,ee,r,B,f,H,M,K,z,q,W]),eu=o.useCallback(async(e,t)=>{for(let n=0;n<O.length;n++)if(Object.entries(e).forEach(e=>{let[t,l]=e;O[n].formState[t]&&(O[n].formState[t].value=l,R({type:"UPDATE_FORM",errorCount:O[n].errorCount,formState:O[n].formState,index:n}))}),"function"==typeof t&&t(),v){let{state:e}=await h({collectionSlug:B,docPermissions:x,docPreferences:null,formState:O[n].formState,operation:"create",schemaPath:B});R({type:"UPDATE_FORM",errorCount:Object.values(e).reduce((e,t)=>(null==t?void 0:t.valid)===!1?e+1:e,0),formState:e,index:n})}},[B,x,O,h,v]),ed=o.useCallback(e=>{R({type:"UPDATE_FORM",errorCount:O[L].errorCount,formState:O[L].formState,index:L,uploadEdits:e})},[L,O]),ep=o.useCallback(()=>{R({type:"REPLACE",state:{forms:O.map(e=>({...e,uploadEdits:{}}))}})},[O]);return o.useEffect(()=>{B&&(k||en(),E||et(),(U||V)&&T(!k||!E),k&&((null==V?void 0:V.length)||(null==U?void 0:U.length))&&!$.current&&((null==V?void 0:V.length)&&er(V),(null==U?void 0:U.length)&&eo(U),$.current=!0))},[U,en,et,B,k,E,V]),(0,u.jsxs)(dA,{value:{activeIndex:A.activeIndex,addFiles:ea,bulkUpdateForm:eu,collectionSlug:B,docPermissions:x,documentSlots:m,forms:O,getFormDataRef:J,hasPublishPermission:S,hasSavePermission:C,hasSubmitted:v,isInitializing:D,removeFile:ei,resetUploadEdits:ep,saveAllDocs:ec,setActiveIndex:el,setFormTotalErrorCount:es,totalErrorCount:F,updateUploadEdits:ed},children:[Y&&(0,u.jsx)(cC,{animationDuration:"250ms",loadingText:Q,overlayType:"fullscreen",show:!0}),t]})}function dO(){return o.use(dA)}var dF=(e,t)=>e?(0,m.Z7)(t)&&t.name?"".concat(e,".").concat(t.name):e:(0,m.Z7)(t)?t.name:"",dI=e=>{let{CustomLabel:t,field:n,prefix:l}=e;return(0,u.jsxs)(o.Fragment,{children:[l?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{style:{display:"inline-block"},children:l})," > "]}):null,(0,u.jsx)("span",{style:{display:"inline-block"},children:(0,u.jsx)(ed,{CustomComponent:t,Fallback:(0,u.jsx)(lR,{label:"label"in n&&n.label})})})]})},dM=e=>{var t,n;let{fields:l,formState:a,labelPrefix:o=null,parentPath:r="",path:i="",permissions:s}=e;if(!l)return[];let c=null==a||null==(n=a[i])||null==(t=n.customComponents)?void 0:t.Label;return null==l?void 0:l.reduce((e,t)=>{var n;let{operation:l,permissions:a,read:u}=(0,w.P)({field:t,operation:"update",parentName:(null==r?void 0:r.includes("."))?r.split(".")[r.split(".").length-1]:r,permissions:s});return((0,m.Z7)(t)||"ui"===t.type)&&((null==(n=t.admin)?void 0:n.disableBulkEdit)||t.unique||(0,m.I2)(t)||"readOnly"in t&&t.readOnly||!l||!u)?e:"array"!==t.type&&"blocks"!==t.type&&(0,m.sd)(t)?[...e,...dM({fields:t.fields,labelPrefix:dI({CustomLabel:c,field:t,prefix:o}),parentPath:i,path:dF(i,t),permissions:a})]:"tabs"===t.type&&"tabs"in t?[...e,...t.tabs.reduce((e,n)=>{if("fields"in n){let l="name"in n&&n.name;return[...e,...dM({fields:n.fields,labelPrefix:o,parentPath:i,path:l?dF(i,t):i,permissions:a})]}},[])]:[...e,{label:dI({CustomLabel:c,field:t,prefix:o}),value:{field:t,fieldPermissions:a,path:dF(i,t)}}]},[])},dB=e=>{let t=(0,f.c)(14),{fields:n,onChange:l,permissions:a}=e,{t:r}=(0,s.d)(),{dispatchFields:i,getFields:c}=eE(),d;t[0]!==n||t[1]!==c||t[2]!==a?(d=()=>dM({fields:(e=>{let t=["file","mimeType","thumbnailURL","width","height","filesize","filename","url","focalX","focalY","sizes"];return e.filter(e=>!t.includes("name"in e&&e.name))})(n),formState:c(),permissions:a}),t[0]=n,t[1]=c,t[2]=a,t[3]=d):d=t[3];let[p]=(0,o.useState)(d),h;if(t[4]!==i||t[5]!==c||t[6]!==l||t[7]!==p||t[8]!==r){let e;t[10]!==i||t[11]!==c||t[12]!==l?(e=e=>l({dispatchFields:i,formState:c(),selected:e}),t[10]=i,t[11]=c,t[12]=l,t[13]=e):e=t[13],h=(0,u.jsxs)("div",{className:"field-select",children:[(0,u.jsx)(lR,{label:r("fields:selectFieldsToEdit")}),(0,u.jsx)(sq,{getOptionValue:dz,isMulti:!0,onChange:e,options:p})]}),t[4]=i,t[5]=c,t[6]=l,t[7]=p,t[8]=r,t[9]=h}else h=t[9];return h};function dz(e){return"object"==typeof e.value&&"path"in e.value?String(e.value.path):String(e.value)}var dU=e=>{var t;let{collection:{fields:n,labels:{plural:l,singular:a}}={},collection:r,drawerSlug:i,forms:c}=e,[p,h]=(0,o.useState)(!1),{permissions:f}=lx(),{i18n:m,t:g}=(0,s.d)(),{closeModal:v}=nN(),{bulkUpdateForm:b}=dO(),{getFormState:y}=cr(),x=o.useRef(null),[w,C]=(0,o.useState)([]),j=null==f||null==(t=f.collections)?void 0:t[r.slug],S=(0,o.useMemo)(()=>(0,B.s)(w.reduce((e,t)=>(e[t.value.path]=!0,e),{})),[w]),_=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,l=ck(x),{state:a}=await y({collectionSlug:r.slug,docPermissions:j,docPreferences:null,formState:t,operation:"update",schemaPath:r.slug,select:S,signal:l.signal,skipValidation:!n});return x.current=null,a},[y,r,j,S]);(0,o.useEffect)(()=>{let e=x.current;return()=>{c_(e)}},[]);let k=(0,o.useCallback)(e=>{b(w.reduce((t,n)=>(e[n.value.path]&&(t[n.value.path]=e[n.value.path].value),t),{}),()=>v(i))},[v,i,b,w]),N=(0,o.useCallback)(async e=>{let{dispatchFields:t,formState:n,selected:l}=e;h(!0),C(l||[]);let{state:a}=await y({collectionSlug:r.slug,docPermissions:j,docPreferences:null,formState:n,operation:"update",schemaPath:r.slug,select:(0,B.s)(l.reduce((e,t)=>(e[t.value.path]=!0,e),{})),skipValidation:!0});t({type:"UPDATE_MANY",formState:a}),h(!1)},[y,r,j]);return(0,u.jsxs)("div",{className:"".concat(dV,"__main"),children:[(0,u.jsxs)("div",{className:"".concat(dV,"__header"),children:[(0,u.jsx)("h2",{className:"".concat(dV,"__header__title"),children:g("general:editingLabel",{count:c.length,label:(0,d.s)(c.length>1?l:a,m)})}),(0,u.jsx)("button",{"aria-label":g("general:close"),className:"".concat(dV,"__header__close"),id:"close-drawer__".concat(i),onClick:()=>v(i),type:"button",children:(0,u.jsx)(s.a,{})})]}),(0,u.jsxs)(dn,{className:"".concat(dV,"__form"),isInitializing:p,onChange:[_],onSubmit:k,children:[(0,u.jsx)(dB,{fields:n,onChange:N,permissions:j.fields}),0===w.length?null:(0,u.jsx)("div",{className:"render-fields",children:(0,u.jsx)(aF,{value:void 0,children:w.map((e,t)=>{let{value:{field:n,fieldPermissions:l,path:a}}=e;return(0,u.jsx)(hT,{clientFieldConfig:n,indexPath:"",parentPath:"",parentSchemaPath:"",path:a,permissions:l},"".concat(a,"-").concat(t))})})}),(0,u.jsx)("div",{className:"".concat(dV,"__sidebar-wrap"),children:(0,u.jsx)("div",{className:"".concat(dV,"__sidebar"),children:(0,u.jsx)("div",{className:"".concat(dV,"__sidebar-sticky-wrap"),children:(0,u.jsx)("div",{className:"".concat(dV,"__document-actions"),children:(0,u.jsx)(tP,{type:"submit",children:g("general:applyChanges")})})})})})]})]})},dV="edit-many-bulk-uploads",dH=e=>{var t,n;let l,a=(0,f.c)(5),{collection:o,collection:r}=e,{slug:i}=void 0===o?{}:o,{permissions:c}=lx(),{t:d}=(0,s.d)(),{forms:p}=dO(),h=null==c||null==(n=c.collections)||null==(t=n[i])?void 0:t.update,m="edit-".concat(i,"-bulk-uploads");return h?(a[0]!==r||a[1]!==m||a[2]!==p||a[3]!==d?(l=(0,u.jsxs)("div",{className:dV,children:[(0,u.jsx)(li,{"aria-label":d("general:editAll"),className:"".concat(dV,"__toggle"),slug:m,children:d("general:editAll")}),(0,u.jsx)(nr,{children:(0,u.jsx)(ls,{Header:null,slug:m,children:(0,u.jsx)(dU,{collection:r,drawerSlug:m,forms:p})})})]}),a[0]=r,a[1]=m,a[2]=p,a[3]=d,a[4]=l):l=a[4],l):null},dq="bulk-upload--actions-bar";function dW(e){let t=(0,f.c)(15),{collectionConfig:n}=e,{activeIndex:l,forms:a,setActiveIndex:o}=dO(),{t:r}=(0,s.d)(),i=l+1,c;if(t[0]!==l||t[1]!==n||t[2]!==a.length||t[3]!==o||t[4]!==r||t[5]!==i){let e,s;t[7]!==l||t[8]!==a.length||t[9]!==o?(e=()=>{let e=l-1;e<0?o(a.length-1):o(e)},t[7]=l,t[8]=a.length,t[9]=o,t[10]=e):e=t[10],t[11]!==l||t[12]!==a.length||t[13]!==o?(s=()=>{let e=l+1;e===a.length?o(0):o(e)},t[11]=l,t[12]=a.length,t[13]=o,t[14]=s):s=t[14],c=(0,u.jsxs)("div",{className:dq,children:[(0,u.jsxs)("div",{className:"".concat(dq,"__navigation"),children:[(0,u.jsxs)("p",{className:"".concat(dq,"__locationText"),children:[(0,u.jsx)("strong",{children:i})," ".concat(r("general:of")," "),(0,u.jsx)("strong",{children:a.length})]}),(0,u.jsxs)("div",{className:"".concat(dq,"__controls"),children:[(0,u.jsx)(tP,{"aria-label":r("general:previous"),buttonStyle:"none",onClick:e,type:"button",children:(0,u.jsx)(tl,{direction:"left"})}),(0,u.jsx)(tP,{"aria-label":r("general:next"),buttonStyle:"none",onClick:s,type:"button",children:(0,u.jsx)(tl,{direction:"right"})})]}),(0,u.jsx)(dH,{collection:n})]}),(0,u.jsx)(dK,{className:"".concat(dq,"__saveButtons")})]}),t[0]=l,t[1]=n,t[2]=a.length,t[3]=o,t[4]=r,t[5]=i,t[6]=c}else c=t[6];return c}function dK(e){var t,n,l,a,o;let r=(0,f.c)(12),{className:c}=e,{getEntityConfig:d}=(0,i.b)(),{t:p}=(0,s.d)(),{collectionSlug:h,hasPublishPermission:m,hasSavePermission:g,saveAllDocs:v}=dO(),b;r[0]!==h||r[1]!==d?(b=d({collectionSlug:h}),r[0]=h,r[1]=d,r[2]=b):b=r[2];let y=b,x;r[3]!==c?(x=["".concat(dq,"__buttons"),c].filter(Boolean),r[3]=c,r[4]=x):x=r[4];let w=x.join(" "),C;return r[5]!==(null==y||null==(t=y.versions)?void 0:t.drafts)||r[6]!==m||r[7]!==g||r[8]!==v||r[9]!==p||r[10]!==w?(C=(0,u.jsxs)("div",{className:w,children:[(null==y||null==(n=y.versions)?void 0:n.drafts)&&g?(0,u.jsx)(tP,{buttonStyle:"secondary",onClick:()=>void v({overrides:{_status:"draft"}}),children:p("version:saveDraft")}):null,(null==y||null==(l=y.versions)?void 0:l.drafts)&&m?(0,u.jsx)(tP,{onClick:()=>void v({overrides:{_status:"published"}}),children:p("version:publish")}):null,(null==y||null==(a=y.versions)?void 0:a.drafts)||!g?null:(0,u.jsx)(tP,{onClick:()=>void v(),children:p("general:save")})]}),r[5]=null==y||null==(o=y.versions)?void 0:o.drafts,r[6]=m,r[7]=g,r[8]=v,r[9]=p,r[10]=w,r[11]=C):C=r[11],C}var dY="bulk-upload--discard-without-saving";function dG(){let e=(0,f.c)(9),{t:t}=(0,s.d)(),{closeModal:n}=nN(),{drawerSlug:l}=hb(),a;e[0]!==n?(a=()=>{n(dY)},e[0]=n,e[1]=a):a=e[1];let o=a,r;e[2]!==n||e[3]!==l?(r=()=>{n(l),n(dY)},e[2]=n,e[3]=l,e[4]=r):r=e[4];let i=r,c;return e[5]!==o||e[6]!==i||e[7]!==t?(c=(0,u.jsx)(lh,{body:t("general:changesNotSaved"),cancelLabel:t("general:stayOnThisPage"),confirmLabel:t("general:leaveAnyway"),heading:t("general:leaveWithoutSaving"),modalSlug:dY,onCancel:o,onConfirm:i}),e[5]=o,e[6]=i,e[7]=t,e[8]=c):c=e[8],c}var dQ=(0,o.createContext)({mostRecentUpdate:null,reportUpdate:e=>null}),dX=e=>{let t=(0,f.c)(3),{children:n}=e,[l,a]=(0,o.useState)(null),r;return t[0]!==n||t[1]!==l?(r=(0,u.jsx)(dQ,{value:{mostRecentUpdate:l,reportUpdate:a},children:n}),t[0]=n,t[1]=l,t[2]=r):r=t[2],r},d$=()=>(0,o.use)(dQ);function dZ(e){let{className:t}=e;return(0,u.jsx)("svg",{className:[t,"icon icon--trash"].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M4.1499 6.1H15.8499M14.5499 6.1V15.2C14.5499 15.85 13.8999 16.5 13.2499 16.5H6.7499C6.0999 16.5 5.4499 15.85 5.4499 15.2V6.1M7.3999 6.1V4.8C7.3999 4.15 8.0499 3.5 8.6999 3.5H11.2999C11.9499 3.5 12.5999 4.15 12.5999 4.8V6.1M8.6999 9.35V13.25M11.2999 9.35V13.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})}var dJ=()=>{let{getEntityConfig:e}=(0,i.b)(),{collectionSlug:t}=aD(),{labels:n}=e({collectionSlug:t}),{i18n:l}=(0,s.d)();return(0,u.jsxs)("div",{className:"trash-banner",children:[(0,u.jsx)(dZ,{}),(0,u.jsx)("p",{children:l.t("general:documentIsTrashed",{label:"".concat((0,d.s)(null==n?void 0:n.singular,l))})})]})},d0="document-fields",d1=e=>{let{AfterFields:t,BeforeFields:n,docPermissions:l,fields:a,forceSidebarWrap:r,isTrashed:i=!1,readOnly:s,schemaPathSegments:c}=e,{hasSidebarFields:d,mainFields:p,sidebarFields:h}=(0,o.useMemo)(()=>a.reduce((e,t)=>((0,m.zj)(t)?(e.sidebarFields.push(t),e.mainFields.push(null),e.hasSidebarFields=!0):(e.mainFields.push(t),e.sidebarFields.push(null)),e),{hasSidebarFields:!1,mainFields:[],sidebarFields:[]}),[a]);return(0,u.jsxs)("div",{className:[d0,d?"".concat(d0,"--has-sidebar"):"".concat(d0,"--no-sidebar"),r&&"".concat(d0,"--force-sidebar-wrap")].filter(Boolean).join(" "),children:[(0,u.jsx)("div",{className:"".concat(d0,"__main"),children:(0,u.jsxs)(ll,{className:"".concat(d0,"__edit"),children:[i&&(0,u.jsx)(dJ,{}),n,(0,u.jsx)(hR,{className:"".concat(d0,"__fields"),fields:p,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:c.join("."),permissions:null==l?void 0:l.fields,readOnly:s}),t]})}),d?(0,u.jsx)("div",{className:"".concat(d0,"__sidebar-wrap"),children:(0,u.jsx)("div",{className:"".concat(d0,"__sidebar"),children:(0,u.jsx)("div",{className:"".concat(d0,"__sidebar-fields"),children:(0,u.jsx)(hR,{fields:h,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:c.join("."),permissions:null==l?void 0:l.fields,readOnly:s})})})}):null]})};function d3(e){let{className:t}=e;return(0,u.jsx)("svg",{className:[t,"icon icon--folder"].filter(Boolean).join(" "),fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M13.3333 13.3333C13.6869 13.3333 14.026 13.1929 14.2761 12.9428C14.5261 12.6928 14.6666 12.3536 14.6666 12V5.33333C14.6666 4.97971 14.5261 4.64057 14.2761 4.39052C14.026 4.14048 13.6869 4 13.3333 4H8.06659C7.84359 4.00219 7.62362 3.94841 7.42679 3.84359C7.22996 3.73877 7.06256 3.58625 6.93992 3.4L6.39992 2.6C6.27851 2.41565 6.11323 2.26432 5.91892 2.1596C5.7246 2.05488 5.50732 2.00004 5.28659 2H2.66659C2.31296 2 1.97382 2.14048 1.72378 2.39052C1.47373 2.64057 1.33325 2.97971 1.33325 3.33333V12C1.33325 12.3536 1.47373 12.6928 1.72378 12.9428C1.97382 13.1929 2.31296 13.3333 2.66659 13.3333H13.3333Z",fill:"currentColor"})})}var d2=o.createContext({activeCollectionFolderSlugs:[],allCollectionFolderSlugs:[],allowCreateCollectionSlugs:[],breadcrumbs:[],checkIfItemIsDisabled:()=>!1,clearSelections:()=>{},currentFolder:null,documents:[],dragOverlayItem:void 0,focusedRowIndex:-1,folderCollectionConfig:null,folderCollectionSlug:"",folderFieldName:"folder",folderID:void 0,FolderResultsComponent:null,folderType:void 0,getFolderRoute:()=>"",getSelectedItems:()=>[],isDragging:!1,itemKeysToMove:void 0,moveToFolder:()=>Promise.resolve(void 0),onItemClick:()=>{},onItemKeyPress:()=>{},refineFolderData:()=>{},search:"",selectedFolderCollections:void 0,selectedItemKeys:new Set,setBreadcrumbs:()=>{},setFocusedRowIndex:()=>-1,setIsDragging:()=>!1,sort:"name",subfolders:[]});function d6(e){var t,n;let{activeCollectionFolderSlugs:l,allCollectionFolderSlugs:a=[],allowCreateCollectionSlugs:r,allowMultiSelection:c=!0,baseFolderPath:d,breadcrumbs:p=[],children:f,documents:m,folderFieldName:g,folderID:y,FolderResultsComponent:x,onItemClick:w,search:C,sort:j="name",subfolders:S}=e,_=d5(),{config:k}=(0,i.b)(),{routes:N,serverURL:E}=k,P=ld(),{t:D}=(0,s.d)(),T=(0,h.useRouter)(),{startRouteTransition:A}=e4(),R=lD(),L=R?R.code:void 0,O=o.useRef(new Set),[F,I]=o.useState([]),[M,B]=o.useState(x||(()=>null)),[V]=o.useState(()=>k.collections.find(e=>k.folders&&e.slug===k.folders.slug)),H=V.slug,q=(0,h.useSearchParams)(),W=o.useMemo(()=>s7(q),[q]),[K,Y]=o.useState(W),[G,Q]=o.useState(!1),[X,$]=o.useState(()=>new Set),[Z,J]=o.useState(-1),[ee,et]=o.useState(),[en,el]=o.useState(p),ea=o.useRef(null),eo=S.length+m.length,er=o.useCallback(()=>{J(-1),$(new Set),et(void 0),O.current=new Set},[]),ei=o.useCallback(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="page"in t?t.page:null==K?void 0:K.page;return"search"in t&&(n="1"),{...K,...t,locale:L,page:n,relationTo:"relationTo"in t?t.relationTo:null==K?void 0:K.relationTo,search:"search"in t?t.search:null==K?void 0:K.search,sort:"sort"in t?t.sort:null!=(e=null==K?void 0:K.sort)?e:void 0}},[K,L]),es=o.useCallback(e=>{let{query:t,updateURL:n}=e;if(n){let e=ei(t);A(()=>T.replace("".concat(b.A({...e,relationTo:JSON.stringify(e.relationTo)},{addQueryPrefix:!0})))),Y(e)}},[ei,T,A]),ec=o.useCallback(e=>{let t=b.A(ei({page:"1",search:""}),{addQueryPrefix:!0});return(0,v.Q)({adminRoute:k.routes.admin,path:"".concat(d).concat(e?"/".concat(e):"").concat(t),serverURL:k.serverURL})},[d,k.routes.admin,k.serverURL,ei]),eu=o.useCallback(e=>[...S,...m].find(t=>t.itemKey===e),[m,S]),ed=o.useCallback(()=>Array.from(X).reduce((e,t)=>{let n=eu(t);return n&&e.push(n),e},[]),[X,eu]),ep=o.useCallback(e=>{let{collectionSlug:t,docID:n}=e;1===P?t===H?A(()=>{T.push(ec(n)),er()}):t&&A(()=>{T.push((0,v.Q)({adminRoute:k.routes.admin,path:"/collections/".concat(t,"/").concat(n)})),er()}):er(),"function"==typeof w&&w(eu("".concat(t,"-").concat(n)))},[er,k.routes.admin,P,H,ec,eu,w,T,A]),eh=o.useCallback(e=>{let t=[...S,...m].reduce((e,t,n)=>(X.has(t.itemKey)&&e.push(n),e),[]);if(0===t.length)return[e];let n=Math.min(...t),l=Math.max(...t),a=e>=n&&e<=l,o=e,r=Math.min(o=a?e===n||e===l?e:Math.abs(e-n)>=Math.abs(e-l)?n:l:Math.abs(e-n)<=Math.abs(e-l)?n:l,e),i=Array.from({length:Math.max(o,e)-r+1},(e,t)=>r+t);return a?i:[...new Set([...t,...i])]},[S,m,X]),ef=o.useCallback(e=>{let{indexes:t}=e,{newSelectedFolderCollections:n,newSelectedItemKeys:l}=[...S,...m].reduce((e,n,l)=>{var a;return t.includes(l)&&(e.newSelectedItemKeys.add(n.itemKey),n.relationTo===H?null==(a=n.value.folderType)||a.forEach(t=>{e.newSelectedFolderCollections.includes(t)||e.newSelectedFolderCollections.push(t)}):e.newSelectedFolderCollections.includes(n.relationTo)||e.newSelectedFolderCollections.push(n.relationTo)),e},{newSelectedFolderCollections:[],newSelectedItemKeys:new Set});I(n),$(l)},[m,H,S]),em=o.useCallback(e=>{let{event:t,item:n}=e,{code:l,ctrlKey:a,metaKey:o,shiftKey:r}=t,i=a||o,s=X.has(n.itemKey),u=[...S,...m],d=u.findIndex(e=>e.itemKey===n.itemKey);switch(l){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":{if(t.preventDefault(),-1===d)break;let e="ArrowLeft"===l||"ArrowUp"===l?d-1:d+1;if(e<0||e>eo-1)return;if(J(e),i)break;if(r&&c)return void ef({indexes:eh(e)});r||$(new Set([u[e].itemKey]));break}case"Enter":if(1===X.size){J(void 0),ep({collectionSlug:n.relationTo,docID:(0,z.r)(n.value)});return}break;case"Escape":er();break;case"KeyA":c&&i&&(t.preventDefault(),J(eo-1),ef({indexes:Array.from({length:eo},(e,t)=>t)}));break;case"Space":c&&r?(t.preventDefault(),ef({indexes:[...S,...m].reduce((e,t,l)=>{if(t.itemKey===n.itemKey){if(s)return e;e.push(l)}else X.has(t.itemKey)&&e.push(l);return e},[])})):(t.preventDefault(),ef({indexes:s?[]:[d]}));break;case"Tab":if(c&&r){let e=d-1;e<0&&(null==X?void 0:X.size)>0&&J(e)}else d+1===eo&&X.size>0&&J(eo-1)}},[X,S,m,c,eh,ef,ep,er,eo]),eg=o.useCallback(e=>{let{event:t,item:n}=e,l=!1,a=t.ctrlKey||t.metaKey,o=t.shiftKey,r=X.has(n.itemKey),i=[...S,...m],s=i.findIndex(e=>e.itemKey===n.itemKey);if(c&&a){let e;t.preventDefault(),ef({indexes:i.reduce((l,a,o)=>{if(a.itemKey===n.itemKey){if(r&&"pointermove"!==t.type)return l;l.push(o),e=a.itemKey}else X.has(a.itemKey)&&l.push(o);return l},[])}),e&&et(eu(e))}else if(c&&o)-1!==s&&ef({indexes:eh(s)});else if(c&&"pointermove"===t.type)r||ef({indexes:i.reduce((e,t,l)=>(t.itemKey===n.itemKey&&e.push(l),e),[])}),et(eu(n.itemKey));else{let e=Date.now();l=e-ea.current<400&&(null==ee?void 0:ee.itemKey)===n.itemKey,ea.current=e,l||ef({indexes:r&&1===X.size?[]:[s]}),et(eu(n.itemKey))}l&&ep({collectionSlug:n.relationTo,docID:(0,z.r)(n.value)})},[X,S,m,c,ee,eu,ef,ep,eh]),ev=o.useCallback(async e=>{let{itemsToMove:t,toFolderID:n}=e;if(t.length){if(1===t.length&&t[0].relationTo===H&&t[0].value.id===y){let e=b.A({depth:0,locale:L},{addQueryPrefix:!0});200!==(await fetch("".concat(E).concat(N.api,"/").concat(H,"/").concat(y).concat(e),{body:JSON.stringify({[g]:n||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})).status&&eZ.error(D("general:error"))}else for(let[e,l]of Object.entries(t.reduce((e,t)=>(e[t.relationTo]||(e[t.relationTo]=[]),e[t.relationTo].push(t.value.id),e),{}))){let t=b.A({depth:0,limit:0,locale:L,where:{id:{in:l}}},{addQueryPrefix:!0});try{await fetch("".concat(E).concat(N.api,"/").concat(e).concat(t),{body:JSON.stringify({[g]:n||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})}catch(e){eZ.error(D("general:error")),console.error(e);continue}}er()}},[y,er,H,g,N.api,E,D,L]),eb=o.useCallback(e=>{var t;function n(e){let{item:t,selectedFolderCollections:n}=e;return!(!t.value.folderType||Array.isArray(t.value.folderType)&&0===t.value.folderType.length)&&(0===n.length?!!(t.value.folderType||t.value.folderType.length>0):n.some(e=>!t.value.folderType.includes(e)))}return G?!!X.has(e.itemKey)||e.relationTo!==H||n({item:e,selectedFolderCollections:F}):(null==_||null==(t=_.selectedItemKeys)?void 0:t.size)?!!_.selectedItemKeys.has(e.itemKey)||e.relationTo!==H||n({item:e,selectedFolderCollections:_.selectedFolderCollections}):void 0},[F,G,X,H,null==_?void 0:_.selectedFolderCollections,null==_?void 0:_.selectedItemKeys]);return o.useEffect(()=>{x&&B(x)},[x]),(0,u.jsx)(d2,{value:{activeCollectionFolderSlugs:l||a,allCollectionFolderSlugs:a,allowCreateCollectionSlugs:r,breadcrumbs:en,checkIfItemIsDisabled:eb,clearSelections:er,currentFolder:(null==en||null==(t=en[en.length-1])?void 0:t.id)!==void 0?(0,U.p)({folderFieldName:g,isUpload:!1,relationTo:H,useAsTitle:V.admin.useAsTitle,value:en[en.length-1]}):null,documents:m,dragOverlayItem:ee,focusedRowIndex:Z,folderCollectionConfig:V,folderCollectionSlug:H,folderFieldName:g,folderID:y,FolderResultsComponent:M,folderType:null==en||null==(n=en[en.length-1])?void 0:n.folderType,getFolderRoute:ec,getSelectedItems:ed,isDragging:G,itemKeysToMove:_.selectedItemKeys,moveToFolder:ev,onItemClick:eg,onItemKeyPress:em,refineFolderData:es,search:C,selectedFolderCollections:F,selectedItemKeys:X,setBreadcrumbs:el,setFocusedRowIndex:J,setIsDragging:Q,sort:j,subfolders:S},children:f})}function d5(){let e=o.use(d2);if(void 0===e)throw Error("useFolder must be used within a FolderProvider");return e}var d4=(0,o.createContext)({cachingEnabled:!0,clearRouteCache:()=>{}}),d8=e=>{let t,n,l,a,r=(0,f.c)(17),{cachingEnabled:i,children:s}=e,c=void 0===i||i,d=(0,h.usePathname)(),p=(0,h.useRouter)(),m=(0,o.useRef)(!1),g;r[0]!==p?(g=()=>{p.refresh()},r[0]=p,r[1]=g):g=r[1];let v=g,b;r[2]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{let e=()=>{m.current=!0};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},r[2]=b):b=r[2],r[3]!==p?(t=[p],r[3]=p,r[4]=t):t=r[4],(0,o.useEffect)(b,t),r[5]!==c||r[6]!==v?(n=e=>{(c||m.current)&&(m.current=!1,v())},r[5]=c,r[6]=v,r[7]=n):n=r[7];let y=lg(n),x;return r[8]!==y||r[9]!==d?(x=()=>{y(d)},r[8]=y,r[9]=d,r[10]=x):x=r[10],r[11]!==d?(l=[d],r[11]=d,r[12]=l):l=r[12],(0,o.useEffect)(x,l),r[13]!==c||r[14]!==s||r[15]!==v?(a=(0,u.jsx)(d4,{value:{cachingEnabled:c,clearRouteCache:v},children:s}),r[13]=c,r[14]=s,r[15]=v,r[16]=a):a=r[16],a},d9=()=>(0,o.use)(d4),d7=e=>{let{type:t="submit",buttonId:n,children:l,disabled:a,onClick:o,programmaticSubmit:r,ref:i}=e,s=eA(),c=eR(),d=eO(),{disabled:p,submit:h}=eE();return(0,u.jsx)("div",{className:"form-submit",children:(0,u.jsx)(tP,{ref:i,...e,disabled:!!(a||d||s||c||p)||void 0,id:n,onClick:null!=o?o:r?()=>{h()}:void 0,type:t,children:l})})},pe="drawer-action-header",pt=e=>{let t=(0,f.c)(10),{cancelLabel:n,className:l,onCancel:a,onSave:o,saveLabel:r,title:i}=e,{t:c}=(0,s.d)(),d;t[0]!==l?(d=[pe,l].filter(Boolean),t[0]=l,t[1]=d):d=t[1];let p=d.join(" "),h;return t[2]!==n||t[3]!==a||t[4]!==o||t[5]!==r||t[6]!==c||t[7]!==p||t[8]!==i?(h=(0,u.jsx)("div",{className:p,children:(0,u.jsxs)("div",{className:"".concat(pe,"__content"),children:[(0,u.jsx)("h1",{className:"".concat(pe,"__title"),children:i}),(0,u.jsxs)("div",{className:"".concat(pe,"__actions"),children:[(0,u.jsx)(tP,{"aria-label":c("general:cancel"),buttonStyle:"secondary",onClick:a,children:n||c("general:cancel")}),(0,u.jsx)(d7,{"aria-label":c("general:applyChanges"),onClick:o,children:r||c("general:applyChanges")})]})]})}),t[2]=n,t[3]=a,t[4]=o,t[5]=r,t[6]=c,t[7]=p,t[8]=i,t[9]=h):h=t[9],h};function pn(e){let{children:t,className:n}=e;return(0,u.jsx)("div",{className:["drawer-content-container",n].filter(Boolean).join(" "),children:t})}var pl="create-new-doc-in-folder";function pa(e){let t,n=(0,f.c)(22),{buttonLabel:l,collectionSlugs:a,folderAssignedCollections:r,onCreateSuccess:c,slugPrefix:p}=e,h="".concat(p,"-new-doc-in-folder-drawer"),{i18n:m}=(0,s.d)(),{closeModal:g,openModal:v}=nN(),{config:b}=(0,i.b)(),{folderCollectionConfig:y,folderCollectionSlug:x,folderFieldName:w,folderID:C}=d5(),j;n[0]!==x?(j={collectionSlug:x},n[0]=x,n[1]=j):j=n[1];let[S,,_]=cL(j),{closeDrawer:k,openDrawer:N}=_,[E,P]=o.useState(),D;n[2]!==a||n[3]!==b?(D=()=>a.reduce((e,t)=>{let n=b.collections.find(e=>{let{slug:n}=e;return n===t});return n&&e.push(n),e},[]),n[2]=a,n[3]=b,n[4]=D):D=n[4];let[T]=o.useState(D);return 0===T.length?null:(n[5]!==S||n[6]!==l||n[7]!==k||n[8]!==g||n[9]!==a||n[10]!==E||n[11]!==T||n[12]!==r||n[13]!==y.slug||n[14]!==w||n[15]!==C||n[16]!==m||n[17]!==h||n[18]!==c||n[19]!==N||n[20]!==v?(t=(0,u.jsxs)(o.Fragment,{children:[1===T.length?(0,u.jsx)(tP,{buttonStyle:"pill",className:"".concat(pl,"__button"),el:"div",onClick:()=>{T[0].slug===y.slug?N():(P(T[0].slug),v(h))},size:"small",children:l}):(0,u.jsx)(t_,{button:(0,u.jsx)(tP,{buttonStyle:"pill",className:"".concat(pl,"__popup-button"),el:"div",icon:"chevron",size:"small",children:l}),buttonType:"default",className:"".concat(pl,"__action-popup"),children:(0,u.jsx)(ts.ButtonGroup,{children:T.map((e,t)=>(0,u.jsx)(ts.Button,{onClick:()=>{e.slug===y.slug?N():(P(e.slug),v(h))},children:(0,d.s)(e.labels.singular,m)},t))})}),E&&(0,u.jsx)(cR,{collectionSlug:E,drawerSlug:h,initialData:{[w]:C},onSave:async e=>{let{doc:t}=e;await c({collectionSlug:E,doc:t}),g(h)},redirectAfterCreate:!1}),a.includes(y.slug)&&(0,u.jsx)(S,{initialData:{[w]:C,folderType:E?r||[E]:r},onSave:async e=>{await c({collectionSlug:y.slug,doc:e.doc}),k()},redirectAfterCreate:!1})]}),n[5]=S,n[6]=l,n[7]=k,n[8]=g,n[9]=a,n[10]=E,n[11]=T,n[12]=r,n[13]=y.slug,n[14]=w,n[15]=C,n[16]=m,n[17]=h,n[18]=c,n[19]=N,n[20]=v,n[21]=t):t=n[21],t)}var po="no-results";function pr(e){let{Actions:t,Message:n}=e;return(0,u.jsxs)("div",{className:po,children:[n,t&&t.length>0&&(0,u.jsx)("div",{className:"".concat(po,"__actions"),children:t.map((e,t)=>(0,u.jsx)(o.Fragment,{children:e},t))})]})}var pi=e=>{let{elements:t,translationString:n}=e,l=n.split(/(<[^>]+>.*?<\/[^>]+>)/g);return(0,u.jsx)("span",{children:l.map((e,n)=>{if(t&&e.startsWith("<")&&e.endsWith(">")){let l=e[1],a=t[l];if(a){let t=RegExp("<".concat(l,">(.*?)</").concat(l,">"),"g"),o=e.replace(t,(e,t)=>t);return(0,u.jsx)(a,{children:(0,u.jsx)(pi,{translationString:o})},n)}}return e})})},ps=e=>{let{elements:t,i18nKey:n,t:l,variables:a}=e,o=l(n,a||{});return t?(0,u.jsx)(pi,{elements:t,translationString:o}):o},pc="folderBreadcrumbs";function pu(e){let{breadcrumbs:t,className:n}=e;return(0,u.jsx)("div",{className:"".concat(pc," ").concat(n||"").trim(),children:null==t?void 0:t.map((e,n)=>(0,u.jsxs)("div",{className:"".concat(pc,"__crumb"),children:[e.onClick?(0,u.jsx)(pd,{className:"".concat(pc,"__crumb-item"),id:e.id,onClick:e.onClick,children:e.name}):e.name,t.length>0&&n!==t.length-1&&(0,u.jsx)(tl,{className:"".concat(pc,"__crumb-chevron"),direction:"right"})]},n))})}function pd(e){let t,n=(0,f.c)(13),{id:l,children:a,className:o,onClick:r}=e,i="folder-".concat(l),s;n[0]!==l?(s={id:l,type:"folder"},n[0]=l,n[1]=s):s=n[1],n[2]!==i||n[3]!==s?(t={id:i,data:s},n[2]=i,n[3]=s,n[4]=t):t=n[4];let{isOver:c,setNodeRef:d}=(0,g.zM)(t),p=c&&"droppable-button--hover",h;n[5]!==o||n[6]!==p?(h=["droppable-button",o,p].filter(Boolean),n[5]=o,n[6]=p,n[7]=h):h=n[7];let m=h.join(" "),v;return n[8]!==a||n[9]!==r||n[10]!==d||n[11]!==m?(v=(0,u.jsx)("button",{className:m,onClick:r,ref:d,type:"button",children:a}),n[8]=a,n[9]=r,n[10]=d,n[11]=m,n[12]=v):v=n[12],v}function pp(){return(0,u.jsx)(d3,{className:"colored-folder-icon"})}var ph="move-folder-drawer",pf="".concat("move-folder-drawer","-confirm-move");function pm(e){return(0,u.jsx)(ls,{gutter:!1,Header:null,slug:e.drawerSlug,children:(0,u.jsx)(pg,{...e})})}function pg(e){var t;let{permissions:n}=lx(),[l,a]=o.useState([]),[r,i]=o.useState([]),[s,c]=o.useState([]),[d,p]=o.useState(null),[h,f]=o.useState(!1),[m,g]=o.useState(e.fromFolderID||null),v=o.useRef(!1),{getFolderResultsComponentAndData:b}=cr(),y=o.useCallback(async t=>{try{let n=await b({browseByFolder:!1,collectionsToDisplay:[e.folderCollectionSlug],displayAs:"grid",folderAssignedCollections:e.folderAssignedCollections,folderID:t,sort:"name"});c(n.breadcrumbs||[]),a((null==n?void 0:n.subfolders)||[]),i((null==n?void 0:n.documents)||[]),p(n.FolderResultsComponent||null),g(t),f(!0)}catch(e){c([]),a([]),i([])}v.current=!0},[b,e.folderAssignedCollections,e.folderCollectionSlug]);return o.useEffect(()=>{v.current||y(e.fromFolderID)},[y,e.fromFolderID]),h?(0,u.jsx)(d6,{allCollectionFolderSlugs:[e.folderCollectionSlug],allowCreateCollectionSlugs:(null==(t=n.collections[e.folderCollectionSlug])?void 0:t.create)?[e.folderCollectionSlug]:[],allowMultiSelection:!1,breadcrumbs:s,documents:r,folderFieldName:e.folderFieldName,folderID:m,FolderResultsComponent:d,onItemClick:async e=>{await y(e.value.id)},subfolders:l,children:(0,u.jsx)(pv,{...e,populateMoveToFolderDrawer:y})},m):(0,u.jsx)(cC,{})}function pv(e){var t,n,l;let a,r,i,c,p=(0,f.c)(34),{drawerSlug:h,fromFolderID:m,fromFolderName:g,itemsToMove:v,onConfirm:b,populateMoveToFolderDrawer:y,skipConfirmModal:x,...w}=e,{clearRouteCache:C}=d9(),{closeModal:j,isModalOpen:S,openModal:_}=nN(),k;p[0]!==v?(k=()=>v.length,p[0]=v,p[1]=k):k=p[1];let[N]=o.useState(k),[E,P]=o.useState(!1),{i18n:D,t:T}=(0,s.d)(),{breadcrumbs:A,folderCollectionConfig:R,folderCollectionSlug:L,folderFieldName:O,folderID:F,FolderResultsComponent:I,folderType:M,getSelectedItems:B,subfolders:U}=d5(),V;p[2]!==L?(V={collectionSlug:L},p[2]=L,p[3]=V):V=p[3];let[H,,q]=cL(V),{closeDrawer:W,openDrawer:K}=q,Y;p[4]!==A||p[5]!==B?(Y=()=>{let e=B();if(0!==e.length)return{id:e[0].value.id,name:e[0].value._folderOrDocumentTitle};{let e=null==A?void 0:A[A.length-1];return{id:(null==e?void 0:e.id)||null,name:(null==e?void 0:e.name)||null}}},p[4]=A,p[5]=B,p[6]=Y):Y=p[6];let G=Y,Q;p[7]!==L||p[8]!==F||p[9]!==m||p[10]!==y?(Q=async e=>{let{collectionSlug:t,doc:n}=e;await y(F),t!==L||(null==n||!n.folder||m!==(0,z.r)(null==n?void 0:n.folder))&&(m||(null==n?void 0:n.folder))||P(!0)},p[7]=L,p[8]=F,p[9]=m,p[10]=y,p[11]=Q):Q=p[11];let X=Q,$;p[12]!==G||p[13]!==b?($=()=>{"function"==typeof b&&b(G())},p[12]=G,p[13]=b,p[14]=$):$=p[14];let Z=$,J,ee;return p[15]!==C||p[16]!==h||p[17]!==E||p[18]!==S?(J=()=>{!S(h)&&E&&(P(!1),C())},ee=[h,S,C,E],p[15]=C,p[16]=h,p[17]=E,p[18]=S,p[19]=J,p[20]=ee):(J=p[19],ee=p[20]),o.useEffect(J,ee),p[21]!==j||p[22]!==h?(a=()=>{j(h)},p[21]=j,p[22]=h,p[23]=a):a=p[23],p[24]!==Z||p[25]!==_||p[26]!==x?(r=()=>{x?Z():_(pf)},p[24]=Z,p[25]=_,p[26]=x,p[27]=r):r=p[27],p[28]!==A.length||p[29]!==y?(i=A.length?()=>{y(null)}:void 0,p[28]=A.length,p[29]=y,p[30]=i):i=p[30],p[31]!==A.length||p[32]!==y?(c=(e,t)=>({id:e.id,name:e.name,onClick:t!==A.length-1?()=>{y(e.id)}:void 0}),p[31]=A.length,p[32]=y,p[33]=c):c=p[33],(0,u.jsxs)("div",{className:ph,children:[(0,u.jsx)(pt,{onCancel:a,onSave:r,saveLabel:T("general:select"),title:(0,u.jsx)(pb,{action:w.action,count:N,fromFolderName:m?g:void 0,title:"moveItemToFolder"===w.action?w.title:void 0})}),(0,u.jsxs)("div",{className:"".concat(ph,"__breadcrumbs-section"),children:[(0,u.jsx)(pu,{breadcrumbs:[{id:null,name:(0,u.jsxs)("span",{className:"".concat(ph,"__folder-breadcrumbs-root"),children:[(0,u.jsx)(pp,{}),T("folder:folders")]}),onClick:i},...A.map(c)]}),U.length>0&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tP,{buttonStyle:"pill",className:"".concat(ph,"__add-folder-button"),margin:!1,onClick:()=>{K()},children:T("fields:addLabel",{label:(0,d.s)(null==(t=R.labels)?void 0:t.singular,D)})}),(0,u.jsx)(H,{initialData:{[O]:F,folderType:M},onSave:e=>{X({collectionSlug:R.slug,doc:e.doc}),W()},redirectAfterCreate:!1})]})]}),(0,u.jsx)(pn,{className:"".concat(ph,"__body-section"),children:U.length>0?I:(0,u.jsx)(pr,{Actions:[(0,u.jsx)(pa,{buttonLabel:"".concat(T("general:create")," ").concat((0,d.s)(null==(n=R.labels)?void 0:n.singular,D).toLowerCase()),collectionSlugs:[L],folderAssignedCollections:w.folderAssignedCollections,onCreateSuccess:X,slugPrefix:"create-new-folder-from-drawer--no-results"},"create-folder")],Message:(0,u.jsx)("p",{children:D.t("general:noResults",{label:"".concat((0,d.s)(null==(l=R.labels)?void 0:l.plural,D))})})})}),!x&&(0,u.jsx)(lh,{body:(0,u.jsx)(py,{action:w.action,count:N,fromFolderName:g,title:"moveItemToFolder"===w.action?w.title:void 0,toFolderName:G().name}),confirmingLabel:T("general:moving"),confirmLabel:T("general:move"),heading:T("general:confirmMove"),modalSlug:pf,onConfirm:Z})]})}function pb(e){let t=(0,f.c)(14),{t:n}=(0,s.d)();switch(e.action){case"moveItemToFolder":if(e.fromFolderName){let l;return t[0]!==e.fromFolderName||t[1]!==e.title||t[2]!==n?(l=n("folder:movingFromFolder",{fromFolder:e.fromFolderName,title:e.title}),t[0]=e.fromFolderName,t[1]=e.title,t[2]=n,t[3]=l):l=t[3],l}{let l;return t[4]!==e.title||t[5]!==n?(l=n("folder:selectFolderForItem",{title:e.title}),t[4]=e.title,t[5]=n,t[6]=l):l=t[6],l}case"moveItemsToFolder":if(e.fromFolderName){let l="".concat(e.count," ").concat(n(e.count>1?"general:items":"general:item")),a;return t[7]!==e.fromFolderName||t[8]!==n||t[9]!==l?(a=n("folder:movingFromFolder",{fromFolder:e.fromFolderName,title:l}),t[7]=e.fromFolderName,t[8]=n,t[9]=l,t[10]=a):a=t[10],a}{let l="".concat(e.count," ").concat(n(e.count>1?"general:items":"general:item")),a;return t[11]!==n||t[12]!==l?(a=n("folder:selectFolderForItem",{title:l}),t[11]=n,t[12]=l,t[13]=a):a=t[13],a}}}function py(e){let t=(0,f.c)(14),{t:n}=(0,s.d)();switch(e.action){case"moveItemToFolder":if(e.toFolderName){let l;return t[0]!==e.title||t[1]!==e.toFolderName||t[2]!==n?(l=(0,u.jsx)(ps,{elements:{1:p_,2:pS},i18nKey:"folder:moveItemToFolderConfirmation",t:n,variables:{title:e.title,toFolder:e.toFolderName}}),t[0]=e.title,t[1]=e.toFolderName,t[2]=n,t[3]=l):l=t[3],l}{let l;return t[4]!==e.title||t[5]!==n?(l=(0,u.jsx)(ps,{elements:{1:pj},i18nKey:"folder:moveItemToRootConfirmation",t:n,variables:{title:e.title}}),t[4]=e.title,t[5]=n,t[6]=l):l=t[6],l}case"moveItemsToFolder":if(e.toFolderName){let l;return t[7]!==e.count||t[8]!==e.toFolderName||t[9]!==n?(l=(0,u.jsx)(ps,{elements:{1:pC,2:pw},i18nKey:"folder:moveItemsToFolderConfirmation",t:n,variables:{count:e.count,label:n(e.count>1?"general:items":"general:item"),toFolder:e.toFolderName}}),t[7]=e.count,t[8]=e.toFolderName,t[9]=n,t[10]=l):l=t[10],l}{let l;return t[11]!==e.count||t[12]!==n?(l=(0,u.jsx)(ps,{elements:{1:px},i18nKey:"folder:moveItemsToRootConfirmation",t:n,variables:{count:e.count,label:n(e.count>1?"general:items":"general:item")}}),t[11]=e.count,t[12]=n,t[13]=l):l=t[13],l}}}function px(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function pw(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function pC(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function pj(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function pS(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function p_(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function pk(e){let t=(0,f.c)(29),{buttonProps:n,className:l,folderCollectionSlug:a,folderFieldName:r}=e,c=void 0===l?"":l,{t:d}=(0,s.d)(),p=eF(pN),h;t[0]!==r?(h=e=>{let[t]=e;return t&&(null==t?void 0:t[r])||null},t[0]=r,t[1]=h):h=t[1];let m=eF(h),g=null==m?void 0:m.value,{id:v,collectionSlug:b,initialData:y,title:x}=aD(),{setModified:w}=eE(),C;t[2]!==d?(C=()=>"".concat(d("general:loading"),"..."),t[2]=d,t[3]=C):C=t[3];let[j,S]=o.useState(C),{config:_}=(0,i.b)(),k=(0,o.useId)(),N,E;t[4]!==_.routes.api||t[5]!==a||t[6]!==g||t[7]!==d?(N=()=>{!async function(){if(g&&("string"==typeof g||"number"==typeof g)){let e=await (await fetch("".concat(_.routes.api,"/").concat(a,"/").concat(g))).json();S((null==e?void 0:e.name)||d("folder:noFolder"))}else S(d("folder:noFolder"))}()},E=[a,_.routes.api,g,d],t[4]=_.routes.api,t[5]=a,t[6]=g,t[7]=d,t[8]=N,t[9]=E):(N=t[8],E=t[9]),o.useEffect(N,E);let P="move-to-folder-".concat(k),D;t[10]!==m||t[11]!==p||t[12]!==r||t[13]!==w?(D=e=>{let{id:t}=e;m.value!==t&&(p({type:"UPDATE",path:r,value:t}),w(!0))},t[10]=m,t[11]=p,t[12]=r,t[13]=w,t[14]=D):D=t[14];let T=!(null==m?void 0:m.value),A;return t[15]!==n||t[16]!==c||t[17]!==b||t[18]!==a||t[19]!==r||t[20]!==g||t[21]!==j||t[22]!==v||t[23]!==y||t[24]!==P||t[25]!==D||t[26]!==T||t[27]!==x?(A=(0,u.jsx)(pE,{buttonProps:n,className:c,collectionSlug:b,docData:y,docID:v,docTitle:x,folderCollectionSlug:a,folderFieldName:r,fromFolderID:g,fromFolderName:j,modalSlug:P,onConfirm:D,skipConfirmModal:T}),t[15]=n,t[16]=c,t[17]=b,t[18]=a,t[19]=r,t[20]=g,t[21]=j,t[22]=v,t[23]=y,t[24]=P,t[25]=D,t[26]=T,t[27]=x,t[28]=A):A=t[28],A}function pN(e){let[,t]=e;return t}var pE=e=>{let t=(0,f.c)(22),{buttonProps:n,className:l,collectionSlug:a,docData:o,docID:r,docTitle:c,folderCollectionSlug:p,folderFieldName:h,fromFolderID:m,fromFolderName:g,modalSlug:v,onConfirm:b,skipConfirmModal:y}=e,{getEntityConfig:x}=(0,i.b)(),{i18n:w,t:C}=(0,s.d)(),{closeModal:j,openModal:S}=nN(),_=ld(),k;if(t[0]!==n||t[1]!==l||t[2]!==j||t[3]!==a||t[4]!==o||t[5]!==r||t[6]!==c||t[7]!==_||t[8]!==p||t[9]!==h||t[10]!==m||t[11]!==g||t[12]!==x||t[13]!==w||t[14]!==v||t[15]!==b||t[16]!==S||t[17]!==y||t[18]!==C){let e=lr({slug:v,depth:_}),i=c||(0,d.s)(x({collectionSlug:a}).labels.singular,w),s;t[20]!==l?(s=["move-doc-to-folder",l].filter(Boolean),t[20]=l,t[21]=s):s=t[21],k=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tP,{buttonStyle:"subtle",className:s.join(" "),icon:(0,u.jsx)(d3,{}),iconPosition:"left",onClick:()=>{S(e)},...n,children:g}),(0,u.jsx)(pm,{action:"moveItemToFolder",drawerSlug:e,folderAssignedCollections:[a],folderCollectionSlug:p,folderFieldName:h,fromFolderID:m,fromFolderName:g,itemsToMove:[{itemKey:"".concat(a,"-").concat(r),relationTo:a,value:{...o,id:r}}],onConfirm:async t=>{if(m!==t.id&&"function"==typeof b)try{await b(t),t.id?eZ.success(C("folder:itemHasBeenMoved",{folderName:'"'.concat(t.name,'"'),title:i})):eZ.success(C("folder:itemHasBeenMovedToRoot",{title:i}))}catch(e){}j(e)},skipConfirmModal:y,title:i})]}),t[0]=n,t[1]=l,t[2]=j,t[3]=a,t[4]=o,t[5]=r,t[6]=c,t[7]=_,t[8]=p,t[9]=h,t[10]=m,t[11]=g,t[12]=x,t[13]=w,t[14]=v,t[15]=b,t[16]=S,t[17]=y,t[18]=C,t[19]=k}else k=t[19];return k},pP={x:0,y:0,width:0,height:0,unit:"px"},pD=(e,t,n)=>Math.min(Math.max(e,t),n),pT=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>e&&"string"==typeof e).join(" ")},pA=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function pR(e,t,n){return"%"===e.unit?{...pP,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function pL(e,t,n){return e.unit?"px"===e.unit?{...pP,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...pP,...e,unit:"px"}}function pO(e,t,n,l,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:l,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:a,c={...e},u=Math.min(o,l),d=Math.min(r,a),p=Math.min(i,l),h=Math.min(s,a);t&&(t>1?(d=(u=r?r*t:u)/t,p=i*t):(u=(d=o?o/t:d)*t,h=s/t)),c.y<0&&(c.height=Math.max(c.height+c.y,d),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,u),c.x=0);let f=l-(c.x+c.width);f<0&&(c.x=Math.min(c.x,l-u),c.width+=f);let m=a-(c.y+c.height);if(m<0&&(c.y=Math.min(c.y,a-d),c.height+=m),c.width<u&&(("sw"===n||"nw"==n)&&(c.x-=u-c.width),c.width=u),c.height<d&&(("nw"===n||"ne"==n)&&(c.y-=d-c.height),c.height=d),c.width>p&&(("sw"===n||"nw"==n)&&(c.x-=p-c.width),c.width=p),c.height>h&&(("nw"===n||"ne"==n)&&(c.y-=h-c.height),c.height=h),t){let e=c.width/c.height;if(e<t){let e=Math.max(c.width/t,d);("nw"===n||"ne"==n)&&(c.y-=e-c.height),c.height=e}else if(e>t){let e=Math.max(c.height*t,u);("sw"===n||"nw"==n)&&(c.x-=e-c.width),c.width=e}}return c}var pF={capture:!0,passive:!1},pI=class e extends o.PureComponent{get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:t,y:n,width:l,height:a}=e.getBoundingClientRect();return{x:t,y:n,width:l,height:a}}componentDidUpdate(e){let{crop:t,onComplete:n}=this.props;if(n&&!e.crop&&t){let{width:e,height:l}=this.getBox();e&&l&&n(pL(t,e,l),pR(t,e,l))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,pF),this.document.addEventListener("pointerup",this.onDocPointerDone,pF),this.document.addEventListener("pointercancel",this.onDocPointerDone,pF),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,pF),this.document.removeEventListener("pointerup",this.onDocPointerDone,pF),this.document.removeEventListener("pointercancel",this.onDocPointerDone,pF),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:"".concat(e.y).concat(e.unit),left:"".concat(e.x).concat(e.unit),width:"".concat(e.width).concat(e.unit),height:"".concat(e.height).concat(e.unit)}}dragCrop(){let{evData:e}=this,t=this.getBox(),n=this.makePixelCrop(t),l=e.clientX-e.startClientX,a=e.clientY-e.startClientY;return n.x=pD(e.startCropX+l,0,t.width-n.width),n.y=pD(e.startCropY+a,0,t.height-n.height),n}getPointRegion(e,t,n,l){let{evData:a}=this,o=a.clientX-e.x,r=a.clientY-e.y,i;return i=l&&t?"nw"===t||"n"===t||"ne"===t:r<a.startCropY,(n&&t?"nw"===t||"w"===t||"sw"===t:o<a.startCropX)?i?"nw":"sw":i?"ne":"se"}resolveMinDimensions(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=Math.min(n,e.width),o=Math.min(l,e.height);return t&&(a||o)?t>1?a?[a,a/t]:[o*t,o]:o?[o*t,o]:[a,a/t]:[a,o]}resizeCrop(){let{evData:t}=this,{aspect:n=0,maxWidth:l,maxHeight:a}=this.props,o=this.getBox(),[r,i]=this.resolveMinDimensions(o,n,this.props.minWidth,this.props.minHeight),s=this.makePixelCrop(o),c=this.getPointRegion(o,t.ord,r,i),u=t.ord||c,d=t.clientX-t.startClientX,p=t.clientY-t.startClientY;(r&&"nw"===u||"w"===u||"sw"===u)&&(d=Math.min(d,-r)),(i&&"nw"===u||"n"===u||"ne"===u)&&(p=Math.min(p,-i));let h={unit:"px",x:0,y:0,width:0,height:0};"ne"===c?(h.x=t.startCropX,h.width=d,n?h.height=h.width/n:h.height=Math.abs(p),h.y=t.startCropY-h.height):"se"===c?(h.x=t.startCropX,h.y=t.startCropY,h.width=d,n?h.height=h.width/n:h.height=p):"sw"===c?(h.x=t.startCropX+d,h.y=t.startCropY,h.width=Math.abs(d),n?h.height=h.width/n:h.height=p):"nw"===c&&(h.x=t.startCropX+d,h.width=Math.abs(d),n?(h.height=h.width/n,h.y=t.startCropY-h.height):(h.height=Math.abs(p),h.y=t.startCropY+p));let f=pO(h,n,c,o.width,o.height,r,i,l,a);return n||e.xyOrds.indexOf(u)>-1?s=f:e.xOrds.indexOf(u)>-1?(s.x=f.x,s.width=f.width):e.yOrds.indexOf(u)>-1&&(s.y=f.y,s.height=f.height),s.x=pD(s.x,0,o.width-s.width),s.y=pD(s.y,0,o.height-s.height),s}createCropSelection(){let{ariaLabels:t=e.defaultProps.ariaLabels,disabled:n,locked:l,renderSelectionAddon:a,ruleOfThirds:r,crop:i}=this.props,s=this.getCropStyle();if(i)return o.createElement("div",{style:s,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!l&&o.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},o.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),o.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),o.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),o.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"nw"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"n"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"ne"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"e"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"se"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"s"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"sw"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"w"),role:"button"})),a&&o.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:e=>e.stopPropagation()},a(this.state)),r&&o.createElement(o.Fragment,null,o.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),o.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){return pL({...pP,...this.props.crop||{}},e.width,e.height)}render(){let{aspect:e,children:t,circularCrop:n,className:l,crop:a,disabled:r,locked:i,style:s,ruleOfThirds:c}=this.props,{cropIsActive:u,newCropIsBeingDrawn:d}=this.state,p=a?this.createCropSelection():null,h=pT("ReactCrop",l,u&&"ReactCrop--active",r&&"ReactCrop--disabled",i&&"ReactCrop--locked",d&&"ReactCrop--new-crop",a&&e&&"ReactCrop--fixed-aspect",a&&n&&"ReactCrop--circular-crop",a&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&a&&!a.width&&!a.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return o.createElement("div",{ref:this.componentRef,className:h,style:s},o.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),p)}constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=(0,o.createRef)(),this.mediaRef=(0,o.createRef)(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:t,disabled:n}=this.props,l=this.getBox();if(!t)return;let a=pL(t,l.width,l.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let o=e.target.dataset.ord,r=e.clientX,i=e.clientY,s=a.x,c=a.y;if(o){let t=e.clientX-l.x,n=e.clientY-l.y,u=0,d=0;"ne"===o||"e"==o?(u=t-(a.x+a.width),d=n-a.y,s=a.x,c=a.y+a.height):"se"===o||"s"===o?(u=t-(a.x+a.width),d=n-(a.y+a.height),s=a.x,c=a.y):"sw"===o||"w"==o?(u=t-a.x,d=n-(a.y+a.height),s=a.x+a.width,c=a.y):("nw"===o||"n"==o)&&(u=t-a.x,d=n-a.y,s=a.x+a.width,c=a.y+a.height),r=s+l.x+u,i=c+l.y+d}this.evData={startClientX:r,startClientY:i,startCropX:s,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!!o,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:t,disabled:n,locked:l,keepSelection:a,onChange:o}=this.props,r=this.getBox();if(n||l||a&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let i=e.clientX-r.x,s=e.clientY-r.y,c={unit:"px",x:i,y:s,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:i,startCropY:s,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(pL(c,r.width,r.height),pR(c,r.width,r.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let t,{crop:n,disabled:l,onChange:a,onDragStart:o}=this.props,r=this.getBox();if(l||!n||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,o&&o(e));let{evData:i}=this;i.clientX=e.clientX,i.clientY=e.clientY,pA(n,t=i.isResize?this.resizeCrop():this.dragCrop())||a(pL(t,r.width,r.height),pR(t,r.width,r.height))},this.onComponentKeyDown=t=>{let{crop:n,disabled:l,onChange:a,onComplete:o}=this.props;if(l)return;let r=t.key,i=!1;if(!n)return;let s=this.getBox(),c=this.makePixelCrop(s),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep;if("ArrowLeft"===r?(c.x-=u,i=!0):"ArrowRight"===r?(c.x+=u,i=!0):"ArrowUp"===r?(c.y-=u,i=!0):"ArrowDown"===r&&(c.y+=u,i=!0),i){t.cancelable&&t.preventDefault(),c.x=pD(c.x,0,s.width-c.width),c.y=pD(c.y,0,s.height-c.height);let e=pL(c,s.width,s.height),n=pR(c,s.width,s.height);a(e,n),o&&o(e,n)}},this.onHandlerKeyDown=(t,n)=>{let{aspect:l=0,crop:a,disabled:o,minWidth:r=0,minHeight:i=0,maxWidth:s,maxHeight:c,onChange:u,onComplete:d}=this.props,p=this.getBox();if(o||!a||"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return;t.stopPropagation(),t.preventDefault();let h=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep,f=pO(function(e,t,n,l){let a={...e};return"ArrowLeft"===t?"nw"===l?(a.x-=n,a.y-=n,a.width+=n,a.height+=n):"w"===l?(a.x-=n,a.width+=n):"sw"===l?(a.x-=n,a.width+=n,a.height+=n):"ne"===l?(a.y+=n,a.width-=n,a.height-=n):"e"===l?a.width-=n:"se"===l&&(a.width-=n,a.height-=n):"ArrowRight"===t&&("nw"===l?(a.x+=n,a.y+=n,a.width-=n,a.height-=n):"w"===l?(a.x+=n,a.width-=n):"sw"===l?(a.x+=n,a.width-=n,a.height-=n):"ne"===l?(a.y-=n,a.width+=n,a.height+=n):"e"===l?a.width+=n:"se"===l&&(a.width+=n,a.height+=n)),"ArrowUp"===t?"nw"===l?(a.x-=n,a.y-=n,a.width+=n,a.height+=n):"n"===l?(a.y-=n,a.height+=n):"ne"===l?(a.y-=n,a.width+=n,a.height+=n):"sw"===l?(a.x+=n,a.width-=n,a.height-=n):"s"===l?a.height-=n:"se"===l&&(a.width-=n,a.height-=n):"ArrowDown"===t&&("nw"===l?(a.x+=n,a.y+=n,a.width-=n,a.height-=n):"n"===l?(a.y+=n,a.height-=n):"ne"===l?(a.y+=n,a.width-=n,a.height-=n):"sw"===l?(a.x-=n,a.width+=n,a.height+=n):"s"===l?a.height+=n:"se"===l&&(a.width+=n,a.height+=n)),a}(pL(a,p.width,p.height),t.key,h,n),l,n,p.width,p.height,r,i,s,c);if(!pA(a,f)){let e=pR(f,p.width,p.height);u(f,e),d&&d(f,e)}},this.onDocPointerDone=e=>{let{crop:t,disabled:n,onComplete:l,onDragEnd:a}=this.props,o=this.getBox();this.unbindDocMove(),!(n||!t)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,a&&a(e),l&&l(pL(t,o.width,o.height),pR(t,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var t;null==(t=this.componentRef.current)||t.scrollTo(0,0)}}};pI.xOrds=["e","w"],pI.yOrds=["n","s"],pI.xyOrds=["nw","ne","se","sw"],pI.nudgeStep=1,pI.nudgeStepMedium=10,pI.nudgeStepLarge=100,pI.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};var pM="edit-upload",pB=e=>{let{name:t,onChange:n,ref:l,value:a}=e;return(0,u.jsxs)("div",{className:"".concat(pM,"__input"),children:[t,(0,u.jsx)("input",{name:t,onChange:e=>n(e.target.value),ref:l,type:"number",value:a})]})},pz={height:100,unit:"%",width:100,x:0,y:0},pU=e=>{let{fileName:t,fileSrc:n,imageCacheTag:l,initialCrop:a,initialFocalPoint:r,onSave:i,showCrop:c,showFocalPoint:d}=e,{closeModal:p}=nN(),{t:h}=(0,s.d)(),[f,m]=(0,o.useState)(()=>({...pz,...a||{}})),g={x:50,y:50},[v,b]=(0,o.useState)(()=>({...g,...r})),[y,x]=(0,o.useState)(!1),[w,C]=(0,o.useState)(0),[j,S]=(0,o.useState)(0),_=(0,o.useRef)(void 0),k=(0,o.useRef)(void 0),N=(0,o.useRef)(void 0),E=(0,o.useRef)(null),P=(0,o.useRef)(null),[D,T]=(0,o.useState)(!1),A=e=>{C(e.currentTarget.naturalHeight),S(e.currentTarget.naturalWidth),T(!0)},R=e=>{let{dimension:t,value:n}=e,l=parseInt(n);if("width"===t&&l>=j||"height"===t&&l>=w)return null;let a=l/("width"===t?j:w)*100;if(100===a||0===a)return null;m({...f,[t]:a})},L=e=>{let{coordinate:t,value:n}=e,l=parseInt(n);l>=0&&l<=100&&b(e=>({...e,[t]:l}))},O=o.useCallback(e=>{let{x:t,y:n}=e;b({x:t,y:n}),x(!1)},[]),F=l?"".concat(n,"?").concat(encodeURIComponent(l)):n;return(0,u.jsxs)("div",{className:pM,children:[(0,u.jsxs)("div",{className:"".concat(pM,"__header"),children:[(0,u.jsxs)("h2",{title:"".concat(h("general:editing")," ").concat(t),children:[h("general:editing")," ",t]}),(0,u.jsxs)("div",{className:"".concat(pM,"__actions"),children:[(0,u.jsx)(tP,{"aria-label":h("general:cancel"),buttonStyle:"secondary",className:"".concat(pM,"__cancel"),onClick:()=>p(p3),children:h("general:cancel")}),(0,u.jsx)(tP,{"aria-label":h("general:applyChanges"),buttonStyle:"primary",className:"".concat(pM,"__save"),disabled:!D,onClick:()=>{var e,t,n,l;"function"==typeof i&&i({crop:f||void 0,focalPoint:v,heightInPixels:Number(null!=(n=null==E||null==(e=E.current)?void 0:e.value)?n:w),widthInPixels:Number(null!=(l=null==P||null==(t=P.current)?void 0:t.value)?l:j)}),p(p3)},children:h("general:applyChanges")})]})]}),(0,u.jsxs)("div",{className:"".concat(pM,"__toolWrap"),children:[(0,u.jsx)("div",{className:"".concat(pM,"__crop"),children:(0,u.jsxs)("div",{className:"".concat(pM,"__focal-wrapper"),ref:_,style:{aspectRatio:"".concat(j/w)},children:[c?(0,u.jsx)(pI,{className:"".concat(pM,"__reactCrop"),crop:f,onChange:(e,t)=>m(t),onComplete:()=>x(!0),renderSelectionAddon:()=>(0,u.jsx)("div",{className:"".concat(pM,"__crop-window"),ref:N}),children:(0,u.jsx)("img",{alt:h("upload:setCropArea"),onLoad:A,ref:k,src:F})}):(0,u.jsx)("img",{alt:h("upload:setFocalPoint"),onLoad:A,ref:k,src:F}),d&&(0,u.jsx)(pV,{boundsRef:c?N:k,checkBounds:!!c&&y,className:"".concat(pM,"__focalPoint"),containerRef:_,initialPosition:v,onDragEnd:O,setCheckBounds:!!c&&x,children:(0,u.jsx)(tr,{})})]})}),(c||d)&&(0,u.jsxs)("div",{className:"".concat(pM,"__sidebar"),children:[c&&(0,u.jsxs)("div",{className:"".concat(pM,"__groupWrap"),children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"".concat(pM,"__titleWrap"),children:[(0,u.jsx)("h3",{children:h("upload:crop")}),(0,u.jsx)(tP,{buttonStyle:"none",className:"".concat(pM,"__reset"),onClick:()=>m({height:100,unit:"%",width:100,x:0,y:0}),children:h("general:reset")})]})}),(0,u.jsx)("span",{className:"".concat(pM,"__description"),children:h("upload:cropToolDescription")}),(0,u.jsxs)("div",{className:"".concat(pM,"__inputsWrap"),children:[(0,u.jsx)(pB,{name:"".concat(h("upload:width")," (px)"),onChange:e=>R({dimension:"width",value:e}),ref:P,value:(f.width/100*j).toFixed(0)}),(0,u.jsx)(pB,{name:"".concat(h("upload:height")," (px)"),onChange:e=>R({dimension:"height",value:e}),ref:E,value:(f.height/100*w).toFixed(0)})]})]}),d&&(0,u.jsxs)("div",{className:"".concat(pM,"__groupWrap"),children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"".concat(pM,"__titleWrap"),children:[(0,u.jsx)("h3",{children:h("upload:focalPoint")}),(0,u.jsx)(tP,{buttonStyle:"none",className:"".concat(pM,"__reset"),onClick:()=>{let e=_.current.getBoundingClientRect(),t=c?N.current.getBoundingClientRect():k.current.getBoundingClientRect();b({x:(t.left-e.left+t.width/2)/e.width*100,y:(t.top-e.top+t.height/2)/e.height*100})},children:h("general:reset")})]})}),(0,u.jsx)("span",{className:"".concat(pM,"__description"),children:h("upload:focalPointDescription")}),(0,u.jsxs)("div",{className:"".concat(pM,"__inputsWrap"),children:[(0,u.jsx)(pB,{name:"X %",onChange:e=>L({coordinate:"x",value:e}),value:v.x.toFixed(0)}),(0,u.jsx)(pB,{name:"Y %",onChange:e=>L({coordinate:"y",value:e}),value:v.y.toFixed(0)})]})]})]})]})]})},pV=e=>{let{boundsRef:t,checkBounds:n,children:l,className:a,containerRef:r,initialPosition:i={x:50,y:50},onDragEnd:s,setCheckBounds:c}=e,[d,p]=(0,o.useState)({x:i.x,y:i.y}),[h,f]=(0,o.useState)(!1),m=(0,o.useRef)(void 0),g=o.useCallback((e,n,l)=>{let a=r.current.getBoundingClientRect(),o=t.current.getBoundingClientRect(),i=null!=e?e:o.left,s=null!=n?n:o.top,c=i<o.left||i>o.right,u=s<o.top||s>o.bottom,d=(i-a.left)/a.width*100,p=(s-a.top)/a.height*100,h=(o.left-a.left+o.width/2)/a.width*100,m=(o.top-a.top+o.height/2)/a.height*100;return(c||u)&&(f(!1),i<o.left?d=(o.left-a.left)/a.width*100:i>o.right&&(d=(a.width-(a.right-o.right))/a.width*100),s<o.top?p=(o.top-a.top)/a.height*100:s>o.bottom&&(p=(a.height-(a.bottom-o.bottom))/a.height*100),l&&(d=c?h:d,p=u?m:p)),{x:d,y:p}},[t,r]);return o.useEffect(()=>{if(!(h||!m.current)&&n){let{height:e,left:t,top:n,width:l}=m.current.getBoundingClientRect(),{x:a,y:o}=g(t+l/2,n+e/2,!0);s({x:a,y:o}),p({x:a,y:o}),c(!1);return}},[g,h,n,c,d.x,d.y,s]),o.useEffect(()=>{p({x:i.x,y:i.y})},[i.x,i.y]),(0,u.jsxs)("div",{className:["".concat(pM,"__draggable-container"),h&&"".concat(pM,"__draggable-container--dragging")].filter(Boolean).join(" "),onMouseMove:e=>{if(!h)return null;let{x:t,y:n}=g(e.clientX,e.clientY);p({x:t,y:n})},children:[(0,u.jsx)("button",{className:["".concat(pM,"__draggable"),a].filter(Boolean).join(" "),onMouseDown:e=>{e.preventDefault(),f(!0)},onMouseUp:()=>{f(!1),s(d)},ref:m,style:{left:"".concat(d.x,"%"),top:"".concat(d.y,"%")},type:"button",children:l}),(0,u.jsx)("div",{})]})},pH="file-details-draggable",pq=e=>{let t,n=(0,f.c)(20),{collectionSlug:l,doc:a,hideRemoveFile:o,imageCacheTag:r,isSortable:i,removeItem:s,rowIndex:c,uploadConfig:d}=e,{id:p,filename:h,thumbnailURL:m,url:g}=a,v;n[0]!==l||n[1]!==p?(v={id:p,collectionSlug:l},n[0]=l,n[1]=p,n[2]=v):v=n[2];let[b,y]=cL(v),x;return n[3]!==b||n[4]!==y||n[5]!==l||n[6]!==a||n[7]!==h||n[8]!==o||n[9]!==r||n[10]!==i||n[11]!==s||n[12]!==c||n[13]!==m||n[14]!==d||n[15]!==g?(x=e=>(0,u.jsxs)("div",{className:[pH,e&&i&&"".concat(pH,"--has-drag-handle")].filter(Boolean).join(" "),ref:e.setNodeRef,style:{transform:e.transform,transition:e.transition,zIndex:e.isDragging?1:void 0},children:[(0,u.jsxs)("div",{className:"".concat(pH,"--drag-wrapper"),children:[i&&e&&(0,u.jsx)("div",{className:"".concat(pH,"__drag"),...e.attributes,...e.listeners,children:(0,u.jsx)(a3,{})}),(0,u.jsx)(cQ,{className:"".concat(pH,"__thumbnail"),collectionSlug:l,doc:a,fileSrc:m||g,imageCacheTag:r,uploadConfig:d})]}),(0,u.jsx)("div",{className:"".concat(pH,"__main-detail"),children:h}),(0,u.jsxs)("div",{className:"".concat(pH,"__actions"),children:[(0,u.jsx)(b,{}),(0,u.jsx)(y,{children:(0,u.jsx)(ta,{})}),!o&&s&&(0,u.jsx)(tP,{buttonStyle:"icon-label",className:"".concat(pH,"__remove"),icon:"x",iconStyle:"none",onClick:()=>s(c),round:!0})]})]}),n[3]=b,n[4]=y,n[5]=l,n[6]=a,n[7]=h,n[8]=o,n[9]=r,n[10]=i,n[11]=s,n[12]=c,n[13]=m,n[14]=d,n[15]=g,n[16]=x):x=n[16],n[17]!==p||n[18]!==x?(t=(0,u.jsx)(t9,{id:p,children:x},p),n[17]=p,n[18]=x,n[19]=t):t=n[19],t},pW=e=>{let t=(0,f.c)(11),{defaultMessage:n,successMessage:l,value:a}=e,[r,i]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!1),{t:p}=(0,s.d)();if(a){let e,o,s,h;return t[0]!==a?(e=async()=>{await navigator.clipboard.writeText(a),i(!0)},t[0]=a,t[1]=e):e=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{d(!0),i(!1)},s=()=>{d(!1),i(!1)},t[2]=o,t[3]=s):(o=t[2],s=t[3]),t[4]!==r||t[5]!==n||t[6]!==c||t[7]!==l||t[8]!==p||t[9]!==e?(h=(0,u.jsxs)("button",{className:"copy-to-clipboard",onClick:e,onMouseEnter:o,onMouseLeave:s,type:"button",children:[(0,u.jsx)(tO,{}),(0,u.jsxs)(tk,{delay:r?0:void 0,show:c||r,children:[r&&(null!=l?l:p("general:copied")),!r&&(null!=n?n:p("general:copy"))]})]}),t[4]=r,t[5]=n,t[6]=c,t[7]=l,t[8]=p,t[9]=e,t[10]=h):h=t[10],h}return null},pK="file-meta",pY=e=>{let{filename:t,filesize:n,height:l,mimeType:a,url:r,width:i}=e;return(0,u.jsxs)("div",{className:pK,children:[(0,u.jsxs)("div",{className:"".concat(pK,"__url"),children:[(0,u.jsx)("a",{href:r,rel:"noopener noreferrer",target:"_blank",children:t}),(0,u.jsx)(pW,{defaultMessage:"Copy URL",value:r})]}),(0,u.jsxs)("div",{className:"".concat(pK,"__size-type"),children:[(0,V.B)(n),"number"==typeof i&&"number"==typeof l&&(0,u.jsxs)(o.Fragment,{children:["\xa0-\xa0",i,"x",l]}),a&&(0,u.jsxs)(o.Fragment,{children:["\xa0-\xa0",a]})]})]})},pG="file-details",pQ=e=>{var t;let{customUploadActions:n,doc:l,enableAdjustments:a,handleRemove:o,hasImageSizes:r,hideRemoveFile:i,imageCacheTag:s,uploadConfig:c}=e,{filename:d,filesize:p,height:h,mimeType:f,thumbnailURL:m,url:g,width:v}=l,b=null==(t=c.displayPreview)||t;return(0,u.jsx)("div",{className:pG,children:(0,u.jsxs)("header",{children:[b&&(0,u.jsx)(cQ,{className:"".concat(pG,"__thumbnail"),doc:l,fileSrc:m||g,imageCacheTag:s,uploadConfig:c}),(0,u.jsxs)("div",{className:"".concat(pG,"__main-detail"),children:[(0,u.jsx)(pY,{filename:d,filesize:p,height:h,mimeType:f,url:g,width:v}),(a||r&&l.filename||n)&&(0,u.jsx)(p5,{customActions:n,enableAdjustments:!!a,enablePreviewSizes:r&&l.filename,mimeType:f})]}),!i&&o&&(0,u.jsx)(tP,{buttonStyle:"icon-label",className:"".concat(pG,"__remove"),icon:"x",iconStyle:"with-border",onClick:o,round:!0})]})})},pX=e=>{let{hasMany:t}=e;return t?(0,u.jsx)(pq,{...e}):(0,u.jsx)(pQ,{...e})},p$="preview-sizes",pZ=(e,t)=>{if(!t||0===t.length)return e;let n={};return t.forEach(t=>{let{name:l}=t;e[l]&&(n[l]=e[l])}),n},pJ=e=>{let{name:t,active:n,meta:l,onClick:a,previewSrc:o}=e;return(0,u.jsxs)("div",{className:["".concat(p$,"__sizeOption"),n&&"".concat(p$,"--selected")].filter(Boolean).join(" "),onClick:"function"==typeof a?a:void 0,onKeyDown:e=>{"function"==typeof a&&"Enter"===e.key&&a()},role:"button",tabIndex:0,children:[(0,u.jsx)("div",{className:"".concat(p$,"__image"),children:(0,u.jsx)("img",{alt:l.filename,src:o})}),(0,u.jsxs)("div",{className:"".concat(p$,"__sizeMeta"),children:[(0,u.jsx)("div",{className:"".concat(p$,"__sizeName"),children:t}),(0,u.jsx)(pY,{...l})]})]})},p0=e=>{let{doc:t,imageCacheTag:n,uploadConfig:l}=e,{imageSizes:a}=l,{sizes:r}=t,[i,s]=(0,o.useState)(()=>pZ(r,a)),[c,d]=(0,o.useState)(null),p=e=>e.filename?e.url?"".concat(e.url).concat(n?"?".concat(encodeURIComponent(n)):""):void 0:null;(0,o.useEffect)(()=>{s(pZ(r,a))},[r,a,n]);let h=p(c?t.sizes[c]:t),f=(0,o.useMemo)(()=>({filename:t.filename,filesize:t.filesize,height:t.height,mimeType:t.mimeType,url:t.url,width:t.width}),[t]),m="Original";return(0,u.jsxs)("div",{className:p$,children:[(0,u.jsxs)("div",{className:"".concat(p$,"__imageWrap"),children:[(0,u.jsxs)("div",{className:"".concat(p$,"__meta"),children:[(0,u.jsx)("div",{className:"".concat(p$,"__sizeName"),children:c||m}),(0,u.jsx)(pY,{...c?i[c]:f})]}),(0,u.jsx)("img",{alt:t.filename,className:"".concat(p$,"__preview"),src:h})]}),(0,u.jsx)("div",{className:"".concat(p$,"__listWrap"),children:(0,u.jsxs)("div",{className:"".concat(p$,"__list"),children:[(0,u.jsx)(pJ,{active:!c,meta:f,name:m,onClick:()=>d(null),previewSrc:p(t)}),Object.entries(i).map(e=>{let[t,n]=e,l=c===t,a=p(n);return a?(0,u.jsx)(pJ,{active:l,meta:n,name:t,onClick:()=>d(t),previewSrc:a},t):null})]})})]})},p1="file-field",p3="edit-upload",p2="preview-sizes",p6=e=>e||void 0===e?!e||!!e.name&&""!==e.name||"A file name is required.":"A file is required.",p5=e=>{let t=(0,f.c)(8),{customActions:n,enableAdjustments:l,enablePreviewSizes:a,mimeType:r}=e,{t:i}=(0,s.d)(),{openModal:c}=nN(),d,p;if(t[0]!==n||t[1]!==l||t[2]!==a||t[3]!==r||t[4]!==c||t[5]!==i){p=Symbol.for("react.early_return_sentinel");e:{let e=(0,E.w)(r)&&"image/svg+xml"!==r&&"image/jxl"!==r;if(!e&&(!n||0===n.length)){p=null;break e}d=(0,u.jsxs)("div",{className:"".concat(p1,"__upload-actions"),children:[e&&(0,u.jsxs)(o.Fragment,{children:[a&&(0,u.jsx)(tP,{buttonStyle:"pill",className:"".concat(p1,"__previewSizes"),margin:!1,onClick:()=>{c(p2)},size:"small",children:i("upload:previewSizes")}),l&&(0,u.jsx)(tP,{buttonStyle:"pill",className:"".concat(p1,"__edit"),margin:!1,onClick:()=>{c(p3)},size:"small",children:i("upload:editImage")})]}),n&&n.map(p9)]})}t[0]=n,t[1]=l,t[2]=a,t[3]=r,t[4]=c,t[5]=i,t[6]=d,t[7]=p}else d=t[6],p=t[7];return p!==Symbol.for("react.early_return_sentinel")?p:d},p4=e=>{let t=(0,f.c)(5),{resetUploadEdits:n,updateUploadEdits:l,uploadEdits:a}=aN(),o;return t[0]!==e||t[1]!==n||t[2]!==l||t[3]!==a?(o=(0,u.jsx)(dw,{children:(0,u.jsx)(p8,{...e,resetUploadEdits:n,updateUploadEdits:l,uploadEdits:a})}),t[0]=e,t[1]=n,t[2]=l,t[3]=a,t[4]=o):o=t[4],o},p8=e=>{var t,n,l,a,r,c;let{collectionSlug:d,customActions:p,initialState:h,onChange:f,resetUploadEdits:m,updateUploadEdits:g,uploadConfig:v,UploadControls:b,uploadEdits:y}=e,{setUploadControlFile:x,setUploadControlFileName:w,setUploadControlFileUrl:C,uploadControlFile:j,uploadControlFileName:S,uploadControlFileUrl:_}=dC(),{config:{routes:{api:k},serverURL:N}}=(0,i.b)(),{t:P}=(0,s.d)(),{setModified:D}=eE(),{id:T,data:A,docPermissions:R,setUploadStatus:L}=aD(),O=eA(),{errorMessage:F,setValue:I,showError:M,value:B}=aB({path:"file",validate:p6}),[z,U]=(0,o.useState)(null),[V,H]=(0,o.useState)(!1),[q,W]=(0,o.useState)((null==B?void 0:B.name)||""),[K,Y]=(0,o.useState)(!1),[G,Q]=(0,o.useState)(""),X=(0,o.useRef)(null),$=(0,o.useRef)(null),Z="object"==typeof(null==v?void 0:v.pasteURL)&&(null==(t=v.pasteURL.allowList)?void 0:t.length)>0,J=(0,o.useCallback)(e=>{let{file:t,isNewFile:n=!0}=e;n&&t instanceof File&&U(URL.createObjectURL(t)),I(t),Y(!1),C(""),w(null),x(null),"function"==typeof f&&f(t)},[f,I,x,w,C]),ee=o.useCallback(e=>{let t=e.target.value;B&&(J({file:((e,t)=>new File([e],t,{type:e.type,lastModified:e.lastModified}))(B,t),isNewFile:!1}),W(t))},[J,B]),et=(0,o.useCallback)(e=>{J({file:null==e?void 0:e[0]})},[J]),en=(0,o.useCallback)(()=>{H(!0),J({file:null}),U(""),Q(""),m(),Y(!1),C(""),w(null),x(null)},[J,m,x,w,C]),el=(0,o.useCallback)(e=>{D(!0),g(e)},[D,g]),ea=(0,o.useCallback)(async()=>{if(!(!G||(null==v?void 0:v.pasteURL)===!1)){L("uploading");try{let e=await fetch(G);if(!e.ok)throw Error("Fetch failed with status: ".concat(e.status));let t=await e.blob(),n=S||decodeURIComponent(G.split("/").pop()||""),l=new File([t],n,{type:t.type});J({file:l}),L("idle");return}catch(e){if(!Z){eZ.error("Failed to fetch the file."),L("failed");return}}try{let e="/".concat(d,"/paste-url").concat(T?"/".concat(T,"?"):"?","src=").concat(encodeURIComponent(G)),t=await fetch("".concat(N).concat(k).concat(e));if(!t.ok)throw Error("Fetch failed with status: ".concat(t.status));let n=await t.blob(),l=decodeURIComponent(G.split("/").pop()||""),a=new File([n],l,{type:n.type});J({file:a}),L("idle")}catch(e){eZ.error("The provided URL is not allowed."),L("failed")}}},[k,d,G,J,T,N,L,v,S,Z]);(0,o.useEffect)(()=>{var e;(null==h||null==(e=h.file)?void 0:e.value)instanceof File&&(U(URL.createObjectURL(h.file.value)),H(!1))},[h]),(0,o.useEffect)(()=>{K&&X.current},[K]),(0,o.useEffect)(()=>{O&&H(!1)},[O]);let eo=null==R?void 0:R.update,er=(null==v||null==(n=v.imageSizes)?void 0:n.length)>0,ei=!!(null==v?void 0:v.resizeOptions),es=(null==v?void 0:v.focalPoint)===!0,{crop:ec=!0,focalPoint:eu=!0}=v,ed=eu&&(er||ei||es),ep=null==(l=v.mimeTypes)?void 0:l.join(", "),eh=(null==v?void 0:v.cacheTags)&&(null==A?void 0:A.updatedAt);return(0,o.useEffect)(()=>{(async()=>{_&&(Q(_),await ea())})()},[_,ea]),(0,o.useEffect)(()=>{j&&J({file:j})},[j,J]),(0,u.jsxs)("div",{className:[aq,p1].filter(Boolean).join(" "),children:[(0,u.jsx)(na,{message:F,showError:M}),A&&A.filename&&!V&&(0,u.jsx)(pX,{collectionSlug:d,customUploadActions:p,doc:A,enableAdjustments:ec||ed,handleRemove:eo?en:void 0,hasImageSizes:er,hideRemoveFile:v.hideRemoveFile,imageCacheTag:eh,uploadConfig:v}),(!v.hideFileInputOnCreate&&!(null==A?void 0:A.filename)||V)&&(0,u.jsxs)("div",{className:"".concat(p1,"__upload"),children:[!B&&!K&&(0,u.jsx)(dS,{onChange:et,children:(0,u.jsxs)("div",{className:"".concat(p1,"__dropzoneContent"),children:[(0,u.jsxs)("div",{className:"".concat(p1,"__dropzoneButtons"),children:[(0,u.jsx)(tP,{buttonStyle:"pill",onClick:()=>{$.current&&$.current.click()},size:"small",children:P("upload:selectFile")}),(0,u.jsx)("input",{accept:ep,"aria-hidden":"true",className:"".concat(p1,"__hidden-input"),hidden:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&et(e.target.files)},ref:$,type:"file"}),(null==v?void 0:v.pasteURL)!==!1&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{className:"".concat(p1,"__orText"),children:P("general:or")}),(0,u.jsx)(tP,{buttonStyle:"pill",onClick:()=>{Y(!0),C(""),x(null),w(null)},size:"small",children:P("upload:pasteURL")})]}),b||null]}),(0,u.jsxs)("p",{className:"".concat(p1,"__dragAndDropText"),children:[P("general:or")," ",P("upload:dragAndDrop")]})]})}),K&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:"".concat(p1,"__remote-file-wrap"),children:[(0,u.jsx)("input",{className:"".concat(p1,"__remote-file"),onChange:e=>{Q(e.target.value)},ref:X,title:G,type:"text",value:G}),(0,u.jsx)("div",{className:"".concat(p1,"__add-file-wrap"),children:(0,u.jsx)("button",{className:"".concat(p1,"__add-file"),onClick:()=>{ea()},type:"button",children:P("upload:addFile")})})]}),(0,u.jsx)(tP,{buttonStyle:"icon-label",className:"".concat(p1,"__remove"),icon:"x",iconStyle:"with-border",onClick:()=>{Y(!1),C(""),x(null),w(null)},round:!0,tooltip:P("general:cancel")})]}),B&&z&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("div",{className:"".concat(p1,"__thumbnail-wrap"),children:(0,u.jsx)(cQ,{collectionSlug:d,fileSrc:(0,E.w)(B.type)?z:null})}),(0,u.jsxs)("div",{className:"".concat(p1,"__file-adjustments"),children:[(0,u.jsx)("input",{className:"".concat(p1,"__filename"),onChange:ee,title:q||B.name,type:"text",value:q||B.name}),(0,u.jsx)(p5,{customActions:p,enableAdjustments:ec||ed,enablePreviewSizes:er&&(null==A?void 0:A.filename)&&!V,mimeType:B.type})]}),(0,u.jsx)(tP,{buttonStyle:"icon-label",className:"".concat(p1,"__remove"),icon:"x",iconStyle:"with-border",onClick:en,round:!0,tooltip:P("general:cancel")})]})]}),(B||(null==A?void 0:A.filename))&&(0,u.jsx)(nr,{children:(0,u.jsx)(ls,{Header:null,slug:p3,children:(0,u.jsx)(pU,{fileName:(null==B?void 0:B.name)||(null==A?void 0:A.filename),fileSrc:(null==A?void 0:A.url)||z,imageCacheTag:eh,initialCrop:null!=(c=null==y?void 0:y.crop)?c:void 0,initialFocalPoint:{x:(null==y||null==(a=y.focalPoint)?void 0:a.x)||(null==A?void 0:A.focalX)||50,y:(null==y||null==(r=y.focalPoint)?void 0:r.y)||(null==A?void 0:A.focalY)||50},onSave:el,showCrop:ec,showFocalPoint:ed})})}),A&&er&&(0,u.jsx)(ls,{className:"".concat(p1,"__previewDrawer"),hoverTitle:!0,slug:p2,title:P("upload:sizesFor",{label:A.filename}),children:(0,u.jsx)(p0,{doc:A,imageCacheTag:eh,uploadConfig:v})})]})};function p9(e,t){return(0,u.jsx)(o.Fragment,{children:e},t)}function p7(e){let{resetUploadEdits:t,submitted:n,updateUploadEdits:l,uploadEdits:a}=e,{action:r,collectionSlug:s,docPermissions:c,getDocPreferences:d,hasSavePermission:p,initialState:h,isInitializing:f,Upload:m}=aD(),{onSave:g}=cP(),{getFormState:v}=cr(),{config:{folders:b},getEntityConfig:y}=(0,i.b)(),x=o.useRef(null),w=y({collectionSlug:s}),{reportUpdate:C}=d$(),j=w.slug,[S]=o.useState(j),_=(0,o.useCallback)(e=>{var n;C({entitySlug:j,updatedAt:(null==e||null==(n=e.result)?void 0:n.updatedAt)||new Date().toISOString()}),"function"==typeof g&&g({...e,operation:"create"}),t()},[j,g,C,t]),k=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,l=ck(x),a=await d(),{state:o}=await v({collectionSlug:j,docPermissions:c,docPreferences:a,formState:t,operation:"create",schemaPath:S,signal:l.signal,skipValidation:!n});return x.current=null,o},[j,S,d,v,c]);return(0,o.useEffect)(()=>{let e=x.current;return()=>{c_(e)}},[]),(0,u.jsx)(aL,{operation:"create",children:(0,u.jsxs)(dn,{action:r,className:"".concat("collection-edit","__form"),disabled:f||!p,initialState:f?void 0:h,isInitializing:f,method:"POST",onChange:[k],onSuccess:_,submitted:n,children:[(0,u.jsx)(d1,{BeforeFields:(0,u.jsx)(o.Fragment,{children:m||(0,u.jsx)(p8,{collectionSlug:w.slug,customActions:[b&&w.folders&&(0,u.jsx)(pk,{buttonProps:{buttonStyle:"pill",size:"small"},folderCollectionSlug:b.slug,folderFieldName:b.fieldName},"move-doc-to-folder")].filter(Boolean),initialState:h,resetUploadEdits:t,updateUploadEdits:l,uploadConfig:w.upload,uploadEdits:a})}),docPermissions:c,fields:w.fields,schemaPathSegments:[w.slug]}),(0,u.jsx)(ht,{}),(0,u.jsx)(he,{})]})})}function he(){let e=(0,f.c)(4),{getFields:t}=eE(),{getFormDataRef:n}=dO(),l,a;return e[0]!==t||e[1]!==n?(l=()=>{n.current=t},a=[t,n],e[0]=t,e[1]=n,e[2]=l,e[3]=a):(l=e[2],a=e[3]),(0,o.useEffect)(l,a),null}function ht(){let{docConfig:e}=aD(),{activeIndex:t,setFormTotalErrorCount:n}=dO(),l=o.useRef(0),a=o.useCallback(e=>{e!==l.current&&(n({errorCount:e,index:t}),l.current=e)},[t,n]);return e?(0,u.jsx)(oT,{fields:e.fields,path:[],setErrorCount:a}):null}var hn="bulk-upload-drawer--add-more-files",hl="file-selections";function ha(){var e;let t=(0,f.c)(39),{activeIndex:n,addFiles:l,forms:a,isInitializing:r,removeFile:c,setActiveIndex:d,totalErrorCount:p}=dO(),{initialFiles:h,initialForms:m,maxFiles:g}=hb(),{i18n:v,t:b}=(0,s.d)(),{closeModal:y,openModal:x}=nN(),[w,C]=o.useState(!1),{breakpoints:j}=tg(),S;t[0]!==c?(S=e=>{c(e)},t[0]=c,t[1]=S):S=t[1];let _=S,k;t[2]!==l||t[3]!==y?(k=e=>{l(e),y(hn)},t[2]=l,t[3]=y,t[4]=k):k=t[4];let N=k,E=r?null!=(e=null==h?void 0:h.length)?e:null==m?void 0:m.length:a.length,{collectionSlug:P,selectableCollections:D,setCollectionSlug:T}=hb(),{getEntityConfig:A}=(0,i.b)(),R=w&&"".concat(hl,"__showingFiles"),L;t[5]!==R?(L=[hl,R].filter(Boolean),t[5]=R,t[6]=L):L=t[6];let O=L.join(" "),F;if(t[7]!==n||t[8]!==j.m||t[9]!==P||t[10]!==y||t[11]!==a||t[12]!==A||t[13]!==N||t[14]!==_||t[15]!==v||t[16]!==h||t[17]!==m||t[18]!==r||t[19]!==g||t[20]!==x||t[21]!==D||t[22]!==d||t[23]!==T||t[24]!==w||t[25]!==b||t[26]!==O||t[27]!==p||t[28]!==E){let e,l,o;t[30]===Symbol.for("react.memo_cache_sentinel")?(e=()=>C(hr),t[30]=e):e=t[30],t[31]!==y?(l=()=>y(hn),t[31]=y,t[32]=l):l=t[32],t[33]!==n||t[34]!==_||t[35]!==v||t[36]!==d||t[37]!==b?(o=(e,t)=>{var l;let{errorCount:a,formID:o,formState:r}=e,i=(null==r||null==(l=r.file)?void 0:l.value)||{};return(0,u.jsxs)("div",{className:["".concat(hl,"__fileRowContainer"),t===n&&"".concat(hl,"__fileRowContainer--active"),a&&a>0&&"".concat(hl,"__fileRowContainer--error")].filter(Boolean).join(" "),children:[(0,u.jsxs)("button",{className:"".concat(hl,"__fileRow"),onClick:()=>d(t),type:"button",children:[(0,u.jsx)(hi,{file:i,formID:o}),(0,u.jsx)("div",{className:"".concat(hl,"__fileDetails"),children:(0,u.jsx)("p",{className:"".concat(hl,"__fileName"),title:i.name,children:i.name||b("upload:noFile")})}),i instanceof File?(0,u.jsx)("p",{className:"".concat(hl,"__fileSize"),children:function(e){let t=e.size,n=0===t?0:Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,n)).toFixed(+(n>1))+" "+["B","kB","MB","GB","TB"][n]}(i)}):null,(0,u.jsx)("div",{className:"".concat(hl,"__remove ").concat(hl,"__remove--underlay"),children:(0,u.jsx)(s.a,{})}),a?(0,u.jsx)(nt,{className:"".concat(hl,"__errorCount"),count:a,i18n:v}):null]}),(0,u.jsx)("button",{"aria-label":b("general:remove"),className:"".concat(hl,"__remove ").concat(hl,"__remove--overlay"),onClick:()=>_(t),type:"button",children:(0,u.jsx)(s.a,{})})]},o)},t[33]=n,t[34]=_,t[35]=v,t[36]=d,t[37]=b,t[38]=o):o=t[38],F=(0,u.jsxs)("div",{className:O,children:[j.m&&w?(0,u.jsx)("div",{className:"".concat(hl,"__mobileBlur")}):null,(0,u.jsxs)("div",{className:"".concat(hl,"__header"),children:[(null==D?void 0:D.length)>1&&(0,u.jsx)(uG,{className:"".concat(hl,"__collectionSelect"),isClearable:!1,name:"groupBy",onChange:e=>{T("object"==typeof e&&"value"in e?null==e?void 0:e.value:e)},options:(null==D?void 0:D.map(e=>{let t=A({collectionSlug:e});return{label:t.labels.singular,value:t.slug}}))||[],path:"groupBy",required:!0,value:P}),(0,u.jsxs)("div",{className:"".concat(hl,"__headerTopRow"),children:[(0,u.jsxs)("div",{className:"".concat(hl,"__header__text"),children:[(0,u.jsx)(nt,{count:p,i18n:v,withMessage:!0}),(0,u.jsx)("p",{children:(0,u.jsxs)("strong",{title:"".concat(E," ").concat(b(E>1?"upload:filesToUpload":"upload:fileToUpload")),children:[E," ",b(E>1?"upload:filesToUpload":"upload:fileToUpload")]})})]}),(0,u.jsxs)("div",{className:"".concat(hl,"__header__actions"),children:["number"!=typeof g||E<g?(0,u.jsx)(ol,{className:"".concat(hl,"__header__addFile"),onClick:()=>x(hn),size:"small",children:b("upload:addFile")}):null,(0,u.jsxs)(tP,{buttonStyle:"transparent",className:"".concat(hl,"__toggler"),onClick:e,children:[(0,u.jsx)("span",{className:"".concat(hl,"__toggler__label"),children:(0,u.jsxs)("strong",{title:"".concat(E," ").concat(b(E>1?"upload:filesToUpload":"upload:fileToUpload")),children:[E," ",b(E>1?"upload:filesToUpload":"upload:fileToUpload")]})}),(0,u.jsx)(tl,{direction:w?"down":"up"})]}),(0,u.jsx)(ls,{gutter:!1,Header:null,slug:hn,children:(0,u.jsx)(dE,{onCancel:l,onDrop:N})})]})]}),(0,u.jsx)("div",{className:"".concat(hl,"__header__mobileDocActions"),children:(0,u.jsx)(dK,{})})]}),(0,u.jsx)("div",{className:"".concat(hl,"__animateWrapper"),children:(0,u.jsx)(a2,{height:!j.m||w?"auto":0,children:(0,u.jsxs)("div",{className:"".concat(hl,"__filesContainer"),children:[r&&0===a.length&&((null==h?void 0:h.length)>0||(null==m?void 0:m.length)>0)?(h?Array.from(h):m).map(ho):null,a.map(o)]})})})]}),t[7]=n,t[8]=j.m,t[9]=P,t[10]=y,t[11]=a,t[12]=A,t[13]=N,t[14]=_,t[15]=v,t[16]=h,t[17]=m,t[18]=r,t[19]=g,t[20]=x,t[21]=D,t[22]=d,t[23]=T,t[24]=w,t[25]=b,t[26]=O,t[27]=p,t[28]=E,t[29]=F}else F=t[29];return F}function ho(e,t){return(0,u.jsx)(i.e,{animationDelay:"calc(".concat(t," * 60ms)"),height:"35px"},t)}function hr(e){return!e}function hi(e){let{file:t,formID:n}=e,[l,a]=o.useState(null),[r,s]=o.useState(!0);return o.useEffect(()=>{let e=!1;return async function(){s(!0),a(null);try{if((0,E.w)(t.type)){let n=await new Promise((e,n)=>{let l=new Image;l.src=URL.createObjectURL(t),l.onload=()=>{let a,o,r=l.width/l.height;r>1?(o=280,a=280/r):(o=280*r,a=280);let i=new OffscreenCanvas(o,a),s=i.getContext("2d"),c="image/png"===t.type?"image/png":"image/jpeg",u="image/png"===t.type?void 0:.8;s.drawImage(l,0,0,o,a),i.convertToBlob({type:c,...u&&{quality:u}}).then(t=>{URL.revokeObjectURL(l.src);let a=new FileReader;a.onload=()=>e(a.result),a.onerror=n,a.readAsDataURL(t)}).catch(n)},l.onerror=e=>{URL.revokeObjectURL(l.src),n(e)}});e||a(n)}else a(null)}catch(t){e||a(null)}finally{e||s(!1)}}(),()=>{e=!0}},[t]),r?(0,u.jsx)(i.e,{className:"".concat(hl,"__thumbnail-shimmer"),disableInlineStyles:!0}):(0,u.jsx)(cQ,{className:"".concat(hl,"__thumbnail"),fileSrc:l},"".concat(n,"-").concat(l||"placeholder"))}var hs="bulk-upload--file-manager";function hc(){let e=(0,f.c)(18),{activeIndex:t,collectionSlug:n,docPermissions:l,documentSlots:a,forms:o,hasPublishPermission:r,hasSavePermission:c,hasSubmitted:p,resetUploadEdits:h,updateUploadEdits:m}=dO(),g=o[t],{getEntityConfig:v}=(0,i.b)(),{i18n:b}=(0,s.d)(),{user:y}=lx(),{openModal:x}=nN(),w;if(e[0]!==g||e[1]!==t||e[2]!==n||e[3]!==l||e[4]!==a||e[5]!==o.length||e[6]!==v||e[7]!==r||e[8]!==c||e[9]!==p||e[10]!==b||e[11]!==x||e[12]!==h||e[13]!==m||e[14]!==y){let i=v({collectionSlug:n}),s;e[16]!==x?(s=()=>x(dY),e[16]=x,e[17]=s):s=e[17],w=(0,u.jsxs)("div",{className:hs,children:[(0,u.jsx)(ha,{}),(0,u.jsxs)("div",{className:"".concat(hs,"__editView"),children:[(0,u.jsx)(dk,{onClose:s,title:(0,d.s)(i.labels.singular,b)}),g?(0,u.jsxs)(aA,{collectionSlug:n,currentEditor:y,docPermissions:l,hasPublishedDoc:!1,hasPublishPermission:r,hasSavePermission:c,id:null,initialData:(0,L.r)(g.formState,!0),initialState:g.formState,isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,Upload:a.Upload,versionCount:0,children:[(0,u.jsx)(dW,{collectionConfig:i}),(0,u.jsx)(p7,{resetUploadEdits:h,submitted:p,updateUploadEdits:m,uploadEdits:null==g?void 0:g.uploadEdits})]},"".concat(t,"-").concat(o.length)):null]}),(0,u.jsx)(dG,{})]}),e[0]=g,e[1]=t,e[2]=n,e[3]=l,e[4]=a,e[5]=o.length,e[6]=v,e[7]=r,e[8]=c,e[9]=p,e[10]=b,e[11]=x,e[12]=h,e[13]=m,e[14]=y,e[15]=w}else w=e[15];return w}function hu(){var e,t;let{addFiles:n,forms:l,isInitializing:a}=dO(),{closeModal:r}=nN(),{collectionSlug:c,drawerSlug:d}=hb(),{getEntityConfig:p}=(0,i.b)(),{t:h}=(0,s.d)(),f=null==(t=p({collectionSlug:c}))||null==(e=t.upload)?void 0:e.mimeTypes,m=o.useCallback(e=>{let t=new DataTransfer;for(let n of e)(void 0===f||0===f.length||(0,M.d)(n.type,f))&&t.items.add(n);0===t.files.length?eZ.error(h("error:invalidFileType")):n(t.files)},[n,h,f]);return c?l.length||a?(0,u.jsx)(hc,{}):(0,u.jsx)(dE,{acceptMimeTypes:null==f?void 0:f.join(", "),onCancel:()=>r(d),onDrop:m}):null}function hd(){let e,t,n=(0,f.c)(17),{drawerSlug:l,onCancel:a,setInitialFiles:r,setInitialForms:i,setOnCancel:s,setOnSuccess:c,setSelectableCollections:d,setSuccessfullyUploaded:p,successfullyUploaded:h}=hb(),{modalState:m}=nN(),g=o.useRef(m),v;n[0]!==l||n[1]!==a||n[2]!==r||n[3]!==i||n[4]!==s||n[5]!==c||n[6]!==d||n[7]!==p||n[8]!==h?(v=e=>{let t=g.current[l],n=e[l];typeof n>"u"&&typeof t>"u"||((null==t?void 0:t.isOpen)!==(null==n?void 0:n.isOpen)&&((null==n?void 0:n.isOpen)||(h||"function"==typeof a&&a(),r(void 0),i(void 0),s(hf),c(hp),d(null),p(!1))),g.current=e)},n[0]=l,n[1]=a,n[2]=r,n[3]=i,n[4]=s,n[5]=c,n[6]=d,n[7]=p,n[8]=h,n[9]=v):v=n[9];let b=lg(v),y;return n[10]!==m||n[11]!==b?(y=()=>{b(m)},n[10]=m,n[11]=b,n[12]=y):y=n[12],n[13]!==m?(e=[m],n[13]=m,n[14]=e):e=n[14],(0,o.useEffect)(y,e),n[15]!==l?(t=(0,u.jsx)(ls,{gutter:!1,Header:null,slug:l,children:(0,u.jsx)(dL,{children:(0,u.jsx)(dw,{children:(0,u.jsx)(nr,{children:(0,u.jsx)(hu,{})})})})}),n[15]=l,n[16]=t):t=n[16],t}function hp(){return hh}function hh(){return null}function hf(){return hm}function hm(){return null}var hg=o.createContext({collectionSlug:"",drawerSlug:"",initialFiles:void 0,initialForms:[],maxFiles:void 0,onCancel:()=>null,onSuccess:()=>null,selectableCollections:null,setCollectionSlug:()=>null,setInitialFiles:()=>null,setInitialForms:()=>null,setMaxFiles:()=>null,setOnCancel:()=>null,setOnSuccess:()=>null,setSelectableCollections:()=>null,setSuccessfullyUploaded:()=>!1,successfullyUploaded:!1});function hv(e){let t,n,l=(0,f.c)(17),{children:a,drawerSlugPrefix:r}=e,[i,s]=o.useState(null),[c,d]=o.useState(),[p,h]=o.useState(),[m,g]=o.useState(),[v,b]=o.useState(void 0),[y,x]=o.useState(void 0),[w,C]=o.useState(void 0),[j,S]=o.useState(!1),_="".concat(r?"".concat(r,"-"):"").concat(hy()),k;l[0]===Symbol.for("react.memo_cache_sentinel")?(k=e=>{h(()=>e)},l[0]=k):k=l[0];let N=k,E;l[1]===Symbol.for("react.memo_cache_sentinel")?(E=e=>{g(()=>e)},l[1]=E):E=l[1];let P=E,D;return l[2]!==m?(D=()=>{"function"==typeof m&&m()},l[2]=m,l[3]=D):D=l[3],l[4]!==p?(t=(e,t)=>{"function"==typeof p&&p(e,t)},l[4]=p,l[5]=t):t=l[5],l[6]!==a||l[7]!==c||l[8]!==_||l[9]!==v||l[10]!==y||l[11]!==w||l[12]!==i||l[13]!==j||l[14]!==D||l[15]!==t?(n=(0,u.jsx)(hg,{value:{collectionSlug:c,drawerSlug:_,initialFiles:v,initialForms:y,maxFiles:w,onCancel:D,onSuccess:t,selectableCollections:i,setCollectionSlug:d,setInitialFiles:b,setInitialForms:x,setMaxFiles:C,setOnCancel:P,setOnSuccess:N,setSelectableCollections:s,setSuccessfullyUploaded:S,successfullyUploaded:j},children:(0,u.jsxs)(o.Fragment,{children:[a,(0,u.jsx)(hd,{})]})}),l[6]=a,l[7]=c,l[8]=_,l[9]=v,l[10]=y,l[11]=w,l[12]=i,l[13]=j,l[14]=D,l[15]=t,l[16]=n):n=l[16],n}var hb=()=>o.use(hg);function hy(){let e=ld();return"".concat("bulk-upload-drawer-slug","-").concat(e||1)}var hx="upload-relationship-details";function hw(e){var t,n;let l=(0,f.c)(11),{id:a,allowEdit:o,allowRemove:r,alt:s,byteSize:c,className:d,collectionSlug:p,displayPreview:h,filename:m,mimeType:g,onRemove:v,reloadDoc:b,src:y,thumbnailSrc:x,withMeta:w,x:C,y:j}=e,S=void 0===w||w,{config:_}=(0,i.b)(),k="collections"in _?_.collections.find(e=>e.slug===p):void 0,N=y?a:void 0,E;l[0]!==p||l[1]!==N?(E={id:N,collectionSlug:p},l[0]=p,l[1]=N,l[2]=E):E=l[2];let[P,,D]=cL(E),{openDrawer:T}=D,A;l[3]!==p||l[4]!==b?(A=async e=>{let{doc:t}=e;return b(t.id,p)},l[3]=p,l[4]=b,l[5]=A):A=l[5];let R=A,L;l[6]!==C||l[7]!==j?(L=function(e,t){let n=[];return t&&n.push((0,V.B)(t)),C&&j&&n.push("".concat(C,"x").concat(j)),e&&n.push(e),n.join("  ")},l[6]=C,l[7]=j,l[8]=L):L=l[8];let O=S?L(g,c):"",F=null==(n=null!=h?h:null==k||null==(t=k.upload)?void 0:t.displayPreview)||n,I;return l[9]!==d?(I=[hx,d].filter(Boolean),l[9]=d,l[10]=I):I=l[10],(0,u.jsxs)("div",{className:I.join(" "),children:[(0,u.jsxs)("div",{className:"".concat(hx,"__imageAndDetails"),children:[F&&(0,u.jsx)(cX,{alt:s,className:"".concat(hx,"__thumbnail"),filename:m,fileSrc:x,size:"small"}),(0,u.jsxs)("div",{className:"".concat(hx,"__details"),children:[(0,u.jsx)("p",{className:"".concat(hx,"__filename"),children:y?(0,u.jsx)("a",{href:y,target:"_blank",children:m}):m}),S?(0,u.jsx)("p",{className:"".concat(hx,"__meta"),children:O}):null]})]}),!1!==o||!1!==r?(0,u.jsxs)("div",{className:"".concat(hx,"__actions"),children:[!1!==o?(0,u.jsx)(tP,{buttonStyle:"icon-label",className:"".concat(hx,"__edit"),icon:"edit",iconStyle:"none",onClick:T}):null,!1!==r?(0,u.jsx)(tP,{buttonStyle:"icon-label",className:"".concat(hx,"__remove"),icon:"x",iconStyle:"none",onClick:()=>v()}):null,(0,u.jsx)(P,{onSave:R})]}):null]})}var hC="upload-field-card";function hj(e){let{children:t,className:n,size:l="medium"}=e;return(0,u.jsx)("div",{className:[hC,n,"".concat(hC,"--size-").concat(l)].filter(Boolean).join(" "),children:t})}var hS="upload upload--has-many";function h_(e){let t=(0,f.c)(27),{className:n,displayPreview:l,fileDocs:a,isSortable:o,onRemove:r,onReorder:i,readonly:s,reloadDoc:c,serverURL:d}=e,p;t[0]!==a||t[1]!==i?(p=(e,t)=>{if(e===t)return;let n=[...a],[l]=n.splice(e,1);n.splice(t,0,l),i(n)},t[0]=a,t[1]=i,t[2]=p):p=t[2];let h=p,m;t[3]!==a||t[4]!==r?(m=e=>{let t=[...a||[]];t.splice(e,1),r(0===t.length?[]:t)},t[3]=a,t[4]=r,t[5]=m):m=t[5];let g=m,v;t[6]!==n?(v=[hS,n].filter(Boolean),t[6]=n,t[7]=v):v=t[7];let b=v.join(" "),y;if(t[8]!==l||t[9]!==a||t[10]!==o||t[11]!==h||t[12]!==s||t[13]!==c||t[14]!==g||t[15]!==d||t[16]!==b){let e,n;t[18]!==h?(e=e=>{let{moveFromIndex:t,moveToIndex:n}=e;return h(t,n)},t[18]=h,t[19]=e):e=t[19],t[20]!==l||t[21]!==o||t[22]!==s||t[23]!==c||t[24]!==g||t[25]!==d?(n=(e,t)=>{let{relationTo:n,value:a}=e,r=String(a.id),i,p;if(a.url)try{i=new URL(a.url,d).toString()}catch(e){i="".concat(d).concat(a.url)}if(a.thumbnailURL)try{p=new URL(a.thumbnailURL,d).toString()}catch(e){p="".concat(d).concat(a.thumbnailURL)}return(0,E.w)(a.mimeType)&&(p=(0,P.k)({sizes:a.sizes,thumbnailURL:p,url:i,width:a.width})),(0,u.jsx)(t9,{disabled:!o||s,id:r,children:e=>(0,u.jsx)("div",{className:["".concat(hS,"__dragItem"),e&&o&&"".concat(hS,"--has-drag-handle")].filter(Boolean).join(" "),ref:e.setNodeRef,style:{transform:e.transform,transition:e.transition,zIndex:e.isDragging?1:void 0},children:(0,u.jsxs)(hj,{size:"small",children:[e&&(0,u.jsx)("div",{className:"".concat(hS,"__drag"),...e.attributes,...e.listeners,children:(0,u.jsx)(a3,{})}),(0,u.jsx)(hw,{allowEdit:!s,allowRemove:!s,alt:(null==a?void 0:a.alt)||(null==a?void 0:a.filename),byteSize:a.filesize,collectionSlug:n,displayPreview:l,filename:a.filename,id:r,mimeType:null==a?void 0:a.mimeType,onRemove:()=>g(t),reloadDoc:c,src:i,thumbnailSrc:p,withMeta:!1,x:null==a?void 0:a.width,y:null==a?void 0:a.height})]})})},r)},t[20]=l,t[21]=o,t[22]=s,t[23]=c,t[24]=g,t[25]=d,t[26]=n):n=t[26],y=(0,u.jsx)("div",{className:b,children:(0,u.jsx)(t7,{className:"".concat(hS,"__draggable-rows"),ids:null==a?void 0:a.map(hk),onDragEnd:e,children:a.map(n)})}),t[8]=l,t[9]=a,t[10]=o,t[11]=h,t[12]=s,t[13]=c,t[14]=g,t[15]=d,t[16]=b,t[17]=y}else y=t[17];return y}function hk(e){let{value:t}=e;return String(t.id)}function hN(e){let{className:t,displayPreview:n,fileDoc:l,onRemove:a,readonly:o,reloadDoc:r,serverURL:i}=e,{relationTo:s,value:c}=l,d=String(null==c?void 0:c.id),p,h;if(c.url)try{p=new URL(c.url,i).toString()}catch(e){p="".concat(i).concat(c.url)}if(c.thumbnailURL)try{h=new URL(c.thumbnailURL,i).toString()}catch(e){h="".concat(i).concat(c.thumbnailURL)}return(0,E.w)(c.mimeType)&&(h=(0,P.k)({sizes:c.sizes,thumbnailURL:h,url:p,width:c.width})),(0,u.jsx)(hj,{className:["upload upload--has-one",t].filter(Boolean).join(" "),children:(0,u.jsx)(hw,{allowEdit:!o,allowRemove:!o,alt:(null==c?void 0:c.alt)||(null==c?void 0:c.filename),byteSize:c.filesize,collectionSlug:s,displayPreview:n,filename:c.filename,id:d,mimeType:null==c?void 0:c.mimeType,onRemove:a,reloadDoc:r,src:p,thumbnailSrc:h,x:null==c?void 0:c.width,y:null==c?void 0:c.height})})}var hE="upload";function hP(e){var t;let{AfterInput:n,allowCreate:l,api:a,BeforeInput:r,className:c,Description:d,description:p,displayPreview:h,Error:f,filterOptions:m,hasMany:g,isSortable:v,Label:y,label:x,localized:w,maxRows:C,onChange:j,path:S,readOnly:_,relationTo:k,required:N,serverURL:E,showError:P,style:D,value:T}=e,[A,R]=o.useState(),[L,O]=o.useState(Array.isArray(k)?k[0]:k),{openModal:F}=nN(),{drawerSlug:I,setCollectionSlug:M,setInitialFiles:B,setMaxFiles:z,setOnSuccess:U}=hb(),{permissions:V}=lx(),{code:H}=lD(),{i18n:q,t:W}=(0,s.d)(),[K,,{closeDrawer:Y,openDrawer:G}]=uS({collectionSlugs:"string"==typeof k?[k]:k,filterOptions:(0,o.useMemo)(()=>{var e,t,n;return{...m,[L]:{...(null==m?void 0:m[L])||{},id:{...(null==m||null==(e=m[L])?void 0:e.id)||{},not_in:((null==m||null==(n=m[L])||null==(t=n.id)?void 0:t.not_in)||[]).concat(...Array.isArray(T)||T?[T]:[])}}}},[T,L,m])}),[Q,,{closeDrawer:X,openDrawer:$}]=cL({collectionSlug:L}),Z=o.useRef(!1),J=(0,o.useMemo)(()=>{var e,t;return!!l&&!!("string"==typeof L&&(null==V?void 0:V.collections)&&(null==(t=V.collections)||null==(e=t[L])?void 0:e.create))},[L,V,l]),ee=o.useCallback(e=>{"function"==typeof j&&j(e)},[j]),et=o.useCallback(async(e,t)=>{if(!e.length)return;let n={depth:0,draft:!0,limit:e.length,locale:H,where:{and:[{id:{in:e}}]}},l=await fetch("".concat(E).concat(a,"/").concat(t),{body:b.A(n),credentials:"include",headers:{"Accept-Language":q.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(l.ok){let t=await l.json(),n=e.map(e=>t.docs.find(t=>String(t.id)===String(e)));return n.includes(void 0)&&g&&(n=n.map((t,n)=>t||{id:e[n],filename:"".concat(W("general:untitled")," - ID: ").concat(e[n]),isPlaceholder:!0})),{...t,docs:n}}return null},[H,E,a,q.language,W,g]),en=(0,o.useCallback)(e=>{if(g)ee([...Array.isArray(T)?T:[],...e.map(e=>e.doc.id)]),R(t=>[...t||[],...e.map(e=>({relationTo:e.collectionSlug,value:e.doc}))]);else{let t=e[0].doc;ee(t.id),R([{relationTo:t.collectionSlug,value:t}])}},[T,ee,g]),el=o.useCallback(e=>{let t=e;if(!g&&e&&e.length>1){let n=new DataTransfer;n.items.add(e[0]),t=n.files}t&&B(t),M(k),"number"==typeof C&&z(C),F(I)},[I,g,F,k,M,B,C,z]),ea=o.useCallback(async e=>{let t=[];for(let[n,l]of e)l&&t.push(n);let n=await et(t,L);n&&R(e=>[...e||[],...n.docs.map(e=>({relationTo:L,value:e}))]),ee([...Array.isArray(T)?T:[],...t]),Y()},[L,Y,ee,et,T]),eo=o.useCallback(e=>{e.doc&&(R(t=>[...t||[],{relationTo:L,value:e.doc}]),ee(e.doc.id)),X()},[X,L,ee]),er=(0,o.useCallback)(async e=>{var t;let{collectionSlug:n,doc:l}=e,a=await et([l.id],n),o=a?null==(t=a.docs)?void 0:t[0]:null;R(e=>o?g?[...e||[],{relationTo:L,value:o}]:[{relationTo:L,value:o}]:e),ee(g?[...Array.isArray(T)?T:[],l.id]:l.id),Y()},[Y,g,et,ee,T,L]),ei=o.useCallback(async(e,t)=>{let{docs:n}=await et([e],t);if(n[0]){let e=[];R(l=>{let a=null==l?void 0:l.findIndex(e=>{var l,a;return((null==(l=e.value)?void 0:l.id)===n[0].id||(null==(a=e.value)?void 0:a.isPlaceholder))&&e.relationTo===t});if(a>-1){let o=[...l];return o[a]={relationTo:t,value:n[0]},e=o,o}}),e.length&&g&&ee(e.map(e=>{var t;return null==(t=e.value)?void 0:t.id}))}},[et,ee,g]),es=o.useCallback(e=>{ee(e.map(e=>{let{value:t}=e;return t.id})),R(e)},[ee]),ec=o.useCallback(e=>{let t=e?e.map(e=>{let{value:t}=e;return t.id}):null;ee(g?t:t?t[0]:null),R(e||[])},[ee,g]);(0,o.useEffect)(()=>{async function e(){if(T){Z.current=!0;let e=await et(Array.isArray(T)?T:[T],L);e&&R(e.docs.map(e=>({relationTo:L,value:e})))}}Z.current||e()},[et,L,T]),(0,o.useEffect)(()=>{U(en)},[T,S,en,U]);let eu=!T||g&&Array.isArray(T)&&("number"!=typeof C||T.length<C)||!g&&(null==A?void 0:A[0])&&typeof A[0].value>"u";return(0,u.jsxs)("div",{className:[aq,hE,c,P&&"error",_&&"read-only"].filter(Boolean).join(" "),id:"field-".concat(null==S?void 0:S.replace(/\./g,"__")),style:D,children:[(0,u.jsx)(ed,{CustomComponent:y,Fallback:(0,u.jsx)(lR,{label:x,localized:w,path:S,required:N})}),(0,u.jsx)("div",{className:"".concat(hE,"__wrap"),children:(0,u.jsx)(ed,{CustomComponent:f,Fallback:(0,u.jsx)(na,{path:S,showError:P})})}),r,(0,u.jsxs)("div",{className:"".concat(hE,"__dropzoneAndUpload"),children:[g&&Array.isArray(T)&&T.length>0?(0,u.jsx)(u.Fragment,{children:A&&(null==A?void 0:A.length)>0?(0,u.jsx)(h_,{displayPreview:h,fileDocs:A,isSortable:v&&!_,onRemove:ec,onReorder:es,readonly:_,reloadDoc:ei,serverURL:E}):(0,u.jsx)("div",{className:"".concat(hE,"__loadingRows"),children:T.map(e=>(0,u.jsx)(i.e,{height:"40px"},e))})}):null,!g&&T?(0,u.jsx)(u.Fragment,{children:A&&(null==A?void 0:A.length)>0&&A[0].value?(0,u.jsx)(hN,{displayPreview:h,fileDoc:A[0],onRemove:ec,readonly:_,reloadDoc:ei,serverURL:E}):!A||!T||(null==A||null==(t=A[0])?void 0:t.value)?(0,u.jsx)(i.e,{height:"62px"}):(0,u.jsxs)(u.Fragment,{children:[W("general:untitled")," - ID: ",T]})}):null,eu?(0,u.jsx)(dS,{disabled:_||!J,multipleFiles:g,onChange:el,children:(0,u.jsxs)("div",{className:"".concat(hE,"__dropzoneContent"),children:[(0,u.jsxs)("div",{className:"".concat(hE,"__dropzoneContent__buttons"),children:[J&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tP,{buttonStyle:"pill",className:"".concat(hE,"__createNewToggler"),disabled:_||!J,onClick:()=>{_||(g?el():$())},size:"small",children:W("general:createNew")}),(0,u.jsx)("span",{className:"".concat(hE,"__dropzoneContent__orText"),children:W("general:or")})]}),(0,u.jsx)(tP,{buttonStyle:"pill",className:"".concat(hE,"__listToggler"),disabled:_,onClick:G,size:"small",children:W("fields:chooseFromExisting")}),(0,u.jsx)(Q,{onSave:eo}),(0,u.jsx)(K,{allowCreate:J,enableRowSelections:g,onBulkSelect:ea,onSelect:er})]}),J&&!_&&(0,u.jsxs)("p",{className:"".concat(hE,"__dragAndDropText"),children:[W("general:or")," ",W("upload:dragAndDrop")]})]})}):(0,u.jsx)(u.Fragment,{children:!_&&!A&&(!T||"number"!=typeof C||Array.isArray(T)&&T.length<C)?(0,u.jsx)(i.e,{height:"40px"}):null})]}),n,(0,u.jsx)(ed,{CustomComponent:d,Fallback:(0,u.jsx)(nl,{description:p,path:S})})]})}var hD=aV(function(e){let{field:t,field:{admin:{allowCreate:n,className:l,description:a,isSortable:r}={},hasMany:s,label:c,localized:d,maxRows:p,relationTo:h,required:f},path:m,readOnly:g,validate:v}=e,{config:b}=(0,i.b)(),y=t.displayPreview,{customComponents:{AfterInput:x,BeforeInput:w,Description:C,Error:j,Label:S}={},disabled:_,filterOptions:k,path:N,setValue:E,showError:P,value:D}=aB({potentiallyStalePath:m,validate:o.useCallback((e,t)=>{if("function"==typeof v)return v(e,{...t,required:f})},[v,f])}),T=(0,o.useMemo)(()=>aH(t),[t]);return(0,u.jsx)(hv,{drawerSlugPrefix:m,children:(0,u.jsx)(hP,{AfterInput:x,allowCreate:!1!==n,api:b.routes.api,BeforeInput:w,className:l,Description:C,description:a,displayPreview:y,Error:j,filterOptions:k,hasMany:s,isSortable:r,label:c,Label:S,localized:d,maxRows:p,onChange:E,path:N,readOnly:g||_,relationTo:h,required:f,serverURL:b.serverURL,showError:P,style:T,value:D})})});function hT(e){let t=(0,f.c)(13),{clientFieldConfig:n,forceRender:l,indexPath:a,parentPath:o,parentSchemaPath:r,path:i,permissions:s,readOnly:c,schemaPath:d}=e,p;t[0]!==i?(p=e=>{var t,n;let[l]=e;return l&&(null==l||null==(n=l[i])||null==(t=n.customComponents)?void 0:t.Field)},t[0]=i,t[1]=p):p=t[1];let h=eF(p),m;if(t[2]!==h||t[3]!==n||t[4]!==l||t[5]!==a||t[6]!==o||t[7]!==r||t[8]!==i||t[9]!==s||t[10]!==c||t[11]!==d){m=Symbol.for("react.early_return_sentinel");e:{var g;let e={forceRender:l,permissions:s,readOnly:c,schemaPath:d};if(null==(g=n.admin)?void 0:g.hidden){m=(0,u.jsx)(s6,{...e,path:i});break e}if(void 0!==h){m=h||null;break e}let t={...e,indexPath:a,parentPath:o,parentSchemaPath:r};switch(n.type){case"array":m=(0,u.jsx)(hI,{...t,field:n,path:i});break e;case"blocks":m=(0,u.jsx)(o_,{...t,field:n,path:i});break e;case"checkbox":m=(0,u.jsx)(a$,{...e,field:n,path:i});break e;case"code":m=(0,u.jsx)(oP,{...e,field:n,path:i});break e;case"collapsible":m=(0,u.jsx)(oR,{...t,field:n,path:i});break e;case"date":m=(0,u.jsx)(sG,{...e,field:n,path:i});break e;case"email":m=(0,u.jsx)(sQ,{...e,field:n,path:i});break e;case"group":m=(0,u.jsx)(s2,{...t,field:n,path:i});break e;case"join":m=(0,u.jsx)(uc,{...e,field:n,path:i});break e;case"json":m=(0,u.jsx)(uu,{...e,field:n,path:i});break e;case"number":m=(0,u.jsx)(ud,{...e,field:n,path:i});break e;case"point":m=(0,u.jsx)(uh,{...e,field:n,path:i});break e;case"radio":m=(0,u.jsx)(uv,{...e,field:n,path:i});break e;case"relationship":m=(0,u.jsx)(uW,{...e,field:n,path:i});break e;case"richText":m=(0,u.jsx)(uK,{...e,field:n,path:i});break e;case"row":m=(0,u.jsx)(uY,{...t,field:n});break e;case"select":m=(0,u.jsx)(uX,{...e,field:n,path:i});break e;case"tabs":m=(0,u.jsx)(ds,{...t,field:n,path:i});break e;case"text":m=(0,u.jsx)(dg,{...e,field:n,path:i});break e;case"textarea":m=(0,u.jsx)(db,{...e,field:n,path:i});break e;case"ui":m=(0,u.jsx)(dy,{});break e;case"upload":m=(0,u.jsx)(hD,{...e,field:n,path:i});break e}}t[2]=h,t[3]=n,t[4]=l,t[5]=a,t[6]=o,t[7]=r,t[8]=i,t[9]=s,t[10]=c,t[11]=d,t[12]=m}else m=t[12];if(m!==Symbol.for("react.early_return_sentinel"))return m}var hA="render-fields",hR=e=>{let t=(0,f.c)(22),{className:n,fields:l,forceRender:a,margins:o,parentIndexPath:r,parentPath:i,parentSchemaPath:s,permissions:c,readOnly:d}=e,p=aO();if(l&&l.length>0){let e=o&&"".concat(hA,"--margins-").concat(o),h=!1===o&&"".concat(hA,"--margins-none"),f;t[0]!==n||t[1]!==e||t[2]!==h?(f=[hA,n,e,h].filter(Boolean),t[0]=n,t[1]=e,t[2]=h,t[3]=f):f=t[3];let g=f.join(" "),v;if(t[4]!==l||t[5]!==a||t[6]!==p||t[7]!==r||t[8]!==i||t[9]!==s||t[10]!==c||t[11]!==d||t[12]!==g){let e;t[14]!==a||t[15]!==p||t[16]!==r||t[17]!==i||t[18]!==s||t[19]!==c||t[20]!==d?(e=(e,t)=>{var n,l;if(!e||(0,m.I2)(e))return null;let{operation:o,permissions:h,read:f}=(0,w.P)({field:e,operation:p,parentName:(null==i?void 0:i.includes("."))?i.split(".")[i.split(".").length-1]:i,permissions:c});if("name"in e&&!f)return null;let g=d||(null==e||null==(n=e.admin)?void 0:n.readOnly);g&&(null==(l=e.admin)?void 0:l.readOnly)===!1&&(g=!1),"name"in e&&!o&&(g=!0);let{indexPath:v,path:b,schemaPath:y}=(0,C.Z)({field:e,index:t,parentIndexPath:r,parentPath:i,parentSchemaPath:s});return(0,u.jsx)(aF,{value:b,children:(0,u.jsx)(hT,{clientFieldConfig:e,forceRender:a,indexPath:v,parentPath:i,parentSchemaPath:s,path:b,permissions:h,readOnly:g,schemaPath:y})},"".concat(b,"-").concat(t))},t[14]=a,t[15]=p,t[16]=r,t[17]=i,t[18]=s,t[19]=c,t[20]=d,t[21]=e):e=t[21],v=(0,u.jsx)(a7,{className:g,forceRender:a,children:l.map(e)}),t[4]=l,t[5]=a,t[6]=p,t[7]=r,t[8]=i,t[9]=s,t[10]=c,t[11]=d,t[12]=g,t[13]=v}else v=t[13];return v}return null},hL="array-field",hO=e=>{let t=(0,f.c)(40),{addRow:n,attributes:l,copyRow:a,CustomRowLabel:o,duplicateRow:r,errorCount:c,fields:p,forceRender:h,hasMaxRows:m,isDragging:g,isLoading:v,isSortable:b,labels:y,listeners:x,moveRow:w,parentPath:C,pasteRow:j,path:S,permissions:_,readOnly:k,removeRow:N,row:E,rowCount:P,rowIndex:D,schemaPath:T,setCollapse:A,setNodeRef:R,transform:L,transition:O}=e,F=void 0!==h&&h,I=oa(v,500),{i18n:M}=(0,s.d)(),B=eT(),z="".concat((0,d.s)(y.singular,M)," ").concat(String(D+1).padStart(2,"0")),U=c>0&&B,V=U?"".concat(hL,"__row--has-errors"):"".concat(hL,"__row--no-errors"),H;t[0]!==V?(H=["".concat(hL,"__row"),V].filter(Boolean),t[0]=V,t[1]=H):H=t[1];let q=H.join(" "),W="".concat(C.split(".").join("-"),"-row-").concat(D),K=g?1:void 0,Y;if(t[2]!==o||t[3]!==n||t[4]!==l||t[5]!==q||t[6]!==a||t[7]!==r||t[8]!==c||t[9]!==z||t[10]!==U||t[11]!==p||t[12]!==F||t[13]!==m||t[14]!==M||t[15]!==I||t[16]!==b||t[17]!==x||t[18]!==w||t[19]!==C||t[20]!==j||t[21]!==S||t[22]!==_||t[23]!==k||t[24]!==N||t[25]!==E.collapsed||t[26]!==E.id||t[27]!==P||t[28]!==D||t[29]!==T||t[30]!==A||t[31]!==R||t[32]!==W||t[33]!==K||t[34]!==L||t[35]!==O){let e;t[37]!==E.id||t[38]!==A?(e=e=>A(E.id,e),t[37]=E.id,t[38]=A,t[39]=e):e=t[39],Y=(0,u.jsx)("div",{id:W,ref:R,style:{transform:L,transition:O,zIndex:K},children:(0,u.jsx)(a9,{actions:k?void 0:(0,u.jsx)(a1,{addRow:n,copyRow:a,duplicateRow:r,hasMaxRows:m,index:D,isSortable:b,moveRow:w,pasteRow:j,removeRow:N,rowCount:P}),className:q,collapsibleStyle:U?"error":"default",dragHandleProps:b?{id:E.id,attributes:l,listeners:x}:void 0,header:(0,u.jsxs)("div",{className:"".concat(hL,"__row-header"),children:[I?(0,u.jsx)(i.e,{height:"1rem",width:"8rem"}):(0,u.jsx)(eU,{CustomComponent:o,label:z,path:S,rowNumber:D}),U&&(0,u.jsx)(nt,{count:c,i18n:M,withMessage:!0})]}),isCollapsed:E.collapsed,onToggle:e,children:I?(0,u.jsx)(i.e,{}):(0,u.jsx)(hR,{className:"".concat(hL,"__fields"),fields:p,forceRender:F,margins:"small",parentIndexPath:"",parentPath:S,parentSchemaPath:T,permissions:!0===_?_:null==_?void 0:_.fields,readOnly:k})})},"".concat(C,"-row-").concat(E.id)),t[2]=o,t[3]=n,t[4]=l,t[5]=q,t[6]=a,t[7]=r,t[8]=c,t[9]=z,t[10]=U,t[11]=p,t[12]=F,t[13]=m,t[14]=M,t[15]=I,t[16]=b,t[17]=x,t[18]=w,t[19]=C,t[20]=j,t[21]=S,t[22]=_,t[23]=k,t[24]=N,t[25]=E.collapsed,t[26]=E.id,t[27]=P,t[28]=D,t[29]=T,t[30]=A,t[31]=R,t[32]=W,t[33]=K,t[34]=L,t[35]=O,t[36]=Y}else Y=t[36];return Y},hF="array-field",hI=aV(e=>{let{field:t,field:{name:n,type:l,admin:{className:a,description:r,isSortable:c=!0}={},fields:p,label:h,localized:f,maxRows:m,minRows:g,required:v},forceRender:b=!1,path:y,permissions:x,readOnly:w,schemaPath:C,validate:j}=e,S=null!=C?C:n,_=+(null!=g?!!g:!!v),{setDocFieldPreferences:k}=aD(),{addFieldRow:N,dispatchFields:E,getFields:P,moveFieldRow:D,removeFieldRow:T,replaceState:A,setModified:R}=eE(),L=eT(),{code:O}=lD(),{i18n:F,t:I}=(0,s.d)(),{config:{localization:M}}=(0,i.b)(),B=!M||!M.fallback||O===M.defaultLocale,z=(e=>{var t,n;return"labels"in e&&(null==e?void 0:e.labels)?e.labels:"labels"in e.field&&e.field.labels?{plural:null==(t=e.field.labels)?void 0:t.plural,singular:null==(n=e.field.labels)?void 0:n.singular}:"label"in e.field&&e.field.label?{plural:void 0,singular:e.field.label}:{plural:I("general:rows"),singular:I("general:row")}})(e),{customComponents:{AfterInput:U,BeforeInput:V,Description:H,Error:q,Label:W}={},disabled:K,errorPaths:Y,path:G,rows:Q=[],showError:X,valid:$,value:Z}=aB({hasRows:!0,potentiallyStalePath:y,validate:(0,o.useCallback)((e,t)=>!B&&null===e||("function"==typeof j?j(e,{...t,maxRows:m,minRows:_,required:v}):void 0),[m,_,v,j,B])}),J=(0,o.useCallback)(e=>{N({path:G,rowIndex:e,schemaPath:S}),setTimeout(()=>{aJ("".concat(G,"-row-").concat(e))},0)},[N,G,S]),ee=(0,o.useCallback)(e=>{E({type:"DUPLICATE_ROW",path:G,rowIndex:e}),R(!0),setTimeout(()=>{aJ("".concat(G,"-row-").concat(e))},0)},[E,G,R]),et=(0,o.useCallback)(e=>{T({path:G,rowIndex:e})},[T,G]),en=(0,o.useCallback)((e,t)=>{D({moveFromIndex:e,moveToIndex:t,path:G})},[G,D]),el=(0,o.useCallback)(e=>{let{collapsedIDs:t,updatedRows:n}=lO({collapsed:e,rows:Q});k(G,{collapsed:t}),E({type:"SET_ALL_ROWS_COLLAPSED",path:G,updatedRows:n})},[E,G,Q,k]),ea=(0,o.useCallback)((e,t)=>{let{collapsedIDs:n,updatedRows:l}=lL({collapsed:t,rowID:e,rows:Q});E({type:"SET_ROW_COLLAPSED",path:G,updatedRows:l}),k(G,{collapsed:n})},[E,G,Q,k]),eo=(0,o.useCallback)(e=>{let t={...P()},n=tA({type:l,fields:p,getDataToCopy:()=>tM({formState:t,path:G,rowIndex:e}),path:G,rowIndex:e,t:I});"string"==typeof n?eZ.error(n):eZ.success(I("general:copied"))},[p,P,G,I,l]),er=(0,o.useCallback)(e=>{let t={...P()},n=tR({onPaste:n=>{A(tB({dataFromClipboard:n,formState:t,path:G,rowIndex:e})),R(!0)},path:G,schemaFields:p,t:I});"string"==typeof n&&eZ.error(n)},[p,P,G,A,R,I]),ei=(0,o.useCallback)(e=>{A(tB({dataFromClipboard:e,formState:{...P()},path:G})),R(!0)},[P,G,A,R]),es=(0,o.useCallback)(()=>tM({formState:{...P()},path:G}),[P,G]),ec=m&&Q.length>=m,eu=Y.length,ep=L&&Y.length>0,eh=(w||K)&&0===Q.length,ef=Q.length&&Q.length<_||v&&0===Q.length,em=(0,o.useMemo)(()=>aH(t),[t]);return(0,u.jsxs)("div",{className:[aq,hF,a,ep?"".concat(hF,"--has-error"):"".concat(hF,"--has-no-error")].filter(Boolean).join(" "),id:"field-".concat(G.replace(/\./g,"__")),style:em,children:[X&&(0,u.jsx)(ed,{CustomComponent:q,Fallback:(0,u.jsx)(na,{path:G,showError:X})}),(0,u.jsxs)("header",{className:"".concat(hF,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(hF,"__header-wrap"),children:[(0,u.jsxs)("div",{className:"".concat(hF,"__header-content"),children:[(0,u.jsx)("h3",{className:"".concat(hF,"__title"),children:(0,u.jsx)(ed,{CustomComponent:W,Fallback:(0,u.jsx)(lR,{as:"span",label:h,localized:f,path:G,required:v})})}),ep&&eu>0&&(0,u.jsx)(nt,{count:eu,i18n:F,withMessage:!0})]}),(0,u.jsxs)("ul",{className:"".concat(hF,"__header-actions"),children:[(null==Q?void 0:Q.length)>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(hF,"__header-action"),onClick:()=>el(!0),type:"button",children:I("fields:collapseAll")})}),(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(hF,"__header-action"),onClick:()=>el(!1),type:"button",children:I("fields:showAll")})})]}),(0,u.jsx)("li",{children:(0,u.jsx)(tI,{allowCopy:(null==Q?void 0:Q.length)>0,allowPaste:!w,className:"".concat(hF,"__header-action"),disabled:K,fields:p,getDataToCopy:es,onPaste:ei,path:G,type:l})})]})]}),(0,u.jsx)(ed,{CustomComponent:H,Fallback:(0,u.jsx)(nl,{description:r,path:G})})]}),(0,u.jsx)(aZ,{fieldValue:Z,localized:f,path:G,readOnly:w}),V,((null==Q?void 0:Q.length)>0||!$&&(eh||ef))&&(0,u.jsxs)(t7,{className:"".concat(hF,"__draggable-rows"),ids:Q.map(e=>e.id),onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;return en(t,n)},children:[Q.map((e,t)=>{let{id:n,isLoading:l}=e,a="".concat(G,".").concat(t),o=null==Y?void 0:Y.filter(e=>e.startsWith(a+".")).length;return(0,u.jsx)(t9,{disabled:w||K||!c,id:n,children:n=>{var r,i;return(0,u.jsx)(hO,{...n,addRow:J,copyRow:eo,CustomRowLabel:null==Q||null==(i=Q[t])||null==(r=i.customComponents)?void 0:r.RowLabel,duplicateRow:ee,errorCount:o,fields:p,forceRender:b,hasMaxRows:ec,isLoading:l,isSortable:c,labels:z,moveRow:en,parentPath:G,pasteRow:er,path:a,permissions:x,readOnly:w||K,removeRow:et,row:e,rowCount:null==Q?void 0:Q.length,rowIndex:t,schemaPath:S,setCollapse:ea})}},n)}),!$&&(0,u.jsxs)(o.Fragment,{children:[eh&&(0,u.jsx)(tn,{children:I("validation:fieldHasNo",{label:(0,d.s)(z.plural,F)})}),ef&&(0,u.jsx)(tn,{type:"error",children:I("validation:requiresAtLeast",{count:_,label:(0,d.s)(_>1?z.plural:z.singular,F)||I(_>1?"general:rows":"general:row")})})]})]}),!ec&&!w&&(0,u.jsx)(tP,{buttonStyle:"icon-label",className:"".concat(hF,"__add-row"),disabled:K,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:()=>{J(Z||0)},children:I("fields:addLabel",{label:(0,d.s)(z.singular,F)})}),U]})}),hM=e=>{let t=(0,f.c)(12),{disabled:n,path:l}=e,a=void 0===l?"confirm-password":l,{t:o}=(0,s.d)(),r;t[0]!==a?(r={path:a,validate:hB},t[0]=a,t[1]=r):r=t[1];let{disabled:i,setValue:c,showError:d,value:p}=aB(r),h=d&&"error",m;t[2]!==h?(m=[aq,"confirm-password",h].filter(Boolean),t[2]=h,t[3]=m):m=t[3];let g=m.join(" "),v;return t[4]!==i||t[5]!==n||t[6]!==a||t[7]!==c||t[8]!==o||t[9]!==g||t[10]!==p?(v=(0,u.jsxs)("div",{className:g,children:[(0,u.jsx)(lR,{htmlFor:"field-confirm-password",label:o("authentication:confirmPassword"),required:!0}),(0,u.jsxs)("div",{className:"".concat(aq,"__wrap"),children:[(0,u.jsx)(na,{path:a}),(0,u.jsx)("input",{"aria-label":o("authentication:confirmPassword"),autoComplete:"off",disabled:!!(i||n),id:"field-confirm-password",name:"confirm-password",onChange:c,type:"password",value:p||""})]})]}),t[4]=i,t[5]=n,t[6]=a,t[7]=c,t[8]=o,t[9]=g,t[10]=p,t[11]=v):v=t[11],v};function hB(e,t){return(0,H.C5)(e,{name:"confirm-password",type:"text",required:!0,...t})}var hz=e=>{let t=(0,f.c)(28),{AfterInput:n,autoComplete:l,BeforeInput:a,className:o,description:r,Description:i,Error:c,inputRef:p,Label:h,label:m,localized:g,onChange:v,onKeyDown:b,path:y,placeholder:x,readOnly:w,required:C,rtl:j,showError:S,style:_,value:k,width:N}=e,E=void 0===l?"off":l,{i18n:P}=(0,s.d)(),D=S&&"error",T=w&&"read-only",A;t[0]!==o||t[1]!==D||t[2]!==T?(A=[aq,"password",o,D,T].filter(Boolean),t[0]=o,t[1]=D,t[2]=T,t[3]=A):A=t[3];let R=A.join(" "),L;return t[4]!==n||t[5]!==a||t[6]!==i||t[7]!==c||t[8]!==h||t[9]!==E||t[10]!==r||t[11]!==P||t[12]!==p||t[13]!==m||t[14]!==g||t[15]!==v||t[16]!==b||t[17]!==y||t[18]!==x||t[19]!==w||t[20]!==C||t[21]!==j||t[22]!==S||t[23]!==_||t[24]!==R||t[25]!==k||t[26]!==N?(L=(0,u.jsxs)("div",{className:R,style:{..._,width:N},children:[(0,u.jsx)(ed,{CustomComponent:h,Fallback:(0,u.jsx)(lR,{label:m,localized:g,path:y,required:C})}),(0,u.jsxs)("div",{className:"".concat(aq,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:c,Fallback:(0,u.jsx)(na,{path:y,showError:S})}),(0,u.jsxs)("div",{children:[a,(0,u.jsx)("input",{"aria-label":(0,d.s)(m,P),autoComplete:E,"data-rtl":j,disabled:w,id:"field-".concat(y.replace(/\./g,"__")),name:y,onChange:v,onKeyDown:b,placeholder:(0,d.s)(x,P),ref:p,type:"password",value:k||""}),n]}),(0,u.jsx)(ed,{CustomComponent:i,Fallback:(0,u.jsx)(nl,{description:r,path:y})})]})]}),t[4]=n,t[5]=a,t[6]=i,t[7]=c,t[8]=h,t[9]=E,t[10]=r,t[11]=P,t[12]=p,t[13]=m,t[14]=g,t[15]=v,t[16]=b,t[17]=y,t[18]=x,t[19]=w,t[20]=C,t[21]=j,t[22]=S,t[23]=_,t[24]=R,t[25]=k,t[26]=N,t[27]=L):L=t[27],L},hU=aV(e=>{let{autoComplete:t,field:n,field:{admin:{className:l,disabled:a,placeholder:r,rtl:c}={},label:d,localized:p,required:h}={},inputRef:f,path:m,validate:g}=e,{t:v}=(0,s.d)(),b=lD(),{config:y}=(0,i.b)(),x=(0,o.useCallback)((e,t)=>{let n=m?m.split("."):[];return"function"==typeof g?g(e,{...t,required:h}):(0,H.wJ)(e,{name:"password",type:"text",blockData:{},data:{},event:"onChange",path:n,preferences:{fields:{}},req:{payload:{config:y},t:v},required:!0,siblingData:{}})},[g,y,v,h,m]),{customComponents:{AfterInput:w,BeforeInput:C,Description:j,Error:S,Label:_}={},disabled:k,setValue:N,showError:E,value:P}=aB({path:m,validate:x}),D=aW({fieldLocalized:!1,fieldRTL:c,locale:b,localizationConfig:y.localization||void 0}),T=(0,o.useMemo)(()=>aH(n),[n]);return(0,u.jsx)(hz,{AfterInput:w,autoComplete:t,BeforeInput:C,className:l,Description:j,Error:S,inputRef:f,Label:_,label:d,localized:p,onChange:e=>{N(e.target.value)},path:m,placeholder:r,readOnly:k||a,required:h,rtl:D,showError:E,style:T,value:P||""})}),hV={array:hI,blocks:o_,checkbox:a$,code:oP,collapsible:oR,confirmPassword:hM,date:sG,email:sQ,group:s2,hidden:s6,join:uc,json:uu,number:ud,password:hU,point:uh,radio:uv,relationship:uW,richText:uK,row:uY,select:uX,tabs:ds,text:dg,textarea:db,ui:dy,upload:hD},hH={...hV,Description:nl,Error:na,Label:lR,RowLabel:eU},hq=new Map([]),hW={altleft:"alt",altright:"alt",controlleft:"ctrl",controlright:"ctrl",ctrlleft:"ctrl",ctrlright:"ctrl",escape:"esc",metaleft:"meta",metaright:"meta",osleft:"meta",osright:"meta",shiftleft:"shift",shiftright:"shift"},hK=e=>(hW[e.toLowerCase()]||e).trim().toLowerCase().replace("key",""),hY=(e,t)=>{let n=(0,f.c)(9),{cmdCtrlKey:l,editDepth:a,keyCodes:r}=e,{modalState:i}=nN(),s;n[0]!==l||n[1]!==a||n[2]!==t||n[3]!==r||n[4]!==i?(s=e=>{var n,o;let s=(null==(n=e.detail)?void 0:n.key)?e.detail:e;if(void 0===s.key)return;hq.forEach(hG),s.code&&(e=>{let t=hK(e);"meta"===t&&hq.forEach((e,t)=>"meta"!==t&&hq.delete(t)),hq.set(t,Date.now())})(s.code);let c=window.navigator.userAgent.includes("Mac OS X"),u=[...hq.keys()].filter(hQ);if((0,q._)(new Set(u),new Set(r))&&(!l||c&&hq.has("meta")||!c&&s.ctrlKey)){if(((null==(o=Object.keys(i).filter(e=>{var t;return null==(t=i[e])?void 0:t.isOpen}))?void 0:o.length)+1||1)!==a)return;t(s)}},n[0]=l,n[1]=a,n[2]=t,n[3]=r,n[4]=i,n[5]=s):s=n[5];let c=s,u,d;n[6]!==c?(u=()=>(document.addEventListener("keydown",c,!1),document.addEventListener("bypassKeyDown",c,!1),document.addEventListener("keyup",hX,!1),()=>{document.removeEventListener("keydown",c),document.removeEventListener("bypassKeyDown",c),document.removeEventListener("keyup",hX)}),d=[c,hX],n[6]=c,n[7]=u,n[8]=d):(u=n[7],d=n[8]),(0,o.useEffect)(u,d)};function hG(e,t){Date.now()-e>3e3&&hq.delete(t)}function hQ(e){return!["alt","ctrl","meta","shift"].includes(e)}function hX(e){let t;e.code&&("meta"===(t=hK(e.code))&&hq.clear(),hq.delete(t))}var h$=(e,t)=>{let n,l,a,r,i,c,u=(0,f.c)(30),d;u[0]!==t?(d=void 0===t?{}:t,u[0]=t,u[1]=d):d=u[1];let{initialData:p,initialParams:h}=d,m;u[2]!==h?(m=void 0===h?{}:h,u[2]=h,u[3]=m):m=u[3];let g=m,{i18n:v}=(0,s.d)(),y;u[4]!==p?(y=p||{},u[4]=p,u[5]=y):y=u[5];let[x,w]=(0,o.useState)(y),[C,j]=(0,o.useState)(g),[S,_]=(0,o.useState)(!p),[k,N]=(0,o.useState)(!1),{code:E}=lD(),P=(0,o.useRef)(!1),D;u[6]!==E||u[7]!==C?(D=b.A({locale:E,..."object"==typeof C?C:{}},{addQueryPrefix:!0}),u[6]=E,u[7]=C,u[8]=D):D=u[8];let T=D,A;return u[9]!==v.language||u[10]!==p||u[11]!==T||u[12]!==e?(A=()=>{if(p&&!P.current){P.current=!0;return}let t=new AbortController;return e?(async()=>{N(!1),_(!0);try{let n=await lv.get("".concat(e).concat(T),{headers:{"Accept-Language":v.language},signal:t.signal});n.status>201&&N(!0);let l=await n.json();w(l),_(!1)}catch(e){t.signal.aborted||(N(!0),_(!1))}})():(N(!1),_(!1)),()=>{try{t.abort()}catch(e){}}},u[9]=v.language,u[10]=p,u[11]=T,u[12]=e,u[13]=A):A=u[13],u[14]!==v.language||u[15]!==p||u[16]!==E||u[17]!==T||u[18]!==e?(n=[e,E,T,v.language,p],u[14]=v.language,u[15]=p,u[16]=E,u[17]=T,u[18]=e,u[19]=n):n=u[19],(0,o.useEffect)(A,n),u[20]!==p?(l=()=>{p&&P.current&&w(p)},a=[p],u[20]=p,u[21]=l,u[22]=a):(l=u[21],a=u[22]),(0,o.useEffect)(l,a),u[23]!==x||u[24]!==k||u[25]!==S?(r={data:x,isError:k,isLoading:S},u[23]=x,u[24]=k,u[25]=S,u[26]=r):r=u[26],u[27]===Symbol.for("react.memo_cache_sentinel")?(i={setParams:j},u[27]=i):i=u[27],u[28]!==r?(c=[r,i],u[28]=r,u[29]=c):c=u[29],c},hZ=e=>{let t,n=(0,f.c)(5),[l,a]=(0,o.useState)(),r,i;return n[0]!==e?(r=()=>{let t;return e&&(t=new ResizeObserver(e=>{e.forEach(e=>{let{contentBoxSize:t,contentRect:n}=e,l=0,o=0;if(t){let e=Array.isArray(t)?t[0]:t;if(e){let{blockSize:t,inlineSize:n}=e;l=n,o=t}}else if(n){let{height:e,width:t}=n;l=t,o=e}a({height:o,width:l})})})).observe(e),()=>{t&&t.unobserve(e)}},i=[e],n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]),(0,o.useEffect)(r,i),n[3]!==l?(t={size:l},n[3]=l,n[4]=t):t=n[4],t},hJ=e=>{var t;let n=(0,f.c)(4),{admin:l,fields:a}=e,{useAsTitle:o}=l,{i18n:r}=(0,s.d)(),i;return n[0]!==a||n[1]!==r||n[2]!==o?(i=null==(t=(0,j.L)(a,{i18n:r,moveSubFieldsToTop:!0}))?void 0:t.find(e=>"name"in e&&e.name===o),n[0]=a,n[1]=r,n[2]=o,n[3]=i):i=n[3],i},h0=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"fill",d:"M2.5 13.3333L5.83333 16.6667M5.83333 16.6667L9.16667 13.3333M5.83333 16.6667V3.33333M9.16667 7.08333H17.5M9.16667 10.4167H15M11.6667 13.75H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})})},h1=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"fill",d:"M2.5 6.66668L5.83333 3.33334M5.83333 3.33334L9.16667 6.66668M5.83333 3.33334V16.6667M11.6667 7.08354H17.5M9.16667 10.4169H15M9.16667 13.7502H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})})},h3="sort-header",h2=e=>{let t=(0,f.c)(8),{appearance:n}=e,{handleSortPress:l,isActive:a,sort:r}=function(){let e,t=(0,f.c)(12),{handleSortChange:n,orderableFieldName:l,query:a}=ct(),r=Array.isArray(a.sort)?a.sort[0]:a.sort,i=(0,o.useRef)(r==="-".concat(l)?"desc":"asc"),s=r==="-".concat(l)||r===l,c,u;t[0]!==s||t[1]!==l||t[2]!==r?(c=()=>{s&&(i.current=r==="-".concat(l)?"desc":"asc")},u=[l,r,s],t[0]=s,t[1]=l,t[2]=r,t[3]=c,t[4]=u):(c=t[3],u=t[4]),(0,o.useEffect)(c,u),t[5]!==n||t[6]!==s||t[7]!==l?(e=()=>{if(s){n("asc"===i.current?"-".concat(l):l),i.current="asc"===i.current?"desc":"asc";return}n("asc"===i.current?l:"-".concat(l))},t[5]=n,t[6]=s,t[7]=l,t[8]=e):e=t[8];let d=e,p;return t[9]!==d||t[10]!==s?(p={handleSortPress:d,isActive:s,sort:i},t[9]=d,t[10]=s,t[11]=p):p=t[11],p}(),{t:i}=(0,s.d)(),c=n&&"".concat(h3,"--appearance-").concat(n),d;t[0]!==c?(d=[h3,c].filter(Boolean),t[0]=c,t[1]=d):d=t[1];let p=d.join(" "),h;return t[2]!==l||t[3]!==a||t[4]!==r.current||t[5]!==i||t[6]!==p?(h=(0,u.jsx)("div",{className:p,children:(0,u.jsx)("div",{className:"".concat(h3,"__buttons"),children:"desc"===r.current?(0,u.jsx)("button",{"aria-label":i("general:sortByLabelDirection",{direction:i("general:ascending"),label:"Order"}),className:"".concat(h3,"__button ").concat(h3,"__").concat(r.current," ").concat(a?"".concat(h3,"--active"):""),onClick:l,type:"button",children:(0,u.jsx)(h0,{})}):(0,u.jsx)("button",{"aria-label":i("general:sortByLabelDirection",{direction:i("general:descending"),label:"Order"}),className:"".concat(h3,"__button ").concat(h3,"__").concat(r.current," ").concat(a?"".concat(h3,"--active"):""),onClick:l,type:"button",children:(0,u.jsx)(h1,{})})})}),t[2]=l,t[3]=a,t[4]=r.current,t[5]=i,t[6]=p,t[7]=h):h=t[7],h},h6="sort-row",h5=()=>{let e=(0,f.c)(2),{orderableFieldName:t,query:n}=ct(),l=n.sort===t||n.sort==="-".concat(t),a="".concat(h6," ").concat(l?"active":""),o;return e[0]!==a?(o=(0,u.jsx)("div",{className:a,role:"button",tabIndex:0,children:(0,u.jsx)(a3,{className:"".concat(h6,"__icon")})}),e[0]=a,e[1]=o):o=e[1],o},h4=e=>{let{cellMap:t,columns:n,dragAttributes:l={},dragListeners:a={},rowId:o,...r}=e;return(0,u.jsx)("tr",{...r,children:n.map((e,n)=>{let{accessor:r}=e,i=e.renderedCells[t[o]];return"_dragHandle"===r?(0,u.jsx)("td",{className:"cell-".concat(r),children:(0,u.jsx)("div",{...l,...a,children:i})},n):(0,u.jsx)("td",{className:"cell-".concat(r),children:i},n)})})},h8=e=>{let{children:t,className:n,rowId:l}=e;return typeof l>"u"?null:(0,u.jsx)("div",{className:n,children:(0,u.jsx)("table",{cellPadding:0,cellSpacing:0,children:(0,u.jsx)("tbody",{children:t})})})},h9="table",h7=e=>{let{appearance:t="default",BeforeTable:n,collection:l,columns:a,data:r}=e,{config:s}=(0,i.b)(),{data:c,orderableFieldName:d,query:p}=ct(),h=(null==c?void 0:c.docs)||r,[f,m]=(0,o.useState)(h),[v,b]=(0,o.useState)({}),[y,x]=(0,o.useState)();(0,o.useEffect)(()=>{m(h),b(Object.fromEntries(h.map((e,t)=>{var n;return[String(null!=(n=e.id)?n:e._id),t]})))},[h]);let w=null==a?void 0:a.filter(e=>null==e?void 0:e.active);if(!w||0===w.filter(e=>!["_dragHandle","_select"].includes(e.accessor)).length)return(0,u.jsx)("div",{children:"No columns selected"});let C=async e=>{var t,n,a;let{moveFromIndex:o,moveToIndex:r}=e;if(p.sort!==d&&p.sort!=="-".concat(d)){eZ.warning('To reorder the rows you must first sort them by the "Order" column'),x(void 0);return}if(o===r)return void x(void 0);let i=null!=(t=f[o].id)?t:f[o]._id,c=r>o?f[r]:f[r-1],u=r>o?f[r+1]:f[r],h=[...f];m(e=>{let t=[...e];return t[o][d]="pending",t.splice(r,0,t.splice(o,1)[0]),t});try{let e=c?{id:null!=(n=c.id)?n:c._id,key:c[d]}:{id:null!=(a=u.id)?a:u._id,key:u[d]},t=c&&p.sort===d||!c&&p.sort==="-".concat(d)?"greater":"less",o={collectionSlug:l.slug,docsToMove:[i],newKeyWillBe:t,orderableFieldName:d,target:e},r=await fetch("".concat(s.serverURL).concat(s.routes.api,"/reorder"),{body:JSON.stringify(o),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(403===r.status)throw Error("You do not have permission to reorder these rows");if(!r.ok)throw Error("Failed to reorder. This can happen if you reorder several rows too quickly. Please try again.");if(200===r.status&&"initial migration"===(await r.json()).message)throw Error('You have enabled "orderable" on a collection with existing documentsand this is the first time you have sorted documents. We have run an automatic migration to add an initial order to the documents. Please refresh the page and try again.')}catch(t){let e=t instanceof Error?t.message:String(t);m(h),eZ.error(e)}finally{x(void 0)}},j=f.map(e=>{var t;return null!=(t=e.id)?t:e._id});return(0,u.jsxs)("div",{className:[h9,t&&"".concat(h9,"--appearance-").concat(t)].filter(Boolean).join(" "),children:[n,(0,u.jsxs)(t7,{ids:j,onDragEnd:C,onDragStart:e=>{let{id:t}=e;x(t)},children:[(0,u.jsxs)("table",{cellPadding:"0",cellSpacing:"0",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:w.map((e,t)=>(0,u.jsx)("th",{id:"heading-".concat(e.accessor),children:e.Heading},t))})}),(0,u.jsx)("tbody",{children:f.map((e,t)=>(0,u.jsx)(t9,{id:j[t],children:n=>{var l;let{attributes:a,isDragging:o,listeners:r,setNodeRef:i,transform:s,transition:c}=n;return(0,u.jsx)(h4,{cellMap:v,className:"row-".concat(t+1),columns:w,dragAttributes:a,dragListeners:r,ref:i,rowId:null!=(l=e.id)?l:e._id,style:{opacity:+!o,transform:s,transition:c}})}},j[t]))})]}),(0,u.jsx)(g.Hd,{children:(0,u.jsx)(h8,{className:[h9,"".concat(h9,"--drag-preview")].join(" "),rowId:y,children:(0,u.jsx)(h4,{cellMap:v,columns:w,rowId:y})})})]})]})},fe=e=>{let{cellData:t}=e;return(0,u.jsx)("div",{className:"query-preset-columns-cell",children:t?(0,_.F)(t).map((e,t)=>{let n=!e.startsWith("-");return n?(0,u.jsx)(ol,{pillStyle:n?"always-white":"light",size:"small",children:(0,W.x4)(e)},t):null}):"No columns selected"})},ft=e=>{let{cellData:t}=e;return(0,u.jsx)("div",{children:t?(e=>{if(e.or&&e.or.length>0&&e.or[0].and&&e.or[0].and.length>0){var t,n;let l=null==(n=e.or[0])||null==(t=n.and)?void 0:t[0];if(!l)return"No where query";let a=Object.keys(l)[0];if(!l[a])return"No where query";let o=Object.keys(l[a])[0],r=l[a][o];return"".concat((0,W.x4)(a)," ").concat(o," ").concat((0,W.x4)(r))}return""})(t):"No where query"})},fn=e=>{let{cellData:t}=e,n=["read","update","delete"];return(0,u.jsx)("p",{children:n.reduce((e,l,a)=>{let r=null==t?void 0:t[l];return r&&r.constraint&&e.push((0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("span",{children:[(0,u.jsx)("strong",{children:(0,W.x4)(l)}),": ",(0,W.x4)(r.constraint)]}),a!==n.length-1&&", "]},l)),e},[])})},fl=e=>{let t=(0,f.c)(5),{field:n}=e,{label:l,required:a}=n,{path:o,value:r}=aB(),i;return t[0]!==l||t[1]!==o||t[2]!==a||t[3]!==r?(i=(0,u.jsxs)("div",{className:"field-type query-preset-columns-field",children:[(0,u.jsx)(lR,{as:"h3",label:l,path:o,required:a}),(0,u.jsx)("div",{className:"value-wrapper",children:r?(0,_.F)(r).map(fa):"No columns selected"})]}),t[0]=l,t[1]=o,t[2]=a,t[3]=r,t[4]=i):i=t[4],i};function fa(e,t){let n=!e.startsWith("-");return(0,u.jsx)(ol,{pillStyle:n?"always-white":"light-gray",size:"small",children:(0,W.x4)(e)},t)}var fo=e=>{var t;let{field:n}=e,{label:l,required:a}=n,{path:r,value:c}=aB(),{collectionSlug:p}=ct(),{getEntityConfig:h}=(0,i.b)(),f=h({collectionSlug:p}),{i18n:m}=(0,s.d)();return(0,u.jsxs)("div",{className:"field-type query-preset-where-field",children:[(0,u.jsx)(lR,{as:"h3",label:l,path:r,required:a}),(0,u.jsx)("div",{className:"value-wrapper",children:c?((e,t)=>{if(!e)return null;let n=e=>{let t=Object.keys(e)[0];if(!e[t])return"No where query";let n=Object.keys(e[t])[0],l=e[t][n],a=e=>{var t;if("object"==typeof e&&null!=e)try{return new Date(e).toLocaleDateString()}catch(e){return"Unknown error has occurred"}return null!=(t=null==e?void 0:e.toString())?t:""},o=Array.isArray(l)?l.map(a).join(", "):a(l);return(0,u.jsxs)(ol,{pillStyle:"always-white",size:"small",children:[(0,u.jsx)("b",{children:(0,W.x4)(t)})," ",n," ",(0,u.jsx)("b",{children:(0,W.x4)(o)})]})};return((e,t)=>e.or&&e.or.length>0?(0,u.jsx)("div",{className:"or-condition",children:e.or.map((e,l)=>(0,u.jsx)(o.Fragment,{children:e.and&&e.and.length>0?(0,u.jsxs)("div",{className:"and-condition",children:[0===l&&(0,u.jsx)("span",{className:"label",children:"Filter ".concat(t," where ")}),l>0&&(0,u.jsx)("span",{className:"label",children:" or "}),e.and.map((t,l)=>(0,u.jsxs)(o.Fragment,{children:[n(t),l<e.and.length-1&&(0,u.jsx)("span",{className:"label",children:" and "})]},l))]}):n(e)},l))}):n(e))(e,t)})(c,(0,d.s)(null==f||null==(t=f.labels)?void 0:t.plural,m)):"No where query"})]})},fr="leave-without-saving",fi=e=>{let t,n=(0,f.c)(18),{onConfirm:l,onPrevent:a}=e,{closeModal:r,openModal:i}=nN(),c=eL(),{isValid:d}=eE(),{user:p}=lx(),[m,g]=o.useState(!1),{t:v}=(0,s.d)(),b=!!((c||!d)&&p),y;n[0]!==a||n[1]!==i?(y=()=>{var e;let t=(null==(e=document.activeElement)?void 0:e.href)||null;a&&a(t),i(fr)},n[0]=a,n[1]=i,n[2]=y):y=n[2];let x=y,w;n[3]!==r?(w=()=>{r(fr)},n[3]=r,n[4]=w):w=n[4];let C=w,j;n[5]!==C||n[6]!==x||n[7]!==m||n[8]!==b?(j={hasAccepted:m,onAccept:C,onPrevent:x,prevent:b},n[5]=C,n[6]=x,n[7]=m,n[8]=b,n[9]=j):j=n[9],(e=>{let{hasAccepted:t=!1,message:n="Are you sure want to leave this page?",onAccept:l,onPrevent:a,prevent:r=!0}=e;((e,t)=>{let n=(0,f.c)(7),l=void 0===e||e,a;n[0]!==l||n[1]!==t?(a=e=>{if("function"!=typeof l||l())return e.preventDefault(),t&&(e.returnValue=t),t},n[0]=l,n[1]=t,n[2]=a):a=n[2];let r=a,i,s;n[3]!==l||n[4]!==r?(i=()=>{if(l)return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];e&&e.addEventListener&&e.addEventListener(...n)}(window,"beforeunload",r),()=>(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];e&&e.removeEventListener&&e.removeEventListener(...n)})(window,"beforeunload",r)},s=[l,r],n[3]=l,n[4]=r,n[5]=i,n[6]=s):(i=n[5],s=n[6]),(0,o.useEffect)(i,s)})(r,n);let{startRouteTransition:i}=e4(),s=(0,h.useRouter)(),c=(0,o.useRef)("");(0,o.useEffect)(()=>{function e(e){try{let t=e.target,l=function(e){for(;e&&"a"!==e.tagName.toLowerCase();)e=e.parentElement;return e}(t);if(l){let t=window.location.href,o=l.href,i=function(e,t){try{let n=new URL(e),l=new URL(t);if(n.hostname===l.hostname&&n.pathname===l.pathname&&n.search===l.search){let e=n.hash,t=l.hash;return e!==t&&n.href.replace(e,"")===l.href.replace(t,"")}}catch(e){console.log("Unexpected exception thrown in LeaveWithoutSaving:isAnchorOfCurrentUrl",e)}return!1}(t,o),s=""!==l.download,u="_blank"===l.target||e.metaKey||e.ctrlKey;!(o===t||i||s||u)&&r&&(a||!window.confirm(n))&&(c.current=o,e.preventDefault(),e.stopPropagation(),"function"==typeof a&&a())}}catch(e){console.log("Unexpected exception thrown in LeaveWithoutSaving:usePreventLeave",e)}}return document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}},[a,r,n]),(0,o.useEffect)(()=>{t&&c.current&&(l&&l(),i(()=>s.push(c.current)))},[t,l,s,i])})(j),n[10]!==r?(t=()=>{r(fr)},n[10]=r,n[11]=t):t=n[11];let S=t,_;n[12]!==l?(_=async()=>{if(l)try{await l()}catch(e){console.error("Error in LeaveWithoutSaving onConfirm:",e)}g(!0)},n[12]=l,n[13]=_):_=n[13];let k=_,N;return n[14]!==k||n[15]!==S||n[16]!==v?(N=(0,u.jsx)(lh,{body:v("general:changesNotSaved"),cancelLabel:v("general:stayOnThisPage"),confirmLabel:v("general:leaveAnyway"),heading:v("general:leaveWithoutSaving"),modalSlug:fr,onCancel:S,onConfirm:k}),n[14]=k,n[15]=S,n[16]=v,n[17]=N):N=n[17],N},fs="document-take-over",fc="document-take-over",fu=e=>{let t,n=(0,f.c)(19),{handleBackToDashboard:l,isActive:a,onReadOnly:r}=e,{closeModal:i,openModal:c}=nN(),{t:d}=(0,s.d)(),{startRouteTransition:p}=e4(),{clearRouteCache:h}=d9(),m,g;if(n[0]!==i||n[1]!==a||n[2]!==c?(m=()=>{a?c(fs):i(fs)},g=[a,c,i],n[0]=i,n[1]=a,n[2]=c,n[3]=m,n[4]=g):(m=n[3],g=n[4]),(0,o.useEffect)(m,g),n[5]!==h||n[6]!==i||n[7]!==l||n[8]!==r||n[9]!==p||n[10]!==d){let e,a;n[12]!==l||n[13]!==p?(e=()=>{p(()=>l())},n[12]=l,n[13]=p,n[14]=e):e=n[14],n[15]!==h||n[16]!==i||n[17]!==r?(a=()=>{r(),i(fs),h()},n[15]=h,n[16]=i,n[17]=r,n[18]=a):a=n[18],t=(0,u.jsx)(nH,{className:fc,closeOnBlur:!1,slug:fs,children:(0,u.jsxs)("div",{className:"".concat(fc,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(fc,"__content"),children:[(0,u.jsx)("h1",{children:d("general:editingTakenOver")}),(0,u.jsx)("p",{children:d("general:anotherUserTakenOver")})]}),(0,u.jsxs)("div",{className:"".concat(fc,"__controls"),children:[(0,u.jsx)(tP,{buttonStyle:"primary",id:"".concat(fs,"-back-to-dashboard"),onClick:e,size:"large",children:d("general:backToDashboard")}),(0,u.jsx)(tP,{buttonStyle:"secondary",id:"".concat(fs,"-view-read-only"),onClick:a,size:"large",children:d("general:viewReadOnly")})]})]})}),n[5]=h,n[6]=i,n[7]=l,n[8]=r,n[9]=p,n[10]=d,n[11]=t}else t=n[11];return t},fd="document-locked",fp="document-locked",fh=e=>{let t,n,l=(0,f.c)(32),{handleGoBack:a,isActive:r,onReadOnly:i,onTakeOver:c,updatedAt:d,user:p}=e,{closeModal:h,openModal:m}=nN(),{t:g}=(0,s.d)(),{clearRouteCache:v}=d9(),{startRouteTransition:b}=e4(),y,x;if(l[0]!==h||l[1]!==r||l[2]!==m?(y=()=>{r?m(fd):h(fd)},x=[r,m,h],l[0]=h,l[1]=r,l[2]=m,l[3]=y,l[4]=x):(y=l[3],x=l[4]),(0,o.useEffect)(y,x),l[5]!==a||l[6]!==b?(t=()=>{b(()=>a())},l[5]=a,l[6]=b,l[7]=t):t=l[7],l[8]!==v||l[9]!==h||l[10]!==a||l[11]!==i||l[12]!==c||l[13]!==b||l[14]!==g||l[15]!==t||l[16]!==d||l[17]!==p){var w;let e,o,r,s;l[19]!==g||l[20]!==p?(e=(e=>e&&"object"==typeof e)(p)?null!=(w=p.email)?w:p.id:"".concat(g("general:user"),": ").concat(p),l[19]=g,l[20]=p,l[21]=e):e=l[21],l[22]!==a||l[23]!==b?(o=()=>{b(()=>a())},l[22]=a,l[23]=b,l[24]=o):o=l[24],l[25]!==v||l[26]!==h||l[27]!==i?(r=()=>{i(),h(fd),v()},l[25]=v,l[26]=h,l[27]=i,l[28]=r):r=l[28],l[29]!==h||l[30]!==c?(s=()=>{c(),h(fd)},l[29]=h,l[30]=c,l[31]=s):s=l[31],n=(0,u.jsx)(nH,{className:fp,closeOnBlur:!1,onClose:t,slug:fd,children:(0,u.jsxs)("div",{className:"".concat(fp,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(fp,"__content"),children:[(0,u.jsx)("h1",{children:g("general:documentLocked")}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:e})," ",g("general:currentlyEditing")]}),(0,u.jsxs)("p",{children:[g("general:editedSince")," ",(0,u.jsx)("strong",{children:(e=>e?new Intl.DateTimeFormat("en-US",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}).format(new Date(e)):"")(d)})]})]}),(0,u.jsxs)("div",{className:"".concat(fp,"__controls"),children:[(0,u.jsx)(tP,{buttonStyle:"secondary",id:"".concat(fd,"-go-back"),onClick:o,size:"large",children:g("general:goBack")}),(0,u.jsx)(tP,{buttonStyle:"secondary",id:"".concat(fd,"-view-read-only"),onClick:r,size:"large",children:g("general:viewReadOnly")}),(0,u.jsx)(tP,{buttonStyle:"primary",id:"".concat(fd,"-take-over"),onClick:s,size:"large",children:g("general:takeOver")})]})]})}),l[8]=v,l[9]=h,l[10]=a,l[11]=i,l[12]=c,l[13]=b,l[14]=g,l[15]=t,l[16]=d,l[17]=p,l[18]=n}else n=l[18];return n};function ff(e){let t=(0,f.c)(3),{i18n:n}=(0,s.d)(),{description:l}=e;if(l){let e;return t[0]!==l||t[1]!==n?(e=(0,u.jsx)("div",{className:"custom-view-description",children:(0,d.s)(l,n)}),t[0]=l,t[1]=n,t[2]=e):e=t[2],e}return null}var fm="graphic-account",fg=e=>(0,u.jsxs)("svg",{className:[fm,(null==e?void 0:e.active)&&"".concat(fm,"--active")].filter(Boolean).join(" "),height:"25",viewBox:"0 0 25 25",width:"25",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("circle",{className:"".concat(fm,"__bg"),cx:"12.5",cy:"12.5",r:"11.5"}),(0,u.jsx)("circle",{className:"".concat(fm,"__head"),cx:"12.5",cy:"10.73",r:"3.98"}),(0,u.jsx)("path",{className:"".concat(fm,"__body"),d:"M12.5,24a11.44,11.44,0,0,0,7.66-2.94c-.5-2.71-3.73-4.8-7.66-4.8s-7.16,2.09-7.66,4.8A11.44,11.44,0,0,0,12.5,24Z"})]}),fv=(0,c.e)(eu(),1),fb=()=>{let e=(0,f.c)(2),{user:t}=lx(),n=(0,fv.default)(t.email.trim().toLowerCase()),l="?".concat(new URLSearchParams({default:"mp",r:"g",s:"50"}).toString()),a="https://www.gravatar.com/avatar/".concat(n).concat(l),o;return e[0]!==a?(o=(0,u.jsx)("img",{alt:"yas",className:"gravatar-account",height:25,src:a,style:{borderRadius:"50%"},width:25}),e[0]=a,e[1]=o):o=e[1],o},fy=()=>{let e=(0,f.c)(3),{config:t}=(0,i.b)(),{admin:n,routes:l}=t,{avatar:a,routes:o}=n,{account:r}=o,{admin:s}=l,{user:c}=lx(),d=(0,h.usePathname)()===(0,v.Q)({adminRoute:s,path:r});if(!(null==c?void 0:c.email)||"default"===a){let t;return e[0]!==d?(t=(0,u.jsx)(fg,{active:d}),e[0]=d,e[1]=t):t=e[1],t}if("gravatar"===a){let t;return e[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,u.jsx)(fb,{}),e[2]=t):t=e[2],t}},fx=(0,o.createContext)({Actions:{},setViewActions:()=>{}}),fw=()=>(0,o.use)(fx),fC=e=>{let t=(0,f.c)(4),{Actions:n,children:l}=e,[a,r]=(0,o.useState)(n),i;return t[0]!==n||t[1]!==l||t[2]!==a?(i=(0,u.jsx)(fx,{value:{Actions:{...a,...n},setViewActions:r},children:l}),t[0]=n,t[1]=l,t[2]=a,t[3]=i):i=t[3],i},fj=()=>(0,u.jsx)("svg",{className:"icon icon--close-menu",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 6L6 14M6 6L14 14",strokeLinecap:"square"})}),fS=()=>(0,u.jsx)("svg",{className:"icon icon--menu",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M4.66667 10H15.3333M4.66667 6H15.3333M4.66667 14H15.3333",strokeLinecap:"square"})}),f_="hamburger",fk=e=>{let t=(0,f.c)(4),{t:n}=(0,s.d)(),{closeIcon:l,isActive:a}=e,o=void 0===l?"x":l,r=void 0!==a&&a,i;return t[0]!==o||t[1]!==r||t[2]!==n?(i=(0,u.jsxs)("div",{className:f_,children:[!r&&(0,u.jsx)("div",{"aria-label":n("general:open"),className:"".concat(f_,"__open-icon"),title:n("general:open"),children:(0,u.jsx)(fS,{})}),r&&(0,u.jsxs)("div",{"aria-label":n("collapse"===o?"general:collapse":"general:close"),className:"".concat(f_,"__close-icon"),title:n("collapse"===o?"general:collapse":"general:close"),children:["x"===o&&(0,u.jsx)(fj,{}),"collapse"===o&&(0,u.jsx)(tl,{direction:"left"})]})]}),t[0]=o,t[1]=r,t[2]=n,t[3]=i):i=t[3],i},fN="localizer-button",fE=e=>{let t=(0,f.c)(8),{ariaLabel:n,className:l}=e,a=lD(),{i18n:o,t:r}=(0,s.d)(),i;if(t[0]!==n||t[1]!==l||t[2]!==o||t[3]!==a||t[4]!==r){let e;t[6]!==l?(e=[fN,l].filter(Boolean),t[6]=l,t[7]=e):e=t[7],i=(0,u.jsxs)("div",{"aria-label":n||r("general:locale"),className:e.join(" "),"data-locale":a?a.code:void 0,children:[(0,u.jsxs)("div",{className:"".concat(fN,"__label"),children:["".concat(r("general:locale"),":"),"\xa0"]}),(0,u.jsxs)("div",{className:"".concat(fN,"__current"),children:[(0,u.jsx)("span",{className:"".concat(fN,"__current-label"),children:"".concat((0,d.s)(a.label,o))}),(0,u.jsx)(tl,{className:"".concat(fN,"__chevron")})]})]}),t[0]=n,t[1]=l,t[2]=o,t[3]=a,t[4]=r,t[5]=i}else i=t[5];return i},fP="localizer",fD=e=>{let t=(0,f.c)(17),{className:n}=e,{config:l}=(0,i.b)(),{localization:a}=l,r=(0,h.useRouter)(),{startRouteTransition:c}=e4(),{setLocaleIsLoading:p}=lP(),{i18n:m}=(0,s.d)(),g=lD();if(a){let{locales:e}=a,l;t[0]!==n?(l=[fP,n].filter(Boolean),t[0]=n,t[1]=l):l=t[1];let i=l.join(" "),s;if(t[2]!==m||t[3]!==g||t[4]!==e||t[5]!==r||t[6]!==p||t[7]!==c||t[8]!==i){let n;t[10]!==m||t[11]!==g||t[12]!==e||t[13]!==r||t[14]!==p||t[15]!==c?(n=t=>{let{close:n}=t;return(0,u.jsx)(ts.ButtonGroup,{children:e.map(e=>{let t=(0,d.s)(e.label,m);return(0,u.jsx)(ts.Button,{active:g.code===e.code,disabled:g.code===e.code,onClick:()=>{p(!0),n();let t=new URLSearchParams(window.location.search),l=b.A({...k.q(t.toString(),{depth:10,ignoreQueryPrefix:!0}),locale:e.code},{addQueryPrefix:!0});c(()=>{r.push(l)})},children:t!==e.code?(0,u.jsxs)(o.Fragment,{children:[t,"\xa0",(0,u.jsx)("span",{className:"".concat(fP,"__locale-code"),"data-locale":e.code,children:"(".concat(e.code,")")})]}):(0,u.jsx)("span",{className:"".concat(fP,"__locale-code"),"data-locale":e.code,children:t})},e.code)})})},t[10]=m,t[11]=g,t[12]=e,t[13]=r,t[14]=p,t[15]=c,t[16]=n):n=t[16],s=(0,u.jsx)("div",{className:i,children:(0,u.jsx)(t_,{button:(0,u.jsx)(fE,{}),horizontalAlign:"right",render:n,showScrollbar:!0,size:"large"})}),t[2]=m,t[3]=g,t[4]=e,t[5]=r,t[6]=p,t[7]=c,t[8]=i,t[9]=s}else s=t[9];return s}return null},fT=o.createContext({hydrated:!1,navOpen:!0,navRef:null,setNavOpen:()=>{},shouldAnimate:!1}),fA=()=>o.use(fT),fR=async e=>{var t;let n=null==(t=await e("nav"))?void 0:t.open;return"boolean"!=typeof n||n},fL=e=>{let{children:t,initialIsOpen:n}=e,{breakpoints:{l:l,m:a,s:r}}=tg(),i=(0,h.usePathname)(),{getPreference:s}=lS(),c=(0,o.useRef)(null),[d,p]=o.useState(n),[f,m]=o.useState(!1),[g,v]=o.useState(!1);return(0,o.useEffect)(()=>{!1===l&&(async()=>{p(await fR(s))})()},[l,s,p]),(0,o.useEffect)(()=>{!0===r&&p(!1)},[i]),(0,o.useEffect)(()=>{c.current&&(d&&a?c.current.style.overscrollBehavior="contain":c.current.style.overscrollBehavior="auto")},[d,a]),(0,o.useEffect)(()=>{(!0===l||!0===a||!0===r)&&p(!1),v(!0);let e=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(e)}},[l,a,r]),(0,o.useEffect)(()=>()=>{c.current&&(c.current.style.overscrollBehavior="auto")},[]),(0,u.jsx)(fT,{value:{hydrated:g,navOpen:d,navRef:c,setNavOpen:p,shouldAnimate:f},children:t})},fO="nav-toggler",fF=e=>{let t,n=(0,f.c)(15),{id:l,children:a,className:o,tabIndex:r}=e,i=void 0===r?0:r,{t:c}=(0,s.d)(),{setPreference:d}=lS(),{navOpen:p,setNavOpen:h}=fA(),{breakpoints:m}=tg(),{l:g}=m,v="".concat(c(p?"general:close":"general:open")," ").concat(c("general:menu")),b=p&&"".concat(fO,"--is-open"),y;n[0]!==o||n[1]!==b?(y=[fO,b,o].filter(Boolean),n[0]=o,n[1]=b,n[2]=y):y=n[2];let x=y.join(" "),w;return n[3]!==g||n[4]!==p||n[5]!==h||n[6]!==d?(w=async()=>{h(!p),g||await d("nav",{open:!p},!0)},n[3]=g,n[4]=p,n[5]=h,n[6]=d,n[7]=w):w=n[7],n[8]!==a||n[9]!==l||n[10]!==v||n[11]!==x||n[12]!==w||n[13]!==i?(t=(0,u.jsx)("button",{"aria-label":v,className:x,id:l,onClick:w,tabIndex:i,type:"button",children:a}),n[8]=a,n[9]=l,n[10]=v,n[11]=x,n[12]=w,n[13]=i,n[14]=t):t=n[14],t},fI=e=>{let{fill:t}=e,n=t||"var(--theme-elevation-1000)";return(0,u.jsxs)("svg",{className:"graphic-icon",height:"100%",viewBox:"0 0 25 25",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M11.8673 21.2336L4.40922 16.9845C4.31871 16.9309 4.25837 16.8355 4.25837 16.7282V10.1609C4.25837 10.0477 4.38508 9.97616 4.48162 10.0298L13.1404 14.9642C13.2611 15.0358 13.412 14.9464 13.412 14.8093V11.6091C13.412 11.4839 13.3456 11.3647 13.2309 11.2992L2.81624 5.36353C2.72573 5.30989 2.60505 5.30989 2.51454 5.36353L1.15085 6.14422C1.06034 6.19786 1 6.29321 1 6.40048V18.5995C1 18.7068 1.06034 18.8021 1.15085 18.8558L11.8491 24.9583C11.9397 25.0119 12.0603 25.0119 12.1509 24.9583L21.1355 19.8331C21.2562 19.7616 21.2562 19.5948 21.1355 19.5232L18.3357 17.9261C18.2211 17.8605 18.0883 17.8605 17.9737 17.9261L12.175 21.2336C12.0845 21.2872 11.9638 21.2872 11.8733 21.2336H11.8673Z",fill:n}),(0,u.jsx)("path",{d:"M22.8491 6.13827L12.1508 0.0417218C12.0603 -0.0119135 11.9397 -0.0119135 11.8491 0.0417218L6.19528 3.2658C6.0746 3.33731 6.0746 3.50418 6.19528 3.57569L8.97092 5.16091C9.08557 5.22647 9.21832 5.22647 9.33296 5.16091L11.8672 3.71872C11.9578 3.66508 12.0784 3.66508 12.1689 3.71872L19.627 7.96782C19.7175 8.02146 19.7778 8.11681 19.7778 8.22408V14.8212C19.7778 14.9464 19.8442 15.0656 19.9589 15.1311L22.7345 16.7104C22.8552 16.7819 23.006 16.6925 23.006 16.5554V6.40048C23.006 6.29321 22.9457 6.19786 22.8552 6.14423L22.8491 6.13827Z",fill:n})]})},fM=()=>(0,o.use)(fB),fB=(0,o.createContext)({}),fz=e=>{let t=(0,f.c)(4),{children:n}=e,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=[],t[0]=l):l=t[0];let[a,r]=(0,o.useState)(l),i;return t[1]!==n||t[2]!==a?(i=(0,u.jsx)(fB,{value:{setStepNav:r,stepNav:a},children:n}),t[1]=n,t[2]=a,t[3]=i):i=t[3],i},fU=e=>{let t=(0,f.c)(4),{nav:n}=e,{setStepNav:l}=fM(),a,r;return t[0]!==n||t[1]!==l?(a=()=>{l(n)},r=[l,n],t[0]=n,t[1]=l,t[2]=a,t[3]=r):(a=t[2],r=t[3]),(0,o.useEffect)(a,r),null},fV="step-nav",fH=e=>{let t=(0,f.c)(7),{className:n,CustomIcon:l}=e,{i18n:a}=(0,s.d)(),{stepNav:r}=fM(),{config:c}=(0,i.b)(),{routes:p}=c,{admin:h}=p,{t:m}=(0,s.d)(),g;return t[0]!==l||t[1]!==h||t[2]!==n||t[3]!==a||t[4]!==r||t[5]!==m?(g=(0,u.jsx)(o.Fragment,{children:r.length>0?(0,u.jsxs)("nav",{className:[fV,n].filter(Boolean).join(" "),children:[(0,u.jsx)(te,{className:"".concat(fV,"__home"),href:h,prefetch:!1,tabIndex:0,children:(0,u.jsx)("span",{title:m("general:dashboard"),children:(0,u.jsx)(ed,{CustomComponent:l,Fallback:(0,u.jsx)(fI,{})})})}),(0,u.jsx)("span",{children:"/"}),r.map((e,t)=>{let n=(0,d.s)(e.label,a);return r.length===t+1?(0,u.jsx)("span",{className:"".concat(fV,"__last"),children:n},t):(0,u.jsxs)(o.Fragment,{children:[e.url?(0,u.jsx)(te,{href:e.url,prefetch:!1,children:(0,u.jsx)("span",{children:n},t)}):(0,u.jsx)("span",{children:n},t),(0,u.jsx)("span",{children:"/"})]},t)})]}):(0,u.jsx)("div",{className:[fV,n].filter(Boolean).join(" "),children:(0,u.jsx)("div",{className:"".concat(fV,"__home"),children:(0,u.jsx)("span",{title:m("general:dashboard"),children:(0,u.jsx)(ed,{CustomComponent:l,Fallback:(0,u.jsx)(fI,{})})})})})}),t[0]=l,t[1]=h,t[2]=n,t[3]=a,t[4]=r,t[5]=m,t[6]=g):g=t[6],g},fq="app-header";function fW(e){let{CustomAvatar:t,CustomIcon:n}=e,{t:l}=(0,s.d)(),{Actions:a}=fw(),{config:{admin:{routes:{account:r}},localization:c,routes:{admin:d}}}=(0,i.b)(),{navOpen:p}=fA(),h=(0,o.useRef)(null),[f,m]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=()=>{let e=h.current;e&&m(e.scrollWidth>e.clientWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[a]);let g=a?Object.values(a):[];return(0,u.jsxs)("header",{className:[fq,p&&"".concat(fq,"--nav-open")].filter(Boolean).join(" "),children:[(0,u.jsx)("div",{className:"".concat(fq,"__bg")}),(0,u.jsx)("div",{className:"".concat(fq,"__content"),children:(0,u.jsxs)("div",{className:"".concat(fq,"__wrapper"),children:[(0,u.jsx)(fF,{className:"".concat(fq,"__mobile-nav-toggler"),tabIndex:-1,children:(0,u.jsx)(fk,{})}),(0,u.jsxs)("div",{className:"".concat(fq,"__controls-wrapper"),children:[(0,u.jsx)("div",{className:"".concat(fq,"__step-nav-wrapper"),children:(0,u.jsx)(fH,{className:"".concat(fq,"__step-nav"),CustomIcon:n})}),(0,u.jsxs)("div",{className:"".concat(fq,"__actions-wrapper"),children:[(0,u.jsx)("div",{className:"".concat(fq,"__actions"),ref:h,children:g.map((e,t)=>(0,u.jsx)("div",{className:f&&t===g.length-1?"".concat(fq,"__last-action"):"",children:e},t))}),f&&(0,u.jsx)("div",{className:"".concat(fq,"__gradient-placeholder")})]}),c&&(0,u.jsx)(fE,{ariaLabel:"invisible",className:"".concat(fq,"__localizer-spacing")}),(0,u.jsx)(te,{"aria-label":l("authentication:account"),className:"".concat(fq,"__account"),href:(0,v.Q)({adminRoute:d,path:r}),prefetch:!1,tabIndex:0,children:(0,u.jsx)(ed,{CustomComponent:t,Fallback:(0,u.jsx)(fy,{})})})]})]})}),(0,u.jsx)(fD,{className:"".concat(fq,"__localizer")})]})}var fK="card",fY=e=>{let{id:t,actions:n,buttonAriaLabel:l,href:a,onClick:o,title:r,titleAs:i}=e,s=[fK,t,(o||a)&&"".concat(fK,"--has-onclick")].filter(Boolean).join(" ");return(0,u.jsxs)("div",{className:s,id:t,children:[(0,u.jsx)(null!=i?i:"div",{className:"".concat(fK,"__title"),children:r}),n&&(0,u.jsx)("div",{className:"".concat(fK,"__actions"),children:n}),(o||a)&&(0,u.jsx)(tP,{"aria-label":l,buttonStyle:"none",className:"".concat(fK,"__click"),el:"link",onClick:o,to:a})]})},fG="copy-locale-data",fQ="copy-locale",fX=()=>{let e,t,n,l,a,r,c,p=(0,f.c)(36),{config:m}=(0,i.b)(),{localization:g,routes:b,serverURL:y}=m,{admin:x}=b,{code:w}=lD(),{id:C,collectionSlug:j,globalSlug:S}=aD(),{i18n:_,t:k}=(0,s.d)(),N=eL(),{toggleModal:E}=nN(),{copyDataFromLocale:P}=cr(),D=(0,h.useRouter)(),{startRouteTransition:T}=e4(),A=g&&g.locales.map(f$)||[],R;p[0]!==w?(R=e=>e.value!==w,p[0]=w,p[1]=R):R=p[1];let L=A.filter(R),O;p[2]!==_||p[3]!==g?(O=e=>{let t=g&&g.locales.find(t=>t.code===e);return t&&t.label?(0,d.s)(t.label,_):e},p[2]=_,p[3]=g,p[4]=O):O=p[4];let F=O,[I,M]=o.useState(!1),[B,z]=o.useState(null),[U,V]=o.useState(w),[H,q]=o.useState(!1),W,K;p[5]!==w||p[6]!==U?(W=()=>{U!==w&&V(w)},K=[w,U],p[5]=w,p[6]=U,p[7]=W,p[8]=K):(W=p[7],K=p[8]),o.useEffect(W,K),p[9]!==x||p[10]!==j||p[11]!==P||p[12]!==S||p[13]!==C||p[14]!==H||p[15]!==D||p[16]!==y||p[17]!==T||p[18]!==E?(e=async e=>{let{from:t,to:n}=e;M(!0);try{await P({collectionSlug:j,docID:C,fromLocale:t,globalSlug:S,overrideData:H,toLocale:n}),M(!1),T(()=>D.push((0,v.Q)({adminRoute:x,path:"/".concat(j?"collections/".concat(j,"/").concat(C):"globals/".concat(S)),serverURL:y})+"?locale=".concat(n))),E(fQ)}catch(e){eZ.error(e.message)}},p[9]=x,p[10]=j,p[11]=P,p[12]=S,p[13]=C,p[14]=H,p[15]=D,p[16]=y,p[17]=T,p[18]=E,p[19]=e):e=p[19];let Y=e;return C||S?(p[20]!==N||p[21]!==k||p[22]!==E?(t=()=>{N?eZ.info(k("general:unsavedChanges")):E(fQ)},p[20]=N,p[21]=k,p[22]=E,p[23]=t):t=p[23],p[24]!==E?(n=()=>{E(fQ)},p[24]=E,p[25]=n):n=p[25],p[26]!==Y||p[27]!==I||p[28]!==U||p[29]!==k||p[30]!==B?(l=async()=>{if(U===B)return void eZ.error(k("localization:cannotCopySameLocale"));I||await Y({from:U,to:B})},p[26]=Y,p[27]=I,p[28]=U,p[29]=k,p[30]=B,p[31]=l):l=p[31],p[32]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{(null==e?void 0:e.value)&&V(e.value)},p[32]=a):a=p[32],p[33]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{(null==e?void 0:e.value)&&z(e.value)},p[33]=r):r=p[33],p[34]!==H?(c=()=>q(!H),p[34]=H,p[35]=c):c=p[35],(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ts.Button,{id:"".concat(fG,"__button"),onClick:t,children:k("localization:copyToLocale")}),(0,u.jsxs)(ls,{className:fG,gutter:!1,Header:(0,u.jsx)(dk,{onClose:n,title:k("localization:copyToLocale")}),slug:fQ,children:[(0,u.jsxs)("div",{className:"".concat(fG,"__sub-header"),children:[(0,u.jsx)("span",{children:U&&B?(0,u.jsx)("div",{children:k("localization:copyFromTo",{from:F(U),to:F(B)})}):k("localization:selectLocaleToCopy")}),(0,u.jsx)(tP,{buttonStyle:"primary",disabled:!U||!B,iconPosition:"left",onClick:l,size:"medium",children:I?k("general:copying")+"...":k("general:copy")})]}),(0,u.jsxs)("div",{className:"".concat(fG,"__content"),children:[(0,u.jsx)(uG,{label:k("localization:copyFrom"),name:"fromLocale",onChange:a,options:A,path:"fromLocale",readOnly:!0,value:U}),(0,u.jsx)(uG,{label:k("localization:copyTo"),name:"toLocale",onChange:r,options:L,path:"toLocale",value:B}),(0,u.jsx)(a$,{checked:H,field:{name:"overwriteExisting",label:k("general:overwriteExistingData")},onChange:c,path:"overwriteExisting"})]})]})]})):null};function f$(e){return{label:e.label,value:e.code}}var fZ=function(e){return e.AllAvailable="allAvailable",e.AllInPage="allInPage",e.None="none",e.Some="some",e}({}),fJ=(0,o.createContext)({count:void 0,getQueryParams:e=>"",getSelectedIds:()=>[],selectAll:void 0,selected:new Map,selectedIDs:[],setSelection:e=>{},toggleAll:e=>{},totalDocs:void 0}),f0=e=>{let t=[];for(let[n,l]of e)l&&t.push(n);return t},f1=e=>{let{children:t,docs:n=[],totalDocs:l}=e,a=(0,o.useRef)({}),{user:r}=lx(),{code:i}=lD(),[s,c]=(0,o.useState)(()=>{let e=new Map;return n.forEach(t=>{let{id:n}=t;e.set(n,!1)}),e}),[d,p]=(0,o.useState)("none"),[f,m]=(0,o.useState)(0),g=(0,h.useSearchParams)(),{query:v}=ct(),y=(0,o.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Map;e?(p("allAvailable"),n.forEach(e=>{let{id:n,_isLocked:l,_userEditing:a}=e;l&&(null==a?void 0:a.id)!==(null==r?void 0:r.id)||t.set(n,!0)})):"allAvailable"===d||"allInPage"===d?p("none"):n.forEach(e=>{let{id:n,_isLocked:l,_userEditing:a}=e;l&&(null==a?void 0:a.id)!==(null==r?void 0:r.id)||t.set(n,"some"!==d)}),c(t)},[n,d,null==r?void 0:r.id]),x=(0,o.useCallback)(e=>{let t=n.find(t=>t.id===e);if((null==t?void 0:t._isLocked)&&(null==r?void 0:r.id)!==(null==t?void 0:t._userEditing.id))return;let l=s.get(e),a="boolean"!=typeof l||!l,o=new Map(s.set(e,a));"allAvailable"!==d||a||p("some"),c(o)},[s,n,d,null==r?void 0:r.id]),w=(0,o.useCallback)(e=>{var t;let n;if("allAvailable"===d)n=(null==(t=s7(g))?void 0:t.where)||{id:{not_equals:""}};else{let e=[];for(let[t,n]of s)n&&e.push(t);n={id:{in:e}}}return e&&(n={and:[{...e},n]}),b.A({locale:i,where:n},{addQueryPrefix:!0})},[d,s,i,g]),C=(0,o.useCallback)(()=>f0(s),[s]);(0,o.useEffect)(()=>{if("allAvailable"===d)return;let e=!1,t=!0;if(s.size)for(let[n,l]of s)t=t&&l,e=e||l;else t=!1,e=!1;t&&s.size===n.length?p("allInPage"):p(e?"some":"none")},[d,s,l,n]),(0,o.useEffect)(()=>{let e=0;if("allAvailable"===d)e=l;else for(let[t,n]of s)n&&e++;m(e)},[d,s,l]),(0,o.useEffect)(()=>{p("none"),c(new Map)},[v]);let j=(0,o.useMemo)(()=>f0(s),[s]);return a.current={count:f,getQueryParams:w,getSelectedIds:C,selectAll:d,selected:s,selectedIDs:j,setSelection:x,toggleAll:y,totalDocs:l},(0,u.jsx)(fJ,{value:a.current,children:t})},f3=()=>(0,o.use)(fJ),f2="list-selection";function f6(e){let t=(0,f.c)(5),{count:n,ListActions:l,SelectionActions:a}=e,{t:r}=(0,s.d)(),i;return t[0]!==l||t[1]!==a||t[2]!==n||t[3]!==r?(i=(0,u.jsxs)("div",{className:f2,children:[(0,u.jsx)("span",{children:r("general:selectedCount",{count:n,label:""})}),l&&l.length>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{children:""}),(0,u.jsx)("div",{className:"".concat(f2,"__actions"),children:l})]}),a&&a.length>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{children:""}),(0,u.jsx)("div",{className:"".concat(f2,"__actions"),children:a})]})]}),t[0]=l,t[1]=a,t[2]=n,t[3]=r,t[4]=i):i=t[4],i}function f5(e){let{children:t,className:n,...l}=e;return(0,u.jsx)(tP,{...l,buttonStyle:"none",className:["".concat(f2,"__button"),n].filter(Boolean).join(" "),children:t})}var f4=e=>{var t,n,l,a;let r=(0,f.c)(6),{viewType:i}=e,{collection:s,modalPrefix:c}=e,{slug:d,trash:p}=void 0===s?{}:s,{permissions:m}=lx(),{count:g,selectAll:v,selectedIDs:y,toggleAll:x}=f3(),w=(0,h.useRouter)(),C=(0,h.useSearchParams)(),{clearRouteCache:j}=d9(),S=null==m||null==(n=m.collections)||null==(t=n[d])?void 0:t.delete,_=v===fZ.AllAvailable,k=_?[]:y;if(v===fZ.None||!S)return null;let N=null==(l=s7(C))?void 0:l.where,E="trash"===i?{and:[...Array.isArray(null==N?void 0:N.and)?N.and:N?[N]:[],{deletedAt:{exists:!0}}]}:N,P;return r[0]!==j||r[1]!==w||r[2]!==C||r[3]!==v||r[4]!==x?(P=()=>{x(),w.replace(b.A({...s7(C),page:v?"1":void 0},{addQueryPrefix:!0})),j()},r[0]=j,r[1]=w,r[2]=C,r[3]=v,r[4]=x,r[5]=P):P=r[5],(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(f8,{afterDelete:P,modalPrefix:c,search:null==(a=s7(C))?void 0:a.search,selections:{[d]:{all:v===fZ.AllAvailable,ids:k,totalCount:_?g:k.length}},trash:p,viewType:i,where:E})})};function f8(e){let{afterDelete:t,modalPrefix:n,search:l,selections:a,trash:r,viewType:c,where:p}=e,{t:h}=(0,s.d)(),{config:{collections:f,routes:{api:m},serverURL:g}}=(0,i.b)(),{code:v}=lD(),{i18n:y}=(0,s.d)(),{openModal:x}=nN(),[w,C]=o.useState(!1),j="".concat(n?"".concat(n,"-"):"","confirm-delete-many-docs"),_=o.useCallback(async()=>{let e=1===Object.keys(a).length,n={};for(let[t,{all:o,ids:r=[]}]of Object.entries(a)){let a=f.find(e=>{let{slug:n}=e;return n===t});if(a){let i;i=o?e&&p?"trash"===c?{and:[...Array.isArray(p.and)?p.and:[p],{deletedAt:{exists:!0}}]}:p:"trash"===c?{and:[{id:{not_equals:""}},{deletedAt:{exists:!0}}]}:{id:{not_equals:""}}:{and:[{id:{in:r}},..."trash"===c?[{deletedAt:{exists:!0}}]:[]]};let s="".concat(g).concat(m,"/").concat(t).concat(b.A({limit:0,locale:v,where:(0,S.d)({collectionConfig:a,search:l,where:i}),..."trash"===c?{trash:!0}:{}},{addQueryPrefix:!0})),u="trash"===c||w||!a.trash?await lv.delete(s,{headers:{"Accept-Language":y.language,"Content-Type":"application/json"}}):await lv.patch(s,{body:JSON.stringify({deletedAt:new Date().toISOString()}),headers:{"Accept-Language":y.language,"Content-Type":"application/json"}});try{let{plural:e,singular:l}=a.labels,o=await u.json(),r=(null==o?void 0:o.docs.length)||0,i=r>1?e:l;if(u.status<400||r>0){let e;e=a.trash&&!w&&"trash"!==c?"general:trashedCountSuccessfully":"trash"===c||w?"general:permanentlyDeletedCountSuccessfully":"general:deletedCountSuccessfully",eZ.success(h(e,{count:r,label:(0,d.s)(i,y)}))}(null==o?void 0:o.errors.length)>0&&eZ.error(o.message,{description:o.errors.map(e=>e.message).join("\n")}),n[t]={deletedCount:r,errors:(null==o?void 0:o.errors)||null,ids:(null==o?void 0:o.docs.map(e=>e.id))||[],totalCount:o.totalDocs},u.status>400&&(null==o?void 0:o.errors.length)===0&&(eZ.error(h("error:unknown")),n[t].errors=[h("error:unknown")]);continue}catch(e){eZ.error(h("error:unknown")),n[t]={deletedCount:0,errors:[e],ids:[],totalCount:0};continue}}}"function"==typeof t&&t(n)},[a,t,f,w,v,l,g,m,y,c,p,h]),{label:k,labelCount:N}=Object.entries(a).reduce((e,t,n,l)=>{let[a,o]=t,r=f.find(e=>{let{slug:t}=e;return t===a});if(r){let t=void 0===e.labelCount?o.totalCount:e.labelCount,a="".concat(void 0!==e.labelCount?"".concat(o.totalCount," "):"").concat((0,d.s)(o.totalCount>1?r.labels.plural:r.labels.singular,y));return{label:n===l.length-1&&0!==n?"".concat(e.label," and ").concat(a):n>0?"".concat(e.label,", ").concat(a):a,labelCount:t}}return e},{label:"",labelCount:void 0});return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(f5,{"aria-label":h("general:delete"),className:"delete-documents__toggle",onClick:()=>{x(j)},children:h("general:delete")}),(0,u.jsx)(lh,{body:(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("p",{children:r?"trash"===c?(0,u.jsx)(ps,{elements:{0:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})},1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToPermanentlyDeleteTrash",t:h,variables:{count:null!=N?N:0,label:k}}):h("general:aboutToTrashCount",{count:N,label:k}):h("general:aboutToDeleteCount",{count:N,label:k})}),r&&"trash"!==c&&(0,u.jsx)("div",{className:"delete-documents__checkbox",children:(0,u.jsx)(aQ,{checked:w,id:"delete-forever",label:h("general:deletePermanently"),name:"delete-forever",onToggle:e=>C(e.target.checked)})})]}),confirmingLabel:h("general:deleting"),heading:h("general:confirmDeletion"),modalSlug:j,onConfirm:_})]})}var f9=(0,o.createContext)({appIsReady:!1,breakpoint:void 0,breakpoints:void 0,iframeRef:void 0,isLivePreviewEnabled:void 0,isLivePreviewing:!1,isPopupOpen:!1,measuredDeviceSize:{height:0,width:0},openPopupWindow:()=>{},popupRef:void 0,previewWindowType:"iframe",setAppIsReady:()=>{},setBreakpoint:()=>{},setHeight:()=>{},setIsLivePreviewing:()=>{},setLoadedURL:()=>{},setMeasuredDeviceSize:()=>{},setPreviewWindowType:()=>{},setSize:()=>{},setToolbarPosition:()=>{},setURL:()=>{},setWidth:()=>{},setZoom:()=>{},size:{height:0,width:0},toolbarPosition:{x:0,y:0},typeofLivePreviewURL:void 0,url:void 0,zoom:1}),f7=()=>(0,o.use)(f9),me=e=>{var t,n;let{id:l,collection:a,global:r}=e,{config:{routes:{api:c},serverURL:d}}=(0,i.b)(),{docConfig:p,lastUpdateTime:h,mostRecentVersionIsAutosaved:f,setMostRecentVersionIsAutosaved:m,setUnpublishedVersionCount:g}=aD(),{isValid:v,setBackgroundProcessing:b,submit:x}=eE(),[w]=eI(),C=eL(),j=eT(),{code:S}=lD(),{i18n:_,t:k}=(0,s.d)(),N=null==p?void 0:p.versions,E=K.z.autosaveInterval;N.drafts&&N.drafts.autosave&&(E=N.drafts.autosave.interval);let P=!!((null==p||null==(t=p.versions)?void 0:t.drafts)&&(null==p||null==(n=p.versions)?void 0:n.drafts.validate)),[D,T]=(0,o.useState)(!1),A=(0,o.useDeferredValue)(D),R=cO(w,E),O=(0,o.useRef)(w),F=(0,o.useRef)(C),I=(0,o.useRef)(S);O.current=w,F.current=C,I.current=S;let{queueTask:M}=uN(),z=(0,o.useRef)(null),U=lg(()=>{let e,t;z.current=void 0,M(async()=>{if(C){var n,o,i;let s,u,p;e=new Date().getTime(),T(!0),a&&l&&(p=a.slug,s="".concat(d).concat(c,"/").concat(p,"/").concat(l,"?depth=0&draft=true&autosave=true&locale=").concat(I.current),u="PATCH"),r&&(p=r.slug,s="".concat(d).concat(c,"/globals/").concat(p,"?depth=0&draft=true&autosave=true&locale=").concat(I.current),u="POST");let{valid:h}=((e,t,n)=>{let l={data:{},valid:!0};return e&&(Object.keys(e).forEach(t=>{var a,o;!0!==n&&(null==(a=e[t])?void 0:a.disableFormData)||(l.data[t]=null==(o=e[t])?void 0:o.value,e[t].valid||(l.valid=!1))}),t&&(l.data=(0,B.s)(l.data))),l})(O.current,!0);if(!(j&&!h&&(null==N?void 0:N.drafts)&&(null==N||null==(n=N.drafts)?void 0:n.validate))&&F.current&&s){let n=await x({acceptValues:{overrideLocalChanges:!1},action:s,context:{getDocPermissions:!1,incrementVersionCount:!f},disableFormWhileProcessing:!1,disableSuccessStatus:!0,method:u,overrides:{_status:"draft"},skipValidation:(null==N?void 0:N.drafts)&&!(null==N||null==(o=N.drafts)?void 0:o.validate)});n&&(null==n||null==(i=n.res)?void 0:i.ok)&&!f&&(m(!0),g(e=>e+1)),(t=new Date().getTime())-e<1e3?z.current=setTimeout(()=>{T(!1)},1e3-(t-e)):q()}}},{afterProcess:()=>{b(!1)},beforeProcess:()=>{b(!0)}})}),V=(0,o.useRef)(!1),H=(0,o.useRef)((0,L.r)(R));(0,o.useEffect)(()=>{if(!V.current){V.current=!0;return}let{updatedAt:e,...t}=(0,L.r)(R),{updatedAt:n,...l}=H.current;(0,y.j)(t,l)||(H.current=t,U())},[R]),(0,o.useEffect)(()=>()=>{q()},[]);let q=lg(()=>{z.current&&clearTimeout(z.current),T(!1)});return(0,u.jsxs)("div",{className:"autosave",children:[P&&!v&&(0,u.jsx)(fi,{}),A&&k("general:saving"),!A&&!!h&&(0,u.jsx)(o.Fragment,{children:k("version:lastSavedAgo",{distance:ab({date:h,i18n:_})})})]})},mt="delete-document",mn=e=>{let{id:t,buttonId:n,collectionSlug:l,onDelete:a,redirectAfterDelete:r=!0,singularLabel:c,title:p}=e,{config:{routes:{admin:f,api:m},serverURL:g},getEntityConfig:b}=(0,i.b)(),y=b({collectionSlug:l}),{setModified:x}=eE(),w=(0,h.useRouter)(),{i18n:C,t:j}=(0,s.d)(),{title:S}=aj(),{startRouteTransition:_}=e4(),{openModal:k}=nN(),N="delete-".concat(t),[E,P]=(0,o.useState)(!1),D=(0,o.useCallback)(()=>{eZ.error(j("error:deletingTitle",{title:S}))},[j,S]),T=(0,o.useCallback)(async()=>{x(!1);try{let e=E||!y.trash?await lv.delete("".concat(g).concat(m,"/").concat(l,"/").concat(t),{headers:{"Accept-Language":C.language,"Content-Type":"application/json"}}):await lv.patch("".concat(g).concat(m,"/").concat(l,"/").concat(t),{body:JSON.stringify({deletedAt:new Date().toISOString()}),headers:{"Accept-Language":C.language,"Content-Type":"application/json"}}),n=await e.json();if(e.status<400){if(eZ.success(j(E||!y.trash?"general:titleDeleted":"general:titleTrashed",{label:(0,d.s)(c,C),title:S})||n.message),r)return _(()=>w.push((0,v.Q)({adminRoute:f,path:"/collections/".concat(l)})));"function"==typeof a&&await a({id:t,collectionConfig:y});return}n.errors?n.errors.forEach(e=>eZ.error(e.message)):D();return}catch(e){return D()}},[E,x,g,m,l,t,j,c,D,C,S,w,f,r,a,y,_]);return t?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ts.Button,{id:n,onClick:()=>{k(N)},children:j("general:delete")}),(0,u.jsx)(lh,{body:(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ps,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:y.trash?"general:aboutToTrash":"general:aboutToDelete",t:j,variables:{label:(0,d.s)(c,C),title:p||S||t}}),y.trash&&(0,u.jsx)("div",{className:"".concat(mt,"__checkbox"),children:(0,u.jsx)(aQ,{checked:E,id:"delete-forever",label:j("general:deletePermanently"),name:"delete-forever",onToggle:e=>P(e.target.checked)})})]}),className:mt,confirmingLabel:j("general:deleting"),heading:j("general:confirmDeletion"),modalSlug:N,onConfirm:T})]}):null},ml=e=>{let{id:t,slug:n,onDuplicate:l,redirectAfterDuplicate:a=!0,singularLabel:r}=e,c=(0,h.useRouter)(),p=eL(),{openModal:f}=nN(),m=lD(),{setModified:g}=eE(),{startRouteTransition:b}=e4(),{config:{routes:{admin:y,api:x},serverURL:w},getEntityConfig:C}=(0,i.b)(),j=C({collectionSlug:n}),[S,_]=o.useState(!1),{i18n:k,t:N}=(0,s.d)(),E="duplicate-".concat(t),P=(0,o.useCallback)(async()=>{_(!0),await lv.post("".concat(w).concat(x,"/").concat(n,"/").concat(t,"/duplicate").concat((null==m?void 0:m.code)?"?locale=".concat(m.code):""),{body:JSON.stringify({}),headers:{"Accept-Language":k.language,"Content-Type":"application/json",credentials:"include"}}).then(async e=>{let{doc:t,errors:o,message:i}=await e.json();if(e.status<400){if(eZ.success(i||N("general:successfullyDuplicated",{label:(0,d.s)(r,k)})),g(!1),a)return b(()=>c.push((0,v.Q)({adminRoute:y,path:"/collections/".concat(n,"/").concat(t.id).concat((null==m?void 0:m.code)?"?locale=".concat(m.code):"")})));"function"==typeof l&&l({collectionConfig:j,doc:t})}else eZ.error((null==o?void 0:o[0].message)||i||N("error:unspecific",{label:(0,d.s)(r,k)}))})},[m,w,x,n,t,k,N,r,l,a,g,c,y,j,b]),D=(0,o.useCallback)(async()=>{_(!1),await P()},[P]);return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ts.Button,{id:"action-duplicate",onClick:()=>p?(_(!0),f(E)):P(),children:N("general:duplicate")}),S&&(0,u.jsx)(lh,{body:N("general:unsavedChangesDuplicate"),confirmLabel:N("general:duplicateWithoutSaving"),heading:N("general:unsavedChanges"),modalSlug:E,onConfirm:D})]})},ma=e=>{let{active:t=!0,className:n}=e;return(0,u.jsx)("svg",{className:[n,"icon icon--eye"].filter(Boolean).join(" "),viewBox:"0 0 16 12",xmlns:"http://www.w3.org/2000/svg",children:t?(0,u.jsx)(o.Fragment,{children:(0,u.jsx)("path",{className:"stroke",d:"M2 11.5L4.35141 9.51035M15 0.5L12.6486 2.48965M10.915 6.64887C10.6493 7.64011 9.78959 8.38832 8.7408 8.48855M10.4085 4.38511C9.94992 3.84369 9.2651 3.5 8.5 3.5C7.11929 3.5 6 4.61929 6 6C6 6.61561 6.22251 7.17926 6.59149 7.61489M10.4085 4.38511L6.59149 7.61489M10.4085 4.38511L12.6486 2.48965M6.59149 7.61489L4.35141 9.51035M14.1292 3.92915C15.0431 5.02085 15.5 6 15.5 6C15.5 6 13.1667 11 8.5 11C7.67995 11 6.93195 10.8456 6.256 10.5911M4.35141 9.51035C2.45047 8.03672 1.5 6 1.5 6C1.5 6 3.83333 1 8.5 1C10.1882 1 11.5711 1.65437 12.6486 2.48965"})}):(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("circle",{className:"stroke",cx:"8.5",cy:"6",r:"2.5"}),(0,u.jsx)("path",{className:"stroke",d:"M8.5 1C3.83333 1 1.5 6 1.5 6C1.5 6 3.83333 11 8.5 11C13.1667 11 15.5 6 15.5 6C15.5 6 13.1667 1 8.5 1Z"})]})})},mo="live-preview-toggler",mr=()=>{let{isLivePreviewing:e,setIsLivePreviewing:t,url:n}=f7(),{t:l}=(0,s.d)();return n?(0,u.jsx)("button",{"aria-label":l(e?"general:exitLivePreview":"general:livePreview"),className:[mo,e&&"".concat(mo,"--active")].filter(Boolean).join(" "),id:"live-preview-toggler",onClick:()=>{t(!e)},title:l(e?"general:exitLivePreview":"general:livePreview"),type:"button",children:(0,u.jsx)(ma,{active:e})}):null},mi=e=>{let{className:t}=e;return(0,u.jsxs)("svg",{className:["icon icon--lock",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{className:"stroke",d:"M7.5 9.5V7.5C7.5 6.83696 7.76339 6.20107 8.23223 5.73223C8.70107 5.26339 9.33696 5 10 5C10.663 5 11.2989 5.26339 11.7678 5.73223C12.2366 6.20107 12.5 6.83696 12.5 7.5V9.5",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"1"}),(0,u.jsx)("path",{className:"stroke",d:"M13.5 9.5H6.5C5.94772 9.5 5.5 9.94772 5.5 10.5V14C5.5 14.5523 5.94772 15 6.5 15H13.5C14.0523 15 14.5 14.5523 14.5 14V10.5C14.5 9.94772 14.0523 9.5 13.5 9.5Z",stopOpacity:"1",strokeLinecap:"round",strokeLinejoin:"round"})]})},ms="locked",mc=e=>{var t;let n=(0,f.c)(8),{className:l,user:a}=e,[r,i]=(0,o.useState)(!1),{t:c}=(0,s.d)(),d=(e=>e&&"object"==typeof e)(a)?null!=(t=a.email)?t:a.id:c("general:anotherUser"),p;n[0]!==l?(p=[ms,l].filter(Boolean),n[0]=l,n[1]=p):p=n[1];let h=p.join(" "),m,g;n[2]===Symbol.for("react.memo_cache_sentinel")?(m=()=>i(!0),g=()=>i(!1),n[2]=m,n[3]=g):(m=n[2],g=n[3]);let v="".concat(d," ").concat(c("general:isEditing")),b;return n[4]!==r||n[5]!==h||n[6]!==v?(b=(0,u.jsxs)("div",{className:h,onMouseEnter:m,onMouseLeave:g,role:"button",tabIndex:0,children:[(0,u.jsx)(tk,{alignCaret:"left",className:"".concat(ms,"__tooltip"),position:"top",show:r,children:v}),(0,u.jsx)(mi,{})]}),n[4]=r,n[5]=h,n[6]=v,n[7]=b):b=n[7],b},mu=e=>{let{id:t,buttonId:n,collectionSlug:l,onDelete:a,redirectAfterDelete:r=!0,singularLabel:c,title:p}=e,{config:{routes:{admin:f,api:m},serverURL:g},getEntityConfig:y}=(0,i.b)(),x=y({collectionSlug:l}),w=(0,h.useRouter)(),{i18n:C,t:j}=(0,s.d)(),{title:S}=aj(),{startRouteTransition:_}=e4(),{openModal:k}=nN(),N="perma-delete-".concat(t),E=(0,o.useCallback)(()=>{eZ.error(j("error:deletingTitle",{title:S}))},[j,S]),P=(0,o.useCallback)(async()=>{try{let e="".concat(g).concat(m,"/").concat(l,"?").concat(b.A({trash:!0,where:{and:[{id:{equals:t}},{deletedAt:{exists:!0}}]}})),n=await lv.delete(e,{headers:{"Accept-Language":C.language,"Content-Type":"application/json"}}),o=await n.json();if(n.status<400){if(eZ.success(j("general:titleDeleted",{label:(0,d.s)(c,C),title:S})||o.message),r)return _(()=>w.push((0,v.Q)({adminRoute:f,path:"/collections/".concat(l,"/trash")})));"function"==typeof a&&await a({id:t,collectionConfig:x});return}o.errors?o.errors.forEach(e=>eZ.error(e.message)):E()}catch(e){E()}},[g,m,l,t,j,c,E,C,S,w,f,r,a,x,_]);return t?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(tP,{buttonStyle:"secondary",id:n,onClick:()=>{k(N)},children:j("general:permanentlyDelete")}),(0,u.jsx)(lh,{body:(0,u.jsx)(ps,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToPermanentlyDelete",t:j,variables:{label:(0,d.s)(c,C),title:p||S||t}}),confirmingLabel:j("general:deleting"),heading:j("general:confirmDeletion"),modalSlug:N,onConfirm:P})]}):null},md=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:[t,"icon icon--externalLink"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M16 10.6667V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H5.33333C4.97971 16 4.64057 15.8595 4.39052 15.6095C4.14048 15.3594 4 15.0203 4 14.6667V5.33333C4 4.97971 4.14048 4.64057 4.39052 4.39052C4.64057 4.14048 4.97971 4 5.33333 4H9.33333M16 4L10 10M16 4H12M16 4V8",strokeLinecap:"square"})})};function mp(e){let t,n=(0,f.c)(5),{generatePreviewURL:l,label:a}=(()=>{let{id:e,collectionSlug:t,globalSlug:n,versionCount:l}=aD(),[a,r]=(0,o.useState)(!1),[c,u]=(0,o.useState)(""),{code:d}=lD(),p=l>0,{config:{routes:{api:h},serverURL:f}}=(0,i.b)(),{t:m}=(0,s.d)(),g=(0,o.useRef)(!1);return{generatePreviewURL:(0,o.useCallback)(async l=>{let{openPreviewWindow:a=!1}=l;if(!g.current){g.current=!0;try{r(!0);let l="".concat(f).concat(h);t&&(l="".concat(l,"/").concat(t,"/").concat(e,"/preview")),n&&(l="".concat(l,"/globals/").concat(n,"/preview"));let o=await fetch("".concat(l,"?").concat(b.A({draft:p?"true":"false",locale:d||void 0})));if(!o.ok)throw Error();let i=await o.json();if(!i)throw Error();u(i),r(!1),g.current=!1,a&&window.open(i,"_blank")}catch(e){r(!1),g.current=!1,eZ.error(m("error:previewing"))}}},[f,h,t,n,p,d,e,m]),isLoading:a,label:m(a?"general:loading":"version:preview"),previewURL:c}})(),r;return n[0]!==l?(r=()=>{l({openPreviewWindow:!0})},n[0]=l,n[1]=r):r=n[1],n[2]!==a||n[3]!==r?(t=(0,u.jsx)("button",{"aria-label":a,className:"preview-btn",id:"preview-button",onClick:r,title:a,type:"button",children:(0,u.jsx)(md,{})}),n[2]=a,n[3]=r,n[4]=t):t=n[4],t}var mh=e=>{for(let t of e){if("localized"in t&&t.localized)return!0;switch(t.type){case"array":case"collapsible":case"group":case"row":if(t.fields&&mh(t.fields))return!0;break;case"blocks":if(t.blocks){for(let e of t.blocks)if(e.fields&&mh(e.fields))return!0}break;case"tabs":if(t.tabs){for(let e of t.tabs)if("localized"in e&&e.localized||"fields"in e&&e.fields&&mh(e.fields))return!0}}}return!1},mf="table",mm=e=>{let{appearance:t,BeforeTable:n,columns:l,data:a}=e,o=null==l?void 0:l.filter(e=>null==e?void 0:e.active);return o&&0!==o.length?(0,u.jsxs)("div",{className:[mf,t&&"".concat(mf,"--appearance-").concat(t)].filter(Boolean).join(" "),children:[n,(0,u.jsxs)("table",{cellPadding:"0",cellSpacing:"0",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:o.map((e,t)=>(0,u.jsx)("th",{id:"heading-".concat(e.accessor.replace(/\./g,"__")),children:e.Heading},t))})}),(0,u.jsx)("tbody",{children:a&&(null==a?void 0:a.map((e,t)=>(0,u.jsx)("tr",{className:"row-".concat(t+1),children:o.map((e,n)=>{let{accessor:l}=e;return(0,u.jsx)("td",{className:"cell-".concat(l.replace(/\./g,"__")),children:e.renderedCells[t]},n)})},"string"==typeof e.id||"number"==typeof e.id?String(e.id):t)))})]})]}):(0,u.jsx)("div",{children:"No columns selected"})},mg="schedule-publish",mv={label:"All",value:"all"},mb=e=>{var t;let{slug:n,defaultType:l,schedulePublishConfig:a}=e,{toggleModal:r}=nN(),{config:{admin:{dateFormat:c,timezones:{defaultTimezone:p,supportedTimezones:h}},localization:f,routes:{api:m},serverURL:g}}=(0,i.b)(),{id:v,collectionSlug:y,globalSlug:x}=aD(),{title:w}=aj(),{i18n:C,t:j}=(0,s.d)(),{schedulePublish:S}=cr(),[_,k]=o.useState(l||"publish"),[N,E]=o.useState(),[P,D]=o.useState(p),[T,A]=o.useState(mv),[R,L]=o.useState(!1),O=j("general:schedulePublishFor",{title:w}),[F,I]=o.useState(),[M,B]=o.useState(),z=o.useRef(()=>null),U=Intl.DateTimeFormat().resolvedOptions().timeZone,V=o.useMemo(()=>{if(f){let e=f.locales.map(e=>{let{code:t,label:n}=e;return{label:(0,d.s)(n,C),value:t}});return e.unshift(mv),e}return[]},[f,C]),H=o.useCallback(async()=>{let e={sort:"waitUntil",where:{and:[{taskSlug:{equals:"schedulePublish"}},{waitUntil:{greater_than:new Date}}]}};y&&(e.where.and.push({"input.doc.value":{equals:String(v)}}),e.where.and.push({"input.doc.relationTo":{equals:y}})),x&&e.where.and.push({"input.global":{equals:x}});let{docs:t}=await lv.post("".concat(g).concat(m,"/payload-jobs"),{body:b.A(e),headers:{"Accept-Language":C.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"}}).then(e=>e.json());B((e=>{let{dateFormat:t,deleteHandler:n,docs:l,i18n:a,localization:o,supportedTimezones:r,t:i}=e,s=[{accessor:"input.type",active:!0,field:{name:"",type:"text"},Heading:(0,u.jsx)("span",{children:i("version:type")}),renderedCells:l.map(e=>{var t;let n=null==(t=e.input)?void 0:t.type;return(0,u.jsxs)(ol,{pillStyle:"publish"===n?"success":"warning",size:"small",children:["publish"===n&&i("version:publish"),"unpublish"===n&&i("version:unpublish")]},e.id)})},{accessor:"waitUntil",active:!0,field:{name:"",type:"date"},Heading:(0,u.jsx)("span",{children:i("general:time")}),renderedCells:l.map(e=>(0,u.jsx)("span",{children:av({date:e.waitUntil,i18n:a,pattern:t,timezone:e.input.timezone})},e.id))},{accessor:"input.timezone",active:!0,field:{name:"",type:"text"},Heading:(0,u.jsx)("span",{children:i("general:timezone")}),renderedCells:l.map(e=>{var t;let n=(null==(t=r.find(t=>t.value===e.input.timezone))?void 0:t.label)||e.input.timezone;return(0,u.jsx)("span",{children:n||i("general:noValue")},e.id)})}];return o&&s.push({accessor:"input.locale",active:!0,field:{name:"",type:"text"},Heading:(0,u.jsx)("span",{children:i("general:locale")}),renderedCells:l.map(e=>{if(e.input.locale){let t=o.locales.find(t=>t.code===e.input.locale);if(t)return(0,u.jsx)("span",{children:(0,d.s)(t.label,a)},e.id)}return(0,u.jsx)("span",{children:i("general:all")},e.id)})}),s.push({accessor:"delete",active:!0,field:{name:"delete",type:"text"},Heading:(0,u.jsx)("span",{children:i("general:delete")}),renderedCells:l.map(e=>(0,u.jsx)(tP,{buttonStyle:"icon-label",className:"schedule-publish__delete",icon:"x",onClick:t=>{t.preventDefault(),n(e.id)},tooltip:i("general:delete")},e.id))}),s})({dateFormat:c,deleteHandler:z.current,docs:t,i18n:C,localization:f,supportedTimezones:h,t:j})),I(t)},[y,x,g,m,C,c,f,h,j,v]),q=o.useCallback(async e=>{try{await S({deleteID:e}),await H(),eZ.success(j("general:deletedSuccessfully"))}catch(e){console.error(e),eZ.error(e.message)}},[H,S,j]);o.useEffect(()=>{z.current=q},[q]);let W=o.useCallback(async()=>{let e;if(!N)return eZ.error(j("general:noDateSelected"));L(!0),"object"==typeof T&&"all"!==T.value&&"publish"===_&&(e=T.value);try{await S({type:_,date:N,doc:y?{relationTo:y,value:String(v)}:void 0,global:x||void 0,locale:e,timezone:P}),E(void 0),eZ.success(j("version:scheduledSuccessfully")),H()}catch(e){console.error(e),eZ.error(e.message)}L(!1)},[N,T,_,j,S,y,v,x,P,H]),K=(0,o.useMemo)(()=>{if(P&&U&&N){let e=lH.tz(P),t=lH.tz(U),n=ag(new lH(N).withTimeZone(P),e);return ag(n,t).toISOString()}return N},[P,N,U]),Y=(0,o.useCallback)(e=>{if(P&&e){let t=lH.tz(P);E(ag(new lH(e),t)||null)}else E(e||null)},[E,P]);o.useEffect(()=>{F||(async()=>await H())()},[F,H]);let G=(0,o.useMemo)(()=>N&&function(e,t){return function(e,t,n){let[l,a]=l1(void 0,e,t);return+l3(l)==+l3(a)}(lG(e,e),l6(e))}(N)?new Date:l3(new Date),[N]);return(0,u.jsxs)(ls,{className:mg,gutter:!1,Header:(0,u.jsxs)("div",{className:"".concat(mg,"__drawer-header"),children:[(0,u.jsx)("h2",{title:O,children:O}),(0,u.jsx)(d_,{onClick:()=>r(n)})]}),slug:n,children:[(0,u.jsxs)(ll,{className:"".concat(mg,"__scheduler"),children:[(0,u.jsx)(lR,{label:j("version:type"),required:!0}),(0,u.jsxs)("ul",{className:"".concat(mg,"__type"),children:[(0,u.jsx)("li",{children:(0,u.jsx)(um,{id:"".concat(n,"-type"),isSelected:"publish"===_,onChange:()=>k("publish"),option:{label:j("version:publish"),value:"publish"},path:"".concat(n,"-type"),readOnly:R})}),(0,u.jsx)("li",{children:(0,u.jsx)(um,{id:"".concat(n,"-type"),isSelected:"unpublish"===_,onChange:()=>k("unpublish"),option:{label:j("version:unpublish"),value:"unpublish"},path:"".concat(n,"-type"),readOnly:R})})]}),(0,u.jsx)("br",{}),(0,u.jsx)(lR,{label:j("general:time"),path:"time",required:!0}),(0,u.jsx)(oO,{id:"time",maxTime:l5(Date.now(),void 0),minDate:new Date,minTime:G,onChange:e=>Y(e),pickerAppearance:"dayAndTime",readOnly:R,timeFormat:null==a?void 0:a.timeFormat,timeIntervals:null!=(t=null==a?void 0:a.timeIntervals)?t:5,value:K}),h.length>0&&(0,u.jsx)(sK,{id:"timezone-picker",onChange:D,options:h,selectedTimezone:P}),(0,u.jsx)("br",{}),V.length>0&&"publish"===_&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(lR,{label:j("localization:localeToPublish")}),(0,u.jsx)(sq,{onChange:e=>A(e),options:V,value:T}),(0,u.jsx)("br",{})]}),(0,u.jsxs)("div",{className:"".concat(mg,"__actions"),children:[(0,u.jsx)(tP,{buttonStyle:"primary",disabled:R,id:"scheduled-publish-save",onClick:W,type:"button",children:j("general:save")}),R?(0,u.jsx)("span",{children:j("general:saving")}):null]})]}),(0,u.jsxs)(ll,{className:"".concat(mg,"__upcoming"),children:[(0,u.jsx)("h4",{children:j("general:upcomingEvents")}),!F&&(0,u.jsx)(i.e,{}),(null==F?void 0:F.length)===0&&(0,u.jsx)(tn,{type:"info",children:j("general:noUpcomingEventsScheduled")}),(null==F?void 0:F.length)>0&&(0,u.jsx)(mm,{appearance:"condensed",columns:M,data:F})]})]})};function my(e){var t,n,l,a,r,c;let{label:d}=e,{id:p,collectionSlug:h,docConfig:f,globalSlug:m,hasPublishedDoc:g,hasPublishPermission:v,setHasPublishedDoc:y,setMostRecentVersionIsAutosaved:x,setUnpublishedVersionCount:w,unpublishedVersionCount:C,uploadStatus:j}=aD(),{config:S,getEntityConfig:_}=(0,i.b)(),{submit:k}=eE(),N=eL(),E=ni(),{code:P}=lD(),{isModalOpen:D,toggleModal:T}=nN(),A="schedule-publish-".concat(p),{localization:R,routes:{api:L},serverURL:O}=S,{t:F}=(0,s.d)(),I=d||F("version:publishChanges"),M=o.useMemo(()=>h?_({collectionSlug:h}):m?_({globalSlug:m}):void 0,[h,m,_]),B=C>0,z="object"==typeof(null==M||null==(t=M.versions)?void 0:t.drafts)&&(null==M||null==(n=M.versions)?void 0:n.drafts.schedulePublish),U=v&&(N||B||!g)&&"uploading"!==j,V=!!("object"==typeof(null==M||null==(l=M.versions)?void 0:l.drafts)&&(null==M||null==(a=M.versions)?void 0:a.drafts.autosave)),H=!!(z&&v&&(m||h&&p)&&(V||!N)),[q,W]=(0,o.useState)(!1);(0,o.useEffect)(()=>{W(mh(null==M?void 0:M.fields))},[null==M?void 0:M.fields]);let K=R&&q&&v,Y="update"===aO()&&!N,G=(0,o.useCallback)(async()=>{if(Y)return;let e="?locale=".concat(P,"&depth=0&fallback-locale=null&draft=true"),t,n="POST";h&&(t="".concat(O).concat(L,"/").concat(h).concat(p?"/".concat(p):"").concat(e),p&&(n="PATCH")),m&&(t="".concat(O).concat(L,"/globals/").concat(m).concat(e)),await k({action:t,method:n,overrides:{_status:"draft"},skipValidation:!0})},[k,h,m,O,L,P,p,Y]);hY({cmdCtrlKey:!0,editDepth:E,keyCodes:["s"]},e=>{var t,n,l;e.preventDefault(),e.stopPropagation(),G&&(null==(t=f.versions)?void 0:t.drafts)&&(null==(l=f.versions)||null==(n=l.drafts)?void 0:n.autosave)&&G()});let Q=(0,o.useCallback)(async()=>{"uploading"!==j&&await k({overrides:{_status:"published"}})&&(w(0),x(!1),y(!0))},[y,k,w,j,x]),X=(0,o.useCallback)(async e=>{if("uploading"===j)return;let t=b.A({publishSpecificLocale:e}),n="".concat(O).concat(L).concat(m?"/globals/".concat(m):"/".concat(h).concat(p?"/".concat(p):"")).concat(t?"?"+t:"");await k({action:n,overrides:{_status:"published"}})&&y(!0)},[L,h,m,p,O,y,k,j]),$=!R||R&&"active"!==R.defaultLocalePublishOption,Z=R&&(null==R?void 0:R.locales.find(e=>"string"==typeof e?e===P:e.code===P)),J=Z&&("string"==typeof Z.label?Z.label:null!=(c=null==(r=Z.label)?void 0:r[P])?c:void 0),ee=$?Q:()=>X(Z.code),et=$?I:F("version:publishIn",{locale:J}),en=$?()=>X(Z.code):Q,el=$?F("version:publishIn",{locale:J}):F("version:publishAllLocales");return v?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(d7,{buttonId:"action-save",disabled:!U,enableSubMenu:H,onClick:ee,size:"medium",SubMenuPopupContent:K||H?e=>{let{close:t}=e;return(0,u.jsxs)(o.Fragment,{children:[H&&(0,u.jsx)(ts.ButtonGroup,{children:(0,u.jsx)(ts.Button,{id:"schedule-publish",onClick:()=>[T(A),t()],children:F("version:schedulePublish")})},"schedule-publish"),K&&(0,u.jsx)(ts.ButtonGroup,{children:(0,u.jsx)(ts.Button,{id:"publish-locale",onClick:en,children:el})})]})}:void 0,type:"button",children:R?et:I}),H&&D(A)&&(0,u.jsx)(mb,{defaultType:B?"publish":"unpublish",schedulePublishConfig:"object"==typeof z&&z,slug:A})]}):null}var mx="restore-button",mw=e=>{var t,n;let{id:l,buttonId:a,collectionSlug:r,onRestore:c,redirectAfterRestore:p=!0,singularLabel:f,title:m}=e,{config:{routes:{admin:g,api:y},serverURL:x},getEntityConfig:w}=(0,i.b)(),C=w({collectionSlug:r}),j=(0,h.useRouter)(),{i18n:S,t:_}=(0,s.d)(),{title:k}=aj(),{startRouteTransition:N}=e4(),{openModal:E}=nN(),P="restore-".concat(l),[D,T]=(0,o.useState)(!1),A=(0,o.useCallback)(()=>{eZ.error(_("error:restoringTitle",{title:k}))},[_,k]),R=(0,o.useCallback)(async()=>{try{var e;let t="".concat(x).concat(y,"/").concat(r,"?").concat(b.A({trash:!0,where:{and:[{id:{equals:l}},{deletedAt:{exists:!0}}]}})),n={deletedAt:null};(null==C||null==(e=C.versions)?void 0:e.drafts)&&(n._status=D?"published":"draft");let a=await lv.patch(t,{body:JSON.stringify(n),headers:{"Accept-Language":S.language,"Content-Type":"application/json"}}),o=await a.json();if(a.status<400){if(eZ.success(_("general:titleRestored",{label:(0,d.s)(f,S),title:k})||o.message),p)return N(()=>j.push((0,v.Q)({adminRoute:g,path:"/collections/".concat(r,"/").concat(l)})));"function"==typeof c&&await c({id:l,collectionConfig:C});return}o.errors?o.errors.forEach(e=>eZ.error(e.message)):A()}catch(e){A()}},[x,y,r,l,_,f,A,S,k,j,g,p,c,C,N,D]);return l?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(tP,{buttonStyle:"primary",id:a,onClick:()=>{E(P)},children:_("general:restore")},a),(0,u.jsx)(lh,{body:(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ps,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:(null==C||null==(t=C.versions)?void 0:t.drafts)?"general:aboutToRestoreAsDraft":"general:aboutToRestore",t:_,variables:{label:(0,d.s)(f,S),title:m||k||l}}),(null==C||null==(n=C.versions)?void 0:n.drafts)&&(0,u.jsx)("div",{className:"".concat(mx,"__checkbox"),children:(0,u.jsx)(aQ,{checked:D,id:"restore-as-published",label:_("general:restoreAsPublished"),name:"restore-as-published",onToggle:e=>T(e.target.checked)})})]}),className:mx,confirmingLabel:_("general:restoring"),heading:_("general:confirmRestoration"),modalSlug:P,onConfirm:R})]}):null};function mC(e){let{label:t}=e,{uploadStatus:n}=aD(),{t:l}=(0,s.d)(),{submit:a}=eE(),r=eL(),i=t||l("general:save"),c=(0,o.useRef)(null),d=ni(),p="update"===aO()&&!r||"uploading"===n;return hY({cmdCtrlKey:!0,editDepth:d,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),(null==c?void 0:c.current)&&c.current.click()}),(0,u.jsx)(d7,{buttonId:"action-save",disabled:p,onClick:()=>{if("uploading"!==n)return void a()},ref:c,size:"medium",type:"button",children:i})}function mj(e){let{config:{routes:{api:t},serverURL:n}}=(0,i.b)(),{id:l,collectionSlug:a,globalSlug:r,setUnpublishedVersionCount:c,uploadStatus:d}=aD(),p=eL(),{code:h}=lD(),f=(0,o.useRef)(null),m=ni(),{t:g}=(0,s.d)(),{submit:v}=eE(),b="update"===aO()&&!p||"uploading"===d,y=(0,o.useCallback)(async()=>{if(b)return;let e="?locale=".concat(h,"&depth=0&fallback-locale=null&draft=true"),o,i="POST";a&&(o="".concat(n).concat(t,"/").concat(a).concat(l?"/".concat(l):"").concat(e),l&&(i="PATCH")),r&&(o="".concat(n).concat(t,"/globals/").concat(r).concat(e)),await v({action:o,method:i,overrides:{_status:"draft"},skipValidation:!0}),c(e=>e+1)},[v,a,r,n,t,h,l,b,c]);return hY({cmdCtrlKey:!0,editDepth:m,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),(null==f?void 0:f.current)&&f.current.click()}),(0,u.jsx)(d7,{buttonId:"action-save-draft",buttonStyle:"secondary",className:"save-draft",disabled:b,onClick:()=>void y(),ref:f,size:"medium",type:"button",children:g("version:saveDraft")})}var mS="status",m_=()=>{let{id:e,collectionSlug:t,docPermissions:n,globalSlug:l,hasPublishedDoc:a,incrementVersionCount:r,isTrashed:c,setHasPublishedDoc:d,setMostRecentVersionIsAutosaved:p,setUnpublishedVersionCount:h,unpublishedVersionCount:f}=aD(),{toggleModal:m}=nN(),{config:{routes:{api:g},serverURL:v}}=(0,i.b)(),{reset:b}=eE(),{code:y}=lD(),{i18n:x,t:w}=(0,s.d)(),C="confirm-un-publish-".concat(e),j="confirm-revert-".concat(e),S;f>0&&a?S="changed":a?a&&f<=0&&(S="published"):S="draft";let _=c?a?"previouslyPublished":"previouslyDraft":S,k=(0,o.useCallback)(async n=>{let a,o,i;"unpublish"===n&&(i={_status:"draft"}),t&&(a="".concat(v).concat(g,"/").concat(t,"/").concat(e,"?locale=").concat(y,"&fallback-locale=null&depth=0"),o="patch"),l&&(a="".concat(v).concat(g,"/globals/").concat(l,"?locale=").concat(y,"&fallback-locale=null&depth=0"),o="post"),"revert"===n&&(i=await lv.get(a,{headers:{"Accept-Language":x.language,"Content-Type":"application/json"}}).then(e=>e.json()));let s=await lv[o](a,{body:JSON.stringify(i),headers:{"Accept-Language":x.language,"Content-Type":"application/json"}});if(200===s.status){let e,a=await s.json();l?e=a.result:t&&(e=a.doc),b(e),eZ.success(a.message),r(),p(!1),"unpublish"===n?d(!1):"revert"===n&&h(0)}else try{var c,u;let e=await s.json();(null==(u=e.errors)||null==(c=u[0])?void 0:c.message)?eZ.error(e.errors[0].message):e.error?eZ.error(e.error):eZ.error(w("error:unPublishingDocument"))}catch(e){eZ.error(w("error:unPublishingDocument"))}},[g,t,l,e,x.language,r,y,b,v,h,p,w,d]),N=null==n?void 0:n.update;return S?(0,u.jsx)("div",{className:mS,title:"".concat(w("version:status"),": ").concat(w("version:".concat(_))),children:(0,u.jsxs)("div",{className:"".concat(mS,"__value-wrap"),children:[(0,u.jsxs)("span",{className:"".concat(mS,"__label"),children:[w("version:status"),":\xa0"]}),(0,u.jsx)("span",{className:"".concat(mS,"__value"),children:w("version:".concat(_))}),!c&&N&&"published"===S&&(0,u.jsxs)(o.Fragment,{children:["\xa0\xa0",(0,u.jsx)(tP,{buttonStyle:"none",className:"".concat(mS,"__action"),id:"action-unpublish",onClick:()=>m(C),children:w("version:unpublish")}),(0,u.jsx)(lh,{body:w("version:aboutToUnpublish"),confirmingLabel:w("version:unpublishing"),heading:w("version:confirmUnpublish"),modalSlug:C,onConfirm:()=>k("unpublish")})]}),!c&&N&&a&&"changed"===S&&(0,u.jsxs)(o.Fragment,{children:["\xa0\xa0",(0,u.jsx)(tP,{buttonStyle:"none",className:"".concat(mS,"__action"),id:"action-revert-to-published",onClick:()=>m(j),children:w("version:revertToPublished")}),(0,u.jsx)(lh,{body:w("version:aboutToRevertToPublished"),confirmingLabel:w("version:reverting"),heading:w("version:confirmRevertToSaved"),modalSlug:j,onConfirm:()=>k("revert")})]})]})}):null},mk="doc-controls",mN=e=>{var t,n,l,a,r,c,p,h,m,g,b,y,x,w,C,j;let S=(0,f.c)(5),{id:_,slug:k,BeforeDocumentControls:N,customComponents:E,data:P,disableActions:D,disableCreate:T,EditMenuItems:A,hasSavePermission:R,isAccountView:L,isEditing:O,isInDrawer:F,isTrashed:I,onDelete:M,onDrawerCreateNew:B,onDuplicate:z,onRestore:U,onTakeOver:V,permissions:H,readOnlyForIncomingUser:q,redirectAfterDelete:W,redirectAfterDuplicate:K,redirectAfterRestore:Y,user:G}=e,{PreviewButton:Q,PublishButton:X,SaveButton:$,SaveDraftButton:Z}=void 0===E?{}:E,{i18n:J,t:ee}=(0,s.d)(),et=ni(),{config:en,getEntityConfig:el}=(0,i.b)(),ea=el({collectionSlug:k}),eo=el({globalSlug:k}),{isLivePreviewEnabled:er}=f7(),{admin:ei,localization:es,routes:ec}=en,{dateFormat:eu}=ei,{admin:ep}=ec,[eh,ef]=o.useState(""),[em,eg]=o.useState(""),ev=eA(),eb=eO(),ey,ex;S[0]!==P||S[1]!==eu||S[2]!==J?(ey=()=>{(null==P?void 0:P.updatedAt)&&ef(av({date:P.updatedAt,i18n:J,pattern:eu})),(null==P?void 0:P.createdAt)&&eg(av({date:P.createdAt,i18n:J,pattern:eu}))},ex=[P,J,eu],S[0]=P,S[1]=eu,S[2]=J,S[3]=ey,S[4]=ex):(ey=S[3],ex=S[4]),(0,o.useEffect)(ey,ex);let ew=H&&"create"in H&&H.create,eC=H&&"delete"in H&&H.delete,ej=!!(ea&&_&&!D&&(ew||eC)),eS=!_&&(null==ea||null==(t=ea.versions)?void 0:t.drafts)&&(null==(n=ea.versions)?void 0:n.drafts.validate),e_=null==ea||null==(l=ea.versions)?void 0:l.drafts,ek=null==eo||null==(a=eo.versions)?void 0:a.drafts,eN=e_&&(null==e_?void 0:e_.autosave)||ek&&(null==ek?void 0:ek.autosave),eE=e_&&(null==e_?void 0:e_.autosave),eP=ek&&(null==ek?void 0:ek.autosave),eD=eE&&!1!==e_.autosave&&!0===e_.autosave.showSaveDraftButton||eP&&!1!==ek.autosave&&!0===ek.autosave.showSaveDraftButton,eT=es&&!(null==ea||null==(r=ea.admin)?void 0:r.disableCopyToLocale),eR=ea&&ea.folders,eL=G&&q;return(0,u.jsxs)(ll,{className:mk,children:[(0,u.jsxs)("div",{className:"".concat(mk,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(mk,"__content"),children:[eL||eR?(0,u.jsxs)("div",{className:"".concat(mk,"__meta-icons"),children:[eL&&(0,u.jsx)(mc,{className:"".concat(mk,"__locked-controls"),user:G}),eR&&en.folders&&!I&&(0,u.jsx)(pk,{folderCollectionSlug:en.folders.slug,folderFieldName:en.folders.fieldName})]}):null,(0,u.jsxs)("ul",{className:"".concat(mk,"__meta"),children:[ea&&!O&&!L&&(0,u.jsx)("li",{className:"".concat(mk,"__list-item"),children:(0,u.jsx)("p",{className:"".concat(mk,"__value"),children:J.t("general:creatingNewLabel",{label:(0,d.s)(null!=(j=null==ea||null==(c=ea.labels)?void 0:c.singular)?j:J.t("general:document"),J)})})}),((null==ea||null==(p=ea.versions)?void 0:p.drafts)||(null==eo||null==(h=eo.versions)?void 0:h.drafts))&&(0,u.jsxs)(o.Fragment,{children:[(eo||ea&&O)&&(0,u.jsx)("li",{className:["".concat(mk,"__status"),"".concat(mk,"__list-item")].filter(Boolean).join(" "),children:(0,u.jsx)(m_,{})}),R&&eN&&!eS&&!I&&(0,u.jsx)("li",{className:"".concat(mk,"__list-item"),children:(0,u.jsx)(me,{collection:ea,global:eo,id:_,publishedDocUpdatedAt:null==P?void 0:P.createdAt})})]}),(null==ea?void 0:ea.timestamps)&&(O||L)&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("li",{className:["".concat(mk,"__list-item"),"".concat(mk,"__value-wrap")].filter(Boolean).join(" "),title:(null==P?void 0:P.updatedAt)?eh:"",children:[(0,u.jsxs)("p",{className:"".concat(mk,"__label"),children:[J.t(I?"general:deleted":"general:lastModified"),":\xa0"]}),(null==P?void 0:P.updatedAt)&&(0,u.jsx)("p",{className:"".concat(mk,"__value"),children:eh})]}),(0,u.jsxs)("li",{className:["".concat(mk,"__list-item"),"".concat(mk,"__value-wrap")].filter(Boolean).join(" "),title:(null==P?void 0:P.createdAt)?em:"",children:[(0,u.jsxs)("p",{className:"".concat(mk,"__label"),children:[J.t("general:created"),":\xa0"]}),(null==P?void 0:P.createdAt)&&(0,u.jsx)("p",{className:"".concat(mk,"__value"),children:em})]})]})]})]}),(0,u.jsxs)("div",{className:"".concat(mk,"__controls-wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(mk,"__controls"),children:[N,er&&!F&&(0,u.jsx)(mr,{}),((null==ea?void 0:ea.admin.preview)||(null==eo?void 0:eo.admin.preview))&&(0,u.jsx)(ed,{CustomComponent:Q,Fallback:(0,u.jsx)(mp,{})}),R&&!I&&(0,u.jsx)(o.Fragment,{children:(null==ea||null==(m=ea.versions)?void 0:m.drafts)||(null==eo||null==(g=eo.versions)?void 0:g.drafts)?(0,u.jsxs)(o.Fragment,{children:[(eS||!eN||eN&&eD)&&(0,u.jsx)(ed,{CustomComponent:Z,Fallback:(0,u.jsx)(mj,{})}),(0,u.jsx)(ed,{CustomComponent:X,Fallback:(0,u.jsx)(my,{})})]}):(0,u.jsx)(ed,{CustomComponent:$,Fallback:(0,u.jsx)(mC,{})})}),eC&&I&&(0,u.jsx)(mu,{buttonId:"action-permanently-delete",collectionSlug:null==ea?void 0:ea.slug,id:_.toString(),onDelete:M,redirectAfterDelete:W,singularLabel:null==ea||null==(b=ea.labels)?void 0:b.singular}),R&&I&&(0,u.jsx)(mw,{buttonId:"action-restore",collectionSlug:null==ea?void 0:ea.slug,id:_.toString(),onRestore:U,redirectAfterRestore:Y,singularLabel:null==ea||null==(y=ea.labels)?void 0:y.singular}),G&&q&&(0,u.jsx)(tP,{buttonStyle:"secondary",id:"take-over",onClick:V,size:"medium",type:"button",children:ee("general:takeOver")})]}),ej&&!q&&(0,u.jsx)(t_,{button:(0,u.jsxs)("div",{className:"".concat(mk,"__dots"),children:[(0,u.jsx)("div",{}),(0,u.jsx)("div",{}),(0,u.jsx)("div",{})]}),className:"".concat(mk,"__popup"),disabled:eb||ev,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:(0,u.jsxs)(ts.ButtonGroup,{children:[eT&&(0,u.jsx)(fX,{}),ew&&(0,u.jsxs)(o.Fragment,{children:[!T&&(0,u.jsx)(o.Fragment,{children:et>1?(0,u.jsx)(ts.Button,{id:"action-create",onClick:B,children:J.t("general:createNew")}):(0,u.jsx)(ts.Button,{href:(0,v.Q)({adminRoute:ep,path:"/collections/".concat(null==ea?void 0:ea.slug,"/create")}),id:"action-create",children:J.t("general:createNew")})}),!0!==ea.disableDuplicate&&O&&(0,u.jsx)(ml,{id:_.toString(),onDuplicate:z,redirectAfterDuplicate:K,singularLabel:null==ea||null==(x=ea.labels)?void 0:x.singular,slug:null==ea?void 0:ea.slug})]}),eC&&(0,u.jsx)(mn,{buttonId:"action-delete",collectionSlug:null==ea?void 0:ea.slug,id:_.toString(),onDelete:M,redirectAfterDelete:W,singularLabel:null==ea||null==(w=ea.labels)?void 0:w.singular,useAsTitle:null==ea||null==(C=ea.admin)?void 0:C.useAsTitle}),A]})})]})]}),(0,u.jsx)("div",{className:"".concat(mk,"__divider")})]})},mE=RegExp("^<(?<name>[^\\s/>]+)[^>]*>$"),mP=RegExp("^<(?<isEnd>\\/)?(?<name>[^\\s>]+)[^>]*>$"),mD=/^<[^>]+>/,mT=/^<img[^>]*>$/,mA=RegExp("^<video[^>]*>.*?<\\/video>$","ms"),mR=class{computeBestMatchedBlock(e,t,n,l){let a=null;for(let o=e;o<t;o++){let e=Math.min(t-o,l-n),r=this.slideBestMatchedBlock(o,n,e);if(r&&(!a||r.size>a.size)&&(a=r,r.size>this.leastCommonLength))return a}for(let o=n;o<l;o++){let n=Math.min(t-e,l-o),r=this.slideBestMatchedBlock(e,o,n);if(r&&(!a||r.size>a.size)&&(a=r,r.size>this.leastCommonLength))break}return a}computeMatchedBlockList(e,t,n,l){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=this.computeBestMatchedBlock(e,t,n,l);return o?(e<o.oldStart&&n<o.newStart&&this.computeMatchedBlockList(e,o.oldStart,n,o.newStart,a),a.push(o),t>o.oldEnd&&l>o.newEnd&&this.computeMatchedBlockList(o.oldEnd,t,o.newEnd,l,a),a):[]}dressUpBlockTag(e,t){return"create"===e?'<div class="'.concat(this.config.classNames.createBlock,'">').concat(t,"</div>"):"delete"===e?'<div class="'.concat(this.config.classNames.deleteBlock,'">').concat(t,"</div>"):""}dressUpDiffContent(e,t){let n=t.length;if(!n)return"";let l="",a=0,o=-1;for(let n of t){var r;o++;let i=n.includes('data-enable-match="true"'),s=n.includes('data-enable-match="false"'),c=!!(null==(r=n.match(mD))?void 0:r.length);s?(a=o+1,l+=n):!i&&c?(o>a&&(l+=this.dressUpText(e,t.slice(a,o))),a=o+1,n.match(mA)?l+=this.dressUpBlockTag(e,n):l+=n):i&&c&&(o>a&&(l+=this.dressUpText(e,t.slice(a,o))),a=o+1,l+=this.dressupMatchEnabledHtmlTag(e,n))}return a<n&&(l+=this.dressUpText(e,t.slice(a))),l}dressUpInlineTag(e,t){return"create"===e?'<span class="'.concat(this.config.classNames.createInline,'">').concat(t,"</span>"):"delete"===e?'<span class="'.concat(this.config.classNames.deleteInline,'">').concat(t,"</span>"):""}dressupMatchEnabledHtmlTag(e,t){var n,l;let a=null==(l=t.match(mE))||null==(n=l.groups)?void 0:n.name;if(!a)return t;let o=a.length+1;return"".concat(t.slice(0,o),' data-match-type="').concat("create"===e?"create":"delete",'"').concat(t.slice(o,t.length))}dressUpText(e,t){let n=t.join("");return n.trim()?"create"===e?'<span data-match-type="create">'.concat(n,"</span>"):"delete"===e?'<span data-match-type="delete">'.concat(n,"</span>"):"":""}getMatchedBlockList(){let e=this.oldTokens.length,t=this.newTokens.length,n=null,l=0;for(;l<e&&l<t&&this.oldTokens[l]===this.newTokens[l];)l++;l>=this.config.minMatchedSize&&(n={newEnd:l,newStart:0,oldEnd:l,oldStart:0,size:l});let a=null,o=e-1,r=t-1;for(;l<=o&&l<=r&&this.oldTokens[o]===this.newTokens[r];)o--,r--;let i=e-1-o;i>=this.config.minMatchedSize&&(a={newEnd:t,newStart:r+1,oldEnd:e,oldStart:o+1,size:i});let s=n?l:0,c=a?o+1:e,u=n?l:0,d=a?r+1:t;if(this.config.greedyMatch){let e=Math.min(c-s,d-u);e>this.config.greedyBoundary&&(this.leastCommonLength=Math.floor(e/3))}let p=this.computeMatchedBlockList(s,c,u,d);return n&&p.unshift(n),a&&p.push(a),p}getOperationList(){let e=[],t=0,n=0;for(let l of this.matchedBlockList){let a=t===l.oldStart,o=n===l.newStart,r={newEnd:l.newStart,newStart:n,oldEnd:l.oldStart,oldStart:t};a||o?a&&!o?e.push(Object.assign(r,{type:"create"})):!a&&o&&e.push(Object.assign(r,{type:"delete"})):e.push(Object.assign(r,{type:"replace"})),e.push({type:"equal",newEnd:l.newEnd,newStart:l.newStart,oldEnd:l.oldEnd,oldStart:l.oldStart}),t=l.oldEnd,n=l.newEnd}let l=this.oldTokens.length,a=this.newTokens.length,o={newEnd:a,newStart:n,oldEnd:l,oldStart:t},r=t===l,i=n===a;return r||i?r&&!i?e.push(Object.assign(o,{type:"create"})):!r&&i&&e.push(Object.assign(o,{type:"delete"})):e.push(Object.assign(o,{type:"replace"})),e}slideBestMatchedBlock(e,t,n){let l=0,a=null,o=0;for(let r=0;r<n;r++)this.oldTokens[e+r]===this.newTokens[t+r]?o++:o=0,o>l&&(l=o,a={newEnd:t+r+1,newStart:t+r-o+1,oldEnd:e+r+1,oldStart:e+r-o+1,size:o});return l>=this.config.minMatchedSize?a:null}tokenizeByCharacter(e){let t=[],n=0,l=RegExp("<picture[^>]*>.*?<\\/picture>|<video[^>]*>.*?<\\/video>|<[^>]+>","gs"),a;for(;null!==(a=l.exec(e));){let l=e.substring(n,a.index);if(l)for(let e of l)t.push(e);t.push(a[0]),n=a.index+a[0].length}for(let l of e.substring(n))t.push(l);return t}tokenizeByWord(e){return e.match(RegExp("<picture[^>]*>.*?<\\/picture>|<video[^>]*>.*?<\\/video>|<[^>]+>|\\w+\\b|\\s+|[^<>\\w]","gs"))||[]}getSideBySideContents(){if(void 0!==this.sideBySideContents)return this.sideBySideContents;let e="",t="",n=0;this.operationList.forEach(l=>{switch(l.type){case"create":t+=this.dressUpDiffContent("create",this.newTokens.slice(l.newStart,l.newEnd));break;case"delete":{let t=this.oldTokens.slice(l.oldStart,l.oldEnd);e+=this.dressUpDiffContent("delete",t);break}case"equal":{let i=this.newTokens.slice(l.newStart,l.newEnd),s="";for(let e of i){let t=e.match(mE);if(t){var a,o,r;n+=1;let l=(null!=(r=null==t||null==(o=t.groups)||null==(a=o.name)?void 0:a.length)?r:0)+1;s+="".concat(e.slice(0,l),' data-seq="').concat(n,'"').concat(e.slice(l))}else s+=e}e+=s,t+=s;break}case"replace":e+=this.dressUpDiffContent("delete",this.oldTokens.slice(l.oldStart,l.oldEnd)),t+=this.dressUpDiffContent("create",this.newTokens.slice(l.newStart,l.newEnd));break;default:console.error("Richtext diff error - invalid operation: "+String(l.type))}});let l=[e,t];return this.sideBySideContents=l,l}getUnifiedContent(){if(void 0!==this.unifiedContent)return this.unifiedContent;let e="";return this.operationList.forEach(t=>{switch(t.type){case"create":e+=this.dressUpDiffContent("create",this.newTokens.slice(t.newStart,t.newEnd));break;case"delete":e+=this.dressUpDiffContent("delete",this.oldTokens.slice(t.oldStart,t.oldEnd));break;case"equal":for(let n of this.newTokens.slice(t.newStart,t.newEnd))e+=n;break;case"replace":{var n,l,a,o,r,i;let s=this.oldTokens.slice(t.oldStart,t.oldEnd),c=this.newTokens.slice(t.newStart,t.newEnd);if(1===s.length&&1===c.length&&(null==(n=s[0])?void 0:n.match(mD))&&(null==(l=c[0])?void 0:l.match(mD))){e+=c[0];break}let u=[],d=[],p=t.newStart;for(let n=t.oldStart;n<t.oldEnd;n++){let l=this.oldTokens[n];if(!l)continue;let s=null==l?void 0:l.match(mP);if(s){if([mT,mA].some(e=>null==l?void 0:l.match(e))){u.push(l);continue}e+=this.dressUpDiffContent("delete",u),u.splice(0);let n=!1;for(let l=p;l<t.newEnd;l++){let t=this.newTokens[l];if(!t)continue;let c=null==t?void 0:t.match(mP);if(c&&(null==(a=c.groups)?void 0:a.name)===(null==(o=s.groups)?void 0:o.name)&&(null==(r=c.groups)?void 0:r.isEnd)===(null==(i=s.groups)?void 0:i.isEnd)){n=!0,e+=this.dressUpDiffContent("create",d),e+=t,d.splice(0),p=l+1;break}d.push(t)}n||(e+=l,d.splice(0))}else u.push(l)}p<t.newEnd&&d.push(...this.newTokens.slice(p,t.newEnd)),e+=this.dressUpDiffContent("delete",u),e+=this.dressUpDiffContent("create",d);break}default:console.error("Richtext diff error - invalid operation: "+String(t.type))}}),this.unifiedContent=e,e}constructor(e,t,{classNames:n={createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper"},greedyBoundary:l=1e3,greedyMatch:a=!0,minMatchedSize:o=2,tokenizeByCharacter:r=!1}={}){if(this.leastCommonLength=1/0,this.matchedBlockList=[],this.newTokens=[],this.oldTokens=[],this.operationList=[],this.config={classNames:{createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper",...n},greedyBoundary:l,greedyMatch:a,minMatchedSize:o},(e=e.trim())===(t=t.trim())){this.unifiedContent=e;let t=0,n=e.replace(/<([^\s/>]+)[^>]*>/g,(e,n)=>{let l=n.length+1;return"".concat(e.slice(0,l),' data-seq="').concat(++t,'"').concat(e.slice(l))});this.sideBySideContents=[n,n];return}let i=r?this.tokenizeByCharacter:this.tokenizeByWord;this.oldTokens=i(e),this.newTokens=i(t),this.matchedBlockList=this.getMatchedBlockList(),this.operationList=this.getOperationList()}},mL="html-diff",mO=e=>{let{fromHTML:t,toHTML:n,tokenizeByCharacter:l}=e,[a,o]=new mR(t,n,{tokenizeByCharacter:l}).getSideBySideContents();return{From:a?(0,u.jsx)("div",{className:"".concat(mL,"__diff-old html-diff"),dangerouslySetInnerHTML:{__html:a}}):null,To:o?(0,u.jsx)("div",{className:"".concat(mL,"__diff-new html-diff"),dangerouslySetInnerHTML:{__html:o}}):null}},mF=(0,o.createContext)(null),mI=e=>{let{children:t}=e,n=(0,o.useRef)(new Set);return(0,o.useEffect)(()=>{let e=e=>{n.current.forEach(t=>{let{handler:n,ref:l}=t;l.current&&!l.current.contains(e.target)&&n()})};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,u.jsx)(mF,{value:{register:e=>n.current.add(e),unregister:e=>n.current.delete(e)},children:t})},mM=()=>{let e=(0,o.use)(mF);if(!e)throw Error("useClickOutside must be used within a ClickOutsideProvider");return e};function mB(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],{register:l,unregister:a}=mM();(0,o.useEffect)(()=>{if(!n||!e.current)return;let o={handler:t,ref:e};return l(o),()=>a(o)},[e,t,n,l,a])}var mz=e=>{let t=(0,f.c)(7),{action:n,disabled:l}=e,{submit:a}=eE(),{t:o}=(0,s.d)(),r;t[0]!==n||t[1]!==a?(r=()=>{a({action:n,method:"PATCH",skipValidation:!0})},t[0]=n,t[1]=a,t[2]=r):r=t[2];let i=r,c;return t[3]!==l||t[4]!==i||t[5]!==o?(c=(0,u.jsx)(d7,{className:"".concat(mq,"__save"),disabled:l,onClick:i,children:o("general:save")}),t[3]=l,t[4]=i,t[5]=o,t[6]=c):c=t[6],c},mU=e=>{let t=(0,f.c)(7),{action:n,disabled:l}=e,{submit:a}=eE(),{t:o}=(0,s.d)(),r;t[0]!==n||t[1]!==a?(r=()=>{a({action:n,method:"PATCH",overrides:{_status:"published"},skipValidation:!0})},t[0]=n,t[1]=a,t[2]=r):r=t[2];let i=r,c;return t[3]!==l||t[4]!==i||t[5]!==o?(c=(0,u.jsx)(d7,{className:"".concat(mq,"__publish"),disabled:l,onClick:i,children:o("version:publishChanges")}),t[3]=l,t[4]=i,t[5]=o,t[6]=c):c=t[6],c},mV=e=>{let t=(0,f.c)(7),{action:n,disabled:l}=e,{submit:a}=eE(),{t:o}=(0,s.d)(),r;t[0]!==n||t[1]!==a?(r=()=>{a({action:n,method:"PATCH",overrides:{_status:"draft"},skipValidation:!0})},t[0]=n,t[1]=a,t[2]=r):r=t[2];let i=r,c;return t[3]!==l||t[4]!==i||t[5]!==o?(c=(0,u.jsx)(d7,{buttonStyle:"secondary",className:"".concat(mq,"__draft"),disabled:l,onClick:i,children:o("version:saveDraft")}),t[3]=l,t[4]=i,t[5]=o,t[6]=c):c=t[6],c},mH=e=>{var t,n;let{collection:l,collection:{fields:a,labels:{plural:r,singular:c}}={},count:p,drawerSlug:f,ids:m,onSuccess:g,selectAll:v,selectedFields:y,setSelectedFields:x,where:w}=e,{permissions:C,user:j}=lx(),{code:_}=lD(),{closeModal:k}=nN(),{config:{routes:{api:N},serverURL:E}}=(0,i.b)(),{getFormState:P}=cr(),{i18n:D,t:T}=(0,s.d)(),[A,R]=(0,o.useState)(!1),L=(0,h.useRouter)(),O=o.useRef(null),{clearRouteCache:F}=d9(),I=null==C||null==(t=C.collections)?void 0:t[l.slug],M=(0,h.useSearchParams)(),z=(0,o.useMemo)(()=>(0,B.s)(y.reduce((e,t)=>(e[t.value.path]=!0,e),{})),[y]),U=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,a=ck(O),{state:o}=await P({collectionSlug:l.slug,docPermissions:I,docPreferences:null,formState:t,operation:"update",schemaPath:l.slug,select:z,signal:a.signal,skipValidation:!n});return O.current=null,o},[P,l,I,z]);(0,o.useEffect)(()=>{let e=O.current;return()=>{c_(e)}},[]);let V=(0,o.useMemo)(()=>{var e;let t=[];w&&t.push(w);let n=(0,S.d)({collectionConfig:l,search:M.get("search")});return n&&t.push(n),v?t.push((null==(e=s7(M))?void 0:e.where)||{id:{not_equals:""}}):t.push({id:{in:m||[]}}),b.A({locale:_,where:(0,Y.h)(t)},{addQueryPrefix:!0})},[l,M,v,m,_,w]),H=(0,o.useCallback)(async e=>{let{dispatchFields:t,formState:n,selected:a}=e;R(!0),x(a||[]);let{state:o}=await P({collectionSlug:l.slug,docPermissions:I,docPreferences:null,formState:n,operation:"update",schemaPath:l.slug,select:(0,B.s)(a.reduce((e,t)=>(e[t.value.path]=!0,e),{})),skipValidation:!0});t({type:"UPDATE_MANY",formState:o}),R(!1)},[P,l.slug,I,x]);return(0,u.jsx)(aA,{collectionSlug:l.slug,currentEditor:j,hasPublishedDoc:!1,id:null,initialData:{},isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,versionCount:0,children:(0,u.jsx)(aR,{value:"update",children:(0,u.jsxs)("div",{className:"".concat(mq,"__main"),children:[(0,u.jsxs)("div",{className:"".concat(mq,"__header"),children:[(0,u.jsx)("h2",{className:"".concat(mq,"__header__title"),children:T("general:editingLabel",{count:p,label:(0,d.s)(p>1?r:c,D)})}),(0,u.jsx)("button",{"aria-label":T("general:close"),className:"".concat(mq,"__header__close"),id:"close-drawer__".concat(f),onClick:()=>k(f),type:"button",children:(0,u.jsx)(s.a,{})})]}),(0,u.jsxs)(dn,{className:"".concat(mq,"__form"),isInitializing:A,onChange:[U],onSuccess:()=>{L.replace(b.A({...s7(M),page:v?"1":void 0},{addQueryPrefix:!0})),F(),k(f),"function"==typeof g&&g()},children:[(0,u.jsx)(dB,{fields:a,onChange:H,permissions:I.fields}),0===y.length?null:(0,u.jsx)("div",{className:"render-fields",children:y.map((e,t)=>{let{value:{field:n,fieldPermissions:l,path:a}}=e;return(0,u.jsx)(hT,{clientFieldConfig:n,indexPath:"",parentPath:"",parentSchemaPath:"",path:a,permissions:l},"".concat(a,"-").concat(t))})}),(0,u.jsx)("div",{className:"".concat(mq,"__sidebar-wrap"),children:(0,u.jsx)("div",{className:"".concat(mq,"__sidebar"),children:(0,u.jsx)("div",{className:"".concat(mq,"__sidebar-sticky-wrap"),children:(0,u.jsx)("div",{className:"".concat(mq,"__document-actions"),children:(null==l||null==(n=l.versions)?void 0:n.drafts)?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mV,{action:"".concat(E).concat(N,"/").concat(l.slug).concat(V,"&draft=true"),disabled:0===y.length}),(0,u.jsx)(mU,{action:"".concat(E).concat(N,"/").concat(l.slug).concat(V,"&draft=true"),disabled:0===y.length})]}):(0,u.jsx)(mz,{action:"".concat(E).concat(N,"/").concat(l.slug).concat(V),disabled:0===y.length})})})})})]})]})})})},mq="edit-many",mW=e=>{let t=(0,f.c)(8),{count:n,selectAll:l,selectedIDs:a,toggleAll:o}=f3(),r;t[0]!==o?(r=()=>o(),t[0]=o,t[1]=r):r=t[1];let i=l===fZ.AllAvailable,s;return t[2]!==n||t[3]!==e||t[4]!==a||t[5]!==r||t[6]!==i?(s=(0,u.jsx)(mK,{...e,count:n,ids:a,onSuccess:r,selectAll:i}),t[2]=n,t[3]=e,t[4]=a,t[5]=r,t[6]=i,t[7]=s):s=t[7],s},mK=e=>{var t;let n,l,a=(0,f.c)(16),{collection:r,count:i,ids:c,modalPrefix:d,onSuccess:p,selectAll:h,where:m}=e,{permissions:g}=lx(),{openModal:v}=nN(),{t:b}=(0,s.d)(),y;a[0]===Symbol.for("react.memo_cache_sentinel")?(y=[],a[0]=y):y=a[0];let[x,w]=(0,o.useState)(y),C=null==g||null==(t=g.collections)?void 0:t[r.slug],j="".concat(d?"".concat(d,"-"):"","edit-").concat(r.slug);if(0===i||!(null==C?void 0:C.update))return null;if(a[1]===Symbol.for("react.memo_cache_sentinel")?(n=[mq,"".concat(mq,"__toggle")].filter(Boolean),a[1]=n):n=a[1],a[2]!==r||a[3]!==i||a[4]!==j||a[5]!==c||a[6]!==p||a[7]!==v||a[8]!==h||a[9]!==x||a[10]!==b||a[11]!==m){let e;a[13]!==j||a[14]!==v?(e=()=>{v(j),w([])},a[13]=j,a[14]=v,a[15]=e):e=a[15],l=(0,u.jsxs)("div",{className:n.join(" "),children:[(0,u.jsx)(f5,{"aria-label":b("general:edit"),onClick:e,children:b("general:edit")}),(0,u.jsx)(nr,{children:(0,u.jsx)(ls,{Header:null,slug:j,children:(0,u.jsx)(mH,{collection:r,count:i,drawerSlug:j,ids:c,onSuccess:p,selectAll:h,selectedFields:x,setSelectedFields:w,where:m})})})]}),a[2]=r,a[3]=i,a[4]=j,a[5]=c,a[6]=p,a[7]=v,a[8]=h,a[9]=x,a[10]=b,a[11]=m,a[12]=l}else l=a[12];return l};function mY(e){let t=(0,f.c)(3),n=ni(),l;return t[0]!==n||t[1]!==e?(l=(0,u.jsx)(nH,{closeOnBlur:!1,...e,style:{...e.style||{},zIndex:"calc(100 + ".concat(n||0," + 1)")}}),t[0]=n,t[1]=e,t[2]=l):l=t[2],l}function mG(e){let t,n=(0,f.c)(12),{highlightField:l,setKey:a}=e,{id:r}=aD(),{toggleModal:i}=nN(),{t:c}=(0,s.d)(),d="generate-confirmation-".concat(r),p;n[0]!==l||n[1]!==a||n[2]!==c?(p=()=>{a(),eZ.success(c("authentication:newAPIKeyGenerated")),l(!0)},n[0]=l,n[1]=a,n[2]=c,n[3]=p):p=n[3];let h=p,m;return n[4]!==d||n[5]!==i?(m=()=>{i(d)},n[4]=d,n[5]=i,n[6]=m):m=n[6],n[7]!==h||n[8]!==d||n[9]!==c||n[10]!==m?(t=(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(tP,{buttonStyle:"secondary",onClick:m,size:"small",children:c("authentication:generateNewAPIKey")}),(0,u.jsx)(lh,{body:(0,u.jsx)(ps,{elements:{1:mQ},i18nKey:"authentication:generatingNewAPIKeyWillInvalidate",t:c}),confirmLabel:c("authentication:generate"),heading:c("authentication:confirmGeneration"),modalSlug:d,onConfirm:h})]}),n[7]=h,n[8]=d,n[9]=c,n[10]=m,n[11]=t):t=n[11],t}function mQ(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function mX(e){let t=(0,f.c)(4),{permissions:n}=e,{setPermissions:l}=lx(),a,r;return t[0]!==n||t[1]!==l?(a=()=>{l(n)},r=[n,l],t[0]=n,t[1]=l,t[2]=a,t[3]=r):(a=t[2],r=t[3]),(0,o.useEffect)(a,r),null}var m$="dots",mZ=e=>{let{ariaLabel:t,className:n,noBackground:l,orientation:a="vertical"}=e;return(0,u.jsxs)("div",{"aria-label":t,className:[n,m$,l&&"".concat(m$,"--no-background"),a&&"".concat(m$,"--").concat(a)].filter(Boolean).join(" "),children:[(0,u.jsx)("div",{}),(0,u.jsx)("div",{}),(0,u.jsx)("div",{})]})},mJ=[{label:"equals",value:"equals"},{label:"isNotEqualTo",value:"not_equals"}],m0=[{label:"isIn",value:"in"},{label:"isNotIn",value:"not_in"},{label:"exists",value:"exists"}],m1=[...mJ,...m0],m3=[...m1,{label:"isGreaterThan",value:"greater_than"},{label:"isLessThan",value:"less_than"},{label:"isLessThanOrEqualTo",value:"less_than_equal"},{label:"isGreaterThanOrEqualTo",value:"greater_than_equal"}],m2=[...mJ,{label:"exists",value:"exists"},{label:"near",value:"near"}],m6={label:"within",value:"within"},m5={label:"intersects",value:"intersects"},m4={label:"isLike",value:"like"},m8={label:"isNotLike",value:"not_like"},m9={label:"contains",value:"contains"},m7={checkbox:{component:"Text",operators:mJ},code:{component:"Text",operators:[...m1,m4,m8,m9]},date:{component:"Date",operators:[...m1,...m3]},email:{component:"Text",operators:[...m1,m9]},json:{component:"Text",operators:[...m1,m4,m9,m8,m6,m5]},number:{component:"Number",operators:[...m1,...m3]},point:{component:"Point",operators:[...m2,m6,m5]},radio:{component:"Select",operators:[...m1]},relationship:{component:"Relationship",operators:[...m1]},richText:{component:"Text",operators:[...m1,m4,m8,m9]},select:{component:"Select",operators:[...m1]},text:{component:"Text",operators:[...m1,m4,m8,m9]},textarea:{component:"Text",operators:[...m1,m4,m8,m9]},upload:{component:"Text",operators:[...m1]}},ge=e=>{let{fieldPermissions:t,fields:n,i18n:l,labelPrefix:a,pathPrefix:o}=e;return n.reduce((e,n)=>{var r,i,s;let c=o;if((0,m.I2)(n)&&!(0,m.uT)(n)||"virtual"in n&&!0===n.virtual)return e;if("virtual"in n&&"string"==typeof n.virtual&&(c=c?c+"."+n.virtual:n.virtual,(0,m.Z7)(n)&&(n.name="")),"tabs"===n.type&&"tabs"in n)return n.tabs.forEach(n=>{if("boolean"!=typeof n.label){var o;let r=(0,d.s)(n.label,l),i=(0,m.pz)(n)&&n.name?c?c+"."+n.name:n.name:c;"string"==typeof r&&e.push(...ge({fieldPermissions:"boolean"==typeof t?t:(0,m.pz)(n)&&n.name?(null==(o=t[n.name])?void 0:o.fields)||t[n.name]:t,fields:n.fields,i18n:l,labelPrefix:a?a+" > "+r:r,pathPrefix:i}))}}),e;if("row"===n.type&&"fields"in n)return e.push(...ge({fieldPermissions:t,fields:n.fields,i18n:l,labelPrefix:a,pathPrefix:c})),e;if("collapsible"===n.type&&"fields"in n){let o=(0,d.s)(n.label||"",l);return e.push(...ge({fieldPermissions:t,fields:n.fields,i18n:l,labelPrefix:a?a+" > "+o:o,pathPrefix:c})),e}if("group"===n.type&&"fields"in n){let o=(0,d.s)(n.label||"",l),r=a?o?a+" > "+o:a:o;if((0,m.Z7)(n)){let a=n.name?c?c+"."+n.name:n.name:c;e.push(...ge({fieldPermissions:"boolean"==typeof t?t:(null==(i=t[n.name])?void 0:i.fields)||t[n.name],fields:n.fields,i18n:l,labelPrefix:r,pathPrefix:a}))}else e.push(...ge({fieldPermissions:t,fields:n.fields,i18n:l,labelPrefix:r,pathPrefix:c}));return e}if("array"===n.type&&"fields"in n){let o=(0,d.s)(n.label||"",l),r=n.name?c?c+"."+n.name:n.name:c;return e.push(...ge({fieldPermissions:"boolean"==typeof t?t:(null==(s=t[n.name])?void 0:s.fields)||t[n.name],fields:n.fields,i18n:l,labelPrefix:a?o?a+" > "+o:a:o,pathPrefix:r})),e}if("object"==typeof m7[n.type]&&((0,m.uT)(n)||!0===t||(null==t?void 0:t[n.name])===!0||(null==t||null==(r=t[n.name])?void 0:r.read)===!0)){let t=new Set,o=("hasMany"in n&&n.hasMany?m0:m7[n.type].operators).reduce((e,n)=>{if(!t.has(n.value)){t.add(n.value);let a="operators:".concat(n.label);e.push({...n,label:l.t(a)})}return e},[]),r=(0,d.s)(n.label||"",l),i=a?dI({field:n,prefix:a}):r,s=c?dF(c,n):n.name,u={label:i,plainTextLabel:"".concat(a?a+" > ":"").concat(r),value:s,...m7[n.type],field:n,operators:o};return e.push(u),e}return e},[])},gt="group-by-builder",gn=["text","textarea","number","select","relationship","date","checkbox","radio","email","number","upload"],gl=e=>{var t,n,l;let{collectionSlug:a,fields:r}=e,{i18n:i,t:c}=(0,s.d)(),{permissions:d}=lx(),p=null==d||null==(n=d.collections)||null==(t=n[a])?void 0:t.fields,h=(0,o.useMemo)(()=>ge({fieldPermissions:p,fields:r,i18n:i}),[r,p,i]),{query:f,refineListData:m}=ct(),g=null==(l=f.groupBy)?void 0:l.replace(/^-/,""),v=h.find(e=>e.value===g);return(0,u.jsxs)("div",{className:gt,children:[(0,u.jsxs)("div",{className:"".concat(gt,"__header"),children:[(0,u.jsx)("p",{children:c("general:groupByLabel",{label:""})}),f.groupBy&&(0,u.jsx)("button",{className:"".concat(gt,"__clear-button"),id:"group-by--reset",onClick:async()=>{await m({groupBy:""})},type:"button",children:c("general:clear")})]}),(0,u.jsxs)("div",{className:"".concat(gt,"__inputs"),children:[(0,u.jsx)(sq,{filterOption:(e,t)=>{var n;return((null==e||null==(n=e.data)?void 0:n.plainTextLabel)||e.label).toLowerCase().includes(t.toLowerCase())},id:"group-by--field-select",isClearable:!0,isMulti:!1,onChange:async e=>{var t;let n=null===e?void 0:e.value;null===e&&await m({groupBy:"",page:1}),await m({groupBy:n?(null==(t=f.groupBy)?void 0:t.startsWith("-"))?"-".concat(n):n:void 0,page:1})},options:h.filter(e=>!e.field.admin.disableGroupBy&&"id"!==e.value&&gn.includes(e.field.type)),value:{label:(null==v?void 0:v.label)||c("general:selectValue"),value:g||""}}),(0,u.jsx)(uG,{id:"group-by--sort",isClearable:!1,name:"direction",onChange:async e=>{let{value:t}=e;g&&await m({groupBy:"asc"===t?g:"-".concat(g),page:1})},options:[{label:c("general:ascending"),value:"asc"},{label:c("general:descending"),value:"desc"}],path:"direction",readOnly:!g,value:f.groupBy?"string"==typeof f.groupBy?"".concat(f.groupBy.startsWith("-")?"desc":"asc"):"":"asc"})]})]})},ga=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:["icon","icon--people",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 16C14 14.5855 13.4381 13.229 12.4379 12.2288C11.4377 11.2286 10.0812 10.6667 8.66668 10.6667M8.66668 10.6667C7.25219 10.6667 5.89563 11.2286 4.89544 12.2288C3.89525 13.229 3.33334 14.5855 3.33334 16M8.66668 10.6667C10.5076 10.6667 12 9.17428 12 7.33333C12 5.49238 10.5076 4 8.66668 4C6.82573 4 5.33334 5.49238 5.33334 7.33333C5.33334 9.17428 6.82573 10.6667 8.66668 10.6667ZM16.6667 15.3333C16.6667 13.0867 15.3333 11 14 10C14.4383 9.67118 14.7888 9.23939 15.0204 8.74285C15.252 8.2463 15.3577 7.70031 15.328 7.1532C15.2984 6.60609 15.1343 6.07472 14.8503 5.60613C14.5664 5.13754 14.1713 4.74617 13.7 4.46667",strokeLinecap:"round",strokeLinejoin:"round"})})},go="active-query-preset";function gr(e){let t=(0,f.c)(11),{activePreset:n,openPresetListDrawer:l,resetPreset:a}=e,{i18n:o,t:r}=(0,s.d)(),{getEntityConfig:c}=(0,i.b)(),p;if(t[0]!==n||t[1]!==c||t[2]!==o||t[3]!==l||t[4]!==a||t[5]!==r){let e,i=c({collectionSlug:"payload-query-presets"}),h=n&&"".concat(go,"--active"),f;t[7]!==h?(f=[go,h].filter(Boolean),t[7]=h,t[8]=f):f=t[8],t[9]!==l?(e=()=>{l()},t[9]=l,t[10]=e):e=t[10],p=(0,u.jsx)(ol,{className:f.join(" "),id:"select-preset",onClick:e,pillStyle:"light",size:"small",children:(0,u.jsxs)("div",{className:"".concat(go,"__label"),children:[(null==n?void 0:n.isShared)&&(0,u.jsx)(ga,{className:"".concat(go,"__shared")}),(0,u.jsx)("div",{className:"".concat(go,"__label-text-max-width"),children:(0,u.jsx)("div",{className:"".concat(go,"__label-text"),children:(null==n?void 0:n.title)||r("general:selectLabel",{label:(0,d.s)(i.labels.singular,o)})})}),n?(0,u.jsx)("div",{className:"".concat(go,"__clear"),id:"clear-preset",onClick:async e=>{e.stopPropagation(),await a()},onKeyDown:async e=>{("Enter"===e.key||" "===e.key)&&(e.stopPropagation(),await a())},role:"button",tabIndex:0,children:(0,u.jsx)(s.a,{})}):null]})}),t[0]=n,t[1]=c,t[2]=o,t[3]=l,t[4]=a,t[5]=r,t[6]=p}else p=t[6];return p}var gi="confirm-delete-preset",gs="payload-query-presets",gc="query-preset-bar",gu=e=>{var t,n,l,a,r;let{activePreset:c,collectionSlug:p,queryPresetPermissions:h}=e,{modified:f,query:m,refineListData:g,setModified:v}=ct(),{i18n:b,t:y}=(0,s.d)(),{openModal:x}=nN(),{config:{routes:{api:w}},getEntityConfig:C}=(0,i.b)(),j=C({collectionSlug:gs}),[S,,{openDrawer:k}]=cL({id:null==c?void 0:c.id,collectionSlug:gs}),[N,,{closeDrawer:E,openDrawer:P}]=cL({collectionSlug:gs}),[D,,{closeDrawer:T,openDrawer:A}]=uS({collectionSlugs:[gs],filterOptions:(0,o.useMemo)(()=>({"payload-query-presets":{isTemp:{not_equals:!0},relatedCollection:{equals:p}}}),[p]),selectedCollection:gs}),R=(0,o.useCallback)(async e=>{await g({columns:e.columns?(0,_.F)(e.columns):void 0,preset:e.id,where:e.where},!1)},[g]),L=(0,o.useCallback)(async()=>{await g({columns:[],preset:"",where:{}},!1)},[g]),O=(0,o.useCallback)(async()=>{try{await fetch("".concat(w,"/").concat(gs,"/").concat(c.id),{method:"DELETE"}).then(async e=>{try{var t;let n=await e.json();e.status<400?(eZ.success(y("general:titleDeleted",{label:(0,d.s)(null==j||null==(t=j.labels)?void 0:t.singular,b),title:c.title})),await L()):n.errors?n.errors.forEach(e=>eZ.error(e.message)):eZ.error(y("error:deletingTitle",{title:c.title}))}catch(e){eZ.error(y("error:deletingTitle",{title:c.title}))}})}catch(e){eZ.error(y("error:deletingTitle",{title:c.title}))}},[w,null==c?void 0:c.id,null==c?void 0:c.title,y,j,b,L]),F=(0,o.useCallback)(async()=>{try{await fetch("".concat(w,"/payload-query-presets/").concat(c.id),{body:JSON.stringify({columns:(0,_.l)(m.columns),where:m.where}),credentials:"include",headers:{"Content-Type":"application/json"},method:"PATCH"}).then(async e=>{try{var t;let n=await e.json();e.status<400?(eZ.success(y("general:updatedLabelSuccessfully",{label:(0,d.s)(null==j||null==(t=j.labels)?void 0:t.singular,b)})),v(!1)):n.errors?n.errors.forEach(e=>eZ.error(e.message)):eZ.error(y("error:unknown"))}catch(e){eZ.error(y("error:unknown"))}})}catch(e){eZ.error(y("error:unknown"))}},[w,null==c?void 0:c.id,m.columns,m.where,y,null==j||null==(t=j.labels)?void 0:t.singular,b,v]),I=c&&f;return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:gc,children:[(0,u.jsxs)("div",{className:"".concat(gc,"__menu"),children:[(0,u.jsx)(gr,{activePreset:c,openPresetListDrawer:A,resetPreset:L}),(0,u.jsx)(ol,{"aria-label":y("general:newLabel",{label:null==j||null==(n=j.labels)?void 0:n.singular}),className:"".concat(gc,"__create-new-preset"),icon:(0,u.jsx)(tr,{}),id:"create-new-preset",onClick:()=>{P()},size:"small"})]}),(0,u.jsxs)("div",{className:"".concat(gc,"__menu-items"),children:[I&&(0,u.jsx)(f5,{id:"reset-preset",onClick:async()=>{await g({columns:(0,_.F)(c.columns),where:c.where},!1)},type:"button",children:y("general:reset")},"reset"),I&&h.update&&(0,u.jsx)(f5,{id:"save-preset",onClick:async()=>{await F()},type:"button",children:(null==c?void 0:c.isShared)?y("general:updateForEveryone"):y("fields:saveChanges")},"save"),c&&(null==h?void 0:h.delete)&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(f5,{id:"delete-preset",onClick:()=>x(gi),type:"button",children:y("general:deleteLabel",{label:null==j||null==(l=j.labels)?void 0:l.singular})}),(0,u.jsx)(f5,{id:"edit-preset",onClick:()=>{k()},type:"button",children:y("general:editLabel",{label:null==j||null==(a=j.labels)?void 0:a.singular})})]})]})]}),(0,u.jsx)(N,{initialData:{columns:(0,_.l)(m.columns),relatedCollection:p,where:m.where},onSave:async e=>{let{doc:t}=e;E(),await R(t)},redirectAfterCreate:!1}),(0,u.jsx)(lh,{body:(0,u.jsx)(ps,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToDelete",t:y,variables:{label:null==j||null==(r=j.labels)?void 0:r.singular,title:null==c?void 0:c.title}}),confirmingLabel:y("general:deleting"),heading:y("general:confirmDeletion"),modalSlug:gi,onConfirm:O}),(0,u.jsx)(S,{onDelete:()=>{},onDuplicate:async e=>{let{doc:t}=e;await R(t)},onSave:async e=>{let{doc:t}=e;await R(t)}}),(0,u.jsx)(D,{allowCreate:!1,disableQueryPresets:!0,onSelect:async e=>{let{doc:t}=e;T(),await R(t)}})]})},gd="search-filter";function gp(e){let{handleChange:t,initialParams:n,label:l,searchQueryParam:a}=e,r=(null==n?void 0:n.search)||a,[i,s]=(0,o.useState)("string"==typeof r?r:void 0),c=(0,o.useRef)(!0),d=(0,o.useRef)("string"==typeof r?r:void 0),p=cO(i,300);return(0,o.useEffect)(()=>(r!==d.current&&(c.current=!1,s(r),d.current=r),()=>{c.current=!0,d.current=void 0}),[r]),(0,o.useEffect)(()=>{p!==d.current&&c.current&&(t&&t(p),d.current=p)},[p,t]),(0,u.jsx)("div",{className:gd,children:(0,u.jsx)("input",{"aria-label":l,className:"".concat(gd,"__input"),id:"search-filter-input",onChange:e=>{c.current=!0,s(e.target.value)},placeholder:l,type:"text",value:i||""})})}var gh="search-bar";function gf(e){let{Actions:t,className:n,label:l="Search...",onSearchChange:a,searchQueryParam:o}=e;return(0,u.jsxs)("div",{className:[gh,n].filter(Boolean).join(" "),children:[(0,u.jsx)(of,{}),(0,u.jsx)(gp,{handleChange:a,label:l,searchQueryParam:o}),t&&t.length>0?(0,u.jsx)("div",{className:"".concat(gh,"__actions"),children:t}):null]})}var gm=e=>{let{disabled:t,field:{admin:n},onChange:l,value:a}=e,{date:o}=n||{};return(0,u.jsx)("div",{className:"condition-value-date",children:(0,u.jsx)(oO,{...o,onChange:l,readOnly:t,value:a})})},gg=e=>{let t,n=(0,f.c)(18),{disabled:l,field:a,onChange:r,operator:i,value:c}=e,{hasMany:d}=a,{t:p}=(0,s.d)(),h;n[0]!==d||n[1]!==i?(h=["in","not_in"].includes(i)||d,n[0]=d,n[1]=i,n[2]=h):h=n[2];let m=h,g;n[3]===Symbol.for("react.memo_cache_sentinel")?(g=[],n[3]=g):g=n[3];let[v,b]=o.useState(g),y;n[4]!==m||n[5]!==r?(y=e=>{var t;let n;e?m&&(n=Array.isArray(e)?e.map(gv):[Number((null==(t=e.value)?void 0:t.value)||e.value)]):n=[],r(n)},n[4]=m,n[5]=r,n[6]=y):y=n[6];let x=y,w,C;return n[7]!==c?(w=()=>{Array.isArray(c)?b(c.map(gb)):b([])},C=[c],n[7]=c,n[8]=w,n[9]=C):(w=n[8],C=n[9]),o.useEffect(w,C),n[10]!==l||n[11]!==m||n[12]!==r||n[13]!==x||n[14]!==p||n[15]!==c||n[16]!==v?(t=m?(0,u.jsx)(sq,{disabled:l,isClearable:!0,isCreatable:!0,isMulti:m,isSortable:!0,numberOnly:!0,onChange:x,options:[],placeholder:p("general:enterAValue"),value:v||[]}):(0,u.jsx)("input",{className:"condition-value-number",disabled:l,onChange:e=>r(e.target.value),placeholder:p("general:enterAValue"),type:"number",value:c}),n[10]=l,n[11]=m,n[12]=r,n[13]=x,n[14]=p,n[15]=c,n[16]=v,n[17]=t):t=n[17],t};function gv(e){var t;return Number((null==(t=e.value)?void 0:t.value)||e.value)}function gb(e,t){return{id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}}}var gy=e=>e.reduce((e,t)=>t.options?[...e,...gy(t.options)]:[...e,t.id],[]),gx=(e,t)=>{switch(t.type){case"ADD":{let{collection:n,data:l,hasMultipleRelations:a,i18n:o,relation:r}=t,i=n.admin.useAsTitle||"id",s=gy(e);if(!a)return[...e,...l.docs.reduce((e,t)=>-1===s.indexOf(t.id)?(s.push(t.id),[...e,{label:t[i],value:t.id}]):e,[])];let c=[...e],u=c.find(e=>e.label===(0,d.s)(n.labels.plural,o)),p=l.docs.reduce((e,t)=>-1===s.indexOf(t.id)?(s.push(t.id),[...e,{label:t[i],relationTo:r,value:t.id}]):e,[]);return u?u.options=[...u.options,...p]:c.push({label:(0,d.s)(n.labels.plural,o),options:p,value:void 0}),c}case"CLEAR":return t.required?[]:[{label:t.i18n.t("general:none"),value:"null"}];default:return e}},gw="condition-value-relationship",gC=e=>{let{disabled:t,field:{admin:{isSortable:n,placeholder:l}={},hasMany:a,relationTo:r},filterOptions:c,onChange:d,value:p}=e,{config:{routes:{api:h},serverURL:f},getEntityConfig:m}=(0,i.b)(),g=Array.isArray(r),[v,y]=(0,o.useReducer)(gx,[]),[x,w]=(0,o.useState)(""),C=cO(x,300),[j,S]=(0,o.useState)(""),[_,k]=(0,o.useState)(!1),{i18n:N,t:E}=(0,s.d)(),P=lD(),D=g?r:[r],T=o.useRef(new Map(D.map(e=>[e,{hasLoadedAll:!1,nextPage:1}]))),A=(0,o.useCallback)((e,t)=>{y({type:"ADD",collection:m({collectionSlug:t}),data:e,hasMultipleRelations:g,i18n:N,relation:t})},[g,N,m]),R=lg(async e=>{let{abortController:t,relationSlug:n}=e,l=T.current.get(n);if(n&&!l.hasLoadedAll){var a,o;let e=(null==(o=m({collectionSlug:n}))||null==(a=o.admin)?void 0:a.useAsTitle)||"id",r={depth:0,limit:10,locale:P.code,page:l.nextPage,select:{[e]:!0},where:{and:[]}};c&&(null==c?void 0:c[n])&&r.where.and.push(c[n]),C&&r.where.and.push({[e]:{like:C}});try{let e=await fetch("".concat(f).concat(h,"/").concat(n).concat(b.A(r,{addQueryPrefix:!0})),{credentials:"include",headers:{"Accept-Language":N.language},signal:t.signal});if(e.ok){let t=await e.json();t.docs.length>0&&(A(t,n),t.nextPage?T.current.set(n,{hasLoadedAll:!1,nextPage:t.nextPage}):T.current.set(n,{hasLoadedAll:!0,nextPage:null}))}else S(E("error:unspecific"))}catch(e){t.signal.aborted||console.error(e)}}k(!0)}),L=o.useCallback(()=>{let e=T.current.entries().next().value;e[0]&&!e[1].hasLoadedAll&&R({abortController:new AbortController,relationSlug:e[0]})},[]),O=(0,o.useCallback)(()=>{if(p){if(a)return Array.isArray(p)?p.map(e=>{if(g){let t;return v.forEach(n=>{n.options&&n.options.some(n=>(null==n?void 0:n.value)==e.value&&(t=n,!0))}),t}return v.find(t=>t.value==e)}):void 0;if(g){let e;return v.forEach(t=>{(null==t?void 0:t.options)&&t.options.some(t=>(null==t?void 0:t.value)==p.value&&(e=t,!0))}),e}return v.find(e=>e.value==p)}},[a,g,p,v]),F=(0,o.useCallback)(e=>{e!==x&&(y({type:"CLEAR",i18n:N,required:!1}),T.current=new Map((Array.isArray(r)?r:[r]).map(e=>[e,{hasLoadedAll:!1,nextPage:1}])),w(e))},[N,r,x]),I=(0,o.useCallback)(async(e,t)=>{if(!j&&"null"!==e&&e&&t){let n=await fetch("".concat(f).concat(h,"/").concat(t,"/").concat(e,"?depth=0"),{credentials:"include",headers:{"Accept-Language":N.language}});n.ok?A({docs:[await n.json()]},t):console.error(E("error:loadingDocument",{id:e}))}},[N,A,h,j,f,E]);(0,o.useEffect)(()=>{let e=Array.isArray(r)?r:[r];T.current=new Map(e.map(e=>[e,{hasLoadedAll:!1,nextPage:1}])),y({type:"CLEAR",i18n:N,required:!1}),k(!1);let t=[];return e.forEach(e=>{let n=new AbortController;R({abortController:n,relationSlug:e}),t.push(n)}),()=>{t.forEach(e=>{if(e.signal)try{e.abort()}catch(e){}})}},[N,r,C,c]),(0,o.useEffect)(()=>{p&&_&&(a?(O()||[]).forEach((e,t)=>{e||(g?I(p[t].value,p[t].relationTo):I(p[t],r))}):O()||(g?I(p.value,p.relationTo):I(p,r)))},[I,O,a,g,r,p,_]);let M=["field-type",gw,j&&"error-loading"].filter(Boolean).join(" "),B=O()||p;return(0,u.jsx)("div",{className:M,children:j?(0,u.jsx)("div",{className:"".concat(gw,"__error-loading"),children:j}):(0,u.jsx)(sq,{disabled:t,isMulti:a,isSortable:n,onChange:e=>{if(!e)return void d(null);a&&Array.isArray(e)?d(e?e.map(e=>g?{relationTo:null==e?void 0:e.relationTo,value:null==e?void 0:e.value}:null==e?void 0:e.value):null):g&&!Array.isArray(e)?d({relationTo:null==e?void 0:e.relationTo,value:null==e?void 0:e.value}):Array.isArray(e)||d(null==e?void 0:e.value)},onInputChange:F,onMenuScrollToBottom:L,options:v,placeholder:l,value:B})})},gj=e=>{let t,n,l,a,r=(0,f.c)(21),{disabled:i,field:c,isClearable:p,onChange:h,operator:m,options:g,value:v}=e,{admin:b}=c,{placeholder:y}=b,{i18n:x}=(0,s.d)(),w;r[0]!==g?(w=sW(g),r[0]=g,r[1]=w):w=r[1];let[C,j]=o.useState(w),S;r[2]===Symbol.for("react.memo_cache_sentinel")?(S=["in","not_in"],r[2]=S):S=r[2];let _=S.includes(m),k;if(_&&Array.isArray(v)){let e;r[3]!==x||r[4]!==C?(e=e=>{var t;let n=C.find(t=>t.value===e);return{label:n?(0,d.s)(n.label,x):e,value:null!=(t=null==n?void 0:n.value)?t:e}},r[3]=x,r[4]=C,r[5]=e):e=r[5],k=v.map(e)}else if(v){var N;let e;r[6]!==v?(e=e=>e.value===v,r[6]=v,r[7]=e):e=r[7];let t=C.find(e);k={label:t?(0,d.s)(t.label,x):v,value:null!=(N=null==t?void 0:t.value)?N:v}}r[8]!==_||r[9]!==h?(t=e=>{h(e?_?Array.isArray(e)?e.map(gS):[]:e.value:null)},r[8]=_,r[9]=h,r[10]=t):t=r[10];let E=t,P,D;return r[11]!==g?(P=()=>{j(sW(g))},D=[g],r[11]=g,r[12]=P,r[13]=D):(P=r[12],D=r[13]),o.useEffect(P,D),r[14]!==_||r[15]!==h||r[16]!==v?(n=()=>{!_&&Array.isArray(v)&&h(v[0])},l=[_,h,v],r[14]=_,r[15]=h,r[16]=v,r[17]=n,r[18]=l):(n=r[17],l=r[18]),o.useEffect(n,l),r[19]!==x?(a=e=>({...e,label:(0,d.s)(e.label,x)}),r[19]=x,r[20]=a):a=r[20],(0,u.jsx)(sq,{disabled:i,isClearable:p,isMulti:_,onChange:E,options:C.map(a),placeholder:y,value:k})};function gS(e){return e.value}var g_=e=>{let t,n=(0,f.c)(18),{disabled:l,field:a,onChange:r,operator:i,value:c}=e,{hasMany:d}=a,{t:p}=(0,s.d)(),h;n[0]!==d||n[1]!==i?(h=["in","not_in"].includes(i)||d,n[0]=d,n[1]=i,n[2]=h):h=n[2];let m=h,g;n[3]===Symbol.for("react.memo_cache_sentinel")?(g=[],n[3]=g):g=n[3];let[v,b]=o.useState(g),y;n[4]!==m||n[5]!==r?(y=e=>{var t;let n;e?m&&(n=Array.isArray(e)?e.map(gk):[(null==(t=e.value)?void 0:t.value)||e.value]):n=[],r(n)},n[4]=m,n[5]=r,n[6]=y):y=n[6];let x=y,w,C;return n[7]!==c?(w=()=>{Array.isArray(c)?b(c.map(gN)):b([])},C=[c],n[7]=c,n[8]=w,n[9]=C):(w=n[8],C=n[9]),o.useEffect(w,C),n[10]!==l||n[11]!==m||n[12]!==r||n[13]!==x||n[14]!==p||n[15]!==c||n[16]!==v?(t=m?(0,u.jsx)(sq,{disabled:l,isClearable:!0,isCreatable:!0,isMulti:m,isSortable:!0,onChange:x,options:[],placeholder:p("general:enterAValue"),value:v||[]}):(0,u.jsx)("input",{className:"condition-value-text",disabled:l,onChange:e=>r(e.target.value),placeholder:p("general:enterAValue"),type:"text",value:c||""}),n[10]=l,n[11]=m,n[12]=r,n[13]=x,n[14]=p,n[15]=c,n[16]=v,n[17]=t):t=n[17],t};function gk(e){var t;return(null==(t=e.value)?void 0:t.value)||e.value}function gN(e,t){return{id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}}}var gE=e=>{var t,n;let{booleanSelect:l,disabled:a,filterOptions:o,internalField:r,onChange:i,operator:s,options:c,value:d}=e;if(l||["radio","select"].includes(null==r||null==(t=r.field)?void 0:t.type))return(0,u.jsx)(gj,{disabled:a,field:r.field,isClearable:!l,onChange:i,operator:s,options:c,value:d});switch(null==r||null==(n=r.field)?void 0:n.type){case"date":return(0,u.jsx)(gm,{disabled:a,field:r.field,onChange:i,operator:s,value:d});case"number":return(0,u.jsx)(gg,{disabled:a,field:r.field,onChange:i,operator:s,value:d});case"relationship":return(0,u.jsx)(gC,{disabled:a,field:r.field,filterOptions:o,onChange:i,operator:s,value:d});default:return(0,u.jsx)(g_,{disabled:a,field:null==r?void 0:r.field,onChange:i,operator:s,value:d})}},gP="condition",gD=e=>{var t,n,l,a,r;let{addCondition:i,andIndex:c,fieldPath:d,filterOptions:p,operator:h,orIndex:f,reducedFields:m,removeCondition:g,RenderedFilter:v,updateCondition:b,value:y}=e,{t:x}=(0,s.d)(),w=m.find(e=>e.value===d),[C,j]=(0,o.useState)(y),S=cO(C,300),_=["exists"].includes(h)||(null==w||null==(t=w.field)?void 0:t.type)==="checkbox",k=[];_?k=[{label:x("general:true"),value:"true"},{label:x("general:false"),value:"false"}]:(null==w?void 0:w.field)&&"options"in w.field&&(k=w.field.options);let N=lg(async e=>{h&&await b({andIndex:c,field:w,operator:h,orIndex:f,value:null===e?"":e})});(0,o.useEffect)(()=>{N(S)},[S]);let E=!(null==w?void 0:w.value)&&"number"!=typeof(null==w?void 0:w.value)||(null==w||null==(l=w.field)||null==(n=l.admin)?void 0:n.disableListFilter),P=(0,o.useCallback)(async e=>{j(void 0),await b({andIndex:c,field:m.find(t=>t.value===e.value),operator:h,orIndex:f,value:void 0})},[c,h,f,m,b]),D=(0,o.useCallback)(async e=>{let t=(e=>({all:"any",contains:"string",equals:"any",exists:"boolean",greater_than:"date"===e?"object":"string",greater_than_equal:"date"===e?"object":"string",in:"any",intersects:"any",less_than:"date"===e?"object":"string",less_than_equal:"date"===e?"object":"string",like:"string",near:"any",not_equals:"any",not_in:"any",not_like:"string",within:"any"}))(w.field.type)[e.value]||"any",n="any"===t||typeof y===t||"boolean"===t&&("true"===y||"false"===y);n||j(void 0),await b({andIndex:c,field:w,operator:e.value,orIndex:f,value:n?y:void 0})},[c,w,f,b,y]);return(0,u.jsx)("div",{className:gP,children:(0,u.jsxs)("div",{className:"".concat(gP,"__wrap"),children:[(0,u.jsxs)("div",{className:"".concat(gP,"__inputs"),children:[(0,u.jsx)("div",{className:"".concat(gP,"__field"),children:(0,u.jsx)(sq,{disabled:E,filterOption:(e,t)=>{var n;return((null==e||null==(n=e.data)?void 0:n.plainTextLabel)||e.label).toLowerCase().includes(t.toLowerCase())},isClearable:!1,onChange:P,options:m.filter(e=>!e.field.admin.disableListFilter),value:w||{value:null==w?void 0:w.value}})}),(0,u.jsx)("div",{className:"".concat(gP,"__operator"),children:(0,u.jsx)(sq,{disabled:E,isClearable:!1,onChange:D,options:null==w?void 0:w.operators,value:(null==w?void 0:w.operators.find(e=>h===e.value))||null})}),(0,u.jsx)("div",{className:"".concat(gP,"__value"),children:v||(0,u.jsx)(gE,{booleanSelect:_,disabled:!h||!w||(null==w||null==(r=w.field)||null==(a=r.admin)?void 0:a.disableListFilter),filterOptions:p,internalField:w,onChange:j,operator:h,options:k,value:null!=C?C:""})})]}),(0,u.jsxs)("div",{className:"".concat(gP,"__actions"),children:[(0,u.jsx)(tP,{buttonStyle:"icon-label",className:"".concat(gP,"__actions-remove"),icon:"x",iconStyle:"with-border",onClick:()=>g({andIndex:c,orIndex:f}),round:!0}),(0,u.jsx)(tP,{buttonStyle:"icon-label",className:"".concat(gP,"__actions-add"),icon:"plus",iconStyle:"with-border",onClick:()=>i({andIndex:c+1,field:m.find(e=>{var t;return!(null==(t=e.field.admin)?void 0:t.disableListFilter)}),orIndex:f,relation:"and"}),round:!0})]})]})})},gT="where-builder",gA=e=>{var t,n;let{collectionPluralLabel:l,collectionSlug:a,fields:r,renderedFilters:i,resolvedFilterOptions:c}=e,{i18n:p,t:h}=(0,s.d)(),{permissions:f}=lx(),m=null==f||null==(n=f.collections)||null==(t=n[a])?void 0:t.fields,g=(0,o.useMemo)(()=>ge({fieldPermissions:m,fields:r,i18n:p}),[m,r,p]),{handleWhereChange:v,query:b}=ct(),y=(0,o.useMemo)(()=>{let e=b.where;if(e){if((0,G.Q)(e))return e.or;let t=(0,Q.a)(e);if((0,G.Q)(t))return t.or;console.warn("Invalid where query in URL: ".concat(JSON.stringify(e)))}return[]},[b.where]),x=o.useCallback(async e=>{let{andIndex:t,field:n,orIndex:l,relation:a}=e,o=[...y],r=m7[n.field.type].operators[0].value;"and"===a?o[l].and.splice(t,0,{[String(n.value)]:{[r]:void 0}}):o.push({and:[{[String(n.value)]:{[r]:void 0}}]}),await v({or:o})},[y,v]),w=o.useCallback(async e=>{let{andIndex:t,field:n,operator:l,orIndex:a,value:o}=e,r=y[a].and[t],i=m7[n.field.type],s=l||i.operators[0].value;if("object"==typeof r&&n.value){var c,u;let e=null!=o?o:null==r?void 0:r[s],l=e!==(null==r||null==(c=r[String(n.value)])?void 0:c[String(s)]),i=s!==(null==(u=Object.keys((null==r?void 0:r[String(n.value)])||{}))?void 0:u[0]);if(l||i){let l={[String(n.value)]:{[s]:e}},o=[...y];o[a].and[t]=l,await v({or:o})}}},[y,v]),C=o.useCallback(async e=>{let{andIndex:t,orIndex:n}=e,l=[...y];l[n].and.splice(t,1),0===l[n].and.length&&l.splice(n,1),await v({or:l})},[y,v]);return(0,u.jsxs)("div",{className:gT,children:[y.length>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("p",{className:"".concat(gT,"__label"),children:h("general:filterWhere",{label:(0,d.s)(l,p)})}),(0,u.jsx)("ul",{className:"".concat(gT,"__or-filters"),children:y.map((e,t)=>{let n="".concat(t,"_").concat(Array.isArray(null==e?void 0:e.and)?e.and.length:"");return(0,u.jsxs)("li",{children:[0!==t&&(0,u.jsx)("div",{className:"".concat(gT,"__label"),children:h("general:or")}),(0,u.jsx)("ul",{className:"".concat(gT,"__and-filters"),children:Array.isArray(null==e?void 0:e.and)&&e.and.map((e,n)=>{var l,a;let o=y[t].and[n],r=Object.keys(o)[0],s=(null==(l=Object.keys((null==o?void 0:o[r])||{}))?void 0:l[0])||void 0,d=(null==o||null==(a=o[r])?void 0:a[s])||void 0;return(0,u.jsxs)("li",{children:[0!==n&&(0,u.jsx)("div",{className:"".concat(gT,"__label"),children:h("general:and")}),(0,u.jsx)(gD,{addCondition:x,andIndex:n,fieldPath:r,filterOptions:null==c?void 0:c.get(r),operator:s,orIndex:t,reducedFields:g,removeCondition:C,RenderedFilter:null==i?void 0:i.get(r),updateCondition:w,value:d})]},n)})})]},n)})}),(0,u.jsx)(tP,{buttonStyle:"icon-label",className:"".concat(gT,"__add-or"),icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{await x({andIndex:0,field:g.find(e=>{var t;return!(null==(t=e.field.admin)?void 0:t.disableListFilter)}),orIndex:y.length,relation:"or"})},children:h("general:or")})]}),0===y.length&&(0,u.jsxs)("div",{className:"".concat(gT,"__no-filters"),children:[(0,u.jsx)("div",{className:"".concat(gT,"__label"),children:h("general:noFiltersSet")}),(0,u.jsx)(tP,{buttonStyle:"icon-label",className:"".concat(gT,"__add-first-filter"),icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{g.length>0&&await x({andIndex:0,field:g.find(e=>{var t;return!(null==(t=e.field.admin)?void 0:t.disableListFilter)}),orIndex:y.length,relation:"or"})},children:h("general:addFilter")})]})]})},gR="list-controls",gL=e=>{var t,n;let{beforeActions:l,collectionConfig:a,collectionSlug:r,disableQueryPresets:i,enableColumns:c=!0,enableFilters:p=!0,enableSort:h=!1,listMenuItems:f,queryPreset:g,queryPresetPermissions:v,renderedFilters:b,resolvedFilterOptions:y}=e,{handleSearchChange:x,query:w}=ct(),C=hJ(a),{i18n:S,t:_}=(0,s.d)(),{breakpoints:{s:k}}=tg(),N=null!=(n=C&&(0,d.s)("label"in C&&("string"==typeof C.label||"object"==typeof C.label)?C.label:"name"in C?C.name:null,S))?n:"ID",E=((e,t,n)=>{if(e){let l=(0,j.L)(t,{i18n:n,moveSubFieldsToTop:!0}),a=new Set(e),o=[];for(let e of l)(0,m.Z7)(e)&&a.has(e.name)&&(o.push(e),a.delete(e.name));return o}return null})(a.admin.listSearchableFields,a.fields,S),P=(0,o.useRef)(_("general:searchBy",{label:(0,d.s)(N,S)})),D=(0,o.useRef)(!!(null==w?void 0:w.where)),T=(0,G.Q)(null==w?void 0:w.where),[A,R]=(0,o.useState)(T?"where":void 0);return(0,o.useEffect)(()=>{!D.current||(null==w?void 0:w.where)?(null==w?void 0:w.where)&&(D.current=!0):D.current=!1},[R,null==w?void 0:w.where]),(0,o.useEffect)(()=>{(null==E?void 0:E.length)>0?P.current=E.reduce((e,t,n)=>{let l="label"in t&&t.label?t.label:"name"in t?t.name:null;return 0===n?"".concat(_("general:searchBy",{label:(0,d.s)(l,S)})):n===E.length-1?"".concat(e," ").concat(_("general:or")," ").concat((0,d.s)(l,S)):"".concat(e,", ").concat((0,d.s)(l,S))},""):P.current=_("general:searchBy",{label:(0,d.s)(N,S)})},[_,E,S,N]),(0,u.jsxs)("div",{className:gR,children:[(null==a?void 0:a.enableQueryPresets)&&!i&&(0,u.jsx)(gu,{activePreset:g,collectionSlug:r,queryPresetPermissions:v}),(0,u.jsx)(gf,{Actions:[!k&&(0,u.jsx)(o.Fragment,{children:l&&l},"before-actions"),c&&(0,u.jsx)(ol,{"aria-controls":"".concat(gR,"-columns"),"aria-expanded":"columns"===A,className:"".concat(gR,"__toggle-columns"),icon:(0,u.jsx)(tl,{direction:"columns"===A?"up":"down"}),id:"toggle-list-columns",onClick:()=>R("columns"!==A?"columns":void 0),pillStyle:"light",size:"small",children:_("general:columns")},"toggle-list-columns"),p&&(0,u.jsx)(ol,{"aria-controls":"".concat(gR,"-where"),"aria-expanded":"where"===A,className:"".concat(gR,"__toggle-where"),icon:(0,u.jsx)(tl,{direction:"where"===A?"up":"down"}),id:"toggle-list-filters",onClick:()=>R("where"!==A?"where":void 0),pillStyle:"light",size:"small",children:_("general:filters")},"toggle-list-filters"),h&&(0,u.jsx)(ol,{"aria-controls":"".concat(gR,"-sort"),"aria-expanded":"sort"===A,className:"".concat(gR,"__toggle-sort"),icon:(0,u.jsx)(tl,{}),id:"toggle-list-sort",onClick:()=>R("sort"!==A?"sort":void 0),pillStyle:"light",size:"small",children:_("general:sort")},"toggle-list-sort"),a.admin.groupBy&&(0,u.jsx)(ol,{"aria-controls":"".concat(gR,"-group-by"),"aria-expanded":"group-by"===A,className:"".concat(gR,"__toggle-group-by"),icon:(0,u.jsx)(tl,{direction:"group-by"===A?"up":"down"}),id:"toggle-group-by",onClick:()=>R("group-by"!==A?"group-by":void 0),pillStyle:"light",size:"small",children:_("general:groupByLabel",{label:""})},"toggle-group-by"),f&&Array.isArray(f)&&f.length>0&&(0,u.jsx)(t_,{button:(0,u.jsx)(mZ,{ariaLabel:_("general:moreOptions")}),className:"".concat(gR,"__popup"),horizontalAlign:"right",id:"list-menu",size:"small",verticalAlign:"bottom",children:f.map((e,t)=>(0,u.jsx)(o.Fragment,{children:e},"list-menu-item-".concat(t)))},"list-menu")].filter(Boolean),label:P.current,onSearchChange:x,searchQueryParam:null==w?void 0:w.search},r),c&&(0,u.jsx)(a2,{className:"".concat(gR,"__columns"),height:"columns"===A?"auto":0,id:"".concat(gR,"-columns"),children:(0,u.jsx)(ch,{collectionSlug:a.slug})}),(0,u.jsx)(a2,{className:"".concat(gR,"__where"),height:"where"===A?"auto":0,id:"".concat(gR,"-where"),children:(0,u.jsx)(gA,{collectionPluralLabel:null==a||null==(t=a.labels)?void 0:t.plural,collectionSlug:a.slug,fields:null==a?void 0:a.fields,renderedFilters:b,resolvedFilterOptions:y})}),a.admin.groupBy&&(0,u.jsx)(a2,{className:"".concat(gR,"__group-by"),height:"group-by"===A?"auto":0,id:"".concat(gR,"-group-by"),children:(0,u.jsx)(gl,{collectionSlug:a.slug,fields:a.fields})})]})};function gO(e){let{collection:t,collection:{slug:n,labels:{plural:l,singular:a}}={},drawerSlug:r,ids:c,onSuccess:p,selectAll:f,where:m}=e,{clearRouteCache:g}=d9(),{config:{routes:{api:v},serverURL:y}}=(0,i.b)(),{code:x}=lD(),w=(0,h.useRouter)(),C=(0,h.useSearchParams)(),{i18n:j,t:_}=(0,s.d)(),k=(0,o.useCallback)(()=>{eZ.error(_("error:unknown"))},[_]),N=o.useMemo(()=>{var e;let n=[{_status:{not_equals:"published"}}];m&&n.push(m);let l=(0,S.d)({collectionConfig:t,search:C.get("search")});return l&&n.push(l),f?n.push((null==(e=s7(C))?void 0:e.where)||{id:{not_equals:""}}):n.push({id:{in:c||[]}}),b.A({locale:x,where:(0,Y.h)(n)},{addQueryPrefix:!0})},[t,C,f,c,x,m]),E=(0,o.useCallback)(async()=>{await lv.patch("".concat(y).concat(v,"/").concat(n).concat(N,"&draft=true"),{body:JSON.stringify({_status:"published"}),headers:{"Accept-Language":j.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json(),n=(null==t?void 0:t.docs.length)||0,o=n>1?l:a;return e.status<400||n>0?(eZ.success(_("general:updatedCountSuccessfully",{count:n,label:(0,d.s)(o,j)})),(null==t?void 0:t.errors.length)>0&&eZ.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}),w.replace(b.A({...s7(C),page:f?"1":void 0},{addQueryPrefix:!0})),g(),"function"==typeof p&&p(),null):(t.errors?t.errors.forEach(e=>eZ.error(e.message)):k(),!1)}catch(e){return k()}})},[y,v,n,N,j,l,a,_,w,C,f,g,k,p]);return(0,u.jsx)(lh,{body:_("version:aboutToPublishSelection",{label:(0,d.s)(l,j)}),cancelLabel:_("general:cancel"),confirmingLabel:_("version:publishing"),confirmLabel:_("general:confirm"),heading:_("version:confirmPublish"),modalSlug:r,onConfirm:E})}var gF=e=>{let t=(0,f.c)(8),{count:n,selectAll:l,selectedIDs:a,toggleAll:o}=f3(),r;t[0]!==o?(r=()=>o(),t[0]=o,t[1]=r):r=t[1];let i=l===fZ.AllAvailable,s;return t[2]!==n||t[3]!==e||t[4]!==a||t[5]!==r||t[6]!==i?(s=(0,u.jsx)(gI,{...e,count:n,ids:a,onSuccess:r,selectAll:i}),t[2]=n,t[3]=e,t[4]=a,t[5]=r,t[6]=i,t[7]=s):s=t[7],s},gI=e=>{var t,n;let l,a=(0,f.c)(12),{collection:r,collection:i,count:c,ids:d,modalPrefix:p,onSuccess:h,selectAll:m,where:g}=e,{slug:v,versions:b}=void 0===i?{}:i,{permissions:y}=lx(),{t:x}=(0,s.d)(),{openModal:w}=nN(),C=null==y||null==(n=y.collections)||null==(t=n[v])?void 0:t.update,j="".concat(p?"".concat(p,"-"):"","publish-").concat(v);if(!(null==b?void 0:b.drafts)||0===c||!C)return null;if(a[0]!==r||a[1]!==j||a[2]!==d||a[3]!==h||a[4]!==w||a[5]!==m||a[6]!==x||a[7]!==g){let e;a[9]!==j||a[10]!==w?(e=()=>{w(j)},a[9]=j,a[10]=w,a[11]=e):e=a[11],l=(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(f5,{"aria-label":x("version:publish"),onClick:e,children:x("version:publish")}),(0,u.jsx)(gO,{collection:r,drawerSlug:j,ids:d,onSuccess:h,selectAll:m,where:g})]}),a[0]=r,a[1]=j,a[2]=d,a[3]=h,a[4]=w,a[5]=m,a[6]=x,a[7]=g,a[8]=l}else l=a[8];return l},gM="confirm-restore-many-docs",gB="restore-many",gz=e=>{var t,n,l,a,r;let{collection:{slug:c}={},viewType:p}=e,{permissions:f}=lx(),{config:{collections:m,routes:g,serverURL:v}}=(0,i.b)(),{code:y}=lD(),x=(0,h.useRouter)(),{clearRouteCache:w}=d9(),C=(0,h.useSearchParams)(),{count:j,getSelectedIds:_,selectAll:k,toggleAll:N}=f3(),{openModal:E}=nN(),{i18n:P,t:D}=(0,s.d)(),[T,A]=o.useState(!1),R=null==f||null==(n=f.collections)||null==(t=n[c])?void 0:t.update;if(k===fZ.None||!R||"trash"!==p)return null;let L=k===fZ.AllAvailable,O=L?[]:_(),F=null==(l=s7(C))?void 0:l.where,I={and:[...Array.isArray(null==F?void 0:F.and)?F.and:F?[F]:[],{deletedAt:{exists:!0}}]},M=async()=>{var e,t,n,l;let a,o=m.find(e=>e.slug===c);if(!o)return;a=L?I:{and:[{id:{in:O}},{deletedAt:{exists:!0}}]};let r="".concat(v).concat(g.api,"/").concat(c).concat(b.A({limit:0,locale:y,trash:!0,where:(0,S.d)({collectionConfig:o,search:null==(e=s7(C))?void 0:e.search,where:a})},{addQueryPrefix:!0})),i={deletedAt:null};(null==o||null==(t=o.versions)?void 0:t.drafts)&&(i._status=T?"published":"draft");let s=await lv.patch(r,{body:JSON.stringify(i),headers:{"Accept-Language":P.language,"Content-Type":"application/json"}});try{let{plural:e,singular:t}=o.labels,a=await s.json(),r=(null==a||null==(n=a.docs)?void 0:n.length)||0;(s.status<400||r>0)&&eZ.success(D("general:restoredCountSuccessfully",{count:r,label:(0,d.s)(r>1?e:t,P)})),(null==a||null==(l=a.errors)?void 0:l.length)>0&&eZ.error(a.message,{description:a.errors.map(e=>e.message).join("\n")})}catch(e){eZ.error(D("error:unknown"))}N(),x.replace(b.A({...s7(C),page:L?"1":void 0},{addQueryPrefix:!0})),w()},B=m.find(e=>{let{slug:t}=e;return t===c}),z=(0,d.s)(1===j?B.labels.singular:B.labels.plural,P);return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(f5,{"aria-label":D("general:restore"),className:"restore-documents__toggle",onClick:()=>{E(gM)},children:D("general:restore")}),(0,u.jsx)(lh,{body:(0,u.jsxs)(o.Fragment,{children:[D((null==B||null==(a=B.versions)?void 0:a.drafts)?"general:aboutToRestoreAsDraftCount":"general:aboutToRestoreCount",{count:j,label:z}),(null==B||null==(r=B.versions)?void 0:r.drafts)&&(0,u.jsx)("div",{className:"".concat(gB,"__checkbox"),children:(0,u.jsx)(aQ,{checked:T,id:"restore-as-published-many",label:D("general:restoreAsPublished"),name:"restore-as-published-many",onToggle:e=>A(e.target.checked)})})]}),className:gB,confirmingLabel:D("general:restoring"),heading:D("general:confirmRestoration"),modalSlug:gM,onConfirm:M})]})};function gU(e){let{collection:t,collection:{slug:n,labels:{plural:l,singular:a}}={},drawerSlug:r,ids:c,onSuccess:p,selectAll:f,where:m}=e,{config:{routes:{api:g},serverURL:v}}=(0,i.b)(),{code:y}=lD(),{i18n:x,t:w}=(0,s.d)(),C=(0,h.useSearchParams)(),j=(0,h.useRouter)(),{clearRouteCache:_}=d9(),k=(0,o.useCallback)(()=>{eZ.error(w("error:unknown"))},[w]),N=o.useMemo(()=>{let e=[{_status:{not_equals:"draft"}}];m&&e.push(m);let n=(0,S.d)({collectionConfig:t,search:C.get("search")});return n&&e.push(n),f||e.push({id:{in:c||[]}}),b.A({locale:y,where:(0,Y.h)(e)},{addQueryPrefix:!0})},[t,C,f,c,y,m]),E=(0,o.useCallback)(async()=>{await lv.patch("".concat(v).concat(g,"/").concat(n).concat(N),{body:JSON.stringify({_status:"draft"}),headers:{"Accept-Language":x.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json(),n=(null==t?void 0:t.docs.length)||0,o=n>1?l:a;return e.status<400||n>0?(eZ.success(w("general:updatedCountSuccessfully",{count:n,label:(0,d.s)(o,x)})),(null==t?void 0:t.errors.length)>0&&eZ.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}),j.replace(b.A({...s7(C),page:f?"1":void 0},{addQueryPrefix:!0})),_(),"function"==typeof p&&p(),null):(t.errors?t.errors.forEach(e=>eZ.error(e.message)):k(),!1)}catch(e){return k()}})},[v,g,n,N,x,l,a,w,j,C,f,_,k,p]);return(0,u.jsx)(lh,{body:w("version:aboutToUnpublishSelection",{label:(0,d.s)(l,x)}),confirmingLabel:w("version:unpublishing"),heading:w("version:confirmUnpublish"),modalSlug:r,onConfirm:E})}var gV=e=>{let t=(0,f.c)(8),{count:n,selectAll:l,selectedIDs:a,toggleAll:o}=f3(),r;t[0]!==o?(r=()=>o(),t[0]=o,t[1]=r):r=t[1];let i=l===fZ.AllAvailable,s;return t[2]!==n||t[3]!==e||t[4]!==a||t[5]!==r||t[6]!==i?(s=(0,u.jsx)(gH,{...e,count:n,ids:a,onSuccess:r,selectAll:i}),t[2]=n,t[3]=e,t[4]=a,t[5]=r,t[6]=i,t[7]=s):s=t[7],s},gH=e=>{var t,n;let l,a=(0,f.c)(12),{collection:r,collection:i,count:c,ids:d,modalPrefix:p,onSuccess:h,selectAll:m,where:g}=e,{slug:v,versions:b}=void 0===i?{}:i,{t:y}=(0,s.d)(),{permissions:x}=lx(),{toggleModal:w}=nN(),C=null==x||null==(n=x.collections)||null==(t=n[v])?void 0:t.update,j="".concat(p?"".concat(p,"-"):"","unpublish-").concat(v);if(!(null==b?void 0:b.drafts)||0===c||!C)return null;if(a[0]!==r||a[1]!==j||a[2]!==d||a[3]!==h||a[4]!==m||a[5]!==y||a[6]!==w||a[7]!==g){let e;a[9]!==j||a[10]!==w?(e=()=>{w(j)},a[9]=j,a[10]=w,a[11]=e):e=a[11],l=(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(f5,{"aria-label":y("version:unpublish"),onClick:e,children:y("version:unpublish")}),(0,u.jsx)(gU,{collection:r,drawerSlug:j,ids:d,onSuccess:h,selectAll:m,where:g})]}),a[0]=r,a[1]=j,a[2]=d,a[3]=h,a[4]=m,a[5]=y,a[6]=w,a[7]=g,a[8]=l}else l=a[8];return l},gq=e=>{let t=(0,f.c)(19),{collectionConfig:n,disableBulkDelete:l,disableBulkEdit:a,label:r,modalPrefix:i,showSelectAllAcrossPages:c,viewType:d,where:p}=e,h=void 0===c||c,{count:m,selectAll:g,selectedIDs:v,toggleAll:b,totalDocs:y}=f3(),{t:x}=(0,s.d)(),w;t[0]!==b?(w=()=>b(),t[0]=b,t[1]=w):w=t[1];let C=w;if(0===m)return null;let j=(null==n?void 0:n.trash)&&"trash"===d,S;return t[2]!==n||t[3]!==m||t[4]!==l||t[5]!==a||t[6]!==j||t[7]!==r||t[8]!==i||t[9]!==C||t[10]!==g||t[11]!==v||t[12]!==h||t[13]!==x||t[14]!==b||t[15]!==y||t[16]!==d||t[17]!==p?(S=(0,u.jsx)(f6,{count:m,ListActions:[g!==fZ.AllAvailable&&m<y&&!1!==h?(0,u.jsx)(f5,{"aria-label":x("general:selectAll",{count:"(".concat(y,")"),label:r}),id:"select-all-across-pages",onClick:()=>b(!0),children:x("general:selectAll",{count:"(".concat(y,")"),label:""})},"select-all"):null].filter(Boolean),SelectionActions:[!a&&!j&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mK,{collection:n,count:m,ids:v,modalPrefix:i,onSuccess:C,selectAll:g===fZ.AllAvailable,where:p}),(0,u.jsx)(gI,{collection:n,count:m,ids:v,modalPrefix:i,onSuccess:C,selectAll:g===fZ.AllAvailable,where:p}),(0,u.jsx)(gH,{collection:n,count:m,ids:v,modalPrefix:i,onSuccess:C,selectAll:g===fZ.AllAvailable,where:p})]},"bulk-actions"),j&&(0,u.jsx)(gz,{collection:n,viewType:d},"bulk-restore"),!l&&(0,u.jsx)(f4,{collection:n,modalPrefix:i,viewType:d},"bulk-delete")].filter(Boolean)}),t[2]=n,t[3]=m,t[4]=l,t[5]=a,t[6]=j,t[7]=r,t[8]=i,t[9]=C,t[10]=g,t[11]=v,t[12]=h,t[13]=x,t[14]=b,t[15]=y,t[16]=d,t[17]=p,t[18]=S):S=t[18],S};function gW(e){let{slug:t,className:n}=e,{closeModal:l}=nN(),{t:a}=(0,s.d)();return(0,u.jsx)("button",{"aria-label":a("general:close"),className:["close-modal-button",n].filter(Boolean).join(" "),onClick:()=>{l(t)},type:"button",children:(0,u.jsx)(s.a,{})},"close-button")}var gK="default-list-view-tabs",gY=e=>{var t,n,l,a;let o,r=(0,f.c)(20),{collectionConfig:i,config:c,onChange:p,viewType:m}=e,{i18n:g,t:b}=(0,s.d)(),{setPreference:y}=lS(),x=(0,h.useRouter)(),w=i.trash,C=i.folders&&c.folders;if(!w&&!C)return null;r[0]!==i.slug||r[1]!==c||r[2]!==p||r[3]!==x||r[4]!==y?(o=async e=>{p&&p(e),("list"===e||"folders"===e)&&await y("collection-".concat(i.slug),{listViewType:e});let t="/collections/".concat(i.slug);switch(e){case"folders":c.folders&&(t="/collections/".concat(i.slug,"/").concat(c.folders.slug));break;case"trash":t="/collections/".concat(i.slug,"/trash")}let n=(0,v.Q)({adminRoute:c.routes.admin,path:t,serverURL:c.serverURL});x.push(n)},r[0]=i.slug,r[1]=c,r[2]=p,r[3]=x,r[4]=y,r[5]=o):o=r[5];let j=o,S="".concat(b("general:all")," ").concat((0,d.s)(null==i||null==(t=i.labels)?void 0:t.plural,g)),_;if(r[6]!==S||r[7]!==(null==(n=i.labels)?void 0:n.plural)||r[8]!==j||r[9]!==g||r[10]!==C||r[11]!==w||r[12]!==b||r[13]!==m){let e,t;r[15]===Symbol.for("react.memo_cache_sentinel")?(e=/\s+/g,r[15]=e):e=r[15];let n=S.toLowerCase().replace(e,"-"),o="list"===m&&"".concat(gK,"__button--active"),s;r[16]!==o?(s=["".concat(gK,"__button"),o].filter(Boolean),r[16]=o,r[17]=s):s=r[17],r[18]!==j?(t=()=>j("list"),r[18]=j,r[19]=t):t=r[19],_=(0,u.jsxs)("div",{className:gK,children:[(0,u.jsxs)(tP,{buttonStyle:"tab",className:s.join(" "),disabled:"list"===m,el:"button",id:n,onClick:t,children:[b("general:all")," ",(0,d.s)(null==i||null==(l=i.labels)?void 0:l.plural,g)]}),C&&(0,u.jsx)(tP,{buttonStyle:"tab",className:["".concat(gK,"__button"),"folders"===m&&"".concat(gK,"__button--active")].filter(Boolean).join(" "),disabled:"folders"===m,el:"button",onClick:()=>j("folders"),children:b("folder:byFolder")}),w&&(0,u.jsx)(tP,{buttonStyle:"tab",className:["".concat(gK,"__button"),"trash"===m&&"".concat(gK,"__button--active")].filter(Boolean).join(" "),disabled:"trash"===m,el:"button",id:"trash-view-pill",onClick:()=>j("trash"),children:b("general:trash")})]}),r[6]=S,r[7]=null==(a=i.labels)?void 0:a.plural,r[8]=j,r[9]=g,r[10]=C,r[11]=w,r[12]=b,r[13]=m,r[14]=_}else _=r[14];return _},gG="list-header",gQ=e=>(0,u.jsxs)("header",{className:[gG,e.className].filter(Boolean).join(" "),children:[(0,u.jsxs)("div",{className:"".concat(gG,"__content"),children:[(0,u.jsxs)("div",{className:"".concat(gG,"__title-and-actions"),children:[(0,u.jsx)("h1",{className:"".concat(gG,"__title"),children:e.title}),e.TitleActions.length?(0,u.jsx)("div",{className:"".concat(gG,"__title-actions"),children:e.TitleActions}):null]}),e.Actions.length?(0,u.jsx)("div",{className:"".concat(gG,"__actions"),children:e.Actions}):null]}),e.AfterListHeaderContent?(0,u.jsx)("div",{className:"".concat(gG,"__after-header-content"),children:e.AfterListHeaderContent}):null]}),gX=()=>{let e=(0,f.c)(12),{i18n:t,t:n}=(0,s.d)(),{config:l,getEntityConfig:a}=(0,i.b)(),{collections:o}=l,{enabledCollections:r,selectedOption:c,setSelectedOption:p}=s9(),h;if(e[0]!==o||e[1]!==r||e[2]!==a||e[3]!==t||e[4]!==c||e[5]!==p||e[6]!==n){h=Symbol.for("react.early_return_sentinel");e:{let l;e[8]!==r?(l=e=>{let{slug:t}=e;return r.includes(t)},e[8]=r,e[9]=l):l=e[9];let i=o.filter(l);if(i.length>1){let l=a({collectionSlug:c.value}),o;e[10]!==t?(o=e=>({label:(0,d.s)(e.labels.singular,t),value:e.slug}),e[10]=t,e[11]=o):o=e[11],h=(0,u.jsxs)("div",{className:"".concat("list-drawer","__select-collection-wrap"),children:[(0,u.jsx)(lR,{label:n("upload:selectCollectionToBrowse")}),(0,u.jsx)(sq,{className:"".concat(gG,"__select-collection"),isClearable:!1,onChange:p,options:i.map(o),value:{label:(0,d.s)(null==l?void 0:l.labels.singular,t),value:null==l?void 0:l.slug}})]});break e}}e[0]=o,e[1]=r,e[2]=a,e[3]=t,e[4]=c,e[5]=p,e[6]=n,e[7]=h}else h=e[7];return h!==Symbol.for("react.early_return_sentinel")?h:null};function g$(e){let t,n=(0,f.c)(3),{hasCreatePermission:l}=e,{DocumentDrawerToggler:a}=s9(),{t:o}=(0,s.d)();return l?(n[0]!==a||n[1]!==o?(t=(0,u.jsx)(a,{className:"".concat("list-header","__create-new-button"),children:(0,u.jsx)(ol,{size:"small",children:o("general:createNew")})},"create-new-button-toggler"),n[0]=a,n[1]=o,n[2]=t):t=n[2],t):null}function gZ(e){let t,n=(0,f.c)(12),{collectionSlug:l,hasCreatePermission:a,isBulkUploadEnabled:o,onBulkUploadSuccess:r,openBulkUpload:i}=e,{drawerSlug:c,setCollectionSlug:d,setOnSuccess:p}=hb(),{t:m}=(0,s.d)(),{openModal:g}=nN(),v=(0,h.useRouter)(),b;n[0]!==c||n[1]!==l||n[2]!==r||n[3]!==i||n[4]!==g||n[5]!==v||n[6]!==d||n[7]!==p?(b=()=>{"function"==typeof i?i():(d(l),g(c),p(()=>{"function"==typeof r?r():v.refresh()}))},n[0]=c,n[1]=l,n[2]=r,n[3]=i,n[4]=g,n[5]=v,n[6]=d,n[7]=p,n[8]=b):b=n[8];let y=b;return a&&o?(n[9]!==y||n[10]!==m?(t=(0,u.jsx)(tP,{"aria-label":m("upload:bulkUpload"),buttonStyle:"pill",onClick:y,size:"small",children:m("upload:bulkUpload")},"bulk-upload-button"),n[9]=y,n[10]=m,n[11]=t):t=n[11],t):null}function gJ(e){var t;let n=(0,f.c)(5),{collectionConfig:l,hasCreatePermission:a,newDocumentURL:o}=e,{i18n:r,t:i}=(0,s.d)();if(!a)return null;let c=null==l||null==(t=l.labels)?void 0:t.singular,p;return n[0]!==r||n[1]!==o||n[2]!==i||n[3]!==c?(p=(0,u.jsx)(tP,{"aria-label":i("general:createNewLabel",{label:(0,d.s)(c,r)}),buttonStyle:"pill",className:"".concat("list-create-new-doc","__create-new-button"),el:"link",size:"small",to:o,children:i("general:createNew")},"create-new-button"),n[0]=r,n[1]=o,n[2]=i,n[3]=c,n[4]=p):p=n[4],p}var g0="confirm-empty-trash";function g1(e){var t,n,l;let{collectionConfig:a,hasDeletePermission:r}=e,{i18n:c,t:p}=(0,s.d)(),{code:f}=lD(),{config:m}=(0,i.b)(),{openModal:g}=nN(),v=(0,h.useRouter)(),y=(0,h.useSearchParams)(),{clearRouteCache:x}=d9(),[w,C]=o.useState(null);o.useEffect(()=>{(async()=>{let e=b.A({depth:0,limit:0,locale:f,trash:!0,where:{deletedAt:{exists:!0}}},{addQueryPrefix:!0});try{var t;let n=await (await lv.get("".concat(m.serverURL).concat(m.routes.api,"/").concat(a.slug).concat(e),{headers:{"Accept-Language":c.language,"Content-Type":"application/json"}})).json();C(null!=(t=null==n?void 0:n.totalDocs)?t:0)}catch(e){C(0)}})()},[a.slug,m,c.language,f]);let j=o.useCallback(async()=>{if(!r)return;let{slug:e,labels:t}=a,n=b.A({limit:0,locale:f,trash:!0,where:{deletedAt:{exists:!0}}},{addQueryPrefix:!0}),l=await lv.delete("".concat(m.serverURL).concat(m.routes.api,"/").concat(e).concat(n),{headers:{"Accept-Language":c.language,"Content-Type":"application/json"}});try{var o,i;let e=await l.json(),n=(null==e||null==(o=e.docs)?void 0:o.length)||0;l.status<400&&eZ.success(p("general:permanentlyDeletedCountSuccessfully",{count:n,label:(0,d.s)(null==t?void 0:t.plural,c)})),(null==e||null==(i=e.errors)?void 0:i.length)>0&&eZ.error(e.message,{description:e.errors.map(e=>e.message).join("\n")}),v.replace(b.A({...Object.fromEntries(y.entries()),page:"1"},{addQueryPrefix:!0})),x()}catch(e){eZ.error(p("error:unknown"))}},[a,m,r,c,p,f,y,v,x]);return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(tP,{"aria-label":p("general:emptyTrashLabel",{label:(0,d.s)(null==a||null==(t=a.labels)?void 0:t.plural,c)}),buttonStyle:"pill",disabled:0===w,id:"empty-trash-button",onClick:()=>{g(g0)},size:"small",children:p("general:emptyTrash")},"empty-trash-button"),(0,u.jsx)(lh,{body:(0,u.jsx)(ps,{elements:{0:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})},1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToPermanentlyDeleteTrash",t:p,variables:{count:null!=w?w:0,label:(0,d.s)(1===w?null==(n=a.labels)?void 0:n.singular:null==(l=a.labels)?void 0:l.plural,c)}}),confirmingLabel:p("general:deleting"),heading:p("general:confirmDeletion"),modalSlug:g0,onConfirm:j})]})}var g3="list-drawer",g2=e=>{var t,n,l,a;let{className:o,collectionConfig:r,Description:s,disableBulkDelete:c,disableBulkEdit:p,hasCreatePermission:h,hasDeletePermission:f,i18n:m,isBulkUploadEnabled:g,isTrashEnabled:v,newDocumentURL:b,onBulkUploadSuccess:y,openBulkUpload:x,smallBreak:w,viewType:C}=e,{config:j,getEntityConfig:S}=(0,i.b)(),{drawerSlug:_,isInDrawer:k,selectedOption:N}=s9(),E="trash"===C,{isGroupingBy:P}=ct();return k?(0,u.jsx)(gQ,{Actions:[(0,u.jsx)(gW,{className:"".concat(g3,"__header-close"),slug:_},"close-button")],AfterListHeaderContent:(0,u.jsxs)(u.Fragment,{children:[s,(0,u.jsx)(gX,{})]}),className:"".concat(g3,"__header"),title:(0,d.s)(null==(n=S({collectionSlug:N.value}))||null==(t=n.labels)?void 0:t.plural,m),TitleActions:[(0,u.jsx)(g$,{hasCreatePermission:h},"list-drawer-create-new-doc")].filter(Boolean)}):(0,u.jsx)(gQ,{Actions:[!w&&!P&&(0,u.jsx)(gq,{collectionConfig:r,disableBulkDelete:c,disableBulkEdit:p,label:(0,d.s)(null==r||null==(l=r.labels)?void 0:l.plural,m),showSelectAllAcrossPages:!P,viewType:C},"list-selection"),(0,u.jsx)(gY,{collectionConfig:r,config:j,viewType:C},"default-list-actions")].filter(Boolean),AfterListHeaderContent:s,className:o,title:(0,d.s)(null==r||null==(a=r.labels)?void 0:a.plural,m),TitleActions:[h&&!E&&(0,u.jsx)(gJ,{collectionConfig:r,hasCreatePermission:h,newDocumentURL:b},"list-header-create-new-doc"),h&&g&&!E&&(0,u.jsx)(gZ,{collectionSlug:r.slug,hasCreatePermission:h,isBulkUploadEnabled:g,onBulkUploadSuccess:y,openBulkUpload:x},"list-header-bulk-upload"),f&&v&&"trash"===C&&(0,u.jsx)(g1,{collectionConfig:r,hasDeletePermission:f},"list-header-empty-trash")].filter(Boolean)})},g6="group-by-header",g5=e=>{let{collectionConfig:t,groupByFieldPath:n,groupByValue:l,heading:a}=e;return(0,u.jsxs)("header",{className:g6,children:[(0,u.jsx)("h4",{className:"".concat(g6,"__heading"),"data-group-id":l,children:a}),(0,u.jsx)(gq,{collectionConfig:t,label:a,modalPrefix:l,where:{[n]:{equals:l}}})]})},g4="per-page",g8=X.NT.admin.pagination.limits,g9=e=>{let t=(0,f.c)(9),{defaultLimit:n,handleChange:l,limit:a,limits:o}=e,r=void 0===o?g8:o,{t:i}=(0,s.d)(),c=(0,D.E)(a)?a:void 0===n?10:n,d;if(t[0]!==l||t[1]!==c||t[2]!==r||t[3]!==i){let e;t[5]!==l||t[6]!==c||t[7]!==r?(e=e=>{let{close:t}=e;return(0,u.jsx)(ts.ButtonGroup,{children:r.map((e,n)=>(0,u.jsxs)(ts.Button,{className:["".concat(g4,"__button"),e===c&&"".concat(g4,"__button-active")].filter(Boolean).join(" "),onClick:()=>{t(),l&&l(e)},children:[e===c&&(0,u.jsx)("div",{className:"".concat(g4,"__chevron"),children:(0,u.jsx)(tl,{direction:"right",size:"small"})}),"\xa0",(0,u.jsx)("span",{children:e})]},n))})},t[5]=l,t[6]=c,t[7]=r,t[8]=e):e=t[8],d=(0,u.jsx)("div",{className:g4,children:(0,u.jsx)(t_,{button:(0,u.jsxs)("div",{className:"".concat(g4,"__base-button"),children:[(0,u.jsx)("span",{children:i("general:perPage",{limit:c})}),"\xa0",(0,u.jsx)(tl,{className:"".concat(g4,"__icon")})]}),horizontalAlign:"right",render:e,size:"small"})}),t[0]=l,t[1]=c,t[2]=r,t[3]=i,t[4]=d}else d=t[4];return d},g7="page-controls",ve=e=>{var t,n,l,a,r,i;let c=(0,f.c)(16),{AfterPageControls:d,collectionConfig:p,data:h,handlePageChange:m,handlePerPageChange:g,limit:v}=e,{i18n:b}=(0,s.d)(),y;return c[0]!==d||c[1]!==(null==p||null==(n=p.admin)||null==(t=n.pagination)?void 0:t.limits)||c[2]!==h.hasNextPage||c[3]!==h.hasPrevPage||c[4]!==h.limit||c[5]!==h.nextPage||c[6]!==h.page||c[7]!==h.pagingCounter||c[8]!==h.prevPage||c[9]!==h.totalDocs||c[10]!==h.totalPages||c[11]!==m||c[12]!==g||c[13]!==b||c[14]!==v?(y=(0,u.jsxs)("div",{className:g7,children:[(0,u.jsx)(ul,{hasNextPage:h.hasNextPage,hasPrevPage:h.hasPrevPage,limit:h.limit,nextPage:h.nextPage,numberOfNeighbors:1,onChange:m,page:h.page,prevPage:h.prevPage,totalPages:h.totalPages}),h.totalDocs>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:"".concat(g7,"__page-info"),children:[h.page*h.limit-(h.limit-1),"-",h.totalPages>1&&h.totalPages!==h.page?h.limit*h.page:h.totalDocs," ",b.t("general:of")," ",h.totalDocs]}),(0,u.jsx)(g9,{handleChange:g,limit:v,limits:null==p||null==(a=p.admin)||null==(l=a.pagination)?void 0:l.limits,resetPage:h.totalDocs<=h.pagingCounter}),d]})]}),c[0]=d,c[1]=null==p||null==(i=p.admin)||null==(r=i.pagination)?void 0:r.limits,c[2]=h.hasNextPage,c[3]=h.hasPrevPage,c[4]=h.limit,c[5]=h.nextPage,c[6]=h.page,c[7]=h.pagingCounter,c[8]=h.prevPage,c[9]=h.totalDocs,c[10]=h.totalPages,c[11]=m,c[12]=g,c[13]=b,c[14]=v,c[15]=y):y=c[15],y},vt=e=>{let t,n=(0,f.c)(10),{AfterPageControls:l,collectionConfig:a}=e,{data:o,defaultLimit:r,handlePageChange:i,handlePerPageChange:s,query:c}=ct(),d;return n[0]!==r||n[1]!==c.limit?(d=(0,D.E)(c.limit)?c.limit:r,n[0]=r,n[1]=c.limit,n[2]=d):d=n[2],n[3]!==l||n[4]!==a||n[5]!==o||n[6]!==i||n[7]!==s||n[8]!==d?(t=(0,u.jsx)(ve,{AfterPageControls:l,collectionConfig:a,data:o,handlePageChange:i,handlePerPageChange:s,limit:d}),n[3]=l,n[4]=a,n[5]=o,n[6]=i,n[7]=s,n[8]=d,n[9]=t):t=n[9],t},vn=e=>{let{children:t}=e;return(0,u.jsx)("div",{className:"sticky-toolbar",children:t})},vl=e=>{let t=(0,f.c)(12),{AfterPageControls:n,collectionConfig:l,data:a,groupByValue:o}=e,{refineListData:r}=ct(),i;t[0]!==o||t[1]!==r?(i=async e=>{await r({queryByGroup:{[o]:{page:e}}})},t[0]=o,t[1]=r,t[2]=i):i=t[2];let s=i,c;t[3]!==o||t[4]!==r?(c=async e=>{await r({queryByGroup:{[o]:{limit:e,page:1}}})},t[3]=o,t[4]=r,t[5]=c):c=t[5];let d=c,p;return t[6]!==n||t[7]!==l||t[8]!==a||t[9]!==s||t[10]!==d?(p=(0,u.jsx)(ve,{AfterPageControls:n,collectionConfig:l,data:a,handlePageChange:s,handlePerPageChange:d}),t[6]=n,t[7]=l,t[8]=a,t[9]=s,t[10]=d,t[11]=p):p=t[11],p},va=()=>(0,u.jsx)("svg",{className:"icon icon--logout",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M12 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12M7.33333 13.3333L4 10M4 10L7.33333 6.66667M4 10H12",strokeLinecap:"square"})}),vo=e=>{let t=(0,f.c)(5),{tabIndex:n}=e,l=void 0===n?0:n,{t:a}=(0,s.d)(),{config:o}=(0,i.b)(),{admin:r,routes:c}=o,{routes:d}=r,{logout:p}=d,{admin:h}=c,m;return t[0]!==h||t[1]!==p||t[2]!==a||t[3]!==l?(m=(0,u.jsx)(te,{"aria-label":a("authentication:logOut"),className:"".concat("nav","__log-out"),href:(0,v.Q)({adminRoute:h,path:p}),prefetch:!1,tabIndex:l,title:a("authentication:logOut"),children:(0,u.jsx)(va,{})}),t[0]=h,t[1]=p,t[2]=a,t[3]=l,t[4]=m):m=t[4],m},vr="nav-group",vi=e=>{let t,n=(0,f.c)(21),{children:l,isOpen:a,label:r}=e,[i,s]=(0,o.useState)("u">typeof a&&!a),[c,d]=(0,o.useState)(!1),{setPreference:p}=lS(),{navOpen:h}=fA();if(r){let e;n[0]!==i||n[1]!==r||n[2]!==p?(e=()=>{d(!0);let e={};(null==e?void 0:e[r])?e[r].open=!!i:e[r]={open:!!i},p("nav",{groups:e},!0),s(!i)},n[0]=i,n[1]=r,n[2]=p,n[3]=e):e=n[3];let t=e,a="".concat(r),o=i&&"".concat(vr,"--collapsed"),f;n[4]!==a||n[5]!==o?(f=["".concat(vr),a,o].filter(Boolean),n[4]=a,n[5]=o,n[6]=f):f=n[6];let m=f.join(" "),g="nav-group-".concat(r),v="".concat(vr,"__toggle--").concat(i?"collapsed":"open"),b;n[7]!==v?(b=["".concat(vr,"__toggle"),v].filter(Boolean),n[7]=v,n[8]=b):b=n[8];let y=b.join(" "),x=h?0:-1,w;return n[9]!==c||n[10]!==l||n[11]!==i||n[12]!==r||n[13]!==x||n[14]!==m||n[15]!==g||n[16]!==y||n[17]!==t?(w=(0,u.jsxs)("div",{className:m,id:g,children:[(0,u.jsxs)("button",{className:y,onClick:t,tabIndex:x,type:"button",children:[(0,u.jsx)("div",{className:"".concat(vr,"__label"),children:r}),(0,u.jsx)("div",{className:"".concat(vr,"__indicator"),children:(0,u.jsx)(tl,{className:"".concat(vr,"__indicator"),direction:i?void 0:"up"})})]}),(0,u.jsx)(a2,{duration:200*!!c,height:i?0:"auto",children:(0,u.jsx)("div",{className:"".concat(vr,"__content"),children:l})})]}),n[9]=c,n[10]=l,n[11]=i,n[12]=r,n[13]=x,n[14]=m,n[15]=g,n[16]=y,n[17]=t,n[18]=w):w=n[18],w}return n[19]!==l?(t=(0,u.jsx)(o.Fragment,{children:l}),n[19]=l,n[20]=t):t=n[20],t},vs="combobox",vc=e=>{let{entries:t,minEntriesForSearch:n=8,onSelect:l,onToggleClose:a,onToggleOpen:r,searchPlaceholder:i="Search...",...s}=e,[c,d]=(0,o.useState)(""),p=(0,o.useRef)(!1),h=(0,o.useRef)(null),f=(0,o.useMemo)(()=>{if(!c)return t;let e=c.toLowerCase();return t.filter(t=>t.name.toLowerCase().includes(e))},[t,c]),m=t.length>=n,g=f.length>0,v=o.useCallback(e=>{p.current=e,e&&m&&setTimeout(()=>{var e;null==(e=h.current)||e.focus()},100),null==r||r(e)},[m,r]),b=o.useCallback(()=>{p.current=!1,d(""),null==a||a()},[a]);return(0,u.jsx)(t_,{...s,className:"".concat(vs," ").concat(s.className||""),onToggleClose:b,onToggleOpen:v,render:e=>{let{close:t}=e;return(0,u.jsxs)("div",{className:"".concat(vs,"__content"),children:[m&&(0,u.jsx)("div",{className:"".concat(vs,"__search-wrapper").concat(g?"":" ".concat(vs,"__search-wrapper--no-results")),children:(0,u.jsx)("input",{"aria-label":i,className:"".concat(vs,"__search-input"),onChange:e=>d(e.target.value),placeholder:i,ref:h,type:"text",value:c})}),(0,u.jsx)(ts.ButtonGroup,{children:f.map((e,n)=>{let a=()=>{l&&l(e),t()};return(0,u.jsx)("div",{className:"".concat(vs,"__entry"),onClick:a,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),a())},role:"menuitem",tabIndex:0,children:e.Component},"".concat(e.name,"-").concat(n))})})]})}})};function vu(e){let{active:t}=e,{t:n}=(0,s.d)(),{config:l}=(0,i.b)(),{admin:{routes:{browseByFolder:a}},routes:{admin:o}}=l;return(0,u.jsxs)(te,{className:["browse-by-folder-button",t&&"active"].filter(Boolean).join(" "),href:(0,v.Q)({adminRoute:o,path:a}),id:"browse-by-folder",prefetch:!1,children:[(0,u.jsx)(pp,{}),n("folder:browseByFolder")]})}var vd=e=>{let{options:t,...n}=e,{field:l,field:{name:a,admin:{className:r,isClearable:i=!0,isSortable:c=!0,placeholder:d}={},hasMany:p=!1,label:h,localized:f,required:m},onChange:g,path:v,readOnly:b,validate:y}=n,{t:x}=(0,s.d)(),{folderType:w}=d5(),C=o.useMemo(()=>w&&0!==w.length?uQ(t.filter(e=>"object"!=typeof e||!e.value||w.includes(e.value))):uQ(t),[t,w]),{customComponents:{AfterInput:j,BeforeInput:S,Description:_,Error:k,Label:N}={},disabled:E,path:P,selectFilterOptions:D,setValue:T,showError:A,value:R}=aB({potentiallyStalePath:v,validate:o.useCallback((e,t)=>{if("function"==typeof y)return y(e,{...t,hasMany:p,options:C,required:m})},[y,m,p,C])}),L=o.useCallback(e=>{if(!b||E){let t=null;e&&p?t=Array.isArray(e)&&e.length>0?e.map(e=>e.value):null:e&&!Array.isArray(e)&&(t=e.value),"function"==typeof g&&g(t),T(t)}},[b,E,p,T,g]),O=o.useMemo(()=>aH(l),[l]);return(0,u.jsx)(uG,{AfterInput:j,BeforeInput:S,className:r,Description:_,description:x("folder:folderTypeDescription"),Error:k,filterOption:D?e=>{let{value:t}=e;return null==D?void 0:D.some(e=>("string"==typeof e?e:e.value)===t)}:void 0,hasMany:p,isClearable:i,isSortable:c,Label:N,label:h,localized:f,name:a,onChange:L,options:C,path:P,placeholder:d,readOnly:b||E,required:m||Array.isArray(w)&&w.length>0,showError:A,style:O,value:R})},vp=()=>(0,u.jsx)("svg",{className:"icon icon--document",fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{clipRule:"evenodd",d:"M3.5 1C2.94772 1 2.5 1.44772 2.5 2V14C2.5 14.5523 2.94771 15 3.5 15H12.5C13.0523 15 13.5 14.5523 13.5 14V4.41421C13.5 4.149 13.3946 3.89464 13.2071 3.70711L10.7929 1.29289C10.6054 1.10536 10.351 1 10.0858 1H3.5ZM5 5.5C5 5.22386 5.22386 5 5.5 5H10.5C10.7761 5 11 5.22386 11 5.5C11 5.77614 10.7761 6 10.5 6H5.5C5.22386 6 5 5.77614 5 5.5ZM5 8.5C5 8.22386 5.22386 8 5.5 8H10.5C10.7761 8 11 8.22386 11 8.5C11 8.77614 10.7761 9 10.5 9H5.5C5.22386 9 5 8.77614 5 8.5ZM5 11.5C5 11.2239 5.22386 11 5.5 11H10.5C10.7761 11 11 11.2239 11 11.5C11 11.7761 10.7761 12 10.5 12H5.5C5.22386 12 5 11.7761 5 11.5Z",fill:"currentColor",fillRule:"evenodd"})}),vh="draggable-with-click",vf=e=>{let{as:t="div",children:n,className:l,disabled:a=!1,onClick:r,onKeyDown:i,ref:s,thresholdPixels:c=3}=e,d=(0,o.useId)(),{attributes:p,listeners:h,setNodeRef:f}=(0,g.PM)({id:d,disabled:a}),m=(0,o.useRef)({x:0,y:0}),v=(0,o.useRef)(!1);return(0,u.jsx)(t||"div",{role:"button",tabIndex:0,...p,className:[vh,l,a?"".concat(vh,"--disabled"):""].filter(Boolean).join(" "),onKeyDown:a?void 0:i,onPointerDown:a?void 0:r?e=>{m.current={x:e.clientX,y:e.clientY},v.current=!1;let t=n=>{let l=Math.abs(n.clientX-m.current.x),a=Math.abs(n.clientY-m.current.y);(l>c||a>c)&&(v.current=!0,(null==h?void 0:h.onPointerDown)&&(h.onPointerDown(e),r(n)),window.removeEventListener("pointermove",t))},n=e=>{window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",n),v.current||r(e)};window.addEventListener("pointermove",t),window.addEventListener("pointerup",n)}:void 0,ref:e=>{a||(f(e),s&&(s.current=e))},children:n})},vm="simple-table",vg=e=>{let{appearance:t,className:n,headerCells:l,tableRows:a}=e;return(0,u.jsx)("div",{className:[n,vm,t&&"".concat(vm,"--appearance-").concat(t)].filter(Boolean).join(" "),children:(0,u.jsxs)("table",{cellPadding:0,cellSpacing:0,className:"".concat(vm,"__table"),children:[(0,u.jsx)(vv,{children:(0,u.jsx)(vy,{children:l})}),(0,u.jsx)(vb,{children:a})]})})},vv=e=>{let{children:t,className:n,...l}=e;return(0,u.jsx)("thead",{className:"".concat(vm,"__thead ").concat(n||"").trim(),...l,children:t})},vb=e=>{let{children:t,className:n,...l}=e;return(0,u.jsx)("tbody",{className:"".concat(vm,"__tbody ").concat(n||"").trim(),...l,children:t})},vy=e=>{let{children:t,className:n,...l}=e;return(0,u.jsx)("tr",{className:"".concat(vm,"__tr ").concat(n||"").trim(),...l,children:t})},vx=e=>{let{children:t,className:n,...l}=e;return(0,u.jsx)("td",{className:"".concat(vm,"__td ").concat(n||"").trim(),...l,children:t})},vw=e=>{let{children:t,className:n,...l}=e;return(0,u.jsx)("th",{className:"".concat(vm,"__th ").concat(n||"").trim(),...l,children:t})},vC=e=>{let{children:t,className:n,...l}=e;return(0,u.jsx)("td",{className:"".concat(vm,"__hidden-cell ").concat(n||"").trim(),...l,children:t})},vj="draggable-table-row";function vS(e){let{id:t,columns:n,disabled:l=!1,dragData:a,isDroppable:r,isFocused:i,isSelected:s,isSelecting:c,itemKey:d,onClick:p,onKeyDown:h}=e,f=!l&&r&&!s,{isOver:m,setNodeRef:v}=(0,g.zM)({id:t,data:a,disabled:!f}),b=o.useRef(null);return o.useEffect(()=>{let e=b.current;return i&&b.current?b.current.focus():!i&&b.current&&b.current.blur(),()=>{e&&e.blur()}},[i]),(0,u.jsxs)(vf,{as:"tr",className:[vj,s&&"".concat(vj,"--selected"),c&&"".concat(vj,"--selecting"),l&&"".concat(vj,"--disabled"),i&&"".concat(vj,"--focused"),m&&"".concat(vj,"--over")].filter(Boolean).join(" "),onClick:p,onKeyDown:h,ref:b,children:[n.map((e,t)=>(0,u.jsx)(vx,{className:["".concat(vj,"__cell-content"),0===t&&"".concat(vj,"__first-td"),t===n.length-1&&"".concat(vj,"__last-td")].filter(Boolean).join(" "),children:e},"".concat(d,"-").concat(t))),f?(0,u.jsx)(vC,{children:(0,u.jsx)("div",{className:"".concat(vj,"__drop-area"),ref:v})}):null]},d)}var v_="folder-file-table";function vk(e){let t=(0,f.c)(39),{showRelationCell:n}=e,l=void 0===n||n,{checkIfItemIsDisabled:a,documents:r,focusedRowIndex:c,onItemClick:p,onItemKeyPress:h,selectedItemKeys:m,subfolders:g}=d5(),{config:v}=(0,i.b)(),{i18n:b,t:y}=(0,s.d)(),x;t[0]!==v||t[1]!==b?(x=()=>{let e={};return v.collections.forEach(t=>{var n,l;e[t.slug]={plural:(0,d.s)(null==(n=t.labels)?void 0:n.plural,b),singular:(0,d.s)(null==(l=t.labels)?void 0:l.singular,b)}}),e},t[0]=v,t[1]=b,t[2]=x):x=t[2];let[w]=o.useState(x),C;t[3]!==l||t[4]!==y?(C=()=>{let e=[{name:"name",label:y("general:name")},{name:"createdAt",label:y("general:createdAt")},{name:"updatedAt",label:y("general:updatedAt")}];return l&&e.push({name:"type",label:y("version:type")}),e},t[3]=l,t[4]=y,t[5]=C):C=t[5];let[j]=o.useState(C),S;if(t[6]!==a||t[7]!==j||t[8]!==v||t[9]!==r||t[10]!==c||t[11]!==b||t[12]!==p||t[13]!==h||t[14]!==w||t[15]!==m||t[16]!==g){let e,n;t[18]!==a||t[19]!==j||t[20]!==v||t[21]!==c||t[22]!==b||t[23]!==p||t[24]!==h||t[25]!==w||t[26]!==m?(e=(e,t)=>{let{itemKey:n,relationTo:l,value:o}=e,r=(0,z.r)(o);return(0,u.jsx)(vS,{columns:j.map((t,a)=>{var r,i,s;let{name:c}=t,d="";return"name"===c&&void 0!==o._folderOrDocumentTitle&&(d=o._folderOrDocumentTitle),("createdAt"===c||"updatedAt"===c)&&o[c]&&(d=av({date:o[c],i18n:b,pattern:v.admin.dateFormat})),"type"===c&&(d=(0,u.jsxs)(u.Fragment,{children:[(null==(r=w[l])?void 0:r.singular)||l,Array.isArray(null==(i=e.value)?void 0:i.folderType)?null==(s=e.value)?void 0:s.folderType.reduce((e,t,n)=>{var l,a;return 0===n?"  ".concat((null==(l=w[t])?void 0:l.plural)||t):n>0?"".concat(e,", ").concat((null==(a=w[t])?void 0:a.plural)||t):e},""):""]})),0===a?(0,u.jsxs)("span",{className:"".concat(v_,"__cell-with-icon"),children:[(0,u.jsx)(pp,{}),d]},"".concat(n,"-").concat(c)):d}),disabled:a(e),dragData:{id:r,type:"folder"},id:r,isDroppable:!0,isFocused:c===t,isSelected:m.has(n),isSelecting:m.size>0,itemKey:n,onClick:n=>{p({event:n,index:t,item:e})},onKeyDown:n=>{h({event:n,index:t,item:e})}},"".concat(t,"-").concat(n))},t[18]=a,t[19]=j,t[20]=v,t[21]=c,t[22]=b,t[23]=p,t[24]=h,t[25]=w,t[26]=m,t[27]=e):e=t[27],t[28]!==a||t[29]!==j||t[30]!==v||t[31]!==c||t[32]!==b||t[33]!==p||t[34]!==h||t[35]!==w||t[36]!==m||t[37]!==g.length?(n=(e,t)=>{let{itemKey:n,relationTo:l,value:o}=e,r=(0,z.r)(o),i=t+g.length;return(0,u.jsx)(vS,{columns:j.map((e,t)=>{var a;let{name:r}=e,i="";return"name"===r&&void 0!==o._folderOrDocumentTitle&&(i=o._folderOrDocumentTitle),("createdAt"===r||"updatedAt"===r)&&o[r]&&(i=av({date:o[r],i18n:b,pattern:v.admin.dateFormat})),"type"===r&&(i=(null==(a=w[l])?void 0:a.singular)||l),0===t?(0,u.jsxs)("span",{className:"".concat(v_,"__cell-with-icon"),children:[(0,u.jsx)(vp,{}),i]},"".concat(n,"-").concat(r)):i}),disabled:a(e),dragData:{id:r,type:"document"},id:r,isFocused:c===i,isSelected:m.has(n),isSelecting:m.size>0,itemKey:n,onClick:t=>{p({event:t,index:i,item:e})},onKeyDown:t=>{h({event:t,index:i,item:e})}},"".concat(i,"-").concat(n))},t[28]=a,t[29]=j,t[30]=v,t[31]=c,t[32]=b,t[33]=p,t[34]=h,t[35]=w,t[36]=m,t[37]=g.length,t[38]=n):n=t[38],S=(0,u.jsx)(vg,{headerCells:j.map(vN),tableRows:[...g.map(e),...r.map(n)]}),t[6]=a,t[7]=j,t[8]=v,t[9]=r,t[10]=c,t[11]=b,t[12]=p,t[13]=h,t[14]=w,t[15]=m,t[16]=g,t[17]=S}else S=t[17];return S}function vN(e){let{name:t,label:n}=e;return(0,u.jsx)(vw,{children:n},t)}function vE(e){let{className:t=""}=e;return(0,u.jsxs)("div",{className:"icon icon--dots ".concat(t).trim(),children:[(0,u.jsx)("div",{}),(0,u.jsx)("div",{}),(0,u.jsx)("div",{})]})}var vP="folder-file-card";function vD(e){let{id:t,type:n,className:l="",disabled:a=!1,folderType:r,isDeleting:i=!1,isFocused:s=!1,isSelected:c=!1,itemKey:d,onClick:p,onKeyDown:h,PopupActions:f,previewUrl:m,selectedCount:v=0,title:b}=e,y=!t||a||"folder"!==n,{isOver:x,setNodeRef:w}=(0,g.zM)({id:d,data:{id:t,type:n,folderType:r},disabled:y}),C=o.useRef(null);return o.useEffect(()=>{let e=C.current;return s&&C.current?C.current.focus():!s&&C.current&&C.current.blur(),()=>{e&&e.blur()}},[s]),(0,u.jsxs)(vf,{className:[vP,l,c&&"".concat(vP,"--selected"),a&&"".concat(vP,"--disabled"),i&&"".concat(vP,"--deleting"),s&&"".concat(vP,"--focused"),x&&"".concat(vP,"--over"),"".concat(vP,"--").concat(n)].filter(Boolean).join(" "),disabled:a||!p&&!h,onClick:p,onKeyDown:h,ref:C,children:[y?null:(0,u.jsx)("div",{className:"".concat(vP,"__drop-area"),ref:w}),"file"===n?(0,u.jsx)("div",{className:"".concat(vP,"__preview-area"),children:m?(0,u.jsx)(cQ,{fileSrc:m}):(0,u.jsx)(vp,{})}):null,(0,u.jsxs)("div",{className:"".concat(vP,"__titlebar-area"),children:[(0,u.jsx)("div",{className:"".concat(vP,"__icon-wrap"),children:"file"===n?(0,u.jsx)(vp,{}):(0,u.jsx)(pp,{})}),(0,u.jsxs)("div",{className:"".concat(vP,"__titlebar-labels"),children:[(0,u.jsx)("p",{className:"".concat(vP,"__name"),title:b,children:(0,u.jsx)("span",{children:b})}),r&&r.length>0?(0,u.jsx)(vT,{folderType:r}):null]}),f?(0,u.jsx)(t_,{button:(0,u.jsx)(vE,{}),disabled:v>1||1===v&&!c,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:f}):null]})]},d)}function vT(e){let{folderType:t}=e,{config:n}=(0,i.b)(),{i18n:l}=(0,s.d)(),a=o.useMemo(()=>t.reduce((e,t)=>{var a;let o=null==(a=n.collections)?void 0:a.find(e=>e.slug===t);return o?[...e,(0,d.s)(o.labels.plural,l)]:e},[]),[t,n.collections,l]);return(0,u.jsx)("p",{className:"".concat(vP,"__assigned-collections"),children:a.map((e,n)=>(0,u.jsxs)("span",{children:[e,n<t.length-1?", ":""]},e))})}function vA(e){let t=(0,f.c)(18),{type:n,className:l,index:a,item:o}=e,{checkIfItemIsDisabled:r,focusedRowIndex:i,onItemClick:s,onItemKeyPress:c,selectedItemKeys:d}=d5(),p;if(t[0]!==r||t[1]!==l||t[2]!==i||t[3]!==a||t[4]!==o||t[5]!==s||t[6]!==c||t[7]!==d||t[8]!==n){let e,h=d.has(o.itemKey),f=r(o),m;t[10]!==a||t[11]!==o||t[12]!==s?(m=e=>{s({event:e,index:a,item:o})},t[10]=a,t[11]=o,t[12]=s,t[13]=m):m=t[13],t[14]!==a||t[15]!==o||t[16]!==c?(e=e=>{c({event:e,index:a,item:o})},t[14]=a,t[15]=o,t[16]=c,t[17]=e):e=t[17],p=(0,u.jsx)(vD,{className:l,disabled:f,folderType:o.value.folderType||[],id:o.value.id,isFocused:i===a,isSelected:h,itemKey:o.itemKey,onClick:m,onKeyDown:e,previewUrl:o.value.url,title:o.value._folderOrDocumentTitle,type:n}),t[0]=r,t[1]=l,t[2]=i,t[3]=a,t[4]=o,t[5]=s,t[6]=c,t[7]=d,t[8]=n,t[9]=p}else p=t[9];return p}var vR="item-card-grid";function vL(e){let{type:t,items:n,subfolderCount:l,title:a}=e;return(0,u.jsxs)(u.Fragment,{children:[a&&(0,u.jsx)("p",{className:"".concat(vR,"__title"),children:a}),(0,u.jsx)("div",{className:vR,children:n&&(null==n?void 0:n.length)!==0?n.map((e,n)=>{let{itemKey:a}=e;return(0,u.jsx)(vA,{index:n+(l||0),item:e,type:t},a)}):null})]})}function vO(e){return void 0===e||"number"==typeof e?e:decodeURIComponent(e)}var vF=e=>{let t=(0,f.c)(9),{id:n,className:l,prefix:a}=e,o=void 0===a?"ID:":a,{config:r}=(0,i.b)(),{routes:s}=r,{admin:c}=s,{collectionSlug:d,globalSlug:p}=aD(),h=ld(),m="/".concat(d?"collections/".concat(d):"globals/".concat(p),"/").concat(n),g;if(t[0]!==c||t[1]!==l||t[2]!==h||t[3]!==n||t[4]!==o||t[5]!==m){let e=(0,v.Q)({adminRoute:c,path:m}),a;t[7]!==l?(a=["id-label",l].filter(Boolean),t[7]=l,t[8]=a):a=t[8],g=(0,u.jsxs)("div",{className:a.join(" "),title:n,children:[o,"\xa0",h>1?(0,u.jsx)(te,{href:e,children:vO(n)}):vO(n)]}),t[0]=c,t[1]=l,t[2]=h,t[3]=n,t[4]=o,t[5]=m,t[6]=g}else g=t[6];return g},vI="render-title",vM=e=>{let t=(0,f.c)(10),{className:n,element:l,fallback:a,title:r}=e,{id:i,isInitializing:s}=aD(),{title:c}=aj(),d=r||c||a,p=d===i,h=void 0===l?"h1":l,m;if(t[0]!==h||t[1]!==n||t[2]!==i||t[3]!==p||t[4]!==s||t[5]!==d){let e=(0,u.jsx)(o.Fragment,{children:"\xa0"}),l=p&&"".concat(vI,"--has-id"),a;t[7]!==n||t[8]!==l?(a=[n,vI,l].filter(Boolean),t[7]=n,t[8]=l,t[9]=a):a=t[9],m=(0,u.jsx)(h,{className:a.join(" "),"data-doc-id":i,title:d,children:s?e:(0,u.jsx)(o.Fragment,{children:p?(0,u.jsx)(vF,{className:"".concat(vI,"__id"),id:i}):d||e})}),t[0]=h,t[1]=n,t[2]=i,t[3]=p,t[4]=s,t[5]=d,t[6]=m}else m=t[6];return m},vB="sort-column",vz=e=>{let t,n=(0,f.c)(19),{name:l,appearance:a,disable:o,Label:r,label:i}=e,c=void 0!==o&&o,{handleSortChange:d,query:p}=ct(),{t:h}=(0,s.d)(),{sort:m}=p,g="-".concat(l),v;n[0]!==l||n[1]!==m?(v=["".concat(vB,"__asc")],m===l&&v.push("".concat(vB,"--active")),n[0]=l,n[1]=m,n[2]=v):v=n[2],n[3]!==g||n[4]!==m?(t=["".concat(vB,"__desc")],m===g&&t.push("".concat(vB,"--active")),n[3]=g,n[4]=m,n[5]=t):t=n[5];let b=a&&"".concat(vB,"--appearance-").concat(a),y;n[6]!==b?(y=[vB,b].filter(Boolean),n[6]=b,n[7]=y):y=n[7];let x=y.join(" "),w;return n[8]!==r||n[9]!==l||n[10]!==v||n[11]!==g||n[12]!==t||n[13]!==c||n[14]!==d||n[15]!==i||n[16]!==h||n[17]!==x?(w=(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("span",{className:"".concat(vB,"__label"),children:null!=r?r:(0,u.jsx)(lR,{hideLocale:!0,label:i,unstyled:!0})}),!c&&(0,u.jsxs)("div",{className:"".concat(vB,"__buttons"),children:[(0,u.jsx)("button",{"aria-label":h("general:sortByLabelDirection",{direction:h("general:ascending"),label:i}),className:[...v,"".concat(vB,"__button")].filter(Boolean).join(" "),onClick:()=>void d(l),type:"button",children:(0,u.jsx)(tl,{direction:"up"})}),(0,u.jsx)("button",{"aria-label":h("general:sortByLabelDirection",{direction:h("general:descending"),label:i}),className:[...t,"".concat(vB,"__button")].filter(Boolean).join(" "),onClick:()=>void d(g),type:"button",children:(0,u.jsx)(tl,{})})]})]}),n[8]=r,n[9]=l,n[10]=v,n[11]=g,n[12]=t,n[13]=c,n[14]=d,n[15]=i,n[16]=h,n[17]=x,n[18]=w):w=n[18],w},vU=e=>{let t=(0,f.c)(18),{field:n,fieldToUse:l,path:a,readOnly:r}=e,{label:i}=n,s=a||n.name,c;t[0]!==s?(c={path:s},t[0]=s,t[1]=c):c=t[1];let{setValue:d,value:p}=aB(c),{getDataByPath:h}=eE(),[m,g]=(0,o.useState)(!0),v;t[2]!==l||t[3]!==h||t[4]!==d||t[5]!==p?(v=e=>{e.preventDefault();let t=h(l);if(t){let e=(0,$.Y)(t);p!==e&&d(e)}else""!==p&&d("")},t[2]=l,t[3]=h,t[4]=d,t[5]=p,t[6]=v):v=t[6];let b=v,y;t[7]===Symbol.for("react.memo_cache_sentinel")?(y=e=>{e.preventDefault(),g(vV)},t[7]=y):y=t[7];let x=y,w="field-".concat(a),C;return t[8]!==n.name||t[9]!==b||t[10]!==m||t[11]!==i||t[12]!==a||t[13]!==r||t[14]!==d||t[15]!==w||t[16]!==p?(C=(0,u.jsxs)("div",{className:"field-type slug-field-component",children:[(0,u.jsxs)("div",{className:"label-wrapper",children:[(0,u.jsx)(lR,{htmlFor:w,label:i}),!m&&(0,u.jsx)(tP,{buttonStyle:"none",className:"lock-button",onClick:b,children:"Generate"}),(0,u.jsx)(tP,{buttonStyle:"none",className:"lock-button",onClick:x,children:m?"Unlock":"Lock"})]}),(0,u.jsx)(dh,{onChange:d,path:a||n.name,readOnly:!!(r||m),value:p})]}),t[8]=n.name,t[9]=b,t[10]=m,t[11]=i,t[12]=a,t[13]=r,t[14]=d,t[15]=w,t[16]=p,t[17]=C):C=t[17],C};function vV(e){return!e}var vH=()=>(0,u.jsx)("svg",{"aria-hidden":"true",className:"graphic code-block-icon",focusable:"false",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 12.6667L16.6667 9.99999L14 7.33332M5.99999 7.33332L3.33333 9.99999L5.99999 12.6667M11.6667 4.66666L8.33333 15.3333",strokeLinecap:"square"})}),vq="minimize-maximize",vW=e=>{let{className:t,isMinimized:n}=e,l=[vq,n?"".concat(vq,"--minimized"):"".concat(vq,"--maximized"),t].filter(Boolean).join(" ");return(0,u.jsx)("svg",{className:l,height:"20",stroke:"currentColor",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:n?(0,u.jsx)("path",{d:"M7.33333 4H5.33333C4.97971 4 4.64057 4.14048 4.39052 4.39052C4.14048 4.64057 4 4.97971 4 5.33333V7.33333M16 7.33333V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12.6667M4 12.6667V14.6667C4 15.0203 4.14048 15.3594 4.39052 15.6095C4.64057 15.8595 4.97971 16 5.33333 16H7.33333M12.6667 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V12.6667"}):(0,u.jsx)("path",{d:"M7.33333 4V6C7.33333 6.35362 7.19286 6.69276 6.94281 6.94281C6.69276 7.19286 6.35362 7.33333 6 7.33333H4M16 7.33333H14C13.6464 7.33333 13.3072 7.19286 13.0572 6.94281C12.8071 6.69276 12.6667 6.35362 12.6667 6V4M4 12.6667H6C6.35362 12.6667 6.69276 12.8071 6.94281 13.0572C7.19286 13.3072 7.33333 13.6464 7.33333 14V16M12.6667 16V14C12.6667 13.6464 12.8071 13.3072 13.0572 13.0572C13.3072 12.8071 13.6464 12.6667 14 12.6667H16"})})},vK=e=>{let{ariaLabel:t,className:n}=e;return(0,u.jsx)("div",{"aria-label":t,className:[n,"gear"].filter(Boolean).join(" "),children:(0,u.jsx)("svg",{className:"icon icon--gear",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M9.33337 8.84671L6.66671 4.22671M9.33337 11.1534L6.66671 15.7734M10 16.6667V15.3334M10 15.3334C12.9456 15.3334 15.3334 12.9456 15.3334 10C15.3334 7.05452 12.9456 4.66671 10 4.66671M10 15.3334C7.05452 15.3334 4.66671 12.9456 4.66671 10M10 3.33337V4.66671M10 4.66671C7.05452 4.66671 4.66671 7.05452 4.66671 10M11.3334 10H16.6667M11.3334 10C11.3334 10.7364 10.7364 11.3334 10 11.3334C9.26366 11.3334 8.66671 10.7364 8.66671 10C8.66671 9.26366 9.26366 8.66671 10 8.66671C10.7364 8.66671 11.3334 9.26366 11.3334 10ZM13.3334 15.7734L12.6667 14.62M13.3334 4.22671L12.6667 5.38004M3.33337 10H4.66671M15.7734 13.3334L14.62 12.6667M15.7734 6.66671L14.62 7.33337M4.22671 13.3334L5.38004 12.6667M4.22671 6.66671L5.38004 7.33337",strokeLinecap:"round",strokeLinejoin:"round"})})})};function vY(){return(0,u.jsxs)("svg",{className:"icon icon--move-folder",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("g",{filter:"url(#filter0_d_278_1086)",children:(0,u.jsx)("path",{d:"M5.33334 10V7.33334C5.33334 6.97971 5.47382 6.64058 5.72387 6.39053C5.97392 6.14048 6.31305 6 6.66668 6H9.26668C9.48967 5.99782 9.70965 6.0516 9.90648 6.15642C10.1033 6.26124 10.2707 6.41375 10.3933 6.6L10.9333 7.4C11.0547 7.58436 11.22 7.73568 11.4143 7.84041C11.6087 7.94513 11.8259 7.99997 12.0467 8H17.3333C17.687 8 18.0261 8.14048 18.2762 8.39053C18.5262 8.64058 18.6667 8.97971 18.6667 9.33334V16C18.6667 16.3536 18.5262 16.6928 18.2762 16.9428C18.0261 17.1929 17.687 17.3333 17.3333 17.3333H6.66668C6.31305 17.3333 5.97392 17.1929 5.72387 16.9428C5.47382 16.6928 5.33334 16.3536 5.33334 16V15.3333M5.33334 12.6667H12M12 12.6667L10 14.6667M12 12.6667L10 10.6667",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"26",id:"filter0_d_278_1086",width:"26",x:"-1",y:"-1",children:(0,u.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_278_1086",mode:"normal",result:"shape"})})})]})}var vG=()=>(0,u.jsxs)("svg",{className:"icon icon--grid-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M8 4H4.66667C4.29848 4 4 4.29848 4 4.66667V8C4 8.36819 4.29848 8.66667 4.66667 8.66667H8C8.36819 8.66667 8.66667 8.36819 8.66667 8V4.66667C8.66667 4.29848 8.36819 4 8 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M15.3333 4H12C11.6318 4 11.3333 4.29848 11.3333 4.66667V8C11.3333 8.36819 11.6318 8.66667 12 8.66667H15.3333C15.7015 8.66667 16 8.36819 16 8V4.66667C16 4.29848 15.7015 4 15.3333 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M15.3333 11.3333H12C11.6318 11.3333 11.3333 11.6318 11.3333 12V15.3333C11.3333 15.7015 11.6318 16 12 16H15.3333C15.7015 16 16 15.7015 16 15.3333V12C16 11.6318 15.7015 11.3333 15.3333 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M8 11.3333H4.66667C4.29848 11.3333 4 11.6318 4 12V15.3333C4 15.7015 4.29848 16 4.66667 16H8C8.36819 16 8.66667 15.7015 8.66667 15.3333V12C8.66667 11.6318 8.36819 11.3333 8 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]}),vQ=()=>(0,u.jsx)("svg",{className:"icon icon--list-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M4 10H16M4 14H16M4 6H16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),vX=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-error-500)"}),(0,u.jsx)("path",{d:"M15.4001 10.5996L10.6001 15.3996M10.6001 10.5996L15.4001 15.3996",stroke:"var(--theme-error-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),v$=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-elevation-500)"}),(0,u.jsx)("path",{d:"M13 16.1998V12.9998M13 9.7998H13.0077",stroke:"var(--theme-elevation-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),vZ=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-success-500)"}),(0,u.jsx)("path",{d:"M10.6001 13.0004L12.2001 14.6004L15.4001 11.4004",stroke:"var(--theme-success-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),vJ=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-warning-500)"}),(0,u.jsx)("path",{d:"M13 10V13.2M13 16.4H13.008",stroke:"var(--theme-warning-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),v0=o.createContext({addClientFunction:()=>null,removeClientFunction:()=>null}),v1=o.createContext({}),v3=e=>{let t=(0,f.c)(6),{children:n}=e,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={},t[0]=l):l=t[0];let[a,r]=o.useState(l),i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{r(t=>{let n={...t};return n[e.key]=e.func,n})},t[1]=i):i=t[1];let s=i,c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=e=>{r(t=>{let n={...t};return delete n[e.key],n})},t[2]=c):c=t[2];let d=c,p;return t[3]!==n||t[4]!==a?(p=(0,u.jsx)(v0,{value:{addClientFunction:s,removeClientFunction:d},children:(0,u.jsx)(v1,{value:a,children:n})}),t[3]=n,t[4]=a,t[5]=p):p=t[5],p},v2=(e,t)=>{let n=(0,f.c)(6),{addClientFunction:l,removeClientFunction:a}=o.use(v0),r,i;n[0]!==l||n[1]!==t||n[2]!==e||n[3]!==a?(r=()=>(l({func:t,key:e}),()=>{a({func:t,key:e})}),i=[t,e,l,a],n[0]=l,n[1]=t,n[2]=e,n[3]=a,n[4]=r,n[5]=i):(r=n[4],i=n[5]),o.useEffect(r,i)},v6=()=>o.use(v1),v5=e=>(null==e?void 0:e.startsWith("http://"))||(null==e?void 0:e.startsWith("https://"))?e:(e=>{try{return new URL(e,window.location.origin).href}catch(t){return e}})(e),v4=e=>{var t;let{collisionRect:n,droppableContainers:l,...a}=e,o=l.find(e=>{let{id:t}=e;return"live-preview-area"===t}),r=(0,g.Qo)({...a,collisionRect:n,droppableContainers:[o]});if(0===r.length)return r;let i=null==o||null==(t=o.rect)?void 0:t.current;if(n.top>=i.top&&n.left>=i.left&&n.bottom<=i.bottom&&n.right<=i.right)return r},v8=(e,t)=>{switch(t.type){case"height":return{...e,height:t.value};case"width":return{...e,width:t.value};default:return{...e,...(null==t?void 0:t.value)||{}}}},v9=e=>{let{breakpoints:t,children:n,isLivePreviewEnabled:l,isLivePreviewing:a,typeofLivePreviewURL:r,url:s}=e,[c,d]=(0,o.useState)("iframe"),[p,h]=(0,o.useState)(a),m=(0,o.useMemo)(()=>[...t||[],{name:"responsive",height:"100%",label:"Responsive",width:"100%"}],[t]),[v,b]=(0,o.useState)(""),{isPopupOpen:y,openPopupWindow:x,popupRef:w}=(e=>{let t,n,l=(0,f.c)(15),{eventType:a,onMessage:r,url:s}=e,c=(0,o.useRef)(!1),[u,d]=(0,o.useState)(!1),{config:p}=(0,i.b)(),{serverURL:h}=p,m=(0,o.useRef)(null),g,v;l[0]!==a||l[1]!==u||l[2]!==r||l[3]!==h||l[4]!==s?(g=()=>{let e=async e=>{var t,n;e.origin!==window.location.origin||e.origin!==s||e.origin!==h||"function"!=typeof r||(null==(t=e.data)?void 0:t.type)!==a||c.current||(c.current=!0,await r(null==(n=e.data)?void 0:n.searchParams),c.current=!1)};return u&&m.current&&window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e)}},v=[r,a,s,h,u],l[0]=a,l[1]=u,l[2]=r,l[3]=h,l[4]=s,l[5]=g,l[6]=v):(g=l[5],v=l[6]),(0,o.useEffect)(g,v),l[7]!==s?(t=e=>{e&&e.preventDefault();let t={height:700,left:"auto",menubar:"no",popup:"yes",toolbar:"no",top:"auto",width:800},n=Object.entries(t).reduce((e,n)=>{let[l,a]=n,o=e;if("auto"===a){if("top"===l){let e=Math.round(window.innerHeight/2-t.height/2);o+="top=".concat(e,",")}else if("left"===l){let e=Math.round(window.innerWidth/2-t.width/2);o+="left=".concat(e,",")}return o}return o+"".concat(l,"=").concat(a,",")},"").slice(0,-1);m.current=window.open(s,"_blank",n),d(!0)},l[7]=s,l[8]=t):t=l[8];let b=t,y,x;return l[9]!==u?(y=()=>{let e;return u?e=setInterval(function(){m.current.closed&&(clearInterval(e),d(!1))},1e3):clearInterval(e),()=>{e&&clearInterval(e)}},x=[u,m],l[9]=u,l[10]=y,l[11]=x):(y=l[10],x=l[11]),(0,o.useEffect)(y,x),l[12]!==u||l[13]!==b?(n={isPopupOpen:u,openPopupWindow:b,popupRef:m},l[12]=u,l[13]=b,l[14]=n):n=l[14],n})({eventType:"payload-live-preview",url:v}),[C,j]=(0,o.useState)(!1),[S,_]=(0,o.useState)(!1),{collectionSlug:k,globalSlug:N}=aD(),E=(0,o.useRef)(!0),{setPreference:P}=lS(),D=o.useRef(null),[T,A]=(0,o.useState)(),[R,L]=(0,o.useState)(1),[O,F]=(0,o.useState)({x:0,y:0}),[I,M]=o.useReducer(v8,{height:0,width:0}),[B,z]=(0,o.useState)({height:0,width:0}),[U,V]=o.useState("responsive"),H=(0,o.useCallback)(e=>{let t;"string"==typeof e&&(t=v5(e)),t||h(!1),t!==v&&(j(!1),b(t))},[v]);(0,o.useEffect)(()=>{"string"==typeof s&&b(v5(s))},[s]);let q=(0,o.useCallback)(e=>{M({type:"width",value:e})},[M]),W=(0,o.useCallback)(e=>{M({type:"height",value:e})},[M]);(0,o.useEffect)(()=>{let e=null==m?void 0:m.find(e=>e.name===U);e&&"responsive"!==U&&"custom"!==U&&"number"==typeof(null==e?void 0:e.width)&&"number"==typeof(null==e?void 0:e.height)&&M({type:"reset",value:{height:e.height,width:e.width}})},[U,m]),(0,o.useEffect)(()=>{let e=e=>{(null==v?void 0:v.startsWith(e.origin))&&e.data&&"object"==typeof e.data&&"payload-live-preview"===e.data.type&&e.data.ready&&j(!0)};return window.addEventListener("message",e),_(!0),()=>{window.removeEventListener("message",e)}},[v,S]);let K=(0,o.useCallback)(e=>{j(!1),d(e),"popup"===e&&x()},[x]);return(0,o.useEffect)(()=>{(y?"popup":"iframe")!==c&&K("iframe")},[c,y,K]),(0,o.useEffect)(()=>{if(E.current){E.current=!1;return}P(k?"collection-".concat(k):"global-".concat(N),{editViewType:p?"live-preview":"default"},!0)},[p,P,k,N]),(0,u.jsx)(f9,{value:{appIsReady:C,breakpoint:U,breakpoints:m,iframeRef:D,isLivePreviewEnabled:l,isLivePreviewing:p,isPopupOpen:y,listeningForMessages:S,loadedURL:T,measuredDeviceSize:B,openPopupWindow:x,popupRef:w,previewWindowType:c,setAppIsReady:j,setBreakpoint:V,setHeight:W,setIsLivePreviewing:h,setLoadedURL:A,setMeasuredDeviceSize:z,setPreviewWindowType:K,setSize:M,setToolbarPosition:F,setURL:H,setWidth:q,setZoom:L,size:I,toolbarPosition:O,typeofLivePreviewURL:r,url:v,zoom:R},children:(0,u.jsx)(g.Mp,{collisionDetection:v4,onDragEnd:e=>{e.over&&"live-preview-area"===e.over.id&&F({x:O.x+e.delta.x,y:O.y+e.delta.y})},children:n})})},v7="progress-bar",be=()=>{let e=(0,f.c)(9),{isTransitioning:t,transitionProgress:n}=e4(),[l,a]=o.useState(null),r=(0,o.useRef)(!0),i,s;if(e[0]!==t||e[1]!==n?(i=()=>{let e,l;return t?r.current?l=setTimeout(()=>{a(n),r.current=!1},150):a(n):(r.current=!0,a(1),e=setTimeout(()=>{a(null)},400)),()=>{clearTimeout(e),clearTimeout(l)}},s=[t,n],e[0]=t,e[1]=n,e[2]=i,e[3]=s):(i=e[2],s=e[3]),(0,o.useEffect)(i,s),"number"==typeof l){let t=1===l&&"".concat(v7,"--fade-out"),n;e[4]!==t?(n=[v7,t].filter(Boolean),e[4]=t,e[5]=n):n=e[5];let a=n.join(" "),o;return e[6]!==l||e[7]!==a?(o=(0,u.jsx)("div",{className:a,style:{"--transition-duration":"".concat(200,"ms")},children:(0,u.jsx)("div",{className:"".concat(v7,"__progress"),style:{width:"".concat(100*(l||0),"%")}})}),e[6]=l,e[7]=a,e[8]=o):o=e[8],o}return null},bt=(0,o.createContext)({}),bn=e=>{let t=(0,f.c)(6),{children:n,visibleEntities:l}=e,a;t[0]!==l?(a=e=>{let{collectionSlug:t,globalSlug:n}=e;return t?l.collections.includes(t):!!n&&l.globals.includes(n)},t[0]=l,t[1]=a):a=t[1];let o=a,r;return t[2]!==n||t[3]!==o||t[4]!==l?(r=(0,u.jsx)(bt,{value:{isEntityVisible:o,visibleEntities:l},children:n}),t[2]=n,t[3]=o,t[4]=l,t[5]=r):r=t[5],r},bl=()=>(0,o.use)(bt),ba=(0,o.createContext)({}),bo=e=>{let t=(0,f.c)(3),{children:n}=e,l=(0,h.useParams)(),a;return t[0]!==n||t[1]!==l?(a=(0,u.jsx)(ba,{value:l,children:n}),t[0]=n,t[1]=l,t[2]=a):a=t[2],a},br=()=>(0,o.use)(ba),bi=(0,o.createContext)({}),bs=()=>(0,o.useContext)(bi),bc=(e,t)=>{let{timestamp:n,animationRef:l}=t;l.current=null;let{x:a,y:o,xDirection:r,yDirection:i,eventsFired:s,hasScrolled:c}=e,u=c||!!n,d=u?window.pageXOffset:0,p=u?window.pageYOffset:0,h=d-a,f=p-o,m=d/(document.body.scrollWidth-window.innerWidth)*100,g=p/(document.body.scrollHeight-window.innerHeight)*100;return{x:d,y:p,xDifference:h,yDifference:f,xDirection:h>0?"right":h<0?"left":r,yDirection:f>0?"down":f<0?"up":i,xPercentage:m,yPercentage:g,totalPercentage:(m+g)/2,eventsFired:u?s+1:s,hasScrolled:u}},bu=e=>{let{children:t}=e,n=(0,o.useRef)(null),[l,a]=(0,o.useReducer)(bc,{x:0,y:0,xDifference:0,yDifference:0,xDirection:void 0,yDirection:void 0,xPercentage:0,yPercentage:0,totalPercentage:0,eventsFired:0,hasScrolled:!1}),r=(0,o.useCallback)(e=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(t=>{a({e:e,timestamp:t,animationRef:n})})},[]);return(0,o.useEffect)(()=>(window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}),[r]),o.createElement(bi.Provider,{value:Object.assign({},l)},t&&t)},{WindowInfoProvider:bd}=tf&&"WindowInfoProvider"in tf?tf:{WindowInfoProvider:void 0},{useWindowInfo:bp}=tf&&"useWindowInfo"in tf?tf:{useWindowInfo:void 0},bh=(0,o.createContext)({searchParams:{},stringifyParams:()=>""}),bf=e=>{let{children:t}=e,n=(0,h.useSearchParams)().toString(),l=o.useMemo(()=>k.q(n,{depth:10,ignoreQueryPrefix:!0}),[n]),a=o.useCallback(e=>{let{params:t,replace:n=!1}=e;return b.A({...n?{}:l,...t},{addQueryPrefix:!0})},[l]);return(0,u.jsx)(bh,{value:{searchParams:l,stringifyParams:a},children:t})},bm=()=>(0,o.use)(bh),bg=e=>{let{config:t}=e,{admin:{toast:{duration:n,expand:l,limit:a}={}}={}}=t;return(0,u.jsx)(e2,{className:"payload-toast-container",closeButton:!0,dir:"undefined",duration:null!=n?n:4e3,expand:null!=l&&l,gap:8,icons:{error:(0,u.jsx)(vX,{}),info:(0,u.jsx)(v$,{}),success:(0,u.jsx)(vZ,{}),warning:(0,u.jsx)(vJ,{})},offset:"calc(var(--gutter-h) / 2)",toastOptions:{classNames:{closeButton:"payload-toast-close-button",content:"toast-content",error:"toast-error",icon:"toast-icon",info:"toast-info",success:"toast-success",title:"toast-title",toast:"payload-toast-item",warning:"toast-warning"},unstyled:!0},visibleToasts:null!=a?a:5})},bv=e=>{let t=(0,f.c)(16),{children:n,config:l,dateFNSKey:a,fallbackLang:r,isNavOpen:c,languageCode:d,languageOptions:p,locale:h,permissions:m,serverFunction:v,switchLanguageServerAction:b,theme:y,translations:x,user:w}=e,C=o.useId(),j;return t[0]!==n||t[1]!==l||t[2]!==a||t[3]!==C||t[4]!==r||t[5]!==c||t[6]!==d||t[7]!==p||t[8]!==h||t[9]!==m||t[10]!==v||t[11]!==b||t[12]!==y||t[13]!==x||t[14]!==w?(j=(0,u.jsxs)(mI,{children:[(0,u.jsx)(ci,{serverFunction:v,children:(0,u.jsx)(e6,{children:(0,u.jsx)(d8,{cachingEnabled:"true"===Z.env.NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH,children:(0,u.jsx)(i.a,{config:l,children:(0,u.jsx)(v3,{children:(0,u.jsx)(s.c,{dateFNSKey:a,fallbackLang:r,language:d,languageOptions:p,switchLanguageServerAction:b,translations:x,children:(0,u.jsx)(bd,{breakpoints:{l:"(max-width: 1440px)",m:"(max-width: 1024px)",s:"(max-width: 768px)",xs:"(max-width: 400px)"},children:(0,u.jsx)(bu,{children:(0,u.jsx)(bf,{children:(0,u.jsx)(lt,{classPrefix:"payload",transTime:0,zIndex:"var(--z-modal)",children:(0,u.jsxs)(ly,{permissions:m,user:w,children:[(0,u.jsx)(lj,{children:(0,u.jsx)(i.h,{theme:y,children:(0,u.jsx)(bo,{children:(0,u.jsx)(lE,{locale:h,children:(0,u.jsx)(fz,{children:(0,u.jsx)(cy,{children:(0,u.jsx)(dX,{children:(0,u.jsx)(fL,{initialIsOpen:c,children:(0,u.jsx)(u3,{children:(0,u.jsx)(g.Mp,{collisionDetection:g.TT,id:C,children:n})})})})})})})})})}),(0,u.jsx)(nK,{}),(0,u.jsx)(lm,{})]})})})})})})})})})})}),(0,u.jsx)(bg,{config:l})]}),t[0]=n,t[1]=l,t[2]=a,t[3]=C,t[4]=r,t[5]=c,t[6]=d,t[7]=p,t[8]=h,t[9]=m,t[10]=v,t[11]=b,t[12]=y,t[13]=x,t[14]=w,t[15]=j):j=t[15],j};function bb(e){let{className:t,loginWithUsername:n,operation:l,permissions:a,readOnly:o,t:r}=e;function i(e,t){return(0,w.P)({field:{name:e,type:"text"},operation:"create"===l?"create":t,parentName:"",permissions:a}).operation}let s="object"==typeof a&&"email"in a&&a.email,c="object"==typeof a&&"username"in a&&a.username,d=s?{read:i("email","read"),update:i("email","update")}:{read:!0,update:!0},p=c?{read:i("username","read"),update:i("username","update")}:{read:!0,update:!0},h=(!n||(null==n?void 0:n.requireEmail)||(null==n?void 0:n.allowEmailLogin))&&d.read,f=!!n&&p.read;if(h||f)return(0,u.jsxs)("div",{className:["login-fields",t&&t].filter(Boolean).join(" "),children:[h?(0,u.jsx)(aF,{value:"email",children:(0,u.jsx)(sQ,{field:{name:"email",admin:{autoComplete:"off"},label:r("general:email"),required:!n||n&&n.requireEmail},path:"email",readOnly:o||!d.update,schemaPath:"email",validate:H.Rp})}):null,f&&(0,u.jsx)(aF,{value:"username",children:(0,u.jsx)(dg,{field:{name:"username",admin:{autoComplete:"off"},label:r("authentication:username"),required:n&&n.requireUsername},path:"username",readOnly:o||!p.update,schemaPath:"username",validate:H.Xh})})]})}var by="select-all",bx=()=>{let e=(0,f.c)(7),{selectAll:t,toggleAll:n}=f3(),{i18n:l}=(0,s.d)(),a;if(e[0]!==l||e[1]!==t||e[2]!==n){let o,r;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=[by,"".concat(by,"__checkbox")],e[4]=o):o=e[4],e[5]!==n?(r=()=>n(),e[5]=n,e[6]=r):r=e[6],a=(0,u.jsx)(aQ,{"aria-label":t===fZ.None?l.t("general:selectAllRows"):l.t("general:deselectAllRows"),checked:t===fZ.AllInPage||t===fZ.AllAvailable,className:o.join(" "),id:"select-all",name:"select-all",onToggle:r,partialChecked:t===fZ.Some}),e[0]=l,e[1]=t,e[2]=n,e[3]=a}else a=e[3];return a},bw="select-row",bC=e=>{let t,n,l,a=(0,f.c)(13),{rowData:o}=e,{user:r}=lx(),{selected:i,setSelection:s}=f3(),c;if(a[0]!==o||a[1]!==(null==r?void 0:r.id)){c=Symbol.for("react.early_return_sentinel");e:{let{_isLocked:e,_userEditing:t}=o||{};if(e&&t&&t.id!==(null==r?void 0:r.id)){c=(0,u.jsx)(mc,{user:t});break e}}a[0]=o,a[1]=null==r?void 0:r.id,a[2]=c}else c=a[2];if(c!==Symbol.for("react.early_return_sentinel"))return c;a[3]!==o.id||a[4]!==i?(t=i.get(o.id),a[3]=o.id,a[4]=i,a[5]=t):t=a[5];let d=!!t,p;return a[6]===Symbol.for("react.memo_cache_sentinel")?(p=[bw,"".concat(bw,"__checkbox")],a[6]=p):p=a[6],a[7]!==o.id||a[8]!==s?(n=()=>s(o.id),a[7]=o.id,a[8]=s,a[9]=n):n=a[9],a[10]!==d||a[11]!==n?(l=(0,u.jsx)(aQ,{checked:d,className:p.join(" "),onToggle:n}),a[10]=d,a[11]=n,a[12]=l):l=a[12],l},bj=e=>{let{onClick:t}=e,{count:n,selected:l}=f3();return l&&n?(0,u.jsx)(ol,{onClick:()=>{"function"==typeof t&&t(l)},pillStyle:"white",size:"small",children:"Select ".concat(n)}):null},bS="collection-list";function b_(e){var t;let{AfterList:n,AfterListTable:l,beforeActions:a,BeforeList:r,BeforeListTable:c,collectionSlug:p,columnState:f,Description:m,disableBulkDelete:g,disableBulkEdit:b,disableQueryPresets:y,enableRowSelections:x,hasCreatePermission:w,hasDeletePermission:C,listMenuItems:j,newDocumentURL:S,queryPreset:_,queryPresetPermissions:k,renderedFilters:N,resolvedFilterOptions:E,Table:P,viewType:D}=e,[T]=lI(P),{allowCreate:A,createNewDrawerSlug:R,isInDrawer:L,onBulkSelect:O}=s9(),F=void 0!==A?A&&w:w,{config:{routes:{admin:I}},getEntityConfig:M}=(0,i.b)(),B=(0,h.useRouter)(),{data:z,isGroupingBy:U}=ct(),{openModal:H}=nN(),{drawerSlug:q,setCollectionSlug:W,setOnSuccess:K}=hb(),Y=M({collectionSlug:p}),{labels:G,upload:Q}=Y,X=!!Q,$=X&&Y.upload.bulkUpload,Z=!!Y.trash,{i18n:J}=(0,s.d)(),{setStepNav:ee}=fM(),{breakpoints:{s:et}}=bp(),en=o.useMemo(()=>X?z.docs.map(e=>({...e,filesize:(0,V.B)(e.filesize)})):null==z?void 0:z.docs,[null==z?void 0:z.docs,X]),el=o.useCallback(()=>{W(p),H(q),K(()=>B.refresh())},[B,p,q,H,W,K]);return(0,o.useEffect)(()=>{if(!L){let e={label:(0,d.s)(null==G?void 0:G.plural,J),url:Z&&"trash"===D?(0,v.Q)({adminRoute:I,path:"/collections/".concat(p)}):void 0},t={label:J.t("general:trash")};ee(Z&&"trash"===D?[e,t]:[e])}},[I,ee,G,L,Z,D,J,p]),(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(cu,{collectionSlug:p,columnState:f,children:(0,u.jsx)("div",{className:"".concat(bS," ").concat(bS,"--").concat(p),children:(0,u.jsxs)(f1,{docs:en,totalDocs:null==z?void 0:z.totalDocs,children:[r,(0,u.jsxs)(ll,{className:"".concat(bS,"__wrap"),children:[(0,u.jsx)(g2,{collectionConfig:Y,Description:(0,u.jsx)("div",{className:"".concat(bS,"__sub-header"),children:(0,u.jsx)(ed,{CustomComponent:m,Fallback:(0,u.jsx)(ff,{collectionSlug:p,description:null==Y||null==(t=Y.admin)?void 0:t.description})})}),disableBulkDelete:g,disableBulkEdit:b,hasCreatePermission:F,hasDeletePermission:C,i18n:J,isBulkUploadEnabled:$&&!Q.hideFileInputOnCreate,isTrashEnabled:Z,newDocumentURL:S,openBulkUpload:el,smallBreak:et,viewType:D}),(0,u.jsx)(gL,{beforeActions:x&&"function"==typeof O?a?[...a,(0,u.jsx)(bj,{onClick:O},"select-many")]:[(0,u.jsx)(bj,{onClick:O},"select-many")]:a,collectionConfig:Y,collectionSlug:p,disableQueryPresets:(null==Y?void 0:Y.enableQueryPresets)!==!0||y,listMenuItems:j,queryPreset:_,queryPresetPermissions:k,renderedFilters:N,resolvedFilterOptions:E}),c,(null==en?void 0:en.length)>0&&(0,u.jsx)("div",{className:"".concat(bS,"__tables"),children:(0,u.jsx)(cM,{children:T})}),(null==en?void 0:en.length)===0&&(0,u.jsxs)("div",{className:"".concat(bS,"__no-results"),children:[(0,u.jsx)("p",{children:J.t("trash"===D?"general:noTrashResults":"general:noResults",{label:(0,d.s)(null==G?void 0:G.plural,J)})}),F&&S&&"trash"!==D&&(0,u.jsx)(o.Fragment,{children:L?(0,u.jsx)(tP,{el:"button",onClick:()=>H(R),children:J.t("general:createNewLabel",{label:(0,d.s)(null==G?void 0:G.singular,J)})}):(0,u.jsx)(tP,{el:"link",to:S,children:J.t("general:createNewLabel",{label:(0,d.s)(null==G?void 0:G.singular,J)})})})]}),l,(null==en?void 0:en.length)>0&&!U&&(0,u.jsx)(vt,{AfterPageControls:et?(0,u.jsxs)("div",{className:"".concat(bS,"__list-selection"),children:[(0,u.jsx)(gq,{collectionConfig:Y,disableBulkDelete:g,disableBulkEdit:b,label:(0,d.s)(Y.labels.plural,J),showSelectAllAcrossPages:!U}),(0,u.jsx)("div",{className:"".concat(bS,"__list-selection-actions"),children:x&&"function"==typeof O?a?[...a,(0,u.jsx)(bj,{onClick:O},"select-many")]:[(0,u.jsx)(bj,{onClick:O},"select-many")]:a})]}):null,collectionConfig:Y})]}),n]})})}),(null==en?void 0:en.length)>0&&U&&z.totalPages>1&&(0,u.jsx)(vn,{children:(0,u.jsx)(vt,{collectionConfig:Y})})]})}var bk="move-to-folder--current-folder",bN="confirm-many-delete";function bE(e){let{className:t}=e,n=(0,h.useRouter)(),{startRouteTransition:l}=e4(),{breadcrumbs:a,currentFolder:r,folderCollectionConfig:c,folderCollectionSlug:p,folderFieldName:f,folderID:m,getFolderRoute:g,moveToFolder:v}=d5(),[b,,{closeDrawer:y,openDrawer:x}]=cL({id:m,collectionSlug:p}),{clearRouteCache:w}=d9(),{config:C}=(0,i.b)(),{routes:j,serverURL:S}=C,{closeModal:_,openModal:k}=nN(),{i18n:N,t:E}=(0,s.d)(),P=o.useCallback(async()=>{await fetch("".concat(S).concat(j.api,"/").concat(p,"/").concat(m,"?depth=0"),{credentials:"include",method:"DELETE"}),l(()=>{var e;n.push(g((null==(e=a[a.length-2])?void 0:e.id)||null))})},[a,p,m,g,n,S,j.api,l]);return m?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(t_,{button:(0,u.jsx)(mZ,{}),className:["current-folder-actions",t].filter(Boolean).join(" "),render:()=>(0,u.jsxs)(ts.ButtonGroup,{children:[(0,u.jsx)(ts.Button,{onClick:()=>{x()},children:E("general:editLabel",{label:(0,d.s)(c.labels.singular,N)})}),(0,u.jsx)(ts.Button,{onClick:()=>{k(bk)},children:E("folder:moveFolder")}),(0,u.jsx)(ts.Button,{onClick:()=>{k(bN)},children:E("folder:deleteFolder")})]})}),(0,u.jsx)(pm,{action:"moveItemToFolder",drawerSlug:bk,folderAssignedCollections:null==r?void 0:r.value.folderType,folderCollectionSlug:p,folderFieldName:f,fromFolderID:null==r?void 0:r.value.id,fromFolderName:null==r?void 0:r.value._folderOrDocumentTitle,itemsToMove:[r],onConfirm:async e=>{let{id:t,name:n}=e;await v({itemsToMove:[r],toFolderID:t}),t?eZ.success(E("folder:itemHasBeenMoved",{folderName:'"'.concat(n,'"'),title:r.value._folderOrDocumentTitle})):eZ.success(E("folder:itemHasBeenMovedToRoot",{title:r.value._folderOrDocumentTitle})),_(bk)},title:r.value._folderOrDocumentTitle}),(0,u.jsx)(lh,{body:(0,u.jsx)(ps,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToDelete",t:E,variables:{label:(0,d.s)(c.labels.singular,N),title:r.value._folderOrDocumentTitle}}),confirmingLabel:E("general:deleting"),heading:E("general:confirmDeletion"),modalSlug:bN,onConfirm:P}),(0,u.jsx)(b,{onSave:()=>{y(),w()}})]}):null}var bP="drag-overlay-selection";function bD(e){let{item:t,selectedCount:n}=e;return(0,u.jsx)(g.Hd,{dropAnimation:null,modifiers:[bT],style:{height:"unset",maxWidth:"220px"},children:(0,u.jsxs)("div",{className:"".concat(bP,"__cards"),children:[Array.from({length:n>1?2:1}).map((e,n)=>(0,u.jsx)("div",{className:"".concat(bP,"__card"),style:{right:"".concat(3*n,"px"),top:"-".concat(3*n,"px")},children:(0,u.jsx)(vD,{id:null,isSelected:!0,itemKey:"overlay-card",title:t.value._folderOrDocumentTitle,type:"folder"})},n)),n>1?(0,u.jsx)("span",{className:"".concat(bP,"__card-count"),children:n}):null]})})}var bT=e=>{let{activatorEvent:t,draggingNodeRect:n,transform:l}=e;if(n&&t){let e=function(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=tz(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}(t);if(!e)return l;let a=e.x-n.left,o=e.y-n.top;return{...l,x:l.x+a+5,y:l.y+o+5}}return l},bA="sort-by-pill",bR=[{label:e=>e("general:name"),value:"name"},{label:e=>e("general:createdAt"),value:"createdAt"},{label:e=>e("general:updatedAt"),value:"updatedAt"}],bL=[{label:e=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h1,{}),e("general:ascending")]}),value:"asc"},{label:e=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h0,{}),e("general:descending")]}),value:"desc"}];function bO(){let{refineFolderData:e,sort:t}=d5(),{t:n}=(0,s.d)(),l=t.startsWith("-")?"desc":"asc",[a]=bR.filter(e=>{let{value:n}=e;return n===(t.startsWith("-")?t.slice(1):t)})||bR,[o]=bL.filter(e=>{let{value:t}=e;return t===l});return(0,u.jsx)(t_,{button:(0,u.jsxs)(ol,{className:"".concat(bA,"__trigger"),icon:(0,u.jsx)(tl,{}),size:"small",children:["asc"===l?(0,u.jsx)(h1,{className:"".concat(bA,"__sort-icon")}):(0,u.jsx)(h0,{className:"".concat(bA,"__sort-icon")}),null==a?void 0:a.label(n)]}),className:bA,horizontalAlign:"right",render:t=>{let{close:r}=t;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ts.GroupLabel,{label:"Sort by"}),(0,u.jsx)(ts.ButtonGroup,{children:bR.map(t=>{let{label:o,value:i}=t;return(0,u.jsx)(ts.Button,{active:(null==a?void 0:a.value)===i,onClick:()=>{e({query:{page:"1",sort:"desc"===l?"-".concat(i):i},updateURL:!0}),r()},children:o(n)},i)})}),(0,u.jsx)(ts.Divider,{}),(0,u.jsx)(ts.GroupLabel,{label:"Order"}),(0,u.jsx)(ts.ButtonGroup,{children:bL.map(t=>{let{label:i,value:s}=t;return(0,u.jsx)(ts.Button,{active:(null==o?void 0:o.value)===s,className:"".concat(bA,"__order-option"),onClick:()=>{l!==s&&(e({query:{page:"1",sort:"desc"===s?"-".concat(null==a?void 0:a.value):null==a?void 0:a.value},updateURL:!0}),r())},children:i(n)},s)})})]})},showScrollbar:!0,verticalAlign:"bottom"})}var bF="folder-view-toggle-button";function bI(e){let{activeView:t,setActiveView:n}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tP,{buttonStyle:"pill",className:[bF,"grid"===t&&"".concat(bF,"--active")].filter(Boolean).join(" "),icon:(0,u.jsx)(vG,{}),margin:!1,onClick:()=>{n("grid")}}),(0,u.jsx)(tP,{buttonStyle:"pill",className:[bF,"list"===t&&"".concat(bF,"--active")].filter(Boolean).join(" "),icon:(0,u.jsx)(vQ,{}),margin:!1,onClick:()=>{n("list")}})]})}var bM=e=>{let{id:t,folderCollectionSlug:n}=e,{clearRouteCache:l}=d9(),{t:a}=(0,s.d)(),[o,,{closeDrawer:r,openDrawer:i}]=cL({id:t,collectionSlug:n});return t?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(f5,{onClick:i,type:"button",children:a("general:edit")}),(0,u.jsx)(o,{onSave:()=>{r(),l()}})]}):null},bB="move-to-folder--list",bz=e=>{var t,n,l,a;let r=(0,f.c)(17),{disableBulkDelete:c,disableBulkEdit:d,folderAssignedCollections:p}=e,{clearSelections:h,currentFolder:m,folderCollectionSlug:g,folderFieldName:v,folderID:b,getSelectedItems:y,moveToFolder:x}=d5(),{clearRouteCache:w}=d9(),{config:C}=(0,i.b)(),{t:j}=(0,s.d)(),{closeModal:S,openModal:_}=nN(),k,N;if(r[0]!==w||r[1]!==h||r[2]!==S||r[3]!==C||r[4]!==(null==m||null==(t=m.value)?void 0:t._folderOrDocumentTitle)||r[5]!==c||r[6]!==d||r[7]!==p||r[8]!==g||r[9]!==v||r[10]!==b||r[11]!==y||r[12]!==x||r[13]!==_||r[14]!==j){N=Symbol.for("react.early_return_sentinel");e:{let e=y(),t=e.reduce(bU,{}),n=e.length,r=1===Object.keys(t).length&&Object.keys(t)[0]!==g,i=r?C.collections.find(e=>e.slug===Object.keys(t)[0]):null;if(0===n){N=null;break e}let s=r&&(null==(l=t[Object.keys(t)[0]])?void 0:l.ids)||[];k=(0,u.jsx)(f6,{count:n,ListActions:[n>0&&(0,u.jsx)(f5,{onClick:()=>h(),children:j("general:clearAll")},"clear-all")].filter(Boolean),SelectionActions:[!d&&s.length&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mK,{collection:i,count:n,ids:s,selectAll:!1}),(0,u.jsx)(gI,{collection:i,count:n,ids:s,selectAll:!1}),(0,u.jsx)(gH,{collection:i,count:n,ids:s,selectAll:!1})]},"bulk-actions"),1===n&&!r&&(0,u.jsx)(bM,{folderCollectionSlug:g,id:t[g].ids[0]},"edit-folder-action"),n>0?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(f5,{onClick:()=>{_(bB)},type:"button",children:j("general:move")}),(0,u.jsx)(pm,{action:"moveItemsToFolder",drawerSlug:bB,folderAssignedCollections:p,folderCollectionSlug:g,folderFieldName:v,fromFolderID:b,fromFolderName:null==m||null==(a=m.value)?void 0:a._folderOrDocumentTitle,itemsToMove:y(),onConfirm:async e=>{let{id:t,name:l}=e;await x({itemsToMove:y(),toFolderID:t}),t?eZ.success(j("folder:itemsMovedToFolder",{folderName:'"'.concat(l,'"'),title:"".concat(n," ").concat(n>1?j("general:items"):j("general:item"))})):eZ.success(j("folder:itemsMovedToRoot",{title:"".concat(n," ").concat(n>1?j("general:items"):j("general:item"))})),w(),S(bB)}})]},bB):null,!c&&(0,u.jsx)(f8,{afterDelete:()=>{w(),h()},selections:t},"bulk-delete")].filter(Boolean)})}r[0]=w,r[1]=h,r[2]=S,r[3]=C,r[4]=null==m||null==(n=m.value)?void 0:n._folderOrDocumentTitle,r[5]=c,r[6]=d,r[7]=p,r[8]=g,r[9]=v,r[10]=b,r[11]=y,r[12]=x,r[13]=_,r[14]=j,r[15]=k,r[16]=N}else k=r[15],N=r[16];return N!==Symbol.for("react.early_return_sentinel")?N:k};function bU(e,t){return t&&(e[t.relationTo]?(e[t.relationTo].ids.push((0,z.r)(t.value)),e[t.relationTo].totalCount=e[t.relationTo].totalCount+1):e[t.relationTo]={ids:[(0,z.r)(t.value)],totalCount:1}),e}var bV="collection-folder-list";function bH(e){let{allCollectionFolderSlugs:t,allowCreateCollectionSlugs:n,baseFolderPath:l,breadcrumbs:a,documents:o,folderFieldName:r,folderID:i,FolderResultsComponent:s,search:c,sort:d,subfolders:p,...h}=e;return(0,u.jsx)(d6,{allCollectionFolderSlugs:t,allowCreateCollectionSlugs:n,baseFolderPath:l,breadcrumbs:a,documents:o,folderFieldName:r,folderID:i,FolderResultsComponent:s,search:c,sort:d,subfolders:p,children:(0,u.jsx)(bq,{...h})})}function bq(e){var t,n,l,a;let r=(0,f.c)(6),{AfterFolderList:c,AfterFolderListTable:p,BeforeFolderList:m,BeforeFolderListTable:g,collectionSlug:b,Description:y,disableBulkDelete:x,disableBulkEdit:w,search:C,viewPreference:j}=e,{config:S,getEntityConfig:_}=(0,i.b)(),{i18n:k,t:N}=(0,s.d)(),E=ni(),{setStepNav:P}=fM(),{setPreference:D}=lS(),{allowCreateCollectionSlugs:T,breadcrumbs:A,documents:R,dragOverlayItem:L,folderCollectionConfig:O,folderCollectionSlug:F,FolderResultsComponent:I,folderType:M,getSelectedItems:B,moveToFolder:z,refineFolderData:U,selectedItemKeys:V,setIsDragging:H,subfolders:q}=d5(),W=(0,h.useRouter)(),{startRouteTransition:K}=e4(),{clearRouteCache:Y}=d9(),G=_({collectionSlug:b}),{labels:Q,upload:X}=G,$=!!X&&G.upload.bulkUpload,{breakpoints:Z}=bp(),{s:J}=Z,ee;r[0]!==Y||r[1]!==B||r[2]!==z?(ee=async e=>{if(e.over&&"folder"===e.over.data.current.type&&"id"in e.over.data.current){try{await z({itemsToMove:B(),toFolderID:e.over.data.current.id})}catch(e){console.error("Error moving items:",e)}Y()}},r[0]=Y,r[1]=B,r[2]=z,r[3]=ee):ee=r[3];let et=ee,en=async e=>{await D("".concat(b,"-collection-folder"),{viewPreference:e}),Y()};o.useEffect(()=>{E||P([A.length?{label:(0,u.jsxs)(pd,{className:["".concat(bV,"__step-nav-droppable"),"".concat(bV,"__step-nav-icon-label")].filter(Boolean).join(" "),id:null,onClick:()=>{K(()=>{S.folders&&W.push((0,v.Q)({adminRoute:S.routes.admin,path:"/collections/".concat(b,"/").concat(S.folders.slug)}))})},children:[(0,u.jsx)(pp,{}),(0,d.s)(null==Q?void 0:Q.plural,k)]},"root")}:{label:(0,u.jsxs)("div",{className:"".concat(bV,"__step-nav-icon-label"),children:[(0,u.jsx)(pp,{}),(0,d.s)(null==Q?void 0:Q.plural,k)]},"root")},...A.map((e,t)=>({label:t===A.length-1?e.name:(0,u.jsx)(pd,{className:"".concat(bV,"__step-nav-droppable"),id:e.id,onClick:()=>{K(()=>{S.folders&&W.push((0,v.Q)({adminRoute:S.routes.admin,path:"/collections/".concat(b,"/").concat(S.folders.slug,"/").concat(e.id)}))})},children:e.name},e.id)}))])},[A,b,S.folders,S.routes.admin,E,k,null==Q?void 0:Q.plural,W,P,K]);let el=R.length+q.length,ea;return r[4]!==U?(ea=e=>U({query:{search:e},updateURL:!0}),r[4]=U,r[5]=ea):ea=r[5],(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(bW,{onDragEnd:et,setIsDragging:H}),(0,u.jsxs)("div",{className:"".concat(bV," ").concat(bV,"--").concat(b),children:[m,(0,u.jsxs)(ll,{className:"".concat(bV,"__wrap"),children:[(0,u.jsx)(gQ,{Actions:[!J&&(0,u.jsx)(bz,{disableBulkDelete:x,disableBulkEdit:null!=(a=G.disableBulkEdit)?a:w,folderAssignedCollections:Array.isArray(M)?M:[b]},"list-selection"),(0,u.jsx)(gY,{collectionConfig:G,config:S,viewType:"folders"},"default-list-actions")].filter(Boolean),AfterListHeaderContent:y,title:(0,d.s)(null==Q?void 0:Q.plural,k),TitleActions:[T.length&&(0,u.jsx)(pa,{buttonLabel:T.length>1?N("general:createNew"):"".concat(N("general:create")," ").concat((0,d.s)(null==(t=O.labels)?void 0:t.singular,k).toLowerCase()),collectionSlugs:T,folderAssignedCollections:Array.isArray(M)?M:[b],onCreateSuccess:Y,slugPrefix:"create-document--header-pill"},"create-new-button"),(0,u.jsx)(gZ,{collectionSlug:b,hasCreatePermission:T.includes(b),isBulkUploadEnabled:$},"bulk-upload-button")].filter(Boolean)}),(0,u.jsx)(gf,{Actions:[(0,u.jsx)(bO,{},"sort-by-pill"),(0,u.jsx)(bI,{activeView:j,setActiveView:en},"toggle-view-buttons"),(0,u.jsx)(bE,{},"current-folder-actions")].filter(Boolean),label:N("general:searchBy",{label:N("general:name")}),onSearchChange:ea,searchQueryParam:C}),g,el>0&&I,0===el&&(0,u.jsx)(pr,{Actions:[T.includes(F)&&(0,u.jsx)(pa,{buttonLabel:"".concat(N("general:create")," ").concat((0,d.s)(null==(n=O.labels)?void 0:n.singular,k).toLowerCase()),collectionSlugs:[O.slug],folderAssignedCollections:Array.isArray(M)?M:[b],onCreateSuccess:Y,slugPrefix:"create-folder--no-results"},"create-folder"),T.includes(b)&&(0,u.jsx)(pa,{buttonLabel:"".concat(N("general:create")," ").concat(N("general:document").toLowerCase()),collectionSlugs:[b],folderAssignedCollections:Array.isArray(M)?M:[b],onCreateSuccess:Y,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:(0,u.jsx)("p",{children:k.t("general:noResults",{label:"".concat((0,d.s)(null==Q?void 0:Q.plural,k)," ").concat(N("general:or").toLowerCase()," ").concat((0,d.s)(null==(l=O.labels)?void 0:l.plural,k))})})}),p]}),c]}),V.size>0&&L&&(0,u.jsx)(bD,{item:L,selectedCount:V.size})]})}function bW(e){let t=(0,f.c)(3),{onDragEnd:n,setIsDragging:l}=e,a;return t[0]!==n||t[1]!==l?(a={onDragCancel(){l(!1)},onDragEnd(e){l(!1),n(e)},onDragStart(){l(!0)}},t[0]=n,t[1]=l,t[2]=a):a=t[2],(0,g.E5)(a),null}var bK="checkbox-popup";function bY(e){let{Button:t,className:n,onChange:l,options:a,selectedValues:o,...r}=e;return(0,u.jsx)(t_,{button:t,className:[bK,n].filter(Boolean).join(" "),horizontalAlign:"right",render:e=>{let{close:t}=e;return(0,u.jsx)("div",{className:"".concat(bK,"__options"),children:a.map(e=>{let{label:n,value:a}=e;return(0,u.jsx)(aQ,{checked:null==o?void 0:o.includes(a),label:n,onToggle:()=>{l({close:t,selectedValues:(null==o?void 0:o.includes(a))?o.filter(e=>e!==a):[...o,a]})}},a)})})},showScrollbar:!0,verticalAlign:"bottom",...r})}function bG(){let e=(0,f.c)(13),{activeCollectionFolderSlugs:t,allCollectionFolderSlugs:n,folderCollectionSlug:l,refineFolderData:a}=d5(),{i18n:r,t:c}=(0,s.d)(),{config:p,getEntityConfig:h}=(0,i.b)(),m;e[0]!==p||e[1]!==l||e[2]!==n||e[3]!==h||e[4]!==r?(m=()=>{var e;return p.collections.reduce((e,t)=>{var l;return t.folders&&n.includes(t.slug)&&e.push({label:(0,d.s)(null==(l=t.labels)?void 0:l.plural,r),value:t.slug}),e},[{label:(0,d.s)(null==(e=h({collectionSlug:l}).labels)?void 0:e.plural,r),value:l}])},e[0]=p,e[1]=l,e[2]=n,e[3]=h,e[4]=r,e[5]=m):m=e[5];let[g]=o.useState(m),v;if(e[6]!==g||e[7]!==a||e[8]!==c||e[9]!==t){let n;e[11]!==a?(n=e=>{let{selectedValues:t}=e;a({query:{relationTo:t},updateURL:!0})},e[11]=a,e[12]=n):n=e[12],v=(0,u.jsx)(bY,{Button:(0,u.jsxs)(tP,{buttonStyle:"pill",el:"div",icon:"chevron",margin:!1,size:"small",children:[t.length?(0,u.jsx)("span",{className:"".concat("collection-type","__count"),children:t.length}):null,c("version:type")]}),onChange:n,options:g,selectedValues:t},"relation-to-selection-popup"),e[6]=g,e[7]=a,e[8]=c,e[9]=t,e[10]=v}else v=e[10];return v}var bQ="folder-list";function bX(e){let{activeCollectionFolderSlugs:t,allCollectionFolderSlugs:n,allowCreateCollectionSlugs:l,baseFolderPath:a,breadcrumbs:o,documents:r,folderFieldName:i,folderID:s,FolderResultsComponent:c,search:d,subfolders:p,...h}=e;return(0,u.jsx)(d6,{activeCollectionFolderSlugs:t,allCollectionFolderSlugs:n,allowCreateCollectionSlugs:l,baseFolderPath:a,breadcrumbs:o,documents:r,folderFieldName:i,folderID:s,FolderResultsComponent:c,search:d,subfolders:p,children:(0,u.jsx)(b$,{...h})})}function b$(e){var t,n;let l=(0,f.c)(24),{AfterFolderList:a,AfterFolderListTable:r,BeforeFolderList:c,BeforeFolderListTable:p,Description:m,disableBulkDelete:g,disableBulkEdit:v,folderAssignedCollections:b,viewPreference:y}=e,x=(0,h.useRouter)(),{getEntityConfig:w}=(0,i.b)(),{i18n:C,t:j}=(0,s.d)(),S=ni(),{setStepNav:_}=fM(),{startRouteTransition:k}=e4(),{clearRouteCache:N}=d9(),{breakpoints:E}=bp(),{s:P}=E,{setPreference:D}=lS(),{activeCollectionFolderSlugs:T,allowCreateCollectionSlugs:A,breadcrumbs:R,documents:L,dragOverlayItem:O,folderCollectionConfig:F,folderID:I,folderType:M,getFolderRoute:B,getSelectedItems:z,moveToFolder:U,refineFolderData:V,search:H,selectedItemKeys:q,setIsDragging:W,subfolders:K}=d5(),[Y,G]=o.useState(y||"grid"),Q;l[0]!==R||l[1]!==F||l[2]!==C||l[3]!==j?(Q=()=>{var e;return j("folder:searchByNameInFolder",{folderName:0===R.length?(0,d.s)(null==(e=F.labels)?void 0:e.plural,C):R[R.length-1].name})},l[0]=R,l[1]=F,l[2]=C,l[3]=j,l[4]=Q):Q=l[4];let[X]=o.useState(Q),$;l[5]!==N||l[6]!==z||l[7]!==U?($=async e=>{e.over&&"folder"===e.over.data.current.type&&"id"in e.over.data.current&&(await U({itemsToMove:z(),toFolderID:e.over.data.current.id||null}),N())},l[5]=N,l[6]=z,l[7]=U,l[8]=$):$=l[8];let Z=$,J=L.length+K.length,ee=R.length?R[R.length-1].name:j("folder:browseByFolder"),et;l[9]!==w||l[10]!==C||l[11]!==j?(et=(e,t,n,l)=>{var a,o,r;let i=w({collectionSlug:t});return 0===n?(0,d.s)(null==(a=i.labels)?void 0:a.plural,C):n===l.length-1?"".concat(e," ").concat(j("general:or").toLowerCase()," ").concat((0,d.s)(null==(o=i.labels)?void 0:o.plural,C)):"".concat(e,", ").concat((0,d.s)(null==(r=i.labels)?void 0:r.plural,C))},l[9]=w,l[10]=C,l[11]=j,l[12]=et):et=l[12];let en=T.reduce(et,""),el,ea;l[13]!==R||l[14]!==S||l[15]!==B||l[16]!==x||l[17]!==_||l[18]!==k||l[19]!==j?(el=()=>{S||_([R.length?{label:(0,u.jsxs)(pd,{className:["".concat(bQ,"__step-nav-droppable"),"".concat(bQ,"__step-nav-icon-label")].filter(Boolean).join(" "),id:null,onClick:()=>{k(()=>{x.push(B(null))})},children:[(0,u.jsx)(pp,{}),j("folder:browseByFolder")]},"root")}:{label:(0,u.jsxs)("div",{className:"".concat(bQ,"__step-nav-icon-label"),children:[(0,u.jsx)(pp,{}),j("folder:browseByFolder")]},"root")},...R.map((e,t)=>({label:t===R.length-1?e.name:(0,u.jsx)(pd,{className:"".concat(bQ,"__step-nav-droppable"),id:e.id,onClick:()=>{k(()=>{x.push(B(e.id))})},children:e.name},e.id)}))])},ea=[R,S,B,x,_,k,j],l[13]=R,l[14]=S,l[15]=B,l[16]=x,l[17]=_,l[18]=k,l[19]=j,l[20]=el,l[21]=ea):(el=l[20],ea=l[21]),o.useEffect(el,ea);let eo=A.filter(e=>e!==F.slug),er;return l[22]!==V?(er=e=>V({query:{search:e},updateURL:!0}),l[22]=V,l[23]=er):er=l[23],(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(bZ,{onDragEnd:Z,setIsDragging:W}),(0,u.jsxs)("div",{className:"".concat(bQ," ").concat(bQ,"--folders"),children:[c,(0,u.jsxs)(ll,{className:"".concat(bQ,"__wrap"),children:[(0,u.jsx)(gQ,{Actions:[!P&&(0,u.jsx)(bz,{disableBulkDelete:g,disableBulkEdit:v,folderAssignedCollections:b},"list-selection")].filter(Boolean),AfterListHeaderContent:m,title:ee,TitleActions:[A.length&&(0,u.jsx)(pa,{buttonLabel:A.length>1?j("general:createNew"):"".concat(j("general:create")," ").concat((0,d.s)(null==(t=F.labels)?void 0:t.singular,C).toLowerCase()),collectionSlugs:A,folderAssignedCollections:Array.isArray(M)?M:[],onCreateSuccess:N,slugPrefix:"create-document--header-pill"},"create-new-button")].filter(Boolean)}),(0,u.jsx)(gf,{Actions:[(0,u.jsx)(bO,{},"sort-by-pill"),I&&(0,u.jsx)(bG,{},"collection-type"),(0,u.jsx)(bI,{activeView:Y,setActiveView:e=>{D("browse-by-folder",{viewPreference:e}),G(e)}},"toggle-view-buttons"),(0,u.jsx)(bE,{},"current-folder-actions")].filter(Boolean),label:X,onSearchChange:er,searchQueryParam:H}),p,J>0&&(0,u.jsx)(u.Fragment,{children:"grid"===Y?(0,u.jsxs)("div",{children:[K.length?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(vL,{items:K,title:"Folders",type:"folder"})}):null,L.length?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(vL,{items:L,subfolderCount:K.length,title:"Documents",type:"file"})}):null]}):(0,u.jsx)(vk,{})}),0===J&&(0,u.jsx)(pr,{Actions:[A.includes(F.slug)&&(0,u.jsx)(pa,{buttonLabel:"".concat(j("general:create")," ").concat((0,d.s)(null==(n=F.labels)?void 0:n.singular,C).toLowerCase()),collectionSlugs:[F.slug],folderAssignedCollections:Array.isArray(M)?M:[],onCreateSuccess:N,slugPrefix:"create-folder--no-results"},"create-folder"),I&&eo.length>0&&(0,u.jsx)(pa,{buttonLabel:"".concat(j("general:create")," ").concat(j("general:document").toLowerCase()),collectionSlugs:eo,folderAssignedCollections:Array.isArray(M)?M:[],onCreateSuccess:N,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:(0,u.jsx)("p",{children:C.t("general:noResults",{label:en})})}),r]}),a]}),q.size>0&&O&&(0,u.jsx)(bD,{item:O,selectedCount:q.size})]})}function bZ(e){let t=(0,f.c)(3),{onDragEnd:n,setIsDragging:l}=e,a;return t[0]!==n||t[1]!==l?(a={onDragCancel(){l(!1)},onDragEnd(e){l(!1),n(e)},onDragStart(){l(!0)}},t[0]=n,t[1]=l,t[2]=a):a=t[2],(0,g.E5)(a),null}var bJ=e=>{let t=(0,f.c)(9),{AfterHeader:n,drawerSlug:l,showDocumentID:a}=e,o=void 0===a||a,{closeModal:r}=nN(),{t:i}=(0,s.d)(),c;if(t[0]!==n||t[1]!==r||t[2]!==l||t[3]!==o||t[4]!==i){let e;t[6]!==r||t[7]!==l?(e=()=>r(l),t[6]=r,t[7]=l,t[8]=e):e=t[8],c=(0,u.jsxs)(ll,{className:"".concat(cT,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(cT,"__header-content"),children:[(0,u.jsx)("h2",{className:"".concat(cT,"__header-text"),children:(0,u.jsx)(vM,{element:"span"})}),(0,u.jsx)("button",{"aria-label":i("general:close"),className:"".concat(cT,"__header-close"),onClick:e,type:"button",children:(0,u.jsx)(s.a,{})})]}),o&&(0,u.jsx)(b0,{}),n?(0,u.jsx)("div",{className:"".concat(cT,"__after-header"),children:n}):null]}),t[0]=n,t[1]=r,t[2]=l,t[3]=o,t[4]=i,t[5]=c}else c=t[5];return c},b0=()=>{let e=(0,f.c)(3),{id:t}=aD(),{title:n}=aj(),l;return e[0]!==t||e[1]!==n?(l=t&&t!==n?(0,u.jsx)(vF,{id:t.toString()}):null,e[0]=t,e[1]=n,e[2]=l):l=e[2],l},b1=e=>{let{children:t}=e,n=o.useRef(null),l=o.useRef(null),{breakpoint:a,setMeasuredDeviceSize:r,size:i,zoom:s}=f7(),{size:c}=hZ(n.current),{size:d}=hZ(l.current);(0,o.useEffect)(()=>{c&&r(c)},[c,r]);let p="0",h="0";if(a&&"responsive"!==a&&(p="-50%",i&&c&&"number"==typeof s&&"number"==typeof i.width&&"number"==typeof i.height&&"number"==typeof c.width&&"number"==typeof c.height)){h="0 auto";let e=i.width/s,t=c.width*s,n=e-i.width;if(t>d.width)if(s>1){let e=c.width-d.width;p=e<0?"".concat(e/2,"px"):"0"}else p="0";else s>=1?p="".concat(n/2,"px"):(p="".concat((d.width-t)/2,"px"),h="0")}let f=s?"".concat(100/s,"%"):"100%",m=s?"".concat(100/s,"%"):"100%";return"responsive"!==a&&(f="".concat((null==i?void 0:i.width)/("number"==typeof s?s:1),"px"),m="".concat((null==i?void 0:i.height)/("number"==typeof s?s:1),"px")),(0,u.jsx)("div",{ref:l,style:{height:"100%",width:"100%"},children:(0,u.jsx)("div",{ref:n,style:{height:m,margin:h,transform:"translate3d(".concat(p,", 0, 0)"),width:f},children:t})})},b3=()=>{let e=(0,f.c)(8),{iframeRef:t,setLoadedURL:n,url:l,zoom:a}=f7(),o;e[0]!==n||e[1]!==l?(o=()=>{n(l)},e[0]=n,e[1]=l,e[2]=o):o=e[2];let r="number"==typeof a?"scale(".concat(a,") "):void 0,i;return e[3]!==t||e[4]!==o||e[5]!==r||e[6]!==l?(i=(0,u.jsx)("iframe",{className:"live-preview-iframe",onLoad:o,ref:t,src:l,style:{transform:r},title:l},l),e[3]=t,e[4]=o,e[5]=r,e[6]=l,e[7]=i):i=e[7],i},b2=e=>{let t=(0,f.c)(18),{axis:n}=e,{breakpoint:l,measuredDeviceSize:a,setBreakpoint:r,setSize:i,size:s,zoom:c}=f7(),[d,p]=o.useState(("x"===n?null==a?void 0:a.width:null==a?void 0:a.height)||0),h;t[0]!==n||t[1]!==(null==a?void 0:a.height)||t[2]!==(null==a?void 0:a.width)||t[3]!==r||t[4]!==i||t[5]!==c?(h=e=>{let t=Number(e.target.value);t<0&&(t=0),p(t),r("custom"),i({type:"reset",value:{height:"y"===n?t:Number(null==a?void 0:a.height.toFixed(0))*c,width:"x"===n?t:Number(null==a?void 0:a.width.toFixed(0))*c}})},t[0]=n,t[1]=null==a?void 0:a.height,t[2]=null==a?void 0:a.width,t[3]=r,t[4]=i,t[5]=c,t[6]=h):h=t[6];let m=h,g,v;t[7]!==n||t[8]!==l||t[9]!==a||t[10]!==s||t[11]!==c?(g=()=>{"responsive"===l&&a&&p("x"===n?Number(a.width.toFixed(0))*c:Number(a.height.toFixed(0))*c),"responsive"!==l&&s&&p("x"===n?s.width:s.height)},v=[l,n,a,s,c],t[7]=n,t[8]=l,t[9]=a,t[10]=s,t[11]=c,t[12]=g,t[13]=v):(g=t[12],v=t[13]),(0,o.useEffect)(g,v);let b="x"===n?"live-preview-width":"live-preview-height",y=d||0,x;return t[14]!==m||t[15]!==b||t[16]!==y?(x=(0,u.jsx)("input",{className:"toolbar-input",min:0,name:b,onChange:m,step:1,type:"number",value:y}),t[14]=m,t[15]=b,t[16]=y,t[17]=x):x=t[17],x},b6="live-preview-toolbar-controls",b5=[50,75,100,125,150,200],b4=()=>{let e=(0,f.c)(14),{breakpoint:t,breakpoints:n,setBreakpoint:l,setPreviewWindowType:a,setZoom:r,url:i,zoom:c}=f7(),{t:d}=(0,s.d)(),p;if(e[0]!==t||e[1]!==n||e[2]!==l||e[3]!==a||e[4]!==r||e[5]!==d||e[6]!==i||e[7]!==c){var h,m;let f,g={label:d("general:custom"),value:"custom"},v;e[9]!==r||e[10]!==c?(v=e=>{let{close:t}=e;return(0,u.jsx)(ts.ButtonGroup,{children:(0,u.jsx)(o.Fragment,{children:b5.map(e=>(0,u.jsxs)(ts.Button,{active:100*c==e,onClick:()=>{r(e/100),t()},children:[e,"%"]},e))})})},e[9]=r,e[10]=c,e[11]=v):v=e[11],e[12]!==a?(f=e=>{e.preventDefault(),a("popup")},e[12]=a,e[13]=f):f=e[13],p=(0,u.jsxs)("div",{className:b6,children:[(null==n?void 0:n.length)>0&&(0,u.jsx)(t_,{button:(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{children:null!=(m=null==(h=n.find(e=>e.name==t))?void 0:h.label)?m:g.label}),(0,u.jsx)(tl,{className:"".concat(b6,"__chevron")})]}),className:"".concat(b6,"__breakpoint"),horizontalAlign:"right",render:e=>{let{close:a}=e;return(0,u.jsx)(ts.ButtonGroup,{children:(0,u.jsxs)(o.Fragment,{children:[n.map(e=>(0,u.jsx)(ts.Button,{active:e.name==t,onClick:()=>{l(e.name),a()},children:e.label},e.name)),"custom"===t&&(0,u.jsx)(ts.Button,{active:t==g.value,onClick:()=>{l(g.value),a()},children:g.label})]})})},showScrollbar:!0,verticalAlign:"bottom"}),(0,u.jsxs)("div",{className:"".concat(b6,"__device-size"),children:[(0,u.jsx)(b2,{axis:"x"}),(0,u.jsx)("span",{className:"".concat(b6,"__size-divider"),children:(0,u.jsx)(s.a,{})}),(0,u.jsx)(b2,{axis:"y"})]}),(0,u.jsx)(t_,{button:(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("span",{children:[100*c,"%"]}),(0,u.jsx)(tl,{className:"".concat(b6,"__chevron")})]}),className:"".concat(b6,"__zoom"),horizontalAlign:"right",render:v,showScrollbar:!0,verticalAlign:"bottom"}),(0,u.jsx)("a",{className:"".concat(b6,"__external"),href:i,onClick:f,target:"_blank",title:"Open in new window",type:"button",children:(0,u.jsx)(md,{})})]}),e[0]=t,e[1]=n,e[2]=l,e[3]=a,e[4]=r,e[5]=d,e[6]=i,e[7]=c,e[8]=p}else p=e[8];return p},b8="live-preview-toolbar",b9=e=>{let t=(0,f.c)(10),{toolbarPosition:n}=f7(),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={id:"live-preview-toolbar"},t[0]=l):l=t[0];let{attributes:a,listeners:o,setNodeRef:r,transform:i}=(0,g.PM)(l),s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=[b8,"".concat(b8,"--draggable")],t[1]=s):s=t[1];let c="".concat(n.x,"px"),d="".concat(n.y,"px"),p;return t[2]!==a||t[3]!==o||t[4]!==e||t[5]!==r||t[6]!==c||t[7]!==d||t[8]!==i?(p=(0,u.jsxs)("div",{className:s.join(" "),style:{left:c,top:d,...i?{transform:i?"translate3d(".concat((null==i?void 0:i.x)||0,"px, ").concat((null==i?void 0:i.y)||0,"px, 0)"):void 0}:{}},children:[(0,u.jsx)("button",{...o,...a,className:"".concat(b8,"__drag-handle"),ref:r,type:"button",children:(0,u.jsx)(a3,{})}),(0,u.jsx)(b4,{...e})]}),t[2]=a,t[3]=o,t[4]=e,t[5]=r,t[6]=c,t[7]=d,t[8]=i,t[9]=p):p=t[9],p},b7=e=>(0,u.jsx)("div",{className:[b8,"".concat(b8,"--static")].join(" "),children:(0,u.jsx)(b4,{...e})}),ye=e=>{let{draggable:t}=e;return t?(0,u.jsx)(b9,{...e}):(0,u.jsx)(b7,{...e})},yt="live-preview-window",yn=e=>{let t,n,l,a=(0,f.c)(49),{appIsReady:r,breakpoint:s,iframeRef:c,isLivePreviewing:d,loadedURL:p,popupRef:h,previewWindowType:m,url:g}=f7(),v=lD(),{mostRecentUpdate:b}=d$(),[y]=eI(),{id:x,collectionSlug:w,globalSlug:C}=aD(),j;if(a[0]!==r||a[1]!==w||a[2]!==y||a[3]!==C||a[4]!==x||a[5]!==c||a[6]!==d||a[7]!==v||a[8]!==b||a[9]!==h||a[10]!==m||a[11]!==g?(j=()=>{if(!(!d||!r)&&y){var e;let t=(0,L.r)(y,!0);t.id||(t.id=x);let n={type:"payload-live-preview",collectionSlug:w,data:t,externallyUpdatedRelationship:b,globalSlug:C,locale:v.code};"popup"===m&&h.current&&h.current.postMessage(n,g),"iframe"===m&&c.current&&(null==(e=c.current.contentWindow)||e.postMessage(n,g))}},a[0]=r,a[1]=w,a[2]=y,a[3]=C,a[4]=x,a[5]=c,a[6]=d,a[7]=v,a[8]=b,a[9]=h,a[10]=m,a[11]=g,a[12]=j):j=a[12],a[13]!==r||a[14]!==w||a[15]!==y||a[16]!==C||a[17]!==x||a[18]!==c||a[19]!==d||a[20]!==p||a[21]!==v||a[22]!==b||a[23]!==h||a[24]!==m||a[25]!==g?(t=[y,g,w,C,x,m,h,r,c,b,v,d,p],a[13]=r,a[14]=w,a[15]=y,a[16]=C,a[17]=x,a[18]=c,a[19]=d,a[20]=p,a[21]=v,a[22]=b,a[23]=h,a[24]=m,a[25]=g,a[26]=t):t=a[26],(0,o.useEffect)(j,t),a[27]!==r||a[28]!==c||a[29]!==d||a[30]!==h||a[31]!==m||a[32]!==g?(n=()=>{var e;if(!d||!r)return;let t={type:"payload-document-event"};"popup"===m&&h.current&&h.current.postMessage(t,g),"iframe"===m&&c.current&&(null==(e=c.current.contentWindow)||e.postMessage(t,g))},a[27]=r,a[28]=c,a[29]=d,a[30]=h,a[31]=m,a[32]=g,a[33]=n):n=a[33],a[34]!==r||a[35]!==c||a[36]!==d||a[37]!==b||a[38]!==h||a[39]!==m||a[40]!==g?(l=[b,c,h,m,g,d,r],a[34]=r,a[35]=c,a[36]=d,a[37]=b,a[38]=h,a[39]=m,a[40]=g,a[41]=l):l=a[41],(0,o.useEffect)(n,l),"iframe"!==m)return null;let S=d&&"".concat(yt,"--is-live-previewing"),_=s&&"responsive"!==s&&"".concat(yt,"--has-breakpoint"),k;a[42]!==S||a[43]!==_?(k=[yt,S,_].filter(Boolean),a[42]=S,a[43]=_,a[44]=k):k=a[44];let N=k.join(" "),E;return a[45]!==e||a[46]!==N||a[47]!==g?(E=(0,u.jsx)("div",{className:N,children:(0,u.jsxs)("div",{className:"".concat(yt,"__wrapper"),children:[(0,u.jsx)(ye,{...e}),(0,u.jsx)("div",{className:"".concat(yt,"__main"),children:(0,u.jsx)(b1,{children:g?(0,u.jsx)(b3,{}):(0,u.jsx)(i.e,{height:"100%"})})})]})}),a[45]=e,a[46]=N,a[47]=g,a[48]=E):E=a[48],E},yl=async e=>{let{id:t,clearRouteCache:n,collectionSlug:l,documentLockStateRef:a,globalSlug:o,isLockingEnabled:r,isWithinDoc:i,setCurrentEditor:s,setIsReadOnlyForIncomingUser:c,updateDocumentEditor:u,user:d}=e;if(r)try{var p;await u(t,null!=l?l:o,d),i||(a.current.hasShownLockedModal=!0),a.current={hasShownLockedModal:null==(p=a.current)?void 0:p.hasShownLockedModal,isLocked:!0,user:d},s(d),i&&c&&c(!1),n&&n()}catch(e){console.error("Error during document takeover:",e)}},ya="api-key",yo=e=>{var t,n;let{enabled:l,readOnly:a}=e,[r]=(0,o.useState)(op()),[c,p]=(0,o.useState)(!1),[h,f]=(0,o.useState)(!1),{i18n:m,t:g}=(0,s.d)(),{config:v,getEntityConfig:b}=(0,i.b)(),{collectionSlug:y}=aD(),x=eF(e=>{let[t]=e;return t&&t.apiKey||null}),w=null==(n=b({collectionSlug:y}))||null==(t=n.fields)?void 0:t.find(e=>"name"in e&&"apiKey"===e.name),C=null==x?void 0:x.value,j=(0,o.useMemo)(()=>{let e="API Key";return(null==w?void 0:w.label)&&(e=w.label),(0,d.s)(e,m)},[w,m]),S=(0,o.useMemo)(()=>(0,u.jsxs)("label",{className:"".concat(ya,"__label field-label"),htmlFor:"apiKey",children:[(0,u.jsx)("span",{children:j}),(0,u.jsx)(pW,{value:C})]}),[j,C]),{setValue:_,value:k}=aB({path:"apiKey",validate:e=>(0,H.Qq)(e,{name:"apiKey",type:"text",blockData:{},data:{},event:"onChange",maxLength:48,minLength:24,path:["apiKey"],preferences:{fields:{}},req:{payload:{config:v},t:g},siblingData:{}})});return(0,o.useEffect)(()=>{!C&&l&&_(r),!l&&C&&_(null)},[C,l,_,r]),(0,o.useEffect)(()=>{c&&setTimeout(()=>{p(!1)},1e4)},[c]),l?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:["field-type","api-key","read-only"].filter(Boolean).join(" "),children:[S,(0,u.jsxs)("div",{className:"".concat(ya,"__input-wrap"),children:[(0,u.jsx)("input",{"aria-label":j,className:c?"highlight":void 0,disabled:!0,id:"apiKey",name:"apiKey",type:h?"text":"password",value:k||""}),(0,u.jsx)("div",{className:"".concat(ya,"__toggle-button-wrap"),children:(0,u.jsx)(tP,{buttonStyle:"none",className:"".concat(ya,"__toggle-button"),icon:(0,u.jsx)(ma,{active:h}),onClick:()=>f(e=>!e)})})]})]}),!a&&(0,u.jsx)(mG,{highlightField:()=>{c&&p(!1),setTimeout(()=>{p(!0)},1)},setKey:()=>_(op())})]}):null},yr="auth-fields",yi=e=>{var t,n;let l,a=(0,f.c)(22),{className:r,collectionSlug:c,disableLocalStrategy:d,email:p,loginWithUsername:h,operation:m,readOnly:g,requirePassword:v,setValidateBeforeSubmit:b,useAPIKey:y,username:x,verify:C}=e,{permissions:j}=lx(),[S,_]=(0,o.useState)(v),k=eF(ys),N=eF(yc),E=eL(),{i18n:P,t:D}=(0,s.d)(),{docPermissions:T,isEditing:A,isInitializing:R,isTrashed:L}=aD(),{config:O}=(0,i.b)(),{routes:F,serverURL:I}=O,{api:M}=F,B=!0,z=!0,U="object"==typeof T.fields&&"password"in T.fields,V="object"==typeof T.fields&&("username"in T.fields||"email"in T.fields);if(U){let{permissions:e}=(0,w.P)({field:{name:"password",type:"text"},operation:m,parentName:"",permissions:null==T?void 0:T.fields});B="create"===m?!0===e||"object"==typeof e&&e.create:!0===e||"object"==typeof e&&e.update}if(V){let e=h&&(h.requireEmail||h.allowEmailLogin),t;a[0]!==T.fields?(t=(0,w.P)({field:{name:"email",type:"text"},operation:"read",parentName:"",permissions:null==T?void 0:T.fields}),a[0]=T.fields,a[1]=t):t=a[1];let{operation:n}=t,l;a[2]!==T.fields?(l=(0,w.P)({field:{name:"username",type:"text"},operation:"read",parentName:"",permissions:null==T?void 0:T.fields}),a[2]=T.fields,a[3]=l):l=a[3];let{operation:o}=l;z=e?o||n:h&&!e?o:n}let H=(!d||"object"==typeof d&&!0===d.enableFields)&&(z||B),q=g||R||L,W=(null==T?void 0:T.fields)===!0||(null==T||null==(t=T.fields)?void 0:t.enableAPIKey),K=g||!0===W||W&&"object"==typeof W&&!(null==W?void 0:W.update),Y=g||!0!==W&&!(null==W?void 0:W.update),G=!0===W||(null==W?void 0:W.read),Q;e:{let e=null==j||null==(n=j.collections)?void 0:n[c];if(e){Q=!!("unlock"in e&&e.unlock);break e}Q=!1}let X=Q,$;a[4]!==N||a[5]!==b||a[6]!==D?($=e=>{e?(b(!0),N({type:"UPDATE",errorMessage:D("validation:required"),path:"password",valid:!1}),N({type:"UPDATE",errorMessage:D("validation:required"),path:"confirm-password",valid:!1})):(b(!1),N({type:"REMOVE",path:"password"}),N({type:"REMOVE",path:"confirm-password"})),_(e)},a[4]=N,a[5]=b,a[6]=D,a[7]=$):$=a[7];let Z=$,J;a[8]!==M||a[9]!==c||a[10]!==p||a[11]!==P||a[12]!==h||a[13]!==I||a[14]!==D||a[15]!==x?(J=async()=>{let e="".concat(I).concat(M,"/").concat(c,"/unlock");200===(await fetch(e,{body:JSON.stringify(h&&x?{username:x}:{email:p}),credentials:"include",headers:{"Accept-Language":P.language,"Content-Type":"application/json"},method:"post"})).status?eZ.success(D("authentication:successfullyUnlocked")):eZ.error(D("authentication:failedToUnlock"))},a[8]=M,a[9]=c,a[10]=p,a[11]=P,a[12]=h,a[13]=I,a[14]=D,a[15]=x,a[16]=J):J=a[16];let ee=J,et,en;return(a[17]!==E?(et=()=>{E||_(!1)},en=[E],a[17]=E,a[18]=et,a[19]=en):(et=a[18],en=a[19]),(0,o.useEffect)(et,en),H||y&&G||C&&A)?(a[20]!==r?(l=[yr,r].filter(Boolean),a[20]=r,a[21]=l):l=a[21],(0,u.jsxs)("div",{className:l.join(" "),children:[H&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(bb,{loginWithUsername:h,operation:m,permissions:null==T?void 0:T.fields,readOnly:g||L,t:D}),(S||v)&&(!d||!H)&&(0,u.jsxs)("div",{className:"".concat(yr,"__changing-password"),children:[(0,u.jsx)(hU,{autoComplete:"new-password",field:{name:"password",label:D("authentication:newPassword"),required:!0},indexPath:"",parentPath:"",parentSchemaPath:"",path:"password",schemaPath:"password"}),(0,u.jsx)(hM,{disabled:g||L})]}),(0,u.jsxs)("div",{className:"".concat(yr,"__controls"),children:[S&&!v&&(0,u.jsx)(tP,{buttonStyle:"secondary",disabled:q,onClick:()=>Z(!1),size:"medium",children:D("general:cancel")}),!S&&!v&&!d&&B&&(0,u.jsx)(tP,{buttonStyle:"secondary",disabled:q,id:"change-password",onClick:()=>Z(!0),size:"medium",children:D("authentication:changePassword")}),"update"===m&&X&&(0,u.jsx)(tP,{buttonStyle:"secondary",disabled:q||!z,onClick:()=>void ee(),size:"medium",children:D("authentication:forceUnlock")})]})]}),y&&(0,u.jsx)("div",{className:"".concat(yr,"__api-key"),children:G&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(a$,{field:{name:"enableAPIKey",admin:{disabled:q,readOnly:Y},label:D("authentication:enableAPIKey")},path:"enableAPIKey",schemaPath:"".concat(c,".enableAPIKey")}),(0,u.jsx)(yo,{enabled:!!(null==k?void 0:k.value),readOnly:K})]})}),C&&A&&(0,u.jsx)(a$,{field:{name:"_verified",admin:{disabled:q,readOnly:g},label:D("authentication:verified")},path:"_verified",schemaPath:"".concat(c,"._verified")})]})):null};function ys(e){let[t]=e;return t&&(null==t?void 0:t.enableAPIKey)||null}function yc(e){return e[1]}var yu=e=>{let t=(0,f.c)(21),{id:n,collectionSlug:l,globalSlug:a,isTrashed:r,pluralLabel:c,useAsTitle:u}=e,p=(null==e?void 0:e.view)||void 0,{isEditing:h,isInitializing:m}=aD(),{title:g}=aj(),{isEntityVisible:b}=bl(),y;t[0]!==l||t[1]!==a||t[2]!==b?(y=b({collectionSlug:l,globalSlug:a}),t[0]=l,t[1]=a,t[2]=b,t[3]=y):y=t[3];let x=y,{setStepNav:w}=fM(),{i18n:C,t:j}=(0,s.d)(),{config:S}=(0,i.b)(),{routes:_}=S,{admin:k}=_,N,E;return t[4]!==k||t[5]!==l||t[6]!==a||t[7]!==C||t[8]!==n||t[9]!==h||t[10]!==m||t[11]!==r||t[12]!==x||t[13]!==c||t[14]!==w||t[15]!==j||t[16]!==g||t[17]!==u||t[18]!==p?(N=()=>{let e=[];m||(l?(e.push({label:(0,d.s)(c,C),url:x?(0,v.Q)({adminRoute:k,path:"/collections/".concat(l)}):void 0}),r&&e.push({label:j("general:trash"),url:x?(0,v.Q)({adminRoute:k,path:"/collections/".concat(l,"/trash")}):void 0}),h?e.push({label:u&&"id"!==u&&g||"".concat(n),url:x?(0,v.Q)({adminRoute:k,path:r?"/collections/".concat(l,"/trash/").concat(n):"/collections/".concat(l,"/").concat(n)}):void 0}):e.push({label:j("general:createNew")})):a&&e.push({label:g,url:x?(0,v.Q)({adminRoute:k,path:"/globals/".concat(a)}):void 0}),p&&e.push({label:p}),w(e))},E=[w,m,h,c,n,r,u,k,j,C,g,l,a,p,x],t[4]=k,t[5]=l,t[6]=a,t[7]=C,t[8]=n,t[9]=h,t[10]=m,t[11]=r,t[12]=x,t[13]=c,t[14]=w,t[15]=j,t[16]=g,t[17]=u,t[18]=p,t[19]=N,t[20]=E):(N=t[19],E=t[20]),(0,o.useEffect)(N,E),null},yd=e=>{var t,n;let l=(0,f.c)(14),{collectionConfig:a,config:r,fallback:i,globalConfig:c}=e,u=null==a||null==(t=a.admin)?void 0:t.useAsTitle,d;l[0]!==u?(d=e=>{let[t]=e;return u&&t&&(null==t?void 0:t[u])||null},l[0]=u,l[1]=d):d=l[1];let p=eF(d),h=(0,o.useRef)(!1),{i18n:m}=(0,s.d)(),{setDocumentTitle:g}=aj(),v=null==r||null==(n=r.admin)?void 0:n.dateFormat,b=(null==p?void 0:p.value)||"",y;l[2]!==a||l[3]!==v||l[4]!==i||l[5]!==c||l[6]!==m||l[7]!==b||l[8]!==u?(y=aw({collectionConfig:a,data:{id:"",[u]:b},dateFormat:v,fallback:i,globalConfig:c,i18n:m}),l[2]=a,l[3]=v,l[4]=i,l[5]=c,l[6]=m,l[7]=b,l[8]=u,l[9]=y):y=l[9];let x=y,w,C;return l[10]!==g||l[11]!==x?(w=()=>{if(!h.current){h.current=!0;return}g(x)},C=[g,x],l[10]=g,l[11]=x,l[12]=w,l[13]=C):(w=l[12],C=l[13]),(0,o.useEffect)(w,C),null},yp="collection-edit";function yh(e){var t,n,l,a,r,s,c,d,p,f,m;let{BeforeDocumentControls:g,Description:b,EditMenuItems:y,LivePreview:x,PreviewButton:w,PublishButton:C,SaveButton:j,SaveDraftButton:S,Upload:_,UploadControls:k}=e,{id:N,action:E,AfterDocument:P,AfterFields:D,apiURL:T,BeforeFields:A,collectionSlug:R,currentEditor:L,data:O,disableActions:F,disableCreate:I,disableLeaveWithoutSaving:M,docPermissions:B,documentIsLocked:z,documentLockState:U,getDocPermissions:V,getDocPreferences:H,globalSlug:q,hasPublishPermission:W,hasSavePermission:K,incrementVersionCount:Y,initialState:G,isEditing:Q,isInitializing:X,isLocked:$,isTrashed:Z,lastUpdateTime:J,redirectAfterCreate:ee,redirectAfterDelete:et,redirectAfterDuplicate:en,redirectAfterRestore:el,setCurrentEditor:ea,setData:eo,setDocumentIsLocked:er,setLastUpdateTime:ei,unlockDocument:es,updateDocumentEditor:ec}=aD(),{clearDoc:eu,drawerSlug:ed,onDelete:ep,onDuplicate:eh,onRestore:ef,onSave:em}=cP(),eg=!!ed,{refreshCookieAsync:ev,user:eb}=lx(),{config:ey,config:{admin:{user:ex},routes:{admin:ew}},getEntityConfig:eC}=(0,i.b)(),ej=eC({collectionSlug:R}),eS=eC({globalSlug:q}),e_=ni(),ek=(0,h.useRouter)(),eN=(0,h.useSearchParams)(),{reportUpdate:eE}=d$(),{resetUploadEdits:eP}=aN(),{getFormState:eD}=cr(),{startRouteTransition:eT}=e4(),{clearRouteCache:eA}=d9(),{isLivePreviewEnabled:eR,isLivePreviewing:eL,previewWindowType:eO,setURL:eF,typeofLivePreviewURL:eI,url:eM}=f7(),eB=(0,o.useRef)(null),ez=(0,o.useRef)(null),eU=eN.get("locale"),eV=(null==ej?void 0:ej.slug)||(null==eS?void 0:eS.slug),eH=R&&!N?"create":"update",eq=ej?ej.auth:void 0,eW=ej?ej.upload:void 0,eK=ej||eS,eY=(null==eK?void 0:eK.lockDocuments)===void 0||(null==eK?void 0:eK.lockDocuments),eG=!1!==eY,eQ=("object"==typeof eY?eY.duration:300)*1e3,eX=!!((null==ej||null==(t=ej.versions)?void 0:t.drafts)&&(null==ej||null==(l=ej.versions)||null==(n=l.drafts)?void 0:n.autosave)||(null==eS||null==(a=eS.versions)?void 0:a.drafts)&&(null==eS||null==(s=eS.versions)||null==(r=s.drafts)?void 0:r.autosave)),[e$,eZ]=(0,o.useState)(!1),[eJ,e0]=(0,o.useState)(!1),[e1,e3]=(0,o.useState)(Date.now()),e2=J+eQ,e6=Date.now()>e2,e5=(0,o.useMemo)(()=>[eV],[eV]),[e8,e9]=(0,o.useState)(()=>!!("create"===eH&&eq&&!eq.disableLocalStrategy)),e7=o.useRef(null),te=(0,o.useCallback)(e=>{var t,n,l,a,o;er(!0);let r="object"==typeof(null==(t=U.current)?void 0:t.user)?null==(l=U.current)||null==(n=l.user)?void 0:n.id:null==(a=U.current)?void 0:a.user;if(e){let t="string"==typeof e.user||"number"==typeof e.user?e.user:e.user.id;U.current&&t===r||(r===eb.id&&t!==eb.id&&(e0(!0),U.current.hasShownLockedModal=!0),U.current={hasShownLockedModal:(null==(o=U.current)?void 0:o.hasShownLockedModal)||!1,isLocked:!0,user:e.user},ea(e.user)),e.lastEditedAt&&ei(new Date(e.lastEditedAt).getTime())}},[U,ea,er,ei,null==eb?void 0:eb.id]),tt=(0,o.useCallback)(e=>{e7.current=e},[]),tn=(0,o.useCallback)(async()=>{var e;let t=null==(e=U.current)?void 0:e.user,n="object"==typeof t?(null==t?void 0:t.id)===(null==eb?void 0:eb.id):t===(null==eb?void 0:eb.id);if(eG&&z&&(N||q)){let e=e7.current?new URL(e7.current).pathname:"";if(!["/preview","/api","/versions"].some(t=>e.includes(t))&&n)try{await es(N,null!=R?R:q),er(!1),ea(null)}catch(e){console.error("Failed to unlock before leave",e)}}},[R,z,U,q,N,eG,ea,er,es,null==eb?void 0:eb.id]),tl=(0,o.useCallback)(async(e,t)=>{let{context:n,formState:l}=t||{},a=ck(ez),o=(null==e?void 0:e.doc)||(null==e?void 0:e.result),r=(null==o?void 0:o.updatedAt)||new Date().toISOString();if(eb&&R===ex&&N===eb.id&&ev(),ei(r),(null==n?void 0:n.incrementVersionCount)!==!1&&Y(),"function"==typeof eo&&eo(o||{}),"function"==typeof em){let t=N?"update":"create";em({...e,context:n,operation:t,updatedAt:"update"===t?new Date().toISOString():(null==o?void 0:o.updatedAt)||new Date().toISOString()})}if(!Q&&e_<2&&!1!==ee){let e=(0,v.Q)({adminRoute:ew,path:"/collections/".concat(R,"/").concat(null==o?void 0:o.id).concat(eU?"?locale=".concat(eU):"")});eT(()=>ek.push(e))}else eP();if((null==n?void 0:n.getDocPermissions)!==!1&&await V(e),N||q){let e=await H(),{livePreviewURL:t,state:n}=await eD({id:N,collectionSlug:R,data:o,docPermissions:B,docPreferences:e,formState:l,globalSlug:q,operation:eH,renderAllFields:!1,returnLivePreviewURL:eR&&"function"===eI,returnLockStatus:!1,schemaPath:e5.join("."),signal:a.signal,skipValidation:!0});return eG&&er(!1),eR&&"function"===eI&&eF(t),eE({id:N,entitySlug:eV,updatedAt:r}),ez.current=null,n}},[eE,N,eV,eb,R,ex,ei,eo,em,Q,e_,ee,eF,q,ev,Y,ew,eU,eT,ek,eP,V,H,eD,B,eH,eR,eI,e5,eG,er]),ta=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,l=ck(eB),a=Date.now(),o=a-e1,r=eG&&o>=1e4;r&&e3(a);let i=await H(),s=await eD({id:N,collectionSlug:R,docPermissions:B,docPreferences:i,formState:t,globalSlug:q,operation:eH,renderAllFields:!1,returnLockStatus:eG,schemaPath:e5.join("."),signal:l.signal,skipValidation:!n,updateLastEdited:r});if(!s)return;let{lockedState:c,state:u}=s;return eG&&te(c),eB.current=null,u},[e1,eG,H,eD,N,R,B,q,eH,e5,te]);(0,o.useEffect)(()=>()=>{e0(!1)},[]),(0,o.useEffect)(()=>{let e=eB.current,t=ez.current;return()=>{c_(e),c_(t)}},[]);let to=z&&L&&("object"==typeof L?L.id!==(null==eb?void 0:eb.id):L!==(null==eb?void 0:eb.id))&&!e$&&!eJ&&!(null==(c=U.current)?void 0:c.hasShownLockedModal)&&!e6,tr=ey.folders&&R===(null==(d=ey.folders)?void 0:d.slug);return(0,u.jsx)("main",{className:[yp,(N||q)&&"".concat(yp,"--is-editing"),q&&"global-edit--".concat(q),R&&"collection-edit--".concat(R),eL&&"iframe"===eO&&"".concat(yp,"--is-live-previewing")].filter(Boolean).join(" "),children:(0,u.jsx)(aL,{operation:eH,children:(0,u.jsxs)(dn,{action:E,className:"".concat(yp,"__form"),disabled:e$||X||!K||Z,disableValidationOnSubmit:!e8,initialState:!X&&G,isDocumentForm:!0,isInitializing:X,method:N?"PATCH":"POST",onChange:[ta],onSuccess:tl,children:[eg&&(0,u.jsx)(bJ,{AfterHeader:b,drawerSlug:ed,showDocumentID:!tr}),eG&&to&&(0,u.jsx)(fh,{handleGoBack:()=>(e=>{let{adminRoute:t,collectionSlug:n,router:l}=e,a=(0,v.Q)({adminRoute:t,path:n?"/collections/".concat(n):"/"});l.push(a)})({adminRoute:ew,collectionSlug:R,router:ek}),isActive:to,onReadOnly:()=>{eZ(!0),e0(!1)},onTakeOver:()=>yl({id:N,clearRouteCache:eA,collectionSlug:R,documentLockStateRef:U,globalSlug:q,isLockingEnabled:eG,isWithinDoc:!1,setCurrentEditor:ea,updateDocumentEditor:ec,user:eb}),updatedAt:J,user:L}),eG&&eJ&&(0,u.jsx)(fu,{handleBackToDashboard:()=>(e=>{let{adminRoute:t,router:n}=e,l=(0,v.Q)({adminRoute:t,path:"/"});n.push(l)})({adminRoute:ew,router:ek}),isActive:eJ,onReadOnly:()=>{eZ(!0),e0(!1)}}),!e$&&("u">typeof M?!M:!eX)&&(0,u.jsx)(fi,{onConfirm:tn,onPrevent:tt}),!eg&&(0,u.jsx)(yu,{collectionSlug:null==ej?void 0:ej.slug,globalSlug:null==eS?void 0:eS.slug,id:N,isTrashed:Z,pluralLabel:null==ej||null==(p=ej.labels)?void 0:p.plural,useAsTitle:null==ej||null==(f=ej.admin)?void 0:f.useAsTitle}),(0,u.jsx)(yd,{collectionConfig:ej,config:ey,fallback:e_<=1?null==N?void 0:N.toString():void 0,globalConfig:eS}),(0,u.jsx)(mN,{apiURL:T,BeforeDocumentControls:g,customComponents:{PreviewButton:w,PublishButton:C,SaveButton:j,SaveDraftButton:S},data:O,disableActions:F||tr||Z,disableCreate:I,EditMenuItems:y,hasPublishPermission:W,hasSavePermission:K,id:N,isEditing:Q,isInDrawer:eg,isTrashed:Z,onDelete:ep,onDrawerCreateNew:eu,onDuplicate:eh,onRestore:ef,onSave:tl,onTakeOver:()=>yl({id:N,clearRouteCache:eA,collectionSlug:R,documentLockStateRef:U,globalSlug:q,isLockingEnabled:eG,isWithinDoc:!0,setCurrentEditor:ea,setIsReadOnlyForIncomingUser:eZ,updateDocumentEditor:ec,user:eb}),permissions:B,readOnlyForIncomingUser:e$,redirectAfterDelete:et,redirectAfterDuplicate:en,redirectAfterRestore:el,slug:(null==ej?void 0:ej.slug)||(null==eS?void 0:eS.slug),user:L}),(0,u.jsxs)("div",{className:["".concat(yp,"__main-wrapper"),"popup"===eO&&"".concat(yp,"--detached")].filter(Boolean).join(" "),children:[(0,u.jsxs)("div",{className:["".concat(yp,"__main"),"popup"===eO&&"".concat(yp,"__main--popup-open")].filter(Boolean).join(" "),children:[(0,u.jsx)(d1,{AfterFields:D,BeforeFields:A||(0,u.jsxs)(o.Fragment,{children:[eq&&(0,u.jsx)(yi,{className:"".concat(yp,"__auth"),collectionSlug:ej.slug,disableLocalStrategy:null==(m=ej.auth)?void 0:m.disableLocalStrategy,email:null==O?void 0:O.email,loginWithUsername:null==eq?void 0:eq.loginWithUsername,operation:eH,readOnly:!K,requirePassword:!N,setValidateBeforeSubmit:e9,useAPIKey:eq.useAPIKey,username:null==O?void 0:O.username,verify:eq.verify}),eW&&(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(dw,{children:_||(0,u.jsx)(p4,{collectionSlug:ej.slug,initialState:G,uploadConfig:eW,UploadControls:k})})})]}),Description:b,docPermissions:B,fields:eK.fields,forceSidebarWrap:eL,isTrashed:Z,readOnly:e$||!K||Z,schemaPathSegments:e5}),P]}),eR&&!eg&&eM&&(0,u.jsx)(u.Fragment,{children:x||(0,u.jsx)(yn,{collectionSlug:R,globalSlug:q})})]})]},"".concat($))})})}var yf=e=>{let{children:t}=e;return(0,u.jsx)("div",{className:"field-diff-label",children:t})},ym="field-diff",yg=e=>{let{className:t,From:n,i18n:l,label:{label:a,locale:o},nestingLevel:r=0,To:i}=e;return(0,u.jsxs)("div",{className:"".concat(ym,"-container").concat(t?" ".concat(t):""," nested-level-").concat(r),style:r?{"--left-offset":"calc(50%  - (".concat(r," * calc( calc(var(--base)* 0.5) - 2.5px  )))")}:{"--left-offset":"50%"},children:[(0,u.jsxs)(yf,{children:[o&&(0,u.jsx)("span",{className:"".concat(ym,"__locale-label"),children:o}),"function"!=typeof a&&(0,d.s)(a||"",l)]}),(0,u.jsxs)("div",{className:"".concat(ym,"-content"),style:r?{gridTemplateColumns:"calc(var(--left-offset) - calc(var(--base)*0.5) )     calc(50% - calc(var(--base)*0.5) + calc(50% - var(--left-offset)))"}:void 0,children:[n,i]})]})}}}]);