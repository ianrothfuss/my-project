"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5089],{114:(e,t,r)=>{r.d(t,{Ay:()=>c,_J:()=>l,j1:()=>i});let o=String.prototype.replace,a=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"},l={RFC1738:function(e){return o.call(e,a,"+")},RFC3986:function(e){return String(e)}},i=n.RFC1738;n.RFC3986;let c=n.RFC3986},11371:(e,t,r)=>{r.d(t,{D4:()=>u,F7:()=>h,Pe:()=>p,gd:()=>y,h1:()=>s,kg:()=>m,lF:()=>d,oE:()=>f});var o=r(114);let a=Object.prototype.hasOwnProperty,n=Array.isArray,l=function(){let e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e){for(;e.length>1;){let t=e.pop(),r=t.obj[t.prop];if(n(r)){let e=[];for(let t=0;t<r.length;++t)void 0!==r[t]&&e.push(r[t]);t.obj[t.prop]=e}}},c=function(e,t){let r=t&&t.plainObjects?Object.create(null):{};for(let t=0;t<e.length;++t)void 0!==e[t]&&(r[t]=e[t]);return r},s=function e(t,r,o){if(!r)return t;if("object"!=typeof r){if(n(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(o&&(o.plainObjects||o.allowPrototypes)||!a.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);let l=t;return(n(t)&&!n(r)&&(l=c(t,o)),n(t)&&n(r))?(r.forEach(function(r,n){if(a.call(t,n)){let a=t[n];a&&"object"==typeof a&&r&&"object"==typeof r?t[n]=e(a,r,o):t.push(r)}else t[n]=r}),t):Object.keys(r).reduce(function(t,n){let l=r[n];return a.call(t,n)?t[n]=e(t[n],l,o):t[n]=l,t},l)},u=function(e,t,r){let o=e.replace(/\+/g," ");if("iso-8859-1"===r)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(e){return o}},d=function(e,t,r,a,n){if(0===e.length)return e;let i=e;if("symbol"==typeof e?i=Symbol.prototype.toString.call(e):"string"!=typeof e&&(i=String(e)),"iso-8859-1"===r)return escape(i).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});let c="";for(let e=0;e<i.length;e+=1024){let t=i.length>=1024?i.slice(e,e+1024):i,r=[];for(let e=0;e<t.length;++e){let a=t.charCodeAt(e);if(45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||n===o.j1&&(40===a||41===a)){r[r.length]=t.charAt(e);continue}if(a<128){r[r.length]=l[a];continue}if(a<2048){r[r.length]=l[192|a>>6]+l[128|63&a];continue}if(a<55296||a>=57344){r[r.length]=l[224|a>>12]+l[128|a>>6&63]+l[128|63&a];continue}e+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(e)),r[r.length]=l[240|a>>18]+l[128|a>>12&63]+l[128|a>>6&63]+l[128|63&a]}c+=r.join("")}return c},f=function(e){let t=[{obj:{o:e},prop:"o"}],r=[];for(let e=0;e<t.length;++e){let o=t[e],a=o.obj[o.prop],n=Object.keys(a);for(let e=0;e<n.length;++e){let o=n[e],l=a[o];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:a,prop:o}),r.push(l))}}return i(t),e},y=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},p=function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},m=function(e,t){return[].concat(e,t)},h=function(e,t){if(n(e)){let r=[];for(let o=0;o<e.length;o+=1)r.push(t(e[o]));return r}return t(e)}},38079:(e,t,r)=>{r.d(t,{A:()=>h});var o=r(11371),a=r(114);let n=Object.prototype.hasOwnProperty,l={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},i=Array.isArray,c=Array.prototype.push,s=function(e,t){c.apply(e,i(t)?t:[t])},u=Date.prototype.toISOString,d=a.Ay,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:o.lF,encodeValuesOnly:!1,format:d,formatter:a._J[d],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},y={},p=function(e,t,r,a,n,l,c,u,d,m,h,b,w,v,E,g,C,k){var S;let j,D=e,A=k,P=0,F=!1;for(;void 0!==(A=A.get(y))&&!F;){let t=A.get(e);if(P+=1,void 0!==t)if(t===P)throw RangeError("Cyclic object value");else F=!0;void 0===A.get(y)&&(P=0)}if("function"==typeof m?D=m(t,D):D instanceof Date?D=w(D):"comma"===r&&i(D)&&(D=o.F7(D,function(e){return e instanceof Date?w(e):e})),null===D){if(l)return d&&!g?d(t,f.encoder,C,"key",v):t;D=""}if("string"==typeof(S=D)||"number"==typeof S||"boolean"==typeof S||"symbol"==typeof S||"bigint"==typeof S||o.Pe(D))return d?[E(g?t:d(t,f.encoder,C,"key",v))+"="+E(d(D,f.encoder,C,"value",v))]:[E(t)+"="+E(String(D))];let T=[];if(void 0===D)return T;if("comma"===r&&i(D))g&&d&&(D=o.F7(D,d)),j=[{value:D.length>0?D.join(",")||null:void 0}];else if(i(m))j=m;else{let e=Object.keys(D);j=h?e.sort(h):e}let O=u?t.replace(/\./g,"%2E"):t,I=a&&i(D)&&1===D.length?O+"[]":O;if(n&&i(D)&&0===D.length)return I+"[]";for(let t=0;t<j.length;++t){let o=j[t],f="object"==typeof o&&void 0!==o.value?o.value:D[o];if(c&&null===f)continue;let S=b&&u?o.replace(/\./g,"%2E"):o,A=i(D)?"function"==typeof r?r(I,S):I:I+(b?"."+S:"["+S+"]");k.set(e,P);let F=new WeakMap;F.set(y,k),s(T,p(f,A,r,a,n,l,c,u,"comma"===r&&g&&i(D)?null:d,m,h,b,w,v,E,g,C,F))}return T},m=function(e){let t;if(!e)return f;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");let r=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let o=a.Ay;if(void 0!==e.format){if(!n.call(a._J,e.format))throw TypeError("Unknown format option provided.");o=e.format}let c=a._J[o],s=f.filter;if(("function"==typeof e.filter||i(e.filter))&&(s=e.filter),t=e.arrayFormat in l?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":f.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");let u=void 0===e.allowDots?!0===e.encodeDotInKeys||f.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:t,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:f.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:s,format:o,formatter:c,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}};function h(e,t){let r,o=e,a=m(t);"function"==typeof a.filter?o=(0,a.filter)("",o):i(a.filter)&&(r=a.filter);let n=[];if("object"!=typeof o||null===o)return"";let c=l[a.arrayFormat],u="comma"===c&&a.commaRoundTrip;r||(r=Object.keys(o)),a.sort&&r.sort(a.sort);let d=new WeakMap;for(let e=0;e<r.length;++e){let t=r[e];a.skipNulls&&null===o[t]||s(n,p(o[t],t,c,u,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,d))}let f=n.join(a.delimiter),y=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),f.length>0?y+f:""}},45089:(e,t,r)=>{r.d(t,{i4:()=>o,_c:()=>a.useAddresses,_$:()=>a.useCart,H2:()=>a.useCurrency,lH:()=>a.usePayments});let o=[{label:"United States",value:"US"},{label:"United Kingdom",value:"GB"},{label:"Canada",value:"CA"},{label:"Australia",value:"AU"},{label:"Austria",value:"AT"},{label:"Belgium",value:"BE"},{label:"Brazil",value:"BR"},{label:"Bulgaria",value:"BG"},{label:"Cyprus",value:"CY"},{label:"Czech Republic",value:"CZ"},{label:"Denmark",value:"DK"},{label:"Estonia",value:"EE"},{label:"Finland",value:"FI"},{label:"France",value:"FR"},{label:"Germany",value:"DE"},{label:"Greece",value:"GR"},{label:"Hong Kong",value:"HK"},{label:"Hungary",value:"HU"},{label:"India",value:"IN"},{label:"Ireland",value:"IE"},{label:"Italy",value:"IT"},{label:"Japan",value:"JP"},{label:"Latvia",value:"LV"},{label:"Lithuania",value:"LT"},{label:"Luxembourg",value:"LU"},{label:"Malaysia",value:"MY"},{label:"Malta",value:"MT"},{label:"Mexico",value:"MX"},{label:"Netherlands",value:"NL"},{label:"New Zealand",value:"NZ"},{label:"Norway",value:"NO"},{label:"Poland",value:"PL"},{label:"Portugal",value:"PT"},{label:"Romania",value:"RO"},{label:"Singapore",value:"SG"},{label:"Slovakia",value:"SK"},{label:"Slovenia",value:"SI"},{label:"Spain",value:"ES"},{label:"Sweden",value:"SE"},{label:"Switzerland",value:"CH"}];r(88169);var a=r(67467)},67467:(e,t,r)=>{r.d(t,{EcommerceProvider:()=>s,useAddresses:()=>p,useCart:()=>f,useCurrency:()=>d,useEcommerce:()=>u,usePayments:()=>y});var o=r(93495),a=r(83220),n=r(38079),l=r(3391);let i=(0,l.createContext)({addItem:async()=>{},clearCart:async()=>{},confirmOrder:async()=>{},createAddress:async()=>{},currenciesConfig:{defaultCurrency:"USD",supportedCurrencies:[{code:"USD",decimals:2,label:"US Dollar",symbol:"$"}]},currency:{code:"USD",decimals:2,label:"US Dollar",symbol:"$"},decrementItem:async()=>{},incrementItem:async()=>{},initiatePayment:async()=>{},paymentMethods:[],removeItem:async()=>{},setCurrency:()=>{},updateAddress:async()=>{}}),c={key:"cart"},s=e=>{let{addressesSlug:t="addresses",api:r,cartsSlug:s="carts",children:u,currenciesConfig:d={defaultCurrency:"USD",supportedCurrencies:[{code:"USD",decimals:2,label:"US Dollar",symbol:"$"}]},customersSlug:f="users",debug:y=!1,paymentMethods:p=[],syncLocalStorage:m=!0}=e,h=m&&"object"==typeof m?{...c,...m}:c,{apiRoute:b="/api",cartsFetchQuery:w={},serverURL:v=""}=r||{},E="".concat(v).concat(b),[g,C]=(0,l.useState)(null),[k,S]=(0,l.useState)(),j=(0,l.useRef)(!1),[D,A]=(0,l.useState)(),[P,F]=(0,l.useState)(),[T,O]=(0,l.useState)(()=>d.supportedCurrencies.find(e=>e.code===d.defaultCurrency)),[I,N]=(0,l.useState)(null),x=(0,l.useMemo)(()=>{let e="priceIn".concat(T.code);return(0,a.p)({depth:0,populate:{products:{[e]:!0},variants:{options:!0,[e]:!0}},select:{items:!0,subtotal:!0}},w)},[T.code,w]),U=(0,l.useCallback)(async e=>{let t=n.A(x),r=await fetch("".concat(E,"/").concat(s,"?").concat(t),{body:JSON.stringify({...e,currency:T.code,customer:null==g?void 0:g.id}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(!r.ok){let e=await r.text();throw Error("Failed to create cart: ".concat(e))}let o=await r.json();if(o.error)throw Error("Cart creation error: ".concat(o.error));return o.doc},[E,x,s,T.code,null==g?void 0:g.id]),R=(0,l.useCallback)(async e=>{let t=n.A(x),r=await fetch("".concat(E,"/").concat(s,"/").concat(e,"?").concat(t),{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"});if(!r.ok){let e=await r.text();throw Error("Failed to fetch cart: ".concat(e))}let o=await r.json();if(o.error)throw Error("Cart fetch error: ".concat(o.error));return o},[E,x,s]),H=(0,l.useCallback)(async(e,t)=>{let r=n.A(x),o=await fetch("".concat(E,"/").concat(s,"/").concat(e,"?").concat(r),{body:JSON.stringify(t),credentials:"include",headers:{"Content-Type":"application/json"},method:"PATCH"});if(!o.ok){let e=await o.text();throw Error("Failed to update cart: ".concat(e))}F((await o.json()).doc)},[E,x,s]),K=(0,l.useCallback)(async e=>{let t=await fetch("".concat(E,"/").concat(s,"/").concat(e),{credentials:"include",headers:{"Content-Type":"application/json"},method:"DELETE"});if(!t.ok){let e=await t.text();throw Error("Failed to update cart: ".concat(e))}F(void 0),A(void 0)},[E,s]);(0,l.useEffect)(()=>{j.current&&m&&D&&localStorage.setItem(h.key,D)},[D,h.key,m]);let B=(0,l.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(D){var r,o,a;let n=await R(D);if(!n){A(void 0),F(void 0);return}let l=null!=(o=null==(r=n.items)?void 0:r.findIndex(t=>{let r="object"==typeof t.product?t.product.id:e.product,o=t.variant&&"object"==typeof t.variant?t.variant.id:e.variant;return r===e.product&&(!e.variant||!o||o===e.variant)}))?o:-1,i=n.items?[...n.items]:[];-1!==l?(i[l].quantity=i[l].quantity+t,await H(D,{items:i})):i=[...null!=(a=n.items)?a:[],{...e,quantity:t}],await H(D,{items:i})}else{let r=await U({items:[{...e,quantity:t}]});A(r.id),F(r)}},[D,U,R,H]),J=(0,l.useCallback)(async e=>{var t,r;if(!D)return;let o=await R(D);if(!o){A(void 0),F(void 0);return}let a=null!=(r=null==(t=o.items)?void 0:t.findIndex(t=>t.id===e))?r:-1;if(-1!==a){let e=o.items?[...o.items]:[];e.splice(a,1),await H(D,{items:e})}},[D,R,H]),M=(0,l.useCallback)(async e=>{var t,r,o;if(!D)return;let a=await R(D);if(!a){A(void 0),F(void 0);return}let n=null!=(r=null==(t=a.items)?void 0:t.findIndex(t=>t.id===e))?r:-1,l=a.items?[...a.items]:[];-1!==n?l[n].quantity=l[n].quantity+1:l=[...null!=(o=a.items)?o:[],{product:e,quantity:1}],await H(D,{items:l})},[D,R,H]),_=(0,l.useCallback)(async e=>{var t,r;if(!D)return;let o=await R(D);if(!o){A(void 0),F(void 0);return}let a=null!=(r=null==(t=o.items)?void 0:t.findIndex(t=>t.id===e))?r:-1,n=o.items?[...o.items]:[];-1!==a&&(n[a].quantity=n[a].quantity-1,n[a].quantity<=0&&n.splice(a,1),await H(D,{items:n}))},[D,R,H]),z=(0,l.useCallback)(async()=>{D&&await K(D)},[D,K]),G=(0,l.useCallback)(e=>{if(T.code===e)return;let t=d.supportedCurrencies.find(t=>t.code===e);if(!t)throw Error('Currency with code "'.concat(e,'" not found in config'));O(t)},[d.supportedCurrencies,T.code]),L=(0,l.useCallback)(async(e,t)=>{let r=p.find(t=>t.name===e);if(!r)throw Error('Payment method with ID "'.concat(e,'" not found'));if(!D)throw Error("No cart is provided.");if(N(e),r.initiatePayment){let r="".concat(E,"/payments/").concat(e,"/initiate"),o={cartID:D,currency:T.code};try{let e=await fetch(r,{body:JSON.stringify({...o,...(null==t?void 0:t.additionalData)||{}}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(!e.ok){let t=await e.text();throw Error(t)}let a=await e.json();if(a.error)throw Error(a.error);return a}catch(e){throw y&&console.error("Error initiating payment:",e),Error(e instanceof Error?e.message:"Failed to initiate payment")}}throw Error('Payment method "'.concat(e,'" does not support payment initiation'))},[E,D,y,p,T.code]),q=(0,l.useCallback)(async(e,t)=>{if(!D)throw Error("Cart is empty.");let r=p.find(t=>t.name===e);if(!r)throw Error('Payment method with ID "'.concat(e,'" not found'));if(r.confirmOrder){let r="".concat(E,"/payments/").concat(e,"/confirm-order"),o={cartID:D,currency:T.code},a=await fetch(r,{body:JSON.stringify({...o,...(null==t?void 0:t.additionalData)||{}}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(!a.ok)throw Error(await a.text());let n=await a.json();if(n.error)throw Error(n.error);return n}throw Error('Payment method "'.concat(e,'" does not support order confirmation'))},[E,D,p,T.code]),V=(0,l.useCallback)(async()=>{try{let e=n.A({depth:0,select:{id:!0,carts:!0}}),t=await fetch("".concat(E,"/").concat(f,"/me?").concat(e),{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"});if(!t.ok){let e=await t.text();throw Error("Failed to fetch user: ".concat(e))}let r=await t.json();if(r.error)throw Error("User fetch error: ".concat(r.error));if(r.user)return C(r.user),r.user}catch(e){throw y&&console.error("Error fetching user:",e),C(null),Error("Failed to fetch user: ".concat(e instanceof Error?e.message:"Unknown error"))}},[E,f,y]),Q=(0,l.useCallback)(async()=>{if(g)try{let e=n.A({depth:0,limit:0,pagination:!1}),r=await fetch("".concat(E,"/").concat(t,"?").concat(e),{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"});if(!r.ok){let e=await r.text();throw Error(e)}let o=await r.json();if(o.error)throw Error("Address fetch error: ".concat(o.error));o.docs&&o.docs.length>0&&S(o.docs)}catch(e){throw y&&console.error("Error fetching addresses:",e),S(void 0),Error("Failed to fetch addresses: ".concat(e instanceof Error?e.message:"Unknown error"))}},[g,E,t,y]),$=(0,l.useCallback)(async(e,r)=>{if(!g)throw Error("User must be logged in to update or create an address");try{let o=await fetch("".concat(E,"/").concat(t,"/").concat(e),{body:JSON.stringify(r),credentials:"include",headers:{"Content-Type":"application/json"},method:"PATCH"});if(!o.ok){let e=await o.text();throw Error("Failed to update or create address: ".concat(e))}let a=await o.json();if(a.error)throw Error("Address update/create error: ".concat(a.error));await Q()}catch(e){throw y&&console.error("Error updating or creating address:",e),Error("Failed to update or create address: ".concat(e instanceof Error?e.message:"Unknown error"))}},[g,E,t,Q,y]),Z=(0,l.useCallback)(async e=>{if(!g)throw Error("User must be logged in to update or create an address");try{let r=await fetch("".concat(E,"/").concat(t),{body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(!r.ok){let e=await r.text();throw Error("Failed to update or create address: ".concat(e))}let o=await r.json();if(o.error)throw Error("Address update/create error: ".concat(o.error));await Q()}catch(e){throw y&&console.error("Error updating or creating address:",e),Error("Failed to update or create address: ".concat(e instanceof Error?e.message:"Unknown error"))}},[g,E,t,Q,y]);return(0,l.useEffect)(()=>{if(!j.current){if(m){let e=localStorage.getItem(h.key);e&&R(e).then(t=>{F(t),A(e)}).catch(e=>{localStorage.removeItem(h.key),A(void 0),F(void 0)})}j.current=!0,V().then(e=>{var t;if(e&&(null==(t=e.cart)?void 0:t.docs)&&e.cart.docs.length>0){let t="object"==typeof e.cart.docs[0]?e.cart.docs[0].id:e.cart.docs[0];t&&R(t).then(e=>{F(e),A(t)}).catch(e=>{throw y&&console.error("Error fetching user cart:",e),F(void 0),A(void 0),Error("Failed to fetch user cart: ".concat(e.message))})}})}},[y,Q,R,V,h.key,m]),(0,l.useEffect)(()=>{g?Q():S(void 0)},[Q,g]),(0,o.jsx)(i,{value:{addItem:B,addresses:k,cart:P,clearCart:z,confirmOrder:q,createAddress:Z,currenciesConfig:d,currency:T,decrementItem:_,incrementItem:M,initiatePayment:L,paymentMethods:p,removeItem:J,selectedPaymentMethod:I,setCurrency:G,updateAddress:$},children:u})},u=()=>{let e=(0,l.use)(i);if(!e)throw Error("useEcommerce must be used within an EcommerceProvider");return e},d=()=>{let{currenciesConfig:e,currency:t,setCurrency:r}=u(),o=(0,l.useCallback)((e,r)=>{if(null==e)return"";let o=(null==r?void 0:r.currency)||t;if(!o)return e.toString();if(0===e)return"".concat(o.symbol,"0.").concat("0".repeat(o.decimals));let a=e/Math.pow(10,o.decimals);return"".concat(o.symbol).concat(a.toFixed(o.decimals))},[t]);if(!t)throw Error("useCurrency must be used within an EcommerceProvider");return{currency:t,formatCurrency:o,setCurrency:r,supportedCurrencies:e.supportedCurrencies}};function f(){let{addItem:e,cart:t,clearCart:r,decrementItem:o,incrementItem:a,removeItem:n}=u();if(!e)throw Error("useCart must be used within an EcommerceProvider");return{addItem:e,cart:t,clearCart:r,decrementItem:o,incrementItem:a,removeItem:n}}let y=()=>{let{confirmOrder:e,initiatePayment:t,paymentMethods:r,selectedPaymentMethod:o}=u();if(!t)throw Error("usePayments must be used within an EcommerceProvider");return{confirmOrder:e,initiatePayment:t,paymentMethods:r,selectedPaymentMethod:o}};function p(){let{addresses:e,createAddress:t,updateAddress:r}=u();if(!t)throw Error("usePayments must be used within an EcommerceProvider");return{addresses:e,createAddress:t,updateAddress:r}}},83220:(e,t,r)=>{r.d(t,{p:()=>function e(t,r){let o={...t};for(let a in r)Object.prototype.hasOwnProperty.call(r,a)&&("object"==typeof r[a]&&!Array.isArray(r[a])&&t[a]?o[a]=e(t[a],r[a]):o[a]=r[a]);return o}})},88169:(e,t,r)=>{r.d(t,{B3:()=>o});let o={code:"USD",decimals:2,label:"US Dollar",symbol:"$"}}}]);