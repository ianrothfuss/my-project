(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[460],{8503:(e,t,r)=>{"use strict";r.d(t,{k:()=>c});var s=r(93495);r(3391);var l=r(14632),a=r(14743),i=r(27275);let n=(0,a.F)("flex-col items-center justify-center",{variants:{show:{true:"flex",false:"hidden"}},defaultVariants:{show:!0}}),o=(0,a.F)("animate-spin text-primary",{variants:{size:{small:"size-6",medium:"size-8",large:"size-12"}},defaultVariants:{size:"medium"}});function c(e){let{size:t,show:r,children:a,className:c}=e;return(0,s.jsxs)("span",{className:n({show:r}),children:[(0,s.jsx)(i.A,{className:(0,l.cn)(o({size:t}),c)}),a]})}},17436:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});let s={breakpoints:{l:1440,m:1024,s:768},colors:{base0:"rgb(255, 255, 255)",base100:"rgb(235, 235, 235)",base500:"rgb(128, 128, 128)",base850:"rgb(34, 34, 34)",base1000:"rgb(0, 0, 0)",error500:"rgb(255, 111, 118)"}}},18471:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var s=r(93495),l=r(27183);r(3391);let a=e=>{let{className:t,error:r,message:a,success:i,warning:n}=e,o=a||r||i||n;return o?(0,s.jsx)("div",{className:(0,l.A)("p-4 my-8 rounded-lg",{"bg-success ":!!i," bg-warning":!!n,"bg-error":!!r},t),children:o}):null}},23380:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Price:()=>i});var s=r(93495),l=r(45089),a=r(3391);let i=e=>{let{amount:t,className:r,highestAmount:i,lowestAmount:n,currencyCode:o,as:c="p"}=e,{formatCurrency:d,supportedCurrencies:u}=(0,l.H2)(),h=(0,a.useMemo)(()=>{if(o)return u.find(e=>e.code===o)},[o,u]);return"number"==typeof t?(0,s.jsx)(c,{className:r,suppressHydrationWarning:!0,children:d(t,{currency:h})}):i&&i!==n?(0,s.jsx)(c,{className:r,suppressHydrationWarning:!0,children:"".concat(d(n,{currency:h})," - ").concat(d(i,{currency:h}))}):n?(0,s.jsx)(c,{className:r,suppressHydrationWarning:!0,children:"".concat(d(n,{currency:h}))}):null}},24896:(e,t,r)=>{"use strict";r.d(t,{Image:()=>o});var s=r(93495),l=r(14632),a=r(90659),i=r(3391);let{breakpoints:n}=r(17436).L,o=e=>{let t,r,{alt:o,fill:c,height:d,imgClassName:u,onClick:h,onLoad:m,priority:p,resource:x,size:g,src:f,width:j}=e,[v,y]=i.useState(!0),b=o,w=f||"";if(!w&&x&&"object"==typeof x){let{alt:e,filename:s,height:l,url:a,width:i}=x;t=null!=j?j:i,r=null!=d?d:l,b=e,w="".concat("http://localhost:3000").concat(a)}let k=g||Object.entries(n).map(e=>{let[,t]=e;return"(max-width: ".concat(t,"px) ").concat(t,"px")}).join(", ");return(0,s.jsx)(a.default,{alt:b||"",className:(0,l.cn)(u),fill:c,height:c?void 0:r||d,onClick:h,onLoad:()=>{y(!1),"function"==typeof m&&m()},priority:p,quality:90,sizes:k,src:w,width:c?void 0:t||j})}},55778:(e,t,r)=>{"use strict";r.d(t,{Video:()=>i});var s=r(93495),l=r(14632),a=r(3391);let i=e=>{let{onClick:t,resource:r,videoClassName:i}=e,n=(0,a.useRef)(null);if((0,a.useEffect)(()=>{let{current:e}=n;e&&e.addEventListener("suspend",()=>{})},[]),r&&"object"==typeof r){let{filename:e}=r;return(0,s.jsx)("video",{autoPlay:!0,className:(0,l.cn)(i),controls:!1,loop:!0,muted:!0,onClick:t,playsInline:!0,ref:n,children:(0,s.jsx)("source",{src:"".concat("http://localhost:3000","/media/").concat(e)})})}return null}},63044:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,AuthProvider:()=>i});var s=r(93495),l=r(3391);let a=(0,l.createContext)({}),i=e=>{let{children:t}=e,[r,i]=(0,l.useState)(),[n,o]=(0,l.useState)(),c=(0,l.useCallback)(async e=>{try{let r=await fetch("".concat("http://localhost:3000","/api/users/create"),{body:JSON.stringify({email:e.email,password:e.password,passwordConfirm:e.passwordConfirm}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(r.ok){var t;let{data:e,errors:s}=await r.json();if(s)throw Error(s[0].message);i(null==e||null==(t=e.loginUser)?void 0:t.user),o("loggedIn")}else throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]),d=(0,l.useCallback)(async e=>{try{let t=await fetch("".concat("http://localhost:3000","/api/users/login"),{body:JSON.stringify({email:e.email,password:e.password}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(t.ok){let{errors:e,user:r}=await t.json();if(e)throw Error(e[0].message);return i(r),o("loggedIn"),r}throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]),u=(0,l.useCallback)(async()=>{try{if((await fetch("".concat("http://localhost:3000","/api/users/logout"),{credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"})).ok)i(null),o("loggedOut");else throw Error("An error occurred while attempting to logout.")}catch(e){throw Error("An error occurred while attempting to logout.")}},[]);(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat("http://localhost:3000","/api/users/me"),{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"});if(e.ok){let{user:t}=await e.json();i(t||null),o(t?"loggedIn":void 0)}else throw Error("An error occurred while fetching your account.")}catch(e){throw i(null),Error("An error occurred while fetching your account.")}})()},[]);let h=(0,l.useCallback)(async e=>{try{let r=await fetch("".concat("http://localhost:3000","/api/users/forgot-password"),{body:JSON.stringify({email:e.email}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(r.ok){var t;let{data:e,errors:s}=await r.json();if(s)throw Error(s[0].message);i(null==e||null==(t=e.loginUser)?void 0:t.user)}else throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]),m=(0,l.useCallback)(async e=>{try{let s=await fetch("".concat("http://localhost:3000","/api/users/reset-password"),{body:JSON.stringify({password:e.password,passwordConfirm:e.passwordConfirm,token:e.token}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(s.ok){var t,r;let{data:e,errors:l}=await s.json();if(l)throw Error(l[0].message);i(null==e||null==(t=e.loginUser)?void 0:t.user),o((null==e||null==(r=e.loginUser)?void 0:r.user)?"loggedIn":void 0)}else throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]);return(0,s.jsx)(a.Provider,{value:{create:c,forgotPassword:h,login:d,logout:u,resetPassword:m,setUser:i,status:n,user:r},children:t})},n=()=>(0,l.useContext)(a)},64244:(e,t,r)=>{"use strict";r.d(t,{S:()=>s});let s=!!window.document&&!!window.document.createElement},71749:(e,t,r)=>{Promise.resolve().then(r.bind(r,76072))},76072:(e,t,r)=>{"use strict";r.d(t,{CheckoutPage:()=>_});var s=r(93495),l=r(87102),a=r(18471),i=r(23380),n=r(59046),o=r(39822),c=r(66068),d=r(63044),u=r(94749),h=r(73714),m=r(46182),p=r(42919),x=r.n(p),g=r(49464),f=r(3391),j=r(17436),v=r(45089);let y=e=>{let{customerEmail:t,billingAddress:r,setProcessingPayment:l}=e,i=(0,h.useStripe)(),o=(0,h.useElements)(),[c,d]=f.useState(null),[u,m]=f.useState(!1),p=(0,g.useRouter)(),{clearCart:x}=(0,v._$)(),{confirmOrder:j}=(0,v.lH)(),y=(0,f.useCallback)(async e=>{if(e.preventDefault(),m(!0),l(!0),i&&o)try{let e="".concat("http://localhost:3000","/checkout/confirm-order").concat(t?"?email=".concat(t):""),{error:s,paymentIntent:l}=await i.confirmPayment({confirmParams:{return_url:e,payment_method_data:{billing_details:{email:t,phone:null==r?void 0:r.phone,address:{line1:null==r?void 0:r.addressLine1,line2:null==r?void 0:r.addressLine2,city:null==r?void 0:r.city,state:null==r?void 0:r.state,postal_code:null==r?void 0:r.postalCode,country:null==r?void 0:r.country}}}},elements:o,redirect:"if_required"});if(l&&"succeeded"===l.status)try{let e=await j("stripe",{additionalData:{paymentIntentID:l.id,...t?{customerEmail:t}:{}}});if(e&&"object"==typeof e&&"orderID"in e&&e.orderID){let r="/orders/".concat(e.orderID).concat(t?"?email=".concat(t):"");x(),p.push(r)}}catch(t){console.log({err:t});let e=t instanceof Error?t.message:"Something went wrong.";d("Error while confirming order: ".concat(e)),m(!1)}(null==s?void 0:s.message)&&(d(s.message),m(!1))}catch(t){let e=t instanceof Error?t.message:"Something went wrong.";d("Error while submitting payment: ".concat(e)),m(!1),l(!1)}},[l,i,o,t,null==r?void 0:r.phone,null==r?void 0:r.addressLine1,null==r?void 0:r.addressLine2,null==r?void 0:r.city,null==r?void 0:r.state,null==r?void 0:r.postalCode,null==r?void 0:r.country,j,x,p]);return(0,s.jsxs)("form",{onSubmit:y,children:[c&&(0,s.jsx)(a.Q,{error:c}),(0,s.jsx)(h.PaymentElement,{}),(0,s.jsx)("div",{className:"mt-8 flex gap-4",children:(0,s.jsx)(n.$,{disabled:!i||u,type:"submit",variant:"default",children:u?"Loading...":"Pay now"})})]})};var b=r(20787),w=r(94696),k=r(58002);let N=e=>{let{setAddress:t,heading:r="Addresses",description:l="Please select or add your shipping and billing addresses."}=e,{addresses:a}=(0,v._c)();return a&&0!==a.length?(0,s.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-medium mb-2",children:r}),(0,s.jsx)("p",{className:"text-muted-foreground",children:l})]}),(0,s.jsx)(S,{setAddress:t})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:"No addresses found. Please add an address."}),(0,s.jsx)(w.CreateAddressModal,{})]})},S=e=>{let{setAddress:t}=e,[r,l]=(0,f.useState)(!1),{addresses:a}=(0,v._c)();return a&&0!==a.length?(0,s.jsxs)(k.lG,{open:r,onOpenChange:e=>{l(e)},children:[(0,s.jsx)(k.zM,{asChild:!0,children:(0,s.jsx)(n.$,{variant:"outline",children:"Select an address"})}),(0,s.jsxs)(k.Cf,{children:[(0,s.jsx)(k.c7,{children:(0,s.jsx)(k.L3,{children:"Select an address"})}),(0,s.jsxs)("div",{className:"flex flex-col gap-12",children:[(0,s.jsx)("ul",{className:"flex flex-col gap-8",children:a.map(e=>(0,s.jsx)("li",{className:"border-b pb-8 last:border-none",children:(0,s.jsx)(b.AddressItem,{address:e,beforeActions:(0,s.jsx)(n.$,{onClick:r=>{r.preventDefault(),t(e),l(!1)},children:"Select"})})},e.id))}),(0,s.jsx)(w.CreateAddressModal,{})]})]})]}):(0,s.jsx)("p",{children:"No addresses found. Please add an address."})};var C=r(80761),E=r(86906),A=r(58373),P=r(8503);let I=(0,m.c)("".concat("pk_test_your_stripe_test_key_here")),_=()=>{var e;let{user:t}=(0,d.A)(),r=(0,g.useRouter)(),{cart:m}=(0,v._$)(),[p,k]=(0,f.useState)(null),{theme:S}=(0,u.D)(),[_,O]=(0,f.useState)(""),[T,L]=(0,f.useState)(!0),[D,$]=(0,f.useState)(null),{initiatePayment:z}=(0,v.lH)(),{addresses:H}=(0,v._c)(),[F,R]=(0,f.useState)(),[J,M]=(0,f.useState)(),[U,B]=(0,f.useState)(!0),[Q,W]=(0,f.useState)(!1),G=!m||!m.items||!m.items.length,V=!!((_||t)&&J&&(U||F));(0,f.useEffect)(()=>{if(!F&&H&&H.length>0){let e=H[0];e&&M(e)}},[H]),(0,f.useEffect)(()=>()=>{R(void 0),M(void 0),B(!0),O(""),L(!0)},[]);let q=(0,f.useCallback)(async e=>{try{let t=await z(e,{additionalData:{..._?{customerEmail:_}:{},billingAddress:J,shippingAddress:U?J:F}});t&&$(t)}catch(s){var t;let e={};try{e=s instanceof Error?JSON.parse(s.message):{}}catch(t){e={}}let r="An error occurred while initiating payment.";(null==e||null==(t=e.cause)?void 0:t.code)==="OutOfStock"&&(r="One or more items in your cart are out of stock."),k(r),A.oR.error(r)}},[J,U,F]);return I?G&&Q?(0,s.jsxs)("div",{className:"py-12 w-full items-center justify-center",children:[(0,s.jsx)("div",{className:"prose dark:prose-invert text-center max-w-none self-center mb-8",children:(0,s.jsx)("p",{children:"Processing your payment..."})}),(0,s.jsx)(P.k,{})]}):G?(0,s.jsxs)("div",{className:"prose dark:prose-invert py-12 w-full items-center",children:[(0,s.jsx)("p",{children:"Your cart is empty."}),(0,s.jsx)(x(),{href:"/search",children:"Continue shopping?"})]}):(0,s.jsxs)("div",{className:"flex flex-col items-stretch justify-stretch my-8 md:flex-row grow gap-10 md:gap-6 lg:gap-8",children:[(0,s.jsxs)("div",{className:"basis-full lg:basis-2/3 flex flex-col gap-8 justify-stretch",children:[(0,s.jsx)("h2",{className:"font-medium text-3xl",children:"Contact"}),!t&&(0,s.jsx)("div",{className:" bg-accent dark:bg-black rounded-lg p-4 w-full flex items-center",children:(0,s.jsxs)("div",{className:"prose dark:prose-invert",children:[(0,s.jsx)(n.$,{asChild:!0,className:"no-underline text-inherit",variant:"outline",children:(0,s.jsx)(x(),{href:"/login",children:"Log in"})}),(0,s.jsxs)("p",{className:"mt-0",children:[(0,s.jsx)("span",{className:"mx-2",children:"or"}),(0,s.jsx)(x(),{href:"/create-account",children:"create an account"})]})]})}),t?(0,s.jsx)("div",{className:"bg-accent dark:bg-card rounded-lg p-4 ",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:t.email})," ",(0,s.jsxs)("p",{children:["Not you?"," ",(0,s.jsx)(x(),{className:"underline",href:"/logout",children:"Log out"})]})]})}):(0,s.jsx)("div",{className:"bg-accent dark:bg-black rounded-lg p-4 ",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"mb-4",children:"Enter your email to checkout as a guest."}),(0,s.jsxs)(E.e,{className:"mb-6",children:[(0,s.jsx)(c.J,{htmlFor:"email",children:"Email Address"}),(0,s.jsx)(o.p,{disabled:!T,id:"email",name:"email",onChange:e=>O(e.target.value),required:!0,type:"email"})]}),(0,s.jsx)(n.$,{disabled:!_||!T,onClick:e=>{e.preventDefault(),L(!1)},variant:"default",children:"Continue as guest"})]})}),(0,s.jsx)("h2",{className:"font-medium text-3xl",children:"Address"}),J?(0,s.jsx)("div",{children:(0,s.jsx)(b.AddressItem,{actions:(0,s.jsx)(n.$,{variant:"outline",disabled:!!D,onClick:e=>{e.preventDefault(),M(void 0)},children:"Remove"}),address:J})}):t?(0,s.jsx)(N,{heading:"Billing address",setAddress:M}):(0,s.jsx)(w.CreateAddressModal,{disabled:!_||!!T,callback:e=>{M(e)},skipSubmission:!0}),(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsx)(C.S,{id:"shippingTheSameAsBilling",checked:U,disabled:!!(D||!t&&(!_||T)),onCheckedChange:e=>{B(e)}}),(0,s.jsx)(c.J,{htmlFor:"shippingTheSameAsBilling",children:"Shipping is the same as billing"})]}),!U&&(0,s.jsx)(s.Fragment,{children:F?(0,s.jsx)("div",{children:(0,s.jsx)(b.AddressItem,{actions:(0,s.jsx)(n.$,{variant:"outline",disabled:!!D,onClick:e=>{e.preventDefault(),R(void 0)},children:"Remove"}),address:F})}):t?(0,s.jsx)(N,{heading:"Shipping address",description:"Please select a shipping address.",setAddress:R}):(0,s.jsx)(w.CreateAddressModal,{callback:e=>{R(e)},disabled:!_||!!T,skipSubmission:!0})}),!D&&(0,s.jsx)(n.$,{className:"self-start",disabled:!V,onClick:e=>{e.preventDefault(),q("stripe")},children:"Go to payment"}),!(null==D?void 0:D.clientSecret)&&p&&(0,s.jsxs)("div",{className:"my-8",children:[(0,s.jsx)(a.Q,{error:p}),(0,s.jsx)(n.$,{onClick:e=>{e.preventDefault(),r.refresh()},variant:"default",children:"Try again"})]}),(0,s.jsx)(f.Suspense,{fallback:(0,s.jsx)(f.Fragment,{}),children:D&&(null==D?void 0:D.clientSecret)&&(0,s.jsxs)("div",{className:"pb-16",children:[(0,s.jsx)("h2",{className:"font-medium text-3xl",children:"Payment"}),p&&(0,s.jsx)("p",{children:"Error: ".concat(p)}),(0,s.jsx)(h.Elements,{options:{appearance:{theme:"stripe",variables:{borderRadius:"6px",colorPrimary:"#858585",gridColumnSpacing:"20px",gridRowSpacing:"20px",colorBackground:"dark"===S?"#0a0a0a":j.L.colors.base0,colorDanger:j.L.colors.error500,colorDangerText:j.L.colors.error500,colorIcon:"dark"===S?j.L.colors.base0:j.L.colors.base1000,colorText:"dark"===S?"#858585":j.L.colors.base1000,colorTextPlaceholder:"#858585",fontFamily:"Geist, sans-serif",fontSizeBase:"16px",fontWeightBold:"600",fontWeightNormal:"500",spacingUnit:"4px"}},clientSecret:D.clientSecret},stripe:I,children:(0,s.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,s.jsx)(y,{customerEmail:_,billingAddress:J,setProcessingPayment:W}),(0,s.jsx)(n.$,{variant:"ghost",className:"self-start",onClick:()=>$(null),children:"Cancel payment"})]})})]})})]}),!G&&(0,s.jsxs)("div",{className:"basis-full lg:basis-1/3 lg:pl-8 p-8 border-none bg-primary/5 flex flex-col gap-8 rounded-lg",children:[(0,s.jsx)("h2",{className:"text-3xl font-medium",children:"Your cart"}),null==m||null==(e=m.items)?void 0:e.map((e,t)=>{if("object"==typeof e.product&&e.product){var r,a,n;let{product:o,product:{id:c,meta:d,title:u,gallery:h},quantity:m,variant:p}=e;if(!m)return null;let x=(null==h||null==(r=h[0])?void 0:r.image)||(null==d?void 0:d.image),g=null==o?void 0:o.priceInUSD;if(p&&"object"==typeof p){g=null==p?void 0:p.priceInUSD;let e=null==(n=o.gallery)?void 0:n.find(e=>{var t;if(!e.variantOption)return!1;let r="object"==typeof e.variantOption?e.variantOption.id:e.variantOption;return null==p||null==(t=p.options)?void 0:t.some(e=>"object"==typeof e?e.id===r:e===r)});e&&"string"!=typeof e.image&&(x=e.image)}return(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"flex items-stretch justify-stretch h-20 w-20 p-2 rounded-lg border",children:(0,s.jsx)("div",{className:"relative w-full h-full",children:x&&"string"!=typeof x&&(0,s.jsx)(l.$,{className:"",fill:!0,imgClassName:"rounded-lg",resource:x})})}),(0,s.jsxs)("div",{className:"flex grow justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("p",{className:"font-medium text-lg",children:u}),p&&"object"==typeof p&&(0,s.jsx)("p",{className:"text-sm font-mono text-primary/50 tracking-[0.1em]",children:null==(a=p.options)?void 0:a.map(e=>"object"==typeof e?e.label:null).join(", ")}),(0,s.jsxs)("div",{children:["x",m]})]}),"number"==typeof g&&(0,s.jsx)(i.Price,{amount:g})]})]},t)}return null}),(0,s.jsx)("hr",{}),(0,s.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[(0,s.jsx)("span",{className:"uppercase",children:"Total"})," ",(0,s.jsx)(i.Price,{className:"text-3xl font-medium",amount:m.subtotal||0})]})]})]}):null}},80761:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});var s=r(93495);r(3391);var l=r(4547),a=r(31925),i=r(14632);function n(e){let{className:t,...r}=e;return(0,s.jsx)(l.bL,{"data-slot":"checkbox",className:(0,i.cn)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,s.jsx)(l.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,s.jsx)(a.A,{className:"size-3.5"})})})}},87102:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});var s=r(93495),l=r(3391),a=r(24896),i=r(55778);let n=e=>{var t;let{className:r,htmlElement:n="div",resource:o}=e,c="object"==typeof o&&(null==o||null==(t=o.mimeType)?void 0:t.includes("video")),d=n||l.Fragment;return(0,s.jsx)(d,{...null!==n?{className:r}:{},children:c?(0,s.jsx)(i.Video,{...e}):(0,s.jsx)(a.Image,{...e})})}},88236:(e,t,r)=>{"use strict";r.d(t,{H$:()=>s,ly:()=>a,zQ:()=>l});let s="payload-theme",l="light",a=()=>{let e=window.matchMedia("(prefers-color-scheme: dark)");return"boolean"==typeof e.matches?e.matches?"dark":"light":null}},94749:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>o,D:()=>c});var s=r(93495),l=r(3391),a=r(64244),i=r(88236);let n=(0,l.createContext)({setTheme:()=>null,theme:void 0}),o=e=>{let{children:t}=e,[r,o]=(0,l.useState)(a.S?document.documentElement.getAttribute("data-theme"):void 0),c=(0,l.useCallback)(e=>{if(null===e){window.localStorage.removeItem(i.H$);let e=(0,i.ly)();document.documentElement.setAttribute("data-theme",e||""),e&&o(e)}else o(e),window.localStorage.setItem(i.H$,e),document.documentElement.setAttribute("data-theme",e)},[]);return(0,l.useEffect)(()=>{let e=i.zQ,t=window.localStorage.getItem(i.H$);if(function(e){return!!e&&["dark","light"].includes(e)}(t))e=t;else{let t=(0,i.ly)();t&&(e=t)}document.documentElement.setAttribute("data-theme",e),o(e)},[]),(0,s.jsx)(n.Provider,{value:{setTheme:c,theme:r},children:t})},c=()=>(0,l.useContext)(n)}},e=>{e.O(0,[2919,6768,9566,5089,9318,3040,9082,1772,787,659,1263,7358],()=>e(e.s=71749)),_N_E=e.O()}]);