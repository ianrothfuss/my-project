(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3629],{14632:(e,r,t)=>{"use strict";t.d(r,{cn:()=>o});var s=t(27183),a=t(33886);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}},15827:(e,r,t)=>{"use strict";t.d(r,{j:()=>o});var s=t(93495),a=t(27183);let o=e=>{let{message:r,as:t,className:o}=e;return r?(0,s.jsx)(t||"p",{className:(0,a.A)("text-error text-sm",o),children:r}):null}},18471:(e,r,t)=>{"use strict";t.d(r,{Q:()=>o});var s=t(93495),a=t(27183);t(3391);let o=e=>{let{className:r,error:t,message:o,success:i,warning:n}=e,l=o||t||i||n;return l?(0,s.jsx)("div",{className:(0,a.A)("p-4 my-8 rounded-lg",{"bg-success ":!!i," bg-warning":!!n,"bg-error":!!t},r),children:l}):null}},19078:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,42919,23)),Promise.resolve().then(t.bind(t,21907)),Promise.resolve().then(t.bind(t,76771))},21907:(e,r,t)=>{"use strict";t.d(r,{LoginForm:()=>v});var s=t(93495),a=t(15827),o=t(86906),i=t(18471),n=t(59046),l=t(39822),c=t(66068),d=t(63044),u=t(42919),p=t.n(u),h=t(49464),m=t(3391),g=t(54299);let v=()=>{let e=(0,h.useSearchParams)(),r=e.toString()?"?".concat(e.toString()):"",t=(0,m.useRef)(e.get("redirect")),{login:u}=(0,d.A)(),v=(0,h.useRouter)(),[f,x]=m.useState(null),{formState:{errors:w,isLoading:b},handleSubmit:y,register:j}=(0,g.mN)(),k=(0,m.useCallback)(async e=>{try{await u(e),(null==t?void 0:t.current)?v.push(t.current):v.push("/account")}catch(e){x("There was an error with the credentials provided. Please try again.")}},[u,v]);return(0,s.jsxs)("form",{className:"",onSubmit:y(k),children:[(0,s.jsx)(i.Q,{className:"classes.message",error:f}),(0,s.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,s.jsxs)(o.e,{children:[(0,s.jsx)(c.J,{htmlFor:"email",children:"Email"}),(0,s.jsx)(l.p,{id:"email",type:"email",...j("email",{required:"Email is required."})}),w.email&&(0,s.jsx)(a.j,{message:w.email.message})]}),(0,s.jsxs)(o.e,{children:[(0,s.jsx)(c.J,{htmlFor:"password",children:"Password"}),(0,s.jsx)(l.p,{id:"password",type:"password",...j("password",{required:"Please provide a password."})}),w.password&&(0,s.jsx)(a.j,{message:w.password.message})]}),(0,s.jsx)("div",{className:"text-primary/70 mb-6 prose prose-a:hover:text-primary dark:prose-invert",children:(0,s.jsxs)("p",{children:["Forgot your password?"," ",(0,s.jsx)(p(),{href:"/recover-password".concat(r),children:"Click here to reset it"})]})})]}),(0,s.jsxs)("div",{className:"flex gap-4 justify-between",children:[(0,s.jsx)(n.$,{asChild:!0,variant:"outline",size:"lg",children:(0,s.jsx)(p(),{href:"/create-account".concat(r),className:"grow max-w-[50%]",children:"Create an account"})}),(0,s.jsx)(n.$,{className:"grow",disabled:b,size:"lg",type:"submit",variant:"default",children:b?"Processing":"Continue"})]})]})}},39822:(e,r,t)=>{"use strict";t.d(r,{p:()=>o});var s=t(93495);t(3391);var a=t(14632);function o(e){let{className:r,type:t,...o}=e;return(0,s.jsx)("input",{type:t,"data-slot":"input",className:(0,a.cn)("border-input bg-background file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...o})}},49464:(e,r,t)=>{"use strict";var s=t(57800);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}}),t.o(s,"useSelectedLayoutSegments")&&t.d(r,{useSelectedLayoutSegments:function(){return s.useSelectedLayoutSegments}})},59046:(e,r,t)=>{"use strict";t.d(r,{$:()=>l});var s=t(93495);t(3391);var a=t(55586),o=t(14743),i=t(14632);let n=(0,o.F)("relative inline-flex items-center justify-center hover:cursor-pointer gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90 ",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-card shadow-xs hover:bg-accent hover:bg-primary-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"text-primary/50 hover:text-primary/100 [&.active]:text-primary/100 py-2 px-4 uppercase font-mono tracking-[0.1em] text-xs",link:"text-primary underline-offset-4 hover:underline",nav:"text-primary/50 hover:text-primary/100 [&.active]:text-primary/100 p-0 pt-2 pb-6 uppercase font-mono tracking-[0.1em] text-xs"},size:{clear:"",default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:r,variant:t,size:o,asChild:l=!1,...c}=e,d=l?a.DX:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,i.cn)(n({variant:t,size:o,className:r})),...c})}},63044:(e,r,t)=>{"use strict";t.d(r,{A:()=>n,AuthProvider:()=>i});var s=t(93495),a=t(3391);let o=(0,a.createContext)({}),i=e=>{let{children:r}=e,[t,i]=(0,a.useState)(),[n,l]=(0,a.useState)(),c=(0,a.useCallback)(async e=>{try{let t=await fetch("".concat("http://localhost:3000","/api/users/create"),{body:JSON.stringify({email:e.email,password:e.password,passwordConfirm:e.passwordConfirm}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(t.ok){var r;let{data:e,errors:s}=await t.json();if(s)throw Error(s[0].message);i(null==e||null==(r=e.loginUser)?void 0:r.user),l("loggedIn")}else throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]),d=(0,a.useCallback)(async e=>{try{let r=await fetch("".concat("http://localhost:3000","/api/users/login"),{body:JSON.stringify({email:e.email,password:e.password}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(r.ok){let{errors:e,user:t}=await r.json();if(e)throw Error(e[0].message);return i(t),l("loggedIn"),t}throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]),u=(0,a.useCallback)(async()=>{try{if((await fetch("".concat("http://localhost:3000","/api/users/logout"),{credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"})).ok)i(null),l("loggedOut");else throw Error("An error occurred while attempting to logout.")}catch(e){throw Error("An error occurred while attempting to logout.")}},[]);(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat("http://localhost:3000","/api/users/me"),{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"});if(e.ok){let{user:r}=await e.json();i(r||null),l(r?"loggedIn":void 0)}else throw Error("An error occurred while fetching your account.")}catch(e){throw i(null),Error("An error occurred while fetching your account.")}})()},[]);let p=(0,a.useCallback)(async e=>{try{let t=await fetch("".concat("http://localhost:3000","/api/users/forgot-password"),{body:JSON.stringify({email:e.email}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(t.ok){var r;let{data:e,errors:s}=await t.json();if(s)throw Error(s[0].message);i(null==e||null==(r=e.loginUser)?void 0:r.user)}else throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]),h=(0,a.useCallback)(async e=>{try{let s=await fetch("".concat("http://localhost:3000","/api/users/reset-password"),{body:JSON.stringify({password:e.password,passwordConfirm:e.passwordConfirm,token:e.token}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(s.ok){var r,t;let{data:e,errors:a}=await s.json();if(a)throw Error(a[0].message);i(null==e||null==(r=e.loginUser)?void 0:r.user),l((null==e||null==(t=e.loginUser)?void 0:t.user)?"loggedIn":void 0)}else throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]);return(0,s.jsx)(o.Provider,{value:{create:c,forgotPassword:p,login:d,logout:u,resetPassword:h,setUser:i,status:n,user:t},children:r})},n=()=>(0,a.useContext)(o)},66068:(e,r,t)=>{"use strict";t.d(r,{J:()=>i});var s=t(93495);t(3391);var a=t(84034),o=t(14632);function i(e){let{className:r,...t}=e;return(0,s.jsx)(a.b,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm text-primary/50 font-mono leading-none select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...t})}},76771:(e,r,t)=>{"use strict";t.d(r,{RenderParamsComponent:()=>n});var s=t(93495),a=t(49464),o=t(3391),i=t(18471);let n=e=>{let{className:r,onParams:t,params:n=["error","warning","success","message"]}=e,l=(0,a.useSearchParams)(),c=n.map(e=>null==l?void 0:l.get(e));return((0,o.useEffect)(()=>{c.length&&t&&t(c)},[c,t]),c.length)?(0,s.jsx)("div",{className:r,children:c.map((e,r)=>e?(0,s.jsx)(i.Q,{className:"mb-8",[n[r]]:e},e):null)}):null}},86906:(e,r,t)=>{"use strict";t.d(r,{e:()=>o});var s=t(93495),a=t(14632);let o=e=>{let{className:r,children:t}=e;return(0,s.jsx)("div",{className:(0,a.cn)("flex flex-col gap-2",r),children:t})}}},e=>{e.O(0,[2919,6768,9566,659,1263,7358],()=>e(e.s=19078)),_N_E=e.O()}]);