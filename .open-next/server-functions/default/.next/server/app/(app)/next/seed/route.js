(()=>{var a={};a.id=6921,a.ids=[6921],a.modules={104:(a,b,c)=>{"use strict";a.exports=c(44870)},261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},643:a=>{"use strict";a.exports=require("node:perf_hooks")},1708:a=>{"use strict";a.exports=require("node:process")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:a=>{"use strict";a.exports=require("node:buffer")},4984:a=>{"use strict";a.exports=require("readline")},8086:a=>{"use strict";a.exports=require("module")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:a=>{"use strict";a.exports=require("assert")},14985:a=>{"use strict";a.exports=require("dns")},16698:a=>{"use strict";a.exports=require("node:async_hooks")},19771:a=>{"use strict";a.exports=require("process")},21820:a=>{"use strict";a.exports=require("os")},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32467:a=>{"use strict";a.exports=require("node:http2")},33873:a=>{"use strict";a.exports=require("path")},34589:a=>{"use strict";a.exports=require("node:assert")},34631:a=>{"use strict";a.exports=require("tls")},37067:a=>{"use strict";a.exports=require("node:http")},37540:a=>{"use strict";a.exports=require("node:console")},37830:a=>{"use strict";a.exports=require("node:stream/web")},38522:a=>{"use strict";a.exports=require("node:zlib")},38611:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return i}});let d=function(a,b){if(a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=e(b);if(c&&c.has(a))return c.get(a);var d={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(d,g,h):d[g]=a[g]}return d.default=a,c&&c.set(a,d),d}(c(50275));function e(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(e=function(a){return a?c:b})(a)}let f={current:null},g="function"==typeof d.cache?d.cache:a=>a,h=console.warn;function i(a){return function(...b){h(a(...b))}}g(a=>{try{h(f.current)}finally{f.current=null}})},39023:a=>{"use strict";a.exports=require("libsql")},40610:a=>{"use strict";a.exports=require("node:dns")},41204:a=>{"use strict";a.exports=require("string_decoder")},41692:a=>{"use strict";a.exports=require("node:tls")},41792:a=>{"use strict";a.exports=require("node:querystring")},42229:(a,b,c)=>{"use strict";c.r(b),c.d(b,{handler:()=>T,patchFetch:()=>S,routeModule:()=>O,serverHooks:()=>R,workAsyncStorage:()=>P,workUnitAsyncStorage:()=>Q});var d={};c.r(d),c.d(d,{POST:()=>N,maxDuration:()=>M});var e=c(104),f=c(85069),g=c(7036),h=c(10542),i=c(68308),j=c(261),k=c(22210),l=c(70048),m=c(78016),n=c(4211),o=c(55117),p=c(10015),q=c(54593),r=c(97702),s=c(86439),t=c(44748),u=c(70099),v=c(75423);let w=({product:a,variantOptions:b,inventory:c=492,priceInUSD:d=4999})=>({product:a,options:b,inventory:c,priceInUSDEnabled:!0,priceInUSD:d,_status:"published"}),x={alt:"Black hat with the Payload logo on the front",caption:{root:{type:"root",children:[{type:"paragraph",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Photo by ",version:1},{type:"link",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Andrew Kliatskyi",version:1}],direction:"ltr",fields:{linkType:"custom",newTab:!0,url:"https://unsplash.com/@kirp"},format:"",indent:0,version:2},{type:"text",detail:0,format:0,mode:"normal",style:"",text:" on Unsplash.",version:1}],direction:"ltr",format:"",indent:0,textFormat:0,version:1}],direction:"ltr",format:"",indent:0,version:1}}},y={alt:"Black tshirt with the Payload logo on the front",caption:{root:{type:"root",children:[{type:"paragraph",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Photo by ",version:1},{type:"link",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Andrew Kliatskyi",version:1}],direction:"ltr",fields:{linkType:"custom",newTab:!0,url:"https://unsplash.com/@kirp"},format:"",indent:0,version:2},{type:"text",detail:0,format:0,mode:"normal",style:"",text:" on Unsplash.",version:1}],direction:"ltr",format:"",indent:0,textFormat:0,version:1}],direction:"ltr",format:"",indent:0,version:1}}},z={alt:"White tshirt with the Payload logo on the front",caption:{root:{type:"root",children:[{type:"paragraph",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Photo by ",version:1},{type:"link",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Andrew Kliatskyi",version:1}],direction:"ltr",fields:{linkType:"custom",newTab:!0,url:"https://unsplash.com/@kirp"},format:"",indent:0,version:2},{type:"text",detail:0,format:0,mode:"normal",style:"",text:" on Unsplash.",version:1}],direction:"ltr",format:"",indent:0,textFormat:0,version:1}],direction:"ltr",format:"",indent:0,version:1}}},A={alt:"Straight metallic shapes with a blue gradient"},B=["categories","media","pages","products","forms","form-submissions","variants","variantOptions","variantTypes","carts","transactions","addresses","orders"],C=["Accessories","T-Shirts","Hats"],D=[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"X Large",value:"xlarge"}],E=[{label:"Black",value:"black"},{label:"White",value:"white"}],F=["header","footer"],G={title:"Dr.",firstName:"Otto",lastName:"Octavius",phone:"1234567890",company:"Oscorp",addressLine1:"123 Main St",addressLine2:"Suite 100",city:"New York",state:"NY",postalCode:"10001",country:"US"},H={title:"Mr.",firstName:"Oliver",lastName:"Twist",phone:"1234567890",addressLine1:"48 Great Portland St",city:"London",postalCode:"W1W 7ND",country:"GB"},I=async({payload:a,req:b})=>{for(let c of(a.logger.info("Seeding database..."),a.logger.info(`— Clearing collections and globals...`),await Promise.all(F.map(b=>a.updateGlobal({slug:b,data:{navItems:[]},depth:0,context:{disableRevalidate:!0}}))),B))await a.db.deleteMany({collection:c,req:b,where:{}}),a.collections[c].config.versions&&await a.db.deleteVersions({collection:c,req:b,where:{}});a.logger.info(`— Seeding customer and customer data...`),await a.delete({collection:"users",depth:0,where:{email:{equals:"customer@example.com"}}}),a.logger.info(`— Seeding media...`);let[c,d,e,f]=await Promise.all([J("https://raw.githubusercontent.com/payloadcms/payload/refs/heads/main/templates/ecommerce/src/endpoints/seed/hat-logo.png"),J("https://raw.githubusercontent.com/payloadcms/payload/refs/heads/main/templates/ecommerce/src/endpoints/seed/tshirt-black.png"),J("https://raw.githubusercontent.com/payloadcms/payload/refs/heads/main/templates/ecommerce/src/endpoints/seed/tshirt-white.png"),J("https://raw.githubusercontent.com/payloadcms/payload/refs/heads/main/templates/website/src/endpoints/seed/image-hero1.webp")]),[g,h,i,j,k,l]=await Promise.all([a.create({collection:"users",data:{name:"Customer",email:"customer@example.com",password:"password",roles:["customer"]}}),a.create({collection:"media",data:x,file:c}),a.create({collection:"media",data:y,file:d}),a.create({collection:"media",data:z,file:e}),a.create({collection:"media",data:A,file:f}),Promise.all(C.map(b=>a.create({collection:"categories",data:{title:b,slug:b}})))]),[m,n,o]=l;a.logger.info(`— Seeding variant types and options...`);let p=await a.create({collection:"variantTypes",data:{name:"size",label:"Size"}}),q=[];for(let b of D){let c=await a.create({collection:"variantOptions",data:{...b,variantType:p.id}});q.push(c)}let[r,s,t,u]=q,v=await a.create({collection:"variantTypes",data:{name:"color",label:"Color"}}),[I,K]=await Promise.all(E.map(b=>a.create({collection:"variantOptions",data:{...b,variantType:v.id}})));a.logger.info(`— Seeding products...`);let L=await a.create({collection:"products",depth:0,data:(({galleryImage:a,relatedProducts:b,metaImage:c,variantTypes:d,categories:e})=>({meta:{title:"Hat | Payload Ecommerce Template",image:c,description:"Top off your look with our classic hat, crafted for style and comfort. Made with breathable, high-quality materials and an adjustable strap for the perfect fit."},_status:"published",layout:[],categories:e,description:{root:{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"Top off your look with our classic hat, crafted for style and comfort. Made with breathable, high-quality materials and an adjustable strap for the perfect fit, it’s ideal for everyday wear or outdoor adventures. Available in a range of colors to match any outfit.",type:"text",version:1}],direction:"ltr",format:"",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:"ltr",format:"",indent:0,type:"root",version:1}},gallery:[{image:a}],title:"Hat",slug:"hat",priceInUSDEnabled:!0,priceInUSD:2500,relatedProducts:b}))({galleryImage:h,metaImage:h,variantTypes:[v],categories:[o],relatedProducts:[]})}),M=await a.create({collection:"products",depth:0,data:(({galleryImages:a,relatedProducts:b,metaImage:c,contentImage:d,variantTypes:e,categories:f})=>({enableVariants:!0,variantTypes:e,inventory:0,meta:{title:"Tshirt | Payload Ecommerce Template",image:c,description:"Top off your look with our classic Tshirt, crafted for style and comfort. Made with breathable, high-quality materials and an adjustable strap for the perfect fit."},_status:"published",layout:[{blockType:"mediaBlock",media:d},{blockType:"content",columns:[{size:"half",richText:{root:{children:[{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"This is 100% cotton unisex fitted tee with screen printed design. Lorem ipsum is a placeholder text commonly used to demonstrate the visual form of a document",type:"text",version:1},{type:"linebreak",version:1}],direction:"ltr",format:"left",indent:0,type:"listitem",version:1,value:1},{children:[{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"Product Type: t-shirt",type:"text",version:1}],direction:"ltr",format:"",indent:1,type:"listitem",version:1,value:1},{children:[{detail:0,format:0,mode:"normal",style:"",text:"Material: 100% cotton",type:"text",version:1}],direction:"ltr",format:"",indent:1,type:"listitem",version:1,value:2},{children:[{detail:0,format:0,mode:"normal",style:"",text:"Colour: black",type:"text",version:1}],direction:"ltr",format:"",indent:1,type:"listitem",version:1,value:3},{children:[{detail:0,format:0,mode:"normal",style:"",text:"Style: men (unisex)",type:"text",version:1}],direction:"ltr",format:"",indent:1,type:"listitem",version:1,value:4}],direction:"ltr",format:"left",indent:0,type:"list",version:1,listType:"bullet",start:1,tag:"ul"}],direction:"ltr",format:"left",indent:0,type:"listitem",version:1,value:2}],direction:"ltr",format:"",indent:0,type:"list",version:1,listType:"bullet",start:1,tag:"ul"}],direction:"ltr",format:"",indent:0,type:"root",version:1}}},{size:"half",richText:{root:{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"Size chart",type:"text",version:1}],direction:"ltr",format:"",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""},{children:[{children:[{children:[{children:[{detail:0,format:1,mode:"normal",style:"",text:" ",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:1,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,textFormat:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:1,mode:"normal",style:"",text:"length (IN)",type:"text",version:1}],direction:"ltr",format:"left",indent:0,type:"paragraph",version:1,textFormat:1,textStyle:""}],direction:"ltr",format:"",indent:0,type:"tablecell",version:1,textFormat:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:1,mode:"normal",style:"",text:"length (CM)",type:"text",version:1}],direction:"ltr",format:"left",indent:0,type:"paragraph",version:1,textFormat:1,textStyle:""}],direction:"ltr",format:"",indent:0,type:"tablecell",version:1,textFormat:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:1,mode:"normal",style:"",text:"chest (IN)",type:"text",version:1}],direction:"ltr",format:"left",indent:0,type:"paragraph",version:1,textFormat:1,textStyle:""}],direction:"ltr",format:"",indent:0,type:"tablecell",version:1,textFormat:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:1,mode:"normal",style:"",text:"chest (CM)",type:"text",version:1}],direction:"ltr",format:"left",indent:0,type:"paragraph",version:1,textFormat:1,textStyle:""}],direction:"ltr",format:"",indent:0,type:"tablecell",version:1,textFormat:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.539}],direction:"ltr",format:"center",indent:0,type:"tablerow",version:1,textFormat:1},{children:[{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"s",type:"text",version:1}],direction:"ltr",format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:"ltr",format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"26-28",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"66-68",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"34-36",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"86-91",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.539}],direction:null,format:"center",indent:0,type:"tablerow",version:1},{children:[{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"m",type:"text",version:1}],direction:"ltr",format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:"ltr",format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"27-29",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"70-72",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"19-21",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"50-52",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.539}],direction:null,format:"center",indent:0,type:"tablerow",version:1},{children:[{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"l",type:"text",version:1}],direction:"ltr",format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:"ltr",format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"29-31",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"75-77",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"21-23",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"55-57",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.539}],direction:null,format:"center",indent:0,type:"tablerow",version:1},{children:[{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"xl",type:"text",version:1}],direction:"ltr",format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:"ltr",format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"30-32",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"77-79",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"23-25",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.531},{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"60-62",type:"text",version:1}],direction:null,format:"left",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:null,format:"",indent:0,type:"tablecell",version:1,backgroundColor:null,colSpan:1,headerState:0,rowSpan:1,width:103.539}],direction:null,format:"center",indent:0,type:"tablerow",version:1}],direction:"ltr",format:"",indent:0,type:"table",version:1,colWidths:[92,92,92,92,92]}],direction:"ltr",format:"",indent:0,type:"root",version:1}}}]}],categories:f,description:{root:{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"Top off your look with our classic hat, crafted for style and comfort. Made with breathable, high-quality materials and an adjustable strap for the perfect fit, it’s ideal for everyday wear or outdoor adventures. Available in a range of colors to match any outfit.",type:"text",version:1}],direction:"ltr",format:"",indent:0,type:"paragraph",version:1,textFormat:0,textStyle:""}],direction:"ltr",format:"",indent:0,type:"root",version:1}},gallery:a,title:"Tshirt",slug:"tshirt",priceInUSDEnabled:!0,priceInUSD:4999,relatedProducts:b}))({galleryImages:[{image:i,variantOption:I},{image:j,variantOption:K}],metaImage:i,contentImage:k,variantTypes:[v,p],categories:[n],relatedProducts:[L]})}),N=M.id;"text"===a.db.defaultIDType&&(N=`"${N}"`);let[O,P,Q,R]=await Promise.all([r,s,t,u].map(b=>a.create({collection:"variants",depth:0,data:w({product:M,variantOptions:[b,K]})})));await Promise.all([r,s,t,u].map(b=>a.create({collection:"variants",depth:0,data:w({product:M,variantOptions:[b,I],..."medium"===b.value?{inventory:0}:{}})}))),a.logger.info(`— Seeding contact form...`);let S=await a.create({collection:"forms",depth:0,data:{confirmationMessage:{root:{type:"root",children:[{type:"heading",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"The contact form has been submitted successfully.",version:1}],direction:"ltr",format:"",indent:0,tag:"h2",version:1}],direction:"ltr",format:"",indent:0,version:1}},confirmationType:"message",createdAt:"2023-01-12T21:47:41.374Z",emails:[{emailFrom:'"Payload" <demo@payloadcms.com>',emailTo:"{{email}}",message:{root:{type:"root",children:[{type:"paragraph",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Your contact form submission was successfully received.",version:1}],direction:"ltr",format:"",indent:0,textFormat:0,version:1}],direction:"ltr",format:"",indent:0,version:1}},subject:"You've received a new message."}],fields:[{name:"full-name",blockName:"full-name",blockType:"text",label:"Full Name",required:!0,width:100},{name:"email",blockName:"email",blockType:"email",label:"Email",required:!0,width:100},{name:"phone",blockName:"phone",blockType:"number",label:"Phone",required:!1,width:100},{name:"message",blockName:"message",blockType:"textarea",label:"Message",required:!0,width:100}],redirect:void 0,submitButtonLabel:"Submit",title:"Contact Form",updatedAt:"2023-01-12T21:47:41.374Z"}});a.logger.info(`— Seeding pages...`);let[T,U]=await Promise.all([a.create({collection:"pages",depth:0,data:(({metaImage:a,contentImage:b})=>({slug:"home",_status:"published",hero:{type:"lowImpact",links:[{link:{type:"custom",appearance:"default",label:"All products",url:"/search"}},{link:{type:"custom",appearance:"outline",label:"Contact",url:"/contact"}}],richText:{root:{type:"root",children:[{type:"heading",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Payload Ecommerce Template",version:1}],direction:"ltr",format:"",indent:0,tag:"h1",version:1},{type:"paragraph",children:[{type:"link",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Visit the admin dashboard",version:1}],direction:"ltr",fields:{linkType:"custom",newTab:!1,url:"/admin"},format:"",indent:0,version:3},{type:"text",detail:0,format:0,mode:"normal",style:"",text:" to begin managing this site's content. The code for this template is completely open-source and can be found ",version:1},{type:"link",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"on our Github",version:1}],direction:"ltr",fields:{linkType:"custom",newTab:!0,url:"https://github.com/payloadcms/payload/tree/main/templates/ecommerce"},format:"",indent:0,version:3},{type:"text",detail:0,format:0,mode:"normal",style:"",text:". ",version:1}],direction:"ltr",format:"",indent:0,textFormat:0,version:1}],direction:"ltr",format:"",indent:0,version:1}}},layout:[{blockName:"Content Block",blockType:"content",columns:[{richText:{root:{type:"root",children:[{type:"heading",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Core features",version:1}],direction:"ltr",format:"",indent:0,tag:"h2",version:1}],direction:"ltr",format:"",indent:0,version:1}},size:"full"},{enableLink:!1,richText:{root:{type:"root",children:[{type:"heading",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Admin Dashboard",version:1}],direction:"ltr",format:"",indent:0,tag:"h3",version:1},{type:"paragraph",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Manage this site's pages and products from the ",version:1},{type:"link",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"admin dashboard",version:1}],direction:"ltr",fields:{linkType:"custom",newTab:!1,url:"/admin"},format:"",indent:0,version:2},{type:"text",detail:0,format:0,mode:"normal",style:"",text:".",version:1}],direction:"ltr",format:"",indent:0,textFormat:0,version:1}],direction:"ltr",format:"",indent:0,version:1}},size:"oneThird"},{enableLink:!1,richText:{root:{type:"root",children:[{type:"heading",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Preview",version:1}],direction:"ltr",format:"",indent:0,tag:"h3",version:1},{type:"paragraph",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Using versions, drafts, and preview, editors can review and share their changes before publishing them.",version:1}],direction:"ltr",format:"",indent:0,textFormat:0,version:1}],direction:"ltr",format:"",indent:0,version:1}},size:"oneThird"},{enableLink:!1,richText:{root:{type:"root",children:[{type:"heading",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Page Builder",version:1}],direction:"ltr",format:"",indent:0,tag:"h3",version:1},{type:"paragraph",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Custom page builder allows you to create unique page and product layouts for any type of content.",version:1}],direction:"ltr",format:"",indent:0,textFormat:0,version:1}],direction:"ltr",format:"",indent:0,version:1}},size:"oneThird"},{enableLink:!1,richText:{root:{type:"root",children:[{type:"heading",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"SEO",version:1}],direction:"ltr",format:"",indent:0,tag:"h3",version:1},{type:"paragraph",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Editors have complete control over SEO data and site content directly from the ",version:1},{type:"link",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"admin dashboard",version:1}],direction:"ltr",fields:{linkType:"custom",newTab:!1,url:"/admin"},format:"",indent:0,version:2},{type:"text",detail:0,format:0,mode:"normal",style:"",text:".",version:1}],direction:"ltr",format:"",indent:0,textFormat:0,version:1}],direction:"ltr",format:"",indent:0,version:1}},size:"oneThird"},{enableLink:!1,richText:{root:{type:"root",children:[{type:"heading",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Dark Mode",version:1}],direction:"ltr",format:"",indent:0,tag:"h3",version:1},{type:"paragraph",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Users will experience this site in their preferred color scheme and each block can be inverted.",version:1}],direction:"ltr",format:"",indent:0,textFormat:0,version:1}],direction:"ltr",format:"",indent:0,version:1}},size:"oneThird"}]},{blockName:"Media Block",blockType:"mediaBlock",media:b},{blockName:"CTA",blockType:"cta",links:[{link:{type:"custom",appearance:"default",label:"All products",url:"/products"}}],richText:{root:{type:"root",children:[{type:"heading",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"This is a call to action",version:1}],direction:"ltr",format:"",indent:0,tag:"h3",version:1},{type:"paragraph",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"This is a custom layout building block ",version:1},{type:"link",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"configured in the admin dashboard",version:1}],direction:"ltr",fields:{linkType:"custom",newTab:!1,url:"/admin"},format:"",indent:0,version:2},{type:"text",detail:0,format:0,mode:"normal",style:"",text:".",version:1}],direction:"ltr",format:"",indent:0,textFormat:0,version:1}],direction:"ltr",format:"",indent:0,version:1}}}],meta:{description:"An open-source ecommerce site built with Payload and Next.js.",image:a,title:"Payload Ecommerce Template"},title:"Home"}))({contentImage:k,metaImage:h})}),a.create({collection:"pages",depth:0,data:(({contactForm:a})=>({slug:"contact",_status:"published",hero:{type:"none"},layout:[{blockType:"formBlock",enableIntro:!0,form:a,introContent:{root:{type:"root",children:[{type:"heading",children:[{type:"text",detail:0,format:0,mode:"normal",style:"",text:"Example contact form:",version:1}],direction:"ltr",format:"",indent:0,tag:"h3",version:1}],direction:"ltr",format:"",indent:0,version:1}}}],title:"Contact"}))({contactForm:S})})]);a.logger.info(`— Seeding addresses...`),await a.create({collection:"addresses",depth:0,data:{customer:g.id,...G}}),await a.create({collection:"addresses",depth:0,data:{customer:g.id,...H}}),a.logger.info(`— Seeding transactions...`),await a.create({collection:"transactions",data:{currency:"USD",customer:g.id,status:"pending",billingAddress:G,amount:7499}});let V=await a.create({collection:"transactions",data:{currency:"USD",customer:g.id,status:"succeeded",billingAddress:G,amount:7499}}),W=V.id;"text"===a.db.defaultIDType&&(W=`"${W}"`),a.logger.info(`— Seeding carts...`),await a.create({collection:"carts",data:{customer:g.id,currency:"USD",items:[{product:M.id,variant:P.id,quantity:1}]}});let X=new Date("2023-01-01T00:00:00Z").toISOString();await a.create({collection:"carts",data:{currency:"USD",createdAt:X,items:[{product:L.id,quantity:1}]}});let Y=(await a.create({collection:"carts",data:{customer:g.id,currency:"USD",purchasedAt:new Date().toISOString(),subtotal:7499,items:[{product:M.id,variant:O.id,quantity:1},{product:M.id,variant:P.id,quantity:1}]}})).id;"text"===a.db.defaultIDType&&(Y=`"${Y}"`),a.logger.info(`— Seeding orders...`),await a.create({collection:"orders",data:{amount:7499,currency:"USD",customer:g.id,shippingAddress:G,items:[{product:M.id,variant:O.id,quantity:1},{product:M.id,variant:P.id,quantity:1}],status:"completed",transactions:[V.id]}}),await a.create({collection:"orders",data:{amount:7499,currency:"USD",customer:g.id,shippingAddress:G,items:[{product:M.id,variant:O.id,quantity:1},{product:M.id,variant:P.id,quantity:1}],status:"processing",transactions:[V.id]}}),a.logger.info(`— Seeding globals...`),await Promise.all([a.updateGlobal({slug:"header",data:{navItems:[{link:{type:"custom",label:"Home",url:"/"}},{link:{type:"custom",label:"Shop",url:"/shop"}},{link:{type:"custom",label:"Account",url:"/account"}}]}}),a.updateGlobal({slug:"footer",data:{navItems:[{link:{type:"custom",label:"Admin",url:"/admin"}},{link:{type:"custom",label:"Find my order",url:"/find-order"}},{link:{type:"custom",label:"Source Code",newTab:!0,url:"https://github.com/payloadcms/payload/tree/main/templates/website"}},{link:{type:"custom",label:"Payload",newTab:!0,url:"https://payloadcms.com/"}}]}})]),a.logger.info("Seeded database successfully!")};async function J(a){let b=await fetch(a,{credentials:"include",method:"GET"});if(!b.ok)throw Error(`Failed to fetch file from ${a}, status: ${b.status}`);let c=await b.arrayBuffer();return{name:a.split("/").pop()||`file-${Date.now()}`,data:Buffer.from(c),mimetype:`image/${a.split(".").pop()}`,size:c.byteLength}}var K=c(51609),L=c(61474);let M=60;async function N(){let a=await (0,u.nm0)({config:K.A}),b=await (0,L.b3)(),{user:c}=await a.auth({headers:b});if(!c)return new Response("Action forbidden.",{status:403});try{let b=await (0,v.M)({user:c},a);return await I({payload:a,req:b}),Response.json({success:!0})}catch(b){return a.logger.error({err:b,message:"Error seeding data"}),new Response("Error seeding data.",{status:500})}}let O=new e.AppRouteRouteModule({definition:{kind:f.RouteKind.APP_ROUTE,page:"/(app)/next/seed/route",pathname:"/next/seed",filename:"route",bundlePath:"app/(app)/next/seed/route"},distDir:".next",relativeProjectDir:"",resolvedPagePath:"/Users/Owner/my-project/.conductor/abuja-v1/src/app/(app)/next/seed/route.ts",nextConfigOutput:"standalone",userland:d}),{workAsyncStorage:P,workUnitAsyncStorage:Q,serverHooks:R}=O;function S(){return(0,g.patchFetch)({workAsyncStorage:P,workUnitAsyncStorage:Q})}async function T(a,b,c){var d;let e="/(app)/next/seed/route";"/index"===e&&(e="/");let g=await O.prepare(a,b,{srcPage:e,multiZoneDraftMode:!1});if(!g)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:u,params:v,nextConfig:w,isDraftMode:x,prerenderManifest:y,routerServerContext:z,isOnDemandRevalidate:A,revalidateOnlyGenerated:B,resolvedPathname:C}=g,D=(0,j.normalizeAppPath)(e),E=!!(y.dynamicRoutes[D]||y.routes[C]);if(E&&!x){let a=!!y.routes[C],b=y.dynamicRoutes[D];if(b&&!1===b.fallback&&!a)throw new s.NoFallbackError}let F=null;!E||O.isDev||x||(F="/index"===(F=C)?"/":F);let G=!0===O.isDev||!E,H=E&&!G,I=a.method||"GET",J=(0,i.getTracer)(),K=J.getActiveScopeSpan(),L={params:v,prerenderManifest:y,renderOpts:{experimental:{cacheComponents:!!w.experimental.cacheComponents,authInterrupts:!!w.experimental.authInterrupts},supportsDynamicResponse:G,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:null==(d=w.experimental)?void 0:d.cacheLife,isRevalidate:H,waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:void 0,onInstrumentationRequestError:(b,c,d)=>O.onRequestError(a,b,d,z)},sharedContext:{buildId:u}},M=new k.NodeNextRequest(a),N=new k.NodeNextResponse(b),P=l.NextRequestAdapter.fromNodeNextRequest(M,(0,l.signalFromNodeResponse)(b));try{let d=async c=>O.handle(P,L).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=J.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==m.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${I} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${I} ${a.url}`)}),g=async g=>{var i,j;let k=async({previousCacheEntry:f})=>{try{if(!(0,h.getRequestMeta)(a,"minimalMode")&&A&&B&&!f)return b.statusCode=404,b.setHeader("x-nextjs-cache","REVALIDATED"),b.end("This page could not be found"),null;let e=await d(g);a.fetchMetrics=L.renderOpts.fetchMetrics;let i=L.renderOpts.pendingWaitUntil;i&&c.waitUntil&&(c.waitUntil(i),i=void 0);let j=L.renderOpts.collectedTags;if(!E)return await (0,o.I)(M,N,e,L.renderOpts.pendingWaitUntil),null;{let a=await e.blob(),b=(0,p.toNodeOutgoingHttpHeaders)(e.headers);j&&(b[r.NEXT_CACHE_TAGS_HEADER]=j),!b["content-type"]&&a.type&&(b["content-type"]=a.type);let c=void 0!==L.renderOpts.collectedRevalidate&&!(L.renderOpts.collectedRevalidate>=r.INFINITE_CACHE)&&L.renderOpts.collectedRevalidate,d=void 0===L.renderOpts.collectedExpire||L.renderOpts.collectedExpire>=r.INFINITE_CACHE?void 0:L.renderOpts.collectedExpire;return{value:{kind:t.CachedRouteKind.APP_ROUTE,status:e.status,body:Buffer.from(await a.arrayBuffer()),headers:b},cacheControl:{revalidate:c,expire:d}}}}catch(b){throw(null==f?void 0:f.isStale)&&await O.onRequestError(a,b,{routerKind:"App Router",routePath:e,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:H,isOnDemandRevalidate:A})},z),b}},l=await O.handleResponse({req:a,nextConfig:w,cacheKey:F,routeKind:f.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:y,isRoutePPREnabled:!1,isOnDemandRevalidate:A,revalidateOnlyGenerated:B,responseGenerator:k,waitUntil:c.waitUntil});if(!E)return null;if((null==l||null==(i=l.value)?void 0:i.kind)!==t.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==l||null==(j=l.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,h.getRequestMeta)(a,"minimalMode")||b.setHeader("x-nextjs-cache",A?"REVALIDATED":l.isMiss?"MISS":l.isStale?"STALE":"HIT"),x&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let m=(0,p.fromNodeOutgoingHttpHeaders)(l.value.headers);return(0,h.getRequestMeta)(a,"minimalMode")&&E||m.delete(r.NEXT_CACHE_TAGS_HEADER),!l.cacheControl||b.getHeader("Cache-Control")||m.get("Cache-Control")||m.set("Cache-Control",(0,q.getCacheControlHeader)(l.cacheControl)),await (0,o.I)(M,N,new Response(l.value.body,{headers:m,status:l.value.status||200})),null};K?await g(K):await J.withPropagatedContext(a.headers,()=>J.trace(m.BaseServerSpan.handleRequest,{spanName:`${I} ${a.url}`,kind:i.SpanKind.SERVER,attributes:{"http.method":I,"http.target":a.url}},g))}catch(b){if(b instanceof s.NoFallbackError||await O.onRequestError(a,b,{routerKind:"App Router",routePath:D,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:H,isOnDemandRevalidate:A})}),E)throw b;return await (0,o.I)(M,N,new Response(null,{status:500})),null}}},44870:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},48161:a=>{"use strict";a.exports=require("node:os")},51455:a=>{"use strict";a.exports=require("node:fs/promises")},53053:a=>{"use strict";a.exports=require("node:diagnostics_channel")},55117:(a,b,c)=>{"use strict";Object.defineProperty(b,"I",{enumerable:!0,get:function(){return g}});let d=c(94837),e=c(60128),f=c(10015);async function g(a,b,c,g){if((0,d.isNodeNextResponse)(b)){var h;b.statusCode=c.status,b.statusMessage=c.statusText;let d=["set-cookie","www-authenticate","proxy-authenticate","vary"];null==(h=c.headers)||h.forEach((a,c)=>{if("x-middleware-set-cookie"!==c.toLowerCase())if("set-cookie"===c.toLowerCase())for(let d of(0,f.splitCookiesString)(a))b.appendHeader(c,d);else{let e=void 0!==b.getHeader(c);(d.includes(c.toLowerCase())||!e)&&b.appendHeader(c,a)}});let{originalResponse:i}=b;c.body&&"HEAD"!==a.method?await (0,e.pipeToNodeResponse)(c.body,i,g):i.end()}}},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},57047:a=>{"use strict";a.exports=require("buffer")},57075:a=>{"use strict";a.exports=require("node:stream")},57975:a=>{"use strict";a.exports=require("node:util")},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:a=>{"use strict";a.exports=require("node:fs")},73136:a=>{"use strict";a.exports=require("node:url")},73429:a=>{"use strict";a.exports=require("node:util/types")},73496:a=>{"use strict";a.exports=require("http2")},73566:a=>{"use strict";a.exports=require("worker_threads")},74075:a=>{"use strict";a.exports=require("zlib")},75919:a=>{"use strict";a.exports=require("node:worker_threads")},76760:a=>{"use strict";a.exports=require("node:path")},77030:a=>{"use strict";a.exports=require("node:net")},77598:a=>{"use strict";a.exports=require("node:crypto")},78474:a=>{"use strict";a.exports=require("node:events")},79551:a=>{"use strict";a.exports=require("url")},79646:a=>{"use strict";a.exports=require("child_process")},79748:a=>{"use strict";a.exports=require("fs/promises")},80099:a=>{"use strict";a.exports=require("node:sqlite")},80788:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{isRequestAPICallableInsideAfter:function(){return i},throwForSearchParamsAccessInUseCache:function(){return h},throwWithStaticGenerationBailoutError:function(){return f},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return g}});let d=c(61682),e=c(3295);function f(a,b){throw Object.defineProperty(new d.StaticGenBailoutError(`Route ${a} couldn't be rendered statically because it used ${b}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E576",enumerable:!1,configurable:!0})}function g(a,b){throw Object.defineProperty(new d.StaticGenBailoutError(`Route ${a} with \`dynamic = "error"\` couldn't be rendered statically because it used ${b}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function h(a,b){let c=Object.defineProperty(Error(`Route ${a.route} used "searchParams" inside "use cache". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await "searchParams" outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E779",enumerable:!1,configurable:!0});throw Error.captureStackTrace(c,b),a.invalidDynamicUsageError??=c,c}function i(){let a=e.afterTaskAsyncStorage.getStore();return(null==a?void 0:a.rootTaskSpawnPhase)==="action"}},80899:()=>{},81579:()=>{},81630:a=>{"use strict";a.exports=require("http")},83997:a=>{"use strict";a.exports=require("tty")},84297:a=>{"use strict";a.exports=require("async_hooks")},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},91645:a=>{"use strict";a.exports=require("net")},94735:a=>{"use strict";a.exports=require("events")},98995:a=>{"use strict";a.exports=require("node:module")}};var b=require("../../../../webpack-runtime.js");b.C(a);var c=b.X(0,[7661,7557,1474,1609],()=>b(b.s=42229));module.exports=c})();