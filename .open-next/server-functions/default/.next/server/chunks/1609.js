"use strict";exports.id=1609,exports.ids=[1609],exports.modules={51609:(a,b,c)=>{c.d(b,{A:()=>an});var d=c(58669),e=c(19158),f=c(10931),g=c(75240),h=c(25018),i=c(73154),j=c(70013),k=c(1466),l=c(96423),m=c(94324),n=c(67201),o=c(43595),p=c(33873),q=c.n(p),r=c(73663),s=c(79551),t=c(13338);let u={slug:"categories",access:{read:()=>!0},admin:{useAsTitle:"title",group:"Content"},fields:[{name:"title",type:"text",required:!0},(0,t.O)({position:void 0})]};var v=c(57378),w=c(39495);let x=(0,s.fileURLToPath)("file:///Users/Owner/my-project/.conductor/abuja-v1/src/collections/Media.ts"),y=q().dirname(x),z={admin:{group:"Content"},slug:"media",access:{read:()=>!0},fields:[{name:"alt",type:"text",required:!0},{name:"caption",type:"richText",editor:(0,g.qf)({features:({rootFeatures:a})=>[...a,(0,v.k)(),(0,w.X)()]})}],upload:{staticDir:q().resolve(y,"../../public/media")}},A={slug:"banner",fields:[{name:"style",type:"select",defaultValue:"info",options:[{label:"Info",value:"info"},{label:"Warning",value:"warning"},{label:"Error",value:"error"},{label:"Success",value:"success"}],required:!0},{name:"content",type:"richText",editor:(0,g.qf)({features:({rootFeatures:a})=>[...a,(0,v.k)(),(0,w.X)()]}),label:!1,required:!0}],interfaceName:"BannerBlock"},B={products:"/products",pages:""},C=({collection:a,slug:b})=>{if(null==b)return null;let c=new URLSearchParams({slug:b,collection:a,path:`${B[a]}/${b}`,previewSecret:process.env.PREVIEW_SECRET||""});return`/next/preview?${c.toString()}`},D=(a=[],b)=>!!b&&!!a&&a.some(a=>b?.roles?.some(b=>b===a)),E=({req:{user:a}})=>!!a&&D(["admin"],a);var F=c(80395);let G={slug:"archive",interfaceName:"ArchiveBlock",fields:[{name:"introContent",type:"richText",editor:(0,g.qf)({features:({rootFeatures:a})=>[...a,(0,F.b)({enabledHeadingSizes:["h1","h2","h3","h4"]}),(0,v.k)(),(0,w.X)()]}),label:"Intro Content"},{name:"populateBy",type:"select",defaultValue:"collection",options:[{label:"Collection",value:"collection"},{label:"Individual Selection",value:"selection"}]},{name:"relationTo",type:"select",admin:{condition:(a,b)=>"collection"===b.populateBy},defaultValue:"products",label:"Collections To Show",options:[{label:"Products",value:"products"}]},{name:"categories",type:"relationship",admin:{condition:(a,b)=>"collection"===b.populateBy},hasMany:!0,label:"Categories To Show",relationTo:"categories"},{name:"limit",type:"number",admin:{condition:(a,b)=>"collection"===b.populateBy,step:1},defaultValue:10,label:"Limit"},{name:"selectedDocs",type:"relationship",admin:{condition:(a,b)=>"selection"===b.populateBy},hasMany:!0,label:"Selection",relationTo:["products"]}],labels:{plural:"Archives",singular:"Archive"}};function H(a){return a&&"object"==typeof a&&!Array.isArray(a)}function I(a,b){let c={...a};return H(a)&&H(b)&&Object.keys(b).forEach(d=>{H(b[d])&&d in a?c[d]=I(a[d],b[d]):Object.assign(c,{[d]:b[d]})}),c}let J={default:{label:"Default",value:"default"},outline:{label:"Outline",value:"outline"}},K=({appearances:a,disableLabel:b=!1,overrides:c={}}={})=>{let d={name:"link",type:"group",admin:{hideGutter:!0},fields:[{type:"row",fields:[{name:"type",type:"radio",admin:{layout:"horizontal",width:"50%"},defaultValue:"reference",options:[{label:"Internal link",value:"reference"},{label:"Custom URL",value:"custom"}]},{name:"newTab",type:"checkbox",admin:{style:{alignSelf:"flex-end"},width:"50%"},label:"Open in new tab"}]}]},e=[{name:"reference",type:"relationship",admin:{condition:(a,b)=>b?.type==="reference"},label:"Document to link to",maxDepth:1,relationTo:["pages"],required:!0},{name:"url",type:"text",admin:{condition:(a,b)=>b?.type==="custom"},label:"Custom URL",required:!0}];if(b?d.fields=[...d.fields,...e]:(e.map(a=>({...a,admin:{...a.admin,width:"50%"}})),d.fields.push({type:"row",fields:[...e,{name:"label",type:"text",admin:{width:"50%"},label:"Label",required:!0}]})),!1!==a){let b=[J.default,J.outline];a&&(b=a.map(a=>J[a])),d.fields.push({name:"appearance",type:"select",admin:{description:"Choose how the link should be rendered."},defaultValue:"default",options:b})}return I(d,c)},L=({appearances:a,overrides:b={}}={})=>I({name:"links",type:"array",fields:[K({appearances:a})]},b),M={slug:"cta",interfaceName:"CallToActionBlock",fields:[{name:"richText",type:"richText",editor:(0,g.qf)({features:({rootFeatures:a})=>[...a,(0,F.b)({enabledHeadingSizes:["h1","h2","h3","h4"]}),(0,v.k)(),(0,w.X)()]}),label:!1},L({appearances:["default","outline"],overrides:{maxRows:2}})],labels:{plural:"Calls to Action",singular:"Call to Action"}},N={slug:"content",interfaceName:"ContentBlock",fields:[{name:"columns",type:"array",admin:{initCollapsed:!0},fields:[{name:"size",type:"select",defaultValue:"oneThird",options:[{label:"One Third",value:"oneThird"},{label:"Half",value:"half"},{label:"Two Thirds",value:"twoThirds"},{label:"Full",value:"full"}]},{name:"richText",type:"richText",editor:(0,g.qf)({features:({rootFeatures:a})=>[...a,(0,F.b)({enabledHeadingSizes:["h2","h3","h4"]}),(0,v.k)(),(0,w.X)()]}),label:!1},{name:"enableLink",type:"checkbox"},K({overrides:{admin:{condition:(a,{enableLink:b})=>!!b}}})]}]},O={slug:"formBlock",interfaceName:"FormBlock",fields:[{name:"form",type:"relationship",relationTo:"forms",required:!0},{name:"enableIntro",type:"checkbox",label:"Enable Intro Content"},{name:"introContent",type:"richText",admin:{condition:(a,{enableIntro:b})=>!!b},editor:(0,g.qf)({features:({rootFeatures:a})=>[...a,(0,F.b)({enabledHeadingSizes:["h1","h2","h3","h4"]}),(0,v.k)(),(0,w.X)()]}),label:"Intro Content"}],graphQL:{singularName:"FormBlock"},labels:{plural:"Form Blocks",singular:"Form Block"}},P={slug:"mediaBlock",interfaceName:"MediaBlock",fields:[{name:"media",type:"upload",relationTo:"media",required:!0}]},Q={name:"hero",type:"group",fields:[{name:"type",type:"select",defaultValue:"lowImpact",label:"Type",options:[{label:"None",value:"none"},{label:"High Impact",value:"highImpact"},{label:"Medium Impact",value:"mediumImpact"},{label:"Low Impact",value:"lowImpact"}],required:!0},{name:"richText",type:"richText",editor:(0,g.qf)({features:({rootFeatures:a})=>[...a,(0,F.b)({enabledHeadingSizes:["h1","h2","h3","h4"]}),(0,v.k)(),(0,w.X)()]}),label:!1},L({overrides:{maxRows:2}}),{name:"media",type:"upload",admin:{condition:(a,{type:b}={})=>["highImpact","mediumImpact"].includes(b)},relationTo:"media",required:!0}],label:!1},R=({req:{user:a}})=>!!(a&&D(["admin"],a))||{_status:{equals:"published"}};var S=c(29869),T=c(90947),U=c(31288),V=c(89807),W=c(13490),X=c(94428);let Y={slug:"pages",access:{create:E,delete:E,read:R,update:E},admin:{group:"Content",defaultColumns:["title","slug","updatedAt"],livePreview:{url:({data:a,req:b})=>C({slug:a?.slug,collection:"pages",req:b})},preview:(a,{req:b})=>C({slug:a?.slug,collection:"pages",req:b}),useAsTitle:"title"},fields:[{name:"title",type:"text",required:!0},{name:"publishedOn",type:"date",admin:{date:{pickerAppearance:"dayAndTime"},position:"sidebar"},hooks:{beforeChange:[({siblingData:a,value:b})=>"published"!==a._status||b?b:new Date]}},{type:"tabs",tabs:[{fields:[Q],label:"Hero"},{fields:[{name:"layout",type:"blocks",blocks:[M,N,P,G,{slug:"carousel",fields:[{name:"populateBy",type:"select",defaultValue:"collection",options:[{label:"Collection",value:"collection"},{label:"Individual Selection",value:"selection"}]},{name:"relationTo",type:"select",admin:{condition:(a,b)=>"collection"===b.populateBy},defaultValue:"products",label:"Collections To Show",options:[{label:"Products",value:"products"}]},{name:"categories",type:"relationship",admin:{condition:(a,b)=>"collection"===b.populateBy},hasMany:!0,label:"Categories To Show",relationTo:"categories"},{name:"limit",type:"number",admin:{condition:(a,b)=>"collection"===b.populateBy,step:1},defaultValue:10,label:"Limit"},{name:"selectedDocs",type:"relationship",admin:{condition:(a,b)=>"selection"===b.populateBy},hasMany:!0,label:"Selection",relationTo:["products"]},{name:"populatedDocs",type:"relationship",admin:{condition:(a,b)=>"collection"===b.populateBy,description:"This field is auto-populated after-read",disabled:!0},hasMany:!0,label:"Populated Docs",relationTo:["products"]},{name:"populatedDocsTotal",type:"number",admin:{condition:(a,b)=>"collection"===b.populateBy,description:"This field is auto-populated after-read",disabled:!0,step:1},label:"Populated Docs Total"}],interfaceName:"CarouselBlock",labels:{plural:"Carousels",singular:"Carousel"}},{slug:"threeItemGrid",fields:[{name:"products",type:"relationship",admin:{isSortable:!0},hasMany:!0,label:"Products to show",maxRows:3,minRows:3,relationTo:"products"}],interfaceName:"ThreeItemGridBlock",labels:{plural:"Three Item Grids",singular:"Three Item Grid"}},A,O],required:!0}],label:"Content"},{name:"meta",label:"SEO",fields:[(0,S.E)({titlePath:"meta.title",descriptionPath:"meta.description",imagePath:"meta.image"}),(0,T.W)({hasGenerateFn:!0}),(0,U.z)({relationTo:"media"}),(0,V.k)({}),(0,W.r)({hasGenerateFn:!0,titlePath:"meta.title",descriptionPath:"meta.description"})]}]},(0,t.O)()],hooks:{afterChange:[({doc:a,previousDoc:b,req:{payload:c,context:d}})=>{if(!d.disableRevalidate){if("published"===a._status){let b="home"===a.slug?"/":`/${a.slug}`;c.logger.info(`Revalidating page at path: ${b}`),(0,X.revalidatePath)(b)}if(b?._status==="published"&&"published"!==a._status){let a="home"===b.slug?"/":`/${b.slug}`;c.logger.info(`Revalidating old page at path: ${a}`),(0,X.revalidatePath)(a)}}return a}],afterDelete:[({doc:a,req:{context:b}})=>{if(!b.disableRevalidate){let b=a?.slug==="home"?"/":`/${a?.slug}`;(0,X.revalidatePath)(b)}return a}]},versions:{drafts:{autosave:!0},maxPerDoc:50}},Z=({req:{user:a}})=>!!a&&D(["admin"],a),$=({req:{user:a}})=>!!a&&(!!D(["admin"],a)||{id:{equals:a.id}}),_={slug:"users",access:{admin:({req:{user:a}})=>D(["admin"],a),create:()=>!0,delete:E,read:$,update:$},admin:{group:"Users",defaultColumns:["name","email","roles"],useAsTitle:"name"},auth:{tokenExpiration:1209600},fields:[{name:"name",type:"text"},{name:"roles",type:"select",access:{create:Z,read:Z,update:Z},defaultValue:["customer"],hasMany:!0,hooks:{beforeChange:[async({operation:a,req:b,value:c})=>"create"!==a||0!==(await b.payload.find({collection:"users",depth:0,limit:0})).totalDocs||(c||[]).includes("admin")?c:[...c||[],"admin"]]},options:[{label:"admin",value:"admin"},{label:"customer",value:"customer"}]},{name:"orders",type:"join",collection:"orders",on:"customer",admin:{allowCreate:!1,defaultColumns:["id","createdAt","total","currency","items"]}},{name:"cart",type:"join",collection:"carts",on:"customer",admin:{allowCreate:!1,defaultColumns:["id","createdAt","total","currency","items"]}},{name:"addresses",type:"join",collection:"addresses",on:"customer",admin:{allowCreate:!1,defaultColumns:["id"]}}]},aa={slug:"footer",access:{read:()=>!0},fields:[{name:"navItems",type:"array",fields:[K({appearances:!1})],maxRows:6}]},ab={slug:"header",access:{read:()=>!0},fields:[{name:"navItems",type:"array",fields:[K({appearances:!1})],maxRows:6}]};var ac=c(4110),ad=c(52732),ae=c(47046),af=c(60117),ag=c(65479);let ah=process.env.STRIPE_SECRET_KEY,ai="pk_test_your_stripe_test_key_here",aj=process.env.STRIPE_WEBHOOKS_SIGNING_SECRET;if(!ah||!ai||!aj)throw Error("Missing required Stripe environment variables: STRIPE_SECRET_KEY, NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY, and STRIPE_WEBHOOKS_SIGNING_SECRET must be set in production");let ak=[(0,ad.x)({generateTitle:({doc:a})=>a?.title?`${a.title} | Payload Ecommerce Template`:"Payload Ecommerce Template",generateURL:({doc:a})=>{let b=(()=>{let a="http://localhost:3000";return!a&&process.env.VERCEL_PROJECT_PRODUCTION_URL?`https://${process.env.VERCEL_PROJECT_PRODUCTION_URL}`:(a||(a="http://localhost:3000"),a)})();return a?.slug?`${b}/${a.slug}`:b}}),(0,ac.jR)({fields:{payment:!1},formSubmissionOverrides:{admin:{group:"Content"}},formOverrides:{admin:{group:"Content"},fields:({defaultFields:a})=>a.map(a=>"name"in a&&"confirmationMessage"===a.name?{...a,editor:(0,g.qf)({features:({rootFeatures:a})=>[...a,(0,v.k)(),(0,F.b)({enabledHeadingSizes:["h1","h2","h3","h4"]})]})}:a)}}),(0,ae.cf)({access:{adminOnly:E,adminOnlyFieldAccess:Z,adminOrCustomerOwner:({req:{user:a}})=>!!(a&&D(["admin"],a))||!!a?.id&&{customer:{equals:a.id}},adminOrPublishedStatus:R,customerOnlyFieldAccess:({req:{user:a}})=>!!a&&D(["customer"],a)},customers:{slug:"users"},payments:{paymentMethods:ah&&ai&&aj?[(0,af.B)({secretKey:ah,publishableKey:ai,webhookSecret:aj})]:[]},products:{productsCollectionOverride:({defaultCollection:a})=>({...a,admin:{...a?.admin,defaultColumns:["title","enableVariants","_status","variants.variants"],livePreview:{url:({data:a,req:b})=>C({slug:a?.slug,collection:"products",req:b})},preview:(a,{req:b})=>C({slug:a?.slug,collection:"products",req:b}),useAsTitle:"title"},defaultPopulate:{...a?.defaultPopulate,title:!0,slug:!0,variantOptions:!0,variants:!0,enableVariants:!0,gallery:!0,priceInUSD:!0,inventory:!0,meta:!0},fields:[{name:"title",type:"text",required:!0},{type:"tabs",tabs:[{fields:[{name:"description",type:"richText",editor:(0,g.qf)({features:({rootFeatures:a})=>[...a,(0,F.b)({enabledHeadingSizes:["h1","h2","h3","h4"]}),(0,v.k)(),(0,w.X)(),(0,ag.h)()]}),label:!1,required:!1},{name:"gallery",type:"array",minRows:1,fields:[{name:"image",type:"upload",relationTo:"media",required:!0},{name:"variantOption",type:"relationship",relationTo:"variantOptions",admin:{condition:a=>a?.enableVariants===!0&&a?.variantTypes?.length>0},filterOptions:({data:a})=>{if(a?.enableVariants&&a?.variantTypes?.length){let b=a.variantTypes.map(a=>"object"==typeof a&&a?.id?a.id:a);return 0===b.length?{variantType:{in:[]}}:{variantType:{in:b}}}return{variantType:{in:[]}}}}]},{name:"layout",type:"blocks",blocks:[M,N,P]}],label:"Content"},{fields:[...a.fields,{name:"relatedProducts",type:"relationship",filterOptions:({id:a})=>a?{id:{not_in:[a]}}:{id:{exists:!0}},hasMany:!0,relationTo:"products"}],label:"Product Details"},{name:"meta",label:"SEO",fields:[(0,S.E)({titlePath:"meta.title",descriptionPath:"meta.description",imagePath:"meta.image"}),(0,T.W)({hasGenerateFn:!0}),(0,U.z)({relationTo:"media"}),(0,V.k)({}),(0,W.r)({hasGenerateFn:!0,titlePath:"meta.title",descriptionPath:"meta.description"})]}]},{name:"categories",type:"relationship",admin:{position:"sidebar",sortOptions:"title"},hasMany:!0,relationTo:"categories"},(0,t.O)()]})}})],al=(0,s.fileURLToPath)("file:///Users/Owner/my-project/.conductor/abuja-v1/src/payload.config.ts"),am=q().dirname(al);if(!process.env.PAYLOAD_SECRET)throw Error("PAYLOAD_SECRET environment variable is required in production");let an=(0,r.f)({admin:{components:{beforeLogin:["@/components/BeforeLogin#BeforeLogin"],beforeDashboard:["@/components/BeforeDashboard#BeforeDashboard"]},user:_.slug},collections:[_,Y,u,z],db:globalThis.cloudflare?.env?.D1?(0,d.z)({binding:globalThis.cloudflare.env.D1}):(0,e.w)({client:{url:`file:${q().resolve(process.cwd(),"payload.db")}`}}),editor:(0,g.qf)({features:()=>[(0,h.D)(),(0,i.k)(),(0,j.v)(),(0,k.Y)(),(0,l.j)(),(0,m.T)({enabledCollections:["pages"],fields:({defaultFields:a})=>[...a.filter(a=>!("name"in a)||"url"!==a.name),{name:"url",type:"text",admin:{condition:({linkType:a})=>"internal"!==a},label:({t:a})=>a("fields:enterURL"),required:!0}]}),(0,n.x)(),(0,o.M)()]}),endpoints:[],globals:[ab,aa],plugins:[...ak,...globalThis.cloudflare?.env?.R2_BUCKET&&globalThis.cloudflare?.env?.CLOUDFLARE_ACCOUNT_ID&&globalThis.cloudflare?.env?.R2_ACCESS_KEY_ID&&globalThis.cloudflare?.env?.R2_SECRET_ACCESS_KEY?[(0,f.u)({bucket:globalThis.cloudflare.env.R2_BUCKET.name,config:{region:"auto",endpoint:`https://${globalThis.cloudflare.env.CLOUDFLARE_ACCOUNT_ID}.r2.cloudflarestorage.com`,credentials:{accessKeyId:globalThis.cloudflare.env.R2_ACCESS_KEY_ID,secretAccessKey:globalThis.cloudflare.env.R2_SECRET_ACCESS_KEY}},collections:{media:!0}})]:[]],secret:process.env.PAYLOAD_SECRET||"",typescript:{outputFile:q().resolve(am,"payload-types.ts")}})}};