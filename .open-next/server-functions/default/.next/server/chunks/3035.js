"use strict";exports.id=3035,exports.ids=[3035],exports.modules={514:(a,b,c)=>{c.d(b,{OV:()=>e,TC:()=>g});var d=c(579);function e(a){return a}let f={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},g=a=>({applyToStack:b=>{b.add(b=>async c=>{if(!d.K.isInstance(c.request))return b(c);let{request:e}=c,{handlerProtocol:f=""}=a.requestHandler.metadata||{};if(f.indexOf("h2")>=0&&!e.headers[":authority"])delete e.headers.host,e.headers[":authority"]=e.hostname+(e.port?":"+e.port:"");else if(!e.headers.host){let a=e.hostname;null!=e.port&&(a+=`:${e.port}`),e.headers.host=a}return b(c)},f)}})},3640:(a,b,c)=>{c.d(b,{$z:()=>k,kN:()=>l,qs:()=>j});var d=c(65960),e=c(78476),f=c(34673),g=c(43311);let h="AWS_MAX_ATTEMPTS",i="max_attempts",j={environmentVariableSelector:a=>{let b=a[h];if(!b)return;let c=parseInt(b);if(Number.isNaN(c))throw Error(`Environment variable ${h} mast be a number, got "${b}"`);return c},configFileSelector:a=>{let b=a[i];if(!b)return;let c=parseInt(b);if(Number.isNaN(c))throw Error(`Shared config file entry ${i} mast be a number, got "${b}"`);return c},default:e.Gz},k=a=>{let{retryStrategy:b,retryMode:c,maxAttempts:h}=a,i=(0,d.t)(h??e.Gz);return Object.assign(a,{maxAttempts:i,retryStrategy:async()=>b||(await (0,d.t)(c)()===e.cm.ADAPTIVE?new f.Y(i):new g.r(i))})},l={environmentVariableSelector:a=>a.AWS_RETRY_MODE,configFileSelector:a=>a.retry_mode,default:e.L0}},13188:(a,b,c)=>{c.d(b,{n:()=>e});var d=c(73024);let e=a=>{if(!a)return 0;if("string"==typeof a)return Buffer.byteLength(a);if("number"==typeof a.byteLength)return a.byteLength;if("number"==typeof a.size)return a.size;if("number"==typeof a.start&&"number"==typeof a.end)return a.end+1-a.start;if(a instanceof d.ReadStream){if(null!=a.path)return(0,d.lstatSync)(a.path).size;else if("number"==typeof a.fd)return(0,d.fstatSync)(a.fd).size}throw Error(`Body Length computation failed for ${a}`)}},27033:(a,b,c)=>{c.d(b,{pf:()=>g});var d=c(21820),e=c(19771);let f={isCrtAvailable:!1},g=({serviceId:a,clientVersion:b})=>async c=>{let g=[["aws-sdk-js",b],["ua","2.1"],[`os/${(0,d.platform)()}`,(0,d.release)()],["lang/js"],["md/nodejs",`${e.versions.node}`]],h=f.isCrtAvailable?["md/crt-avail"]:null;h&&g.push(h),a&&g.push([`api/${a}`,b]),e.env.AWS_EXECUTION_ENV&&g.push([`exec-env/${e.env.AWS_EXECUTION_ENV}`]);let i=await c?.userAgentAppId?.();return i?[...g,[`app/${i}`]]:[...g]}},33319:(a,b,c)=>{c.d(b,{r:()=>i});var d=c(83646),e=c(92834),f=c(23301),g=c(4389);let h={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:d.Ou.name},i=(a,b)=>({applyToStack:c=>{c.addRelativeTo((({config:a,instructions:b})=>(c,d)=>async h=>{a.isCustomEndpoint&&(0,e.J)(d,"ENDPOINT_OVERRIDE","N");let i=await (0,g.r)(h.input,{getEndpointParameterInstructions:()=>b},{...a},d);d.endpointV2=i,d.authSchemes=i.properties?.authSchemes;let j=d.authSchemes?.[0];if(j){d.signing_region=j.signingRegion,d.signing_service=j.signingName;let a=(0,f.u)(d),b=a?.selectedHttpAuthScheme?.httpAuthOption;b&&(b.signingProperties=Object.assign(b.signingProperties||{},{signing_region:j.signingRegion,signingRegion:j.signingRegion,signing_service:j.signingName,signingName:j.signingName,signingRegionSet:j.signingRegionSet},j.properties))}return c({...h})})({config:a,instructions:b}),h)}})},54545:(a,b,c)=>{c.d(b,{n:()=>h});let d={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};var e=c(33157),f=c(579);let g="X-Amzn-Trace-Id",h=a=>({applyToStack:a=>{a.add(a=>async b=>{let{request:c}=b;if(!f.K.isInstance(c))return a(b);let d=Object.keys(c.headers??{}).find(a=>a.toLowerCase()===g.toLowerCase())??g;if(c.headers.hasOwnProperty(d))return a(b);let h=process.env.AWS_LAMBDA_FUNCTION_NAME,i=process.env._X_AMZN_TRACE_ID,j=e.InvokeStore.getXRayTraceId()??i,k=a=>"string"==typeof a&&a.length>0;return k(h)&&k(j)&&(c.headers[g]=j),a({...b,request:c})},d)}})},60817:(a,b,c)=>{c.d(b,{hV:()=>d});let d={environmentVariableSelector:a=>a.AWS_SDK_UA_APP_ID,configFileSelector:a=>a.sdk_ua_app_id??a["sdk-ua-app-id"],default:c(56708).b}},67110:(a,b,c)=>{c.d(b,{Y7:()=>e});let d={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},e=a=>({applyToStack:a=>{a.add((a,b)=>async c=>{try{let d=await a(c),{clientName:e,commandName:f,logger:g,dynamoDbDocumentClientOptions:h={}}=b,{overrideInputFilterSensitiveLog:i,overrideOutputFilterSensitiveLog:j}=h,k=i??b.inputFilterSensitiveLog,l=j??b.outputFilterSensitiveLog,{$metadata:m,...n}=d.output;return g?.info?.({clientName:e,commandName:f,input:k(c.input),output:l(n),metadata:m}),d}catch(i){let{clientName:a,commandName:d,logger:e,dynamoDbDocumentClientOptions:f={}}=b,{overrideInputFilterSensitiveLog:g}=f,h=g??b.inputFilterSensitiveLog;throw e?.error?.({clientName:a,commandName:d,input:h(c.input),error:i,metadata:i.$metadata}),i}},d)}})},76022:(a,b,c)=>{c.d(b,{I:()=>k});var d=c(69494),e=c(67821),f=c(36738);let g="AWS_REGION",h="AWS_DEFAULT_REGION",i=["in-region","cross-region","mobile","standard","legacy"],j={environmentVariableSelector:a=>a.AWS_DEFAULTS_MODE,configFileSelector:a=>a.defaults_mode,default:"legacy"},k=({region:a=(0,e.Z)(d.GG),defaultsMode:b=(0,e.Z)(j)}={})=>(0,f.B)(async()=>{let c="function"==typeof b?await b():b;switch(c?.toLowerCase()){case"auto":return l(a);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(c?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw Error(`Invalid parameter for "defaultsMode", expect ${i.join(", ")}, got ${c}`)}}),l=async a=>{if(a){let b="function"==typeof a?await a():a,c=await m();return c?b===c?"in-region":"cross-region":"standard"}return"standard"},m=async()=>{if(process.env.AWS_EXECUTION_ENV&&(process.env[g]||process.env[h]))return process.env[g]??process.env[h];if(!process.env.AWS_EC2_METADATA_DISABLED)try{let{getInstanceMetadataEndpoint:a,httpRequest:b}=await c.e(8743).then(c.bind(c,98743)),d=await a();return(await b({...d,path:"/latest/meta-data/placement/region"})).toString()}catch(a){}}},76282:(a,b,c)=>{c.d(b,{ey:()=>p});var d=c(579),e=c(42887),f=c(13917),g=c(26666),h=c(29317),i=c(6601),j=c(27910);let k=a=>a?.body instanceof j.Readable||"undefined"!=typeof ReadableStream&&a?.body instanceof ReadableStream,l=a=>a instanceof Error?a:a instanceof Object?Object.assign(Error(),a):"string"==typeof a?Error(a):Error(`AWS SDK error wrapper for ${a}`),m=a=>{let b={error:a,errorType:n(a)},c=q(a.$response);return c&&(b.retryAfterHint=c),b},n=a=>(0,f.isThrottlingError)(a)?"THROTTLING":(0,f.isTransientError)(a)?"TRANSIENT":(0,f.isServerError)(a)?"SERVER_ERROR":"CLIENT_ERROR",o={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},p=a=>({applyToStack:b=>{b.add((a=>(b,c)=>async e=>{let f=await a.retryStrategy(),j=await a.maxAttempts();if(!(a=>void 0!==a.acquireInitialRetryToken&&void 0!==a.refreshRetryTokenForRetry&&void 0!==a.recordSuccess)(f))return f?.mode&&(c.userAgent=[...c.userAgent||[],["cfg/retry-mode",f.mode]]),f.retry(b,e);{let a=await f.acquireInitialRetryToken(c.partition_id),n=Error(),o=0,p=0,{request:q}=e,r=d.K.isInstance(q);for(r&&(q.headers[h.l5]=(0,i.v4)());;)try{r&&(q.headers[h.ok]=`attempt=${o+1}; max=${j}`);let{response:c,output:d}=await b(e);return f.recordSuccess(a),d.$metadata.attempts=o+1,d.$metadata.totalRetryDelay=p,{response:c,output:d}}catch(e){let b=m(e);if(n=l(e),r&&k(q))throw(c.logger instanceof g.N?console:c.logger)?.warn("An error was encountered in a non-retryable streaming request."),n;try{a=await f.refreshRetryTokenForRetry(a,b)}catch(a){throw n.$metadata||(n.$metadata={}),n.$metadata.attempts=o+1,n.$metadata.totalRetryDelay=p,n}o=a.getRetryCount();let d=a.getRetryDelay();p+=d,await new Promise(a=>setTimeout(a,d))}}})(a),o)}}),q=a=>{if(!e.c.isInstance(a))return;let b=Object.keys(a.headers).find(a=>"retry-after"===a.toLowerCase());if(!b)return;let c=a.headers[b],d=Number(c);return new Date(Number.isNaN(d)?c:1e3*d)}},80850:(a,b,c)=>{c.d(b,{V:()=>h});var d=c(59213),e=c(91067),f=c(57047),g=c(55511);class h{algorithmIdentifier;secret;hash;constructor(a,b){this.algorithmIdentifier=a,this.secret=b,this.reset()}update(a,b){this.hash.update((0,e.F)(i(a,b)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,g.createHmac)(this.algorithmIdentifier,i(this.secret)):(0,g.createHash)(this.algorithmIdentifier)}}function i(a,b){return f.Buffer.isBuffer(a)?a:"string"==typeof a?(0,d.fromString)(a,b):ArrayBuffer.isView(a)?(0,d.fromArrayBuffer)(a.buffer,a.byteOffset,a.byteLength):(0,d.fromArrayBuffer)(a)}},94130:(a,b,c)=>{c.d(b,{C:()=>g});var d=c(65960),e=c(71476),f=c(38108);let g=a=>{let b,c=a.tls??!0,{endpoint:g,useDualstackEndpoint:h,useFipsEndpoint:i}=a,j=Object.assign(a,{endpoint:null!=g?async()=>(0,f.a)(await (0,d.t)(g)()):void 0,tls:c,isCustomEndpoint:!!g,useDualstackEndpoint:(0,d.t)(h??!1),useFipsEndpoint:(0,d.t)(i??!1)});return j.serviceConfiguredEndpoint=async()=>(a.serviceId&&!b&&(b=(0,e.k)(a.serviceId)),b),j}},94514:(a,b,c)=>{c.d(b,{vK:()=>g});var d=c(579);let e="content-length",f={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},g=a=>({applyToStack:b=>{var c;b.add((c=a.bodyLengthChecker,a=>async b=>{let f=b.request;if(d.K.isInstance(f)){let{body:a,headers:b}=f;if(a&&-1===Object.keys(b).map(a=>a.toLowerCase()).indexOf(e))try{let b=c(a);f.headers={...f.headers,[e]:String(b)}}catch(a){}}return a({...b,request:f})}),f)}})},98695:(a,b,c)=>{c.d(b,{$:()=>e,R:()=>d});let d=a=>({setRegion(b){a.region=b},region:()=>a.region}),e=a=>({region:a.region()})}};