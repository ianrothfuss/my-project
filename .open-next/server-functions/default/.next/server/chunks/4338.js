"use strict";exports.id=4338,exports.ids=[4338],exports.modules={54338:(a,b,c)=>{c.r(b),c.d(b,{RelationshipComponent:()=>q});var d=c(2754),e=c(74970),f=c(45436),g=c(14600),h=c(48824),i=c(50291),j=c(44059),k=c(9109),l=c(9796),m=c(98405),n=c(869),o="lexical-relationship",p={depth:0},q=a=>{let{data:{relationTo:b,value:c},nodeKey:q}=a;if("object"==typeof c)throw Error("Relationship value should be a string or number. The Lexical Relationship component should not receive the populated value object.");let r=(0,n.useRef)(null),[s]=(0,g.DF)(),t=(0,h.a)(),{config:{routes:{api:u},serverURL:v},getEntityConfig:w}=(0,j.b)(),[x]=(0,n.useState)(()=>w({collectionSlug:b})),{i18n:y,t:z}=(0,k.d)(),[A,B]=(0,n.useReducer)(a=>a+1,0),[{data:C},{setParams:D}]=(0,l.usePayloadAPI)(`${v}${u}/${x.slug}/${c}`,{initialParams:p}),{closeDocumentDrawer:E,DocumentDrawer:F,DocumentDrawerToggler:G}=(0,e.a)({id:c,collectionSlug:x.slug}),H=(0,n.useCallback)(()=>{s.update(()=>{(0,m.nsf)(q)?.remove()})},[s,q]),I=n.useCallback(()=>{D({...p,cacheBust:A}),E(),B()},[A,D,E]);return(0,f.jsxs)("div",{className:o,contentEditable:!1,ref:r,children:[(0,f.jsxs)("div",{className:`${o}__wrap`,children:[(0,f.jsx)("p",{className:`${o}__label`,children:z("fields:labelRelationship",{label:x.labels?.singular?(0,i.s)(x.labels?.singular,y):x.slug})}),(0,f.jsx)(G,{className:`${o}__doc-drawer-toggler`,children:(0,f.jsx)("p",{className:`${o}__title`,children:C?C[x?.admin?.useAsTitle||"id"]:c})})]}),t&&(0,f.jsxs)("div",{className:`${o}__actions`,children:[(0,f.jsx)(l.Button,{buttonStyle:"icon-label",className:`${o}__swapButton`,disabled:!t,el:"button",icon:"swap",onClick:()=>{q&&s.dispatchCommand(d.a,{replace:{nodeKey:q}})},round:!0,tooltip:z("fields:swapRelationship")}),(0,f.jsx)(l.Button,{buttonStyle:"icon-label",className:`${o}__removeButton`,disabled:!t,icon:"x",onClick:a=>{a.preventDefault(),H()},round:!0,tooltip:z("fields:removeRelationship")})]}),!!c&&(0,f.jsx)(F,{onSave:I})]})}}};