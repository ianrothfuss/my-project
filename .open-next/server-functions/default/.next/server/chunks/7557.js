exports.id=7557,exports.ids=[7557],exports.modules={44:a=>{"use strict";function b(a,b){return b}a.exports=function(){let a=Error.prepareStackTrace;Error.prepareStackTrace=b;let c=Error().stack;if(Error.prepareStackTrace=a,!Array.isArray(c))return;let d=c.slice(2),e=[];for(let a of d)a&&e.push(a.getFileName());return e}},65:(a,b,c)=>{"use strict";c.r(b),c.d(b,{isArrayBuffer:()=>d});let d=a=>"function"==typeof ArrayBuffer&&a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a)},212:a=>{"use strict";class b extends Error{constructor(a,b){super(a,b),this.name="UndiciError",this.code="UND_ERR"}}class c extends b{constructor(a){super(a),this.name="ConnectTimeoutError",this.message=a||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}}class d extends b{constructor(a){super(a),this.name="HeadersTimeoutError",this.message=a||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}}class e extends b{constructor(a){super(a),this.name="HeadersOverflowError",this.message=a||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}}class f extends b{constructor(a){super(a),this.name="BodyTimeoutError",this.message=a||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}}class g extends b{constructor(a,b,c,d){super(a),this.name="ResponseStatusCodeError",this.message=a||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=d,this.status=b,this.statusCode=b,this.headers=c}}class h extends b{constructor(a){super(a),this.name="InvalidArgumentError",this.message=a||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}}class i extends b{constructor(a){super(a),this.name="InvalidReturnValueError",this.message=a||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}}class j extends b{constructor(a){super(a),this.name="AbortError",this.message=a||"The operation was aborted"}}class k extends j{constructor(a){super(a),this.name="AbortError",this.message=a||"Request aborted",this.code="UND_ERR_ABORTED"}}class l extends b{constructor(a){super(a),this.name="InformationalError",this.message=a||"Request information",this.code="UND_ERR_INFO"}}class m extends b{constructor(a){super(a),this.name="RequestContentLengthMismatchError",this.message=a||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}}class o extends b{constructor(a){super(a),this.name="ResponseContentLengthMismatchError",this.message=a||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}}class p extends b{constructor(a){super(a),this.name="ClientDestroyedError",this.message=a||"The client is destroyed",this.code="UND_ERR_DESTROYED"}}class q extends b{constructor(a){super(a),this.name="ClientClosedError",this.message=a||"The client is closed",this.code="UND_ERR_CLOSED"}}class r extends b{constructor(a,b){super(a),this.name="SocketError",this.message=a||"Socket error",this.code="UND_ERR_SOCKET",this.socket=b}}class s extends b{constructor(a){super(a),this.name="NotSupportedError",this.message=a||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}}class t extends b{constructor(a){super(a),this.name="MissingUpstreamError",this.message=a||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}}class u extends Error{constructor(a,b,c){super(a),this.name="HTTPParserError",this.code=b?`HPE_${b}`:void 0,this.data=c?c.toString():void 0}}class v extends b{constructor(a){super(a),this.name="ResponseExceededMaxSizeError",this.message=a||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}}class w extends b{constructor(a,b,{headers:c,data:d}){super(a),this.name="RequestRetryError",this.message=a||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=b,this.data=d,this.headers=c}}class x extends b{constructor(a,b,{headers:c,body:d}){super(a),this.name="ResponseError",this.message=a||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=b,this.body=d,this.headers=c}}class y extends b{constructor(a,b,c={}){super(b,{cause:a,...c}),this.name="SecureProxyConnectionError",this.message=b||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=a}}a.exports={AbortError:j,HTTPParserError:u,UndiciError:b,HeadersTimeoutError:d,HeadersOverflowError:e,BodyTimeoutError:f,RequestContentLengthMismatchError:m,ConnectTimeoutError:c,ResponseStatusCodeError:g,InvalidArgumentError:h,InvalidReturnValueError:i,RequestAbortedError:k,ClientDestroyedError:p,ClientClosedError:q,InformationalError:l,SocketError:r,NotSupportedError:s,ResponseContentLengthMismatchError:o,BalancedPoolMissingUpstreamError:t,ResponseExceededMaxSizeError:v,RequestRetryError:w,ResponseError:x,SecureProxyConnectionError:y}},215:(a,b,c)=>{"use strict";c.d(b,{a:()=>d});let d=a=>{for(let b in a){let c=a[b];if(!1===c)return"exclude";if("object"==typeof c)return d(c)}return"include"}},219:a=>{"use strict";a.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}},246:(a,b,c)=>{"use strict";let{tokenChars:d}=c(15345);a.exports={parse:function(a){let b=new Set,c=-1,e=-1,f=0;for(;f<a.length;f++){let g=a.charCodeAt(f);if(-1===e&&1===d[g])-1===c&&(c=f);else if(0!==f&&(32===g||9===g))-1===e&&-1!==c&&(e=f);else if(44===g){if(-1===c)throw SyntaxError(`Unexpected character at index ${f}`);-1===e&&(e=f);let d=a.slice(c,e);if(b.has(d))throw SyntaxError(`The "${d}" subprotocol is duplicated`);b.add(d),c=e=-1}else throw SyntaxError(`Unexpected character at index ${f}`)}if(-1===c||-1!==e)throw SyntaxError("Unexpected end of input");let g=a.slice(c,f);if(b.has(g))throw SyntaxError(`The "${g}" subprotocol is duplicated`);return b.add(g),b}}},330:(a,b,c)=>{"use strict";c.r(b),c.d(b,{EventStreamMarshaller:()=>G,eventStreamSerdeProvider:()=>H});var d,e=c(10822),f=c(38751);class g{bytes;constructor(a){if(this.bytes=a,8!==a.byteLength)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(a){if(a>0x8000000000000000||a<-0x8000000000000000)throw Error(`${a} is too large (or, if negative, too small) to represent as an Int64`);let b=new Uint8Array(8);for(let c=7,d=Math.abs(Math.round(a));c>-1&&d>0;c--,d/=256)b[c]=d;return a<0&&h(b),new g(b)}valueOf(){let a=this.bytes.slice(0),b=128&a[0];return b&&h(a),parseInt((0,f.toHex)(a),16)*(b?-1:1)}toString(){return String(this.valueOf())}}function h(a){for(let b=0;b<8;b++)a[b]^=255;for(let b=7;b>-1&&(a[b]++,0===a[b]);b--);}class i{toUtf8;fromUtf8;constructor(a,b){this.toUtf8=a,this.fromUtf8=b}format(a){let b=[];for(let c of Object.keys(a)){let d=this.fromUtf8(c);b.push(Uint8Array.from([d.byteLength]),d,this.formatHeaderValue(a[c]))}let c=new Uint8Array(b.reduce((a,b)=>a+b.byteLength,0)),d=0;for(let a of b)c.set(a,d),d+=a.byteLength;return c}formatHeaderValue(a){switch(a.type){case"boolean":return Uint8Array.from([+!a.value]);case"byte":return Uint8Array.from([2,a.value]);case"short":let b=new DataView(new ArrayBuffer(3));return b.setUint8(0,3),b.setInt16(1,a.value,!1),new Uint8Array(b.buffer);case"integer":let c=new DataView(new ArrayBuffer(5));return c.setUint8(0,4),c.setInt32(1,a.value,!1),new Uint8Array(c.buffer);case"long":let d=new Uint8Array(9);return d[0]=5,d.set(a.value.bytes,1),d;case"binary":let e=new DataView(new ArrayBuffer(3+a.value.byteLength));e.setUint8(0,6),e.setUint16(1,a.value.byteLength,!1);let h=new Uint8Array(e.buffer);return h.set(a.value,3),h;case"string":let i=this.fromUtf8(a.value),j=new DataView(new ArrayBuffer(3+i.byteLength));j.setUint8(0,7),j.setUint16(1,i.byteLength,!1);let k=new Uint8Array(j.buffer);return k.set(i,3),k;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(g.fromNumber(a.value.valueOf()).bytes,1),l;case"uuid":if(!t.test(a.value))throw Error(`Invalid UUID received: ${a.value}`);let m=new Uint8Array(17);return m[0]=9,m.set((0,f.fromHex)(a.value.replace(/\-/g,"")),1),m}}parse(a){let b={},c=0;for(;c<a.byteLength;){let d=a.getUint8(c++),e=this.toUtf8(new Uint8Array(a.buffer,a.byteOffset+c,d));switch(c+=d,a.getUint8(c++)){case 0:b[e]={type:j,value:!0};break;case 1:b[e]={type:j,value:!1};break;case 2:b[e]={type:k,value:a.getInt8(c++)};break;case 3:b[e]={type:l,value:a.getInt16(c,!1)},c+=2;break;case 4:b[e]={type:m,value:a.getInt32(c,!1)},c+=4;break;case 5:b[e]={type:o,value:new g(new Uint8Array(a.buffer,a.byteOffset+c,8))},c+=8;break;case 6:let h=a.getUint16(c,!1);c+=2,b[e]={type:p,value:new Uint8Array(a.buffer,a.byteOffset+c,h)},c+=h;break;case 7:let i=a.getUint16(c,!1);c+=2,b[e]={type:q,value:this.toUtf8(new Uint8Array(a.buffer,a.byteOffset+c,i))},c+=i;break;case 8:b[e]={type:r,value:new Date(new g(new Uint8Array(a.buffer,a.byteOffset+c,8)).valueOf())},c+=8;break;case 9:let t=new Uint8Array(a.buffer,a.byteOffset+c,16);c+=16,b[e]={type:s,value:`${(0,f.toHex)(t.subarray(0,4))}-${(0,f.toHex)(t.subarray(4,6))}-${(0,f.toHex)(t.subarray(6,8))}-${(0,f.toHex)(t.subarray(8,10))}-${(0,f.toHex)(t.subarray(10))}`};break;default:throw Error("Unrecognized header type tag")}}return b}}!function(a){a[a.boolTrue=0]="boolTrue",a[a.boolFalse=1]="boolFalse",a[a.byte=2]="byte",a[a.short=3]="short",a[a.integer=4]="integer",a[a.long=5]="long",a[a.byteArray=6]="byteArray",a[a.string=7]="string",a[a.timestamp=8]="timestamp",a[a.uuid=9]="uuid"}(d||(d={}));let j="boolean",k="byte",l="short",m="integer",o="long",p="binary",q="string",r="timestamp",s="uuid",t=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,u=4,v=8,w=4,x=16;function y({byteLength:a,byteOffset:b,buffer:c}){if(a<x)throw Error("Provided message too short to accommodate event stream message overhead");let d=new DataView(c,b,a),f=d.getUint32(0,!1);if(a!==f)throw Error("Reported message length does not match received message length");let g=d.getUint32(u,!1),h=d.getUint32(v,!1),i=d.getUint32(a-w,!1),j=new e.Crc32().update(new Uint8Array(c,b,v));if(h!==j.digest())throw Error(`The prelude checksum specified in the message (${h}) does not match the calculated CRC32 checksum (${j.digest()})`);if(j.update(new Uint8Array(c,b+v,a-(v+w))),i!==j.digest())throw Error(`The message checksum (${j.digest()}) did not match the expected value of ${i}`);return{headers:new DataView(c,b+v+w,g),body:new Uint8Array(c,b+v+w+g,f-g-(v+w+w))}}class z{headerMarshaller;messageBuffer;isEndOfStream;constructor(a,b){this.headerMarshaller=new i(a,b),this.messageBuffer=[],this.isEndOfStream=!1}feed(a){this.messageBuffer.push(this.decode(a))}endOfStream(){this.isEndOfStream=!0}getMessage(){let a=this.messageBuffer.pop(),b=this.isEndOfStream;return{getMessage:()=>a,isEndOfStream:()=>b}}getAvailableMessages(){let a=this.messageBuffer;this.messageBuffer=[];let b=this.isEndOfStream;return{getMessages:()=>a,isEndOfStream:()=>b}}encode({headers:a,body:b}){let c=this.headerMarshaller.format(a),d=c.byteLength+b.byteLength+16,f=new Uint8Array(d),g=new DataView(f.buffer,f.byteOffset,f.byteLength),h=new e.Crc32;return g.setUint32(0,d,!1),g.setUint32(4,c.byteLength,!1),g.setUint32(8,h.update(f.subarray(0,8)).digest(),!1),f.set(c,12),f.set(b,c.byteLength+12),g.setUint32(d-4,h.update(f.subarray(8,d-4)).digest(),!1),f}decode(a){let{headers:b,body:c}=y(a);return{headers:this.headerMarshaller.parse(b),body:c}}formatHeaders(a){return this.headerMarshaller.format(a)}}class A{options;constructor(a){this.options=a}[Symbol.asyncIterator](){return this.asyncIterator()}async *asyncIterator(){for await(let a of this.options.messageStream){let b=await this.options.deserializer(a);void 0!==b&&(yield b)}}}class B{options;constructor(a){this.options=a}[Symbol.asyncIterator](){return this.asyncIterator()}async *asyncIterator(){for await(let a of this.options.inputStream){let b=this.options.decoder.decode(a);yield b}}}class C{options;constructor(a){this.options=a}[Symbol.asyncIterator](){return this.asyncIterator()}async *asyncIterator(){for await(let a of this.options.messageStream){let b=this.options.encoder.encode(a);yield b}this.options.includeEndFrame&&(yield new Uint8Array(0))}}class D{options;constructor(a){this.options=a}[Symbol.asyncIterator](){return this.asyncIterator()}async *asyncIterator(){for await(let a of this.options.inputStream){let b=this.options.serializer(a);yield b}}}function E(a){let b=0,c=0,d=null,e=null,f=a=>{if("number"!=typeof a)throw Error("Attempted to allocate an event message where size was not a number: "+a);b=a,c=4,new DataView((d=new Uint8Array(a)).buffer).setUint32(0,a,!1)};return{[Symbol.asyncIterator]:async function*(){let g=a[Symbol.asyncIterator]();for(;;){let{value:a,done:h}=await g.next();if(h){if(b)if(b===c)yield d;else throw Error("Truncated event message received.");return}let i=a.length,j=0;for(;j<i;){if(!d){let b=i-j;e||(e=new Uint8Array(4));let d=Math.min(4-c,b);if(e.set(a.slice(j,j+d),c),c+=d,j+=d,c<4)break;f(new DataView(e.buffer).getUint32(0,!1)),e=null}let g=Math.min(b-c,i-j);d.set(a.slice(j,j+g),c),c+=g,j+=g,b&&b===c&&(yield d,d=null,b=0,c=0)}}}}}function F(a,b){return async function(c){let{value:d}=c.headers[":message-type"];if("error"===d){let a=Error(c.headers[":error-message"].value||"UnknownError");throw a.name=c.headers[":error-code"].value,a}if("exception"===d){let d=c.headers[":exception-type"].value,e={[d]:c},f=await a(e);if(f.$unknown){let a=Error(b(c.body));throw a.name=d,a}throw f[d]}if("event"===d){let b={[c.headers[":event-type"].value]:c},d=await a(b);if(d.$unknown)return;return d}throw Error(`Unrecognizable event type: ${c.headers[":event-type"].value}`)}}class G{eventStreamCodec;utfEncoder;constructor({utf8Encoder:a,utf8Decoder:b}){this.eventStreamCodec=new z(a,b),this.utfEncoder=a}deserialize(a,b){return new A({messageStream:new B({inputStream:E(a),decoder:this.eventStreamCodec}),deserializer:F(b,this.utfEncoder)})}serialize(a,b){return new C({messageStream:new D({inputStream:a,serializer:b}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}let H=a=>new G(a)},370:(a,b,c)=>{"use strict";c.d(b,{j:()=>k});var d=c(25083),e=c(2431),f=c(70151),g=c(215),h=c(53216),i=c(32609),j=c(6125);let k=async a=>{let{slug:b,depth:c,draft:k=!1,flattenLocales:l,globalConfig:m,includeLockStatus:o,overrideAccess:p=!1,populate:q,req:{fallbackLocale:r,locale:s},req:t,select:u,showHiddenFields:v}=a;try{let h;if(m.hooks?.beforeOperation?.length)for(let b of m.hooks.beforeOperation)a=await b({args:a,context:a.req.context,global:m,operation:"read",req:a.req})||a;p||(h=await (0,d.m)({req:t},m.access.read));let w=(0,i.Y)({fields:m.flattenedFields,forceSelect:m.forceSelect,select:u}),x=a.data??await t.payload.db.findGlobal({slug:b,locale:s,req:t,select:w,where:p?void 0:h});if(x||(x={}),o&&b){let a=null;try{let c=m?.lockDocuments,d=300,e="object"==typeof c?c.duration:d,g=1e3*e,h=await t.payload.find({collection:f.q,depth:1,limit:1,overrideAccess:!1,pagination:!1,req:t,where:{and:[{globalSlug:{equals:b}},{updatedAt:{greater_than:new Date(new Date().getTime()-g)}}]}});h&&h.docs.length>0&&(a=h.docs[0])}catch{}x._isLocked=!!a,x._userEditing=a?.user?.value??null}if(m.versions?.drafts&&k&&(x=await (0,j.M)({accessResult:h,doc:x,entity:m,entityType:"global",overrideAccess:p,req:t,select:w})),m.hooks?.beforeRead?.length)for(let a of m.hooks.beforeRead)x=await a({context:t.context,doc:x,global:m,req:t})||x;if(w&&x.globalType){let a=(0,g.a)(w);("include"!==a||w.globalType)&&("exclude"!==a||!1!==w.globalType)||delete x.globalType}if(x=await (0,e.v)({collection:null,context:t.context,depth:c,doc:x,draft:k,fallbackLocale:r,flattenLocales:l,global:m,locale:s,overrideAccess:p,populate:q,req:t,select:w,showHiddenFields:v}),m.hooks?.afterRead?.length)for(let a of m.hooks.afterRead)x=await a({context:t.context,doc:x,global:m,req:t})||x;return x}catch(a){throw await (0,h.J)(t),a}}},579:(a,b,c)=>{"use strict";c.d(b,{K:()=>d});class d{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(a){this.method=a.method||"GET",this.hostname=a.hostname||"localhost",this.port=a.port,this.query=a.query||{},this.headers=a.headers||{},this.body=a.body,this.protocol=a.protocol?":"!==a.protocol.slice(-1)?`${a.protocol}:`:a.protocol:"https:",this.path=a.path?"/"!==a.path.charAt(0)?`/${a.path}`:a.path:"/",this.username=a.username,this.password=a.password,this.fragment=a.fragment}static clone(a){let b=new d({...a,headers:{...a.headers}});return b.query&&(b.query=e(b.query)),b}static isInstance(a){if(!a)return!1;let b=a;return"method"in b&&"protocol"in b&&"hostname"in b&&"path"in b&&"object"==typeof b.query&&"object"==typeof b.headers}clone(){return d.clone(this)}}function e(a){return Object.keys(a).reduce((b,c)=>{let d=a[c];return{...b,[c]:Array.isArray(d)?[...d]:d}},{})}},788:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.renderTable=b.printTable=b.Table=void 0,b.Table=d(c(78644)).default;let e=c(82592);Object.defineProperty(b,"printTable",{enumerable:!0,get:function(){return e.printSimpleTable}}),Object.defineProperty(b,"renderTable",{enumerable:!0,get:function(){return e.renderSimpleTable}})},838:(a,b,c)=>{"use strict";c.d(b,{c:()=>d});class d extends Error{constructor(a){super(a),this.name="EndpointError"}}},930:(a,b,c)=>{"use strict";let d=c(55511),e=c(43272);a.exports=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw Error("Both scmp args must be Buffers");return a.length===b.length&&(d.timingSafeEqual?d.timingSafeEqual(a,b):e(a,b))}},1055:a=>{"use strict";a.exports=Math.floor},1146:a=>{"use strict";a.exports={mapHttpRequest:e,reqSerializer:d};let b=Symbol("pino-raw-req-ref"),c=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[b]},set:function(a){this[b]=a}}});function d(a){let b=a.info||a.socket,d=Object.create(c);if(d.id="function"==typeof a.id?a.id():a.id||(a.info?a.info.id:void 0),d.method=a.method,a.originalUrl)d.url=a.originalUrl;else{let b=a.path;d.url="string"==typeof b?b:a.url?a.url.path||a.url:void 0}return a.query&&(d.query=a.query),a.params&&(d.params=a.params),d.headers=a.headers,d.remoteAddress=b&&b.remoteAddress,d.remotePort=b&&b.remotePort,d.raw=a.raw||a,d}function e(a){return{req:d(a)}}Object.defineProperty(c,b,{writable:!0,value:{}})},1207:(a,b,c)=>{"use strict";c.d(b,{T:()=>f});let d=a=>"string"==typeof a&&(a.startsWith("fips-")||a.endsWith("-fips")),e=a=>d(a)?["fips-aws-global","aws-fips"].includes(a)?"us-east-1":a.replace(/fips-(dkr-|prod-)?|-fips/,""):a,f=a=>{let{region:b,useFipsEndpoint:c}=a;if(!b)throw Error("Region is missing");return Object.assign(a,{region:async()=>"string"==typeof b?e(b):e(await b()),useFipsEndpoint:async()=>!!d("string"==typeof b?b:await b())||("function"!=typeof c?Promise.resolve(!!c):c())})}},1298:a=>{"use strict";let b="\x1b",c=`${b}[`,d="\x07",e={to:(a,b)=>b?`${c}${b+1};${a+1}H`:`${c}${a+1}G`,move(a,b){let d="";return a<0?d+=`${c}${-a}D`:a>0&&(d+=`${c}${a}C`),b<0?d+=`${c}${-b}A`:b>0&&(d+=`${c}${b}B`),d},up:(a=1)=>`${c}${a}A`,down:(a=1)=>`${c}${a}B`,forward:(a=1)=>`${c}${a}C`,backward:(a=1)=>`${c}${a}D`,nextLine:(a=1)=>`${c}E`.repeat(a),prevLine:(a=1)=>`${c}F`.repeat(a),left:`${c}G`,hide:`${c}?25l`,show:`${c}?25h`,save:`${b}7`,restore:`${b}8`},f={up:(a=1)=>`${c}S`.repeat(a),down:(a=1)=>`${c}T`.repeat(a)},g={screen:`${c}2J`,up:(a=1)=>`${c}1J`.repeat(a),down:(a=1)=>`${c}J`.repeat(a),line:`${c}2K`,lineEnd:`${c}K`,lineStart:`${c}1K`,lines(a){let b="";for(let c=0;c<a;c++)b+=this.line+(c<a-1?e.up():"");return a&&(b+=e.left),b}};a.exports={cursor:e,scroll:f,erase:g,beep:d}},1466:(a,b,c)=>{"use strict";c.d(b,{Y:()=>l});var d=c(56753),e=c(50474),f=c(58328),g=c(13885),h=c(53306),i=c(11121);let j={type:"element",dependencies:[d.v5,d.YW],export:(a,b)=>(0,d.HY)(a)?(0,i.p)(a,b,0):null,regExp:/^(\s*)(\d+)\.\s/,replace:(0,i.b)("number")},k={ar:{label:"قائمة مرتبة"},az:{label:"Sıralı Siyahı"},bg:{label:"Подреден списък"},cs:{label:"Seřazen\xfd seznam"},da:{label:"Ordnet Liste"},de:{label:"Geordnete Liste"},en:{label:"Ordered List"},es:{label:"Lista ordenada"},et:{label:"Sorteeritud loend"},fa:{label:"لیست مرتب شده"},fr:{label:"Liste ordonn\xe9e"},he:{label:"רשימה ממוינת"},hr:{label:"Naručeni popis"},hu:{label:"Rendelt lista"},is:{label:"Ra\xf0a\xf0ur listi"},it:{label:"Elenco ordinato"},ja:{label:"順序付きリスト"},ko:{label:"주문된 목록"},my:{label:"စီစဉ်ထားသော စာရင်း"},nb:{label:"Ordnet Liste"},nl:{label:"Geordende Lijst"},pl:{label:"Uporządkowana lista"},pt:{label:"Lista Ordenada"},ro:{label:"Lista ordonată"},rs:{label:"Уређена листа"},"rs-latin":{label:"Uređena lista"},ru:{label:"Упорядоченный список"},sk:{label:"Zoraden\xfd zoznam"},sl:{label:"Urejen seznam"},sv:{label:"Ordnad Lista"},ta:{label:"வரிசைப்படுத்தப்பட்ட பட்டியல்"},th:{label:"รายการที่ถูกจัดลำดับ"},tr:{label:"Sıralı Liste"},uk:{label:"Впорядкований список"},vi:{label:"Danh s\xe1ch đ\xe3 sắp xếp"},zh:{label:"有序列表"},"zh-TW":{label:"有序列表"}},l=(0,e.m)({feature:({featureProviderMap:a})=>({ClientFeature:"@payloadcms/richtext-lexical/client#OrderedListFeatureClient",i18n:k,markdownTransformers:[j],nodes:(0,h.Z)("ordered",a)?[(0,f.R)({converters:{html:g.O},node:d.v5}),(0,f.R)({converters:{html:g.F},node:d.YW})]:[]}),key:"orderedList"})},1501:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.ValueScope=b.ValueScopeName=b.Scope=b.varKinds=b.UsedValueState=void 0;let e=c(82888);class f extends Error{constructor(a){super(`CodeGen: "code" for ${a} not defined`),this.value=a.value}}!function(a){a[a.Started=0]="Started",a[a.Completed=1]="Completed"}(d||(b.UsedValueState=d={})),b.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class g{constructor({prefixes:a,parent:b}={}){this._names={},this._prefixes=a,this._parent=b}toName(a){return a instanceof e.Name?a:this.name(a)}name(a){return new e.Name(this._newName(a))}_newName(a){let b=this._names[a]||this._nameGroup(a);return`${a}${b.index++}`}_nameGroup(a){var b,c;if((null==(c=null==(b=this._parent)?void 0:b._prefixes)?void 0:c.has(a))||this._prefixes&&!this._prefixes.has(a))throw Error(`CodeGen: prefix "${a}" is not allowed in this scope`);return this._names[a]={prefix:a,index:0}}}b.Scope=g;class h extends e.Name{constructor(a,b){super(b),this.prefix=a}setValue(a,{property:b,itemIndex:c}){this.value=a,this.scopePath=(0,e._)`.${new e.Name(b)}[${c}]`}}b.ValueScopeName=h;let i=(0,e._)`\n`;class j extends g{constructor(a){super(a),this._values={},this._scope=a.scope,this.opts={...a,_n:a.lines?i:e.nil}}get(){return this._scope}name(a){return new h(a,this._newName(a))}value(a,b){var c;if(void 0===b.ref)throw Error("CodeGen: ref must be passed in value");let d=this.toName(a),{prefix:e}=d,f=null!=(c=b.key)?c:b.ref,g=this._values[e];if(g){let a=g.get(f);if(a)return a}else g=this._values[e]=new Map;g.set(f,d);let h=this._scope[e]||(this._scope[e]=[]),i=h.length;return h[i]=b.ref,d.setValue(b,{property:e,itemIndex:i}),d}getValue(a,b){let c=this._values[a];if(c)return c.get(b)}scopeRefs(a,b=this._values){return this._reduceValues(b,b=>{if(void 0===b.scopePath)throw Error(`CodeGen: name "${b}" has no value`);return(0,e._)`${a}${b.scopePath}`})}scopeCode(a=this._values,b,c){return this._reduceValues(a,a=>{if(void 0===a.value)throw Error(`CodeGen: name "${a}" has no value`);return a.value.code},b,c)}_reduceValues(a,c,g={},h){let i=e.nil;for(let j in a){let k=a[j];if(!k)continue;let l=g[j]=g[j]||new Map;k.forEach(a=>{if(l.has(a))return;l.set(a,d.Started);let g=c(a);if(g){let c=this.opts.es5?b.varKinds.var:b.varKinds.const;i=(0,e._)`${i}${c} ${a} = ${g};${this.opts._n}`}else if(g=null==h?void 0:h(a))i=(0,e._)`${i}${g}${this.opts._n}`;else throw new f(a);l.set(a,d.Completed)})}return i}}b.ValueScope=j},1689:(a,b,c)=>{"use strict";let d=c(29021),e=c(94735),f=c(28354).inherits,g=c(33873),h=c(91916),i=c(12412),j=100,k=Buffer.allocUnsafe(0),l=16384,m="buffer",o="utf8",[p,q]=(process.versions.node||"0.0").split(".").map(Number),r=p>=22&&q>=7;function s(a,b){function c(c,d){if(c){b._reopening=!1,b._writing=!1,b._opening=!1,b.sync?process.nextTick(()=>{b.listenerCount("error")>0&&b.emit("error",c)}):b.emit("error",c);return}let e=b._reopening;b.fd=d,b.file=a,b._reopening=!1,b._opening=!1,b._writing=!1,b.sync?process.nextTick(()=>b.emit("ready")):b.emit("ready"),!b.destroyed&&(!b._writing&&b._len>b.minLength||b._flushPending?b._actualWrite():e&&process.nextTick(()=>b.emit("drain")))}b._opening=!0,b._writing=!0,b._asyncDrainScheduled=!1;let e=b.append?"a":"w",f=b.mode;if(b.sync)try{b.mkdir&&d.mkdirSync(g.dirname(a),{recursive:!0});let h=d.openSync(a,e,f);c(null,h)}catch(a){throw c(a),a}else b.mkdir?d.mkdir(g.dirname(a),{recursive:!0},b=>{if(b)return c(b);d.open(a,e,f,c)}):d.open(a,e,f,c)}function t(a){let b,c;if(!(this instanceof t))return new t(a);let{fd:e,dest:f,minLength:g,maxLength:i,maxWrite:p,periodicFlush:q,sync:r,append:w=!0,mkdir:z,retryEAGAIN:H,fsync:I,contentMode:J,mode:K}=a||{};if(e=e||f,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(g||0,16387),this.file=null,this.destroyed=!1,this.minLength=g||0,this.maxLength=i||0,this.maxWrite=p||l,this._periodicFlush=q||0,this._periodicFlushTimer=void 0,this.sync=r||!1,this.writable=!0,this._fsync=I||!1,this.append=w||!1,this.mode=K,this.retryEAGAIN=H||(()=>!0),this.mkdir=z||!1,J===m)this._writingBuf=k,this.write=y,this.flush=B,this.flushSync=D,this._actualWrite=F,b=()=>d.writeSync(this.fd,this._writingBuf),c=()=>d.write(this.fd,this._writingBuf,this.release);else if(void 0===J||J===o)this._writingBuf="",this.write=x,this.flush=A,this.flushSync=C,this._actualWrite=E,b=()=>d.writeSync(this.fd,this._writingBuf,"utf8"),c=()=>d.write(this.fd,this._writingBuf,"utf8",this.release);else throw Error(`SonicBoom supports "${o}" and "${m}", but passed ${J}`);if("number"==typeof e)this.fd=e,process.nextTick(()=>this.emit("ready"));else if("string"==typeof e)s(e,this);else throw Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(a,e)=>{if(a){if(("EAGAIN"===a.code||"EBUSY"===a.code)&&this.retryEAGAIN(a,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{h(j),this.release(void 0,0)}catch(a){this.release(a)}else setTimeout(c,j);else this._writing=!1,this.emit("error",a);return}this.emit("write",e);let f=u(this._writingBuf,this._len,e);if(this._len=f.len,this._writingBuf=f.writingBuf,this._writingBuf.length){if(!this.sync)return void c();try{do{let a=b(),c=u(this._writingBuf,this._len,a);this._len=c.len,this._writingBuf=c.writingBuf}while(this._writingBuf.length)}catch(a){this.release(a);return}}this._fsync&&d.fsyncSync(this.fd);let g=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):g>this.minLength?this._actualWrite():this._ending?g>0?this._actualWrite():(this._writing=!1,G(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(v,this)):this.emit("drain"))},this.on("newListener",function(a){"drain"===a&&(this._asyncDrainScheduled=!1)}),0!==this._periodicFlush&&(this._periodicFlushTimer=setInterval(()=>this.flush(null),this._periodicFlush),this._periodicFlushTimer.unref())}function u(a,b,c){return"string"==typeof a&&Buffer.byteLength(a)!==c&&(c=Buffer.from(a).subarray(0,c).toString().length),b=Math.max(b-c,0),{writingBuf:a=a.slice(c),len:b}}function v(a){a.listenerCount("drain")>0&&(a._asyncDrainScheduled=!1,a.emit("drain"))}function w(a,b){return 0===a.length?k:1===a.length?a[0]:Buffer.concat(a,b)}function x(a){if(this.destroyed)throw Error("SonicBoom destroyed");let b=this._len+a.length,c=this._bufs;return this.maxLength&&b>this.maxLength?this.emit("drop",a):(0===c.length||c[c.length-1].length+a.length>this.maxWrite?c.push(""+a):c[c.length-1]+=a,this._len=b,!this._writing&&this._len>=this.minLength&&this._actualWrite()),this._len<this._hwm}function y(a){if(this.destroyed)throw Error("SonicBoom destroyed");let b=this._len+a.length,c=this._bufs,d=this._lens;return this.maxLength&&b>this.maxLength?this.emit("drop",a):(0===c.length||d[d.length-1]+a.length>this.maxWrite?(c.push([a]),d.push(a.length)):(c[c.length-1].push(a),d[d.length-1]+=a.length),this._len=b,!this._writing&&this._len>=this.minLength&&this._actualWrite()),this._len<this._hwm}function z(a){this._flushPending=!0;let b=()=>{if(this._fsync)this._flushPending=!1,a();else try{d.fsync(this.fd,b=>{this._flushPending=!1,a(b)})}catch(b){a(b)}this.off("error",c)},c=c=>{this._flushPending=!1,a(c),this.off("drain",b)};this.once("drain",b),this.once("error",c)}function A(a){if(null!=a&&"function"!=typeof a)throw Error("flush cb must be a function");if(this.destroyed){let b=Error("SonicBoom destroyed");if(a)return void a(b);throw b}if(this.minLength<=0)return void a?.();a&&z.call(this,a),this._writing||(0===this._bufs.length&&this._bufs.push(""),this._actualWrite())}function B(a){if(null!=a&&"function"!=typeof a)throw Error("flush cb must be a function");if(this.destroyed){let b=Error("SonicBoom destroyed");if(a)return void a(b);throw b}if(this.minLength<=0)return void a?.();a&&z.call(this,a),this._writing||(0===this._bufs.length&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}function C(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let a="";for(;this._bufs.length||a;){a.length<=0&&(a=this._bufs[0]);try{let b=d.writeSync(this.fd,a,"utf8"),c=u(a,this._len,b);a=c.writingBuf,this._len=c.len,a.length<=0&&this._bufs.shift()}catch(b){if(("EAGAIN"===b.code||"EBUSY"===b.code)&&!this.retryEAGAIN(b,a.length,this._len-a.length))throw b;h(j)}}try{d.fsyncSync(this.fd)}catch{}}function D(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=k);let a=k;for(;this._bufs.length||a.length;){a.length<=0&&(a=w(this._bufs[0],this._lens[0]));try{let b=d.writeSync(this.fd,a);a=a.subarray(b),this._len=Math.max(this._len-b,0),a.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(b){if(("EAGAIN"===b.code||"EBUSY"===b.code)&&!this.retryEAGAIN(b,a.length,this._len-a.length))throw b;h(j)}}}function E(){let a=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let b=d.writeSync(this.fd,this._writingBuf,"utf8");a(null,b)}catch(b){a(b)}else d.write(this.fd,this._writingBuf,"utf8",a)}function F(){let a=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:w(this._bufs.shift(),this._lens.shift()),this.sync)try{let b=d.writeSync(this.fd,this._writingBuf);a(null,b)}catch(b){a(b)}else r&&(this._writingBuf=Buffer.from(this._writingBuf)),d.write(this.fd,this._writingBuf,a)}function G(a){if(-1===a.fd)return void a.once("ready",G.bind(null,a));void 0!==a._periodicFlushTimer&&clearInterval(a._periodicFlushTimer),a.destroyed=!0,a._bufs=[],a._lens=[],i("number"==typeof a.fd,`sonic.fd must be a number, got ${typeof a.fd}`);try{d.fsync(a.fd,b)}catch{}function b(){1!==a.fd&&2!==a.fd?d.close(a.fd,c):c()}function c(b){if(b)return void a.emit("error",b);a._ending&&!a._writing&&a.emit("finish"),a.emit("close")}}f(t,e),t.prototype.reopen=function(a){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening)return void this.once("ready",()=>{this.reopen(a)});if(this._ending)return;if(!this.file)throw Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(a&&(this.file=a),this._reopening=!0,this._writing)return;let b=this.fd;this.once("ready",()=>{b!==this.fd&&d.close(b,a=>{if(a)return this.emit("error",a)})}),s(this.file,this)},t.prototype.end=function(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening)return void this.once("ready",()=>{this.end()});!this._ending&&(this._ending=!0,this._writing||(this._len>0&&this.fd>=0?this._actualWrite():G(this)))},t.prototype.destroy=function(){this.destroyed||G(this)},t.SonicBoom=t,t.default=t,a.exports=t},1852:a=>{"use strict";let b=["GET","HEAD","POST"],c=new Set(b),d=[101,204,205,304],e=[301,302,303,307,308],f=new Set(e),g=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],h=new Set(g),i=["no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],j=["",...i],k=new Set(i),l=["follow","manual","error"],m=["GET","HEAD","OPTIONS","TRACE"],o=new Set(m),p=["navigate","same-origin","no-cors","cors"],q=["omit","same-origin","include"],r=["default","no-store","reload","no-cache","force-cache","only-if-cached"],s=["content-encoding","content-language","content-location","content-type","content-length"],t=["half"],u=["CONNECT","TRACE","TRACK"],v=new Set(u),w=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],x=new Set(w);a.exports={subresource:w,forbiddenMethods:u,requestBodyHeader:s,referrerPolicy:j,requestRedirect:l,requestMode:p,requestCredentials:q,requestCache:r,redirectStatus:e,corsSafeListedMethods:b,nullBodyStatus:d,safeMethods:m,badPorts:g,requestDuplex:t,subresourceSet:x,badPortsSet:h,redirectStatusSet:f,corsSafeListedMethodsSet:c,safeMethodsSet:o,forbiddenMethodsSet:v,referrerPolicyTokens:k}},1981:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(86397),e=c(49943);b.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:a,max:b}})=>void 0===b?(0,d.str)`must contain at least ${a} valid item(s)`:(0,d.str)`must contain at least ${a} and no more than ${b} valid item(s)`,params:({params:{min:a,max:b}})=>void 0===b?(0,d._)`{minContains: ${a}}`:(0,d._)`{minContains: ${a}, maxContains: ${b}}`},code(a){let b,c,{gen:f,schema:g,parentSchema:h,data:i,it:j}=a,{minContains:k,maxContains:l}=h;j.opts.next?(b=void 0===k?1:k,c=l):b=1;let m=f.const("len",(0,d._)`${i}.length`);if(a.setParams({min:b,max:c}),void 0===c&&0===b)return void(0,e.checkStrictMode)(j,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&b>c){(0,e.checkStrictMode)(j,'"minContains" > "maxContains" is always invalid'),a.fail();return}if((0,e.alwaysValidSchema)(j,g)){let e=(0,d._)`${m} >= ${b}`;void 0!==c&&(e=(0,d._)`${e} && ${m} <= ${c}`),a.pass(e);return}j.items=!0;let o=f.name("valid");function p(){let a=f.name("_valid"),b=f.let("count",0);q(a,()=>f.if(a,()=>r(b)))}function q(b,c){f.forRange("i",0,m,d=>{a.subschema({keyword:"contains",dataProp:d,dataPropType:e.Type.Num,compositeRule:!0},b),c()})}function r(a){f.code((0,d._)`${a}++`),void 0===c?f.if((0,d._)`${a} >= ${b}`,()=>f.assign(o,!0).break()):(f.if((0,d._)`${a} > ${c}`,()=>f.assign(o,!1).break()),1===b?f.assign(o,!0):f.if((0,d._)`${a} >= ${b}`,()=>f.assign(o,!0)))}void 0===c&&1===b?q(o,()=>f.if(o,()=>f.break())):0===b?(f.let(o,!0),void 0!==c&&f.if((0,d._)`${i}.length > 0`,p)):(f.let(o,!1),p()),a.result(o,()=>a.reset())}}},2143:(a,b,c)=>{"use strict";let d=c(34589),{URLSerializer:e}=c(86541),{isValidHeaderName:f}=c(45293);a.exports={urlEquals:function(a,b,c=!1){return e(a,c)===e(b,c)},getFieldValues:function(a){d(null!==a);let b=[];for(let c of a.split(","))f(c=c.trim())&&b.push(c);return b}}},2146:(a,b,c)=>{"use strict";c.d(b,{B:()=>e});var d=c(96157);let e=(a,b)=>"function"==typeof a?a({i18n:b,t:b.t}):"object"==typeof a?(0,d.s)(a,b):a},2173:(a,b,c)=>{"use strict";c.d(b,{d1:()=>e,CX:()=>h,yT:()=>i});let d="End-Of-Stream";class e extends Error{constructor(){super(d)}}class f{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((a,b)=>{this.reject=b,this.resolve=a})}}class g{constructor(){this.maxStreamReadSize=1048576,this.endOfStream=!1,this.peekQueue=[]}async peek(a,b,c){let d=await this.read(a,b,c);return this.peekQueue.push(a.subarray(b,b+d)),d}async read(a,b,c){if(0===c)return 0;let d=this.readFromPeekBuffer(a,b,c);if(0===(d+=await this.readRemainderFromStream(a,b+d,c-d)))throw new e;return d}readFromPeekBuffer(a,b,c){let d=c,e=0;for(;this.peekQueue.length>0&&d>0;){let c=this.peekQueue.pop();if(!c)throw Error("peekData should be defined");let f=Math.min(c.length,d);a.set(c.subarray(0,f),b+e),e+=f,d-=f,f<c.length&&this.peekQueue.push(c.subarray(f))}return e}async readRemainderFromStream(a,b,c){let d=c,e=0;for(;d>0&&!this.endOfStream;){let c=Math.min(d,this.maxStreamReadSize),f=await this.readFromStream(a,b+e,c);if(0===f)break;e+=f,d-=f}return e}}class h extends g{constructor(a){if(super(),this.s=a,this.deferred=null,!a.read||!a.once)throw Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new e)),this.s.once("error",a=>this.reject(a)),this.s.once("close",()=>this.reject(Error("Stream closed")))}async readFromStream(a,b,c){if(this.endOfStream)return 0;let d=this.s.read(c);if(d)return a.set(d,b),d.length;let e={buffer:a,offset:b,length:c,deferred:new f};return this.deferred=e.deferred,this.s.once("readable",()=>{this.readDeferred(e)}),e.deferred.promise}readDeferred(a){let b=this.s.read(a.length);b?(a.buffer.set(b,a.offset),a.deferred.resolve(b.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(a)})}reject(a){this.endOfStream=!0,this.deferred&&(this.deferred.reject(a),this.deferred=null)}async abort(){this.reject(Error("abort"))}async close(){return this.abort()}}class i extends g{constructor(a){super(),this.reader=a.getReader({mode:"byob"})}async readFromStream(a,b,c){if(this.endOfStream)throw new e;let d=await this.reader.read(new Uint8Array(c));return(d.done&&(this.endOfStream=d.done),d.value)?(a.set(d.value,b),d.value.byteLength):0}abort(){return this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}}},2205:(a,b,c)=>{"use strict";let d=c(40639);class e extends d{constructor(a={}){super(a)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(a){this.date.setMinutes(parseInt(a.substr(-2)))}toString(){let a=this.date.getMinutes();return this.token.length>1?String(a).padStart(2,"0"):a}}a.exports=e},2312:(a,b,c)=>{"use strict";let{types:d,inspect:e}=c(57975),{markAsUncloneable:f}=c(75919),{toUSVString:g}=c(33895),h=1,i=2,j=3,k=4,l=5,m=6,o=7,p=8,q=Function.call.bind(Function.prototype[Symbol.hasInstance]),r={converters:{},util:{},errors:{},is:{}};r.errors.exception=function(a){return TypeError(`${a.header}: ${a.message}`)},r.errors.conversionFailed=function(a){let b=1===a.types.length?"":" one of",c=`${a.argument} could not be converted to${b}: ${a.types.join(", ")}.`;return r.errors.exception({header:a.prefix,message:c})},r.errors.invalidArgument=function(a){return r.errors.exception({header:a.prefix,message:`"${a.value}" is an invalid ${a.type}.`})},r.brandCheck=function(a,b){if(!q(b,a)){let a=TypeError("Illegal invocation");throw a.code="ERR_INVALID_THIS",a}},r.brandCheckMultiple=function(a){let b=a.map(a=>r.util.MakeTypeAssertion(a));return a=>{if(b.every(b=>!b(a))){let a=TypeError("Illegal invocation");throw a.code="ERR_INVALID_THIS",a}}},r.argumentLengthCheck=function({length:a},b,c){if(a<b)throw r.errors.exception({message:`${b} argument${1!==b?"s":""} required, but${a?" only":""} ${a} found.`,header:c})},r.illegalConstructor=function(){throw r.errors.exception({header:"TypeError",message:"Illegal constructor"})},r.util.MakeTypeAssertion=function(a){return b=>q(a,b)},r.util.Type=function(a){switch(typeof a){case"undefined":return h;case"boolean":return i;case"string":return j;case"symbol":return k;case"number":return l;case"bigint":return m;case"function":case"object":if(null===a)return o;return p}},r.util.Types={UNDEFINED:h,BOOLEAN:i,STRING:j,SYMBOL:k,NUMBER:l,BIGINT:m,NULL:o,OBJECT:p},r.util.TypeValueToString=function(a){switch(r.util.Type(a)){case h:return"Undefined";case i:return"Boolean";case j:return"String";case k:return"Symbol";case l:return"Number";case m:return"BigInt";case o:return"Null";case p:return"Object"}},r.util.markAsUncloneable=f||(()=>{}),r.util.ConvertToInt=function(a,b,c,d){let e,f;64===b?(e=0x1fffffffffffff,f="unsigned"===c?0:-0x1fffffffffffff):"unsigned"===c?(f=0,e=Math.pow(2,b)-1):(f=Math.pow(-2,b)-1,e=Math.pow(2,b-1)-1);let g=Number(a);if(0===g&&(g=0),d?.enforceRange===!0){if(Number.isNaN(g)||g===1/0||g===-1/0)throw r.errors.exception({header:"Integer conversion",message:`Could not convert ${r.util.Stringify(a)} to an integer.`});if((g=r.util.IntegerPart(g))<f||g>e)throw r.errors.exception({header:"Integer conversion",message:`Value must be between ${f}-${e}, got ${g}.`});return g}return Number.isNaN(g)||d?.clamp!==!0?Number.isNaN(g)||0===g&&Object.is(0,g)||g===1/0||g===-1/0?0:(g=r.util.IntegerPart(g)%Math.pow(2,b),"signed"===c&&g>=Math.pow(2,b)-1)?g-Math.pow(2,b):g:g=Math.floor(g=Math.min(Math.max(g,f),e))%2==0?Math.floor(g):Math.ceil(g)},r.util.IntegerPart=function(a){let b=Math.floor(Math.abs(a));return a<0?-1*b:b},r.util.Stringify=function(a){switch(r.util.Type(a)){case k:return`Symbol(${a.description})`;case p:return e(a);case j:return`"${a}"`;default:return`${a}`}},r.sequenceConverter=function(a){return(b,c,d,e)=>{if(r.util.Type(b)!==p)throw r.errors.exception({header:c,message:`${d} (${r.util.Stringify(b)}) is not iterable.`});let f="function"==typeof e?e():b?.[Symbol.iterator]?.(),g=[],h=0;if(void 0===f||"function"!=typeof f.next)throw r.errors.exception({header:c,message:`${d} is not iterable.`});for(;;){let{done:b,value:e}=f.next();if(b)break;g.push(a(e,c,`${d}[${h++}]`))}return g}},r.recordConverter=function(a,b){return(c,e,f)=>{if(r.util.Type(c)!==p)throw r.errors.exception({header:e,message:`${f} ("${r.util.TypeValueToString(c)}") is not an Object.`});let g={};if(!d.isProxy(c)){for(let d of[...Object.getOwnPropertyNames(c),...Object.getOwnPropertySymbols(c)]){let h=r.util.Stringify(d),i=a(d,e,`Key ${h} in ${f}`),j=b(c[d],e,`${f}[${h}]`);g[i]=j}return g}for(let d of Reflect.ownKeys(c)){let h=Reflect.getOwnPropertyDescriptor(c,d);if(h?.enumerable){let h=a(d,e,f),i=b(c[d],e,f);g[h]=i}}return g}},r.interfaceConverter=function(a,b){return(c,d,e)=>{if(!a(c))throw r.errors.exception({header:d,message:`Expected ${e} ("${r.util.Stringify(c)}") to be an instance of ${b}.`});return c}},r.dictionaryConverter=function(a){return(b,c,d)=>{let e={};if(null!=b&&r.util.Type(b)!==p)throw r.errors.exception({header:c,message:`Expected ${b} to be one of: Null, Undefined, Object.`});for(let f of a){let{key:a,defaultValue:g,required:h,converter:i}=f;if(!0===h&&(null==b||!Object.hasOwn(b,a)))throw r.errors.exception({header:c,message:`Missing required key "${a}".`});let j=b?.[a],k=void 0!==g;if(k&&void 0===j&&(j=g()),h||k||void 0!==j){if(j=i(j,c,`${d}.${a}`),f.allowedValues&&!f.allowedValues.includes(j))throw r.errors.exception({header:c,message:`${j} is not an accepted type. Expected one of ${f.allowedValues.join(", ")}.`});e[a]=j}}return e}},r.nullableConverter=function(a){return(b,c,d)=>null===b?b:a(b,c,d)},r.is.ReadableStream=r.util.MakeTypeAssertion(ReadableStream),r.is.Blob=r.util.MakeTypeAssertion(Blob),r.is.URLSearchParams=r.util.MakeTypeAssertion(URLSearchParams),r.is.File=r.util.MakeTypeAssertion(globalThis.File??c(4573).File),r.is.URL=r.util.MakeTypeAssertion(URL),r.is.AbortSignal=r.util.MakeTypeAssertion(AbortSignal),r.is.MessagePort=r.util.MakeTypeAssertion(MessagePort),r.converters.DOMString=function(a,b,c,d){if(null===a&&d?.legacyNullToEmptyString)return"";if("symbol"==typeof a)throw r.errors.exception({header:b,message:`${c} is a symbol, which cannot be converted to a DOMString.`});return String(a)},r.converters.ByteString=function(a,b,c){if("symbol"==typeof a)throw r.errors.exception({header:b,message:`${c} is a symbol, which cannot be converted to a ByteString.`});let d=String(a);for(let a=0;a<d.length;a++)if(d.charCodeAt(a)>255)throw TypeError(`Cannot convert argument to a ByteString because the character at index ${a} has a value of ${d.charCodeAt(a)} which is greater than 255.`);return d},r.converters.USVString=g,r.converters.boolean=function(a){return!!a},r.converters.any=function(a){return a},r.converters["long long"]=function(a,b,c){return r.util.ConvertToInt(a,64,"signed",void 0,b,c)},r.converters["unsigned long long"]=function(a,b,c){return r.util.ConvertToInt(a,64,"unsigned",void 0,b,c)},r.converters["unsigned long"]=function(a,b,c){return r.util.ConvertToInt(a,32,"unsigned",void 0,b,c)},r.converters["unsigned short"]=function(a,b,c,d){return r.util.ConvertToInt(a,16,"unsigned",d,b,c)},r.converters.ArrayBuffer=function(a,b,c,e){if(r.util.Type(a)!==p||!d.isAnyArrayBuffer(a))throw r.errors.conversionFailed({prefix:b,argument:`${c} ("${r.util.Stringify(a)}")`,types:["ArrayBuffer"]});if(e?.allowShared===!1&&d.isSharedArrayBuffer(a))throw r.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(a.resizable||a.growable)throw r.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return a},r.converters.TypedArray=function(a,b,c,e,f){if(r.util.Type(a)!==p||!d.isTypedArray(a)||a.constructor.name!==b.name)throw r.errors.conversionFailed({prefix:c,argument:`${e} ("${r.util.Stringify(a)}")`,types:[b.name]});if(f?.allowShared===!1&&d.isSharedArrayBuffer(a.buffer))throw r.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(a.buffer.resizable||a.buffer.growable)throw r.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return a},r.converters.DataView=function(a,b,c,e){if(r.util.Type(a)!==p||!d.isDataView(a))throw r.errors.exception({header:b,message:`${c} is not a DataView.`});if(e?.allowShared===!1&&d.isSharedArrayBuffer(a.buffer))throw r.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(a.buffer.resizable||a.buffer.growable)throw r.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return a},r.converters["sequence<ByteString>"]=r.sequenceConverter(r.converters.ByteString),r.converters["sequence<sequence<ByteString>>"]=r.sequenceConverter(r.converters["sequence<ByteString>"]),r.converters["record<ByteString, ByteString>"]=r.recordConverter(r.converters.ByteString,r.converters.ByteString),r.converters.Blob=r.interfaceConverter(r.is.Blob,"Blob"),r.converters.AbortSignal=r.interfaceConverter(r.is.AbortSignal,"AbortSignal"),a.exports={webidl:r}},2338:(a,b,c)=>{"use strict";c.d(b,{L:()=>o});var d=c(25083),e=c(51114),f=c(18528),g=c(83518),h=c(2431),i=c(70366),j=c(53216),k=c(32609),l=c(45139),m=c(22128);let o=async a=>{let{id:b,currentDepth:c,depth:o,disableErrors:p,globalConfig:q,overrideAccess:r,populate:s,req:{fallbackLocale:t,locale:u,payload:v},req:w,select:x,showHiddenFields:y}=a;try{let a=!!r||await (0,d.m)({id:b,disableErrors:p,req:w},q.access.readVersions);if(!1===a)return null;let j="object"==typeof a,z=(0,k.Y)({fields:(0,l.p)(v.config,q,!0),forceSelect:(0,m.V)({select:q.forceSelect}),select:x,versions:!0}),A={global:q.slug,limit:1,locale:u,req:w,select:z,where:(0,e.m)({id:{equals:b}},a)};if(!A.where?.and?.[0]?.id)throw new f.M(w.t);let{docs:B}=await v.db.findGlobalVersions(A);if(!B||B?.length===0){if(!p){if(!j)throw new f.M(w.t);if(j)throw new g.c(w.t)}return null}let C=(0,i.Zt)(B[0]);if(C.version||(C.version={}),C.version.globalType=q.slug,q.hooks?.beforeRead?.length)for(let a of q.hooks.beforeRead)C=await a({context:w.context,doc:C.version,global:q,req:w})||C.version;if(C.version=await (0,h.v)({collection:null,context:w.context,currentDepth:c,depth:o,doc:C.version,draft:void 0,fallbackLocale:t,global:q,locale:u,overrideAccess:r,populate:s,req:w,select:"object"==typeof z?.version?z.version:void 0,showHiddenFields:y}),q.hooks?.afterRead?.length)for(let a of q.hooks.afterRead)C.version=await a({context:w.context,doc:C.version,global:q,query:A.where,req:w})||C.version;return C}catch(a){throw await (0,j.J)(w),a}}},2431:(a,b,c)=>{"use strict";c.d(b,{v:()=>f});var d=c(215),e=c(37661);async function f(a){let{collection:b,context:c,currentDepth:f,depth:g,doc:h,draft:i,fallbackLocale:j,findMany:k,flattenLocales:l=!0,global:m,locale:o,overrideAccess:p,populate:q,req:r,select:s,showHiddenFields:t}=a,u=[],v=[],w=g||0===g?parseInt(String(g),10):r.payload.config.defaultDepth;w>r.payload.config.maxDepth&&(w=r.payload.config.maxDepth);let x=f||1;(0,e.m)({collection:b,context:c,currentDepth:x,depth:w,doc:h,draft:i,fallbackLocale:j,fieldPromises:u,fields:b?.fields||m?.fields,findMany:k,flattenLocales:l,global:m,locale:o,overrideAccess:p,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",populate:q,populationPromises:v,req:r,select:s,selectMode:s?(0,d.a)(s):void 0,showHiddenFields:t,siblingDoc:h});let y=0;for(;u.length>0||v.length>0;){let a=u.splice(0,u.length),b=v.splice(0,v.length);if(await Promise.all(a),await Promise.all(b),++y>=100)throw Error("Infinite afterRead promise loop detected. A hook is likely adding field promises in an infinitely recursive way.")}return h}},2437:(a,b,c)=>{"use strict";c.d(b,{A:()=>l});var d=c(55511),e=c.n(d);let f={randomUUID:e().randomUUID},g=new Uint8Array(256),h=g.length;function i(){return h>g.length-16&&(e().randomFillSync(g),h=0),g.slice(h,h+=16)}let j=[];for(let a=0;a<256;++a)j.push((a+256).toString(16).slice(1));function k(a,b=0){return(j[a[b+0]]+j[a[b+1]]+j[a[b+2]]+j[a[b+3]]+"-"+j[a[b+4]]+j[a[b+5]]+"-"+j[a[b+6]]+j[a[b+7]]+"-"+j[a[b+8]]+j[a[b+9]]+"-"+j[a[b+10]]+j[a[b+11]]+j[a[b+12]]+j[a[b+13]]+j[a[b+14]]+j[a[b+15]]).toLowerCase()}let l=function(a,b,c){if(f.randomUUID&&!b&&!a)return f.randomUUID();let d=(a=a||{}).random||(a.rng||i)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,b){c=c||0;for(let a=0;a<16;++a)b[c+a]=d[a];return b}return k(d)}},2448:(a,b,c)=>{"use strict";a.exports.request=c(67544),a.exports.stream=c(19537),a.exports.pipeline=c(59971),a.exports.upgrade=c(69937),a.exports.connect=c(57511)},2459:(a,b,c)=>{"use strict";var d=c(69307);let e=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));b.v4=()=>{if(d.randomUUID)return d.randomUUID();let a=new Uint8Array(16);return crypto.getRandomValues(a),a[6]=15&a[6]|64,a[8]=63&a[8]|128,e[a[0]]+e[a[1]]+e[a[2]]+e[a[3]]+"-"+e[a[4]]+e[a[5]]+"-"+e[a[6]]+e[a[7]]+"-"+e[a[8]]+e[a[9]]+"-"+e[a[10]]+e[a[11]]+e[a[12]]+e[a[13]]+e[a[14]]+e[a[15]]}},2461:(a,b,c)=>{"use strict";let d,{makeNetworkError:e,makeAppropriateNetworkError:f,filterResponse:g,makeResponse:h,fromInnerResponse:i,getResponseState:j}=c(28886),{HeadersList:k}=c(24415),{Request:l,cloneRequest:m,getRequestDispatcher:o,getRequestState:p}=c(78728),q=c(38522),{bytesMatch:r,makePolicyContainer:s,clonePolicyContainer:t,requestBadPort:u,TAOCheck:v,appendRequestOriginHeader:w,responseLocationURL:x,requestCurrentURL:y,setRequestReferrerPolicyOnRedirect:z,tryUpgradeRequestToAPotentiallyTrustworthyURL:A,createOpaqueTimingInfo:B,appendFetchMetadata:C,corsCheck:D,crossOriginResourcePolicyCheck:E,determineRequestsReferrer:F,coarsenedSharedCurrentTime:G,createDeferredPromise:H,sameOrigin:I,isCancelled:J,isAborted:K,isErrorLike:L,fullyReadBody:M,readableStreamClose:N,isomorphicEncode:O,urlIsLocal:P,urlIsHttpHttpsScheme:Q,urlHasHttpsScheme:R,clampAndCoarsenConnectionTimingInfo:S,simpleRangeHeaderValue:T,buildContentRange:U,createInflate:V,extractMimeType:W}=c(45293),X=c(34589),{safelyExtractBody:Y,extractBody:Z}=c(41069),{redirectStatusSet:$,nullBodyStatus:_,safeMethodsSet:aa,requestBodyHeader:ab,subresourceSet:ac}=c(1852),ad=c(78474),{Readable:ae,pipeline:af,finished:ag,isErrored:ah,isReadable:ai}=c(57075),{addAbortListener:aj,bufferToLowerCasedHeaderName:ak}=c(33895),{dataURLProcessor:al,serializeAMimeType:am,minimizeSupportedMimeType:an}=c(86541),{getGlobalDispatcher:ao}=c(95580),{webidl:ap}=c(2312),{STATUS_CODES:aq}=c(37067),ar=["GET","HEAD"],as="undefined"!=typeof __UNDICI_IS_NODE__||"undefined"!=typeof esbuildDetection?"node":"undici";class at extends ad{constructor(a){super(),this.dispatcher=a,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(a){"ongoing"===this.state&&(this.state="terminated",this.connection?.destroy(a),this.emit("terminated",a))}abort(a){"ongoing"===this.state&&(this.state="aborted",a||(a=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=a,this.connection?.destroy(a),this.emit("terminated",a))}}function au(a){aw(a,"fetch")}function av(a,b){let c;ap.argumentLengthCheck(arguments,1,"globalThis.fetch");let d=H();try{c=new l(a,b)}catch(a){return d.reject(a),d.promise}let e=p(c);if(c.signal.aborted)return ay(d,e,null,c.signal.reason),d.promise;let f=e.client.globalObject;f?.constructor?.name==="ServiceWorkerGlobalScope"&&(e.serviceWorkers="none");let g=null,h=!1,j=null;aj(c.signal,()=>{h=!0,X(null!=j),j.abort(c.signal.reason);let a=g?.deref();ay(d,e,a,c.signal.reason)});let k=a=>{if(!h){if(a.aborted)return void ay(d,e,g,j.serializedAbortReason);if("error"===a.type)return void d.reject(TypeError("fetch failed",{cause:a.error}));g=new WeakRef(i(a,"immutable")),d.resolve(g.deref()),d=null}};return j=az({request:e,processResponseEndOfBody:au,processResponse:k,dispatcher:o(c)}),d.promise}function aw(a,b="other"){if("error"===a.type&&a.aborted||!a.urlList?.length)return;let c=a.urlList[0],d=a.timingInfo,e=a.cacheState;Q(c)&&null!==d&&(a.timingAllowPassed||(d=B({startTime:d.startTime}),e=""),d.endTime=G(),a.timingInfo=d,ax(d,c.href,b,globalThis,e,"",a.status))}let ax=performance.markResourceTiming;function ay(a,b,c,d){if(a&&a.reject(d),b.body?.stream!=null&&ai(b.body.stream)&&b.body.stream.cancel(d).catch(a=>{if("ERR_INVALID_STATE"!==a.code)throw a}),null==c)return;let e=j(c);e.body?.stream!=null&&ai(e.body.stream)&&e.body.stream.cancel(d).catch(a=>{if("ERR_INVALID_STATE"!==a.code)throw a})}function az({request:a,processRequestBodyChunkLength:b,processRequestEndOfBody:c,processResponse:d,processResponseEndOfBody:e,processResponseConsumeBody:f,useParallelQueue:g=!1,dispatcher:h=ao()}){X(h);let i=null,j=!1;null!=a.client&&(i=a.client.globalObject,j=a.client.crossOriginIsolatedCapability);let k=B({startTime:G(j)}),l={controller:new at(h),request:a,timingInfo:k,processRequestBodyChunkLength:b,processRequestEndOfBody:c,processResponse:d,processResponseConsumeBody:f,processResponseEndOfBody:e,taskDestination:i,crossOriginIsolatedCapability:j};if(X(!a.body||a.body.stream),"client"===a.window&&(a.window=a.client?.globalObject?.constructor?.name==="Window"?a.client:"no-window"),"client"===a.origin&&(a.origin=a.client.origin),"client"===a.policyContainer&&(null!=a.client?a.policyContainer=t(a.client.policyContainer):a.policyContainer=s()),!a.headersList.contains("accept",!0)){let b="*/*";a.headersList.append("accept",b,!0)}return a.headersList.contains("accept-language",!0)||a.headersList.append("accept-language","*",!0),a.priority,ac.has(a.destination),aA(l).catch(a=>{l.controller.terminate(a)}),l.controller}async function aA(a,b=!1){let c=a.request,d=null;if(c.localURLsOnly&&!P(y(c))&&(d=e("local URLs only")),A(c),"blocked"===u(c)&&(d=e("bad port")),""===c.referrerPolicy&&(c.referrerPolicy=c.policyContainer.referrerPolicy),"no-referrer"!==c.referrer&&(c.referrer=F(c)),null===d){let b=y(c);I(b,c.url)&&"basic"===c.responseTainting||"data:"===b.protocol||"navigate"===c.mode||"websocket"===c.mode?(c.responseTainting="basic",d=await aB(a)):"same-origin"===c.mode?d=e('request mode cannot be "same-origin"'):"no-cors"===c.mode?"follow"!==c.redirect?d=e('redirect mode cannot be "follow" for "no-cors" request'):(c.responseTainting="opaque",d=await aB(a)):Q(y(c))?(c.responseTainting="cors",d=await aE(a)):d=e("URL scheme must be a HTTP(S) scheme")}if(b)return d;0===d.status||d.internalResponse||(c.responseTainting,"basic"===c.responseTainting?d=g(d,"basic"):"cors"===c.responseTainting?d=g(d,"cors"):"opaque"===c.responseTainting?d=g(d,"opaque"):X(!1));let f=0===d.status?d:d.internalResponse;if(0===f.urlList.length&&f.urlList.push(...c.urlList),c.timingAllowFailed||(d.timingAllowPassed=!0),"opaque"===d.type&&206===f.status&&f.rangeRequested&&!c.headers.contains("range",!0)&&(d=f=e()),0!==d.status&&("HEAD"===c.method||"CONNECT"===c.method||_.includes(f.status))&&(f.body=null,a.controller.dump=!0),c.integrity){let b=b=>aD(a,e(b));if("opaque"===c.responseTainting||null==d.body)return void b(d.error);let f=e=>{if(!r(e,c.integrity))return void b("integrity mismatch");d.body=Y(e)[0],aD(a,d)};await M(d.body,f,b)}else aD(a,d)}function aB(a){if(J(a)&&0===a.request.redirectCount)return Promise.resolve(f(a));let{request:b}=a,{protocol:g}=y(b);switch(g){case"about:":return Promise.resolve(e("about scheme is not supported"));case"blob:":{d||(d=c(4573).resolveObjectURL);let a=y(b);if(0!==a.search.length)return Promise.resolve(e("NetworkError when attempting to fetch resource."));let f=d(a.toString());if("GET"!==b.method||!ap.is.Blob(f))return Promise.resolve(e("invalid method"));let g=h(),i=f.size,j=O(`${i}`),k=f.type;if(b.headersList.contains("range",!0)){g.rangeRequested=!0;let a=T(b.headersList.get("range",!0),!0);if("failure"===a)return Promise.resolve(e("failed to fetch the data URL"));let{rangeStartValue:c,rangeEndValue:d}=a;if(null===c)d=(c=i-d)+d-1;else{if(c>=i)return Promise.resolve(e("Range start is greater than the blob's size."));(null===d||d>=i)&&(d=i-1)}let h=f.slice(c,d,k);g.body=Z(h)[0];let j=O(`${h.size}`),l=U(c,d,i);g.status=206,g.statusText="Partial Content",g.headersList.set("content-length",j,!0),g.headersList.set("content-type",k,!0),g.headersList.set("content-range",l,!0)}else{let a=Z(f);g.statusText="OK",g.body=a[0],g.headersList.set("content-length",j,!0),g.headersList.set("content-type",k,!0)}return Promise.resolve(g)}case"data:":{let a=al(y(b));if("failure"===a)return Promise.resolve(e("failed to fetch the data URL"));return Promise.resolve(h({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:am(a.mimeType)}]],body:Y(a.body)[0]}))}case"file:":return Promise.resolve(e("not implemented... yet..."));case"http:":case"https:":return aE(a).catch(a=>e(a));default:return Promise.resolve(e("unknown scheme"))}}function aC(a,b){a.request.done=!0,null!=a.processResponseDone&&queueMicrotask(()=>a.processResponseDone(b))}function aD(a,b){let c=a.timingInfo,d=()=>{let d=Date.now();"document"===a.request.destination&&(a.controller.fullTimingInfo=c),a.controller.reportTimingSteps=()=>{if(!Q(a.request.url))return;c.endTime=d;let e=b.cacheState,f=b.bodyInfo;b.timingAllowPassed||(c=B(c),e="");let g=0;if("navigator"!==a.request.mode||!b.hasCrossOriginRedirects){g=b.status;let a=W(b.headersList);"failure"!==a&&(f.contentType=an(a))}null!=a.request.initiatorType&&ax(c,a.request.url.href,a.request.initiatorType,globalThis,e,f,g)};let e=()=>{a.request.done=!0,null!=a.processResponseEndOfBody&&queueMicrotask(()=>a.processResponseEndOfBody(b)),null!=a.request.initiatorType&&a.controller.reportTimingSteps()};queueMicrotask(()=>e())};null!=a.processResponse&&queueMicrotask(()=>{a.processResponse(b),a.processResponse=null});let e="error"===b.type?b:b.internalResponse??b;null==e.body?d():ag(e.body.stream,()=>{d()})}async function aE(a){let b=a.request,c=null,d=null,f=a.timingInfo;if(b.serviceWorkers,null===c){if("follow"===b.redirect&&(b.serviceWorkers="none"),d=c=await aG(a),"cors"===b.responseTainting&&"failure"===D(b,c))return e("cors failure");"failure"===v(b,c)&&(b.timingAllowFailed=!0)}return("opaque"===b.responseTainting||"opaque"===c.type)&&"blocked"===E(b.origin,b.client,b.destination,d)?e("blocked"):($.has(d.status)&&("manual"!==b.redirect&&a.controller.connection.destroy(void 0,!1),"error"===b.redirect?c=e("unexpected redirect"):"manual"===b.redirect?c=d:"follow"===b.redirect?c=await aF(a,c):X(!1)),c.timingInfo=f,c)}function aF(a,b){let c,d=a.request,f=b.internalResponse?b.internalResponse:b;try{if(c=x(f,y(d).hash),null==c)return b}catch(a){return Promise.resolve(e(a))}if(!Q(c))return Promise.resolve(e("URL scheme must be a HTTP(S) scheme"));if(20===d.redirectCount)return Promise.resolve(e("redirect count exceeded"));if(d.redirectCount+=1,"cors"===d.mode&&(c.username||c.password)&&!I(d,c))return Promise.resolve(e('cross origin not allowed for request mode "cors"'));if("cors"===d.responseTainting&&(c.username||c.password))return Promise.resolve(e('URL cannot contain credentials for request mode "cors"'));if(303!==f.status&&null!=d.body&&null==d.body.source)return Promise.resolve(e());if([301,302].includes(f.status)&&"POST"===d.method||303===f.status&&!ar.includes(d.method))for(let a of(d.method="GET",d.body=null,ab))d.headersList.delete(a);I(y(d),c)||(d.headersList.delete("authorization",!0),d.headersList.delete("proxy-authorization",!0),d.headersList.delete("cookie",!0),d.headersList.delete("host",!0)),null!=d.body&&(X(null!=d.body.source),d.body=Y(d.body.source)[0]);let g=a.timingInfo;return g.redirectEndTime=g.postRedirectStartTime=G(a.crossOriginIsolatedCapability),0===g.redirectStartTime&&(g.redirectStartTime=g.startTime),d.urlList.push(c),z(d,f),aA(a,!0)}async function aG(a,b=!1,c=!1){let d=a.request,g=null,h=null,i=null,j=null,k=!1;"no-window"===d.window&&"error"===d.redirect?(g=a,h=d):(h=m(d),(g={...a}).request=h);let l="include"===d.credentials||"same-origin"===d.credentials&&"basic"===d.responseTainting,o=h.body?h.body.length:null,p=null;if(null==h.body&&["POST","PUT"].includes(h.method)&&(p="0"),null!=o&&(p=O(`${o}`)),null!=p&&h.headersList.append("content-length",p,!0),null!=o&&h.keepalive,ap.is.URL(h.referrer)&&h.headersList.append("referer",O(h.referrer.href),!0),w(h),C(h),h.headersList.contains("user-agent",!0)||h.headersList.append("user-agent",as,!0),"default"===h.cache&&(h.headersList.contains("if-modified-since",!0)||h.headersList.contains("if-none-match",!0)||h.headersList.contains("if-unmodified-since",!0)||h.headersList.contains("if-match",!0)||h.headersList.contains("if-range",!0))&&(h.cache="no-store"),"no-cache"!==h.cache||h.preventNoCacheCacheControlHeaderModification||h.headersList.contains("cache-control",!0)||h.headersList.append("cache-control","max-age=0",!0),("no-store"===h.cache||"reload"===h.cache)&&(h.headersList.contains("pragma",!0)||h.headersList.append("pragma","no-cache",!0),h.headersList.contains("cache-control",!0)||h.headersList.append("cache-control","no-cache",!0)),h.headersList.contains("range",!0)&&h.headersList.append("accept-encoding","identity",!0),h.headersList.contains("accept-encoding",!0)||(R(y(h))?h.headersList.append("accept-encoding","br, gzip, deflate",!0):h.headersList.append("accept-encoding","gzip, deflate",!0)),h.headersList.delete("host",!0),null==j&&(h.cache="no-store"),"no-store"!==h.cache&&h.cache,null==i){if("only-if-cached"===h.cache)return e("only if cached");let a=await aH(g,l,c);!aa.has(h.method)&&a.status>=200&&a.status,k&&a.status,null==i&&(i=a)}if(i.urlList=[...h.urlList],h.headersList.contains("range",!0)&&(i.rangeRequested=!0),i.requestIncludesCredentials=l,407===i.status)return"no-window"===d.window?e():J(a)?f(a):e("proxy authentication required");if(421===i.status&&!c&&(null==d.body||null!=d.body.source)){if(J(a))return f(a);a.controller.connection.destroy(),i=await aG(a,b,!0)}return i}async function aH(a,b=!1,c=!1){X(!a.controller.connection||a.controller.connection.destroyed),a.controller.connection={abort:null,destroyed:!1,destroy(a,b=!0){!this.destroyed&&(this.destroyed=!0,b&&this.abort?.(a??new DOMException("The operation was aborted.","AbortError")))}};let d=a.request,g=null,i=a.timingInfo;d.cache="no-store",d.mode;let j=null;if(null==d.body&&a.processRequestEndOfBody)queueMicrotask(()=>a.processRequestEndOfBody());else if(null!=d.body){let b=async function*(b){J(a)||(yield b,a.processRequestBodyChunkLength?.(b.byteLength))},c=()=>{!J(a)&&a.processRequestEndOfBody&&a.processRequestEndOfBody()},e=b=>{J(a)||("AbortError"===b.name?a.controller.abort():a.controller.terminate(b))};j=async function*(){try{for await(let a of d.body.stream)yield*b(a);c()}catch(a){e(a)}}()}try{let{body:b,status:c,statusText:d,headersList:e,socket:f}=await r({body:j});if(f)g=h({status:c,statusText:d,headersList:e,socket:f});else{let f=b[Symbol.asyncIterator]();a.controller.next=()=>f.next(),g=h({status:c,statusText:d,headersList:e})}}catch(b){if("AbortError"===b.name)return a.controller.connection.destroy(),f(a,b);return e(b)}let l=()=>a.controller.resume(),m=b=>{J(a)||a.controller.abort(b)},o=new ReadableStream({async start(b){a.controller.controller=b},async pull(a){await l(a)},async cancel(a){await m(a)},type:"bytes"});function p(b){K(a)?(g.aborted=!0,ai(o)&&a.controller.controller.error(a.controller.serializedAbortReason)):ai(o)&&a.controller.controller.error(TypeError("terminated",{cause:L(b)?b:void 0})),a.controller.connection.destroy()}return g.body={stream:o,source:null,length:null},a.controller.resume||a.controller.on("terminated",p),a.controller.resume=async()=>{for(;;){let b,c;try{let{done:c,value:d}=await a.controller.next();if(K(a))break;b=c?void 0:d}catch(d){a.controller.ended&&!i.encodedBodySize?b=void 0:(b=d,c=!0)}if(void 0===b){N(a.controller.controller),aC(a,g);return}if(i.decodedBodySize+=b?.byteLength??0,c)return void a.controller.terminate(b);let d=new Uint8Array(b);if(d.byteLength&&a.controller.controller.enqueue(d),ah(o))return void a.controller.terminate();if(a.controller.controller.desiredSize<=0)return}},g;function r({body:b}){let c=y(d),e=a.controller.dispatcher;return new Promise((f,g)=>e.dispatch({path:c.pathname+c.search,origin:c.origin,method:d.method,body:e.isMockActive?d.body&&(d.body.source||d.body.stream):b,headers:d.headersList.entries,maxRedirections:0,upgrade:"websocket"===d.mode?"websocket":void 0},{body:null,abort:null,onConnect(b){let{connection:c}=a.controller;i.finalConnectionTimingInfo=S(void 0,i.postRedirectStartTime,a.crossOriginIsolatedCapability),c.destroyed?b(new DOMException("The operation was aborted.","AbortError")):(a.controller.on("terminated",b),this.abort=c.abort=b),i.finalNetworkRequestStartTime=G(a.crossOriginIsolatedCapability)},onResponseStarted(){i.finalNetworkResponseStartTime=G(a.crossOriginIsolatedCapability)},onHeaders(a,b,c,e){if(a<200)return;let g=[],h="",i=new k;for(let a=0;a<b.length;a+=2)i.append(ak(b[a]),b[a+1].toString("latin1"),!0);let j=i.get("content-encoding",!0);j&&(g=j.toLowerCase().split(",").map(a=>a.trim())),h=i.get("location",!0),this.body=new ae({read:c});let l=[],m=h&&"follow"===d.redirect&&$.has(a);if(0!==g.length&&"HEAD"!==d.method&&"CONNECT"!==d.method&&!_.includes(a)&&!m)for(let a=g.length-1;a>=0;--a){let b=g[a];if("x-gzip"===b||"gzip"===b)l.push(q.createGunzip({flush:q.constants.Z_SYNC_FLUSH,finishFlush:q.constants.Z_SYNC_FLUSH}));else if("deflate"===b)l.push(V({flush:q.constants.Z_SYNC_FLUSH,finishFlush:q.constants.Z_SYNC_FLUSH}));else if("br"===b)l.push(q.createBrotliDecompress({flush:q.constants.BROTLI_OPERATION_FLUSH,finishFlush:q.constants.BROTLI_OPERATION_FLUSH}));else{l.length=0;break}}let o=this.onError.bind(this);return f({status:a,statusText:e,headersList:i,body:l.length?af(this.body,...l,a=>{a&&this.onError(a)}).on("error",o):this.body.on("error",o)}),!0},onData(b){if(a.controller.dump)return;let c=b;return i.encodedBodySize+=c.byteLength,this.body.push(c)},onComplete(){this.abort&&a.controller.off("terminated",this.abort),a.controller.ended=!0,this.body.push(null)},onError(b){this.abort&&a.controller.off("terminated",this.abort),this.body?.destroy(b),a.controller.terminate(b),g(b)},onUpgrade(a,b,c){if(101!==a)return;let d=new k;for(let a=0;a<b.length;a+=2)d.append(ak(b[a]),b[a+1].toString("latin1"),!0);return f({status:a,statusText:aq[a],headersList:d,socket:c}),!0}}))}}a.exports={fetch:av,Fetch:at,fetching:az,finalizeAndReportTiming:aw}},2494:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(a){if(a&&a.__esModule)return a;var b=Object.create(null);return a&&Object.keys(a).forEach(function(c){if("default"!==c){var d=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(b,c,d.get?d:{enumerable:!0,get:function(){return a[c]}})}}),b.default=a,Object.freeze(b)}(c(83997));let{env:e={},argv:f=[],platform:g=""}="undefined"==typeof process?{}:process,h="NO_COLOR"in e||f.includes("--no-color"),i="FORCE_COLOR"in e||f.includes("--color"),j="win32"===g,k="dumb"===e.TERM,l=d&&d.isatty&&d.isatty(1)&&e.TERM&&!k,m="CI"in e&&("GITHUB_ACTIONS"in e||"GITLAB_CI"in e||"CIRCLECI"in e),o=!h&&(i||j&&!k||l||m),p=(a,b,c,d,e=b.substring(0,a)+d,f=b.substring(a+c.length),g=f.indexOf(c))=>e+(g<0?f:p(g,f,c,d)),q=(a,b,c,d,e)=>a<0?c+b+d:c+p(a,b,d,e)+d,r=(a,b,c=a,d=a.length+1)=>e=>e||""!==e&&void 0!==e?q((""+e).indexOf(b,d),e,a,b,c):"",s=(a,b,c)=>r(`\x1b[${a}m`,`\x1b[${b}m`,c),t={reset:s(0,0),bold:s(1,22,"\x1b[22m\x1b[1m"),dim:s(2,22,"\x1b[22m\x1b[2m"),italic:s(3,23),underline:s(4,24),inverse:s(7,27),hidden:s(8,28),strikethrough:s(9,29),black:s(30,39),red:s(31,39),green:s(32,39),yellow:s(33,39),blue:s(34,39),magenta:s(35,39),cyan:s(36,39),white:s(37,39),gray:s(90,39),bgBlack:s(40,49),bgRed:s(41,49),bgGreen:s(42,49),bgYellow:s(43,49),bgBlue:s(44,49),bgMagenta:s(45,49),bgCyan:s(46,49),bgWhite:s(47,49),blackBright:s(90,39),redBright:s(91,39),greenBright:s(92,39),yellowBright:s(93,39),blueBright:s(94,39),magentaBright:s(95,39),cyanBright:s(96,39),whiteBright:s(97,39),bgBlackBright:s(100,49),bgRedBright:s(101,49),bgGreenBright:s(102,49),bgYellowBright:s(103,49),bgBlueBright:s(104,49),bgMagentaBright:s(105,49),bgCyanBright:s(106,49),bgWhiteBright:s(107,49)},u=({useColor:a=o}={})=>a?t:Object.keys(t).reduce((a,b)=>({...a,[b]:String}),{}),{reset:v,bold:w,dim:x,italic:y,underline:z,inverse:A,hidden:B,strikethrough:C,black:D,red:E,green:F,yellow:G,blue:H,magenta:I,cyan:J,white:K,gray:L,bgBlack:M,bgRed:N,bgGreen:O,bgYellow:P,bgBlue:Q,bgMagenta:R,bgCyan:S,bgWhite:T,blackBright:U,redBright:V,greenBright:W,yellowBright:X,blueBright:Y,magentaBright:Z,cyanBright:$,whiteBright:_,bgBlackBright:aa,bgRedBright:ab,bgGreenBright:ac,bgYellowBright:ad,bgBlueBright:ae,bgMagentaBright:af,bgCyanBright:ag,bgWhiteBright:ah}=u();b.bgBlack=M,b.bgBlackBright=aa,b.bgBlue=Q,b.bgBlueBright=ae,b.bgCyan=S,b.bgCyanBright=ag,b.bgGreen=O,b.bgGreenBright=ac,b.bgMagenta=R,b.bgMagentaBright=af,b.bgRed=N,b.bgRedBright=ab,b.bgWhite=T,b.bgWhiteBright=ah,b.bgYellow=P,b.bgYellowBright=ad,b.black=D,b.blackBright=U,b.blue=H,b.blueBright=Y,b.bold=w,b.createColors=u,b.cyan=J,b.cyanBright=$,b.dim=x,b.gray=L,b.green=F,b.greenBright=W,b.hidden=B,b.inverse=A,b.isColorSupported=o,b.italic=y,b.magenta=I,b.magentaBright=Z,b.red=E,b.redBright=V,b.reset=v,b.strikethrough=C,b.underline=z,b.white=K,b.whiteBright=_,b.yellow=G,b.yellowBright=X},2617:(a,b,c)=>{"use strict";c.d(b,{y:()=>e});var d=c(56704);let e=a=>(0,d.Io)(a)},2697:(a,b,c)=>{"use strict";c.r(b),c.d(b,{NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS:()=>z.nr,S3ExpressIdentityCache:()=>v,S3ExpressIdentityCacheEntry:()=>w,S3ExpressIdentityProviderImpl:()=>x,SignatureV4S3Express:()=>y.r,checkContentLengthHeader:()=>h,checkContentLengthHeaderMiddlewareOptions:()=>i,getCheckContentLengthHeaderPlugin:()=>j,getRegionRedirectMiddlewarePlugin:()=>p,getS3ExpiresMiddlewarePlugin:()=>u,getS3ExpressHttpSigningPlugin:()=>L,getS3ExpressPlugin:()=>D,getThrow200ExceptionsPlugin:()=>U,getValidateBucketNamePlugin:()=>$,regionRedirectEndpointMiddleware:()=>k,regionRedirectEndpointMiddlewareOptions:()=>l,regionRedirectMiddleware:()=>m,regionRedirectMiddlewareOptions:()=>o,resolveS3Config:()=>M,s3ExpiresMiddleware:()=>s,s3ExpiresMiddlewareOptions:()=>t,s3ExpressHttpSigningMiddleware:()=>K,s3ExpressHttpSigningMiddlewareOptions:()=>J,s3ExpressMiddleware:()=>B,s3ExpressMiddlewareOptions:()=>C,throw200ExceptionsMiddleware:()=>R,throw200ExceptionsMiddlewareOptions:()=>T,validateBucketNameMiddleware:()=>Y,validateBucketNameMiddlewareOptions:()=>Z});var d=c(579),e=c(26666);let f="content-length",g="x-amz-decoded-content-length";function h(){return(a,b)=>async c=>{let{request:h}=c;if(d.K.isInstance(h)&&!(f in h.headers)&&!(g in h.headers)){let a="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";"function"!=typeof b?.logger?.warn||b.logger instanceof e.N?console.warn(a):b.logger.warn(a)}return a({...c})}}let i={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},j=a=>({applyToStack:a=>{a.add(h(),i)}}),k=a=>(b,c)=>async d=>{let e=await a.region(),f=a.region,g=()=>{};c.__s3RegionRedirect&&(Object.defineProperty(a,"region",{writable:!1,value:async()=>c.__s3RegionRedirect}),g=()=>Object.defineProperty(a,"region",{writable:!0,value:f}));try{let f=await b(d);if(c.__s3RegionRedirect){g();let b=await a.region();if(e!==b)throw Error("Region was not restored following S3 region redirect.")}return f}catch(a){throw g(),a}},l={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function m(a){return(b,c)=>async d=>{try{return await b(d)}catch(e){if(a.followRegionRedirects){let f=e?.$metadata?.httpStatusCode,g="HeadBucketCommand"===c.commandName,h=e?.$response?.headers?.["x-amz-bucket-region"];if(h&&(301===f||400===f&&(e?.name==="IllegalLocationConstraintException"||g))){try{let b=h;c.logger?.debug(`Redirecting from ${await a.region()} to ${b}`),c.__s3RegionRedirect=b}catch(a){throw Error("Region redirect failed: "+a)}return b(d)}}throw e}}}let o={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},p=a=>({applyToStack:b=>{b.add(m(a),o),b.addRelativeTo(k(a),l)}});var q=c(42887),r=c(40288);let s=a=>(a,b)=>async c=>{let d=await a(c),{response:e}=d;if(q.c.isInstance(e)&&e.headers.expires){e.headers.expiresstring=e.headers.expires;try{(0,r.xE)(e.headers.expires)}catch(a){b.logger?.warn(`AWS SDK Warning for ${b.clientName}::${b.commandName} response parsing (${e.headers.expires}): ${a}`),delete e.headers.expires}}return d},t={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},u=a=>({applyToStack:b=>{b.addRelativeTo(s(a),t)}});class v{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(a={}){this.data=a}get(a){let b=this.data[a];if(b)return b}set(a,b){return this.data[a]=b,b}delete(a){delete this.data[a]}async purgeExpired(){let a=Date.now();if(!(this.lastPurgeTime+v.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>a))for(let b in this.data){let c=this.data[b];if(!c.isRefreshing){let d=await c.identity;d.expiration&&d.expiration.getTime()<a&&delete this.data[b]}}}}class w{_identity;isRefreshing;accessed;constructor(a,b=!1,c=Date.now()){this._identity=a,this.isRefreshing=b,this.accessed=c}get identity(){return this.accessed=Date.now(),this._identity}}class x{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(a,b=new v){this.createSessionFn=a,this.cache=b}async getS3ExpressIdentity(a,b){let c=b.Bucket,{cache:d}=this,e=d.get(c);return e?e.identity.then(a=>(a.expiration?.getTime()??0)<Date.now()?d.set(c,new w(this.getIdentity(c))).identity:((a.expiration?.getTime()??0)<Date.now()+x.REFRESH_WINDOW_MS&&!e.isRefreshing&&(e.isRefreshing=!0,this.getIdentity(c).then(a=>{d.set(c,new w(Promise.resolve(a)))})),a)):d.set(c,new w(this.getIdentity(c))).identity}async getIdentity(a){await this.cache.purgeExpired().catch(a=>{console.warn("Error while clearing expired entries in S3ExpressIdentityCache: \n"+a)});let b=await this.createSessionFn(a);if(!b.Credentials?.AccessKeyId||!b.Credentials?.SecretAccessKey)throw Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:b.Credentials.AccessKeyId,secretAccessKey:b.Credentials.SecretAccessKey,sessionToken:b.Credentials.SessionToken,expiration:b.Credentials.Expiration?new Date(b.Credentials.Expiration):void 0}}}var y=c(60688),z=c(29522),A=c(37197);let B=a=>(b,c)=>async e=>{if(c.endpointV2){let b=c.endpointV2,f=b.properties?.authSchemes?.[0]?.name===z.Lm;if((b.properties?.backend===z.TS||b.properties?.bucketType===z.WC)&&((0,A.J)(c,"S3_EXPRESS_BUCKET","J"),c.isS3ExpressBucket=!0),f){let b=e.input.Bucket;if(b){let f=await a.s3ExpressIdentityProvider.getS3ExpressIdentity(await a.credentials(),{Bucket:b});c.s3ExpressIdentity=f,d.K.isInstance(e.request)&&f.sessionToken&&(e.request.headers[z.Zl]=f.sessionToken)}}}return b(e)},C={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},D=a=>({applyToStack:b=>{b.add(B(a),C)}});var E=c(4745),F=c(23301);let G=async(a,b,c,d)=>{let e=await d.signWithCredentials(c,a,{});if(e.headers["X-Amz-Security-Token"]||e.headers["x-amz-security-token"])throw Error("X-Amz-Security-Token must not be set for s3-express requests.");return e},H=a=>a=>{throw a},I=(a,b)=>{},J=E.Q,K=a=>(b,c)=>async e=>{let f;if(!d.K.isInstance(e.request))return b(e);let g=(0,F.u)(c).selectedHttpAuthScheme;if(!g)throw Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:h={}},identity:i,signer:j}=g;f=c.s3ExpressIdentity?await G(c.s3ExpressIdentity,h,e.request,await a.signer()):await j.sign(e.request,i,h);let k=await b({...e,request:f}).catch((j.errorHandler||H)(h));return(j.successHandler||I)(k.response,h),k},L=a=>({applyToStack:b=>{b.addRelativeTo(K(a),E.Q)}}),M=(a,{session:b})=>{let[c,d]=b,{forcePathStyle:e,useAccelerateEndpoint:f,disableMultiregionAccessPoints:g,followRegionRedirects:h,s3ExpressIdentityProvider:i,bucketEndpoint:j}=a;return Object.assign(a,{forcePathStyle:e??!1,useAccelerateEndpoint:f??!1,disableMultiregionAccessPoints:g??!1,followRegionRedirects:h??!1,s3ExpressIdentityProvider:i??new x(async a=>c().send(new d({Bucket:a}))),bucketEndpoint:j??!1})};var N=c(93562),O=c(10676);let P={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},Q=3e3,R=a=>(b,c)=>async d=>{let e=await b(d),{response:f}=e;if(!q.c.isInstance(f))return e;let{statusCode:g,body:h}=f;if(g<200||g>=300||"function"!=typeof h?.stream&&"function"!=typeof h?.pipe&&"function"!=typeof h?.tee)return e;let i=h,j=h;!h||"object"!=typeof h||h instanceof Uint8Array||([i,j]=await (0,N.L)(h)),f.body=j;let k=await S(i,{streamCollector:async a=>(0,O.z)(a,Q)});"function"==typeof i?.destroy&&i.destroy();let l=a.utf8Encoder(k.subarray(k.length-16));if(0===k.length&&P[c.commandName]){let a=Error("S3 aborted request");throw a.name="InternalError",a}return l&&l.endsWith("</Error>")&&(f.statusCode=400),e},S=(a=new Uint8Array,b)=>a instanceof Uint8Array?Promise.resolve(a):b.streamCollector(a)||Promise.resolve(new Uint8Array),T={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},U=a=>({applyToStack:b=>{b.addRelativeTo(R(a),T)}});var V=c(64682);function W(a){return(b,c)=>async d=>{if(a.bucketEndpoint){let a=c.endpointV2;if(a){let b=d.input.Bucket;if("string"==typeof b)try{let d=new URL(b);c.endpointV2={...a,url:d}}catch(d){let a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${b} could not be parsed as URL.`;throw c.logger?.constructor?.name==="NoOpLogger"?console.warn(a):c.logger?.warn?.(a),d}}}return b(d)}}let X={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function Y({bucketEndpoint:a}){return b=>async c=>{let{input:{Bucket:d}}=c;if(!a&&"string"==typeof d&&!(0,V.validate)(d)&&d.indexOf("/")>=0){let a=Error(`Bucket name shouldn't contain '/', received '${d}'`);throw a.name="InvalidBucketName",a}return b({...c})}}let Z={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},$=a=>({applyToStack:b=>{b.add(Y(a),Z),b.addRelativeTo(W(a),X)}})},2816:a=>{"use strict";function b(a){return a>=55296&&a<=56319}function c(a){return a>=56320&&a<=57343}a.exports=function(a,d,e){if("string"!=typeof d)throw Error("Input must be string");for(var f,g,h=d.length,i=0,j=0;j<h;j+=1){if(f=d.charCodeAt(j),g=d[j],b(f)&&c(d.charCodeAt(j+1))&&(j+=1,g+=d[j]),(i+=a(g))===e)return d.slice(0,j+1);if(i>e)return d.slice(0,j-g.length+1)}return d}},2817:(a,b,c)=>{"use strict";let d=c(5742),e=["suggest","format","onState","validate","onRender","type"],f=()=>{};async function g(a=[],{onSubmit:b=f,onCancel:c=f}={}){let i,j,k,l,m,o,p={},q=g._override||{};a=[].concat(a);let r=async(a,b,c=!1)=>{if(c||!a.validate||!0===a.validate(b))return a.format?await a.format(b,p):b};for(j of a)if({name:l,type:m}=j,"function"==typeof m&&(m=await m(i,{...p},j),j.type=m),m){for(let a in j){if(e.includes(a))continue;let b=j[a];j[a]="function"==typeof b?await b(i,{...p},o):b}if(o=j,"string"!=typeof j.message)throw Error("prompt message is required");if({name:l,type:m}=j,void 0===d[m])throw Error(`prompt type (${m}) is not defined`);if(void 0!==q[j.name]&&void 0!==(i=await r(j,q[j.name]))){p[l]=i;continue}try{i=g._injected?h(g._injected,j.initial):await d[m](j),p[l]=i=await r(j,i,!0),k=await b(j,i,p)}catch(a){k=!await c(j,p)}if(k)break}return p}function h(a,b){let c=a.shift();if(c instanceof Error)throw c;return void 0===c?b:c}function i(a){g._injected=(g._injected||[]).concat(a)}function j(a){g._override=Object.assign({},a)}a.exports=Object.assign(g,{prompt:g,prompts:d,inject:i,override:j})},3120:(a,b,c)=>{"use strict";function d(a,b){let c={...a};for(let e in b)Object.prototype.hasOwnProperty.call(b,e)&&("object"==typeof b[e]&&!Array.isArray(b[e])&&a[e]?c[e]=d(a[e],b[e]):c[e]=b[e]);return c}c.d(b,{p:()=>d})},3174:(a,b,c)=>{"use strict";c.d(b,{A:()=>l});var d=c(77598),e=c(57975),f=c(93513),g=c(47539);function h(a){switch(a){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new g.T0(`alg ${a} is not supported either by JOSE or your javascript runtime`)}}var i=c(7790),j=c(69249);let k=(0,e.promisify)(d.sign),l=async(a,b,c)=>{let e=(0,j.A)(a,b,"sign");if(a.startsWith("HS")){let b=d.createHmac(h(a),e);return b.update(c),b.digest()}return k((0,f.A)(a),c,(0,i.A)(a,e))}},3217:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=function(a){return Object.assign(new String(a),{deserializeJSON:()=>JSON.parse(String(a)),toString:()=>String(a),toJSON:()=>String(a)})};d.from=a=>a&&"object"==typeof a&&(a instanceof d||"deserializeJSON"in a)?a:"string"==typeof a||Object.getPrototypeOf(a)===String.prototype?d(String(a)):d(JSON.stringify(a)),d.fromObject=d.from},3235:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(56863);class e extends Error{constructor(a,b,c,e){super(e||`can't resolve reference ${c} from id ${b}`),this.missingRef=(0,d.resolveUrl)(a,b,c),this.missingSchema=(0,d.normalizeId)((0,d.getFullPath)(a,this.missingRef))}}b.default=e},3271:(a,b,c)=>{"use strict";c.d(b,{u:()=>g});var d=c(61101),e=c(35593),f=c(43982);let g=async a=>{let b=a,{allSessions:c,collection:{config:g},req:{user:h},req:i}=a;if(!h)throw new e.L("No User",d.h.BAD_REQUEST);if(h.collection!==g.slug)throw new e.L("Incorrect collection",d.h.FORBIDDEN);if(g.hooks?.afterLogout?.length)for(let a of g.hooks.afterLogout)b=await a({collection:b.collection?.config,context:i.context,req:i})||b;if(!0!==g.auth.disableLocalStrategy&&g.auth.useSessions){let a=(0,f.v)({enableTrash:!!g.trash,trash:!1,where:{id:{equals:h.id}}}),b=await i.payload.db.findOne({collection:g.slug,req:i,where:a});if(!b)throw new e.L("No User",d.h.BAD_REQUEST);if(c)b.sessions=[];else{let a=(b?.sessions||[]).filter(a=>a.id!==i?.user?._sid);b.sessions=a}b.updatedAt=new Date().toISOString(),await i.payload.db.updateOne({id:h.id,collection:g.slug,data:b,returning:!1})}return!0}},3547:(a,b,c)=>{"use strict";let{kConnected:d,kPending:e,kRunning:f,kSize:g,kFree:h,kQueued:i}=c(25394);class j{constructor(a){this.connected=a[d],this.pending=a[e],this.running=a[f],this.size=a[g]}}class k{constructor(a){this.connected=a[d],this.free=a[h],this.pending=a[e],this.queued=a[i],this.running=a[f],this.size=a[g]}}a.exports={ClientStats:j,PoolStats:k}},3598:(a,b,c)=>{"use strict";c.r(b),c.d(b,{getSmithyContext:()=>d.u,normalizeProvider:()=>e.t});var d=c(23301),e=c(65960)},3612:a=>{"use strict";a.exports={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",DATE_FORMAT_SIMPLE:"HH:MM:ss.l",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",LEVEL_LABEL:"levelLabel",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN",30:"INFO",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","caller"]}},3854:(a,b,c)=>{"use strict";var d=c(20647),e=Object.prototype.hasOwnProperty,f=Array.isArray,g={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:d.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},h=function(a){return a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(parseInt(b,10))})},i=function(a,b,c){if(a&&"string"==typeof a&&b.comma&&a.indexOf(",")>-1)return a.split(",");if(b.throwOnLimitExceeded&&c>=b.arrayLimit)throw RangeError("Array limit exceeded. Only "+b.arrayLimit+" element"+(1===b.arrayLimit?"":"s")+" allowed in an array.");return a},j="utf8=%26%2310003%3B",k="utf8=%E2%9C%93",l=function(a,b){var c={__proto__:null},l=b.ignoreQueryPrefix?a.replace(/^\?/,""):a;l=l.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var m=b.parameterLimit===1/0?void 0:b.parameterLimit,o=l.split(b.delimiter,b.throwOnLimitExceeded?m+1:m);if(b.throwOnLimitExceeded&&o.length>m)throw RangeError("Parameter limit exceeded. Only "+m+" parameter"+(1===m?"":"s")+" allowed.");var p=-1,q=b.charset;if(b.charsetSentinel)for(r=0;r<o.length;++r)0===o[r].indexOf("utf8=")&&(o[r]===k?q="utf-8":o[r]===j&&(q="iso-8859-1"),p=r,r=o.length);for(r=0;r<o.length;++r)if(r!==p){var r,s,t,u=o[r],v=u.indexOf("]="),w=-1===v?u.indexOf("="):v+1;-1===w?(s=b.decoder(u,g.decoder,q,"key"),t=b.strictNullHandling?null:""):(s=b.decoder(u.slice(0,w),g.decoder,q,"key"),t=d.maybeMap(i(u.slice(w+1),b,f(c[s])?c[s].length:0),function(a){return b.decoder(a,g.decoder,q,"value")})),t&&b.interpretNumericEntities&&"iso-8859-1"===q&&(t=h(String(t))),u.indexOf("[]=")>-1&&(t=f(t)?[t]:t);var x=e.call(c,s);x&&"combine"===b.duplicates?c[s]=d.combine(c[s],t):x&&"last"!==b.duplicates||(c[s]=t)}return c},m=function(a,b,c,e){var f=0;if(a.length>0&&"[]"===a[a.length-1]){var g=a.slice(0,-1).join("");f=Array.isArray(b)&&b[g]?b[g].length:0}for(var h=e?b:i(b,c,f),j=a.length-1;j>=0;--j){var k,l=a[j];if("[]"===l&&c.parseArrays)k=c.allowEmptyArrays&&(""===h||c.strictNullHandling&&null===h)?[]:d.combine([],h);else{k=c.plainObjects?{__proto__:null}:{};var m="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,o=c.decodeDotInKeys?m.replace(/%2E/g,"."):m,p=parseInt(o,10);c.parseArrays||""!==o?!isNaN(p)&&l!==o&&String(p)===o&&p>=0&&c.parseArrays&&p<=c.arrayLimit?(k=[])[p]=h:"__proto__"!==o&&(k[o]=h):k={0:h}}h=k}return h},o=function(a,b,c,d){if(a){var f=c.allowDots?a.replace(/\.([^.[]+)/g,"[$1]"):a,g=/(\[[^[\]]*])/,h=/(\[[^[\]]*])/g,i=c.depth>0&&g.exec(f),j=i?f.slice(0,i.index):f,k=[];if(j){if(!c.plainObjects&&e.call(Object.prototype,j)&&!c.allowPrototypes)return;k.push(j)}for(var l=0;c.depth>0&&null!==(i=h.exec(f))&&l<c.depth;){if(l+=1,!c.plainObjects&&e.call(Object.prototype,i[1].slice(1,-1))&&!c.allowPrototypes)return;k.push(i[1])}if(i){if(!0===c.strictDepth)throw RangeError("Input depth exceeded depth option of "+c.depth+" and strictDepth is true");k.push("["+f.slice(i.index)+"]")}return m(k,b,c,d)}},p=function(a){if(!a)return g;if(void 0!==a.allowEmptyArrays&&"boolean"!=typeof a.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==a.decodeDotInKeys&&"boolean"!=typeof a.decodeDotInKeys)throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==a.decoder&&void 0!==a.decoder&&"function"!=typeof a.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==a.charset&&"utf-8"!==a.charset&&"iso-8859-1"!==a.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==a.throwOnLimitExceeded&&"boolean"!=typeof a.throwOnLimitExceeded)throw TypeError("`throwOnLimitExceeded` option must be a boolean");var b=void 0===a.charset?g.charset:a.charset,c=void 0===a.duplicates?g.duplicates:a.duplicates;if("combine"!==c&&"first"!==c&&"last"!==c)throw TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===a.allowDots?!0===a.decodeDotInKeys||g.allowDots:!!a.allowDots,allowEmptyArrays:"boolean"==typeof a.allowEmptyArrays?!!a.allowEmptyArrays:g.allowEmptyArrays,allowPrototypes:"boolean"==typeof a.allowPrototypes?a.allowPrototypes:g.allowPrototypes,allowSparse:"boolean"==typeof a.allowSparse?a.allowSparse:g.allowSparse,arrayLimit:"number"==typeof a.arrayLimit?a.arrayLimit:g.arrayLimit,charset:b,charsetSentinel:"boolean"==typeof a.charsetSentinel?a.charsetSentinel:g.charsetSentinel,comma:"boolean"==typeof a.comma?a.comma:g.comma,decodeDotInKeys:"boolean"==typeof a.decodeDotInKeys?a.decodeDotInKeys:g.decodeDotInKeys,decoder:"function"==typeof a.decoder?a.decoder:g.decoder,delimiter:"string"==typeof a.delimiter||d.isRegExp(a.delimiter)?a.delimiter:g.delimiter,depth:"number"==typeof a.depth||!1===a.depth?+a.depth:g.depth,duplicates:c,ignoreQueryPrefix:!0===a.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof a.interpretNumericEntities?a.interpretNumericEntities:g.interpretNumericEntities,parameterLimit:"number"==typeof a.parameterLimit?a.parameterLimit:g.parameterLimit,parseArrays:!1!==a.parseArrays,plainObjects:"boolean"==typeof a.plainObjects?a.plainObjects:g.plainObjects,strictDepth:"boolean"==typeof a.strictDepth?!!a.strictDepth:g.strictDepth,strictNullHandling:"boolean"==typeof a.strictNullHandling?a.strictNullHandling:g.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof a.throwOnLimitExceeded&&a.throwOnLimitExceeded}};a.exports=function(a,b){var c=p(b);if(""===a||null==a)return c.plainObjects?{__proto__:null}:{};for(var e="string"==typeof a?l(a,c):a,f=c.plainObjects?{__proto__:null}:{},g=Object.keys(e),h=0;h<g.length;++h){var i=g[h],j=o(i,e[i],c,"string"==typeof a);f=d.merge(f,j,c)}return!0===c.allowSparse?f:d.compact(f)}},3938:a=>{"use strict";a.exports=function(a){let b=a.length,c=0;for(;c<b;)if((128&a[c])==0)c++;else if((224&a[c])==192){if(c+1===b||(192&a[c+1])!=128||(254&a[c])==192)return!1;c+=2}else if((240&a[c])==224){if(c+2>=b||(192&a[c+1])!=128||(192&a[c+2])!=128||224===a[c]&&(224&a[c+1])==128||237===a[c]&&(224&a[c+1])==160)return!1;c+=3}else{if((248&a[c])!=240||c+3>=b||(192&a[c+1])!=128||(192&a[c+2])!=128||(192&a[c+3])!=128||240===a[c]&&(240&a[c+1])==128||244===a[c]&&a[c+1]>143||a[c]>244)return!1;c+=4}return!0}},3998:(a,b,c)=>{"use strict";let{Transform:d}=c(57075),{isASCIINumber:e,isValidLastEventId:f}=c(53298),g=[239,187,191],h=10,i=13,j=58,k=32;class l extends d{state;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(a={}){a.readableObjectMode=!0,super(a),this.state=a.eventSourceSettings||{},a.push&&(this.push=a.push)}_transform(a,b,c){if(0===a.length)return void c();if(this.buffer?this.buffer=Buffer.concat([this.buffer,a]):this.buffer=a,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===g[0])return void c();this.checkBOM=!1,c();return;case 2:if(this.buffer[0]===g[0]&&this.buffer[1]===g[1])return void c();this.checkBOM=!1;break;case 3:if(this.buffer[0]===g[0]&&this.buffer[1]===g[1]&&this.buffer[2]===g[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,c();return}this.checkBOM=!1;break;default:this.buffer[0]===g[0]&&this.buffer[1]===g[1]&&this.buffer[2]===g[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===h){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===h||this.buffer[this.pos]===i){this.buffer[this.pos]===i&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(void 0!==this.event.data||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===h||this.buffer[this.pos]===i){this.buffer[this.pos]===i&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}c()}parseLine(a,b){if(0===a.length)return;let c=a.indexOf(j);if(0===c)return;let d="",g="";if(-1!==c){d=a.subarray(0,c).toString("utf8");let b=c+1;a[b]===k&&++b,g=a.subarray(b).toString("utf8")}else d=a.toString("utf8"),g="";switch(d){case"data":void 0===b[d]?b[d]=g:b[d]+=`
${g}`;break;case"retry":e(g)&&(b[d]=g);break;case"id":f(g)&&(b[d]=g);break;case"event":g.length>0&&(b[d]=g)}}processEvent(a){a.retry&&e(a.retry)&&(this.state.reconnectionTime=parseInt(a.retry,10)),a.id&&f(a.id)&&(this.state.lastEventId=a.id),void 0!==a.data&&this.push({type:a.event||"message",options:{data:a.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}}a.exports={EventSourceStream:l}},4018:(a,b,c)=>{"use strict";try{a.exports=c(70263)(__dirname)}catch(b){a.exports=c(3938)}},4107:(a,b,c)=>{"use strict";c.d(b,{O:()=>d});class d{namespace;schemas;exceptions;static registries=new Map;constructor(a,b=new Map,c=new Map){this.namespace=a,this.schemas=b,this.exceptions=c}static for(a){return d.registries.has(a)||d.registries.set(a,new d(a)),d.registries.get(a)}register(a,b){let c=this.normalizeShapeId(a);d.for(c.split("#")[0]).schemas.set(c,b)}getSchema(a){let b=this.normalizeShapeId(a);if(!this.schemas.has(b))throw Error(`@smithy/core/schema - schema not found for ${b}`);return this.schemas.get(b)}registerError(a,b){let c=a,e=d.for(c[1]);e.schemas.set(c[1]+"#"+c[2],c),e.exceptions.set(c,b)}getErrorCtor(a){let b=a;return d.for(b[1]).exceptions.get(b)}getBaseException(){for(let a of this.exceptions.keys())if(Array.isArray(a)){let[,b,c]=a,d=b+"#"+c;if(d.startsWith("smithy.ts.sdk.synthetic.")&&d.endsWith("ServiceException"))return a}}find(a){return[...this.schemas.values()].find(a)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(a){return a.includes("#")?a:this.namespace+"#"+a}}},4110:(a,b,c)=>{"use strict";c.d(b,{jR:()=>R});var d=c(55414);let e={name:"name",type:"text",label:"Name (lowercase, no special characters)",required:!0},f={name:"label",type:"text",label:"Label",localized:!0},g={name:"required",type:"checkbox",label:"Required"},h={name:"width",type:"number",label:"Field Width (percentage)"},i={name:"placeholder",type:"text",label:"Placeholder"},j={slug:"radio",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{name:"defaultValue",type:"text",admin:{width:"50%"},label:"Default Value",localized:!0}]},{name:"options",type:"array",fields:[{type:"row",fields:[{name:"label",type:"text",admin:{width:"50%"},label:"Label",localized:!0,required:!0},{name:"value",type:"text",admin:{width:"50%"},label:"Value",required:!0}]}],label:"Radio Attribute Options",labels:{plural:"Options",singular:"Option"}},g],labels:{plural:"Radio Fields",singular:"Radio"}},k={slug:"select",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{name:"defaultValue",type:"text",admin:{width:"50%"},label:"Default Value",localized:!0}]},{type:"row",fields:[{...i}]},{name:"options",type:"array",fields:[{type:"row",fields:[{name:"label",type:"text",admin:{width:"50%"},label:"Label",localized:!0,required:!0},{name:"value",type:"text",admin:{width:"50%"},label:"Value",required:!0}]}],label:"Select Attribute Options",labels:{plural:"Options",singular:"Option"}},g],labels:{plural:"Select Fields",singular:"Select"}},l={slug:"text",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{name:"defaultValue",type:"text",admin:{width:"50%"},label:"Default Value",localized:!0}]},g],labels:{plural:"Text Fields",singular:"Text"}},m={slug:"textarea",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{name:"defaultValue",type:"text",admin:{width:"50%"},label:"Default Value",localized:!0}]},g],labels:{plural:"Text Area Fields",singular:"Text Area"}},o={slug:"number",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{name:"defaultValue",type:"number",admin:{width:"50%"},label:"Default Value"}]},g],labels:{plural:"Number Fields",singular:"Number"}},p={slug:"email",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},h,g],labels:{plural:"Email Fields",singular:"Email"}},q={slug:"state",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},h,g],labels:{plural:"State Fields",singular:"State"}},r={slug:"country",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},h,g],labels:{plural:"Country Fields",singular:"Country"}},s={slug:"checkbox",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{...g,admin:{width:"50%"}}]},{name:"defaultValue",type:"checkbox",label:"Default Value"}],labels:{plural:"Checkbox Fields",singular:"Checkbox"}},t={checkbox:s,country:r,date:{slug:"date",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{...g,admin:{width:"50%"}}]},{name:"defaultValue",type:"date",label:"Default Value"}],labels:{plural:"Date Fields",singular:"Date"}},email:p,message:{slug:"message",fields:[{name:"message",type:"richText",localized:!0}],labels:{plural:"Message Blocks",singular:"Message"}},number:o,payment:a=>{let b=null;return a?.paymentProcessor&&(b={name:"paymentProcessor",type:"select",label:"Payment Processor",options:[],...a.paymentProcessor}),{slug:"payment",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{name:"basePrice",type:"number",admin:{width:"50%"},label:"Base Price"}]},b,{name:"priceConditions",type:"array",fields:[{name:"fieldToUse",type:"text",admin:{components:{Field:"@payloadcms/plugin-form-builder/client#DynamicFieldSelector"}}},{name:"condition",type:"select",defaultValue:"hasValue",label:"Condition",options:[{label:"Has Any Value",value:"hasValue"},{label:"Equals",value:"equals"},{label:"Does Not Equal",value:"notEquals"}]},{name:"valueForCondition",type:"text",admin:{condition:(a,{condition:b})=>"equals"===b||"notEquals"===b},label:"Value"},{name:"operator",type:"select",defaultValue:"add",options:[{label:"Add",value:"add"},{label:"Subtract",value:"subtract"},{label:"Multiply",value:"multiply"},{label:"Divide",value:"divide"}]},{name:"valueType",type:"radio",admin:{width:"100%"},defaultValue:"static",label:"Value Type",options:[{label:"Static Value",value:"static"},{label:"Value Of Field",value:"valueOfField"}]},{name:"valueForOperator",type:"text",admin:{components:{Field:"@payloadcms/plugin-form-builder/client#DynamicPriceSelector"}},label:"Value"}],label:"Price Conditions",labels:{plural:"Price Conditions",singular:"Price Condition"}},g].filter(Boolean),labels:{plural:"Payment Fields",singular:"Payment"}}},radio:j,select:k,state:q,text:l,textarea:m},u=a=>{let b={name:"redirect",type:"group",admin:{condition:(a,b)=>b?.confirmationType==="redirect",hideGutter:!0},fields:[{name:"url",type:"text",label:"URL to redirect to",required:!0}]};a.redirectRelationships&&(b.fields.unshift({name:"reference",type:"relationship",admin:{condition:(a,b)=>b?.type==="reference"},label:"Document to link to",maxDepth:2,relationTo:a.redirectRelationships,required:!0}),b.fields.unshift({name:"type",type:"radio",admin:{layout:"horizontal"},defaultValue:"reference",options:[{label:"Internal link",value:"reference"},{label:"Custom URL",value:"custom"}]}),"row"!==b.fields[2].type&&(b.fields[2].label="Custom URL"),b.fields[2].admin={condition:(a,b)=>b?.type==="custom"});let c=[{name:"title",type:"text",required:!0},{name:"fields",type:"blocks",blocks:Object.entries(a?.fields||{}).map(([a,b])=>{if(!1!==b){let c=t[a];return void 0===c&&"object"==typeof b?b:"object"==typeof c&&"object"==typeof b?(0,d.AG)(c,b):"function"==typeof c?c(b):c}return null}).filter(Boolean)},{name:"submitButtonLabel",type:"text",localized:!0},{name:"confirmationType",type:"radio",admin:{description:"Choose whether to display an on-page message or redirect to a different page after they submit the form.",layout:"horizontal"},defaultValue:"message",options:[{label:"Message",value:"message"},{label:"Redirect",value:"redirect"}]},{name:"confirmationMessage",type:"richText",admin:{condition:(a,b)=>b?.confirmationType==="message"},localized:!0,required:!0},b,{name:"emails",type:"array",access:{read:({req:{user:a}})=>!!a},admin:{description:"Send custom emails when the form submits. Use comma separated lists to send the same email to multiple recipients. To reference a value from this form, wrap that field's name with double curly brackets, i.e. {{firstName}}. You can use a wildcard {{*}} to output all data and {{*:table}} to format it as an HTML table in the email."},fields:[{type:"row",fields:[{name:"emailTo",type:"text",admin:{placeholder:'"Email Sender" <sender@email.com>',width:"100%"},label:"Email To"},{name:"cc",type:"text",admin:{style:{maxWidth:"50%"}},label:"CC"},{name:"bcc",type:"text",admin:{style:{maxWidth:"50%"}},label:"BCC"}]},{type:"row",fields:[{name:"replyTo",type:"text",admin:{placeholder:'"Reply To" <reply-to@email.com>',width:"50%"},label:"Reply To"},{name:"emailFrom",type:"text",admin:{placeholder:'"Email From" <email-from@email.com>',width:"50%"},label:"Email From"}]},{name:"subject",type:"text",defaultValue:"You've received a new message.",label:"Subject",localized:!0,required:!0},{name:"message",type:"richText",admin:{description:"Enter the message that should be sent in this email."},label:"Message",localized:!0}]}];return{...a?.formOverrides||{},slug:a?.formOverrides?.slug||"forms",access:{read:()=>!0,...a?.formOverrides?.access||{}},admin:{enableRichTextRelationship:!1,useAsTitle:"title",...a?.formOverrides?.admin||{}},fields:a?.formOverrides?.fields&&"function"==typeof a?.formOverrides?.fields?a.formOverrides.fields({defaultFields:c}):c}},v={name:"payment",type:"group",fields:[{name:"field",type:"text",label:"Field"},{name:"status",type:"text",label:"Status"},{name:"amount",type:"number",admin:{description:"Amount in cents"}},{name:"paymentProcessor",type:"text"},{name:"creditCard",type:"group",fields:[{name:"token",type:"text",label:"token"},{name:"brand",type:"text",label:"Brand"},{name:"number",type:"text",label:"Number"}],label:"Credit Card"}]},w=async(a,b)=>{let{data:c,operation:d}=a,e=c;if("create"===d){let{handlePayment:c}=b||{};"function"==typeof c&&(e=await c(a))}return e},x={async converter({converters:a,node:b,parent:c,submissionData:d}){let e=await L({converters:a,lexicalNodes:b.children,parent:{...b,parent:c},submissionData:d}),f=[b.format?`text-align: ${b.format};`:"",b.indent>0?`padding-inline-start: ${40*b.indent}px;`:""].filter(Boolean).join(" ");return`<${b?.tag}${f?` style='${f}'`:""}>${e}</${b?.tag}>`},nodeTypes:["heading"]},y={converter:()=>"<br>",nodeTypes:["linebreak"]};function z(a){let b="<table>";for(let[c,d]of Object.entries(a))b+=`<tr><td>${c}</td><td>${d}</td></tr>`;return b+"</table>"}let A=(a,b)=>{let c=/\{\{(.+?)\}\}/g;return a&&b?a.replace(c,(a,c)=>{if(c.includes("*")){if("*"===c)return b.map(({field:a,value:b})=>`${a} : ${b}`).join(" <br /> ");else if("*:table"===c)return z(b.reduce((a,{field:b,value:c})=>(a[b]=c,a),{}))}else{let a=b.find(({field:a})=>c===a);if(a)return a.value}return c}):a},B={async converter({converters:a,node:b,parent:c,submissionData:d}){let e=await L({converters:a,lexicalNodes:b.children,parent:{...b,parent:c},submissionData:d}),f="custom"===b.fields.linkType?b.fields.url:b.fields.doc?.value?.id;return d&&(f=A(f,d)),`<a href="${f}"${b.fields.newTab?' rel="noopener noreferrer" target="_blank"':""}>${e}</a>`},nodeTypes:["link"]},C={converter:async({converters:a,node:b,parent:c,submissionData:d})=>{let e=await L({converters:a,lexicalNodes:b.children,parent:{...b,parent:c},submissionData:d});return`<${b?.tag} class="${b?.listType}">${e}</${b?.tag}>`},nodeTypes:["list"]},D={converter:async({converters:a,node:b,parent:c})=>{let d=await L({converters:a,lexicalNodes:b.children,parent:{...b,parent:c}});return"listType"in c&&c?.listType==="check"?`<li aria-checked=${b.checked?"true":"false"} class="${b.checked,"list-item-checkbox-checked"}"
          role="checkbox"
          tabIndex=-1
          value=${b?.value}
      >
          ${d}
          </li>`:`<li value=${b?.value}>${d}</li>`},nodeTypes:["listitem"]},E={async converter({converters:a,node:b,parent:c,submissionData:d}){let e=await L({converters:a,lexicalNodes:b.children,parent:{...b,parent:c},submissionData:d});return`<p>${e}</p>`},nodeTypes:["paragraph"]},F={async converter({converters:a,node:b,parent:c,submissionData:d}){let e=await L({converters:a,lexicalNodes:b.children,parent:{...b,parent:c},submissionData:d}),f=[b.format?`text-align: ${b.format};`:"",b.indent>0?`padding-inline-start: ${40*b.indent}px;`:""].filter(Boolean).join(" ");return`<blockquote${f?` style='${f}'`:""}>${e}</blockquote>`},nodeTypes:["quote"]},G={IS_NORMAL:0,IS_TOKEN:1,IS_SEGMENTED:2,IS_BOLD:1,IS_ITALIC:2,IS_STRIKETHROUGH:4,IS_UNDERLINE:8,IS_CODE:16,IS_SUBSCRIPT:32,IS_SUPERSCRIPT:64,IS_HIGHLIGHT:128,IS_DIRECTIONLESS:1,IS_UNMERGEABLE:2,IS_ALIGN_LEFT:1,IS_ALIGN_CENTER:2,IS_ALIGN_RIGHT:3,IS_ALIGN_JUSTIFY:4,IS_ALIGN_START:5,IS_ALIGN_END:6};G.IS_BOLD,G.IS_ITALIC,G.IS_STRIKETHROUGH,G.IS_UNDERLINE,G.IS_CODE,G.IS_SUBSCRIPT,G.IS_SUPERSCRIPT,G.IS_HIGHLIGHT;let H="֑-߿יִ-﷽ﹰ-ﻼ",I="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿";RegExp("^[^"+I+"]*["+H+"]"),RegExp("^[^"+H+"]*["+I+"]"),G.IS_BOLD,G.IS_CODE,G.IS_HIGHLIGHT,G.IS_ITALIC,G.IS_STRIKETHROUGH,G.IS_SUBSCRIPT,G.IS_SUPERSCRIPT,G.IS_UNDERLINE,G.IS_DIRECTIONLESS,G.IS_UNMERGEABLE,G.IS_ALIGN_CENTER,G.IS_ALIGN_END,G.IS_ALIGN_JUSTIFY,G.IS_ALIGN_LEFT,G.IS_ALIGN_RIGHT,G.IS_ALIGN_START,G.IS_ALIGN_CENTER,G.IS_ALIGN_END,G.IS_ALIGN_JUSTIFY,G.IS_ALIGN_LEFT,G.IS_ALIGN_RIGHT,G.IS_ALIGN_START,G.IS_NORMAL,G.IS_SEGMENTED,G.IS_TOKEN,G.IS_NORMAL,G.IS_SEGMENTED,G.IS_TOKEN;let J=[E,{converter({node:a,submissionData:b}){let c=a.text;return b&&(c=A(c,b)),a.format&G.IS_BOLD&&(c=`<strong>${c}</strong>`),a.format&G.IS_ITALIC&&(c=`<em>${c}</em>`),a.format&G.IS_STRIKETHROUGH&&(c=`<span style="text-decoration: line-through">${c}</span>`),a.format&G.IS_UNDERLINE&&(c=`<span style="text-decoration: underline">${c}</span>`),a.format&G.IS_CODE&&(c=`<code>${c}</code>`),a.format&G.IS_SUBSCRIPT&&(c=`<sub>${c}</sub>`),a.format&G.IS_SUPERSCRIPT&&(c=`<sup>${c}</sup>`),c},nodeTypes:["text"]},y,B,x,F,C,D];async function K(a,b){let c=J;return a?.root?.children?.length?await L({converters:c,lexicalNodes:a?.root?.children,parent:a?.root,submissionData:b}):""}async function L({converters:a,lexicalNodes:b,parent:c,submissionData:d}){let e=a.find(a=>a.nodeTypes.includes("unknown"));return(await Promise.all(b.map(async(b,f)=>{let g=a.find(a=>a.nodeTypes.includes(b.type));return g?g.converter({childIndex:f,converters:a,node:b,parent:c,submissionData:d}):e?e.converter({childIndex:f,converters:a,node:b,parent:c,submissionData:d}):"<span>unknown node</span>"}))).join("")||""}var M=c(8507);let N=a=>"text"in a,O=(a,b)=>a?.map(a=>{if(N(a)){let c=a.text.includes("{{*")?A(a.text,b):`<span>${M(A(a.text,b))}</span>`;return a.bold&&(c=`
        <strong>
          ${c}
        </strong>
      `),a.code&&(c=`
        <code>
          ${c}
        </code>
      `),a.italic&&(c=`
        <em >
          ${c}
        </em>
      `),c}if(!a)return null;switch(a.type){case"h1":return`
        <h1>
          ${O(a.children,b)}
        </h1>
      `;case"h2":return`
        <h2>
          ${O(a.children,b)}
        </h2>
      `;case"h3":return`
        <h3>
          ${O(a.children,b)}
        </h3>
      `;case"h4":return`
        <h4>
          ${O(a.children,b)}
        </h4>
      `;case"h5":return`
        <h5>
          ${O(a.children,b)}
        </h5>
      `;case"h6":return`
        <h6>
          ${O(a.children,b)}
        </h6>
      `;case"indent":return`
          <p style="padding-left: 20px">
            ${O(a.children,b)}
          </p>
        `;case"li":return`
        <li>
          ${O(a.children,b)}
        </li>
      `;case"link":return`
          <a href={${M(A(a.url,b))}}>
          ${O(a.children,b)}
        </a>
      `;case"ol":return`
        <ol>
          ${O(a.children,b)}
        </ol>
      `;case"quote":return`
        <blockquote>
          ${O(a.children,b)}
        </blockquote>
      `;case"ul":return`
        <ul>
          ${O(a.children,b)}
        </ul>
      `;default:return`
        <p>
          ${O(a.children,b)}
        </p>
      `}}).filter(Boolean).join(""),P=async(a,b)=>{let{data:c,operation:d,req:e}=a;if("create"===d){let{data:{id:d},req:{locale:f,payload:g}}=a,{form:h,submissionData:i}=c||{},{beforeEmail:j,defaultToEmail:k,formOverrides:l}=b||{};try{let b=(await g.findByID({id:h,collection:l?.slug||"forms",locale:f,req:e})).emails;if(b&&b.length){let c=await Promise.all(b.map(async a=>{let{bcc:b,cc:c,emailFrom:d,emailTo:e,message:f,replyTo:h,subject:j}=a,l=e||k||g.email.defaultFromAddress,m=A(l,i),o=c?A(c,i):"",p=b?A(b,i):"",q=A(d,i),r=A(h||d,i),s=f&&!Array.isArray(f)&&"root"in f?await K(f,i):O(f,i);return{bcc:p,cc:o,from:q,html:`<div>${s}</div>`,replyTo:r,subject:A(j,i),to:m}})),d=c;"function"==typeof j&&(d=await j(c,a)),await Promise.all(d.map(async a=>{let{to:b}=a;try{return await g.sendEmail(a)}catch(a){g.logger.error({err:a,msg:`Error while sending email to address: ${b}. Email not sent.`})}}))}else g.logger.info({msg:"No emails to send."})}catch(b){let a=`Error while sending one or more emails in form submission id: ${d}.`;g.logger.error({err:b,msg:a})}}return c},Q=a=>{let b=a?.formOverrides?.slug||"forms",c=[{name:"form",type:"relationship",relationTo:b,required:!0,validate:async(a,{req:{payload:c},req:d})=>{if(!c)return!0;if(c){let e;try{return e=await c.findByID({id:a,collection:b,req:d}),!0}catch(a){return"Cannot create this submission because this form does not exist."}}}},{name:"submissionData",type:"array",fields:[{name:"field",type:"text",required:!0},{name:"value",type:"text",required:!0,validate:a=>void 0!==a||"This field is required."}]},...a?.fields?.payment?[v]:[]];return{...a?.formSubmissionOverrides||{},slug:a?.formSubmissionOverrides?.slug||"form-submissions",access:{create:()=>!0,read:({req:{user:a}})=>!!a,update:()=>!1,...a?.formSubmissionOverrides?.access||{}},admin:{...a?.formSubmissionOverrides?.admin||{},enableRichTextRelationship:!1},fields:a?.formSubmissionOverrides?.fields&&"function"==typeof a?.formSubmissionOverrides?.fields?a.formSubmissionOverrides.fields({defaultFields:c}):c,hooks:{...a?.formSubmissionOverrides?.hooks||{},beforeChange:[b=>w(b,a),b=>P(b,a),...a?.formSubmissionOverrides?.hooks?.beforeChange||[]]}}},R=a=>b=>{let c={...a,fields:{checkbox:!0,country:!0,email:!0,message:!0,number:!0,payment:!1,select:!0,state:!0,text:!0,textarea:!0,...a.fields}};return{...b,collections:[...b?.collections||[],u(c),Q(c)]}}},4125:a=>{"use strict";a.exports=(a,b)=>{if(!a.meta||"escape"===a.name){if(a.ctrl){if("a"===a.name)return"first";if("c"===a.name||"d"===a.name)return"abort";if("e"===a.name)return"last";if("g"===a.name)return"reset"}if(b){if("j"===a.name)return"down";if("k"===a.name)return"up"}return"return"===a.name||"enter"===a.name?"submit":"backspace"===a.name?"delete":"delete"===a.name?"deleteForward":"abort"===a.name?"abort":"escape"===a.name?"exit":"tab"===a.name?"next":"pagedown"===a.name?"nextPage":"pageup"===a.name?"prevPage":"home"===a.name?"home":"end"===a.name?"end":"up"===a.name?"up":"down"===a.name?"down":"right"===a.name?"right":"left"===a.name&&"left"}}},4315:(a,b,c)=>{"use strict";c.d(b,{Y:()=>e,i:()=>f});var d=c(71540);function e(a){return(0,d.ll)`${a} asc`}function f(a){return(0,d.ll)`${a} desc`}},4389:(a,b,c)=>{"use strict";c.d(b,{r:()=>m});let d=async a=>{let b=a?.Bucket||"";if("string"==typeof a.Bucket&&(a.Bucket=b.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),i(b)){if(!0===a.ForcePathStyle)throw Error("Path-style addressing cannot be used with ARN buckets")}else h(b)&&(-1===b.indexOf(".")||String(a.Endpoint).startsWith("http:"))&&b.toLowerCase()===b&&!(b.length<3)||(a.ForcePathStyle=!0);return a.DisableMultiRegionAccessPoints&&(a.disableMultiRegionAccessPoints=!0,a.DisableMRAP=!0),a},e=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,f=/(\d+\.){3}\d+/,g=/\.\./,h=a=>e.test(a)&&!f.test(a)&&!g.test(a),i=a=>{let[b,c,d,,,e]=a.split(":"),f="arn"===b&&a.split(":").length>=6,g=!!(f&&c&&d&&e);if(f&&!g)throw Error(`Invalid ARN: ${a} was an invalid ARN.`);return g},j=(a,b,c)=>{let d=async()=>{let d=c[a]??c[b];return"function"==typeof d?d():d};return"credentialScope"===a||"CredentialScope"===b?async()=>{let a="function"==typeof c.credentials?await c.credentials():c.credentials;return a?.credentialScope??a?.CredentialScope}:"accountId"===a||"AccountId"===b?async()=>{let a="function"==typeof c.credentials?await c.credentials():c.credentials;return a?.accountId??a?.AccountId}:"endpoint"===a||"endpoint"===b?async()=>{if(!1===c.isCustomEndpoint)return;let a=await d();if(a&&"object"==typeof a){if("url"in a)return a.url.href;if("hostname"in a){let{protocol:b,hostname:c,port:d,path:e}=a;return`${b}//${c}${d?":"+d:""}${e}`}}return a}:d};var k=c(71476),l=c(38108);let m=async(a,b,c,d)=>{if(!c.isCustomEndpoint){let a;(a=c.serviceConfiguredEndpoint?await c.serviceConfiguredEndpoint():await (0,k.k)(c.serviceId))&&(c.endpoint=()=>Promise.resolve((0,l.a)(a)),c.isCustomEndpoint=!0)}let e=await o(a,b,c);if("function"!=typeof c.endpointProvider)throw Error("config.endpointProvider is not set.");return c.endpointProvider(e,d)},o=async(a,b,c)=>{let e={},f=b?.getEndpointParameterInstructions?.()||{};for(let[b,d]of Object.entries(f))switch(d.type){case"staticContextParams":e[b]=d.value;break;case"contextParams":e[b]=a[d.name];break;case"clientContextParams":case"builtInParams":e[b]=await j(d.name,b,c)();break;case"operationContextParams":e[b]=d.get(a);break;default:throw Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(d))}return 0===Object.keys(f).length&&Object.assign(e,c),"s3"===String(c.serviceId).toLowerCase()&&await d(e),e}},4619:(a,b,c)=>{"use strict";function d(a,b){let c=Array.isArray(b)?b:[b],d={};for(let b of c)b in a&&(d[b]=a[b]);return new Proxy(a,{deleteProperty:(a,b)=>Reflect.deleteProperty(c.includes(b)?d:a,b),get:(a,b,e)=>Reflect.get(c.includes(b)?d:a,b,e),has:(a,b)=>Reflect.has(c.includes(b)?d:a,b),set:(a,b,e,f)=>c.includes(b)?Reflect.set(d,b,e):Reflect.set(a,b,e,f)})}c.d(b,{i:()=>d})},4671:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(86397),e=c(49943),f=c(44837);b.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:b}){let c="maxLength"===a?"more":"fewer";return(0,d.str)`must NOT have ${c} than ${b} characters`},params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:g,it:h}=a,i="maxLength"===b?d.operators.GT:d.operators.LT,j=!1===h.opts.unicode?(0,d._)`${c}.length`:(0,d._)`${(0,e.useFunc)(a.gen,f.default)}(${c})`;a.fail$data((0,d._)`${j} ${i} ${g}`)}}},4690:(a,b,c)=>{"use strict";c.d(b,{$:()=>f});var d=c(53349),e=c(59837);let f=({query:a={}})=>{let b=[],c={};for(let f of Object.keys(a)){if(f.toLowerCase()===e.D8)continue;let g=(0,d.o)(f);b.push(g);let h=a[f];"string"==typeof h?c[g]=`${g}=${(0,d.o)(h)}`:Array.isArray(h)&&(c[g]=h.slice(0).reduce((a,b)=>a.concat([`${g}=${(0,d.o)(b)}`]),[]).sort().join("&"))}return b.sort().map(a=>c[a]).filter(a=>a).join("&")}},4741:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(86397),e=c(9908),f=c(55711),g=c(3235),h=c(49943);b.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:b}})=>a===e.DiscrError.Tag?`tag "${b}" must be string`:`value of tag "${b}" must be in oneOf`,params:({params:{discrError:a,tag:b,tagName:c}})=>(0,d._)`{error: ${a}, tag: ${c}, tagValue: ${b}}`},code(a){let{gen:b,data:c,schema:i,parentSchema:j,it:k}=a,{oneOf:l}=j;if(!k.opts.discriminator)throw Error("discriminator: requires discriminator option");let m=i.propertyName;if("string"!=typeof m)throw Error("discriminator: requires propertyName");if(i.mapping)throw Error("discriminator: mapping is not supported");if(!l)throw Error("discriminator: requires oneOf keyword");let o=b.let("valid",!1),p=b.const("tag",(0,d._)`${c}${(0,d.getProperty)(m)}`);function q(){let c=s();for(let a in b.if(!1),c)b.elseIf((0,d._)`${p} === ${a}`),b.assign(o,r(c[a]));b.else(),a.error(!1,{discrError:e.DiscrError.Mapping,tag:p,tagName:m}),b.endIf()}function r(c){let e=b.name("valid"),f=a.subschema({keyword:"oneOf",schemaProp:c},e);return a.mergeEvaluated(f,d.Name),e}function s(){var a;let b={},c=e(j),d=!0;for(let b=0;b<l.length;b++){let j=l[b];if((null==j?void 0:j.$ref)&&!(0,h.schemaHasRulesButRef)(j,k.self.RULES)){let a=j.$ref;if((j=f.resolveRef.call(k.self,k.schemaEnv.root,k.baseId,a))instanceof f.SchemaEnv&&(j=j.schema),void 0===j)throw new g.default(k.opts.uriResolver,k.baseId,a)}let o=null==(a=null==j?void 0:j.properties)?void 0:a[m];if("object"!=typeof o)throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);d=d&&(c||e(j)),i(o,b)}if(!d)throw Error(`discriminator: "${m}" must be required`);return b;function e({required:a}){return Array.isArray(a)&&a.includes(m)}function i(a,b){if(a.const)o(a.const,b);else if(a.enum)for(let c of a.enum)o(c,b);else throw Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}function o(a,c){if("string"!=typeof a||a in b)throw Error(`discriminator: "${m}" values must be unique strings`);b[a]=c}}b.if((0,d._)`typeof ${p} == "string"`,()=>q(),()=>a.error(!1,{discrError:e.DiscrError.Tag,tag:p,tagName:m})),a.ok(o)}}},4745:(a,b,c)=>{"use strict";c.d(b,{Q:()=>e,l:()=>f});var d=c(7839);let e={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},f=a=>({applyToStack:b=>{b.addRelativeTo((0,d.s)(a),e)}})},4762:(a,b,c)=>{"use strict";var d=c(40353),e=c(32504),f=c(52032),g=c(14351),h=c(64373),i=d("%WeakMap%",!0),j=e("WeakMap.prototype.get",!0),k=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),m=e("WeakMap.prototype.delete",!0);a.exports=i?function(){var a,b,c={assert:function(a){if(!c.has(a))throw new h("Side channel does not contain "+f(a))},delete:function(c){if(i&&c&&("object"==typeof c||"function"==typeof c)){if(a)return m(a,c)}else if(g&&b)return b.delete(c);return!1},get:function(c){return i&&c&&("object"==typeof c||"function"==typeof c)&&a?j(a,c):b&&b.get(c)},has:function(c){return i&&c&&("object"==typeof c||"function"==typeof c)&&a?l(a,c):!!b&&b.has(c)},set:function(c,d){i&&c&&("object"==typeof c||"function"==typeof c)?(a||(a=new i),k(a,c,d)):g&&(b||(b=g()),b.set(c,d))}};return c}:g},5044:(a,b,c)=>{"use strict";c.d(b,{p:()=>h});var d=c(65),e=c(38751),f=c(91067),g=c(59837);let h=async({headers:a,body:b},c)=>{for(let b of Object.keys(a))if(b.toLowerCase()===g.Wd)return a[b];if(void 0==b)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof b||ArrayBuffer.isView(b)||(0,d.isArrayBuffer)(b)){let a=new c;return a.update((0,f.F)(b)),(0,e.toHex)(await a.digest())}return g.z8}},5062:(a,b,c)=>{"use strict";c.d(b,{j:()=>e});var d=c(55694);let e=async({id:a,collectionSlug:b,currentDepth:c,data:e,depth:f,draft:g,key:h,overrideAccess:i,req:j,select:k,showHiddenFields:l})=>{if(!(f&&c<=f))return;let m=e,o=await j.payloadDataLoader?.load((0,d.h)({collectionSlug:b,currentDepth:c+1,depth:f,docID:a,draft:g,fallbackLocale:j.fallbackLocale,locale:j.locale,overrideAccess:i,select:k,showHiddenFields:l,transactionID:j.transactionID}));o?m[h]=o:m[h]=null}},5098:(a,b,c)=>{"use strict";c.d(b,{n:()=>f});var d=c(579),e=c(59837);let f=a=>{for(let b of Object.keys((a=d.K.clone(a)).headers))e.pj.indexOf(b.toLowerCase())>-1&&delete a.headers[b];return a}},5279:(a,b,c)=>{"use strict";c.d(b,{q:()=>e});var d=c(47624);let e=({authOptions:{disableLocalStrategy:a,loginWithUsername:b},collectionSlug:c,data:e,operation:f,originalDoc:g,req:h})=>{if(!a&&b&&!b.requireEmail&&!b.requireUsername){let a=!1;if("create"!==f||e.email||e.username?"update"===f&&("email"in e&&!e.email&&"username"in e&&!e.username&&(a=!0),"email"in e&&!e.email&&!g.username&&!e?.username&&(a=!0),"username"in e&&!e.username&&!g.email&&!e?.email&&(a=!0)):a=!0,a)throw new d.y({collection:c,errors:[{message:"Username or email is required",path:"username"},{message:"Username or email is required",path:"email"}]},h.t)}}},5313:(a,b,c)=>{"use strict";c.d(b,{R:()=>h});var d=c(21820),e=c(33873);let f={},g=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",h=()=>{let{HOME:a,USERPROFILE:b,HOMEPATH:c,HOMEDRIVE:h=`C:${e.sep}`}=process.env;if(a)return a;if(b)return b;if(c)return`${h}${c}`;let i=g();return f[i]||(f[i]=(0,d.homedir)()),f[i]}},5460:a=>{"use strict";let b,c=0,d=1e3,e=499,f=Symbol("kFastTimer"),g=[],h=-2,i=-1,j=0,k=1;function l(){c+=e;let a=0,b=g.length;for(;a<b;){let d=g[a];d._state===j?(d._idleStart=c-e,d._state=k):d._state===k&&c>=d._idleStart+d._idleTimeout&&(d._state=i,d._idleStart=-1,d._onTimeout(d._timerArg)),d._state===i?(d._state=h,0!=--b&&(g[a]=g[b])):++a}g.length=b,0!==g.length&&m()}function m(){b?b.refresh():(clearTimeout(b),(b=setTimeout(l,e)).unref&&b.unref())}class o{[f]=!0;_state=h;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(a,b,c){this._onTimeout=a,this._idleTimeout=b,this._timerArg=c,this.refresh()}refresh(){this._state===h&&g.push(this),b&&1!==g.length||m(),this._state=j}clear(){this._state=i,this._idleStart=-1}}a.exports={setTimeout:(a,b,c)=>b<=d?setTimeout(a,b,c):new o(a,b,c),clearTimeout(a){a[f]?a.clear():clearTimeout(a)},setFastTimeout:(a,b,c)=>new o(a,b,c),clearFastTimeout(a){a.clear()},now:()=>c,tick(a=0){c+=a-d+1,l(),l()},reset(){c=0,g.length=0,clearTimeout(b),b=null},kFastTimer:f}},5742:(a,b,c)=>{"use strict";let d=b,e=c(38603),f=a=>a;function g(a,b,c={}){return new Promise((d,g)=>{let h=new e[a](b),i=c.onAbort||f,j=c.onSubmit||f,k=c.onExit||f;h.on("state",b.onState||f),h.on("submit",a=>d(j(a))),h.on("exit",a=>d(k(a))),h.on("abort",a=>g(i(a)))})}d.text=a=>g("TextPrompt",a),d.password=a=>(a.style="password",d.text(a)),d.invisible=a=>(a.style="invisible",d.text(a)),d.number=a=>g("NumberPrompt",a),d.date=a=>g("DatePrompt",a),d.confirm=a=>g("ConfirmPrompt",a),d.list=a=>{let b=a.separator||",";return g("TextPrompt",a,{onSubmit:a=>a.split(b).map(a=>a.trim())})},d.toggle=a=>g("TogglePrompt",a),d.select=a=>g("SelectPrompt",a),d.multiselect=a=>{a.choices=[].concat(a.choices||[]);let b=a=>a.filter(a=>a.selected).map(a=>a.value);return g("MultiselectPrompt",a,{onAbort:b,onSubmit:b})},d.autocompleteMultiselect=a=>{a.choices=[].concat(a.choices||[]);let b=a=>a.filter(a=>a.selected).map(a=>a.value);return g("AutocompleteMultiselectPrompt",a,{onAbort:b,onSubmit:b})};let h=(a,b)=>Promise.resolve(b.filter(b=>b.title.slice(0,a.length).toLowerCase()===a.toLowerCase()));d.autocomplete=a=>(a.suggest=a.suggest||h,a.choices=[].concat(a.choices||[]),g("AutocompletePrompt",a))},5873:(a,b,c)=>{"use strict";a.exports=e;let d=c(90751);function e(a,b){for(let c of Array.isArray(b)?b:d(b)){if(!Object.prototype.hasOwnProperty.call(a,c))return;a=a[c]}return a}},5986:(a,b,c)=>{"use strict";a.exports=e;let d=c(5873);function e(a,b){return(a=(a=(a=a.replace(/{if (.*?)}(.*?){end}/g,c)).replace(/{if (.*?)}/g,"")).replace(/{end}/g,"")).replace(/\s+/g," ").trim();function c(a,c,e){let f=d(b,c);return f&&e.includes(c)?e.replace(RegExp("{"+c+"}","g"),f):""}}},6e3:(a,b,c)=>{"use strict";let d=c(34589),e=c(17795);a.exports=class{#a;#b=!1;#c=!1;#d=!1;constructor(a){if("object"!=typeof a||null===a)throw TypeError("handler must be an object");this.#a=e.wrap(a)}onRequestStart(...a){this.#a.onRequestStart?.(...a)}onRequestUpgrade(...a){return d(!this.#b),d(!this.#c),this.#a.onRequestUpgrade?.(...a)}onResponseStart(...a){return d(!this.#b),d(!this.#c),d(!this.#d),this.#d=!0,this.#a.onResponseStart?.(...a)}onResponseData(...a){return d(!this.#b),d(!this.#c),this.#a.onResponseData?.(...a)}onResponseEnd(...a){return d(!this.#b),d(!this.#c),this.#b=!0,this.#a.onResponseEnd?.(...a)}onResponseError(...a){return this.#c=!0,this.#a.onResponseError?.(...a)}onBodySent(){}}},6125:(a,b,c)=>{"use strict";c.d(b,{M:()=>j});var d=c(18099),e=c(51114);function f(a){return a?.createdAt&&a?.updatedAt}var g=c(22477),h=c(45720),i=c(22128);let j=async({accessResult:a,doc:b,entity:c,entityType:j,req:k,select:l})=>{let m,o,{locale:p}=k,q={and:[{"version._status":{equals:"draft"}}]};"collection"===j&&q.and.push({parent:{equals:b.id}}),f(b)&&q.and.push({or:[{updatedAt:{greater_than:b.updatedAt}},{latest:{equals:!0}}]}),(0,d.L)(a)&&(m=(0,h.D)(a));let r={collection:c.slug,global:c.slug,limit:1,locale:p,pagination:!1,req:k,select:(0,i.V)({select:l}),sort:"-updatedAt",where:(0,e.m)(q,m)},s=(o="global"===j?(await k.payload.db.findGlobalVersions(r)).docs:(await k.payload.db.findVersions(r)).docs)[0];return s?(s=(0,g.E)(s),"global"===j&&"globalType"in b&&(s.version.globalType=b.globalType),s.version||(s.version={}),s.version.id=b.id,s.version):b}},6140:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=[c(41617).default]},6232:(a,b,c)=>{"use strict";a.exports=f;let{LEVELS:d,LEVEL_NAMES:e}=c(3612);function f(a,b,c){let f=a?b||d:Object.assign({},d,b),g=a?c||e:Object.assign({},e,c);return function(a){let b="default";return b=Number.isInteger(+a)?Object.prototype.hasOwnProperty.call(f,a)?a:b:Object.prototype.hasOwnProperty.call(g,a.toLowerCase())?g[a.toLowerCase()]:b,[f[b],b]}}},6417:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateSchemaDeps=b.validatePropertyDeps=b.error=void 0;let d=c(86397),e=c(49943),f=c(55613);b.error={message:({params:{property:a,depsCount:b,deps:c}})=>{let e=1===b?"property":"properties";return(0,d.str)`must have ${e} ${c} when property ${a} is present`},params:({params:{property:a,depsCount:b,deps:c,missingProperty:e}})=>(0,d._)`{property: ${a},
    missingProperty: ${e},
    depsCount: ${b},
    deps: ${c}}`};let g={keyword:"dependencies",type:"object",schemaType:"object",error:b.error,code(a){let[b,c]=h(a);i(a,b),j(a,c)}};function h({schema:a}){let b={},c={};for(let d in a)"__proto__"!==d&&((Array.isArray(a[d])?b:c)[d]=a[d]);return[b,c]}function i(a,b=a.schema){let{gen:c,data:e,it:g}=a;if(0===Object.keys(b).length)return;let h=c.let("missing");for(let i in b){let j=b[i];if(0===j.length)continue;let k=(0,f.propertyInData)(c,e,i,g.opts.ownProperties);a.setParams({property:i,depsCount:j.length,deps:j.join(", ")}),g.allErrors?c.if(k,()=>{for(let b of j)(0,f.checkReportMissingProp)(a,b)}):(c.if((0,d._)`${k} && (${(0,f.checkMissingProp)(a,j,h)})`),(0,f.reportMissingProp)(a,h),c.else())}}function j(a,b=a.schema){let{gen:c,data:d,keyword:g,it:h}=a,i=c.name("valid");for(let j in b)(0,e.alwaysValidSchema)(h,b[j])||(c.if((0,f.propertyInData)(c,d,j,h.opts.ownProperties),()=>{let b=a.subschema({keyword:g,schemaProp:j},i);a.mergeValidEvaluated(b,i)},()=>c.var(i,!0)),a.ok(i))}b.validatePropertyDeps=i,b.validateSchemaDeps=j,b.default=g},6432:(a,b,c)=>{"use strict";c.d(b,{w:()=>f});var d=c(9742),e=c(28506);let f=(a,b)=>(0,d.P)(a,b).then(a=>(b?.utf8Encoder??e.P)(a))},6448:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseXML=e;let d=new(c(99288)).XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,b)=>""===b.trim()&&b.includes("\n")?"":void 0});function e(a){return d.parse(a,!0)}d.addEntity("#xD","\r"),d.addEntity("#10","\n")},6532:a=>{"use strict";a.exports={mask:(a,b,c,d,e)=>{for(var f=0;f<e;f++)c[d+f]=a[f]^b[3&f]},unmask:(a,b)=>{let c=a.length;for(var d=0;d<c;d++)a[d]^=b[3&d]}}},6601:(a,b,c)=>{"use strict";c.d(b,{v4:()=>h});var d=c(55511),e=c.n(d);let f=e().randomUUID.bind(e()),g=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0")),h=()=>{if(f)return f();let a=new Uint8Array(16);return crypto.getRandomValues(a),a[6]=15&a[6]|64,a[8]=63&a[8]|128,g[a[0]]+g[a[1]]+g[a[2]]+g[a[3]]+"-"+g[a[4]]+g[a[5]]+"-"+g[a[6]]+g[a[7]]+"-"+g[a[8]]+g[a[9]]+"-"+g[a[10]]+g[a[11]]+g[a[12]]+g[a[13]]+g[a[14]]+g[a[15]]}},6765:(a,b,c)=>{"use strict";c.d(b,{e:()=>e});var d=c(27661);let e=({field:a,select:b,selectMode:c,siblingDoc:e})=>{let f=!0;return(0,d.Z7)(a)&&b&&c&&a.name&&("include"!==c||b[a.name]||(delete e[a.name],f=!1),"exclude"===c&&!1===b[a.name]&&(delete e[a.name],f=!1)),f}},6779:(a,b,c)=>{"use strict";c.d(b,{v:()=>g});var d=c(38200),e=c(42788),f=c(42526);let g=async function({collection:a,data:b,req:c,returning:g,select:h}){let i=await (0,f.x)(this,c),j=this.payload.collections[a].config,k=this.tableNameMap.get(d(j.slug)),l=await (0,e.q)({adapter:this,data:b,db:i,fields:j.flattenedFields,ignoreResult:!1===g,operation:"create",req:c,select:h,tableName:k});return!1===g?null:l}},6788:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(49943);b.default={keyword:"allOf",schemaType:"array",code(a){let{gen:b,schema:c,it:e}=a;if(!Array.isArray(c))throw Error("ajv implementation error");let f=b.name("valid");c.forEach((b,c)=>{if((0,d.alwaysValidSchema)(e,b))return;let g=a.subschema({keyword:"allOf",schemaProp:c},f);a.ok(f),a.mergeEvaluated(g)})}}},6791:(a,b,c)=>{"use strict";c.d(b,{c:()=>d});let d=({block:a,select:b,selectMode:c})=>{if("object"==typeof b){let d=c,e={...b}[a.slug];return"exclude"===c&&!1===e?(d="include",e={id:!0,blockType:!0}):"include"===c&&(e||(e={}),"object"==typeof e&&((e={...e}).id=!0,e.blockType=!0)),{blockSelect:e,blockSelectMode:d}}return{blockSelect:b,blockSelectMode:c}}},6850:a=>{"use strict";a.exports=function a({log:a,context:b}){let{customPrettifiers:c,colorizer:d}=b,e="";if(a.name||a.pid||a.hostname){if(e+="(",a.name&&(e+=c.name?c.name(a.name,"name",a,{colors:d.colors}):a.name),a.pid){let b=c.pid?c.pid(a.pid,"pid",a,{colors:d.colors}):a.pid;a.name&&a.pid?e+="/"+b:e+=b}if(a.hostname){let b=c.hostname?c.hostname(a.hostname,"hostname",a,{colors:d.colors}):a.hostname;e+=`${"("===e?"on":" on"} ${b}`}e+=")"}if(a.caller){let b=c.caller?c.caller(a.caller,"caller",a,{colors:d.colors}):a.caller;e+=`${""===e?"":" "}<${b}>`}if(""!==e)return e}},7177:(a,b,c)=>{"use strict";c.d(b,{z:()=>Y});var d=c(35593),e=c(33873);let f=/multipart\/['"()+-_]+(?:; ?['"()+-_]*)+$/i,g=new Set(["CONNECT","DELETE","GET","HEAD","OPTIONS","TRACE"]),h=a=>!!(a.headers.get("transfer-encoding")||a.headers.get("content-length")&&"0"!==a.headers.get("content-length")),i=a=>!g.has(a.method),j=a=>{let b=a.headers.get("content-type");return b.includes("boundary=")&&f.test(b)},k=a=>{try{return h(a)&&i(a)&&j(a)}catch(a){return!1}};var l=c(62490),m=c(61101),o=c(29021),p=c(27910);let q=/[^\w-]/g,r=3,s=65536,t="tmp",u=0,v=(a,b)=>!!(a||{}).debug&&(console.log(`Next-file-upload: ${b}`),!0),w=(a=t)=>(u=u>=s?1:u+1,`${a}-${u}-${Date.now()}`),x=a=>"function"==typeof a,y=(a,b)=>x(b)?b:a,z=(a,b)=>{let c=!1;return d=>{if(!c)return c=!0,d?y(a,b)(d):a()}},A=Object.getOwnPropertyNames(Object.prototype),B=Object.getOwnPropertyNames(Array.prototype),C=(a,b)=>{let c=a instanceof Array&&B.includes(b),d=A.includes(b);return!c&&!d},D=(a,b,c)=>(null!=c&&C(a=a||Object.create(null),b)&&(a[b]?a[b]instanceof Array?a[b].push(c):a[b]=[a[b],c]:a[b]=c),a),E=(a,b)=>{if(!a.createParentPath)return!1;let c=e.dirname(b);return o.existsSync(c)||o.mkdirSync(c,{recursive:!0}),o.existsSync(c)},F=(a,b)=>o.unlink(a,b),G=(a,b,c)=>{let d=!1,e=a=>{d||(d=!0,c(a))},f=o.createReadStream(a);f.on("error",e);let g=o.createWriteStream(b);g.on("error",a=>{f.destroy(),e(a)}),g.on("close",()=>e()),f.pipe(g)},H=(a,b,c)=>o.rename(a,b,d=>{if(d)return void G(a,b,b=>b?c(b):F(a,c));c(null,!0)}),I=(a,b,c)=>{if(!Buffer.isBuffer(a))return c(Error("buffer variable should be type of Buffer!"));let d=a,e=new p.Readable;e._read=()=>{e.push(d),d=null};let f=o.createWriteStream(b);f.on("error",a=>{c(a)}),f.on("close",()=>{c()}),e.pipe(f)},J=(a,b)=>{if(!a||!a.uriDecodeFileNames)return b;try{return decodeURIComponent(b)}catch(c){let a=/(%[a-f\d]{2})/gi;return b.split(a).map(a=>{try{return decodeURIComponent(a)}catch(a){return""}}).join("")}},K=(a,b)=>{let c={name:b,extension:""};if(!a)return c;let d="boolean"==typeof a?r:a,e=b.split(".");if(e.length<2)return c;let f=e.pop();return f.length>d&&d>0&&(e[e.length-1]+="."+f.substr(0,f.length-d),f=f.substr(-d)),{name:e.join("."),extension:d?f:""}},L=(a,b)=>{if(!b||"string"!=typeof b)return w();let c=b.length<=255?b:b.substr(0,255);if(c=J(a,c),!a.safeFileNames)return c;let d="object"==typeof a.safeFileNames&&a.safeFileNames instanceof RegExp?a.safeFileNames:q,e=K(a.preserveExtension,c);return e.extension.length&&(e.extension="."+e.extension.replace(d,"")),e.name.replace(d,"").concat(e.extension)},M=(a,b,c)=>(d,e)=>{v(c,`Moving temporary file ${b.tempFilePath} to ${a}`),H(b.tempFilePath,a,z(d,e))},N=(a,b,c)=>(d,e)=>{v(c,`Moving uploaded buffer to ${a}`),I(b.buffer,a,z(d,e))},O=(a,b)=>({name:a.name,data:a.buffer,encoding:a.encoding,md5:a.hash,mimetype:a.mimetype,mv:(c,d)=>{let e=b.useTempFiles?M(c,a,b):N(c,a,b);E(b,c);let f=()=>void 0;return x(d)?e(d,f):new Promise(e)},size:a.size,tempFilePath:a.tempFilePath,truncated:a.truncated});var P=c(55511);let Q=(a,b,c)=>{let d=e.normalize(a.tempFileDir),f=e.join(process.cwd(),d,w());E({createParentPath:!0},f),v(a,`Temporary file path is ${f}`);let g=P.createHash("md5"),h=0,i=!1;v(a,`Opening write stream for ${b}->${c}...`);let j=o.createWriteStream(f),k=new Promise((b,c)=>{j.on("finish",()=>b(!0)),j.on("error",b=>{v(a,`Error write temp file: ${b}`),c(b)})});return{cleanup:()=>{i=!0,v(a,`Cleaning up temporary file ${f}...`),j.end(),F(f,b=>b?v(a,`Cleaning up temporary file ${f} failed: ${b}`):v(a,`Cleaning up temporary file ${f} done.`))},complete:()=>(i=!0,v(a,`Upload ${b}->${c} completed, bytes:${h}.`),j instanceof o.WriteStream&&j.end(),Buffer.concat([])),dataHandler:d=>{if(!0===i)return void v(a,`Error: got ${b}->${c} data chunk for completed upload!`);j.write(d),g.update(d),h+=d.length,v(a,`Uploading ${b}->${c}, bytes:${h}...`)},getFilePath:()=>f,getFileSize:()=>h,getHash:()=>g.digest("hex"),getWritePromise:()=>k}},R=(a,b,c)=>{let d=[],e=P.createHash("md5"),f=0,g=!1,h=()=>Buffer.concat(d,f);return{cleanup:()=>{g=!0},complete:()=>(v(a,`Upload ${b}->${c} completed, bytes:${f}.`),g=!0,h()),dataHandler:h=>{if(!0===g)return void v(a,`Error: got ${b}->${c} data chunk for completed upload!`);d.push(h),e.update(h),f+=h.length,v(a,`Uploading ${b}->${c}, bytes:${f}...`)},getFilePath:()=>"",getFileSize:()=>f,getHash:()=>e.digest("hex"),getWritePromise:()=>Promise.resolve(!0)}},S=function(a){if(!a||a.length<1)return Object.create(null);let b=Object.create(null),c=Object.keys(a);for(let d=0;d<c.length;d++){let e=c[d],f=e?.replace(new RegExp(/\[/g),".").replace(new RegExp(/\]/g),"").split("."),g=a[e],h=b;for(let a=0;a<f.length;a++){let b=f[a];C(h,b)&&(a>=f.length-1?h[b]=g:(h[b]||(h[b]=f[a+1]?Object.create(null):[]),h=h[b]))}}return b},T=(a=0,b=()=>{})=>{let c=null,d=()=>{clearTimeout(c)},e=()=>!!a&&(d(),c=setTimeout(b,a),!0);return{clear:d,set:e}},U=Symbol("wait flush property symbol"),V=async({options:a,request:b})=>{let c,e,f=!0,g=!1,h=0,i=0,j=new Promise((a,b)=>{c=a,e=b}),k={fields:void 0,files:void 0},o={};b.headers.forEach((a,b)=>{o[b]=a});let p=b.body?.getReader(),q=l({...a,headers:o});function r(a,b){a.destroy(),g=!0,e(b)}for(q.on("field",(a,b)=>{k.fields=D(k.fields,a,b)}),q.on("file",(f,g,j)=>{h+=1;let{encoding:l,filename:o,mimeType:p}=j,s=L(a,o),t=s&&s.endsWith(".glb")&&"model/gltf-binary"||s&&s.endsWith(".gltf")&&"model/gltf+json"||p,{cleanup:u,complete:w,dataHandler:y,getFilePath:z,getFileSize:A,getHash:B,getWritePromise:C}=a.useTempFiles?Q(a,f,s):R(a,f,s),E=a.useTempFiles?C().catch(()=>{q.end(),u()}):C(),F=T(a.uploadTimeout,()=>r(g,new d.L(`Upload timeout for ${f}->${s}, bytes:${A()}`)));g.on("limit",()=>{v(a,`Size limit reached for ${f}->${s}, bytes:${A()}`),F.clear(),x(a.limitHandler)&&a.limitHandler({request:b,size:A()}),a.abortOnLimit&&(v(a,`Upload file size limit reached ${f}->${s}.`),u(),r(g,new d.L(a.responseOnLimit,m.h.REQUEST_ENTITY_TOO_LARGE,{size:A()})))}),g.on("data",a=>{F.set(),y(a)}),g.on("end",()=>{let d=A();if(v(a,`Upload finished ${f}->${s}, bytes:${d}`),F.clear(),!o&&0===d)return h-=1,a.useTempFiles&&(u(),v(a,`Removing the empty file ${f}->${s}`)),v(a,"Don't add file instance if original name and size are empty");i+=1,k.files=D(k.files,f,O({name:s,buffer:w(),encoding:l,hash:B(),mimetype:t,size:d,tempFilePath:z(),truncated:!!("truncated"in g&&g.truncated)},a)),b[U]||(b[U]=[]),b[U].push(E),i===h&&c()}),g.on("error",b=>{F.clear(),v(a,`File Error: ${b.message}`),u(),e(b)}),v(a,`New upload started ${f}->${s}, bytes:${A()}`),F.set()}),q.on("finish",async()=>{if(v(a,"Busboy finished parsing request."),a.parseNested&&(k.fields=S(k.fields),k.files=S(k.files)),b[U])try{await Promise.all(b[U]).then(()=>{delete b[U]})}catch(b){v(a,`Error waiting for file write promises: ${b}`)}return k}),q.on("error",(b=new d.L("Busboy error parsing multipart request",m.h.BAD_REQUEST))=>{throw v(a,"Busboy error"),b});f;){let{done:a,value:b}=await p.read();a&&(f=!1),b&&!g&&q.write(b)}return 0!==h&&await j.catch(a=>{throw a}),k},W={abortOnLimit:!1,createParentPath:!1,debug:!1,defParamCharset:"utf8",limitHandler:!1,parseNested:!1,preserveExtension:!1,responseOnLimit:"File size limit has been reached",safeFileNames:!1,tempFileDir:e.join(process.cwd(),"tmp"),uploadTimeout:6e4,uriDecodeFileNames:!1,useTempFiles:!1},X=async({options:a,request:b})=>{let c={...W,...a};return k(b)?V({options:c,request:b}):(v(c,"Request is not eligible for file upload!"),{error:new d.L("Request is not eligible for file upload",500),fields:void 0,files:void 0})},Y=async a=>{let{body:b,headers:c,method:e,payload:f}=a;if(e&&["PATCH","POST","PUT"].includes(e.toUpperCase())&&b){let[b]=(c.get("Content-Type")||"").split(";"),e=parseInt(a.headers.get("Content-Length")||"0",10);if("application/json"===b){let b={};try{let c=await a.text?.();b=c?JSON.parse(c):{}}catch(b){a.payload.logger.error(b)}finally{a.data=b,a.json=()=>Promise.resolve(b)}}else if(e&&b?.includes("multipart/")){let{error:b,fields:c,files:e}=await X({options:{...f.config.bodyParser||{},...f.config.upload||{}},request:a});if(b)throw new d.L(b.message);if(e?.file&&(a.file=e.file),c?._payload&&"string"==typeof c._payload&&(a.data=JSON.parse(c._payload)),!a.file&&c?.file&&"string"==typeof c?.file){let b,{clientUploadContext:e,collectionSlug:g,filename:h,mimeType:i,size:j}=JSON.parse(c.file),k=a.payload.collections[g].config.upload;if(!k.handlers)throw new d.L("uploadConfig.handlers is not present for "+g);let l=null;for(let c of k.handlers)try{let b=await c(a,{doc:null,params:{clientUploadContext:e,collection:g,filename:h}});b&&(l=b)}catch(a){b=a}if(!l)throw b&&f.logger.error(b),new d.L("Expected response from the upload handler.");a.file={name:h,clientUploadContext:e,data:Buffer.from(await l.arrayBuffer()),mimetype:l.headers.get("Content-Type")||i,size:j}}}}}},7189:(a,b,c)=>{"use strict";c.d(b,{y:()=>k});var d=c(38751),e=c(65960),f=c(53349),g=c(91067),h=c(4690);let i=a=>j(a).toISOString().replace(/\.\d{3}Z$/,"Z"),j=a=>"number"==typeof a?new Date(1e3*a):"string"==typeof a?new Date(Number(a)?1e3*Number(a):a):a;class k{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:a,credentials:b,region:c,service:d,sha256:f,uriEscapePath:g=!0}){this.service=d,this.sha256=f,this.uriEscapePath=g,this.applyChecksum="boolean"!=typeof a||a,this.regionProvider=(0,e.t)(c),this.credentialProvider=(0,e.t)(b)}createCanonicalRequest(a,b,c){let d=Object.keys(b).sort();return`${a.method}
${this.getCanonicalPath(a)}
${(0,h.$)(a)}
${d.map(a=>`${a}:${b[a]}`).join("\n")}

${d.join(";")}
${c}`}async createStringToSign(a,b,c,e){let f=new this.sha256;f.update((0,g.F)(c));let h=await f.digest();return`${e}
${a}
${b}
${(0,d.toHex)(h)}`}getCanonicalPath({path:a}){if(this.uriEscapePath){let b=[];for(let c of a.split("/"))c?.length!==0&&"."!==c&&(".."===c?b.pop():b.push(c));let c=`${a?.startsWith("/")?"/":""}${b.join("/")}${b.length>0&&a?.endsWith("/")?"/":""}`;return(0,f.o)(c).replace(/%2F/g,"/")}return a}validateResolvedCredentials(a){if("object"!=typeof a||"string"!=typeof a.accessKeyId||"string"!=typeof a.secretAccessKey)throw Error("Resolved credential object is not valid")}formatDate(a){let b=i(a).replace(/[\-:]/g,"");return{longDate:b,shortDate:b.slice(0,8)}}getCanonicalHeaderList(a){return Object.keys(a).sort().join(";")}}},7281:(a,b,c)=>{"use strict";let{PoolStats:d}=c(3547),e=c(68056),f=c(65257),{kConnected:g,kSize:h,kRunning:i,kPending:j,kQueued:k,kBusy:l,kFree:m,kUrl:o,kClose:p,kDestroy:q,kDispatch:r}=c(25394),s=Symbol("clients"),t=Symbol("needDrain"),u=Symbol("queue"),v=Symbol("closed resolve"),w=Symbol("onDrain"),x=Symbol("onConnect"),y=Symbol("onDisconnect"),z=Symbol("onConnectionError"),A=Symbol("get dispatcher"),B=Symbol("add client"),C=Symbol("remove client");class D extends e{constructor(){super(),this[u]=new f,this[s]=[],this[k]=0;let a=this;this[w]=function(b,c){let d=a[u],e=!1;for(;!e;){let b=d.shift();if(!b)break;a[k]--,e=!this.dispatch(b.opts,b.handler)}this[t]=e,!this[t]&&a[t]&&(a[t]=!1,a.emit("drain",b,[a,...c])),a[v]&&d.isEmpty()&&Promise.all(a[s].map(a=>a.close())).then(a[v])},this[x]=(b,c)=>{a.emit("connect",b,[a,...c])},this[y]=(b,c,d)=>{a.emit("disconnect",b,[a,...c],d)},this[z]=(b,c,d)=>{a.emit("connectionError",b,[a,...c],d)}}get[l](){return this[t]}get[g](){return this[s].filter(a=>a[g]).length}get[m](){return this[s].filter(a=>a[g]&&!a[t]).length}get[j](){let a=this[k];for(let{[j]:b}of this[s])a+=b;return a}get[i](){let a=0;for(let{[i]:b}of this[s])a+=b;return a}get[h](){let a=this[k];for(let{[h]:b}of this[s])a+=b;return a}get stats(){return new d(this)}async [p](){this[u].isEmpty()?await Promise.all(this[s].map(a=>a.close())):await new Promise(a=>{this[v]=a})}async [q](a){for(;;){let b=this[u].shift();if(!b)break;b.handler.onError(a)}await Promise.all(this[s].map(b=>b.destroy(a)))}[r](a,b){let c=this[A]();return c?c.dispatch(a,b)||(c[t]=!0,this[t]=!this[A]()):(this[t]=!0,this[u].push({opts:a,handler:b}),this[k]++),!this[t]}[B](a){return a.on("drain",this[w]).on("connect",this[x]).on("disconnect",this[y]).on("connectionError",this[z]),this[s].push(a),this[t]&&queueMicrotask(()=>{this[t]&&this[w](a[o],[this,a])}),this}[C](a){a.close(()=>{let b=this[s].indexOf(a);-1!==b&&this[s].splice(b,1)}),this[t]=this[s].some(a=>!a[t]&&!0!==a.closed&&!0!==a.destroyed)}}a.exports={PoolBase:D,kClients:s,kNeedDrain:t,kAddClient:B,kRemoveClient:C,kGetDispatcher:A}},7402:(a,b,c)=>{"use strict";function d(a){if("object"==typeof a)return a;a|=0;let b={},c=0;for(let d of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(a>>c++&1)==1&&(b[d]=1);return b}c.d(b,{c:()=>d})},7718:(a,b,c)=>{"use strict";let d=c(90165),e=c(67858),f=c(90439),g=f.style,h=f.clear,i=c(1298),j=i.erase,k=i.cursor;class l extends e{constructor(a={}){super(a),this.msg=a.message,this.value=a.initial,this.initialValue=!!a.initial,this.yesMsg=a.yes||"yes",this.yesOption=a.yesOption||"(Y/n)",this.noMsg=a.no||"no",this.noOption=a.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(a,b){return"y"===a.toLowerCase()?(this.value=!0,this.submit()):"n"===a.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(k.hide):this.out.write(h(this.outputText,this.out.columns)),super.render(),this.outputText=[g.symbol(this.done,this.aborted),d.bold(this.msg),g.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:d.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(j.line+k.to(0)+this.outputText))}}a.exports=l},7790:(a,b,c)=>{"use strict";c.d(b,{A:()=>p});var d=c(77598),e=c(47539),f=c(19729),g=c(13160),h=c(15969),i=c(48148),j=c(34850);new WeakMap;let k=a=>{switch(a){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new e.T0("Unsupported key curve for this operation")}},l=(a,b)=>{let c;if((0,f.R)(a))c=d.KeyObject.from(a);else if((0,g.A)(a))c=a;else if((0,j.ll)(a))return a.crv;else throw TypeError((0,h.A)(a,...i.g));if("secret"===c.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(c.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${c.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${c.asymmetricKeyType.slice(1)}`;case"ec":{let a=c.asymmetricKeyDetails.namedCurve;if(b)return a;return k(a)}default:throw TypeError("Invalid asymmetric key type for this operation")}},m=(a,b)=>{let c;try{c=a instanceof d.KeyObject?a.asymmetricKeyDetails?.modulusLength:Buffer.from(a.n,"base64url").byteLength<<3}catch{}if("number"!=typeof c||c<2048)throw TypeError(`${b} requires key modulusLength to be 2048 bits or larger`)},o=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function p(a,b){let c,f,g,h;if(b instanceof d.KeyObject)c=b.asymmetricKeyType,f=b.asymmetricKeyDetails;else switch(g=!0,b.kty){case"RSA":c="rsa";break;case"EC":c="ec";break;case"OKP":if("Ed25519"===b.crv){c="ed25519";break}if("Ed448"===b.crv){c="ed448";break}throw TypeError("Invalid key for this operation, its crv must be Ed25519 or Ed448");default:throw TypeError("Invalid key for this operation, its kty must be RSA, OKP, or EC")}switch(a){case"EdDSA":if(!["ed25519","ed448"].includes(c))throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");break;case"RS256":case"RS384":case"RS512":if("rsa"!==c)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");m(b,a);break;case"PS256":case"PS384":case"PS512":if("rsa-pss"===c){let{hashAlgorithm:b,mgf1HashAlgorithm:c,saltLength:d}=f,e=parseInt(a.slice(-3),10);if(void 0!==b&&(b!==`sha${e}`||c!==b))throw TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${a}`);if(void 0!==d&&d>e>>3)throw TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${a}`)}else if("rsa"!==c)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");m(b,a),h={padding:d.constants.RSA_PKCS1_PSS_PADDING,saltLength:d.constants.RSA_PSS_SALTLEN_DIGEST};break;case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==c)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let d=l(b),e=o.get(a);if(d!==e)throw TypeError(`Invalid key curve for the algorithm, its curve must be ${e}, got ${d}`);h={dsaEncoding:"ieee-p1363"};break}default:throw new e.T0(`alg ${a} is not supported either by JOSE or your javascript runtime`)}return g?{format:"jwk",key:b,...h}:h?{...h,key:b}:b}},7839:(a,b,c)=>{"use strict";c.d(b,{s:()=>h});var d=c(579),e=c(23301);let f=a=>a=>{throw a},g=(a,b)=>{},h=a=>(a,b)=>async c=>{if(!d.K.isInstance(c.request))return a(c);let h=(0,e.u)(b).selectedHttpAuthScheme;if(!h)throw Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:j,signer:k}=h,l=await a({...c,request:await k.sign(c.request,j,i)}).catch((k.errorHandler||f)(i));return(k.successHandler||g)(l.response,i),l}},7875:(a,b,c)=>{"use strict";let d=c(90165),e=c(1298).cursor,f=c(67858),g=c(90439),h=g.clear,i=g.figures,j=g.style,k=g.wrap,l=g.entriesToDisplay;class m extends f{constructor(a={}){super(a),this.msg=a.message,this.cursor=a.cursor||0,this.scrollIndex=a.cursor||0,this.hint=a.hint||"",this.warn=a.warn||"- This option is disabled -",this.minSelected=a.min,this.showMinError=!1,this.maxChoices=a.max,this.instructions=a.instructions,this.optionsPerPage=a.optionsPerPage||10,this.value=a.choices.map((a,b)=>("string"==typeof a&&(a={title:a,value:b}),{title:a&&(a.title||a.value||a),description:a&&a.description,value:a&&(void 0===a.value?b:a.value),selected:a&&a.selected,disabled:a&&a.disabled})),this.clear=h("",this.out.columns),a.overrideRender||this.render()}reset(){this.value.map(a=>!a.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(a=>a.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){let a=this.value.filter(a=>a.selected);this.minSelected&&a.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let a=this.value[this.cursor];if(a.selected)a.selected=!1,this.render();else{if(a.disabled||this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();a.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();let a=!this.value[this.cursor].selected;this.value.filter(a=>!a.disabled).forEach(b=>b.selected=a),this.render()}_(a,b){if(" "===a)this.handleSpaceToggle();else{if("a"!==a)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${i.arrowUp}/${i.arrowDown}: Highlight option
    ${i.arrowLeft}/${i.arrowRight}/[space]: Toggle selection
`+(void 0===this.maxChoices?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(a,b,c,e){let f,g,h=(b.selected?d.green(i.radioOn):i.radioOff)+" "+e+" ";return b.disabled?f=a===c?d.gray().underline(b.title):d.strikethrough().gray(b.title):(f=a===c?d.cyan().underline(b.title):b.title,a===c&&b.description&&(g=` - ${b.description}`,(h.length+f.length+g.length>=this.out.columns||b.description.split(/\r?\n/).length>1)&&(g="\n"+k(b.description,{margin:h.length,width:this.out.columns})))),h+f+d.gray(g||"")}paginateOptions(a){if(0===a.length)return d.red("No matches for this query.");let b=l(this.cursor,a.length,this.optionsPerPage),c=b.startIndex,e=b.endIndex,f,g=[];for(let b=c;b<e;b++)f=b===c&&c>0?i.arrowUp:b===e-1&&e<a.length?i.arrowDown:" ",g.push(this.renderOption(this.cursor,a[b],b,f));return"\n"+g.join("\n")}renderOptions(a){return this.done?"":this.paginateOptions(a)}renderDoneOrInstructions(){if(this.done)return this.value.filter(a=>a.selected).map(a=>a.title).join(", ");let a=[d.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&a.push(d.yellow(this.warn)),a.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let a=[j.symbol(this.done,this.aborted),d.bold(this.msg),j.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(a+=d.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),a+=this.renderOptions(this.value),this.out.write(this.clear+a),this.clear=h(a,this.out.columns)}}a.exports=m},7914:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(55613),e=c(86397);b.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,e.str)`must match pattern "${a}"`,params:({schemaCode:a})=>(0,e._)`{pattern: ${a}}`},code(a){let{data:b,$data:c,schema:f,schemaCode:g,it:h}=a,i=h.opts.unicodeRegExp?"u":"",j=c?(0,e._)`(new RegExp(${g}, ${i}))`:(0,d.usePattern)(a,f);a.fail$data((0,e._)`!${j}.test(${b})`)}}},7916:(a,b,c)=>{"use strict";c.d(b,{u:()=>e});var d=c(27613);let e=(a,b,c,e,f,g)=>{if(null!=b&&void 0!==b[c]){let b=e();if(b.length<=0)throw Error("Empty value provided for input HTTP label: "+c+".");a=a.replace(f,g?b.split("/").map(a=>(0,d.$)(a)).join("/"):(0,d.$)(b))}else throw Error("No value provided for input HTTP label: "+c+".");return a}},7932:(a,b,c)=>{"use strict";c.d(b,{d:()=>u});var d=c(6765),e=c(75879),f=c(6791),g=c(27661);let h=async({id:a,data:b,field:c,locale:h,req:j,select:k,selectMode:l,siblingData:m,user:o})=>{if((0,d.e)({field:c,select:k,selectMode:l,siblingDoc:m})){if((0,g.Z7)(c)&&void 0===m[c.name]&&void 0!==c.defaultValue)try{m[c.name]=await (0,e.B)({defaultValue:c.defaultValue,locale:h,req:j,user:o,value:m[c.name]})}catch(a){j.payload.logger.error({err:a,msg:`Error calculating default value for field: ${c.name}`})}switch(c.type){case"array":{let d=m[c.name];if(Array.isArray(d)){let e=[],f=k?.[c.name];d.forEach(d=>{e.push(i({id:a,data:b,fields:c.fields,locale:h,req:j,select:"object"==typeof f?f:void 0,selectMode:l,siblingData:d,user:o}))}),await Promise.all(e)}break}case"blocks":{let d=m[c.name];if(Array.isArray(d)){let e=[];d.forEach(d=>{let g=d.blockType,m=j.payload.blocks[g]??(c.blockReferences??c.blocks).find(a=>"string"!=typeof a&&a.slug===g),{blockSelect:p,blockSelectMode:q}=(0,f.c)({block:m,select:k?.[c.name],selectMode:l});m&&(d.blockType=g,e.push(i({id:a,data:b,fields:m.fields,locale:h,req:j,select:"object"==typeof p?p:void 0,selectMode:q,siblingData:d,user:o})))}),await Promise.all(e)}break}case"collapsible":case"row":await i({id:a,data:b,fields:c.fields,locale:h,req:j,select:k,selectMode:l,siblingData:m,user:o});break;case"group":if((0,g.Z7)(c)){"object"!=typeof m[c.name]&&(m[c.name]={});let d=m[c.name],e=k?.[c.name];await i({id:a,data:b,fields:c.fields,locale:h,req:j,select:"object"==typeof e?e:void 0,selectMode:l,siblingData:d,user:o})}else await i({id:a,data:b,fields:c.fields,locale:h,req:j,select:k,selectMode:l,siblingData:m,user:o});break;case"tab":{let d,e;(0,g.pz)(c)?("object"!=typeof m[c.name]&&(m[c.name]={}),d=m[c.name],"object"==typeof k?.[c.name]&&(e=k?.[c.name])):(d=m,e=k),await i({id:a,data:b,fields:c.fields,locale:h,req:j,select:e,selectMode:l,siblingData:d,user:o});break}case"tabs":await i({id:a,data:b,fields:c.tabs.map(a=>({...a,type:"tab"})),locale:h,req:j,select:k,selectMode:l,siblingData:m,user:o})}}},i=async({id:a,data:b,fields:c,locale:d,req:e,select:f,selectMode:g,siblingData:i,user:j})=>{let k=[];c.forEach(c=>{k.push(h({id:a,data:b,field:c,locale:d,req:e,select:f,selectMode:g,siblingData:i,user:j}))}),await Promise.all(k)},j=async({id:a,data:b,fields:c,locale:d,req:e,select:f,selectMode:g,user:h})=>(await i({id:a,data:b,fields:c,locale:d,req:e,select:f,selectMode:g,siblingData:b,user:h}),b);var k=c(22501),l=c(67405),m=c(81645),o=c(70366),p=c(52522);function q({collapsedPrefs:a,field:b,previousRow:c,row:d}){return c&&"collapsed"in c?c.collapsed??!1:void 0!==a?a.includes(d.id):b.admin.initCollapsed}let r="default"in l?l.default:l,s=async a=>{let{id:b,addErrorPathToParent:c,anyParentLocalized:e=!1,blockData:h,clientFieldSchemaMap:i,collectionSlug:j,data:l,field:s,fieldSchemaMap:u,filter:v,forceFullValue:w=!1,fullData:x,includeSchema:y=!1,indexPath:z,mockRSCs:A,omitParents:B=!1,operation:C,parentPath:D,parentPermissions:E,parentSchemaPath:F,passesCondition:G,path:H,preferences:I,previousFormState:J,readOnly:K,renderAllFields:L,renderFieldFn:M,req:N,schemaPath:O,select:P,selectMode:Q,skipConditionChecks:R=!1,skipValidation:S=!1,state:T}=a;!a.clientFieldSchemaMap&&a.renderFieldFn&&console.warn("clientFieldSchemaMap is not passed to addFieldStatePromise - this will reduce performance");let U=!0,V={},W=J?.[H]?.lastRenderedPath;W&&(V.lastRenderedPath=W);let X=!L&&!J?.[H];if(X&&(V.addedByServer=!0),!1===G&&(V.passesCondition=!1),y&&(V.fieldSchema=s),(0,g.Z7)(s)&&!(0,g.I2)(s)){let d=!0===(U=!0===E?E:(0,o.Zt)(E?.[s.name]))||(0,o.Zt)(U?.read);if(!(d="function"!=typeof s?.access?.read||await s.access.read({id:b,blockData:h,data:x,req:N,siblingData:l})))return;let k=s.validate,z=!0;if("function"==typeof k&&!S&&G){let a;if("json"===s.type&&"string"==typeof l[s.name])try{JSON.parse(l[s.name])}catch(b){a=b}try{z=await k(l?.[s.name],{...s,id:b,blockData:h,collectionSlug:j,data:x,event:"onChange",jsonError:a,operation:C,preferences:I,previousValue:J?.[H]?.initialValue,req:N,siblingData:l})}catch(a){z=`Error validating field at path: ${H}`,N.payload.logger.error({err:a,msg:z})}}let D=a=>{"function"==typeof c&&c(a),V.errorPaths||(V.errorPaths=[]),V.errorPaths.includes(a)||(V.errorPaths.push(a),V.valid=!1)};switch("string"==typeof z&&(V.errorMessage=z,V.valid=!1,D(H)),s.type){case"array":{let c=Array.isArray(l[s.name])?l[s.name]:[],d=P?.[s.name],{promises:f,rows:k}=c.reduce((c,f,k)=>{let l=H+"."+k;if(f.id=f?.id||new r().toHexString(),!B&&(!v||v(a))){let a=l+".id";T[a]={initialValue:f.id,value:f.id},y&&(T[a].fieldSchema=s.fields.find(a=>(0,g.uT)(a)))}c.promises.push(t({id:b,addErrorPathToParent:D,anyParentLocalized:s.localized||e,blockData:h,clientFieldSchemaMap:i,collectionSlug:j,data:f,fields:s.fields,fieldSchemaMap:u,filter:v,forceFullValue:w,fullData:x,includeSchema:y,mockRSCs:A,omitParents:B,operation:C,parentIndexPath:"",parentPassesCondition:G,parentPath:l,parentSchemaPath:O,permissions:!0===U?U:U?.fields||{},preferences:I,previousFormState:J,readOnly:K,renderAllFields:L,renderFieldFn:M,req:N,select:"object"==typeof d?d:void 0,selectMode:Q,skipConditionChecks:R,skipValidation:S,state:T})),c.rows||(c.rows=[]);let m=(J?.[H]?.rows||[]).find(a=>a.id===f.id),o={id:f.id,isLoading:!1};return m?.lastRenderedPath&&(o.lastRenderedPath=m.lastRenderedPath),m||(o.addedByServer=!0),q({collapsedPrefs:I?.fields?.[H]?.collapsed,field:s,previousRow:m,row:f})&&(o.collapsed=!0),c.rows.push(o),c},{promises:[],rows:[]});await Promise.all(f),k&&(V.rows=k),null!==l[s.name]&&(V.value=w?c:c.length,V.initialValue=w?c:c.length,c.length>0&&(V.disableFormData=!0)),!B&&(!v||v(a))&&(T[H]=V);break}case"blocks":{let c=Array.isArray(l[s.name])?l[s.name]:[],d=null;s.filterOptions&&(V.blocksFilterOptions=(d=await (0,m.XC)({id:b,data:x,filterOptions:s.filterOptions,req:N,siblingData:l,value:l[s.name]})).allowedBlockSlugs);let{promises:h,rowMetadata:k}=c.reduce((c,h,k)=>{let l=h.blockType,m=N.payload.blocks[l]??(s.blockReferences??s.blocks).find(a=>"string"!=typeof a&&a.slug===l);if(!m)throw Error(`Block with type "${h.blockType}" was found in block data, but no block with that type is defined in the config for field with schema path ${O}.`);let{blockSelect:o,blockSelectMode:p}=(0,f.c)({block:m,select:P?.[s.name],selectMode:Q}),z=H+"."+k;if(m){if(h.id=h?.id||new r().toHexString(),!B&&(!v||v(a))){let a=z+".id";T[a]={initialValue:h.id,value:h.id},d?.invalidBlockSlugs?.length&&d.invalidBlockSlugs.includes(h.blockType)&&(T[a].errorMessage=N.t("validation:invalidBlock",{block:h.blockType}),T[a].valid=!1,D(a),V.errorPaths=V.errorPaths.filter(a=>a!==H)),y&&(T[a].fieldSchema=y?m.fields.find(a=>(0,g.uT)(a)):void 0);let b=z+".blockType";T[b]={initialValue:h.blockType,value:h.blockType},X&&(T[b].addedByServer=X),y&&(T[b].fieldSchema=m.fields.find(a=>"name"in a&&"blockType"===a.name));let c=z+".blockName";T[c]={},h.blockName&&(T[c].initialValue=h.blockName,T[c].value=h.blockName),y&&(T[c].fieldSchema=m.fields.find(a=>"name"in a&&"blockName"===a.name))}c.promises.push(t({id:b,addErrorPathToParent:D,anyParentLocalized:s.localized||e,blockData:h,clientFieldSchemaMap:i,collectionSlug:j,data:h,fields:m.fields,fieldSchemaMap:u,filter:v,forceFullValue:w,fullData:x,includeSchema:y,mockRSCs:A,omitParents:B,operation:C,parentIndexPath:"",parentPassesCondition:G,parentPath:z,parentSchemaPath:O+"."+m.slug,permissions:!0===U?U:E?.[s.name]?.blocks?.[m.slug]===!0||E?.[s.name]?.blocks?.[m.slug]?.fields||{},preferences:I,previousFormState:J,readOnly:K,renderAllFields:L,renderFieldFn:M,req:N,select:"object"==typeof o?o:void 0,selectMode:p,skipConditionChecks:R,skipValidation:S,state:T}));let f=(J?.[H]?.rows||[]).find(a=>a.id===h.id),k={id:h.id,blockType:h.blockType,isLoading:!1};f?.lastRenderedPath&&(k.lastRenderedPath=f.lastRenderedPath),c.rowMetadata.push(k),q({collapsedPrefs:I?.fields?.[H]?.collapsed,field:s,previousRow:f,row:h})&&(c.rowMetadata[c.rowMetadata.length-1].collapsed=!0)}return c},{promises:[],rowMetadata:[]});await Promise.all(h),null===l[s.name]?(V.value=null,V.initialValue=null):(V.value=w?c:c.length,V.initialValue=w?c:c.length,c.length>0&&(V.disableFormData=!0)),V.rows=k,!B&&(!v||v(a))&&(T[H]=V);break}case"group":{(!v||v(a))&&(V.disableFormData=!0,T[H]=V);let c=P?.[s.name];await t({id:b,addErrorPathToParent:D,anyParentLocalized:s.localized||e,blockData:h,clientFieldSchemaMap:i,collectionSlug:j,data:l?.[s.name]||{},fields:s.fields,fieldSchemaMap:u,filter:v,forceFullValue:w,fullData:x,includeSchema:y,mockRSCs:A,omitParents:B,operation:C,parentIndexPath:"",parentPassesCondition:G,parentPath:H,parentSchemaPath:O,permissions:"boolean"==typeof U?U:U?.fields,preferences:I,previousFormState:J,readOnly:K,renderAllFields:L,renderFieldFn:M,req:N,select:"object"==typeof c?c:void 0,selectMode:Q,skipConditionChecks:R,skipValidation:S,state:T});break}case"relationship":case"upload":if(s.filterOptions&&("object"==typeof s.filterOptions&&("string"==typeof s.relationTo?V.filterOptions={[s.relationTo]:s.filterOptions}:V.filterOptions=s.relationTo.reduce((a,b)=>(a[b]=s.filterOptions,a),{})),"function"==typeof s.filterOptions&&(V.filterOptions=await (0,p.r)(s.filterOptions,{id:b,blockData:h,data:x,relationTo:s.relationTo,req:N,siblingData:l,user:N.user}))),s.hasMany){let a=Array.isArray(l[s.name])?l[s.name].map(a=>Array.isArray(s.relationTo)?{relationTo:a.relationTo,value:a.value&&"object"==typeof a.value?a.value?.id:a.value}:"object"==typeof a&&null!==a?a.id:a):void 0;V.value=a,V.initialValue=a}else if(Array.isArray(s.relationTo)){if(l[s.name]&&"object"==typeof l[s.name]&&"relationTo"in l[s.name]&&"value"in l[s.name]){let a="object"==typeof l[s.name]?.value&&l[s.name]?.value&&"id"in l[s.name].value?l[s.name].value.id:l[s.name].value,b={relationTo:l[s.name]?.relationTo,value:a};V.value=b,V.initialValue=b}}else{let a=l[s.name]&&"object"==typeof l[s.name]&&"id"in l[s.name]?l[s.name].id:l[s.name];V.value=a,V.initialValue=a}(!v||v(a))&&(T[H]=V);break;case"select":"function"==typeof s.filterOptions&&(V.selectFilterOptions=s.filterOptions({data:x,options:s.options,req:N,siblingData:l})),void 0!==l[s.name]&&(V.value=l[s.name],V.initialValue=l[s.name]),(!v||v(a))&&(T[H]=V);break;default:void 0!==l[s.name]&&(V.value=l[s.name],V.initialValue=l[s.name]),(!v||v(a))&&(T[H]=V)}}else if((0,g.sd)(s)&&!(0,g.Z7)(s))(!v||v(a))&&(T[H]={disableFormData:!0},!1===G&&(T[H].passesCondition=!1)),await t({id:b,mockRSCs:A,select:P,selectMode:Q,addErrorPathToParent:c,anyParentLocalized:(0,g.Yf)(s)||e,blockData:h,clientFieldSchemaMap:i,collectionSlug:j,data:l,fields:s.fields,fieldSchemaMap:u,filter:v,forceFullValue:w,fullData:x,includeSchema:y,omitParents:B,operation:C,parentIndexPath:z,parentPassesCondition:G,parentPath:D,parentSchemaPath:F,permissions:E,preferences:I,previousFormState:J,readOnly:K,renderAllFields:L,renderFieldFn:M,req:N,skipConditionChecks:R,skipValidation:S,state:T});else if("tabs"===s.type){let a=s.tabs.map((a,f)=>{let m,o,p=(0,g.pz)(a),q={...a,type:"tab"},{indexPath:r,path:s,schemaPath:O}=(0,k.Z)({field:q,index:f,parentIndexPath:z,parentPath:D,parentSchemaPath:F});if(p){if(!(0,d.e)({field:q,select:P,selectMode:Q,siblingDoc:l?.[a.name]||{}}))return;if(!0===E)o=!0;else{let b=E?.[a.name];o=!0===b||b?.fields}"object"==typeof P?.[a.name]&&(m=P?.[a.name])}else o=E,m=P;let U=H?H.split("."):[],V=G;return G&&"function"==typeof a.admin?.condition&&(V=a.admin.condition(x,l,{blockData:h,operation:C,path:U,user:N.user})),a?.id&&(T[a.id]={passesCondition:V}),t({id:b,addErrorPathToParent:c,anyParentLocalized:a.localized||e,blockData:h,clientFieldSchemaMap:i,collectionSlug:j,data:p?l?.[a.name]||{}:l,fields:a.fields,fieldSchemaMap:u,filter:v,forceFullValue:w,fullData:x,includeSchema:y,mockRSCs:A,omitParents:B,operation:C,parentIndexPath:p?"":r,parentPassesCondition:V,parentPath:p?s:D,parentSchemaPath:p?O:F,permissions:o,preferences:I,previousFormState:J,readOnly:K,renderAllFields:L,renderFieldFn:M,req:N,select:m,selectMode:Q,skipConditionChecks:R,skipValidation:S,state:T})});await Promise.all(a)}else"ui"===s.type&&(!v||v(a))&&(T[H]=V,T[H].disableFormData=!0);if(M&&!(0,g.I2)(s)){let a=u.get(O);if(!a&&!A)if(O.endsWith(".blockType"))return;else throw Error(`Field config not found for ${O}`);if(!T[H])return;X&&(T[H].addedByServer=X),M({id:b,clientFieldSchemaMap:i,collectionSlug:j,data:x,fieldConfig:a,fieldSchemaMap:u,fieldState:T[H],formState:T,indexPath:z,lastRenderedPath:W,mockRSCs:A,operation:C,parentPath:D,parentSchemaPath:F,path:H,permissions:U,preferences:I,previousFieldState:J?.[H],readOnly:K,renderAllFields:L,req:N,schemaPath:O,siblingData:l})}},t=async({id:a,addErrorPathToParent:b,anyParentLocalized:c=!1,blockData:e,clientFieldSchemaMap:f,collectionSlug:g,data:h,fields:i,fieldSchemaMap:j,filter:l,forceFullValue:m=!1,fullData:o,includeSchema:p=!1,mockRSCs:q,omitParents:r=!1,operation:t,parentIndexPath:u,parentPassesCondition:v=!0,parentPath:w,parentSchemaPath:x,permissions:y,preferences:z,previousFormState:A,readOnly:B,renderAllFields:C,renderFieldFn:D,req:E,select:F,selectMode:G,skipConditionChecks:H=!1,skipValidation:I=!1,state:J={}})=>{let K=[];i.forEach((i,L)=>{let M=!0,{indexPath:N,path:O,schemaPath:P}=(0,k.Z)({field:i,index:L,parentIndexPath:"name"in i?"":u,parentPath:w,parentSchemaPath:x});if("id"!==O&&!(0,d.e)({field:i,select:F,selectMode:G,siblingDoc:h}))return;let Q=O?O.split("."):[];if(!H)try{M=!!((!i?.admin?.condition||i.admin.condition(o||{},h||{},{blockData:e,operation:t,path:Q,user:E.user}))&&v)}catch(a){M=!1,E.payload.logger.error({err:a,msg:`Error evaluating field condition at path: ${O}`})}K.push(s({id:a,addErrorPathToParent:b,anyParentLocalized:c,blockData:e,clientFieldSchemaMap:f,collectionSlug:g,data:h,field:i,fieldIndex:L,fieldSchemaMap:j,filter:l,forceFullValue:m,fullData:o,includeSchema:p,indexPath:N,mockRSCs:q,omitParents:r,operation:t,parentIndexPath:u,parentPath:w,parentPermissions:y,parentSchemaPath:x,passesCondition:M,path:O,preferences:z,previousFormState:A,readOnly:B,renderAllFields:C,renderFieldFn:D,req:E,schemaPath:P,select:F,selectMode:G,skipConditionChecks:H,skipValidation:I,state:J}))}),await Promise.all(K)},u=async({id:a,clientFieldSchemaMap:b,collectionSlug:c,data:d={},documentData:e,fields:f,fieldSchemaMap:g,initialBlockData:h,mockRSCs:i,operation:k,permissions:l,preferences:m,previousFormState:o,readOnly:p,renderAllFields:q,renderFieldFn:r,req:s,schemaPath:u,select:v,selectMode:w,skipValidation:x})=>{if(!b&&r&&console.warn("clientFieldSchemaMap is not passed to fieldSchemasToFormState - this will reduce performance"),f&&f.length){let y={},z={...d};await j({id:a,data:z,fields:f,locale:s.locale,req:s,select:v,selectMode:w,siblingData:z,user:s.user});let A=z;return e&&(A=e),await t({id:a,addErrorPathToParent:null,blockData:h,clientFieldSchemaMap:b,collectionSlug:c,data:z,fields:f,fieldSchemaMap:g,fullData:A,mockRSCs:i,operation:k,parentIndexPath:"",parentPassesCondition:!0,parentPath:"",parentSchemaPath:u,permissions:l,preferences:m,previousFormState:o,readOnly:p,renderAllFields:q,renderFieldFn:r,req:s,select:v,selectMode:w,skipValidation:x,state:y}),y}return{}}},8046:(a,b,c)=>{"use strict";c.d(b,{Y:()=>d});let d=a=>{let b=[...a];return b.shift(),b.reduce((a,b)=>{let c=Number.isNaN(parseInt(b))?`'${b}'`:b;return`${a}->>${c}`},"")}},8164:(a,b,c)=>{"use strict";function d(a,b,c){if(c<=0||!Number.isInteger(c))throw Error("Invalid number of delimiters ("+c+") for splitEvery.");let d=a.split(b);if(1===c)return d;let e=[],f="";for(let a=0;a<d.length;a++)""===f?f=d[a]:f+=b+d[a],(a+1)%c==0&&(e.push(f),f="");return""!==f&&e.push(f),e}c.d(b,{U:()=>d})},8197:(a,b,c)=>{"use strict";c.d(b,{m:()=>g});var d=c(23631),e=c(22501),f=c(27661);let g=({config:a,fields:b,i18n:c,parentIndexPath:h,parentSchemaPath:i,schemaMap:j})=>{for(let[k,l]of b.entries()){let{indexPath:b,schemaPath:m}=(0,e.Z)({field:l,index:k,parentIndexPath:"name"in l?"":h,parentPath:"",parentSchemaPath:i});switch(j.set(m,l),l.type){case"array":g({config:a,fields:l.fields,i18n:c,parentIndexPath:"",parentSchemaPath:m,schemaMap:j});break;case"blocks":(l.blockReferences??l.blocks).map(b=>{let d="string"==typeof b?a.blocks.find(a=>a.slug===b):b,e=`${m}.${d.slug}`;j.set(e,d),g({config:a,fields:d.fields,i18n:c,parentIndexPath:"",parentSchemaPath:e,schemaMap:j})});break;case"collapsible":case"row":g({config:a,fields:l.fields,i18n:c,parentIndexPath:b,parentSchemaPath:i,schemaMap:j});break;case"group":(0,f.Z7)(l)?g({config:a,fields:l.fields,i18n:c,parentIndexPath:"",parentSchemaPath:m,schemaMap:j}):g({config:a,fields:l.fields,i18n:c,parentIndexPath:b,parentSchemaPath:i,schemaMap:j});break;case"richText":if(!l?.editor)throw new d.X(l);if("function"==typeof l.editor)throw Error("Attempted to access unsanitized rich text editor.");"function"==typeof l.editor.generateSchemaMap&&l.editor.generateSchemaMap({config:a,field:l,i18n:c,schemaMap:j,schemaPath:m});break;case"tabs":l.tabs.map((d,h)=>{let k=(0,f.pz)(d),{indexPath:l,schemaPath:m}=(0,e.Z)({field:{...d,type:"tab"},index:h,parentIndexPath:b,parentPath:"",parentSchemaPath:i});j.set(m,d),g({config:a,fields:d.fields,i18n:c,parentIndexPath:k?"":l,parentSchemaPath:k?m:i,schemaMap:j})})}}}},8344:(a,b,c)=>{"use strict";var d=c(59213),e=c(58331),f=c(57047),g=c(55511);class h{algorithmIdentifier;secret;hash;constructor(a,b){this.algorithmIdentifier=a,this.secret=b,this.reset()}update(a,b){this.hash.update(e.toUint8Array(i(a,b)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?g.createHmac(this.algorithmIdentifier,i(this.secret)):g.createHash(this.algorithmIdentifier)}}function i(a,b){return f.Buffer.isBuffer(a)?a:"string"==typeof a?d.fromString(a,b):ArrayBuffer.isView(a)?d.fromArrayBuffer(a.buffer,a.byteOffset,a.byteLength):d.fromArrayBuffer(a)}b.V=h},8358:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(49102);d.code='require("ajv/dist/runtime/equal").default',b.default=d},8363:(a,b,c)=>{"use strict";var d;function e(){throw Object.defineProperty(Error("cacheTag() is only available with the experimental.useCache config."),"__NEXT_ERROR_CODE",{value:"E628",enumerable:!1,configurable:!0})}d={value:!0},Object.defineProperty(b,"z",{enumerable:!0,get:function(){return e}}),c(63033),c(7036)},8507:a=>{"use strict";var b=/["'&<>]/;a.exports=function a(a){var c,d=""+a,e=b.exec(d);if(!e)return d;var f="",g=0,h=0;for(g=e.index;g<d.length;g++){switch(d.charCodeAt(g)){case 34:c="&quot;";break;case 38:c="&amp;";break;case 39:c="&#39;";break;case 60:c="&lt;";break;case 62:c="&gt;";break;default:continue}h!==g&&(f+=d.substring(h,g)),h=g+1,f+=c}return h!==g?f+d.substring(h,g):f}},8615:(a,b,c)=>{"use strict";c.d(b,{Z:()=>K});var d=c(4315),e=c(2617),f=c(65029),g=c(56704),h=c(71540),i=c(35593),j=c(66456),k=c(27661),l=c(38200);let m=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,o=function(a){return"string"==typeof a&&m.test(a)},p=a=>a&&"object"==typeof a&&"relationTo"in a&&"string"==typeof a.relationTo&&"value"in a;var q=c(50848),r=c(23825),s=c(77457);let t=({type:a,condition:b,joins:c,queryPath:d,table:f})=>{let g=(0,e.y)(f);c.some(a=>(0,e.y)(a.table)===g)||c.push({type:a,condition:b,queryPath:d,table:f})};var u=c(25467);let v=({adapter:a,aliasTable:b,collectionPath:c,columnPrefix:d="",constraintPath:e,constraints:m=[],fields:w,joins:x,locale:y,parentAliasTable:z,parentIsLocalized:A,pathSegments:B,rootTableName:C,selectFields:D,selectLocale:E,tableName:F,tableNameSuffix:G="",value:H})=>{let I=B[0],J=y,K=C||F,L=e||"",M=w.find(a=>a.name===I),N=F;if(!M&&"id"===I)return D.id=a.tables[N].id,{columnName:"id",constraints:m,field:{name:"id",type:"uuid"===a.idType?"text":"number"},table:a.tables[N]};if(M){let e=[...B],w=(0,k.Cd)({field:M,parentIsLocalized:A});if(w&&a.payload.config.localization){let b=a.payload.config.localization.localeCodes.find(a=>a===e[1]);b&&(J=b,e.splice(1,1))}switch(M.type){case"array":{N=a.tableNameMap.get(`${F}_${G}${l(M.name)}`);let d=b||a.tables[F];if(L=`${L}${M.name}.%.`,J&&w&&a.payload.config.localization){let b=[(0,f.eq)(d.id,a.tables[N]._parentID)];E&&(D._locale=a.tables[N]._locale),"all"!==J&&b.push((0,f.eq)(a.tables[N]._locale,J)),t({condition:(0,f.Uo)(...b),joins:x,table:a.tables[N]})}else t({condition:(0,f.eq)(d.id,a.tables[N]._parentID),joins:x,table:a.tables[N]});return v({adapter:a,collectionPath:c,constraintPath:L,constraints:m,fields:M.flattenedFields,joins:x,locale:J,parentAliasTable:b,parentIsLocalized:A||M.localized,pathSegments:e.slice(1),rootTableName:K,selectFields:D,selectLocale:E,tableName:N,value:H})}case"blocks":{let d,g;if(a.blocksAsJSON)break;if("blockType"===e[1])return(Array.isArray(H)?H:[H]).forEach(b=>{let c=a.payload.blocks[b]??(M.blockReferences??M.blocks).find(a=>"string"!=typeof a&&a.slug===b);g=(0,s.hR)(c,a.tableNameMap.get(`${F}_blocks_${l(c.slug)}`));let{newAliasTable:d}=(0,u.L)({adapter:a,tableName:g});x.push({condition:(0,f.eq)(a.tables[F].id,d._parentID),table:d}),m.push({columnName:"_path",table:d,value:e[0]})}),{constraints:m,field:M,getNotNullColumnByValue:()=>"id",table:a.tables[F]};if((M.blockReferences??M.blocks).some(h=>{let i,j,k="string"==typeof h?a.payload.blocks[h]:h;g=(0,s.hR)(k,a.tableNameMap.get(`${F}_blocks_${l(k.slug)}`)),L=`${L}${M.name}.%.`;let o=[],p={};if(w&&a.payload.config.localization){let c=[(0,f.eq)((b||a.tables[F]).id,a.tables[g]._parentID)];"all"!==J&&c.push((0,f.eq)(a.tables[g]._locale,J)),j={condition:(0,f.Uo)(...c),table:a.tables[g]}}else j={condition:(0,f.eq)((b||a.tables[F]).id,a.tables[g]._parentID),table:a.tables[g]};let q=[...x];try{i=v({adapter:a,collectionPath:c,constraintPath:L,constraints:o,fields:k.flattenedFields,joins:q,locale:J,parentIsLocalized:A||M.localized,pathSegments:e.slice(1),rootTableName:K,selectFields:p,selectLocale:E,tableName:g,value:H})}catch(a){}if(!i)return;d=i,m=m.concat(o),D={...D,...p};let r=x.length;if(x.push(j),q.length>r)for(let a=r;a<q.length;a++)x.push(q[a]);return!0}))return{columnName:d.columnName,constraints:m,field:d.field,pathSegments:e.slice(1),rawColumn:d.rawColumn,table:d.table};break}case"group":if(J&&w&&a.payload.config.localization){N=`${F}${a.localesSuffix}`;let b=(0,f.eq)(a.tables[F].id,a.tables[N]._parentID);"all"!==J&&(b=(0,f.Uo)(b,(0,f.eq)(a.tables[N]._locale,J))),t({condition:b,joins:x,table:a.tables[N]})}return v({adapter:a,aliasTable:b,collectionPath:c,columnPrefix:`${d}${M.name}_`,constraintPath:`${L}${M.name}.`,constraints:m,fields:M.flattenedFields,joins:x,locale:J,parentIsLocalized:A||M.localized,pathSegments:e.slice(1),rootTableName:K,selectFields:D,selectLocale:E,tableName:N,tableNameSuffix:`${G}${l(M.name)}_`,value:H});case"join":{if(Array.isArray(M.collection))throw new i.L("Not supported");let c=e.slice(1).join(".");if(M.hasMany){let b=`${a.tableNameMap.get(l(M.collection))}${a.relationshipsSuffix}`,{newAliasTable:d}=(0,u.L)({adapter:a,tableName:b}),g=(0,j.p)({fields:a.payload.collections[M.collection].config.flattenedFields,path:M.on});if(!g)throw new i.L("Relationship was not found");if(t({condition:(0,f.Uo)((0,f.eq)(a.tables[K].id,d[`${g.field.relationTo}ID`]),(0,f.mj)(d.path,M.on)),joins:x,queryPath:M.on,table:d}),"id"===c)return{columnName:"parent",constraints:m,field:{name:"id",type:"uuid"===a.idType?"text":"number"},table:d};let h=a.payload.collections[M.collection].config,k=a.tableNameMap.get(l(h.slug)),o=h.flattenedFields,{newAliasTable:p}=(0,u.L)({adapter:a,tableName:k});return x.push({condition:(0,f.eq)(d.parent,p.id),table:p}),v({adapter:a,aliasTable:p,collectionPath:c,constraints:m,fields:o,joins:x,locale:J,parentIsLocalized:!1,pathSegments:e.slice(1),rootTableName:k,selectFields:D,selectLocale:E,tableName:k,value:H})}let d=a.tableNameMap.get(l(a.payload.collections[M.collection].config.slug)),{newAliasTable:g}=(0,u.L)({adapter:a,tableName:d});if(x.push({condition:(0,f.eq)(g[M.on.replaceAll(".","_")],b?b.id:a.tables[F].id),table:g}),"id"===c)return{columnName:"id",constraints:m,field:{name:"id",type:"uuid"===a.idType?"text":"number"},table:g};return v({adapter:a,aliasTable:g,collectionPath:c,constraintPath:"",constraints:m,fields:a.payload.collections[M.collection].config.flattenedFields,joins:x,locale:J,parentIsLocalized:A||M.localized,pathSegments:e.slice(1),selectFields:D,tableName:d,value:H})}case"number":case"text":if(M.hasMany){let b="texts",c="text";"number"===M.type&&(b="numbers",c="number"),N=`${K}_${b}`;let d=x.find(a=>a.queryPath===`${L}${M.name}`),e=d?.table??(0,u.L)({adapter:a,tableName:N}).newAliasTable,g=[(0,f.eq)(a.tables[K].id,e.parent),(0,f.mj)(e.path,`${L}${M.name}`)];if(J&&w&&a.payload.config.localization){let a=[...g];"all"!==J&&a.push((0,f.eq)(e._locale,J)),t({condition:(0,f.Uo)(...a),joins:x,queryPath:`${L}${M.name}`,table:e})}else t({condition:(0,f.Uo)(...g),joins:x,queryPath:`${L}${M.name}`,table:e});return{columnName:c,constraints:m,field:M,table:e}}break;case"relationship":case"upload":{let c=e.slice(1).join(".");if(Array.isArray(M.relationTo)||M.hasMany){let d,j,k,s,y=`${K}${a.relationshipsSuffix}`,A=x.find(a=>a.queryPath===`${L}.${M.name}`);if(A)j=A.table,k=(0,g.Io)(A.table);else{let b=(0,u.L)({adapter:a,tableName:y});j=b.newAliasTable,k=b.newAliasTableName}if(E&&w&&a.payload.config.localization&&(D._locale=j.locale),J&&w&&a.payload.config.localization){let c=[(0,f.eq)((z||b||a.tables[K]).id,j.parent),(0,f.mj)(j.path,`${L}${M.name}`)];"all"!==J&&c.push((0,f.eq)(j.locale,J)),t({condition:(0,f.Uo)(...c),joins:x,queryPath:`${L}.${M.name}`,table:j})}else t({condition:(0,f.Uo)((0,f.eq)((z||b||a.tables[K]).id,j.parent),(0,f.mj)(j.path,`${L}${M.name}`)),joins:x,queryPath:`${L}.${M.name}`,table:j});if(D[`${y}.path`]=j.path,"string"==typeof M.relationTo){let b=a.payload.collections[M.relationTo].config;if(N=a.tableNameMap.get(l(b.slug)),d=b.flattenedFields,{newAliasTable:s}=(0,u.L)({adapter:a,tableName:N}),x.push({condition:(0,f.eq)(s.id,j[`${M.relationTo}ID`]),table:s}),""===c||"id"===c)return{columnName:`${M.relationTo}ID`,constraints:m,field:M,table:j}}else if("value"===c){let b=M.relationTo.some(b=>!!a.payload.collections[b].customIDType);return{columns:M.relationTo.map(c=>{let d="uuid"===a.idType?"uuid":"number",{customIDType:e}=a.payload.collections[c];e&&(d=e);let f="text"===d||"uuid"===d;if("number"==typeof H&&f||Array.isArray(H)&&H.every(a=>"number"==typeof a)&&f||H&&!Array.isArray(H)&&"uuid"===d&&b&&!o(H)||Array.isArray(H)&&"uuid"===d&&b&&!H.some(a=>o(a)))return null;let g=a.tableNameMap.get(l(a.payload.collections[c].config.slug));return{idType:d,rawColumn:h.ll.raw(`"${k}"."${g}_id"`)}}).filter(Boolean),constraints:m,field:M,table:j}}else if("relationTo"===c){let a=Array.isArray(M.relationTo)?M.relationTo:[M.relationTo];return{constraints:m,field:M,getNotNullColumnByValue:b=>{let c=a.find(a=>a===b);if(c)return`${c}ID`},table:j}}else if(p(H)){let{relationTo:b}=H,c=a.tableNameMap.get(l(a.payload.collections[b].config.slug));return{constraints:m,field:M,rawColumn:h.ll.raw(`"${k}"."${c}_id"`),table:j}}else if(H===r.pk){let b={};M.relationTo.forEach(c=>{let d=a.tableNameMap.get(l(a.payload.collections[c].config.slug));b[c]=h.ll.raw(`"${k}"."${d}_id"`)});let c=(0,q.U_)(a,b);return"postgres"===a.name&&(c=(0,h.ll)`${c}::text`),{constraints:m,field:M,rawColumn:c,table:j}}else throw new i.L("Not supported");return v({adapter:a,aliasTable:s,collectionPath:c,constraints:m,fields:d,joins:x,locale:J,parentIsLocalized:!1,pathSegments:e.slice(1),rootTableName:N,selectFields:D,selectLocale:E,tableName:N,value:H})}if(e.length>1&&(2!==e.length||"id"!==e[1])){let g=`${d}${M.name}`,h=a.tableNameMap.get(l(a.payload.collections[M.relationTo].config.slug)),{newAliasTable:i}=(0,u.L)({adapter:a,tableName:h});if(w&&a.payload.config.localization){let{newAliasTable:b}=(0,u.L)({adapter:a,tableName:`${K}${a.localesSuffix}`}),c=[(0,f.eq)(b._parentID,a.tables[K].id)];E&&(D._locale=b._locale),"all"!==J&&c.push((0,f.eq)(b._locale,J));let d=a.tables[`${K}${a.localesSuffix}`];t({condition:(0,f.Uo)(...c),joins:x,table:d}),x.push({condition:(0,f.eq)(d[g],i.id),table:i})}else x.push({condition:(0,f.eq)(i.id,b?b[g]:a.tables[F][g]),table:i});return v({adapter:a,aliasTable:i,collectionPath:c,constraintPath:"",constraints:m,fields:a.payload.collections[M.relationTo].config.flattenedFields,joins:x,locale:J,parentIsLocalized:A||M.localized,pathSegments:e.slice(1),selectFields:D,tableName:h,value:H})}break}case"select":if(M.hasMany){let c=a.tableNameMap.get(`${F}_${G}${l(M.name)}`),d=(b??a.tables[F]).id;if(J&&w&&a.payload.config.localization){let b=[(0,f.eq)(d,a.tables[c].parent),(0,f.eq)(a.tables[c]._locale,J)];"all"!==J&&b.push((0,f.eq)(a.tables[c]._locale,J)),t({condition:(0,f.Uo)(...b),joins:x,table:a.tables[c]})}else t({condition:(0,f.eq)(d,a.tables[c].parent),joins:x,table:a.tables[c]});return{columnName:"value",constraints:m,field:M,table:a.tables[c]}}break;case"tab":if((0,k.pz)(M))return v({adapter:a,aliasTable:b,collectionPath:c,columnPrefix:`${d}${M.name}_`,constraintPath:`${L}${M.name}.`,constraints:m,fields:M.flattenedFields,joins:x,locale:J,parentIsLocalized:A||M.localized,pathSegments:e.slice(1),rootTableName:K,selectFields:D,selectLocale:E,tableName:N,tableNameSuffix:`${G}${l(M.name)}_`,value:H});return v({adapter:a,aliasTable:b,collectionPath:c,columnPrefix:d,constraintPath:L,constraints:m,fields:M.flattenedFields,joins:x,locale:J,parentIsLocalized:A||M.localized,pathSegments:e.slice(1),rootTableName:K,selectFields:D,selectLocale:E,tableName:N,tableNameSuffix:G,value:H})}let y=a.tables[N];if(w&&a.payload.config.localization){let c=b||a.tables[F];N=`${F}${a.localesSuffix}`,y=a.tables[N];let d=(0,f.eq)(c.id,y._parentID);"all"!==J&&(d=(0,f.Uo)(d,(0,f.eq)(y._locale,J))),E&&(D._locale=y._locale),t({condition:d,joins:x,table:y}),b=void 0}let C=b||y;return D[`${N}.${d}${M.name}`]=C[`${d}${M.name}`],{columnName:`${d}${M.name}`,constraints:m,field:M,pathSegments:e,table:C}}throw new i.L(`Cannot find field for path at ${I}`)},w=({adapter:a,aliasTable:b,fields:c,joins:f,locale:g,parentIsLocalized:h,rawSort:i,selectFields:j,sort:k,tableName:l})=>{let m=[],o=a.tables[l]?.createdAt;k||(k=o?"-createdAt":"-id"),"string"==typeof k&&(k=[k]);let p="-id";for(let q of(o&&(p="-createdAt"),k.includes(p)||k.includes(p.replace("-",""))||k.push(p),k)){let k,o;"-"===q[0]?(k=q.substring(1),o="desc"):(k=q,o="asc");try{let{columnName:p,table:q}=v({adapter:a,collectionPath:k,fields:c,joins:f,locale:g,parentIsLocalized:h,pathSegments:k.replace(/__/g,".").split("."),selectFields:j,tableName:l,value:k});if(q?.[p]){let a="asc"===o?d.Y:d.i;i&&(a=()=>i),m.push({column:b&&l===(0,e.y)(q)?b[p]:q[p],order:a}),j[p]=q[p]}}catch(a){}}return m};var x=c(37593),y=c(54605);class z extends y.pe{static [x.i]="PgUUIDBuilder";constructor(a){super(a,"string","PgUUID")}defaultRandom(){return this.default((0,h.ll)`gen_random_uuid()`)}build(a){return new A(a,this.config)}}class A extends y.Kl{static [x.i]="PgUUID";getSQLType(){return"uuid"}}var B=c(24325),C=c(30520);function D(a){return/^[\w-]+$/.test(a)}function E({adapter:a,aliasTable:b,context:c,fields:d,joins:e,locale:f,parentIsLocalized:g,selectFields:h,selectLocale:i,tableName:j,where:k}){let l=[];for(let m of k)if("object"==typeof m){let k=J({adapter:a,aliasTable:b,context:c,fields:d,joins:e,locale:f,parentIsLocalized:g,selectFields:h,selectLocale:i,tableName:j,where:m});k&&Object.keys(k).length>0&&l.push(k)}return l}function F(a){return Array.isArray(a)?a:a.indexOf(",")>-1?a.split(","):[a]}let G={number:"number",serial:"number",text:"text",uuid:"text"},H=({adapter:a,collection:b})=>b.customIDType??G[a.idType],I=({adapter:a,columns:b,field:c,isUUID:d,operator:e,relationOrPath:f,val:g})=>{let h,j=e,l=g;if(!(0,k.Z7)(c))return{operator:j,value:l};if((0,r.wU)(g))return{operator:j,value:g.value};if(("relationship"===c.type||"upload"===c.type)&&!f.endsWith("relationTo")&&Array.isArray(l)){let b=[];l.forEach(c=>{"uuid"!==a.idType&&"string"==typeof c?b.push(c,parseInt(c)):"string"==typeof c?b.push(c):b.push(c,String(c))}),l=b}if("checkbox"===c.type&&"string"==typeof g&&("true"===g.toLowerCase()&&(l=!0),"false"===g.toLowerCase()&&(l=!1)),["all","in","not_in"].includes(j)&&("string"==typeof l?(l=F(l),"number"===c.type&&(l=l.map(a=>parseFloat(a)))):"number"==typeof l&&(l=[l]),!Array.isArray(l)))return null;"number"===c.type&&"string"==typeof l&&Number.isNaN(l=Number(g))&&(l=null),d&&"string"==typeof l&&!o(g)&&(l=null);let m=a=>{if("string"==typeof a){if("null"===a||""===a)return null;let b=new Date(a);return Number.isNaN(b.getTime())?void 0:b.toISOString()}return"number"==typeof a?new Date(a).toISOString():a instanceof Date?a.toISOString():a};if("date"===c.type&&"exists"!==j)if(Array.isArray(l))l=l.map(m).filter(a=>void 0!==a);else{let a=m(g);if(void 0===a)return{operator:j,value:void 0};l=a}if("relationship"===c.type||"upload"===c.type){if("null"===g)l=null;else if(null!==l&&"boolean"!=typeof l){let d;if("string"==typeof c.relationTo)d=H({adapter:a,collection:a.payload.collections[c.relationTo]});else{if(p(g)){if("equals"!==j)throw new i.L(`Only 'equals' operator is supported for polymorphic relationship object notation. Given - ${j}`);return(d=H({adapter:a,collection:a.payload.collections[g.relationTo]}),(0,r.wU)(g.value))?{operator:j,value:g.value.value}:{operator:j,value:"number"===d?Number(g.value):String(g.value)}}h=b.map(({idType:a,rawColumn:b})=>{let c;if(Array.isArray(g))c=g.map(b=>{let c;if("number"===a){if(Number.isNaN(c=Number(b)))return null}else{if("uuid"===a&&!o(b))return null;c=String(b)}return c}).filter(Boolean);else if("number"===a){if(Number.isNaN(c=Number(g)))return null}else c=String(g);return{rawColumn:b,value:c}}).filter(Boolean)}Array.isArray(l)?l=l.map(a=>"number"===d?Number(a):"text"===d?String(a):a):("number"===d&&(l=Number(g)),"text"===d&&(l=String(g)))}}if("hasMany"in c&&c.hasMany&&"contains"===j&&(j="equals"),"near"===j&&"point"===c.type&&"string"==typeof l){let[a,b,c,d]=l.split(",");l=[Number(a),Number(b),Number(c),Number(d)]}return"contains"===j&&(l=`%${l}%`),"exists"===j&&(j=(l="true"===g||!0===g)?"exists":"isNull"),{columns:h,operator:j,value:l}};function J({adapter:a,aliasTable:b,context:c,fields:d,joins:g,locale:j,parentIsLocalized:k,selectFields:l,selectLocale:m,tableName:o,where:p}){let q,s=[];if("object"==typeof p&&Object.keys(p).length>0){for(let t of Object.keys(p))if(t){let u,w=p[t];if("and"===t.toLowerCase()?u=f.Uo:"or"===t.toLowerCase()&&(u=f.or),Array.isArray(w)){let e=E({adapter:a,aliasTable:b,context:c,fields:d,joins:g,locale:j,parentIsLocalized:k,selectFields:l,selectLocale:m,tableName:o,where:w});e.length>0&&(q=u(...e))}else{let q=p[t];if("object"==typeof q){for(let u of Object.keys(q))if(C.L.has(u)){let q=p[t][u],{columnName:w,columns:x,constraints:y,field:z,getNotNullColumnByValue:C,pathSegments:E,rawColumn:F,table:G}=v({adapter:a,aliasTable:b,collectionPath:t,fields:d,joins:g,locale:j,parentIsLocalized:k,pathSegments:t.replace(/__/g,".").split("."),selectFields:l,selectLocale:m,tableName:o,value:q}),H=F||(b&&o===(0,e.y)(G)?b[w]:G[w]);if(q===r.pk){l._selected=H;break}if(y.forEach(({columnName:b,table:c,value:d})=>{"string"==typeof d&&d.indexOf("%")>-1?s.push(a.operators.like(c[b],d)):s.push(a.operators.equals(c[b],d))}),(["json","richText"].includes(z.type)||"blocks"===z.type&&a.blocksAsJSON)&&Array.isArray(E)&&E.length>1){if("postgres"===a.name){let b=a.createJSONQuery({column:F||G[w],operator:u,pathSegments:E,value:q});s.push(h.ll.raw(b));break}let b=E.slice(1);if(b.unshift(G[w].name),"richText"===z.type){let c=0===g.length?o:g[g.length-1].table[Object.getOwnPropertySymbols(g[g.length-1].table)[0]],d=a.createJSONQuery({operator:u,pathSegments:b,table:c,treatAsArray:["children"],treatRootAsArray:!0,value:q});s.push(h.ll.raw(d));break}let c=a.convertPathToJSONTraversal(E),d={contains:{operator:"like",wildcard:"%"},equals:{operator:"=",wildcard:""},exists:{operator:!0===q?"is not null":"is null",wildcard:""},in:{operator:"in",wildcard:""},like:{operator:"like",wildcard:"%"},not_equals:{operator:"<>",wildcard:""},not_in:{operator:"not in",wildcard:""},not_like:{operator:"not like",wildcard:"%"}},e=q;e="sqlite"!==a.name||"equals"!==u||isNaN(q)?["in","not_in"].includes(u)&&Array.isArray(q)?`(${q.map(a=>`${a}`).join(",")})`:`'${d[u].wildcard}${q}${d[u].wildcard}'`:q,"exists"===u&&(e="");let f=`${G[w].name}${c}`;"sqlite"===a.name&&"not_like"===u&&(f=`COALESCE(${G[w].name}${c}, '')`);let i=`${f} ${d[u].operator} ${e}`;s.push(h.ll.raw(i));break}if(C){let a=C(q);if(a)s.push((0,f.Pe)(G[a]));else throw new B.l([{path:t}]);break}if("like"===u&&("number"===z.type||"relationship"===z.type||"upload"===z.type||"PgUUID"===G[w].columnType)&&(u="equals"),"like"===u){s.push((0,f.Uo)(...q.split(" ").map(b=>a.operators.like(G[w],`%${b}%`))));break}let J=I({adapter:a,columns:x,field:z,isUUID:G?.[w]instanceof A,operator:u,relationOrPath:t,val:q});if(null===J)break;let{columns:K,operator:L,value:M}=J;if(K){if(!K.length)break;let b=f.or;if(null===M&&["equals","not_equals"].includes(u)){"equals"===u&&(b=f.Uo),s.push(b(...K.map(({rawColumn:a})=>"equals"===u?(0,f.kZ)(a):(0,f.Pe)(a))));break}["not_equals","not_in"].includes(u)&&(b=f.Uo),s.push(b(...K.map(({rawColumn:b,value:c})=>a.operators[L](b,c))));break}if("not_equals"===L&&null!==M){s.push((0,f.or)((0,f.kZ)(H),(0,f.ne)(H,M)));break}if(("relationship"===z.type||"upload"===z.type)&&Array.isArray(M)&&"not_in"===u){s.push((0,h.ll)`(${(0,f.KL)(G[w],M)} OR
                    ${G[w]}
                    IS
                    NULL)`);break}if("equals"===u&&null===M){s.push((0,f.kZ)(H));break}if("not_equals"===u&&null===M){s.push((0,f.Pe)(H));break}if("point"===z.type&&"postgres"===a.name){switch(u){case"intersects":s.push((0,h.ll)`ST_Intersects(${G[w]}, ST_GeomFromGeoJSON(${JSON.stringify(M)}))`);break;case"near":{let[a,b,d,e]=M,g=[];"number"!=typeof d||Number.isNaN(d)||g.push((0,h.ll)`ST_DWithin(ST_Transform(${G[w]}, 3857), ST_Transform(ST_SetSRID(ST_MakePoint(${a}, ${b}), 4326), 3857), ${d})`),"number"!=typeof e||Number.isNaN(e)||g.push((0,h.ll)`ST_Distance(ST_Transform(${G[w]}, 3857), ST_Transform(ST_SetSRID(ST_MakePoint(${a}, ${b}), 4326), 3857)) >= ${e}`),g.length&&(c.sort=t,c.rawSort=(0,h.ll)`${G[w]} <-> ST_SetSRID(ST_MakePoint(${a}, ${b}), 4326)`,s.push((0,f.Uo)(...g)));break}case"within":s.push((0,h.ll)`ST_Within(${G[w]}, ST_GeomFromGeoJSON(${JSON.stringify(M)}))`)}break}let N=[],O=M;"in"===u&&Array.isArray(M)&&M.some(a=>null===a)&&(N.push((0,f.kZ)(H)),O=M.filter(a=>null!==a));let P=a.operators[L](H,O);if(a.limitedBoundParameters&&("in"===u||"not_in"===u)&&"id"===t&&Array.isArray(M)){let a=!1;for(let b of M)if("number"!=typeof b&&null!==b){if("string"==typeof b)if(D(b))continue;else{a=!0;break}a=!0;break}if(a)throw new i.L(`Invalid ID value in ${JSON.stringify(M)}`);s.push(h.ll.raw(`${H.name} ${"in"===u?"IN":"NOT IN"} (${M.map(a=>null===a?"NULL":"number"==typeof a?a:`'${a}'`).join(",")})`));break}N.length&&(N.push(P),P=(0,f.or)(...N)),s.push(P)}}}}}return s.length>0&&(q=q?(0,f.Uo)(q,...s):(0,f.Uo)(...s)),1!==s.length||q||([q]=s),q}let K=function({adapter:a,aliasTable:b,fields:c,joins:d=[],locale:e,parentIsLocalized:f,selectLocale:g,sort:h,tableName:i,where:j}){let k,l={id:a.tables[i].id},m={sort:h};j&&Object.keys(j).length>0&&(k=J({adapter:a,aliasTable:b,context:m,fields:c,joins:d,locale:e,parentIsLocalized:f,selectFields:l,selectLocale:g,tableName:i,where:j}));let o=w({adapter:a,aliasTable:b,fields:c,joins:d,locale:e,parentIsLocalized:f,rawSort:m.rawSort,selectFields:l,sort:m.sort,tableName:i});return{joins:d,orderBy:o,selectFields:l,where:k}}},8692:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(62918),e=c(99483),f=c(4671),g=c(7914),h=c(19898),i=c(47383),j=c(83151),k=c(45721),l=c(79499),m=c(47895);b.default=[d.default,e.default,f.default,g.default,h.default,i.default,j.default,k.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,m.default]},8731:(a,b,c)=>{"use strict";c.d(b,{H:()=>d,q:()=>e});let d=a=>"function"==typeof ReadableStream&&(a?.constructor?.name===ReadableStream.name||a instanceof ReadableStream),e=a=>"function"==typeof Blob&&(a?.constructor?.name===Blob.name||a instanceof Blob)},8791:a=>{"use strict";a.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},8946:(a,b,c)=>{"use strict";function d(a,...b){return a(...b)}c.d(b,{i:()=>d})},8997:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.recursionDetectionMiddleware=void 0;let d=c(33157),e=c(84642),f="X-Amzn-Trace-Id",g="AWS_LAMBDA_FUNCTION_NAME",h="_X_AMZN_TRACE_ID";b.recursionDetectionMiddleware=()=>a=>async b=>{let{request:c}=b;if(!e.HttpRequest.isInstance(c))return a(b);let i=Object.keys(c.headers??{}).find(a=>a.toLowerCase()===f.toLowerCase())??f;if(c.headers.hasOwnProperty(i))return a(b);let j=process.env[g],k=process.env[h],l=d.InvokeStore.getXRayTraceId()??k,m=a=>"string"==typeof a&&a.length>0;return m(j)&&m(l)&&(c.headers[f]=l),a({...b,request:c})}},9586:(a,b,c)=>{"use strict";let{parseSetCookie:d}=c(28997),{stringify:e}=c(40424),{webidl:f}=c(2312),{Headers:g}=c(24415),h=f.brandCheckMultiple([g,globalThis.Headers].filter(Boolean));function i(a){f.argumentLengthCheck(arguments,1,"getCookies"),h(a);let b=a.get("cookie"),c={};if(!b)return c;for(let a of b.split(";")){let[b,...d]=a.split("=");c[b.trim()]=d.join("=")}return c}function j(a,b,c){h(a);let d="deleteCookie";f.argumentLengthCheck(arguments,2,d),b=f.converters.DOMString(b,d,"name"),c=f.converters.DeleteCookieAttributes(c),m(a,{name:b,value:"",expires:new Date(0),...c})}function k(a){f.argumentLengthCheck(arguments,1,"getSetCookies"),h(a);let b=a.getSetCookie();return b?b.map(a=>d(a)):[]}function l(a){return d(a=f.converters.DOMString(a))}function m(a,b){f.argumentLengthCheck(arguments,2,"setCookie"),h(a);let c=e(b=f.converters.Cookie(b));c&&a.append("set-cookie",c,!0)}f.converters.DeleteCookieAttributes=f.dictionaryConverter([{converter:f.nullableConverter(f.converters.DOMString),key:"path",defaultValue:()=>null},{converter:f.nullableConverter(f.converters.DOMString),key:"domain",defaultValue:()=>null}]),f.converters.Cookie=f.dictionaryConverter([{converter:f.converters.DOMString,key:"name"},{converter:f.converters.DOMString,key:"value"},{converter:f.nullableConverter(a=>"number"==typeof a?f.converters["unsigned long long"](a):new Date(a)),key:"expires",defaultValue:()=>null},{converter:f.nullableConverter(f.converters["long long"]),key:"maxAge",defaultValue:()=>null},{converter:f.nullableConverter(f.converters.DOMString),key:"domain",defaultValue:()=>null},{converter:f.nullableConverter(f.converters.DOMString),key:"path",defaultValue:()=>null},{converter:f.nullableConverter(f.converters.boolean),key:"secure",defaultValue:()=>null},{converter:f.nullableConverter(f.converters.boolean),key:"httpOnly",defaultValue:()=>null},{converter:f.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:f.sequenceConverter(f.converters.DOMString),key:"unparsed",defaultValue:()=>[]}]),a.exports={getCookies:i,deleteCookie:j,getSetCookies:k,setCookie:m,parseCookie:l}},9726:(a,b,c)=>{"use strict";var d=c(32491),e=c(3854);a.exports={formats:c(72250),parse:e,stringify:d}},9742:(a,b,c)=>{"use strict";c.d(b,{P:()=>e});var d=c(66536);let e=async(a=new Uint8Array,b)=>{if(a instanceof Uint8Array)return d.M.mutate(a);if(!a)return d.M.mutate(new Uint8Array);let c=b.streamCollector(a);return d.M.mutate(await c)}},9850:(a,b)=>{"use strict";let{hasOwnProperty:c}=Object.prototype,d=s();d.configure=s,d.stringify=d,d.default=d,b.stringify=d,b.configure=s,a.exports=d;let e=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function f(a){return a.length<5e3&&!e.test(a)?`"${a}"`:JSON.stringify(a)}function g(a,b){if(a.length>200||b)return a.sort(b);for(let b=1;b<a.length;b++){let c=a[b],d=b;for(;0!==d&&a[d-1]>c;)a[d]=a[d-1],d--;a[d]=c}return a}let h=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function i(a){return void 0!==h.call(a)&&0!==a.length}function j(a,b,c){a.length<c&&(c=a.length);let d=","===b?"":" ",e=`"0":${d}${a[0]}`;for(let f=1;f<c;f++)e+=`${b}"${f}":${d}${a[f]}`;return e}function k(a){if(c.call(a,"circularValue")){let b=a.circularValue;if("string"==typeof b)return`"${b}"`;if(null==b)return b;if(b===Error||b===TypeError)return{toString(){throw TypeError("Converting circular structure to JSON")}};throw TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function l(a){let b;if(c.call(a,"deterministic")&&"boolean"!=typeof(b=a.deterministic)&&"function"!=typeof b)throw TypeError('The "deterministic" argument must be of type boolean or comparator function');return void 0===b||b}function m(a,b){let d;if(c.call(a,b)&&"boolean"!=typeof(d=a[b]))throw TypeError(`The "${b}" argument must be of type boolean`);return void 0===d||d}function o(a,b){let d;if(c.call(a,b)){if("number"!=typeof(d=a[b]))throw TypeError(`The "${b}" argument must be of type number`);if(!Number.isInteger(d))throw TypeError(`The "${b}" argument must be an integer`);if(d<1)throw RangeError(`The "${b}" argument must be >= 1`)}return void 0===d?1/0:d}function p(a){return 1===a?"1 item":`${a} items`}function q(a){let b=new Set;for(let c of a)("string"==typeof c||"number"==typeof c)&&b.add(String(c));return b}function r(a){if(c.call(a,"strict")){let b=a.strict;if("boolean"!=typeof b)throw TypeError('The "strict" argument must be of type boolean');if(b)return a=>{let b=`Object can not safely be stringified. Received type ${typeof a}`;throw"function"!=typeof a&&(b+=` (${a.toString()})`),Error(b)}}}function s(a){let b=r(a={...a});b&&(void 0===a.bigint&&(a.bigint=!1),"circularValue"in a||(a.circularValue=Error));let c=k(a),d=m(a,"bigint"),e=l(a),h="function"==typeof e?e:void 0,s=o(a,"maximumDepth"),t=o(a,"maximumBreadth");function u(a,j,k,l,m,o){let q=j[a];switch("object"==typeof q&&null!==q&&"function"==typeof q.toJSON&&(q=q.toJSON(a)),typeof(q=l.call(j,a,q))){case"string":return f(q);case"object":{if(null===q)return"null";if(-1!==k.indexOf(q))return c;let a="",b=",",d=o;if(Array.isArray(q)){if(0===q.length)return"[]";if(s<k.length+1)return'"[Array]"';k.push(q),""!==m&&(o+=m,a+=`
${o}`,b=`,
${o}`);let c=Math.min(q.length,t),e=0;for(;e<c-1;e++){let c=u(String(e),q,k,l,m,o);a+=void 0!==c?c:"null",a+=b}let f=u(String(e),q,k,l,m,o);if(a+=void 0!==f?f:"null",q.length-1>t){let c=q.length-t-1;a+=`${b}"... ${p(c)} not stringified"`}return""!==m&&(a+=`
${d}`),k.pop(),`[${a}]`}let j=Object.keys(q),r=j.length;if(0===r)return"{}";if(s<k.length+1)return'"[Object]"';let v="",w="";""!==m&&(o+=m,b=`,
${o}`,v=" ");let x=Math.min(r,t);e&&!i(q)&&(j=g(j,h)),k.push(q);for(let c=0;c<x;c++){let d=j[c],e=u(d,q,k,l,m,o);void 0!==e&&(a+=`${w}${f(d)}:${v}${e}`,w=b)}if(r>t){let c=r-t;a+=`${w}"...":${v}"${p(c)} not stringified"`,w=b}return""!==m&&w.length>1&&(a=`
${o}${a}
${d}`),k.pop(),`{${a}}`}case"number":return isFinite(q)?String(q):b?b(q):"null";case"boolean":return!0===q?"true":"false";case"undefined":return;case"bigint":if(d)return String(q);default:return b?b(q):void 0}}function v(a,e,g,h,i,j){switch("object"==typeof e&&null!==e&&"function"==typeof e.toJSON&&(e=e.toJSON(a)),typeof e){case"string":return f(e);case"object":{if(null===e)return"null";if(-1!==g.indexOf(e))return c;let a=j,b="",d=",";if(Array.isArray(e)){if(0===e.length)return"[]";if(s<g.length+1)return'"[Array]"';g.push(e),""!==i&&(j+=i,b+=`
${j}`,d=`,
${j}`);let c=Math.min(e.length,t),f=0;for(;f<c-1;f++){let a=v(String(f),e[f],g,h,i,j);b+=void 0!==a?a:"null",b+=d}let k=v(String(f),e[f],g,h,i,j);if(b+=void 0!==k?k:"null",e.length-1>t){let a=e.length-t-1;b+=`${d}"... ${p(a)} not stringified"`}return""!==i&&(b+=`
${a}`),g.pop(),`[${b}]`}g.push(e);let k="";""!==i&&(j+=i,d=`,
${j}`,k=" ");let l="";for(let a of h){let c=v(a,e[a],g,h,i,j);void 0!==c&&(b+=`${l}${f(a)}:${k}${c}`,l=d)}return""!==i&&l.length>1&&(b=`
${j}${b}
${a}`),g.pop(),`{${b}}`}case"number":return isFinite(e)?String(e):b?b(e):"null";case"boolean":return!0===e?"true":"false";case"undefined":return;case"bigint":if(d)return String(e);default:return b?b(e):void 0}}function w(a,k,l,m,o){switch(typeof k){case"string":return f(k);case"object":{if(null===k)return"null";if("function"==typeof k.toJSON){if("object"!=typeof(k=k.toJSON(a)))return w(a,k,l,m,o);if(null===k)return"null"}if(-1!==l.indexOf(k))return c;let b=o;if(Array.isArray(k)){if(0===k.length)return"[]";if(s<l.length+1)return'"[Array]"';l.push(k),o+=m;let a=`
${o}`,c=`,
${o}`,d=Math.min(k.length,t),e=0;for(;e<d-1;e++){let b=w(String(e),k[e],l,m,o);a+=void 0!==b?b:"null",a+=c}let f=w(String(e),k[e],l,m,o);if(a+=void 0!==f?f:"null",k.length-1>t){let b=k.length-t-1;a+=`${c}"... ${p(b)} not stringified"`}return a+=`
${b}`,l.pop(),`[${a}]`}let d=Object.keys(k),q=d.length;if(0===q)return"{}";if(s<l.length+1)return'"[Object]"';o+=m;let r=`,
${o}`,u="",v="",x=Math.min(q,t);i(k)&&(u+=j(k,r,t),d=d.slice(k.length),x-=k.length,v=r),e&&(d=g(d,h)),l.push(k);for(let a=0;a<x;a++){let b=d[a],c=w(b,k[b],l,m,o);void 0!==c&&(u+=`${v}${f(b)}: ${c}`,v=r)}if(q>t){let a=q-t;u+=`${v}"...": "${p(a)} not stringified"`,v=r}return""!==v&&(u=`
${o}${u}
${b}`),l.pop(),`{${u}}`}case"number":return isFinite(k)?String(k):b?b(k):"null";case"boolean":return!0===k?"true":"false";case"undefined":return;case"bigint":if(d)return String(k);default:return b?b(k):void 0}}function x(a,k,l){switch(typeof k){case"string":return f(k);case"object":{if(null===k)return"null";if("function"==typeof k.toJSON){if("object"!=typeof(k=k.toJSON(a)))return x(a,k,l);if(null===k)return"null"}if(-1!==l.indexOf(k))return c;let b="",d=void 0!==k.length;if(d&&Array.isArray(k)){if(0===k.length)return"[]";if(s<l.length+1)return'"[Array]"';l.push(k);let a=Math.min(k.length,t),c=0;for(;c<a-1;c++){let a=x(String(c),k[c],l);b+=void 0!==a?a:"null",b+=","}let d=x(String(c),k[c],l);if(b+=void 0!==d?d:"null",k.length-1>t){let a=k.length-t-1;b+=`,"... ${p(a)} not stringified"`}return l.pop(),`[${b}]`}let m=Object.keys(k),o=m.length;if(0===o)return"{}";if(s<l.length+1)return'"[Object]"';let q="",r=Math.min(o,t);d&&i(k)&&(b+=j(k,",",t),m=m.slice(k.length),r-=k.length,q=","),e&&(m=g(m,h)),l.push(k);for(let a=0;a<r;a++){let c=m[a],d=x(c,k[c],l);void 0!==d&&(b+=`${q}${f(c)}:${d}`,q=",")}if(o>t){let a=o-t;b+=`${q}"...":"${p(a)} not stringified"`}return l.pop(),`{${b}}`}case"number":return isFinite(k)?String(k):b?b(k):"null";case"boolean":return!0===k?"true":"false";case"undefined":return;case"bigint":if(d)return String(k);default:return b?b(k):void 0}}return function(a,b,c){if(arguments.length>1){let d="";if("number"==typeof c?d=" ".repeat(Math.min(c,10)):"string"==typeof c&&(d=c.slice(0,10)),null!=b){if("function"==typeof b)return u("",{"":a},[],b,d,"");if(Array.isArray(b))return v("",a,[],q(b),d,"")}if(0!==d.length)return w("",a,[],d,"")}return x("",a,[])}}},9895:(a,b,c)=>{"use strict";c.d(b,{ou:()=>d});let d=(a,b)=>{for(let c of(a=a.toLowerCase(),Object.keys(b)))if(a===c.toLowerCase())return!0;return!1}},9896:(a,b,c)=>{"use strict";c.d(b,{S:()=>i});var d=c(25083),e=c(24325),f=c(51114),g=c(71292);let h=async({collectionSlug:a,errors:b,join:c,joinsQuery:e,overrideAccess:h,promises:i,req:j})=>{let{joinPath:k}=c;if(!1===e[k])return;let l=j.payload.collections[a].config,m=!!h||await (0,d.m)({disableErrors:!0,req:j},l.access.read);if(!1===m){e[k]=!1;return}e[k]||(e[k]={});let o=e[k];o.where||(o.where={}),c.field.where&&(o.where=(0,f.m)(o.where,c.field.where)),i.push((0,g.d)({collectionConfig:l,errors:b,overrideAccess:h,polymorphicJoin:Array.isArray(c.field.collection),req:j,where:o.where})),"object"==typeof m&&(o.where=(0,f.m)(o.where,m))},i=async({collectionConfig:a,joins:b,overrideAccess:c,req:d})=>{if(!1===b)return!1;b||(b={});let f=[],g=[];for(let e in a.joins)for(let i of a.joins[e])await h({collectionSlug:e,errors:f,join:i,joinsQuery:b,overrideAccess:c,promises:g,req:d});for(let e of a.polymorphicJoins)for(let a of e.field.collection)await h({collectionSlug:a,errors:f,join:e,joinsQuery:b,overrideAccess:c,promises:g,req:d});if(await Promise.all(g),f.length>0)throw new e.l(f);return b}},9908:(a,b)=>{"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.DiscrError=void 0,function(a){a.Tag="tag",a.Mapping="mapping"}(c||(b.DiscrError=c={}))},10050:(a,b,c)=>{"use strict";c.d(b,{F:()=>f});var d=c(56998),e=c(78144);let f=async a=>{let b={user:null};if(!a.payload.authStrategies?.length)return b;for(let c of a.payload.authStrategies){a.strategyName=c.name,a.isGraphQL=!!a.isGraphQL,a.canSetHeaders=!!a.canSetHeaders;try{let d=await c.authenticate(a);d.responseHeaders&&(d.responseHeaders=(0,e.l)(b.responseHeaders||new Headers,d.responseHeaders||new Headers)),b=d}catch(b){(0,d.v)({err:b,payload:a.payload})}if(b.user)break}return b}},10103:(a,b,c)=>{"use strict";let d=c(94735),e=c(55591),f=c(81630),g=c(91645),h=c(34631),{randomBytes:i,createHash:j}=c(55511),{Duplex:k,Readable:l}=c(27910),{URL:m}=c(79551),o=c(49942),p=c(70039),q=c(13803),{isBlob:r}=c(15345),{BINARY_TYPES:s,EMPTY_BUFFER:t,GUID:u,kForOnEventAttribute:v,kListener:w,kStatusCode:x,kWebSocket:y,NOOP:z}=c(99753),{EventTarget:{addEventListener:A,removeEventListener:B}}=c(32288),{format:C,parse:D}=c(35441),{toBuffer:E}=c(28253),F=3e4,G=Symbol("kAborted"),H=[8,13],I=["CONNECTING","OPEN","CLOSING","CLOSED"],J=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class K extends d{constructor(a,b,c){super(),this._binaryType=s[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=t,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=K.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==a?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===b?b=[]:Array.isArray(b)||("object"==typeof b&&null!==b?(c=b,b=[]):b=[b]),L(this,a,b,c)):(this._autoPong=c.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(a){s.includes(a)&&(this._binaryType=a,this._receiver&&(this._receiver._binaryType=a))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(a,b,c){let d=new p({allowSynchronousEvents:c.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:c.maxPayload,skipUTF8Validation:c.skipUTF8Validation}),e=new q(a,this._extensions,c.generateMask);this._receiver=d,this._sender=e,this._socket=a,d[y]=this,e[y]=this,a[y]=this,d.on("conclude",R),d.on("drain",S),d.on("error",T),d.on("message",V),d.on("ping",W),d.on("pong",X),e.onerror=Z,a.setTimeout&&a.setTimeout(0),a.setNoDelay&&a.setNoDelay(),b.length>0&&a.unshift(b),a.on("close",_),a.on("data",aa),a.on("end",ab),a.on("error",ac),this._readyState=K.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=K.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[o.extensionName]&&this._extensions[o.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=K.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(a,b){if(this.readyState!==K.CLOSED){if(this.readyState===K.CONNECTING){let a="WebSocket was closed before the connection was established";P(this,this._req,a);return}if(this.readyState===K.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=K.CLOSING,this._sender.close(a,b,!this._isServer,a=>{!a&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),$(this)}}pause(){this.readyState!==K.CONNECTING&&this.readyState!==K.CLOSED&&(this._paused=!0,this._socket.pause())}ping(a,b,c){if(this.readyState===K.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof a?(c=a,a=b=void 0):"function"==typeof b&&(c=b,b=void 0),"number"==typeof a&&(a=a.toString()),this.readyState!==K.OPEN)return void Q(this,a,c);void 0===b&&(b=!this._isServer),this._sender.ping(a||t,b,c)}pong(a,b,c){if(this.readyState===K.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof a?(c=a,a=b=void 0):"function"==typeof b&&(c=b,b=void 0),"number"==typeof a&&(a=a.toString()),this.readyState!==K.OPEN)return void Q(this,a,c);void 0===b&&(b=!this._isServer),this._sender.pong(a||t,b,c)}resume(){this.readyState!==K.CONNECTING&&this.readyState!==K.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(a,b,c){if(this.readyState===K.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof b&&(c=b,b={}),"number"==typeof a&&(a=a.toString()),this.readyState!==K.OPEN)return void Q(this,a,c);let d={binary:"string"!=typeof a,mask:!this._isServer,compress:!0,fin:!0,...b};this._extensions[o.extensionName]||(d.compress=!1),this._sender.send(a||t,d,c)}terminate(){if(this.readyState!==K.CLOSED){if(this.readyState===K.CONNECTING){let a="WebSocket was closed before the connection was established";P(this,this._req,a);return}this._socket&&(this._readyState=K.CLOSING,this._socket.destroy())}}}function L(a,b,c,d){let g,h,k,l,p={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:H[1],maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...d,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(a._autoPong=p.autoPong,!H.includes(p.protocolVersion))throw RangeError(`Unsupported protocol version: ${p.protocolVersion} (supported versions: ${H.join(", ")})`);if(b instanceof m)g=b;else try{g=new m(b)}catch(a){throw SyntaxError(`Invalid URL: ${b}`)}"http:"===g.protocol?g.protocol="ws:":"https:"===g.protocol&&(g.protocol="wss:"),a._url=g.href;let q="wss:"===g.protocol,r="ws+unix:"===g.protocol;if("ws:"===g.protocol||q||r?r&&!g.pathname?h="The URL's pathname is empty":g.hash&&(h="The URL contains a fragment identifier"):h='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"',h){let b=SyntaxError(h);if(0!==a._redirects)return void M(a,b);throw b}let s=q?443:80,t=i(16).toString("base64"),v=q?e.request:f.request,w=new Set;if(p.createConnection=p.createConnection||(q?O:N),p.defaultPort=p.defaultPort||s,p.port=g.port||s,p.host=g.hostname.startsWith("[")?g.hostname.slice(1,-1):g.hostname,p.headers={...p.headers,"Sec-WebSocket-Version":p.protocolVersion,"Sec-WebSocket-Key":t,Connection:"Upgrade",Upgrade:"websocket"},p.path=g.pathname+g.search,p.timeout=p.handshakeTimeout,p.perMessageDeflate&&(k=new o(!0!==p.perMessageDeflate?p.perMessageDeflate:{},!1,p.maxPayload),p.headers["Sec-WebSocket-Extensions"]=C({[o.extensionName]:k.offer()})),c.length){for(let a of c){if("string"!=typeof a||!J.test(a)||w.has(a))throw SyntaxError("An invalid or duplicated subprotocol was specified");w.add(a)}p.headers["Sec-WebSocket-Protocol"]=c.join(",")}if(p.origin&&(p.protocolVersion<13?p.headers["Sec-WebSocket-Origin"]=p.origin:p.headers.Origin=p.origin),(g.username||g.password)&&(p.auth=`${g.username}:${g.password}`),r){let a=p.path.split(":");p.socketPath=a[0],p.path=a[1]}if(p.followRedirects){if(0===a._redirects){a._originalIpc=r,a._originalSecure=q,a._originalHostOrSocketPath=r?p.socketPath:g.host;let b=d&&d.headers;if(d={...d,headers:{}},b)for(let[a,c]of Object.entries(b))d.headers[a.toLowerCase()]=c}else if(0===a.listenerCount("redirect")){let b=r?!!a._originalIpc&&p.socketPath===a._originalHostOrSocketPath:!a._originalIpc&&g.host===a._originalHostOrSocketPath;b&&(!a._originalSecure||q)||(delete p.headers.authorization,delete p.headers.cookie,b||delete p.headers.host,p.auth=void 0)}p.auth&&!d.headers.authorization&&(d.headers.authorization="Basic "+Buffer.from(p.auth).toString("base64")),l=a._req=v(p),a._redirects&&a.emit("redirect",a.url,l)}else l=a._req=v(p);p.timeout&&l.on("timeout",()=>{P(a,l,"Opening handshake has timed out")}),l.on("error",b=>{null===l||l[G]||(l=a._req=null,M(a,b))}),l.on("response",e=>{let f=e.headers.location,g=e.statusCode;if(f&&p.followRedirects&&g>=300&&g<400){let e;if(++a._redirects>p.maxRedirects)return void P(a,l,"Maximum redirects exceeded");l.abort();try{e=new m(f,b)}catch(b){M(a,SyntaxError(`Invalid URL: ${f}`));return}L(a,e,c,d)}else a.emit("unexpected-response",l,e)||P(a,l,`Unexpected server response: ${e.statusCode}`)}),l.on("upgrade",(b,c,d)=>{let e;if(a.emit("upgrade",b),a.readyState!==K.CONNECTING)return;l=a._req=null;let f=b.headers.upgrade;if(void 0===f||"websocket"!==f.toLowerCase())return void P(a,c,"Invalid Upgrade header");let g=j("sha1").update(t+u).digest("base64");if(b.headers["sec-websocket-accept"]!==g)return void P(a,c,"Invalid Sec-WebSocket-Accept header");let h=b.headers["sec-websocket-protocol"];if(void 0!==h?w.size?w.has(h)||(e="Server sent an invalid subprotocol"):e="Server sent a subprotocol but none was requested":w.size&&(e="Server sent no subprotocol"),e)return void P(a,c,e);h&&(a._protocol=h);let i=b.headers["sec-websocket-extensions"];if(void 0!==i){let b;if(!k)return void P(a,c,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");try{b=D(i)}catch(b){P(a,c,"Invalid Sec-WebSocket-Extensions header");return}let d=Object.keys(b);if(1!==d.length||d[0]!==o.extensionName)return void P(a,c,"Server indicated an extension that was not requested");try{k.accept(b[o.extensionName])}catch(b){P(a,c,"Invalid Sec-WebSocket-Extensions header");return}a._extensions[o.extensionName]=k}a.setSocket(c,d,{allowSynchronousEvents:p.allowSynchronousEvents,generateMask:p.generateMask,maxPayload:p.maxPayload,skipUTF8Validation:p.skipUTF8Validation})}),p.finishRequest?p.finishRequest(l,a):l.end()}function M(a,b){a._readyState=K.CLOSING,a._errorEmitted=!0,a.emit("error",b),a.emitClose()}function N(a){return a.path=a.socketPath,g.connect(a)}function O(a){return a.path=void 0,a.servername||""===a.servername||(a.servername=g.isIP(a.host)?"":a.host),h.connect(a)}function P(a,b,c){a._readyState=K.CLOSING;let d=Error(c);Error.captureStackTrace(d,P),b.setHeader?(b[G]=!0,b.abort(),b.socket&&!b.socket.destroyed&&b.socket.destroy(),process.nextTick(M,a,d)):(b.destroy(d),b.once("error",a.emit.bind(a,"error")),b.once("close",a.emitClose.bind(a)))}function Q(a,b,c){if(b){let c=r(b)?b.size:E(b).length;a._socket?a._sender._bufferedBytes+=c:a._bufferedAmount+=c}if(c){let b=Error(`WebSocket is not open: readyState ${a.readyState} (${I[a.readyState]})`);process.nextTick(c,b)}}function R(a,b){let c=this[y];c._closeFrameReceived=!0,c._closeMessage=b,c._closeCode=a,void 0!==c._socket[y]&&(c._socket.removeListener("data",aa),process.nextTick(Y,c._socket),1005===a?c.close():c.close(a,b))}function S(){let a=this[y];a.isPaused||a._socket.resume()}function T(a){let b=this[y];void 0!==b._socket[y]&&(b._socket.removeListener("data",aa),process.nextTick(Y,b._socket),b.close(a[x])),b._errorEmitted||(b._errorEmitted=!0,b.emit("error",a))}function U(){this[y].emitClose()}function V(a,b){this[y].emit("message",a,b)}function W(a){let b=this[y];b._autoPong&&b.pong(a,!this._isServer,z),b.emit("ping",a)}function X(a){this[y].emit("pong",a)}function Y(a){a.resume()}function Z(a){let b=this[y];b.readyState!==K.CLOSED&&(b.readyState===K.OPEN&&(b._readyState=K.CLOSING,$(b)),this._socket.end(),b._errorEmitted||(b._errorEmitted=!0,b.emit("error",a)))}function $(a){a._closeTimer=setTimeout(a._socket.destroy.bind(a._socket),F)}function _(){let a,b=this[y];this.removeListener("close",_),this.removeListener("data",aa),this.removeListener("end",ab),b._readyState=K.CLOSING,this._readableState.endEmitted||b._closeFrameReceived||b._receiver._writableState.errorEmitted||null===(a=b._socket.read())||b._receiver.write(a),b._receiver.end(),this[y]=void 0,clearTimeout(b._closeTimer),b._receiver._writableState.finished||b._receiver._writableState.errorEmitted?b.emitClose():(b._receiver.on("error",U),b._receiver.on("finish",U))}function aa(a){this[y]._receiver.write(a)||this.pause()}function ab(){let a=this[y];a._readyState=K.CLOSING,a._receiver.end(),this.end()}function ac(){let a=this[y];this.removeListener("error",ac),this.on("error",z),a&&(a._readyState=K.CLOSING,this.destroy())}Object.defineProperty(K,"CONNECTING",{enumerable:!0,value:I.indexOf("CONNECTING")}),Object.defineProperty(K.prototype,"CONNECTING",{enumerable:!0,value:I.indexOf("CONNECTING")}),Object.defineProperty(K,"OPEN",{enumerable:!0,value:I.indexOf("OPEN")}),Object.defineProperty(K.prototype,"OPEN",{enumerable:!0,value:I.indexOf("OPEN")}),Object.defineProperty(K,"CLOSING",{enumerable:!0,value:I.indexOf("CLOSING")}),Object.defineProperty(K.prototype,"CLOSING",{enumerable:!0,value:I.indexOf("CLOSING")}),Object.defineProperty(K,"CLOSED",{enumerable:!0,value:I.indexOf("CLOSED")}),Object.defineProperty(K.prototype,"CLOSED",{enumerable:!0,value:I.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(a=>{Object.defineProperty(K.prototype,a,{enumerable:!0})}),["open","error","close","message"].forEach(a=>{Object.defineProperty(K.prototype,`on${a}`,{enumerable:!0,get(){for(let b of this.listeners(a))if(b[v])return b[w];return null},set(b){for(let b of this.listeners(a))if(b[v]){this.removeListener(a,b);break}"function"==typeof b&&this.addEventListener(a,b,{[v]:!0})}})}),K.prototype.addEventListener=A,K.prototype.removeEventListener=B,a.exports=K},10124:(a,b,c)=>{"use strict";let d=c(40639);class e extends d{constructor(a={}){super(a)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(a){this.date.setMilliseconds(parseInt(a.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}a.exports=e},10676:(a,b,c)=>{"use strict";c.d(b,{z:()=>g});var d=c(27910);async function e(a,b){let c=0,d=[],e=a.getReader(),f=!1;for(;!f;){let{done:a,value:g}=await e.read();if(g&&(d.push(g),c+=g?.byteLength??0),c>=b)break;f=a}e.releaseLock();let g=new Uint8Array(Math.min(b,c)),h=0;for(let a of d){if(a.byteLength>g.byteLength-h){g.set(a.subarray(0,g.byteLength-h),h);break}g.set(a,h),h+=a.length}return g}var f=c(8731);let g=(a,b)=>(0,f.H)(a)?e(a,b):new Promise((c,d)=>{let e=new h;e.limit=b,a.pipe(e),a.on("error",a=>{e.end(),d(a)}),e.on("error",d),e.on("finish",function(){c(new Uint8Array(Buffer.concat(this.buffers)))})});class h extends d.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(a,b,c){if(this.buffers.push(a),this.bytesBuffered+=a.byteLength??0,this.bytesBuffered>=this.limit){let a=this.bytesBuffered-this.limit,b=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=b.subarray(0,b.byteLength-a),this.emit("finish")}c()}}},10741:(a,b,c)=>{"use strict";let{isColorSupported:d}=c(2494),e=c(86055),{Transform:f}=c(27910),g=c(79875),h=c(74377),{ERROR_LIKE_KEYS:i,LEVEL_KEY:j,LEVEL_LABEL:k,MESSAGE_KEY:l,TIMESTAMP_KEY:m}=c(3612),{buildSafeSonicBoom:o,parseFactoryOptions:p}=c(93507),q=c(42349),r={colorize:d,colorizeObjects:!0,crlf:!1,customColors:null,customLevels:null,customPrettifiers:{},errorLikeObjectKeys:i,errorProps:"",hideObject:!1,ignore:"hostname",include:void 0,levelFirst:!1,levelKey:j,levelLabel:k,messageFormat:null,messageKey:l,minimumLevel:void 0,outputStream:process.stdout,singleLine:!1,timestampKey:m,translateTime:!0,useOnlyCustomProps:!0};function s(a){let b=p(Object.assign({},r,a));return q.bind({...b,context:b})}function t(a={}){let b,c=s(a);return g(function(d){d.on("message",function b(e){e&&"PINO_CONFIG"===e.code&&(Object.assign(a,{messageKey:e.config.messageKey,errorLikeObjectKeys:Array.from(new Set([...a.errorLikeObjectKeys||i,e.config.errorKey])),customLevels:e.config.levels.values}),c=s(a),d.off("message",b))});let g=new f({objectMode:!0,autoDestroy:!0,transform(a,b,d){d(null,c(a))}});return b="object"==typeof a.destination&&"function"==typeof a.destination.write?a.destination:o({dest:a.destination||1,append:a.append,mkdir:a.mkdir,sync:a.sync}),d.on("unknown",function(a){b.write(a+"\n")}),e(d,g,b),g},{parse:"lines",close(a,c){b.on("close",()=>{c(a)})}})}a.exports=t,a.exports.build=t,a.exports.PinoPretty=t,a.exports.prettyFactory=s,a.exports.colorizerFactory=h,a.exports.isColorSupported=d,a.exports.default=t},10822:(a,b,c)=>{"use strict";c.r(b),c.d(b,{AwsCrc32:()=>f,Crc32:()=>h,crc32:()=>g});var d=c(92913),e=c(83572),f=function(){function a(){this.crc32=new h}return a.prototype.update=function(a){(0,e.isEmptyData)(a)||this.crc32.update((0,e.convertToBuffer)(a))},a.prototype.digest=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(a){return[2,(0,e.numToUint8)(this.crc32.digest())]})})},a.prototype.reset=function(){this.crc32=new h},a}();function g(a){return new h().update(a).digest()}var h=function(){function a(){this.checksum=0xffffffff}return a.prototype.update=function(a){var b,c;try{for(var e=(0,d.__values)(a),f=e.next();!f.done;f=e.next()){var g=f.value;this.checksum=this.checksum>>>8^j[(this.checksum^g)&255]}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return this},a.prototype.digest=function(){return(0xffffffff^this.checksum)>>>0},a}(),i=[0,0x77073096,0xee0e612c,0x990951ba,0x76dc419,0x706af48f,0xe963a535,0x9e6495a3,0xedb8832,0x79dcb8a4,0xe0d5e91e,0x97d2d988,0x9b64c2b,0x7eb17cbd,0xe7b82d07,0x90bf1d91,0x1db71064,0x6ab020f2,0xf3b97148,0x84be41de,0x1adad47d,0x6ddde4eb,0xf4d4b551,0x83d385c7,0x136c9856,0x646ba8c0,0xfd62f97a,0x8a65c9ec,0x14015c4f,0x63066cd9,0xfa0f3d63,0x8d080df5,0x3b6e20c8,0x4c69105e,0xd56041e4,0xa2677172,0x3c03e4d1,0x4b04d447,0xd20d85fd,0xa50ab56b,0x35b5a8fa,0x42b2986c,0xdbbbc9d6,0xacbcf940,0x32d86ce3,0x45df5c75,0xdcd60dcf,0xabd13d59,0x26d930ac,0x51de003a,0xc8d75180,0xbfd06116,0x21b4f4b5,0x56b3c423,0xcfba9599,0xb8bda50f,0x2802b89e,0x5f058808,0xc60cd9b2,0xb10be924,0x2f6f7c87,0x58684c11,0xc1611dab,0xb6662d3d,0x76dc4190,0x1db7106,0x98d220bc,0xefd5102a,0x71b18589,0x6b6b51f,0x9fbfe4a5,0xe8b8d433,0x7807c9a2,0xf00f934,0x9609a88e,0xe10e9818,0x7f6a0dbb,0x86d3d2d,0x91646c97,0xe6635c01,0x6b6b51f4,0x1c6c6162,0x856530d8,0xf262004e,0x6c0695ed,0x1b01a57b,0x8208f4c1,0xf50fc457,0x65b0d9c6,0x12b7e950,0x8bbeb8ea,0xfcb9887c,0x62dd1ddf,0x15da2d49,0x8cd37cf3,0xfbd44c65,0x4db26158,0x3ab551ce,0xa3bc0074,0xd4bb30e2,0x4adfa541,0x3dd895d7,0xa4d1c46d,0xd3d6f4fb,0x4369e96a,0x346ed9fc,0xad678846,0xda60b8d0,0x44042d73,0x33031de5,0xaa0a4c5f,0xdd0d7cc9,0x5005713c,0x270241aa,0xbe0b1010,0xc90c2086,0x5768b525,0x206f85b3,0xb966d409,0xce61e49f,0x5edef90e,0x29d9c998,0xb0d09822,0xc7d7a8b4,0x59b33d17,0x2eb40d81,0xb7bd5c3b,0xc0ba6cad,0xedb88320,0x9abfb3b6,0x3b6e20c,0x74b1d29a,0xead54739,0x9dd277af,0x4db2615,0x73dc1683,0xe3630b12,0x94643b84,0xd6d6a3e,0x7a6a5aa8,0xe40ecf0b,0x9309ff9d,0xa00ae27,0x7d079eb1,0xf00f9344,0x8708a3d2,0x1e01f268,0x6906c2fe,0xf762575d,0x806567cb,0x196c3671,0x6e6b06e7,0xfed41b76,0x89d32be0,0x10da7a5a,0x67dd4acc,0xf9b9df6f,0x8ebeeff9,0x17b7be43,0x60b08ed5,0xd6d6a3e8,0xa1d1937e,0x38d8c2c4,0x4fdff252,0xd1bb67f1,0xa6bc5767,0x3fb506dd,0x48b2364b,0xd80d2bda,0xaf0a1b4c,0x36034af6,0x41047a60,0xdf60efc3,0xa867df55,0x316e8eef,0x4669be79,0xcb61b38c,0xbc66831a,0x256fd2a0,0x5268e236,0xcc0c7795,0xbb0b4703,0x220216b9,0x5505262f,0xc5ba3bbe,0xb2bd0b28,0x2bb45a92,0x5cb36a04,0xc2d7ffa7,0xb5d0cf31,0x2cd99e8b,0x5bdeae1d,0x9b64c2b0,0xec63f226,0x756aa39c,0x26d930a,0x9c0906a9,0xeb0e363f,0x72076785,0x5005713,0x95bf4a82,0xe2b87a14,0x7bb12bae,0xcb61b38,0x92d28e9b,0xe5d5be0d,0x7cdcefb7,0xbdbdf21,0x86d3d2d4,0xf1d4e242,0x68ddb3f8,0x1fda836e,0x81be16cd,0xf6b9265b,0x6fb077e1,0x18b74777,0x88085ae6,0xff0f6a70,0x66063bca,0x11010b5c,0x8f659eff,0xf862ae69,0x616bffd3,0x166ccf45,0xa00ae278,0xd70dd2ee,0x4e048354,0x3903b3c2,0xa7672661,0xd06016f7,0x4969474d,0x3e6e77db,0xaed16a4a,0xd9d65adc,0x40df0b66,936918e3,0xa9bcae53,0xdebb9ec5,0x47b2cf7f,0x30b5ffe9,0xbdbdf21c,0xcabac28a,0x53b39330,0x24b4a3a6,0xbad03605,0xcdd70693,0x54de5729,0x23d967bf,0xb3667a2e,0xc4614ab8,0x5d681b02,0x2a6f2b94,0xb40bbe37,0xc30c8ea1,0x5a05df1b,0x2d02ef8d],j=(0,e.uint32ArrayFrom)(i)},10931:(a,b,c)=>{"use strict";let d,e,f,g;c.d(b,{u:()=>Aj});var h,i,j,k,l=c(32954),m=c(70359),o=c(70764),p=c(68702);let q=a=>Object.assign(a,{useFipsEndpoint:a.useFipsEndpoint??!1,useDualstackEndpoint:a.useDualstackEndpoint??!1,forcePathStyle:a.forcePathStyle??!1,useAccelerateEndpoint:a.useAccelerateEndpoint??!1,useGlobalEndpoint:a.useGlobalEndpoint??!1,disableMultiregionAccessPoints:a.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),r={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var s=c(14355),t=c(69183),u=c(79464),v=c(97520),w=c(2459);class x extends l.ServiceException{constructor(a){super(a),Object.setPrototypeOf(this,x.prototype)}}class y extends x{name="NoSuchUpload";$fault="client";constructor(a){super({name:"NoSuchUpload",$fault:"client",...a}),Object.setPrototypeOf(this,y.prototype)}}let z={CRC32:"CRC32"};class A extends x{name="ObjectNotInActiveTierError";$fault="client";constructor(a){super({name:"ObjectNotInActiveTierError",$fault:"client",...a}),Object.setPrototypeOf(this,A.prototype)}}class B extends x{name="BucketAlreadyExists";$fault="client";constructor(a){super({name:"BucketAlreadyExists",$fault:"client",...a}),Object.setPrototypeOf(this,B.prototype)}}class C extends x{name="BucketAlreadyOwnedByYou";$fault="client";constructor(a){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...a}),Object.setPrototypeOf(this,C.prototype)}}class D extends x{name="NoSuchBucket";$fault="client";constructor(a){super({name:"NoSuchBucket",$fault:"client",...a}),Object.setPrototypeOf(this,D.prototype)}}!function(a){a.visit=(a,b)=>void 0!==a.Prefix?b.Prefix(a.Prefix):void 0!==a.Tag?b.Tag(a.Tag):void 0!==a.And?b.And(a.And):b._(a.$unknown[0],a.$unknown[1])}(h||(h={})),function(a){a.visit=(a,b)=>void 0!==a.Prefix?b.Prefix(a.Prefix):void 0!==a.Tag?b.Tag(a.Tag):void 0!==a.AccessPointArn?b.AccessPointArn(a.AccessPointArn):void 0!==a.And?b.And(a.And):b._(a.$unknown[0],a.$unknown[1])}(i||(i={}));class E extends x{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(a){super({name:"InvalidObjectState",$fault:"client",...a}),Object.setPrototypeOf(this,E.prototype),this.StorageClass=a.StorageClass,this.AccessTier=a.AccessTier}}class F extends x{name="NoSuchKey";$fault="client";constructor(a){super({name:"NoSuchKey",$fault:"client",...a}),Object.setPrototypeOf(this,F.prototype)}}class G extends x{name="NotFound";$fault="client";constructor(a){super({name:"NotFound",$fault:"client",...a}),Object.setPrototypeOf(this,G.prototype)}}let H=a=>({...a,...a.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING}}),I=a=>({...a,...a.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING}}),J=a=>({...a,...a.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...a.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING}}),K=a=>({...a,...a.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING},...a.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...a.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING},...a.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:l.SENSITIVE_STRING}}),L=a=>({...a,...a.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...a.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING}}),M=a=>({...a,...a.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING},...a.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...a.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING}}),N=a=>({...a,...a.SecretAccessKey&&{SecretAccessKey:l.SENSITIVE_STRING},...a.SessionToken&&{SessionToken:l.SENSITIVE_STRING}}),O=a=>({...a,...a.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...a.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING},...a.Credentials&&{Credentials:N(a.Credentials)}}),P=a=>({...a,...a.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...a.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING}}),Q=a=>({...a,...a.KMSMasterKeyID&&{KMSMasterKeyID:l.SENSITIVE_STRING}}),R=a=>({...a,...a.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:Q(a.ApplyServerSideEncryptionByDefault)}}),S=a=>({...a,...a.Rules&&{Rules:a.Rules.map(a=>R(a))}}),T=a=>({...a,...a.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:S(a.ServerSideEncryptionConfiguration)}}),U=a=>({...a,...a.KeyId&&{KeyId:l.SENSITIVE_STRING}}),V=a=>({...a,...a.SSEKMS&&{SSEKMS:U(a.SSEKMS)}}),W=a=>({...a,...a.Encryption&&{Encryption:V(a.Encryption)}}),X=a=>({...a,...a.S3BucketDestination&&{S3BucketDestination:W(a.S3BucketDestination)}}),Y=a=>({...a,...a.Destination&&{Destination:X(a.Destination)}}),Z=a=>({...a,...a.InventoryConfiguration&&{InventoryConfiguration:Y(a.InventoryConfiguration)}}),$=a=>({...a,...a.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING}}),_=a=>({...a,...a.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING}}),aa=a=>({...a,...a.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING}}),ab=a=>({...a}),ac=a=>({...a,...a.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING}}),ad=a=>({...a,...a.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING}}),ae=a=>({...a,...a.InventoryConfigurationList&&{InventoryConfigurationList:a.InventoryConfigurationList.map(a=>Y(a))}});class af extends x{name="EncryptionTypeMismatch";$fault="client";constructor(a){super({name:"EncryptionTypeMismatch",$fault:"client",...a}),Object.setPrototypeOf(this,af.prototype)}}class ag extends x{name="InvalidRequest";$fault="client";constructor(a){super({name:"InvalidRequest",$fault:"client",...a}),Object.setPrototypeOf(this,ag.prototype)}}class ah extends x{name="InvalidWriteOffset";$fault="client";constructor(a){super({name:"InvalidWriteOffset",$fault:"client",...a}),Object.setPrototypeOf(this,ah.prototype)}}class ai extends x{name="TooManyParts";$fault="client";constructor(a){super({name:"TooManyParts",$fault:"client",...a}),Object.setPrototypeOf(this,ai.prototype)}}class aj extends x{name="IdempotencyParameterMismatch";$fault="client";constructor(a){super({name:"IdempotencyParameterMismatch",$fault:"client",...a}),Object.setPrototypeOf(this,aj.prototype)}}class ak extends x{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(a){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...a}),Object.setPrototypeOf(this,ak.prototype)}}!function(a){a.visit=(a,b)=>void 0!==a.Records?b.Records(a.Records):void 0!==a.Stats?b.Stats(a.Stats):void 0!==a.Progress?b.Progress(a.Progress):void 0!==a.Cont?b.Cont(a.Cont):void 0!==a.End?b.End(a.End):b._(a.$unknown[0],a.$unknown[1])}(j||(j={}));let al=a=>({...a,...a.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING}}),am=a=>({...a,...a.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:S(a.ServerSideEncryptionConfiguration)}}),an=a=>({...a,...a.InventoryConfiguration&&{InventoryConfiguration:Y(a.InventoryConfiguration)}}),ao=a=>({...a,...a.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...a.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING}}),ap=a=>({...a,...a.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING},...a.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...a.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING}}),aq=a=>({...a,...a.KMSKeyId&&{KMSKeyId:l.SENSITIVE_STRING}}),ar=a=>({...a,...a.Encryption&&{Encryption:aq(a.Encryption)}}),as=a=>({...a,...a.S3&&{S3:ar(a.S3)}}),at=a=>({...a,...a.OutputLocation&&{OutputLocation:as(a.OutputLocation)}}),au=a=>({...a,...a.RestoreRequest&&{RestoreRequest:at(a.RestoreRequest)}}),av=a=>({...a,...a.Payload&&{Payload:"STREAMING_CONTENT"}}),aw=a=>({...a,...a.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING}}),ax=a=>({...a,...a.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING}}),ay=a=>({...a,...a.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING}}),az=a=>({...a,...a.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING}}),aA=a=>({...a,...a.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING},...a.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:l.SENSITIVE_STRING}}),aB=a=>({...a,...a.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING}}),aC=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[tH]:a[oQ],[sJ]:a[kX],[tn]:[()=>(0,l.isSerializableHeaderValue)(a[l_]),()=>(0,l.dateToUtcString)(a[l_]).toString()]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[t6]:[,"AbortMultipartUpload"],[r1]:[,(0,l.expectNonNull)(a[qz],"UploadId")]});return d.m("DELETE").h(e).q(f).b(c),d.build()},aD=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[sn]:a[jQ],[so]:a[jR],[sp]:a[jS],[ss]:a[j9],[st]:a[ka],[sF]:a[ko],[tt]:[()=>(0,l.isSerializableHeaderValue)(a[ne]),()=>a[ne].toString()],[tH]:a[oQ],[sJ]:a[kX],[rc]:a[l$],[rf]:a[l3],[tY]:a[pK],[tZ]:a[pL],[t$]:a[pM]});e.bp("/{Key+}"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1),e.p("Key",()=>a.Key,"{Key+}",!0);let g=(0,l.map)({[r1]:[,(0,l.expectNonNull)(a[qz],"UploadId")]});return void 0!==a.MultipartUpload&&(d=(d=es(a.MultipartUpload,b)).n("CompleteMultipartUpload"),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("POST").h(f).q(g).b(c),e.build()},aE=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{...void 0!==a.Metadata&&Object.keys(a.Metadata).reduce((b,c)=>(b[`x-amz-meta-${c.toLowerCase()}`]=a.Metadata[c],b),{}),[sa]:a[iW],[qW]:a[jP],[sm]:a[jM],[qX]:a[jT],[qY]:a[jV],[qZ]:a[jY],[q1]:a[kq],[su]:a[j8],[sv]:a[kb],[sw]:[()=>(0,l.isSerializableHeaderValue)(a[kc]),()=>(0,l.dateToUtcString)(a[kc]).toString()],[sx]:a[kd],[sy]:[()=>(0,l.isSerializableHeaderValue)(a[ke]),()=>(0,l.dateToUtcString)(a[ke]).toString()],[q5]:[()=>(0,l.isSerializableHeaderValue)(a[kU]),()=>(0,l.dateToUtcString)(a[kU]).toString()],[ti]:a[lA],[tj]:a[lC],[tk]:a[lD],[tm]:a[lF],[tr]:a[m3],[t1]:a[qa],[tU]:a[pG],[tQ]:a[pj],[t5]:a[qN],[tY]:a[pK],[tZ]:a[pL],[t$]:a[pM],[tV]:a[pP],[tX]:a[pO],[tW]:[()=>(0,l.isSerializableHeaderValue)(a[ju]),()=>a[ju].toString()],[sB]:a[kg],[sC]:a[kh],[sD]:a[ki],[tH]:a[oQ],[t_]:a[p1],[ty]:a[nT],[tz]:[()=>(0,l.isSerializableHeaderValue)(a[nW]),()=>(0,l.serializeDateTime)(a[nW]).toString()],[tx]:a[nS],[sJ]:a[kX],[tT]:a[k7]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[t6]:[,"CopyObject"]});return d.m("PUT").h(e).q(f).b(c),d.build()},aF=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[sa]:a[iW],[ti]:a[lA],[tj]:a[lC],[tk]:a[lD],[tl]:a[lE],[tm]:a[lF],[sj]:[()=>(0,l.isSerializableHeaderValue)(a[nQ]),()=>a[nQ].toString()],[tA]:a[nY]});return e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1),void 0!==a.CreateBucketConfiguration&&(d=ez(a.CreateBucketConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).b(c),e.build()},aG=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[q_]:a[j_],[tR]:a[jM],[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[rq]:[,""]});return void 0!==a.MetadataConfiguration&&(d=fi(a.MetadataConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("POST").h(f).q(g).b(c),e.build()},aH=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[q_]:a[j_],[tR]:a[jM],[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[rt]:[,""]});return void 0!==a.MetadataTableConfiguration&&(d=fk(a.MetadataTableConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("POST").h(f).q(g).b(c),e.build()},aI=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{...void 0!==a.Metadata&&Object.keys(a.Metadata).reduce((b,c)=>(b[`x-amz-meta-${c.toLowerCase()}`]=a.Metadata[c],b),{}),[sa]:a[iW],[qW]:a[jP],[qX]:a[jT],[qY]:a[jV],[qZ]:a[jY],[q1]:a[kq],[q5]:[()=>(0,l.isSerializableHeaderValue)(a[kU]),()=>(0,l.dateToUtcString)(a[kU]).toString()],[ti]:a[lA],[tj]:a[lC],[tk]:a[lD],[tm]:a[lF],[tU]:a[pG],[tQ]:a[pj],[t5]:a[qN],[tY]:a[pK],[tZ]:a[pL],[t$]:a[pM],[tV]:a[pP],[tX]:a[pO],[tW]:[()=>(0,l.isSerializableHeaderValue)(a[ju]),()=>a[ju].toString()],[tH]:a[oQ],[t_]:a[p1],[ty]:a[nT],[tz]:[()=>(0,l.isSerializableHeaderValue)(a[nW]),()=>(0,l.serializeDateTime)(a[nW]).toString()],[tx]:a[nS],[sJ]:a[kX],[sm]:a[jM],[sF]:a[ko]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[r0]:[,""]});return d.m("POST").h(e).q(f).b(c),d.build()},aJ=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sz]:a[pz],[tU]:a[pG],[tV]:a[pP],[tX]:a[pO],[tW]:[()=>(0,l.isSerializableHeaderValue)(a[ju]),()=>a[ju].toString()]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rW]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},aK=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});return d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.m("DELETE").h(e).b(c),d.build()},aL=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[qP]:[,""],[rb]:[,(0,l.expectNonNull)(a[lL],"Id")]});return d.m("DELETE").h(e).q(f).b(c),d.build()},aM=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[qV]:[,""]});return d.m("DELETE").h(e).q(f).b(c),d.build()},aN=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[q6]:[,""]});return d.m("DELETE").h(e).q(f).b(c),d.build()},aO=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rg]:[,""],[rb]:[,(0,l.expectNonNull)(a[lL],"Id")]});return d.m("DELETE").h(e).q(f).b(c),d.build()},aP=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[re]:[,""],[rb]:[,(0,l.expectNonNull)(a[lL],"Id")]});return d.m("DELETE").h(e).q(f).b(c),d.build()},aQ=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rj]:[,""]});return d.m("DELETE").h(e).q(f).b(c),d.build()},aR=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rq]:[,""]});return d.m("DELETE").h(e).q(f).b(c),d.build()},aS=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rt]:[,""]});return d.m("DELETE").h(e).q(f).b(c),d.build()},aT=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rp]:[,""],[rb]:[,(0,l.expectNonNull)(a[lL],"Id")]});return d.m("DELETE").h(e).q(f).b(c),d.build()},aU=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rC]:[,""]});return d.m("DELETE").h(e).q(f).b(c),d.build()},aV=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rE]:[,""]});return d.m("DELETE").h(e).q(f).b(c),d.build()},aW=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rK]:[,""]});return d.m("DELETE").h(e).q(f).b(c),d.build()},aX=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[r$]:[,""]});return d.m("DELETE").h(e).q(f).b(c),d.build()},aY=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[r8]:[,""]});return d.m("DELETE").h(e).q(f).b(c),d.build()},aZ=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[tq]:a[m8],[tH]:a[oQ],[sg]:[()=>(0,l.isSerializableHeaderValue)(a[js]),()=>a[js].toString()],[sJ]:a[kX],[rc]:a[l$],[to]:[()=>(0,l.isSerializableHeaderValue)(a[l0]),()=>(0,l.dateToUtcString)(a[l0]).toString()],[tp]:[()=>(0,l.isSerializableHeaderValue)(a[l1]),()=>a[l1].toString()]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[t6]:[,"DeleteObject"],[r4]:[,a[qH]]});return d.m("DELETE").h(e).q(f).b(c),d.build()},a$=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[tq]:a[m8],[tH]:a[oQ],[sg]:[()=>(0,l.isSerializableHeaderValue)(a[js]),()=>a[js].toString()],[sJ]:a[kX],[tR]:a[jM]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[q3]:[,""]});return void 0!==a.Delete&&(d=eD(a.Delete,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("POST").h(f).q(g).b(c),e.build()},a_=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[r$]:[,""],[r4]:[,a[qH]]});return d.m("DELETE").h(e).q(f).b(c),d.build()},a0=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rF]:[,""]});return d.m("DELETE").h(e).q(f).b(c),d.build()},a1=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX],[tH]:a[oQ]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[qQ]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},a2=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[qR]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},a3=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[qP]:[,""],[t6]:[,"GetBucketAnalyticsConfiguration"],[rb]:[,(0,l.expectNonNull)(a[lL],"Id")]});return d.m("GET").h(e).q(f).b(c),d.build()},a4=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[qV]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},a5=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[q6]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},a6=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rg]:[,""],[t6]:[,"GetBucketIntelligentTieringConfiguration"],[rb]:[,(0,l.expectNonNull)(a[lL],"Id")]});return d.m("GET").h(e).q(f).b(c),d.build()},a7=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[re]:[,""],[t6]:[,"GetBucketInventoryConfiguration"],[rb]:[,(0,l.expectNonNull)(a[lL],"Id")]});return d.m("GET").h(e).q(f).b(c),d.build()},a8=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rj]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},a9=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rm]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},ba=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rn]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},bb=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rq]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},bc=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rt]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},bd=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rp]:[,""],[t6]:[,"GetBucketMetricsConfiguration"],[rb]:[,(0,l.expectNonNull)(a[lL],"Id")]});return d.m("GET").h(e).q(f).b(c),d.build()},be=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rB]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},bf=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rC]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},bg=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rE]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},bh=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rH]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},bi=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rK]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},bj=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rM]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},bk=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[r$]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},bl=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[r3]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},bm=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[r8]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},bn=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[rc]:a[l$],[rd]:[()=>(0,l.isSerializableHeaderValue)(a[l2]),()=>(0,l.dateToUtcString)(a[l2]).toString()],[rf]:a[l3],[rh]:[()=>(0,l.isSerializableHeaderValue)(a[mo]),()=>(0,l.dateToUtcString)(a[mo]).toString()],[rN]:a[ow],[tY]:a[pK],[tZ]:a[pL],[t$]:a[pM],[tH]:a[oQ],[sJ]:a[kX],[sq]:a[j$]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[t6]:[,"GetObject"],[rO]:[,a[oz]],[rP]:[,a[oA]],[rQ]:[,a[oB]],[rR]:[,a[oC]],[rS]:[,a[oD]],[rT]:[()=>void 0!==a.ResponseExpires,()=>(0,l.dateToUtcString)(a[oG]).toString()],[r4]:[,a[qH]],[rG]:[()=>void 0!==a.PartNumber,()=>a[oe].toString()]});return d.m("GET").h(e).q(f).b(c),d.build()},bo=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[tH]:a[oQ],[sJ]:a[kX]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[qR]:[,""],[r4]:[,a[qH]]});return d.m("GET").h(e).q(f).b(c),d.build()},bp=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[tu]:[()=>(0,l.isSerializableHeaderValue)(a[nf]),()=>a[nf].toString()],[tD]:a[of],[tY]:a[pK],[tZ]:a[pL],[t$]:a[pM],[tH]:a[oQ],[sJ]:a[kX],[tw]:[()=>(0,l.isSerializableHeaderValue)(a[nG]),()=>(a[nG]||[]).map(l.quoteHeader).join(", ")]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[qT]:[,""],[r4]:[,a[qH]]});return d.m("GET").h(e).q(f).b(c),d.build()},bq=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[tH]:a[oQ],[sJ]:a[kX]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[rk]:[,""],[r4]:[,a[qH]]});return d.m("GET").h(e).q(f).b(c),d.build()},br=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rD]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},bs=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[tH]:a[oQ],[sJ]:a[kX]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[rV]:[,""],[r4]:[,a[qH]]});return d.m("GET").h(e).q(f).b(c),d.build()},bt=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX],[tH]:a[oQ]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[r$]:[,""],[r4]:[,a[qH]]});return d.m("GET").h(e).q(f).b(c),d.build()},bu=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[tH]:a[oQ],[sJ]:a[kX]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[r_]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},bv=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rF]:[,""]});return d.m("GET").h(e).q(f).b(c),d.build()},bw=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});return d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.m("HEAD").h(e).b(c),d.build()},bx=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[rc]:a[l$],[rd]:[()=>(0,l.isSerializableHeaderValue)(a[l2]),()=>(0,l.dateToUtcString)(a[l2]).toString()],[rf]:a[l3],[rh]:[()=>(0,l.isSerializableHeaderValue)(a[mo]),()=>(0,l.dateToUtcString)(a[mo]).toString()],[rN]:a[ow],[tY]:a[pK],[tZ]:a[pL],[t$]:a[pM],[tH]:a[oQ],[sJ]:a[kX],[sq]:a[j$]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[rO]:[,a[oz]],[rP]:[,a[oA]],[rQ]:[,a[oB]],[rR]:[,a[oC]],[rS]:[,a[oD]],[rT]:[()=>void 0!==a.ResponseExpires,()=>(0,l.dateToUtcString)(a[oG]).toString()],[r4]:[,a[qH]],[rG]:[()=>void 0!==a.PartNumber,()=>a[oe].toString()]});return d.m("HEAD").h(e).q(f).b(c),d.build()},by=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[qP]:[,""],[t6]:[,"ListBucketAnalyticsConfigurations"],[q2]:[,a[ks]]});return d.m("GET").h(e).q(f).b(c),d.build()},bz=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rg]:[,""],[t6]:[,"ListBucketIntelligentTieringConfigurations"],[q2]:[,a[ks]]});return d.m("GET").h(e).q(f).b(c),d.build()},bA=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[re]:[,""],[t6]:[,"ListBucketInventoryConfigurations"],[q2]:[,a[ks]]});return d.m("GET").h(e).q(f).b(c),d.build()},bB=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rp]:[,""],[t6]:[,"ListBucketMetricsConfigurations"],[q2]:[,a[ks]]});return d.m("GET").h(e).q(f).b(c),d.build()},bC=async(a,b)=>{let c,d=(0,u.l)(a,b),e={};d.bp("/");let f=(0,l.map)({[t6]:[,"ListBuckets"],[rv]:[()=>void 0!==a.MaxBuckets,()=>a[m$].toString()],[q2]:[,a[ks]],[rJ]:[,a[n9]],[qU]:[,a[jF]]});return d.m("GET").h(e).q(f).b(c),d.build()},bD=async(a,b)=>{let c,d=(0,u.l)(a,b),e={};d.bp("/");let f=(0,l.map)({[t6]:[,"ListDirectoryBuckets"],[q2]:[,a[ks]],[rw]:[()=>void 0!==a.MaxDirectoryBuckets,()=>a[m4].toString()]});return d.m("GET").h(e).q(f).b(c),d.build()},bE=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX],[tH]:a[oQ]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[r0]:[,""],[q4]:[,a[ky]],[q7]:[,a[la]],[ri]:[,a[mC]],[rA]:[()=>void 0!==a.MaxUploads,()=>a[nk].toString()],[rJ]:[,a[n9]],[r2]:[,a[qA]]});return d.m("GET").h(e).q(f).b(c),d.build()},bF=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[tH]:a[oQ],[sJ]:a[kX],[tB]:[()=>(0,l.isSerializableHeaderValue)(a[nZ]),()=>(a[nZ]||[]).map(l.quoteHeader).join(", ")]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[q4]:[,a[ky]],[q7]:[,a[la]],[ru]:[,a[mX]],[ry]:[()=>void 0!==a.MaxKeys,()=>a[nb].toString()],[rJ]:[,a[n9]]});return d.m("GET").h(e).q(f).b(c),d.build()},bG=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[tH]:a[oQ],[sJ]:a[kX],[tB]:[()=>(0,l.isSerializableHeaderValue)(a[nZ]),()=>(a[nZ]||[]).map(l.quoteHeader).join(", ")]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[ro]:[,"2"],[q4]:[,a[ky]],[q7]:[,a[la]],[ry]:[()=>void 0!==a.MaxKeys,()=>a[nb].toString()],[rJ]:[,a[n9]],[q2]:[,a[ks]],[ra]:[()=>void 0!==a.FetchOwner,()=>a[lr].toString()],[rX]:[,a[pf]]});return d.m("GET").h(e).q(f).b(c),d.build()},bH=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[sJ]:a[kX],[tH]:a[oQ],[tB]:[()=>(0,l.isSerializableHeaderValue)(a[nZ]),()=>(a[nZ]||[]).map(l.quoteHeader).join(", ")]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[r6]:[,""],[q4]:[,a[ky]],[q7]:[,a[la]],[ri]:[,a[mC]],[ry]:[()=>void 0!==a.MaxKeys,()=>a[nb].toString()],[rJ]:[,a[n9]],[r7]:[,a[qI]]});return d.m("GET").h(e).q(f).b(c),d.build()},bI=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[tH]:a[oQ],[sJ]:a[kX],[tY]:a[pK],[tZ]:a[pL],[t$]:a[pM]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[t6]:[,"ListParts"],[rz]:[()=>void 0!==a.MaxParts,()=>a[nf].toString()],[rI]:[,a[of]],[r1]:[,(0,l.expectNonNull)(a[qz],"UploadId")]});return d.m("GET").h(e).q(f).b(c),d.build()},bJ=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[sJ]:a[kX],[tR]:a[jM]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[qQ]:[,""]});return void 0!==a.AccelerateConfiguration&&(d=ee(a.AccelerateConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},bK=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[sa]:a[iW],[q_]:a[j_],[tR]:a[jM],[ti]:a[lA],[tj]:a[lC],[tk]:a[lD],[tl]:a[lE],[tm]:a[lF],[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[qR]:[,""]});return void 0!==a.AccessControlPolicy&&(d=ef(a.AccessControlPolicy,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},bL=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[qP]:[,""],[rb]:[,(0,l.expectNonNull)(a[lL],"Id")]});return void 0!==a.AnalyticsConfiguration&&(d=el(a.AnalyticsConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},bM=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[q_]:a[j_],[tR]:a[jM],[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[qV]:[,""]});return void 0!==a.CORSConfiguration&&(d=ew(a.CORSConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},bN=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[q_]:a[j_],[tR]:a[jM],[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[q6]:[,""]});return void 0!==a.ServerSideEncryptionConfiguration&&(d=f6(a.ServerSideEncryptionConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},bO=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[rg]:[,""],[rb]:[,(0,l.expectNonNull)(a[lL],"Id")]});return void 0!==a.IntelligentTieringConfiguration&&(d=eW(a.IntelligentTieringConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},bP=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[re]:[,""],[rb]:[,(0,l.expectNonNull)(a[lL],"Id")]});return void 0!==a.InventoryConfiguration&&(d=eY(a.InventoryConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},bQ=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[tR]:a[jM],[sJ]:a[kX],[t2]:a[qb]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[rj]:[,""]});return void 0!==a.LifecycleConfiguration&&(d=(d=eq(a.LifecycleConfiguration,b)).n("LifecycleConfiguration"),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},bR=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[q_]:a[j_],[tR]:a[jM],[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[rn]:[,""]});return void 0!==a.BucketLoggingStatus&&(d=er(a.BucketLoggingStatus,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},bS=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[rp]:[,""],[rb]:[,(0,l.expectNonNull)(a[lL],"Id")]});return void 0!==a.MetricsConfiguration&&(d=fo(a.MetricsConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},bT=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[sJ]:a[kX],[tS]:[()=>(0,l.isSerializableHeaderValue)(a[po]),()=>a[po].toString()]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[rB]:[,""]});return void 0!==a.NotificationConfiguration&&(d=ft(a.NotificationConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},bU=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[q_]:a[j_],[sJ]:a[kX],[tR]:a[jM]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[rC]:[,""]});return void 0!==a.OwnershipControls&&(d=fE(a.OwnershipControls,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},bV=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"text/plain",[q_]:a[j_],[tR]:a[jM],[sr]:[()=>(0,l.isSerializableHeaderValue)(a[j7]),()=>a[j7].toString()],[sJ]:a[kX]});d.bp("/"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let f=(0,l.map)({[rE]:[,""]});return void 0!==a.Policy&&(c=a.Policy),d.m("PUT").h(e).q(f).b(c),d.build()},bW=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[q_]:a[j_],[tR]:a[jM],[sk]:a[qt],[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[rK]:[,""]});return void 0!==a.ReplicationConfiguration&&(d=fQ(a.ReplicationConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},bX=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[q_]:a[j_],[tR]:a[jM],[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[rM]:[,""]});return void 0!==a.RequestPaymentConfiguration&&(d=fX(a.RequestPaymentConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},bY=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[q_]:a[j_],[tR]:a[jM],[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[r$]:[,""]});return void 0!==a.Tagging&&(d=gh(a.Tagging,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},bZ=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[q_]:a[j_],[tR]:a[jM],[tq]:a[m8],[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[r3]:[,""]});return void 0!==a.VersioningConfiguration&&(d=gt(a.VersioningConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},b$=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[q_]:a[j_],[tR]:a[jM],[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[r8]:[,""]});return void 0!==a.WebsiteConfiguration&&(d=gu(a.WebsiteConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},b_=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{...void 0!==a.Metadata&&Object.keys(a.Metadata).reduce((b,c)=>(b[`x-amz-meta-${c.toLowerCase()}`]=a.Metadata[c],b),{}),[q1]:a[kq]||"application/octet-stream",[sa]:a[iW],[qW]:a[jP],[qX]:a[jT],[qY]:a[jV],[qZ]:a[jY],[q$]:[()=>(0,l.isSerializableHeaderValue)(a[jZ]),()=>a[jZ].toString()],[q_]:a[j_],[tR]:a[jM],[sn]:a[jQ],[so]:a[jR],[sp]:a[jS],[ss]:a[j9],[st]:a[ka],[q5]:[()=>(0,l.isSerializableHeaderValue)(a[kU]),()=>(0,l.dateToUtcString)(a[kU]).toString()],[rc]:a[l$],[rf]:a[l3],[ti]:a[lA],[tj]:a[lC],[tk]:a[lD],[tm]:a[lF],[t4]:[()=>(0,l.isSerializableHeaderValue)(a[qM]),()=>a[qM].toString()],[tU]:a[pG],[tQ]:a[pj],[t5]:a[qN],[tY]:a[pK],[tZ]:a[pL],[t$]:a[pM],[tV]:a[pP],[tX]:a[pO],[tW]:[()=>(0,l.isSerializableHeaderValue)(a[ju]),()=>a[ju].toString()],[tH]:a[oQ],[t_]:a[p1],[ty]:a[nT],[tz]:[()=>(0,l.isSerializableHeaderValue)(a[nW]),()=>(0,l.serializeDateTime)(a[nW]).toString()],[tx]:a[nS],[sJ]:a[kX]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[t6]:[,"PutObject"]});return void 0!==a.Body&&(c=a.Body),d.m("PUT").h(e).q(f).b(c),d.build()},b0=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[sa]:a[iW],[q_]:a[j_],[tR]:a[jM],[ti]:a[lA],[tj]:a[lC],[tk]:a[lD],[tl]:a[lE],[tm]:a[lF],[tH]:a[oQ],[sJ]:a[kX]});e.bp("/{Key+}"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1),e.p("Key",()=>a.Key,"{Key+}",!0);let g=(0,l.map)({[qR]:[,""],[r4]:[,a[qH]]});return void 0!==a.AccessControlPolicy&&(d=ef(a.AccessControlPolicy,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},b1=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[tH]:a[oQ],[q_]:a[j_],[tR]:a[jM],[sJ]:a[kX]});e.bp("/{Key+}"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1),e.p("Key",()=>a.Key,"{Key+}",!0);let g=(0,l.map)({[rk]:[,""],[r4]:[,a[qH]]});return void 0!==a.LegalHold&&(d=(d=fy(a.LegalHold,b)).n("LegalHold"),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},b2=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[tH]:a[oQ],[sk]:a[qt],[q_]:a[j_],[tR]:a[jM],[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[rD]:[,""]});return void 0!==a.ObjectLockConfiguration&&(d=fx(a.ObjectLockConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},b3=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[tH]:a[oQ],[sg]:[()=>(0,l.isSerializableHeaderValue)(a[js]),()=>a[js].toString()],[q_]:a[j_],[tR]:a[jM],[sJ]:a[kX]});e.bp("/{Key+}"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1),e.p("Key",()=>a.Key,"{Key+}",!0);let g=(0,l.map)({[rV]:[,""],[r4]:[,a[qH]]});return void 0!==a.Retention&&(d=(d=fz(a.Retention,b)).n("Retention"),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},b4=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[q_]:a[j_],[tR]:a[jM],[sJ]:a[kX],[tH]:a[oQ]});e.bp("/{Key+}"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1),e.p("Key",()=>a.Key,"{Key+}",!0);let g=(0,l.map)({[r$]:[,""],[r4]:[,a[qH]]});return void 0!==a.Tagging&&(d=gh(a.Tagging,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},b5=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[q_]:a[j_],[tR]:a[jM],[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[rF]:[,""]});return void 0!==a.PublicAccessBlockConfiguration&&(d=fJ(a.PublicAccessBlockConfiguration,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},b6=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[tJ]:a[o1],[rc]:a[kB],[rf]:a[kD],[rd]:[()=>(0,l.isSerializableHeaderValue)(a[kC]),()=>(0,l.dateToUtcString)(a[kC]).toString()],[rh]:[()=>(0,l.isSerializableHeaderValue)(a[kE]),()=>(0,l.dateToUtcString)(a[kE]).toString()],[tL]:a[pp],[tN]:a[pr],[tM]:[()=>(0,l.isSerializableHeaderValue)(a[pq]),()=>(0,l.dateToUtcString)(a[pq]).toString()],[tO]:[()=>(0,l.isSerializableHeaderValue)(a[ps]),()=>(0,l.dateToUtcString)(a[ps]).toString()],[sG]:a[kp]??(0,w.v4)()});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[rL]:[,""]});return d.m("PUT").h(e).q(f).b(c),d.build()},b7=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[tH]:a[oQ],[tR]:a[jM],[sJ]:a[kX]});e.bp("/{Key+}"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1),e.p("Key",()=>a.Key,"{Key+}",!0);let g=(0,l.map)({[rU]:[,""],[r4]:[,a[qH]]});return void 0!==a.RestoreRequest&&(d=fZ(a.RestoreRequest,b),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("POST").h(f).q(g).b(c),e.build()},b8=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[tY]:a[pK],[tZ]:a[pL],[t$]:a[pM],[sJ]:a[kX]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[rY]:[,""],[rZ]:[,"2"]});c=r5;let g=new t.Cx(pA);return g.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),g.cc(a,lm),g.cc(a,le),null!=a[l9]&&g.c(eU(a[l9],b).n(l9)),null!=a[n0]&&g.c(fC(a[n0],b).n(n0)),null!=a[oT]&&g.c(fY(a[oT],b).n(oT)),null!=a[pD]&&g.c(f3(a[pD],b).n(pD)),c+=g.toString(),d.m("POST").h(e).q(f).b(c),d.build()},b9=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[q_]:a[j_],[tR]:a[jM],[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[rr]:[,""]});return void 0!==a.InventoryTableConfiguration&&(d=(d=e4(a.InventoryTableConfiguration,b)).n("InventoryTableConfiguration"),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},ca=async(a,b)=>{let c,d,e=(0,u.l)(a,b),f=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/xml",[q_]:a[j_],[tR]:a[jM],[sJ]:a[kX]});e.bp("/"),e.p("Bucket",()=>a.Bucket,"{Bucket}",!1);let g=(0,l.map)({[rs]:[,""]});return void 0!==a.JournalTableConfiguration&&(d=(d=e6(a.JournalTableConfiguration,b)).n("JournalTableConfiguration"),c=r5,d.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=d.toString()),e.m("PUT").h(f).q(g).b(c),e.build()},cb=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{"content-type":"application/octet-stream",[q$]:[()=>(0,l.isSerializableHeaderValue)(a[jZ]),()=>a[jZ].toString()],[q_]:a[j_],[tR]:a[jM],[sn]:a[jQ],[so]:a[jR],[sp]:a[jS],[ss]:a[j9],[st]:a[ka],[tY]:a[pK],[tZ]:a[pL],[t$]:a[pM],[tH]:a[oQ],[sJ]:a[kX]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[t6]:[,"UploadPart"],[rG]:[null!=(0,l.expectNonNull)(a.PartNumber,"PartNumber"),()=>a[oe].toString()],[r1]:[,(0,l.expectNonNull)(a[qz],"UploadId")]});return void 0!==a.Body&&(c=a.Body),d.m("PUT").h(e).q(f).b(c),d.build()},cc=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{[su]:a[j8],[sv]:a[kb],[sw]:[()=>(0,l.isSerializableHeaderValue)(a[kc]),()=>(0,l.dateToUtcString)(a[kc]).toString()],[sx]:a[kd],[sy]:[()=>(0,l.isSerializableHeaderValue)(a[ke]),()=>(0,l.dateToUtcString)(a[ke]).toString()],[sA]:a[kf],[tY]:a[pK],[tZ]:a[pL],[t$]:a[pM],[sB]:a[kg],[sC]:a[kh],[sD]:a[ki],[tH]:a[oQ],[sJ]:a[kX],[tT]:a[k7]});d.bp("/{Key+}"),d.p("Bucket",()=>a.Bucket,"{Bucket}",!1),d.p("Key",()=>a.Key,"{Key+}",!0);let f=(0,l.map)({[t6]:[,"UploadPartCopy"],[rG]:[null!=(0,l.expectNonNull)(a.PartNumber,"PartNumber"),()=>a[oe].toString()],[r1]:[,(0,l.expectNonNull)(a[qz],"UploadId")]});return d.m("PUT").h(e).q(f).b(c),d.build()},cd=async(a,b)=>{let c,d=(0,u.l)(a,b),e=(0,l.map)({},l.isSerializableHeaderValue,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD",...void 0!==a.Metadata&&Object.keys(a.Metadata).reduce((b,c)=>(b[`x-amz-meta-${c.toLowerCase()}`]=a.Metadata[c],b),{}),"content-type":"application/octet-stream",[tI]:a[oU],[tP]:a[o4],[th]:[()=>(0,l.isSerializableHeaderValue)(a[pn]),()=>a[pn].toString()],[sK]:a[kY],[sL]:a[k1],[sM]:a[jg],[sN]:a[jP],[sO]:a[jT],[sP]:a[jV],[sQ]:a[jY],[q$]:[()=>(0,l.isSerializableHeaderValue)(a[jZ]),()=>a[jZ].toString()],[sR]:a[j6],[sS]:a[kq],[sW]:a[jQ],[sX]:a[jR],[sY]:a[jS],[sZ]:a[j9],[s$]:a[ka],[s_]:[()=>(0,l.isSerializableHeaderValue)(a[kF]),()=>a[kF].toString()],[sT]:a[lb],[sU]:[()=>(0,l.isSerializableHeaderValue)(a[kU]),()=>(0,l.dateToUtcString)(a[kU]).toString()],[s0]:a[ln],[sV]:[()=>(0,l.isSerializableHeaderValue)(a[mP]),()=>(0,l.dateToUtcString)(a[mP]).toString()],[s1]:[()=>(0,l.isSerializableHeaderValue)(a[nd]),()=>a[nd].toString()],[s4]:a[nT],[s3]:a[nS],[s5]:[()=>(0,l.isSerializableHeaderValue)(a[nW]),()=>(0,l.serializeDateTime)(a[nW]).toString()],[s2]:[()=>(0,l.isSerializableHeaderValue)(a[ob]),()=>a[ob].toString()],[s8]:a[o2],[s7]:a[oy],[s6]:a[o9],[ta]:a[pG],[td]:a[pK],[tb]:a[pP],[te]:a[pM],[s9]:a[pj],[tf]:[()=>(0,l.isSerializableHeaderValue)(a[p7]),()=>a[p7].toString()],[tg]:a[qH],[tc]:[()=>(0,l.isSerializableHeaderValue)(a[ju]),()=>a[ju].toString()]});d.bp("/WriteGetObjectResponse"),void 0!==a.Body&&(c=a.Body);let{hostname:f}=await b.endpoint();if(!0!==b.disableHostPrefix){if(f="{RequestRoute}."+f,void 0===a.RequestRoute)throw Error("Empty value provided for input host prefix: RequestRoute.");if(f=f.replace("{RequestRoute}",a.RequestRoute),!(0,v.oJ)(f))throw Error("ValidationError: prefixed hostname must be hostname compatible.")}return d.hn(f),d.m("POST").h(e).b(c),d.build()},ce=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[oy]:[,a.headers[tF]]});return await (0,l.collectBody)(a.body,b),c},cf=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[ln]:[,a.headers[sI]],[pG]:[,a.headers[tU]],[qH]:[,a.headers[t3]],[pP]:[,a.headers[tV]],[ju]:[()=>void 0!==a.headers[tW],()=>(0,l.parseBoolean)(a.headers[tW])],[oy]:[,a.headers[tF]]}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[jo]&&(c[jo]=(0,l.expectString)(d[jo])),null!=d[jQ]&&(c[jQ]=(0,l.expectString)(d[jQ])),null!=d[jR]&&(c[jR]=(0,l.expectString)(d[jR])),null!=d[jS]&&(c[jS]=(0,l.expectString)(d[jS])),null!=d[j9]&&(c[j9]=(0,l.expectString)(d[j9])),null!=d[ka]&&(c[ka]=(0,l.expectString)(d[ka])),null!=d[ko]&&(c[ko]=(0,l.expectString)(d[ko])),null!=d[lb]&&(c[lb]=(0,l.expectString)(d[lb])),null!=d[my]&&(c[my]=(0,l.expectString)(d[my])),null!=d[mH]&&(c[mH]=(0,l.expectString)(d[mH])),c},cg=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[ln]:[,a.headers[sI]],[kk]:[,a.headers[sE]],[qH]:[,a.headers[t3]],[pG]:[,a.headers[tU]],[pK]:[,a.headers[tY]],[pM]:[,a.headers[t$]],[pP]:[,a.headers[tV]],[pO]:[,a.headers[tX]],[ju]:[()=>void 0!==a.headers[tW],()=>(0,l.parseBoolean)(a.headers[tW])],[oy]:[,a.headers[tF]]});return c.CopyObjectResult=gO((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},ch=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[mH]:[,a.headers[rm]],[jp]:[,a.headers[sf]]});return await (0,l.collectBody)(a.body,b),c},ci=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},cj=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},ck=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[i0]:[()=>void 0!==a.headers[sb],()=>(0,l.expectNonNull)((0,l.parseRfc7231DateTime)(a.headers[sb]))],[jh]:[,a.headers[sd]],[pG]:[,a.headers[tU]],[pK]:[,a.headers[tY]],[pM]:[,a.headers[t$]],[pP]:[,a.headers[tV]],[pO]:[,a.headers[tX]],[ju]:[()=>void 0!==a.headers[tW],()=>(0,l.parseBoolean)(a.headers[tW])],[oy]:[,a.headers[tF]],[jM]:[,a.headers[sm]],[ko]:[,a.headers[sF]]}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[jo]&&(c[jo]=(0,l.expectString)(d[jo])),null!=d[my]&&(c[my]=(0,l.expectString)(d[my])),null!=d[qz]&&(c[qz]=(0,l.expectString)(d[qz])),c},cl=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[pG]:[,a.headers[tU]],[pP]:[,a.headers[tV]],[pO]:[,a.headers[tX]],[ju]:[()=>void 0!==a.headers[tW],()=>(0,l.parseBoolean)(a.headers[tW])]}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[jL]&&(c[jL]=ix(d[jL],b)),c},cm=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},cn=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},co=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},cp=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},cq=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},cr=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},cs=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},ct=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},cu=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},cv=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},cw=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},cx=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},cy=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},cz=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},cA=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},cB=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[kF]:[()=>void 0!==a.headers[sH],()=>(0,l.parseBoolean)(a.headers[sH])],[qH]:[,a.headers[t3]],[oy]:[,a.headers[tF]]});return await (0,l.collectBody)(a.body,b),c},cC=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[oy]:[,a.headers[tF]]}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return""===String(d.Deleted).trim()?c[kQ]=[]:null!=d[kQ]&&(c[kQ]=gU((0,l.getArrayIfSingleItem)(d[kQ]),b)),""===String(d.Error).trim()?c[lj]=[]:null!=d[li]&&(c[lj]=g3((0,l.getArrayIfSingleItem)(d[li]),b)),c},cD=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[qH]:[,a.headers[t3]]});return await (0,l.collectBody)(a.body,b),c},cE=async(a,b)=>{if(204!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},cF=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[oy]:[,a.headers[tF]]}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[pe]&&(c[pe]=(0,l.expectString)(d[pe])),c},cG=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return""===String(d.AccessControlList).trim()?c[lG]=[]:null!=d[iX]&&null!=d[iX][lz]&&(c[lG]=hf((0,l.getArrayIfSingleItem)(d[iX][lz]),b)),null!=d[nF]&&(c[nF]=h$(d[nF],b)),c},cH=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return c.AnalyticsConfiguration=gB((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},cI=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return""===String(d.CORSRule).trim()?c[j3]=[]:null!=d[j2]&&(c[j3]=gR((0,l.getArrayIfSingleItem)(d[j2]),b)),c},cJ=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return c.ServerSideEncryptionConfiguration=iu((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},cK=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return c.IntelligentTieringConfiguration=hj((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},cL=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return c.InventoryConfiguration=hm((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},cM=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[qb]:[,a.headers[t2]]}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return""===String(d.Rule).trim()?c[pd]=[]:null!=d[pc]&&(c[pd]=hC((0,l.getArrayIfSingleItem)(d[pc]),b)),c},cN=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[mI]&&(c[mI]=(0,l.expectString)(d[mI])),c},cO=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[mJ]&&(c[mJ]=hD(d[mJ],b)),c},cP=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return c.GetBucketMetadataConfigurationResult=ha((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},cQ=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return c.GetBucketMetadataTableConfigurationResult=hb((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},cR=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return c.MetricsConfiguration=hI((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},cS=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[kW]&&(c[kW]=g4(d[kW],b)),""===String(d.CloudFunctionConfiguration).trim()?c[mM]=[]:null!=d[jX]&&(c[mM]=hx((0,l.getArrayIfSingleItem)(d[jX]),b)),""===String(d.QueueConfiguration).trim()?c[or]=[]:null!=d[oq]&&(c[or]=ia((0,l.getArrayIfSingleItem)(d[oq]),b)),""===String(d.TopicConfiguration).trim()?c[p9]=[]:null!=d[p8]&&(c[p9]=iO((0,l.getArrayIfSingleItem)(d[p8]),b)),c},cT=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return c.OwnershipControls=h_((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},cU=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=await iS(a.body,b);return c.Policy=(0,l.expectString)(d),c},cV=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return c.PolicyStatus=h6((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},cW=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return c.ReplicationConfiguration=ig((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},cX=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[oh]&&(c[oh]=(0,l.expectString)(d[oh])),c},cY=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return""===String(d.TagSet).trim()?c[qj]=[]:null!=d[qj]&&null!=d[qj][qn]&&(c[qj]=iH((0,l.getArrayIfSingleItem)(d[qj][qn]),b)),c},cZ=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[m5]&&(c[m9]=(0,l.expectString)(d[m5])),null!=d[pe]&&(c[pe]=(0,l.expectString)(d[pe])),c},c$=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[k$]&&(c[k$]=g2(d[k$],b)),null!=d[lP]&&(c[lP]=hg(d[lP],b)),null!=d[ox]&&(c[ox]=id(d[ox],b)),""===String(d.RoutingRules).trim()?c[o_]=[]:null!=d[o_]&&null!=d[o_][o0]&&(c[o_]=iq((0,l.getArrayIfSingleItem)(d[o_][o0]),b)),c},c_=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[kF]:[()=>void 0!==a.headers[sH],()=>(0,l.parseBoolean)(a.headers[sH])],[jg]:[,a.headers[qS]],[ln]:[,a.headers[sI]],[o9]:[,a.headers[tE]],[mP]:[()=>void 0!==a.headers[rl],()=>(0,l.expectNonNull)((0,l.parseRfc7231DateTime)(a.headers[rl]))],[jZ]:[()=>void 0!==a.headers[q$],()=>(0,l.strictParseLong)(a.headers[q$])],[lb]:[,a.headers[q8]],[jQ]:[,a.headers[sn]],[jR]:[,a.headers[so]],[jS]:[,a.headers[sp]],[j9]:[,a.headers[ss]],[ka]:[,a.headers[st]],[ko]:[,a.headers[sF]],[nd]:[()=>void 0!==a.headers[ts],()=>(0,l.strictParseInt32)(a.headers[ts])],[qH]:[,a.headers[t3]],[jP]:[,a.headers[qW]],[jT]:[,a.headers[qX]],[jV]:[,a.headers[qY]],[jY]:[,a.headers[qZ]],[j6]:[,a.headers[q0]],[kq]:[,a.headers[q1]],[kU]:[()=>void 0!==a.headers[q5],()=>(0,l.expectNonNull)((0,l.parseRfc7231DateTime)(a.headers[q5]))],[k6]:[,a.headers[q9]],[qN]:[,a.headers[t5]],[pG]:[,a.headers[tU]],[pK]:[,a.headers[tY]],[pM]:[,a.headers[t$]],[pP]:[,a.headers[tV]],[ju]:[()=>void 0!==a.headers[tW],()=>(0,l.parseBoolean)(a.headers[tW])],[pj]:[,a.headers[tQ]],[oy]:[,a.headers[tF]],[o2]:[,a.headers[tK]],[ob]:[()=>void 0!==a.headers[tv],()=>(0,l.strictParseInt32)(a.headers[tv])],[p7]:[()=>void 0!==a.headers[t0],()=>(0,l.strictParseInt32)(a.headers[t0])],[nT]:[,a.headers[ty]],[nW]:[()=>void 0!==a.headers[tz],()=>(0,l.expectNonNull)((0,l.parseRfc3339DateTimeWithOffset)(a.headers[tz]))],[nS]:[,a.headers[tx]],Metadata:[,Object.keys(a.headers).filter(a=>a.startsWith("x-amz-meta-")).reduce((b,c)=>(b[c.substring(11)]=a.headers[c],b),{})]}),d=a.body;return b.sdkStreamMixin(d),c.Body=d,c},c0=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[oy]:[,a.headers[tF]]}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return""===String(d.AccessControlList).trim()?c[lG]=[]:null!=d[iX]&&null!=d[iX][lz]&&(c[lG]=hf((0,l.getArrayIfSingleItem)(d[iX][lz]),b)),null!=d[nF]&&(c[nF]=h$(d[nF],b)),c},c1=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[kF]:[()=>void 0!==a.headers[sH],()=>(0,l.parseBoolean)(a.headers[sH])],[mP]:[()=>void 0!==a.headers[rl],()=>(0,l.expectNonNull)((0,l.parseRfc7231DateTime)(a.headers[rl]))],[qH]:[,a.headers[t3]],[oy]:[,a.headers[tF]]}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[kt]&&(c[kt]=gI(d[kt],b)),null!=d[lb]&&(c[lb]=(0,l.expectString)(d[lb])),null!=d[n_]&&(c[n_]=hc(d[n_],b)),null!=d[n6]&&(c[n6]=(0,l.strictParseLong)(d[n6])),null!=d[pj]&&(c[pj]=(0,l.expectString)(d[pj])),c},c2=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return c.LegalHold=hU((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},c3=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return c.ObjectLockConfiguration=hT((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},c4=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return c.Retention=hV((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},c5=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[qH]:[,a.headers[t3]]}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return""===String(d.TagSet).trim()?c[qj]=[]:null!=d[qj]&&null!=d[qj][qn]&&(c[qj]=iH((0,l.getArrayIfSingleItem)(d[qj][qn]),b)),c},c6=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[oy]:[,a.headers[tF]]}),d=a.body;return b.sdkStreamMixin(d),c.Body=d,c},c7=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return c.PublicAccessBlockConfiguration=h8((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},c8=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[jp]:[,a.headers[sf]],[jA]:[,a.headers[si]],[jx]:[,a.headers[sh]],[jF]:[,a.headers[sl]],[jd]:[()=>void 0!==a.headers[sc],()=>(0,l.parseBoolean)(a.headers[sc])]});return await (0,l.collectBody)(a.body,b),c},c9=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[kF]:[()=>void 0!==a.headers[sH],()=>(0,l.parseBoolean)(a.headers[sH])],[jg]:[,a.headers[qS]],[ln]:[,a.headers[sI]],[o9]:[,a.headers[tE]],[ji]:[,a.headers[se]],[mP]:[()=>void 0!==a.headers[rl],()=>(0,l.expectNonNull)((0,l.parseRfc7231DateTime)(a.headers[rl]))],[jZ]:[()=>void 0!==a.headers[q$],()=>(0,l.strictParseLong)(a.headers[q$])],[jQ]:[,a.headers[sn]],[jR]:[,a.headers[so]],[jS]:[,a.headers[sp]],[j9]:[,a.headers[ss]],[ka]:[,a.headers[st]],[ko]:[,a.headers[sF]],[lb]:[,a.headers[q8]],[nd]:[()=>void 0!==a.headers[ts],()=>(0,l.strictParseInt32)(a.headers[ts])],[qH]:[,a.headers[t3]],[jP]:[,a.headers[qW]],[jT]:[,a.headers[qX]],[jV]:[,a.headers[qY]],[jY]:[,a.headers[qZ]],[kq]:[,a.headers[q1]],[j6]:[,a.headers[q0]],[kU]:[()=>void 0!==a.headers[q5],()=>(0,l.expectNonNull)((0,l.parseRfc7231DateTime)(a.headers[q5]))],[k6]:[,a.headers[q9]],[qN]:[,a.headers[t5]],[pG]:[,a.headers[tU]],[pK]:[,a.headers[tY]],[pM]:[,a.headers[t$]],[pP]:[,a.headers[tV]],[ju]:[()=>void 0!==a.headers[tW],()=>(0,l.parseBoolean)(a.headers[tW])],[pj]:[,a.headers[tQ]],[oy]:[,a.headers[tF]],[o2]:[,a.headers[tK]],[ob]:[()=>void 0!==a.headers[tv],()=>(0,l.strictParseInt32)(a.headers[tv])],[p7]:[()=>void 0!==a.headers[t0],()=>(0,l.strictParseInt32)(a.headers[t0])],[nT]:[,a.headers[ty]],[nW]:[()=>void 0!==a.headers[tz],()=>(0,l.expectNonNull)((0,l.parseRfc3339DateTimeWithOffset)(a.headers[tz]))],[nS]:[,a.headers[tx]],Metadata:[,Object.keys(a.headers).filter(a=>a.startsWith("x-amz-meta-")).reduce((b,c)=>(b[c.substring(11)]=a.headers[c],b),{})]});return await (0,l.collectBody)(a.body,b),c},da=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return""===String(d.AnalyticsConfiguration).trim()?c[iY]=[]:null!=d[iV]&&(c[iY]=gC((0,l.getArrayIfSingleItem)(d[iV]),b)),null!=d[ks]&&(c[ks]=(0,l.expectString)(d[ks])),null!=d[mc]&&(c[mc]=(0,l.parseBoolean)(d[mc])),null!=d[nt]&&(c[nt]=(0,l.expectString)(d[nt])),c},db=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[ks]&&(c[ks]=(0,l.expectString)(d[ks])),""===String(d.IntelligentTieringConfiguration).trim()?c[mg]=[]:null!=d[mf]&&(c[mg]=hk((0,l.getArrayIfSingleItem)(d[mf]),b)),null!=d[mc]&&(c[mc]=(0,l.parseBoolean)(d[mc])),null!=d[nt]&&(c[nt]=(0,l.expectString)(d[nt])),c},dc=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[ks]&&(c[ks]=(0,l.expectString)(d[ks])),""===String(d.InventoryConfiguration).trim()?c[lN]=[]:null!=d[lM]&&(c[lN]=hn((0,l.getArrayIfSingleItem)(d[lM]),b)),null!=d[mc]&&(c[mc]=(0,l.parseBoolean)(d[mc])),null!=d[nt]&&(c[nt]=(0,l.expectString)(d[nt])),c},dd=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[ks]&&(c[ks]=(0,l.expectString)(d[ks])),null!=d[mc]&&(c[mc]=(0,l.parseBoolean)(d[mc])),""===String(d.MetricsConfiguration).trim()?c[m0]=[]:null!=d[m_]&&(c[m0]=hJ((0,l.getArrayIfSingleItem)(d[m_]),b)),null!=d[nt]&&(c[nt]=(0,l.expectString)(d[nt])),c},de=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return""===String(d.Buckets).trim()?c[jK]=[]:null!=d[jK]&&null!=d[jK][jo]&&(c[jK]=gH((0,l.getArrayIfSingleItem)(d[jK][jo]),b)),null!=d[ks]&&(c[ks]=(0,l.expectString)(d[ks])),null!=d[nF]&&(c[nF]=h$(d[nF],b)),null!=d[n9]&&(c[n9]=(0,l.expectString)(d[n9])),c},df=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return""===String(d.Buckets).trim()?c[jK]=[]:null!=d[jK]&&null!=d[jK][jo]&&(c[jK]=gH((0,l.getArrayIfSingleItem)(d[jK][jo]),b)),null!=d[ks]&&(c[ks]=(0,l.expectString)(d[ks])),c},dg=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[oy]:[,a.headers[tF]]}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[jo]&&(c[jo]=(0,l.expectString)(d[jo])),""===String(d.CommonPrefixes).trim()?c[j4]=[]:null!=d[j4]&&(c[j4]=gL((0,l.getArrayIfSingleItem)(d[j4]),b)),null!=d[ky]&&(c[ky]=(0,l.expectString)(d[ky])),null!=d[la]&&(c[la]=(0,l.expectString)(d[la])),null!=d[mc]&&(c[mc]=(0,l.parseBoolean)(d[mc])),null!=d[mC]&&(c[mC]=(0,l.expectString)(d[mC])),null!=d[nk]&&(c[nk]=(0,l.strictParseInt32)(d[nk])),null!=d[nw]&&(c[nw]=(0,l.expectString)(d[nw])),null!=d[nA]&&(c[nA]=(0,l.expectString)(d[nA])),null!=d[n9]&&(c[n9]=(0,l.expectString)(d[n9])),null!=d[qA]&&(c[qA]=(0,l.expectString)(d[qA])),""===String(d.Upload).trim()?c[qD]=[]:null!=d[qy]&&(c[qD]=hM((0,l.getArrayIfSingleItem)(d[qy]),b)),c},dh=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[oy]:[,a.headers[tF]]}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return""===String(d.CommonPrefixes).trim()?c[j4]=[]:null!=d[j4]&&(c[j4]=gL((0,l.getArrayIfSingleItem)(d[j4]),b)),""===String(d.Contents).trim()?c[ku]=[]:null!=d[ku]&&(c[ku]=hS((0,l.getArrayIfSingleItem)(d[ku]),b)),null!=d[ky]&&(c[ky]=(0,l.expectString)(d[ky])),null!=d[la]&&(c[la]=(0,l.expectString)(d[la])),null!=d[mc]&&(c[mc]=(0,l.parseBoolean)(d[mc])),null!=d[mX]&&(c[mX]=(0,l.expectString)(d[mX])),null!=d[nb]&&(c[nb]=(0,l.strictParseInt32)(d[nb])),null!=d[nq]&&(c[nq]=(0,l.expectString)(d[nq])),null!=d[nx]&&(c[nx]=(0,l.expectString)(d[nx])),null!=d[n9]&&(c[n9]=(0,l.expectString)(d[n9])),c},di=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[oy]:[,a.headers[tF]]}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return""===String(d.CommonPrefixes).trim()?c[j4]=[]:null!=d[j4]&&(c[j4]=gL((0,l.getArrayIfSingleItem)(d[j4]),b)),""===String(d.Contents).trim()?c[ku]=[]:null!=d[ku]&&(c[ku]=hS((0,l.getArrayIfSingleItem)(d[ku]),b)),null!=d[ks]&&(c[ks]=(0,l.expectString)(d[ks])),null!=d[ky]&&(c[ky]=(0,l.expectString)(d[ky])),null!=d[la]&&(c[la]=(0,l.expectString)(d[la])),null!=d[mc]&&(c[mc]=(0,l.parseBoolean)(d[mc])),null!=d[mz]&&(c[mz]=(0,l.strictParseInt32)(d[mz])),null!=d[nb]&&(c[nb]=(0,l.strictParseInt32)(d[nb])),null!=d[nq]&&(c[nq]=(0,l.expectString)(d[nq])),null!=d[nt]&&(c[nt]=(0,l.expectString)(d[nt])),null!=d[n9]&&(c[n9]=(0,l.expectString)(d[n9])),null!=d[pf]&&(c[pf]=(0,l.expectString)(d[pf])),c},dj=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[oy]:[,a.headers[tF]]}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return""===String(d.CommonPrefixes).trim()?c[j4]=[]:null!=d[j4]&&(c[j4]=gL((0,l.getArrayIfSingleItem)(d[j4]),b)),""===String(d.DeleteMarker).trim()?c[kJ]=[]:null!=d[kF]&&(c[kJ]=gX((0,l.getArrayIfSingleItem)(d[kF]),b)),null!=d[ky]&&(c[ky]=(0,l.expectString)(d[ky])),null!=d[la]&&(c[la]=(0,l.expectString)(d[la])),null!=d[mc]&&(c[mc]=(0,l.parseBoolean)(d[mc])),null!=d[mC]&&(c[mC]=(0,l.expectString)(d[mC])),null!=d[nb]&&(c[nb]=(0,l.strictParseInt32)(d[nb])),null!=d[nq]&&(c[nq]=(0,l.expectString)(d[nq])),null!=d[nw]&&(c[nw]=(0,l.expectString)(d[nw])),null!=d[nC]&&(c[nC]=(0,l.expectString)(d[nC])),null!=d[n9]&&(c[n9]=(0,l.expectString)(d[n9])),null!=d[qI]&&(c[qI]=(0,l.expectString)(d[qI])),""===String(d.Version).trim()?c[qK]=[]:null!=d[qE]&&(c[qK]=hZ((0,l.getArrayIfSingleItem)(d[qE]),b)),c},dk=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[i0]:[()=>void 0!==a.headers[sb],()=>(0,l.expectNonNull)((0,l.parseRfc7231DateTime)(a.headers[sb]))],[jh]:[,a.headers[sd]],[oy]:[,a.headers[tF]]}),d=(0,l.expectNonNull)((0,l.expectObject)(await (0,s.t_)(a.body,b)),"body");return null!=d[jo]&&(c[jo]=(0,l.expectString)(d[jo])),null!=d[jM]&&(c[jM]=(0,l.expectString)(d[jM])),null!=d[ko]&&(c[ko]=(0,l.expectString)(d[ko])),null!=d[mp]&&(c[mp]=hh(d[mp],b)),null!=d[mc]&&(c[mc]=(0,l.parseBoolean)(d[mc])),null!=d[my]&&(c[my]=(0,l.expectString)(d[my])),null!=d[nf]&&(c[nf]=(0,l.strictParseInt32)(d[nf])),null!=d[nz]&&(c[nz]=(0,l.expectString)(d[nz])),null!=d[nF]&&(c[nF]=h$(d[nF],b)),null!=d[of]&&(c[of]=(0,l.expectString)(d[of])),""===String(d.Part).trim()?c[ok]=[]:null!=d[oi]&&(c[ok]=h4((0,l.getArrayIfSingleItem)(d[oi]),b)),null!=d[pj]&&(c[pj]=(0,l.expectString)(d[pj])),null!=d[qz]&&(c[qz]=(0,l.expectString)(d[qz])),c},dl=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dm=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dn=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dp=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dq=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dr=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},ds=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dt=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[qb]:[,a.headers[t2]]});return await (0,l.collectBody)(a.body,b),c},du=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dv=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dw=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dx=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dy=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dz=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dA=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dB=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dC=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dD=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dE=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[ln]:[,a.headers[sI]],[lb]:[,a.headers[q8]],[jQ]:[,a.headers[sn]],[jR]:[,a.headers[so]],[jS]:[,a.headers[sp]],[j9]:[,a.headers[ss]],[ka]:[,a.headers[st]],[ko]:[,a.headers[sF]],[pG]:[,a.headers[tU]],[qH]:[,a.headers[t3]],[pK]:[,a.headers[tY]],[pM]:[,a.headers[t$]],[pP]:[,a.headers[tV]],[pO]:[,a.headers[tX]],[ju]:[()=>void 0!==a.headers[tW],()=>(0,l.parseBoolean)(a.headers[tW])],[p$]:[()=>void 0!==a.headers[tC],()=>(0,l.strictParseLong)(a.headers[tC])],[oy]:[,a.headers[tF]]});return await (0,l.collectBody)(a.body,b),c},dF=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[oy]:[,a.headers[tF]]});return await (0,l.collectBody)(a.body,b),c},dG=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[oy]:[,a.headers[tF]]});return await (0,l.collectBody)(a.body,b),c},dH=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[oy]:[,a.headers[tF]]});return await (0,l.collectBody)(a.body,b),c},dI=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[oy]:[,a.headers[tF]]});return await (0,l.collectBody)(a.body,b),c},dJ=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[qH]:[,a.headers[t3]]});return await (0,l.collectBody)(a.body,b),c},dK=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dL=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dM=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[oy]:[,a.headers[tF]],[oP]:[,a.headers[tG]]});return await (0,l.collectBody)(a.body,b),c},dN=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return c.Payload=d7(a.body,b),c},dO=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dP=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dQ=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[pG]:[,a.headers[tU]],[lb]:[,a.headers[q8]],[jQ]:[,a.headers[sn]],[jR]:[,a.headers[so]],[jS]:[,a.headers[sp]],[j9]:[,a.headers[ss]],[ka]:[,a.headers[st]],[pK]:[,a.headers[tY]],[pM]:[,a.headers[t$]],[pP]:[,a.headers[tV]],[ju]:[()=>void 0!==a.headers[tW],()=>(0,l.parseBoolean)(a.headers[tW])],[oy]:[,a.headers[tF]]});return await (0,l.collectBody)(a.body,b),c},dR=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a),[kk]:[,a.headers[sE]],[pG]:[,a.headers[tU]],[pK]:[,a.headers[tY]],[pM]:[,a.headers[t$]],[pP]:[,a.headers[tV]],[ju]:[()=>void 0!==a.headers[tW],()=>(0,l.parseBoolean)(a.headers[tW])],[oy]:[,a.headers[tF]]});return c.CopyPartResult=gP((0,l.expectObject)(await (0,s.t_)(a.body,b)),b),c},dS=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return dT(a,b);let c=(0,l.map)({$metadata:iR(a)});return await (0,l.collectBody)(a.body,b),c},dT=async(a,b)=>{let c={...a,body:await (0,s.FI)(a.body,b)},d=(0,s.FZ)(a,c.body);switch(d){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await d2(c,b);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await d5(c,b);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await dV(c,b);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await dW(c,b);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await d0(c,b);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await dZ(c,b);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await d1(c,b);case"NotFound":case"com.amazonaws.s3#NotFound":throw await d3(c,b);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await dX(c,b);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await d$(c,b);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await d_(c,b);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await d6(c,b);case"IdempotencyParameterMismatch":case"com.amazonaws.s3#IdempotencyParameterMismatch":throw await dY(c,b);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await d4(c,b);default:return dU({output:a,parsedBody:c.body,errorCode:d})}},dU=(0,l.withBaseException)(x),dV=async(a,b)=>{let c=(0,l.map)({});a.body;let d=new B({$metadata:iR(a),...c});return(0,l.decorateServiceException)(d,a.body)},dW=async(a,b)=>{let c=(0,l.map)({});a.body;let d=new C({$metadata:iR(a),...c});return(0,l.decorateServiceException)(d,a.body)},dX=async(a,b)=>{let c=(0,l.map)({});a.body;let d=new af({$metadata:iR(a),...c});return(0,l.decorateServiceException)(d,a.body)},dY=async(a,b)=>{let c=(0,l.map)({});a.body;let d=new aj({$metadata:iR(a),...c});return(0,l.decorateServiceException)(d,a.body)},dZ=async(a,b)=>{let c=(0,l.map)({}),d=a.body;null!=d[jm]&&(c[jm]=(0,l.expectString)(d[jm])),null!=d[pj]&&(c[pj]=(0,l.expectString)(d[pj]));let e=new E({$metadata:iR(a),...c});return(0,l.decorateServiceException)(e,a.body)},d$=async(a,b)=>{let c=(0,l.map)({});a.body;let d=new ag({$metadata:iR(a),...c});return(0,l.decorateServiceException)(d,a.body)},d_=async(a,b)=>{let c=(0,l.map)({});a.body;let d=new ah({$metadata:iR(a),...c});return(0,l.decorateServiceException)(d,a.body)},d0=async(a,b)=>{let c=(0,l.map)({});a.body;let d=new D({$metadata:iR(a),...c});return(0,l.decorateServiceException)(d,a.body)},d1=async(a,b)=>{let c=(0,l.map)({});a.body;let d=new F({$metadata:iR(a),...c});return(0,l.decorateServiceException)(d,a.body)},d2=async(a,b)=>{let c=(0,l.map)({});a.body;let d=new y({$metadata:iR(a),...c});return(0,l.decorateServiceException)(d,a.body)},d3=async(a,b)=>{let c=(0,l.map)({});a.body;let d=new G({$metadata:iR(a),...c});return(0,l.decorateServiceException)(d,a.body)},d4=async(a,b)=>{let c=(0,l.map)({});a.body;let d=new ak({$metadata:iR(a),...c});return(0,l.decorateServiceException)(d,a.body)},d5=async(a,b)=>{let c=(0,l.map)({});a.body;let d=new A({$metadata:iR(a),...c});return(0,l.decorateServiceException)(d,a.body)},d6=async(a,b)=>{let c=(0,l.map)({});a.body;let d=new ai({$metadata:iR(a),...c});return(0,l.decorateServiceException)(d,a.body)},d7=(a,b)=>b.eventStreamMarshaller.deserialize(a,async a=>null!=a.Records?{Records:await eb(a.Records,b)}:null!=a.Stats?{Stats:await ec(a.Stats,b)}:null!=a.Progress?{Progress:await ea(a.Progress,b)}:null!=a.Cont?{Cont:await d8(a.Cont,b)}:null!=a.End?{End:await d9(a.End,b)}:{$unknown:a}),d8=async(a,b)=>{let c={};return Object.assign(c,gN(await (0,s.t_)(a.body,b),b)),c},d9=async(a,b)=>{let c={};return Object.assign(c,g_(await (0,s.t_)(a.body,b),b)),c},ea=async(a,b)=>{let c={};return c.Details=h7(await (0,s.t_)(a.body,b),b),c},eb=async(a,b)=>{let c={};return c.Payload=a.body,c},ec=async(a,b)=>{let c={};return c.Details=iD(await (0,s.t_)(a.body,b),b),c},ed=(a,b)=>{let c=new t.Cx(i6);return null!=a[kz]&&c.c(t.Cx.of(kz,String(a[kz])).n(kz)),c},ee=(a,b)=>{let c=new t.Cx(i_);return null!=a[pe]&&c.c(t.Cx.of(jr,a[pe]).n(pe)),c},ef=(a,b)=>{let c=new t.Cx(iZ);return c.lc(a,"Grants","AccessControlList",()=>eS(a[lG],b)),null!=a[nF]&&c.c(fD(a[nF],b).n(nF)),c},eg=(a,b)=>{let c=new t.Cx(i$);return null!=a[nF]&&c.c(t.Cx.of(n$,a[nF]).n(nF)),c},eh=(a,b)=>a.filter(a=>null!=a).map(a=>t.Cx.of(i3,a).n(rx)),ei=(a,b)=>a.filter(a=>null!=a).map(a=>t.Cx.of(i9,a).n(rx)),ej=(a,b)=>a.filter(a=>null!=a).map(a=>t.Cx.of(jb,a).n(rx)),ek=(a,b)=>{let c=new t.Cx(iU);return c.cc(a,n9),c.l(a,"Tags","Tag",()=>gi(a[qo],b)),c},el=(a,b)=>{let c=new t.Cx(iV);return null!=a[lL]&&c.c(t.Cx.of(i5,a[lL]).n(lL)),null!=a[lo]&&c.c(en(a[lo],b).n(lo)),null!=a[pk]&&c.c(ge(a[pk],b).n(pk)),c},em=(a,b)=>{let c=new t.Cx(i1);return null!=a[pi]&&c.c(eo(a[pi],b).n(pi)),c},en=(a,b)=>{let c=new t.Cx(i2);return h.visit(a,{Prefix:b=>{null!=a[n9]&&c.c(t.Cx.of(n9,b).n(n9))},Tag:d=>{null!=a[qn]&&c.c(gg(d,b).n(qn))},And:d=>{null!=a[iT]&&c.c(ek(d,b).n(iT))},_:(a,b)=>{if(!(b instanceof t.Cx||b instanceof t.ZQ))throw Error("Unable to serialize unknown union members in XML.");c.c(new t.Cx(a).c(b))}}),c},eo=(a,b)=>{let c=new t.Cx(jj);return null!=a[lx]&&c.c(t.Cx.of(jk,a[lx]).n(lx)),null!=a[jq]&&c.c(t.Cx.of(i7,a[jq]).n(jq)),null!=a[jo]&&c.c(t.Cx.of(jB,a[jo]).n(jo)),c.cc(a,n9),c},ep=(a,b)=>{let c=new t.Cx(jt);return c.cc(a,kL),null!=a[qx]&&c.c(t.Cx.of(jI,a[qx]).n(qx)),c},eq=(a,b)=>{let c=new t.Cx(jv);return c.l(a,"Rules","Rule",()=>ff(a[pd],b)),c},er=(a,b)=>{let c=new t.Cx(jz);return null!=a[mJ]&&c.c(fh(a[mJ],b).n(mJ)),c},es=(a,b)=>{let c=new t.Cx(j0);return c.l(a,"Parts","Part",()=>eu(a[ok],b)),c},et=(a,b)=>{let c=new t.Cx(j5);return c.cc(a,lb),c.cc(a,jQ),c.cc(a,jR),c.cc(a,jS),c.cc(a,j9),c.cc(a,ka),null!=a[oe]&&c.c(t.Cx.of(oe,String(a[oe])).n(oe)),c},eu=(a,b)=>a.filter(a=>null!=a).map(a=>et(a,b).n(rx)),ev=(a,b)=>{let c=new t.Cx(kx);return c.cc(a,lI),c.cc(a,mG),c},ew=(a,b)=>{let c=new t.Cx(j1);return c.l(a,"CORSRules","CORSRule",()=>ey(a[j3],b)),c},ex=(a,b)=>{let c=new t.Cx(j2);return c.cc(a,lQ),c.l(a,"AllowedHeaders","AllowedHeader",()=>eh(a[i4],b)),c.l(a,"AllowedMethods","AllowedMethod",()=>ei(a[ja],b)),c.l(a,"AllowedOrigins","AllowedOrigin",()=>ej(a[jc],b)),c.l(a,"ExposeHeaders","ExposeHeader",()=>eM(a[k_],b)),null!=a[mZ]&&c.c(t.Cx.of(mZ,String(a[mZ])).n(mZ)),c},ey=(a,b)=>a.filter(a=>null!=a).map(a=>ex(a,b).n(rx)),ez=(a,b)=>{let c=new t.Cx(jO);return null!=a[mI]&&c.c(t.Cx.of(jw,a[mI]).n(mI)),null!=a[mH]&&c.c(fg(a[mH],b).n(mH)),null!=a[jo]&&c.c(ep(a[jo],b).n(jo)),c.lc(a,"Tags","Tags",()=>gi(a[qo],b)),c},eA=(a,b)=>{let c=new t.Cx(kl);return c.cc(a,lq),c.cc(a,kw),c.cc(a,ot),c.cc(a,oF),c.cc(a,lp),c.cc(a,os),null!=a[jf]&&c.c(t.Cx.of(jf,String(a[jf])).n(jf)),c},eB=(a,b)=>{let c=new t.Cx(km);return c.cc(a,ou),c.cc(a,ot),c.cc(a,oF),c.cc(a,lp),c.cc(a,os),c},eC=(a,b)=>{let c=new t.Cx(kM);return null!=a[np]&&c.c(t.Cx.of(nV,a[np]).n(np)),null!=a[kO]&&c.c(t.Cx.of(kO,String(a[kO])).n(kO)),null!=a[qO]&&c.c(t.Cx.of(qO,String(a[qO])).n(qO)),c},eD=(a,b)=>{let c=new t.Cx(kR);return c.l(a,"Objects","Object",()=>fw(a[n8],b)),null!=a[oo]&&c.c(t.Cx.of(oo,String(a[oo])).n(oo)),c},eE=(a,b)=>{let c=new t.Cx(kG);return null!=a[pe]&&c.c(t.Cx.of(kH,a[pe]).n(pe)),c},eF=(a,b)=>{let c=new t.Cx(kS);return null!=a[jo]&&c.c(t.Cx.of(jB,a[jo]).n(jo)),null!=a[jn]&&c.c(t.Cx.of(i7,a[jn]).n(jn)),c.cc(a,pj),null!=a[i$]&&c.c(eg(a[i$],b).n(i$)),null!=a[kZ]&&c.c(eH(a[kZ],b).n(kZ)),null!=a[o7]&&c.c(fV(a[o7],b).n(o7)),null!=a[nm]&&c.c(fm(a[nm],b).n(nm)),c},eG=(a,b)=>{let c=new t.Cx(lf);return null!=a[lc]&&c.c(t.Cx.of(pG,a[lc]).n(lc)),null!=a[mE]&&c.c(t.Cx.of(pP,a[mE]).n(mE)),c.cc(a,mD),c},eH=(a,b)=>{let c=new t.Cx(kZ);return c.cc(a,oK),c},eI=(a,b)=>{let c=new t.Cx(k$);return null!=a[my]&&c.c(t.Cx.of(nM,a[my]).n(my)),c},eJ=(a,b)=>new t.Cx(kW),eK=(a,b)=>a.filter(a=>null!=a).map(a=>t.Cx.of(lk,a).n(rx)),eL=(a,b)=>{let c=new t.Cx(k3);return null!=a[pe]&&c.c(t.Cx.of(k4,a[pe]).n(pe)),c},eM=(a,b)=>a.filter(a=>null!=a).map(a=>t.Cx.of(k0,a).n(rx)),eN=(a,b)=>{let c=new t.Cx(ls);return null!=a[nq]&&c.c(t.Cx.of(lt,a[nq]).n(nq)),null!=a[qJ]&&c.c(t.Cx.of(lu,a[qJ]).n(qJ)),c},eO=(a,b)=>a.filter(a=>null!=a).map(a=>eN(a,b).n(rx)),eP=(a,b)=>{let c=new t.Cx(lB);return c.cc(a,qp),c},eQ=(a,b)=>{let c=new t.Cx(lz);if(null!=a[lH]){let d=eR(a[lH],b).n(lH);d.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),c.c(d)}return c.cc(a,ol),c},eR=(a,b)=>{let c=new t.Cx(lH);return c.cc(a,kK),c.cc(a,kV),c.cc(a,lQ),c.cc(a,qC),c.a("xsi:type",a[qx]),c},eS=(a,b)=>a.filter(a=>null!=a).map(a=>eQ(a,b).n(lz)),eT=(a,b)=>{let c=new t.Cx(lP);return c.cc(a,p0),c},eU=(a,b)=>{let c=new t.Cx(l9);return null!=a[kj]&&c.c(eA(a[kj],b).n(kj)),c.cc(a,kr),null!=a[mr]&&c.c(e7(a[mr],b).n(mr)),null!=a[oj]&&c.c(fH(a[oj],b).n(oj)),c},eV=(a,b)=>{let c=new t.Cx(md);return c.cc(a,n9),c.l(a,"Tags","Tag",()=>gi(a[qo],b)),c},eW=(a,b)=>{let c=new t.Cx(mf);return null!=a[lL]&&c.c(t.Cx.of(mm,a[lL]).n(lL)),null!=a[lo]&&c.c(eX(a[lo],b).n(lo)),null!=a[pe]&&c.c(t.Cx.of(mn,a[pe]).n(pe)),c.l(a,"Tierings","Tiering",()=>gn(a[qq],b)),c},eX=(a,b)=>{let c=new t.Cx(ml);return c.cc(a,n9),null!=a[qn]&&c.c(gg(a[qn],b).n(qn)),null!=a[iT]&&c.c(eV(a[iT],b).n(iT)),c},eY=(a,b)=>{let c=new t.Cx(lM);return null!=a[kS]&&c.c(eZ(a[kS],b).n(kS)),null!=a[lS]&&c.c(t.Cx.of(lS,String(a[lS])).n(lS)),null!=a[lo]&&c.c(e_(a[lo],b).n(lo)),null!=a[lL]&&c.c(t.Cx.of(lX,a[lL]).n(lL)),null!=a[l5]&&c.c(t.Cx.of(lY,a[l5]).n(l5)),c.lc(a,"OptionalFields","OptionalFields",()=>e0(a[nK],b)),null!=a[pY]&&c.c(e2(a[pY],b).n(pY)),c},eZ=(a,b)=>{let c=new t.Cx(lR);return null!=a[pi]&&c.c(e1(a[pi],b).n(pi)),c},e$=(a,b)=>{let c=new t.Cx(lT);return null!=a[pR]&&c.c(gd(a[pR],b).n(pE)),null!=a[pN]&&c.c(gb(a[pN],b).n(pt)),c},e_=(a,b)=>{let c=new t.Cx(lU);return c.cc(a,n9),c},e0=(a,b)=>a.filter(a=>null!=a).map(a=>t.Cx.of(l4,a).n(lw)),e1=(a,b)=>{let c=new t.Cx(ma);return c.cc(a,i7),null!=a[jo]&&c.c(t.Cx.of(jB,a[jo]).n(jo)),null!=a[lx]&&c.c(t.Cx.of(lV,a[lx]).n(lx)),c.cc(a,n9),null!=a[lf]&&c.c(e$(a[lf],b).n(lf)),c},e2=(a,b)=>{let c=new t.Cx(mb);return null!=a[ly]&&c.c(t.Cx.of(lW,a[ly]).n(ly)),c},e3=(a,b)=>{let c=new t.Cx(mj);return null!=a[kn]&&c.c(t.Cx.of(lO,a[kn]).n(kn)),null!=a[kZ]&&c.c(fl(a[kZ],b).n(kZ)),c},e4=(a,b)=>{let c=new t.Cx(mi);return null!=a[kn]&&c.c(t.Cx.of(lO,a[kn]).n(kn)),null!=a[kZ]&&c.c(fl(a[kZ],b).n(kZ)),c},e5=(a,b)=>{let c=new t.Cx(mv);return null!=a[oJ]&&c.c(fM(a[oJ],b).n(oJ)),null!=a[kZ]&&c.c(fl(a[kZ],b).n(kZ)),c},e6=(a,b)=>{let c=new t.Cx(mx);return null!=a[oJ]&&c.c(fM(a[oJ],b).n(oJ)),c},e7=(a,b)=>{let c=new t.Cx(ms);return null!=a[qx]&&c.c(t.Cx.of(mu,a[qx]).n(qx)),c},e8=(a,b)=>{let c=new t.Cx(mt);return c.cc(a,oF),c},e9=(a,b)=>{let c=new t.Cx(mN);return null!=a[lL]&&c.c(t.Cx.of(nv,a[lL]).n(lL)),null!=a[mL]&&c.c(t.Cx.of(mL,a[mL]).n(jW)),c.l(a,"Events","Event",()=>eK(a[ll],b)),null!=a[lo]&&c.c(fu(a[lo],b).n(lo)),c},fa=(a,b)=>a.filter(a=>null!=a).map(a=>e9(a,b).n(rx)),fb=(a,b)=>{let c=new t.Cx(mK);return null!=a[kP]&&c.c(t.Cx.of(kP,(0,l.serializeDateTime)(a[kP]).toString()).n(kP)),null!=a[kO]&&c.c(t.Cx.of(kO,String(a[kO])).n(kO)),null!=a[k2]&&c.c(t.Cx.of(k2,String(a[k2])).n(k2)),c},fc=(a,b)=>{let c=new t.Cx(mT);return null!=a[ln]&&c.c(fb(a[ln],b).n(ln)),c.cc(a,lQ),c.cc(a,n9),null!=a[lo]&&c.c(fe(a[lo],b).n(lo)),null!=a[pe]&&c.c(t.Cx.of(k8,a[pe]).n(pe)),c.l(a,"Transitions","Transition",()=>gr(a[qv],b)),c.l(a,"NoncurrentVersionTransitions","NoncurrentVersionTransition",()=>fs(a[nD],b)),null!=a[nB]&&c.c(fq(a[nB],b).n(nB)),null!=a[i6]&&c.c(ed(a[i6],b).n(i6)),c},fd=(a,b)=>{let c=new t.Cx(mU);return c.cc(a,n9),c.l(a,"Tags","Tag",()=>gi(a[qo],b)),null!=a[n1]&&c.c(t.Cx.of(n2,String(a[n1])).n(n1)),null!=a[n3]&&c.c(t.Cx.of(n4,String(a[n3])).n(n3)),c},fe=(a,b)=>{let c=new t.Cx(mV);return c.cc(a,n9),null!=a[qn]&&c.c(gg(a[qn],b).n(qn)),null!=a[n1]&&c.c(t.Cx.of(n2,String(a[n1])).n(n1)),null!=a[n3]&&c.c(t.Cx.of(n4,String(a[n3])).n(n3)),null!=a[iT]&&c.c(fd(a[iT],b).n(iT)),c},ff=(a,b)=>a.filter(a=>null!=a).map(a=>fc(a,b).n(rx)),fg=(a,b)=>{let c=new t.Cx(mO);return null!=a[qx]&&c.c(t.Cx.of(mW,a[qx]).n(qx)),null!=a[nq]&&c.c(t.Cx.of(mR,a[nq]).n(nq)),c},fh=(a,b)=>{let c=new t.Cx(mJ);return c.cc(a,p4),c.lc(a,"TargetGrants","TargetGrants",()=>gk(a[qc],b)),c.cc(a,qh),null!=a[qg]&&c.c(gl(a[qg],b).n(qg)),c},fi=(a,b)=>{let c=new t.Cx(m2);return null!=a[mv]&&c.c(e5(a[mv],b).n(mv)),null!=a[mj]&&c.c(e3(a[mj],b).n(mj)),c},fj=(a,b)=>{let c=new t.Cx(m6);return null!=a[nq]&&c.c(t.Cx.of(nc,a[nq]).n(nq)),null!=a[qJ]&&c.c(t.Cx.of(nl,a[qJ]).n(qJ)),c},fk=(a,b)=>{let c=new t.Cx(nh);return null!=a[pU]&&c.c(f2(a[pU],b).n(pU)),c},fl=(a,b)=>{let c=new t.Cx(nj);return null!=a[ph]&&c.c(t.Cx.of(qk,a[ph]).n(ph)),c.cc(a,mB),c},fm=(a,b)=>{let c=new t.Cx(nm);return null!=a[pe]&&c.c(t.Cx.of(ng,a[pe]).n(pe)),null!=a[ld]&&c.c(fW(a[ld],b).n(ld)),c},fn=(a,b)=>{let c=new t.Cx(mY);return c.cc(a,n9),c.l(a,"Tags","Tag",()=>gi(a[qo],b)),c.cc(a,je),c},fo=(a,b)=>{let c=new t.Cx(m_);return null!=a[lL]&&c.c(t.Cx.of(na,a[lL]).n(lL)),null!=a[lo]&&c.c(fp(a[lo],b).n(lo)),c},fp=(a,b)=>{let c=new t.Cx(m7);return i.visit(a,{Prefix:b=>{null!=a[n9]&&c.c(t.Cx.of(n9,b).n(n9))},Tag:d=>{null!=a[qn]&&c.c(gg(d,b).n(qn))},AccessPointArn:b=>{null!=a[je]&&c.c(t.Cx.of(je,b).n(je))},And:d=>{null!=a[iT]&&c.c(fn(d,b).n(iT))},_:(a,b)=>{if(!(b instanceof t.Cx||b instanceof t.ZQ))throw Error("Unable to serialize unknown union members in XML.");c.c(new t.Cx(a).c(b))}}),c},fq=(a,b)=>{let c=new t.Cx(nB);return null!=a[nu]&&c.c(t.Cx.of(kO,String(a[nu])).n(nu)),null!=a[ny]&&c.c(t.Cx.of(qF,String(a[ny])).n(ny)),c},fr=(a,b)=>{let c=new t.Cx(nE);return null!=a[nu]&&c.c(t.Cx.of(kO,String(a[nu])).n(nu)),null!=a[pj]&&c.c(t.Cx.of(ql,a[pj]).n(pj)),null!=a[ny]&&c.c(t.Cx.of(qF,String(a[ny])).n(ny)),c},fs=(a,b)=>a.filter(a=>null!=a).map(a=>fr(a,b).n(rx)),ft=(a,b)=>{let c=new t.Cx(nr);return c.l(a,"TopicConfigurations","TopicConfiguration",()=>gp(a[p9],b)),c.l(a,"QueueConfigurations","QueueConfiguration",()=>fL(a[or],b)),c.l(a,"LambdaFunctionConfigurations","CloudFunctionConfiguration",()=>fa(a[mM],b)),null!=a[kW]&&c.c(eJ(a[kW],b).n(kW)),c},fu=(a,b)=>{let c=new t.Cx(ns);return null!=a[my]&&c.c(f0(a[my],b).n(px)),c},fv=(a,b)=>{let c=new t.Cx(nL);return null!=a[my]&&c.c(t.Cx.of(nM,a[my]).n(my)),null!=a[qH]&&c.c(t.Cx.of(n7,a[qH]).n(qH)),c.cc(a,lb),null!=a[mQ]&&c.c(t.Cx.of(mQ,(0,l.dateToUtcString)(a[mQ]).toString()).n(mQ)),null!=a[p$]&&c.c(t.Cx.of(p$,String(a[p$])).n(p$)),c},fw=(a,b)=>a.filter(a=>null!=a).map(a=>fv(a,b).n(rx)),fx=(a,b)=>{let c=new t.Cx(nO);return c.cc(a,nP),null!=a[pc]&&c.c(fA(a[pc],b).n(pc)),c},fy=(a,b)=>{let c=new t.Cx(nR);return null!=a[pe]&&c.c(t.Cx.of(nS,a[pe]).n(pe)),c},fz=(a,b)=>{let c=new t.Cx(nU);return null!=a[np]&&c.c(t.Cx.of(nV,a[np]).n(np)),null!=a[o8]&&c.c(t.Cx.of(kP,(0,l.serializeDateTime)(a[o8]).toString()).n(o8)),c},fA=(a,b)=>{let c=new t.Cx(nX);return null!=a[kM]&&c.c(eC(a[kM],b).n(kM)),c},fB=(a,b)=>{let c=new t.Cx(nN);return null!=a[pX]&&c.c(f1(a[pX],b).n(pX)),c},fC=(a,b)=>{let c=new t.Cx(n0);return null!=a[kj]&&c.c(eB(a[kj],b).n(kj)),null!=a[mr]&&c.c(e8(a[mr],b).n(mr)),c},fD=(a,b)=>{let c=new t.Cx(nF);return c.cc(a,kK),c.cc(a,lQ),c},fE=(a,b)=>{let c=new t.Cx(nH);return c.l(a,"Rules","Rule",()=>fG(a[pd],b)),c},fF=(a,b)=>{let c=new t.Cx(nJ);return c.cc(a,nY),c},fG=(a,b)=>a.filter(a=>null!=a).map(a=>fF(a,b).n(rx)),fH=(a,b)=>new t.Cx(od),fI=(a,b)=>{let c=new t.Cx(og);return c.cc(a,oc),c},fJ=(a,b)=>{let c=new t.Cx(oa);return null!=a[jD]&&c.c(t.Cx.of(pZ,String(a[jD])).n(jD)),null!=a[l7]&&c.c(t.Cx.of(pZ,String(a[l7])).n(l7)),null!=a[jE]&&c.c(t.Cx.of(pZ,String(a[jE])).n(jE)),null!=a[oR]&&c.c(t.Cx.of(pZ,String(a[oR])).n(oR)),c},fK=(a,b)=>{let c=new t.Cx(oq);return null!=a[lL]&&c.c(t.Cx.of(nv,a[lL]).n(lL)),null!=a[op]&&c.c(t.Cx.of(op,a[op]).n(ov)),c.l(a,"Events","Event",()=>eK(a[ll],b)),null!=a[lo]&&c.c(fu(a[lo],b).n(lo)),c},fL=(a,b)=>a.filter(a=>null!=a).map(a=>fK(a,b).n(rx)),fM=(a,b)=>{let c=new t.Cx(oJ);return null!=a[ln]&&c.c(t.Cx.of(k9,a[ln]).n(ln)),null!=a[kO]&&c.c(t.Cx.of(oH,String(a[kO])).n(kO)),c},fN=(a,b)=>{let c=new t.Cx(pa);return c.cc(a,lJ),c.cc(a,lK),c.cc(a,om),c.cc(a,oL),c.cc(a,oM),c},fO=(a,b)=>{let c=new t.Cx(ox);return c.cc(a,lJ),c.cc(a,om),c},fP=(a,b)=>{let c=new t.Cx(oN);return null!=a[pe]&&c.c(t.Cx.of(oO,a[pe]).n(pe)),c},fQ=(a,b)=>{let c=new t.Cx(oE);return c.cc(a,pb),c.l(a,"Rules","Rule",()=>fU(a[pd],b)),c},fR=(a,b)=>{let c=new t.Cx(oZ);return c.cc(a,lQ),null!=a[on]&&c.c(t.Cx.of(on,String(a[on])).n(on)),c.cc(a,n9),null!=a[lo]&&c.c(fT(a[lo],b).n(lo)),null!=a[pe]&&c.c(t.Cx.of(oX,a[pe]).n(pe)),null!=a[pF]&&c.c(ga(a[pF],b).n(pF)),null!=a[k3]&&c.c(eL(a[k3],b).n(k3)),null!=a[kS]&&c.c(eF(a[kS],b).n(kS)),null!=a[kG]&&c.c(eE(a[kG],b).n(kG)),c},fS=(a,b)=>{let c=new t.Cx(oV);return c.cc(a,n9),c.l(a,"Tags","Tag",()=>gi(a[qo],b)),c},fT=(a,b)=>{let c=new t.Cx(oW);return c.cc(a,n9),null!=a[qn]&&c.c(gg(a[qn],b).n(qn)),null!=a[iT]&&c.c(fS(a[iT],b).n(iT)),c},fU=(a,b)=>a.filter(a=>null!=a).map(a=>fR(a,b).n(rx)),fV=(a,b)=>{let c=new t.Cx(o7);return null!=a[pe]&&c.c(t.Cx.of(o5,a[pe]).n(pe)),null!=a[qs]&&c.c(fW(a[qs],b).n(qs)),c},fW=(a,b)=>{let c=new t.Cx(o6);return null!=a[no]&&c.c(t.Cx.of(no,String(a[no])).n(no)),c},fX=(a,b)=>{let c=new t.Cx(oS);return c.cc(a,oh),c},fY=(a,b)=>{let c=new t.Cx(oT);return null!=a[lg]&&c.c(t.Cx.of(k5,String(a[lg])).n(lg)),c},fZ=(a,b)=>{let c=new t.Cx(o$);return null!=a[kO]&&c.c(t.Cx.of(kO,String(a[kO])).n(kO)),null!=a[lB]&&c.c(eP(a[lB],b).n(lB)),null!=a[qx]&&c.c(t.Cx.of(oY,a[qx]).n(qx)),c.cc(a,qp),c.cc(a,kT),null!=a[pB]&&c.c(f4(a[pB],b).n(pB)),null!=a[nN]&&c.c(fB(a[nN],b).n(nN)),c},f$=(a,b)=>{let c=new t.Cx(o0);return null!=a[kx]&&c.c(ev(a[kx],b).n(kx)),null!=a[pa]&&c.c(fN(a[pa],b).n(pa)),c},f_=(a,b)=>a.filter(a=>null!=a).map(a=>f$(a,b).n(o0)),f0=(a,b)=>{let c=new t.Cx(pw);return c.l(a,"FilterRules","FilterRule",()=>eO(a[lv],b)),c},f1=(a,b)=>{let c=new t.Cx(py);return c.cc(a,jB),null!=a[n9]&&c.c(t.Cx.of(mS,a[n9]).n(n9)),null!=a[lf]&&c.c(eG(a[lf],b).n(lf)),null!=a[jN]&&c.c(t.Cx.of(nI,a[jN]).n(jN)),c.lc(a,"AccessControlList","AccessControlList",()=>eS(a[iX],b)),null!=a[p1]&&c.c(gh(a[p1],b).n(p1)),c.lc(a,"UserMetadata","UserMetadata",()=>gs(a[qB],b)),c.cc(a,pj),c},f2=(a,b)=>{let c=new t.Cx(pU);return null!=a[p5]&&c.c(t.Cx.of(pT,a[p5]).n(p5)),null!=a[qe]&&c.c(t.Cx.of(pW,a[qe]).n(qe)),c},f3=(a,b)=>{let c=new t.Cx(pD);return null!=a[p_]&&c.c(t.Cx.of(p_,String(a[p_])).n(p_)),null!=a[lh]&&c.c(t.Cx.of(lh,String(a[lh])).n(lh)),c},f4=(a,b)=>{let c=new t.Cx(pB);return null!=a[l9]&&c.c(eU(a[l9],b).n(l9)),c.cc(a,le),c.cc(a,lm),null!=a[n0]&&c.c(fC(a[n0],b).n(n0)),c},f5=(a,b)=>{let c=new t.Cx(pI);return null!=a[pH]&&c.c(t.Cx.of(pG,a[pH]).n(pH)),null!=a[mF]&&c.c(t.Cx.of(pP,a[mF]).n(mF)),c},f6=(a,b)=>{let c=new t.Cx(pJ);return c.l(a,"Rules","Rule",()=>f8(a[pd],b)),c},f7=(a,b)=>{let c=new t.Cx(pQ);return null!=a[jl]&&c.c(f5(a[jl],b).n(jl)),null!=a[ju]&&c.c(t.Cx.of(ju,String(a[ju])).n(ju)),c},f8=(a,b)=>a.filter(a=>null!=a).map(a=>f7(a,b).n(rx)),f9=(a,b)=>new t.Cx(pC),ga=(a,b)=>{let c=new t.Cx(pF);return null!=a[pu]&&c.c(gc(a[pu],b).n(pu)),null!=a[oN]&&c.c(fP(a[oN],b).n(oN)),c},gb=(a,b)=>{let c=new t.Cx(pt);return null!=a[mA]&&c.c(t.Cx.of(pP,a[mA]).n(mA)),c},gc=(a,b)=>{let c=new t.Cx(pu);return null!=a[pe]&&c.c(t.Cx.of(pv,a[pe]).n(pe)),c},gd=(a,b)=>new t.Cx(pE),ge=(a,b)=>{let c=new t.Cx(pk);return null!=a[kA]&&c.c(gf(a[kA],b).n(kA)),c},gf=(a,b)=>{let c=new t.Cx(pl);return null!=a[n5]&&c.c(t.Cx.of(pm,a[n5]).n(n5)),null!=a[kS]&&c.c(em(a[kS],b).n(kS)),c},gg=(a,b)=>{let c=new t.Cx(qn);return null!=a[my]&&c.c(t.Cx.of(nM,a[my]).n(my)),c.cc(a,qJ),c},gh=(a,b)=>{let c=new t.Cx(p1);return c.lc(a,"TagSet","TagSet",()=>gi(a[qj],b)),c},gi=(a,b)=>a.filter(a=>null!=a).map(a=>gg(a,b).n(qn)),gj=(a,b)=>{let c=new t.Cx(qd);if(null!=a[lH]){let d=eR(a[lH],b).n(lH);d.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),c.c(d)}return null!=a[ol]&&c.c(t.Cx.of(jy,a[ol]).n(ol)),c},gk=(a,b)=>a.filter(a=>null!=a).map(a=>gj(a,b).n(lz)),gl=(a,b)=>{let c=new t.Cx(qg);return null!=a[pC]&&c.c(f9(a[pC],b).n(pC)),null!=a[og]&&c.c(fI(a[og],b).n(og)),c},gm=(a,b)=>{let c=new t.Cx(qr);return null!=a[kO]&&c.c(t.Cx.of(mk,String(a[kO])).n(kO)),null!=a[jm]&&c.c(t.Cx.of(me,a[jm]).n(jm)),c},gn=(a,b)=>a.filter(a=>null!=a).map(a=>gm(a,b).n(rx)),go=(a,b)=>{let c=new t.Cx(p8);return null!=a[lL]&&c.c(t.Cx.of(nv,a[lL]).n(lL)),null!=a[p2]&&c.c(t.Cx.of(p2,a[p2]).n(qu)),c.l(a,"Events","Event",()=>eK(a[ll],b)),null!=a[lo]&&c.c(fu(a[lo],b).n(lo)),c},gp=(a,b)=>a.filter(a=>null!=a).map(a=>go(a,b).n(rx)),gq=(a,b)=>{let c=new t.Cx(qw);return null!=a[kP]&&c.c(t.Cx.of(kP,(0,l.serializeDateTime)(a[kP]).toString()).n(kP)),null!=a[kO]&&c.c(t.Cx.of(kO,String(a[kO])).n(kO)),null!=a[pj]&&c.c(t.Cx.of(ql,a[pj]).n(pj)),c},gr=(a,b)=>a.filter(a=>null!=a).map(a=>gq(a,b).n(rx)),gs=(a,b)=>a.filter(a=>null!=a).map(a=>fj(a,b).n(m6)),gt=(a,b)=>{let c=new t.Cx(qG);return null!=a[m9]&&c.c(t.Cx.of(m9,a[m9]).n(m5)),null!=a[pe]&&c.c(t.Cx.of(jJ,a[pe]).n(pe)),c},gu=(a,b)=>{let c=new t.Cx(qL);return null!=a[k$]&&c.c(eI(a[k$],b).n(k$)),null!=a[lP]&&c.c(eT(a[lP],b).n(lP)),null!=a[ox]&&c.c(fO(a[ox],b).n(ox)),c.lc(a,"RoutingRules","RoutingRules",()=>f_(a[o_],b)),c},gv=(a,b)=>{let c={};return null!=a[kz]&&(c[kz]=(0,l.strictParseInt32)(a[kz])),c},gw=(a,b)=>{let c={};return null!=a[nF]&&(c[nF]=(0,l.expectString)(a[nF])),c},gx=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>(0,l.expectString)(a)),gy=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>(0,l.expectString)(a)),gz=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>(0,l.expectString)(a)),gA=(a,b)=>{let c={};return null!=a[n9]&&(c[n9]=(0,l.expectString)(a[n9])),""===String(a.Tag).trim()?c[qo]=[]:null!=a[qn]&&(c[qo]=iH((0,l.getArrayIfSingleItem)(a[qn]),b)),c},gB=(a,b)=>{let c={};return null!=a[lL]&&(c[lL]=(0,l.expectString)(a[lL])),""===String(a.Filter).trim()||null!=a[lo]&&(c[lo]=gE((0,l.expectUnion)(a[lo]),b)),null!=a[pk]&&(c[pk]=iE(a[pk],b)),c},gC=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>gB(a,b)),gD=(a,b)=>{let c={};return null!=a[pi]&&(c[pi]=gF(a[pi],b)),c},gE=(a,b)=>null!=a[n9]?{Prefix:(0,l.expectString)(a[n9])}:null!=a[qn]?{Tag:iG(a[qn],b)}:null!=a[iT]?{And:gA(a[iT],b)}:{$unknown:Object.entries(a)[0]},gF=(a,b)=>{let c={};return null!=a[lx]&&(c[lx]=(0,l.expectString)(a[lx])),null!=a[jq]&&(c[jq]=(0,l.expectString)(a[jq])),null!=a[jo]&&(c[jo]=(0,l.expectString)(a[jo])),null!=a[n9]&&(c[n9]=(0,l.expectString)(a[n9])),c},gG=(a,b)=>{let c={};return null!=a[nq]&&(c[nq]=(0,l.expectString)(a[nq])),null!=a[jU]&&(c[jU]=(0,l.expectNonNull)((0,l.parseRfc3339DateTimeWithOffset)(a[jU]))),null!=a[jF]&&(c[jF]=(0,l.expectString)(a[jF])),null!=a[jp]&&(c[jp]=(0,l.expectString)(a[jp])),c},gH=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>gG(a,b)),gI=(a,b)=>{let c={};return null!=a[jQ]&&(c[jQ]=(0,l.expectString)(a[jQ])),null!=a[jR]&&(c[jR]=(0,l.expectString)(a[jR])),null!=a[jS]&&(c[jS]=(0,l.expectString)(a[jS])),null!=a[j9]&&(c[j9]=(0,l.expectString)(a[j9])),null!=a[ka]&&(c[ka]=(0,l.expectString)(a[ka])),null!=a[ko]&&(c[ko]=(0,l.expectString)(a[ko])),c},gJ=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>(0,l.expectString)(a)),gK=(a,b)=>{let c={};return null!=a[n9]&&(c[n9]=(0,l.expectString)(a[n9])),c},gL=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>gK(a,b)),gM=(a,b)=>{let c={};return null!=a[lI]&&(c[lI]=(0,l.expectString)(a[lI])),null!=a[mG]&&(c[mG]=(0,l.expectString)(a[mG])),c},gN=(a,b)=>({}),gO=(a,b)=>{let c={};return null!=a[lb]&&(c[lb]=(0,l.expectString)(a[lb])),null!=a[mP]&&(c[mP]=(0,l.expectNonNull)((0,l.parseRfc3339DateTimeWithOffset)(a[mP]))),null!=a[ko]&&(c[ko]=(0,l.expectString)(a[ko])),null!=a[jQ]&&(c[jQ]=(0,l.expectString)(a[jQ])),null!=a[jR]&&(c[jR]=(0,l.expectString)(a[jR])),null!=a[jS]&&(c[jS]=(0,l.expectString)(a[jS])),null!=a[j9]&&(c[j9]=(0,l.expectString)(a[j9])),null!=a[ka]&&(c[ka]=(0,l.expectString)(a[ka])),c},gP=(a,b)=>{let c={};return null!=a[lb]&&(c[lb]=(0,l.expectString)(a[lb])),null!=a[mP]&&(c[mP]=(0,l.expectNonNull)((0,l.parseRfc3339DateTimeWithOffset)(a[mP]))),null!=a[jQ]&&(c[jQ]=(0,l.expectString)(a[jQ])),null!=a[jR]&&(c[jR]=(0,l.expectString)(a[jR])),null!=a[jS]&&(c[jS]=(0,l.expectString)(a[jS])),null!=a[j9]&&(c[j9]=(0,l.expectString)(a[j9])),null!=a[ka]&&(c[ka]=(0,l.expectString)(a[ka])),c},gQ=(a,b)=>{let c={};return null!=a[lQ]&&(c[lQ]=(0,l.expectString)(a[lQ])),""===String(a.AllowedHeader).trim()?c[i4]=[]:null!=a[i3]&&(c[i4]=gx((0,l.getArrayIfSingleItem)(a[i3]),b)),""===String(a.AllowedMethod).trim()?c[ja]=[]:null!=a[i9]&&(c[ja]=gy((0,l.getArrayIfSingleItem)(a[i9]),b)),""===String(a.AllowedOrigin).trim()?c[jc]=[]:null!=a[jb]&&(c[jc]=gz((0,l.getArrayIfSingleItem)(a[jb]),b)),""===String(a.ExposeHeader).trim()?c[k_]=[]:null!=a[k0]&&(c[k_]=g7((0,l.getArrayIfSingleItem)(a[k0]),b)),null!=a[mZ]&&(c[mZ]=(0,l.strictParseInt32)(a[mZ])),c},gR=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>gQ(a,b)),gS=(a,b)=>{let c={};return null!=a[np]&&(c[np]=(0,l.expectString)(a[np])),null!=a[kO]&&(c[kO]=(0,l.strictParseInt32)(a[kO])),null!=a[qO]&&(c[qO]=(0,l.strictParseInt32)(a[qO])),c},gT=(a,b)=>{let c={};return null!=a[my]&&(c[my]=(0,l.expectString)(a[my])),null!=a[qH]&&(c[qH]=(0,l.expectString)(a[qH])),null!=a[kF]&&(c[kF]=(0,l.parseBoolean)(a[kF])),null!=a[kI]&&(c[kI]=(0,l.expectString)(a[kI])),c},gU=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>gT(a,b)),gV=(a,b)=>{let c={};return null!=a[nF]&&(c[nF]=h$(a[nF],b)),null!=a[my]&&(c[my]=(0,l.expectString)(a[my])),null!=a[qH]&&(c[qH]=(0,l.expectString)(a[qH])),null!=a[lZ]&&(c[lZ]=(0,l.parseBoolean)(a[lZ])),null!=a[mP]&&(c[mP]=(0,l.expectNonNull)((0,l.parseRfc3339DateTimeWithOffset)(a[mP]))),c},gW=(a,b)=>{let c={};return null!=a[pe]&&(c[pe]=(0,l.expectString)(a[pe])),c},gX=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>gV(a,b)),gY=(a,b)=>{let c={};return null!=a[jo]&&(c[jo]=(0,l.expectString)(a[jo])),null!=a[jn]&&(c[jn]=(0,l.expectString)(a[jn])),null!=a[pj]&&(c[pj]=(0,l.expectString)(a[pj])),null!=a[i$]&&(c[i$]=gw(a[i$],b)),null!=a[kZ]&&(c[kZ]=g$(a[kZ],b)),null!=a[o7]&&(c[o7]=il(a[o7],b)),null!=a[nm]&&(c[nm]=hG(a[nm],b)),c},gZ=(a,b)=>{let c={};return null!=a[p6]&&(c[p6]=(0,l.expectString)(a[p6])),null!=a[p5]&&(c[p5]=(0,l.expectString)(a[p5])),null!=a[qf]&&(c[qf]=(0,l.expectString)(a[qf])),c},g$=(a,b)=>{let c={};return null!=a[oK]&&(c[oK]=(0,l.expectString)(a[oK])),c},g_=(a,b)=>({}),g0=(a,b)=>{let c={};return null!=a[my]&&(c[my]=(0,l.expectString)(a[my])),null!=a[qH]&&(c[qH]=(0,l.expectString)(a[qH])),null!=a[kv]&&(c[kv]=(0,l.expectString)(a[kv])),null!=a[nn]&&(c[nn]=(0,l.expectString)(a[nn])),c},g1=(a,b)=>{let c={};return null!=a[kY]&&(c[kY]=(0,l.expectString)(a[kY])),null!=a[k1]&&(c[k1]=(0,l.expectString)(a[k1])),c},g2=(a,b)=>{let c={};return null!=a[my]&&(c[my]=(0,l.expectString)(a[my])),c},g3=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>g0(a,b)),g4=(a,b)=>({}),g5=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>(0,l.expectString)(a)),g6=(a,b)=>{let c={};return null!=a[pe]&&(c[pe]=(0,l.expectString)(a[pe])),c},g7=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>(0,l.expectString)(a)),g8=(a,b)=>{let c={};return null!=a[nq]&&(c[nq]=(0,l.expectString)(a[nq])),null!=a[qJ]&&(c[qJ]=(0,l.expectString)(a[qJ])),c},g9=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>g8(a,b)),ha=(a,b)=>{let c={};return null!=a[m1]&&(c[m1]=hE(a[m1],b)),c},hb=(a,b)=>{let c={};return null!=a[ni]&&(c[ni]=hF(a[ni],b)),null!=a[pe]&&(c[pe]=(0,l.expectString)(a[pe])),null!=a[li]&&(c[li]=g1(a[li],b)),c},hc=(a,b)=>{let c={};return null!=a[ob]&&(c[qi]=(0,l.strictParseInt32)(a[ob])),null!=a[of]&&(c[of]=(0,l.expectString)(a[of])),null!=a[nz]&&(c[nz]=(0,l.expectString)(a[nz])),null!=a[nf]&&(c[nf]=(0,l.strictParseInt32)(a[nf])),null!=a[mc]&&(c[mc]=(0,l.parseBoolean)(a[mc])),""===String(a.Part).trim()?c[ok]=[]:null!=a[oi]&&(c[ok]=h5((0,l.getArrayIfSingleItem)(a[oi]),b)),c},hd=(a,b)=>{let c={};return null!=a[lH]&&(c[lH]=he(a[lH],b)),null!=a[ol]&&(c[ol]=(0,l.expectString)(a[ol])),c},he=(a,b)=>{let c={};return null!=a[kK]&&(c[kK]=(0,l.expectString)(a[kK])),null!=a[kV]&&(c[kV]=(0,l.expectString)(a[kV])),null!=a[lQ]&&(c[lQ]=(0,l.expectString)(a[lQ])),null!=a[qC]&&(c[qC]=(0,l.expectString)(a[qC])),null!=a[r9]&&(c[qx]=(0,l.expectString)(a[r9])),c},hf=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>hd(a,b)),hg=(a,b)=>{let c={};return null!=a[p0]&&(c[p0]=(0,l.expectString)(a[p0])),c},hh=(a,b)=>{let c={};return null!=a[lQ]&&(c[lQ]=(0,l.expectString)(a[lQ])),null!=a[kK]&&(c[kK]=(0,l.expectString)(a[kK])),c},hi=(a,b)=>{let c={};return null!=a[n9]&&(c[n9]=(0,l.expectString)(a[n9])),""===String(a.Tag).trim()?c[qo]=[]:null!=a[qn]&&(c[qo]=iH((0,l.getArrayIfSingleItem)(a[qn]),b)),c},hj=(a,b)=>{let c={};return null!=a[lL]&&(c[lL]=(0,l.expectString)(a[lL])),null!=a[lo]&&(c[lo]=hl(a[lo],b)),null!=a[pe]&&(c[pe]=(0,l.expectString)(a[pe])),""===String(a.Tiering).trim()?c[qq]=[]:null!=a[qr]&&(c[qq]=iM((0,l.getArrayIfSingleItem)(a[qr]),b)),c},hk=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>hj(a,b)),hl=(a,b)=>{let c={};return null!=a[n9]&&(c[n9]=(0,l.expectString)(a[n9])),null!=a[qn]&&(c[qn]=iG(a[qn],b)),null!=a[iT]&&(c[iT]=hi(a[iT],b)),c},hm=(a,b)=>{let c={};return null!=a[kS]&&(c[kS]=ho(a[kS],b)),null!=a[lS]&&(c[lS]=(0,l.parseBoolean)(a[lS])),null!=a[lo]&&(c[lo]=hq(a[lo],b)),null!=a[lL]&&(c[lL]=(0,l.expectString)(a[lL])),null!=a[l5]&&(c[l5]=(0,l.expectString)(a[l5])),""===String(a.OptionalFields).trim()?c[nK]=[]:null!=a[nK]&&null!=a[nK][lw]&&(c[nK]=hr((0,l.getArrayIfSingleItem)(a[nK][lw]),b)),null!=a[pY]&&(c[pY]=ht(a[pY],b)),c},hn=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>hm(a,b)),ho=(a,b)=>{let c={};return null!=a[pi]&&(c[pi]=hs(a[pi],b)),c},hp=(a,b)=>{let c={};return null!=a[pE]&&(c[pR]=iC(a[pE],b)),null!=a[pt]&&(c[pN]=iA(a[pt],b)),c},hq=(a,b)=>{let c={};return null!=a[n9]&&(c[n9]=(0,l.expectString)(a[n9])),c},hr=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>(0,l.expectString)(a)),hs=(a,b)=>{let c={};return null!=a[i7]&&(c[i7]=(0,l.expectString)(a[i7])),null!=a[jo]&&(c[jo]=(0,l.expectString)(a[jo])),null!=a[lx]&&(c[lx]=(0,l.expectString)(a[lx])),null!=a[n9]&&(c[n9]=(0,l.expectString)(a[n9])),null!=a[lf]&&(c[lf]=hp(a[lf],b)),c},ht=(a,b)=>{let c={};return null!=a[ly]&&(c[ly]=(0,l.expectString)(a[ly])),c},hu=(a,b)=>{let c={};return null!=a[kn]&&(c[kn]=(0,l.expectString)(a[kn])),null!=a[qm]&&(c[qm]=(0,l.expectString)(a[qm])),null!=a[li]&&(c[li]=g1(a[li],b)),null!=a[qe]&&(c[qe]=(0,l.expectString)(a[qe])),null!=a[p3]&&(c[p3]=(0,l.expectString)(a[p3])),c},hv=(a,b)=>{let c={};return null!=a[qm]&&(c[qm]=(0,l.expectString)(a[qm])),null!=a[li]&&(c[li]=g1(a[li],b)),null!=a[qe]&&(c[qe]=(0,l.expectString)(a[qe])),null!=a[p3]&&(c[p3]=(0,l.expectString)(a[p3])),null!=a[oJ]&&(c[oJ]=ib(a[oJ],b)),c},hw=(a,b)=>{let c={};return null!=a[lL]&&(c[lL]=(0,l.expectString)(a[lL])),null!=a[jW]&&(c[mL]=(0,l.expectString)(a[jW])),""===String(a.Event).trim()?c[ll]=[]:null!=a[lk]&&(c[ll]=g5((0,l.getArrayIfSingleItem)(a[lk]),b)),null!=a[lo]&&(c[lo]=hQ(a[lo],b)),c},hx=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>hw(a,b)),hy=(a,b)=>{let c={};return null!=a[kP]&&(c[kP]=(0,l.expectNonNull)((0,l.parseRfc3339DateTimeWithOffset)(a[kP]))),null!=a[kO]&&(c[kO]=(0,l.strictParseInt32)(a[kO])),null!=a[k2]&&(c[k2]=(0,l.parseBoolean)(a[k2])),c},hz=(a,b)=>{let c={};return null!=a[ln]&&(c[ln]=hy(a[ln],b)),null!=a[lQ]&&(c[lQ]=(0,l.expectString)(a[lQ])),null!=a[n9]&&(c[n9]=(0,l.expectString)(a[n9])),null!=a[lo]&&(c[lo]=hB(a[lo],b)),null!=a[pe]&&(c[pe]=(0,l.expectString)(a[pe])),""===String(a.Transition).trim()?c[qv]=[]:null!=a[qw]&&(c[qv]=iQ((0,l.getArrayIfSingleItem)(a[qw]),b)),""===String(a.NoncurrentVersionTransition).trim()?c[nD]=[]:null!=a[nE]&&(c[nD]=hP((0,l.getArrayIfSingleItem)(a[nE]),b)),null!=a[nB]&&(c[nB]=hN(a[nB],b)),null!=a[i6]&&(c[i6]=gv(a[i6],b)),c},hA=(a,b)=>{let c={};return null!=a[n9]&&(c[n9]=(0,l.expectString)(a[n9])),""===String(a.Tag).trim()?c[qo]=[]:null!=a[qn]&&(c[qo]=iH((0,l.getArrayIfSingleItem)(a[qn]),b)),null!=a[n1]&&(c[n1]=(0,l.strictParseLong)(a[n1])),null!=a[n3]&&(c[n3]=(0,l.strictParseLong)(a[n3])),c},hB=(a,b)=>{let c={};return null!=a[n9]&&(c[n9]=(0,l.expectString)(a[n9])),null!=a[qn]&&(c[qn]=iG(a[qn],b)),null!=a[n1]&&(c[n1]=(0,l.strictParseLong)(a[n1])),null!=a[n3]&&(c[n3]=(0,l.strictParseLong)(a[n3])),null!=a[iT]&&(c[iT]=hA(a[iT],b)),c},hC=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>hz(a,b)),hD=(a,b)=>{let c={};return null!=a[p4]&&(c[p4]=(0,l.expectString)(a[p4])),""===String(a.TargetGrants).trim()?c[qc]=[]:null!=a[qc]&&null!=a[qc][lz]&&(c[qc]=iJ((0,l.getArrayIfSingleItem)(a[qc][lz]),b)),null!=a[qh]&&(c[qh]=(0,l.expectString)(a[qh])),null!=a[qg]&&(c[qg]=iK(a[qg],b)),c},hE=(a,b)=>{let c={};return null!=a[kN]&&(c[kN]=gZ(a[kN],b)),null!=a[mw]&&(c[mw]=hv(a[mw],b)),null!=a[mh]&&(c[mh]=hu(a[mh],b)),c},hF=(a,b)=>{let c={};return null!=a[pV]&&(c[pV]=is(a[pV],b)),c},hG=(a,b)=>{let c={};return null!=a[pe]&&(c[pe]=(0,l.expectString)(a[pe])),null!=a[ld]&&(c[ld]=im(a[ld],b)),c},hH=(a,b)=>{let c={};return null!=a[n9]&&(c[n9]=(0,l.expectString)(a[n9])),""===String(a.Tag).trim()?c[qo]=[]:null!=a[qn]&&(c[qo]=iH((0,l.getArrayIfSingleItem)(a[qn]),b)),null!=a[je]&&(c[je]=(0,l.expectString)(a[je])),c},hI=(a,b)=>{let c={};return null!=a[lL]&&(c[lL]=(0,l.expectString)(a[lL])),""===String(a.Filter).trim()||null!=a[lo]&&(c[lo]=hK((0,l.expectUnion)(a[lo]),b)),c},hJ=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>hI(a,b)),hK=(a,b)=>null!=a[n9]?{Prefix:(0,l.expectString)(a[n9])}:null!=a[qn]?{Tag:iG(a[qn],b)}:null!=a[je]?{AccessPointArn:(0,l.expectString)(a[je])}:null!=a[iT]?{And:hH(a[iT],b)}:{$unknown:Object.entries(a)[0]},hL=(a,b)=>{let c={};return null!=a[qz]&&(c[qz]=(0,l.expectString)(a[qz])),null!=a[my]&&(c[my]=(0,l.expectString)(a[my])),null!=a[mq]&&(c[mq]=(0,l.expectNonNull)((0,l.parseRfc3339DateTimeWithOffset)(a[mq]))),null!=a[pj]&&(c[pj]=(0,l.expectString)(a[pj])),null!=a[nF]&&(c[nF]=h$(a[nF],b)),null!=a[mp]&&(c[mp]=hh(a[mp],b)),null!=a[jM]&&(c[jM]=(0,l.expectString)(a[jM])),null!=a[ko]&&(c[ko]=(0,l.expectString)(a[ko])),c},hM=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>hL(a,b)),hN=(a,b)=>{let c={};return null!=a[nu]&&(c[nu]=(0,l.strictParseInt32)(a[nu])),null!=a[ny]&&(c[ny]=(0,l.strictParseInt32)(a[ny])),c},hO=(a,b)=>{let c={};return null!=a[nu]&&(c[nu]=(0,l.strictParseInt32)(a[nu])),null!=a[pj]&&(c[pj]=(0,l.expectString)(a[pj])),null!=a[ny]&&(c[ny]=(0,l.strictParseInt32)(a[ny])),c},hP=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>hO(a,b)),hQ=(a,b)=>{let c={};return null!=a[px]&&(c[my]=ir(a[px],b)),c},hR=(a,b)=>{let c={};return null!=a[my]&&(c[my]=(0,l.expectString)(a[my])),null!=a[mP]&&(c[mP]=(0,l.expectNonNull)((0,l.parseRfc3339DateTimeWithOffset)(a[mP]))),null!=a[lb]&&(c[lb]=(0,l.expectString)(a[lb])),""===String(a.ChecksumAlgorithm).trim()?c[jM]=[]:null!=a[jM]&&(c[jM]=gJ((0,l.getArrayIfSingleItem)(a[jM]),b)),null!=a[ko]&&(c[ko]=(0,l.expectString)(a[ko])),null!=a[p$]&&(c[p$]=(0,l.strictParseLong)(a[p$])),null!=a[pj]&&(c[pj]=(0,l.expectString)(a[pj])),null!=a[nF]&&(c[nF]=h$(a[nF],b)),null!=a[o3]&&(c[o3]=io(a[o3],b)),c},hS=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>hR(a,b)),hT=(a,b)=>{let c={};return null!=a[nP]&&(c[nP]=(0,l.expectString)(a[nP])),null!=a[pc]&&(c[pc]=hW(a[pc],b)),c},hU=(a,b)=>{let c={};return null!=a[pe]&&(c[pe]=(0,l.expectString)(a[pe])),c},hV=(a,b)=>{let c={};return null!=a[np]&&(c[np]=(0,l.expectString)(a[np])),null!=a[o8]&&(c[o8]=(0,l.expectNonNull)((0,l.parseRfc3339DateTimeWithOffset)(a[o8]))),c},hW=(a,b)=>{let c={};return null!=a[kM]&&(c[kM]=gS(a[kM],b)),c},hX=(a,b)=>{let c={};return null!=a[oe]&&(c[oe]=(0,l.strictParseInt32)(a[oe])),null!=a[p$]&&(c[p$]=(0,l.strictParseLong)(a[p$])),null!=a[jQ]&&(c[jQ]=(0,l.expectString)(a[jQ])),null!=a[jR]&&(c[jR]=(0,l.expectString)(a[jR])),null!=a[jS]&&(c[jS]=(0,l.expectString)(a[jS])),null!=a[j9]&&(c[j9]=(0,l.expectString)(a[j9])),null!=a[ka]&&(c[ka]=(0,l.expectString)(a[ka])),c},hY=(a,b)=>{let c={};return null!=a[lb]&&(c[lb]=(0,l.expectString)(a[lb])),""===String(a.ChecksumAlgorithm).trim()?c[jM]=[]:null!=a[jM]&&(c[jM]=gJ((0,l.getArrayIfSingleItem)(a[jM]),b)),null!=a[ko]&&(c[ko]=(0,l.expectString)(a[ko])),null!=a[p$]&&(c[p$]=(0,l.strictParseLong)(a[p$])),null!=a[pj]&&(c[pj]=(0,l.expectString)(a[pj])),null!=a[my]&&(c[my]=(0,l.expectString)(a[my])),null!=a[qH]&&(c[qH]=(0,l.expectString)(a[qH])),null!=a[lZ]&&(c[lZ]=(0,l.parseBoolean)(a[lZ])),null!=a[mP]&&(c[mP]=(0,l.expectNonNull)((0,l.parseRfc3339DateTimeWithOffset)(a[mP]))),null!=a[nF]&&(c[nF]=h$(a[nF],b)),null!=a[o3]&&(c[o3]=io(a[o3],b)),c},hZ=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>hY(a,b)),h$=(a,b)=>{let c={};return null!=a[kK]&&(c[kK]=(0,l.expectString)(a[kK])),null!=a[lQ]&&(c[lQ]=(0,l.expectString)(a[lQ])),c},h_=(a,b)=>{let c={};return""===String(a.Rule).trim()?c[pd]=[]:null!=a[pc]&&(c[pd]=h1((0,l.getArrayIfSingleItem)(a[pc]),b)),c},h0=(a,b)=>{let c={};return null!=a[nY]&&(c[nY]=(0,l.expectString)(a[nY])),c},h1=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>h0(a,b)),h2=(a,b)=>{let c={};return null!=a[oe]&&(c[oe]=(0,l.strictParseInt32)(a[oe])),null!=a[mP]&&(c[mP]=(0,l.expectNonNull)((0,l.parseRfc3339DateTimeWithOffset)(a[mP]))),null!=a[lb]&&(c[lb]=(0,l.expectString)(a[lb])),null!=a[p$]&&(c[p$]=(0,l.strictParseLong)(a[p$])),null!=a[jQ]&&(c[jQ]=(0,l.expectString)(a[jQ])),null!=a[jR]&&(c[jR]=(0,l.expectString)(a[jR])),null!=a[jS]&&(c[jS]=(0,l.expectString)(a[jS])),null!=a[j9]&&(c[j9]=(0,l.expectString)(a[j9])),null!=a[ka]&&(c[ka]=(0,l.expectString)(a[ka])),c},h3=(a,b)=>{let c={};return null!=a[oc]&&(c[oc]=(0,l.expectString)(a[oc])),c},h4=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>h2(a,b)),h5=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>hX(a,b)),h6=(a,b)=>{let c={};return null!=a[l6]&&(c[l6]=(0,l.parseBoolean)(a[l6])),c},h7=(a,b)=>{let c={};return null!=a[jH]&&(c[jH]=(0,l.strictParseLong)(a[jH])),null!=a[jC]&&(c[jC]=(0,l.strictParseLong)(a[jC])),null!=a[jG]&&(c[jG]=(0,l.strictParseLong)(a[jG])),c},h8=(a,b)=>{let c={};return null!=a[jD]&&(c[jD]=(0,l.parseBoolean)(a[jD])),null!=a[l7]&&(c[l7]=(0,l.parseBoolean)(a[l7])),null!=a[jE]&&(c[jE]=(0,l.parseBoolean)(a[jE])),null!=a[oR]&&(c[oR]=(0,l.parseBoolean)(a[oR])),c},h9=(a,b)=>{let c={};return null!=a[lL]&&(c[lL]=(0,l.expectString)(a[lL])),null!=a[ov]&&(c[op]=(0,l.expectString)(a[ov])),""===String(a.Event).trim()?c[ll]=[]:null!=a[lk]&&(c[ll]=g5((0,l.getArrayIfSingleItem)(a[lk]),b)),null!=a[lo]&&(c[lo]=hQ(a[lo],b)),c},ia=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>h9(a,b)),ib=(a,b)=>{let c={};return null!=a[ln]&&(c[ln]=(0,l.expectString)(a[ln])),null!=a[kO]&&(c[kO]=(0,l.strictParseInt32)(a[kO])),c},ic=(a,b)=>{let c={};return null!=a[lJ]&&(c[lJ]=(0,l.expectString)(a[lJ])),null!=a[lK]&&(c[lK]=(0,l.expectString)(a[lK])),null!=a[om]&&(c[om]=(0,l.expectString)(a[om])),null!=a[oL]&&(c[oL]=(0,l.expectString)(a[oL])),null!=a[oM]&&(c[oM]=(0,l.expectString)(a[oM])),c},id=(a,b)=>{let c={};return null!=a[lJ]&&(c[lJ]=(0,l.expectString)(a[lJ])),null!=a[om]&&(c[om]=(0,l.expectString)(a[om])),c},ie=(a,b)=>{let c={};return null!=a[pe]&&(c[pe]=(0,l.expectString)(a[pe])),c},ig=(a,b)=>{let c={};return null!=a[pb]&&(c[pb]=(0,l.expectString)(a[pb])),""===String(a.Rule).trim()?c[pd]=[]:null!=a[pc]&&(c[pd]=ik((0,l.getArrayIfSingleItem)(a[pc]),b)),c},ih=(a,b)=>{let c={};return null!=a[lQ]&&(c[lQ]=(0,l.expectString)(a[lQ])),null!=a[on]&&(c[on]=(0,l.strictParseInt32)(a[on])),null!=a[n9]&&(c[n9]=(0,l.expectString)(a[n9])),null!=a[lo]&&(c[lo]=ij(a[lo],b)),null!=a[pe]&&(c[pe]=(0,l.expectString)(a[pe])),null!=a[pF]&&(c[pF]=iz(a[pF],b)),null!=a[k3]&&(c[k3]=g6(a[k3],b)),null!=a[kS]&&(c[kS]=gY(a[kS],b)),null!=a[kG]&&(c[kG]=gW(a[kG],b)),c},ii=(a,b)=>{let c={};return null!=a[n9]&&(c[n9]=(0,l.expectString)(a[n9])),""===String(a.Tag).trim()?c[qo]=[]:null!=a[qn]&&(c[qo]=iH((0,l.getArrayIfSingleItem)(a[qn]),b)),c},ij=(a,b)=>{let c={};return null!=a[n9]&&(c[n9]=(0,l.expectString)(a[n9])),null!=a[qn]&&(c[qn]=iG(a[qn],b)),null!=a[iT]&&(c[iT]=ii(a[iT],b)),c},ik=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>ih(a,b)),il=(a,b)=>{let c={};return null!=a[pe]&&(c[pe]=(0,l.expectString)(a[pe])),null!=a[qs]&&(c[qs]=im(a[qs],b)),c},im=(a,b)=>{let c={};return null!=a[no]&&(c[no]=(0,l.strictParseInt32)(a[no])),c},io=(a,b)=>{let c={};return null!=a[l8]&&(c[l8]=(0,l.parseBoolean)(a[l8])),null!=a[oI]&&(c[oI]=(0,l.expectNonNull)((0,l.parseRfc3339DateTimeWithOffset)(a[oI]))),c},ip=(a,b)=>{let c={};return null!=a[kx]&&(c[kx]=gM(a[kx],b)),null!=a[pa]&&(c[pa]=ic(a[pa],b)),c},iq=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>ip(a,b)),ir=(a,b)=>{let c={};return""===String(a.FilterRule).trim()?c[lv]=[]:null!=a[ls]&&(c[lv]=g9((0,l.getArrayIfSingleItem)(a[ls]),b)),c},is=(a,b)=>{let c={};return null!=a[p5]&&(c[p5]=(0,l.expectString)(a[p5])),null!=a[qe]&&(c[qe]=(0,l.expectString)(a[qe])),null!=a[p3]&&(c[p3]=(0,l.expectString)(a[p3])),null!=a[qf]&&(c[qf]=(0,l.expectString)(a[qf])),c},it=(a,b)=>{let c={};return null!=a[pH]&&(c[pH]=(0,l.expectString)(a[pH])),null!=a[mF]&&(c[mF]=(0,l.expectString)(a[mF])),c},iu=(a,b)=>{let c={};return""===String(a.Rule).trim()?c[pd]=[]:null!=a[pc]&&(c[pd]=iw((0,l.getArrayIfSingleItem)(a[pc]),b)),c},iv=(a,b)=>{let c={};return null!=a[jl]&&(c[jl]=it(a[jl],b)),null!=a[ju]&&(c[ju]=(0,l.parseBoolean)(a[ju])),c},iw=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>iv(a,b)),ix=(a,b)=>{let c={};return null!=a[i8]&&(c[i8]=(0,l.expectString)(a[i8])),null!=a[pg]&&(c[pg]=(0,l.expectString)(a[pg])),null!=a[pS]&&(c[pS]=(0,l.expectString)(a[pS])),null!=a[ln]&&(c[ln]=(0,l.expectNonNull)((0,l.parseRfc3339DateTimeWithOffset)(a[ln]))),c},iy=(a,b)=>({}),iz=(a,b)=>{let c={};return null!=a[pu]&&(c[pu]=iB(a[pu],b)),null!=a[oN]&&(c[oN]=ie(a[oN],b)),c},iA=(a,b)=>{let c={};return null!=a[mA]&&(c[mA]=(0,l.expectString)(a[mA])),c},iB=(a,b)=>{let c={};return null!=a[pe]&&(c[pe]=(0,l.expectString)(a[pe])),c},iC=(a,b)=>({}),iD=(a,b)=>{let c={};return null!=a[jH]&&(c[jH]=(0,l.strictParseLong)(a[jH])),null!=a[jC]&&(c[jC]=(0,l.strictParseLong)(a[jC])),null!=a[jG]&&(c[jG]=(0,l.strictParseLong)(a[jG])),c},iE=(a,b)=>{let c={};return null!=a[kA]&&(c[kA]=iF(a[kA],b)),c},iF=(a,b)=>{let c={};return null!=a[n5]&&(c[n5]=(0,l.expectString)(a[n5])),null!=a[kS]&&(c[kS]=gD(a[kS],b)),c},iG=(a,b)=>{let c={};return null!=a[my]&&(c[my]=(0,l.expectString)(a[my])),null!=a[qJ]&&(c[qJ]=(0,l.expectString)(a[qJ])),c},iH=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>iG(a,b)),iI=(a,b)=>{let c={};return null!=a[lH]&&(c[lH]=he(a[lH],b)),null!=a[ol]&&(c[ol]=(0,l.expectString)(a[ol])),c},iJ=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>iI(a,b)),iK=(a,b)=>{let c={};return null!=a[pC]&&(c[pC]=iy(a[pC],b)),null!=a[og]&&(c[og]=h3(a[og],b)),c},iL=(a,b)=>{let c={};return null!=a[kO]&&(c[kO]=(0,l.strictParseInt32)(a[kO])),null!=a[jm]&&(c[jm]=(0,l.expectString)(a[jm])),c},iM=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>iL(a,b)),iN=(a,b)=>{let c={};return null!=a[lL]&&(c[lL]=(0,l.expectString)(a[lL])),null!=a[qu]&&(c[p2]=(0,l.expectString)(a[qu])),""===String(a.Event).trim()?c[ll]=[]:null!=a[lk]&&(c[ll]=g5((0,l.getArrayIfSingleItem)(a[lk]),b)),null!=a[lo]&&(c[lo]=hQ(a[lo],b)),c},iO=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>iN(a,b)),iP=(a,b)=>{let c={};return null!=a[kP]&&(c[kP]=(0,l.expectNonNull)((0,l.parseRfc3339DateTimeWithOffset)(a[kP]))),null!=a[kO]&&(c[kO]=(0,l.strictParseInt32)(a[kO])),null!=a[pj]&&(c[pj]=(0,l.expectString)(a[pj])),c},iQ=(a,b)=>(a||[]).filter(a=>null!=a).map(a=>iP(a,b)),iR=a=>({httpStatusCode:a.statusCode,requestId:a.headers["x-amzn-requestid"]??a.headers["x-amzn-request-id"]??a.headers["x-amz-request-id"],extendedRequestId:a.headers["x-amz-id-2"],cfId:a.headers["x-amz-cf-id"]}),iS=(a,b)=>(0,l.collectBody)(a,b).then(a=>b.utf8Encoder(a)),iT="And",iU="AnalyticsAndOperator",iV="AnalyticsConfiguration",iW="ACL",iX="AccessControlList",iY="AnalyticsConfigurationList",iZ="AccessControlPolicy",i$="AccessControlTranslation",i_="AccelerateConfiguration",i0="AbortDate",i1="AnalyticsExportDestination",i2="AnalyticsFilter",i3="AllowedHeader",i4="AllowedHeaders",i5="AnalyticsId",i6="AbortIncompleteMultipartUpload",i7="AccountId",i8="AccessKeyId",i9="AllowedMethod",ja="AllowedMethods",jb="AllowedOrigin",jc="AllowedOrigins",jd="AccessPointAlias",je="AccessPointArn",jf="AllowQuotedRecordDelimiter",jg="AcceptRanges",jh="AbortRuleId",ji="ArchiveStatus",jj="AnalyticsS3BucketDestination",jk="AnalyticsS3ExportFileFormat",jl="ApplyServerSideEncryptionByDefault",jm="AccessTier",jn="Account",jo="Bucket",jp="BucketArn",jq="BucketAccountId",jr="BucketAccelerateStatus",js="BypassGovernanceRetention",jt="BucketInfo",ju="BucketKeyEnabled",jv="BucketLifecycleConfiguration",jw="BucketLocationConstraint",jx="BucketLocationName",jy="BucketLogsPermission",jz="BucketLoggingStatus",jA="BucketLocationType",jB="BucketName",jC="BytesProcessed",jD="BlockPublicAcls",jE="BlockPublicPolicy",jF="BucketRegion",jG="BytesReturned",jH="BytesScanned",jI="BucketType",jJ="BucketVersioningStatus",jK="Buckets",jL="Credentials",jM="ChecksumAlgorithm",jN="CannedACL",jO="CreateBucketConfiguration",jP="CacheControl",jQ="ChecksumCRC32",jR="ChecksumCRC32C",jS="ChecksumCRC64NVME",jT="ContentDisposition",jU="CreationDate",jV="ContentEncoding",jW="CloudFunction",jX="CloudFunctionConfiguration",jY="ContentLanguage",jZ="ContentLength",j$="ChecksumMode",j_="ContentMD5",j0="CompletedMultipartUpload",j1="CORSConfiguration",j2="CORSRule",j3="CORSRules",j4="CommonPrefixes",j5="CompletedPart",j6="ContentRange",j7="ConfirmRemoveSelfBucketAccess",j8="CopySource",j9="ChecksumSHA1",ka="ChecksumSHA256",kb="CopySourceIfMatch",kc="CopySourceIfModifiedSince",kd="CopySourceIfNoneMatch",ke="CopySourceIfUnmodifiedSince",kf="CopySourceRange",kg="CopySourceSSECustomerAlgorithm",kh="CopySourceSSECustomerKey",ki="CopySourceSSECustomerKeyMD5",kj="CSV",kk="CopySourceVersionId",kl="CSVInput",km="CSVOutput",kn="ConfigurationState",ko="ChecksumType",kp="ClientToken",kq="ContentType",kr="CompressionType",ks="ContinuationToken",kt="Checksum",ku="Contents",kv="Code",kw="Comments",kx="Condition",ky="Delimiter",kz="DaysAfterInitiation",kA="DataExport",kB="DestinationIfMatch",kC="DestinationIfModifiedSince",kD="DestinationIfNoneMatch",kE="DestinationIfUnmodifiedSince",kF="DeleteMarker",kG="DeleteMarkerReplication",kH="DeleteMarkerReplicationStatus",kI="DeleteMarkerVersionId",kJ="DeleteMarkers",kK="DisplayName",kL="DataRedundancy",kM="DefaultRetention",kN="DestinationResult",kO="Days",kP="Date",kQ="Deleted",kR="Delete",kS="Destination",kT="Description",kU="Expires",kV="EmailAddress",kW="EventBridgeConfiguration",kX="ExpectedBucketOwner",kY="ErrorCode",kZ="EncryptionConfiguration",k$="ErrorDocument",k_="ExposeHeaders",k0="ExposeHeader",k1="ErrorMessage",k2="ExpiredObjectDeleteMarker",k3="ExistingObjectReplication",k4="ExistingObjectReplicationStatus",k5="EnableRequestProgress",k6="ExpiresString",k7="ExpectedSourceBucketOwner",k8="ExpirationStatus",k9="ExpirationState",la="EncodingType",lb="ETag",lc="EncryptionType",ld="EventThreshold",le="ExpressionType",lf="Encryption",lg="Enabled",lh="End",li="Error",lj="Errors",lk="Event",ll="Events",lm="Expression",ln="Expiration",lo="Filter",lp="FieldDelimiter",lq="FileHeaderInfo",lr="FetchOwner",ls="FilterRule",lt="FilterRuleName",lu="FilterRuleValue",lv="FilterRules",lw="Field",lx="Format",ly="Frequency",lz="Grant",lA="GrantFullControl",lB="GlacierJobParameters",lC="GrantRead",lD="GrantReadACP",lE="GrantWrite",lF="GrantWriteACP",lG="Grants",lH="Grantee",lI="HttpErrorCodeReturnedEquals",lJ="HostName",lK="HttpRedirectCode",lL="Id",lM="InventoryConfiguration",lN="InventoryConfigurationList",lO="InventoryConfigurationState",lP="IndexDocument",lQ="ID",lR="InventoryDestination",lS="IsEnabled",lT="InventoryEncryption",lU="InventoryFilter",lV="InventoryFormat",lW="InventoryFrequency",lX="InventoryId",lY="InventoryIncludedObjectVersions",lZ="IsLatest",l$="IfMatch",l_="IfMatchInitiatedTime",l0="IfMatchLastModifiedTime",l1="IfMatchSize",l2="IfModifiedSince",l3="IfNoneMatch",l4="InventoryOptionalField",l5="IncludedObjectVersions",l6="IsPublic",l7="IgnorePublicAcls",l8="IsRestoreInProgress",l9="InputSerialization",ma="InventoryS3BucketDestination",mb="InventorySchedule",mc="IsTruncated",md="IntelligentTieringAndOperator",me="IntelligentTieringAccessTier",mf="IntelligentTieringConfiguration",mg="IntelligentTieringConfigurationList",mh="InventoryTableConfigurationResult",mi="InventoryTableConfigurationUpdates",mj="InventoryTableConfiguration",mk="IntelligentTieringDays",ml="IntelligentTieringFilter",mm="IntelligentTieringId",mn="IntelligentTieringStatus",mo="IfUnmodifiedSince",mp="Initiator",mq="Initiated",mr="JSON",ms="JSONInput",mt="JSONOutput",mu="JSONType",mv="JournalTableConfiguration",mw="JournalTableConfigurationResult",mx="JournalTableConfigurationUpdates",my="Key",mz="KeyCount",mA="KeyId",mB="KmsKeyArn",mC="KeyMarker",mD="KMSContext",mE="KMSKeyId",mF="KMSMasterKeyID",mG="KeyPrefixEquals",mH="Location",mI="LocationConstraint",mJ="LoggingEnabled",mK="LifecycleExpiration",mL="LambdaFunctionArn",mM="LambdaFunctionConfigurations",mN="LambdaFunctionConfiguration",mO="LocationInfo",mP="LastModified",mQ="LastModifiedTime",mR="LocationNameAsString",mS="LocationPrefix",mT="LifecycleRule",mU="LifecycleRuleAndOperator",mV="LifecycleRuleFilter",mW="LocationType",mX="Marker",mY="MetricsAndOperator",mZ="MaxAgeSeconds",m$="MaxBuckets",m_="MetricsConfiguration",m0="MetricsConfigurationList",m1="MetadataConfigurationResult",m2="MetadataConfiguration",m3="MetadataDirective",m4="MaxDirectoryBuckets",m5="MfaDelete",m6="MetadataEntry",m7="MetricsFilter",m8="MFA",m9="MFADelete",na="MetricsId",nb="MaxKeys",nc="MetadataKey",nd="MissingMeta",ne="MpuObjectSize",nf="MaxParts",ng="MetricsStatus",nh="MetadataTableConfiguration",ni="MetadataTableConfigurationResult",nj="MetadataTableEncryptionConfiguration",nk="MaxUploads",nl="MetadataValue",nm="Metrics",nn="Message",no="Minutes",np="Mode",nq="Name",nr="NotificationConfiguration",ns="NotificationConfigurationFilter",nt="NextContinuationToken",nu="NoncurrentDays",nv="NotificationId",nw="NextKeyMarker",nx="NextMarker",ny="NewerNoncurrentVersions",nz="NextPartNumberMarker",nA="NextUploadIdMarker",nB="NoncurrentVersionExpiration",nC="NextVersionIdMarker",nD="NoncurrentVersionTransitions",nE="NoncurrentVersionTransition",nF="Owner",nG="ObjectAttributes",nH="OwnershipControls",nI="ObjectCannedACL",nJ="OwnershipControlsRule",nK="OptionalFields",nL="ObjectIdentifier",nM="ObjectKey",nN="OutputLocation",nO="ObjectLockConfiguration",nP="ObjectLockEnabled",nQ="ObjectLockEnabledForBucket",nR="ObjectLockLegalHold",nS="ObjectLockLegalHoldStatus",nT="ObjectLockMode",nU="ObjectLockRetention",nV="ObjectLockRetentionMode",nW="ObjectLockRetainUntilDate",nX="ObjectLockRule",nY="ObjectOwnership",nZ="OptionalObjectAttributes",n$="OwnerOverride",n_="ObjectParts",n0="OutputSerialization",n1="ObjectSizeGreaterThan",n2="ObjectSizeGreaterThanBytes",n3="ObjectSizeLessThan",n4="ObjectSizeLessThanBytes",n5="OutputSchemaVersion",n6="ObjectSize",n7="ObjectVersionId",n8="Objects",n9="Prefix",oa="PublicAccessBlockConfiguration",ob="PartsCount",oc="PartitionDateSource",od="ParquetInput",oe="PartNumber",of="PartNumberMarker",og="PartitionedPrefix",oh="Payer",oi="Part",oj="Parquet",ok="Parts",ol="Permission",om="Protocol",on="Priority",oo="Quiet",op="QueueArn",oq="QueueConfiguration",or="QueueConfigurations",os="QuoteCharacter",ot="QuoteEscapeCharacter",ou="QuoteFields",ov="Queue",ow="Range",ox="RedirectAllRequestsTo",oy="RequestCharged",oz="ResponseCacheControl",oA="ResponseContentDisposition",oB="ResponseContentEncoding",oC="ResponseContentLanguage",oD="ResponseContentType",oE="ReplicationConfiguration",oF="RecordDelimiter",oG="ResponseExpires",oH="RecordExpirationDays",oI="RestoreExpiryDate",oJ="RecordExpiration",oK="ReplicaKmsKeyID",oL="ReplaceKeyPrefixWith",oM="ReplaceKeyWith",oN="ReplicaModifications",oO="ReplicaModificationsStatus",oP="RestoreOutputPath",oQ="RequestPayer",oR="RestrictPublicBuckets",oS="RequestPaymentConfiguration",oT="RequestProgress",oU="RequestRoute",oV="ReplicationRuleAndOperator",oW="ReplicationRuleFilter",oX="ReplicationRuleStatus",oY="RestoreRequestType",oZ="ReplicationRule",o$="RestoreRequest",o_="RoutingRules",o0="RoutingRule",o1="RenameSource",o2="ReplicationStatus",o3="RestoreStatus",o4="RequestToken",o5="ReplicationTimeStatus",o6="ReplicationTimeValue",o7="ReplicationTime",o8="RetainUntilDate",o9="Restore",pa="Redirect",pb="Role",pc="Rule",pd="Rules",pe="Status",pf="StartAfter",pg="SecretAccessKey",ph="SseAlgorithm",pi="S3BucketDestination",pj="StorageClass",pk="StorageClassAnalysis",pl="StorageClassAnalysisDataExport",pm="StorageClassAnalysisSchemaVersion",pn="StatusCode",po="SkipDestinationValidation",pp="SourceIfMatch",pq="SourceIfModifiedSince",pr="SourceIfNoneMatch",ps="SourceIfUnmodifiedSince",pt="SSE-KMS",pu="SseKmsEncryptedObjects",pv="SseKmsEncryptedObjectsStatus",pw="S3KeyFilter",px="S3Key",py="S3Location",pz="SessionMode",pA="SelectObjectContentRequest",pB="SelectParameters",pC="SimplePrefix",pD="ScanRange",pE="SSE-S3",pF="SourceSelectionCriteria",pG="ServerSideEncryption",pH="SSEAlgorithm",pI="ServerSideEncryptionByDefault",pJ="ServerSideEncryptionConfiguration",pK="SSECustomerAlgorithm",pL="SSECustomerKey",pM="SSECustomerKeyMD5",pN="SSEKMS",pO="SSEKMSEncryptionContext",pP="SSEKMSKeyId",pQ="ServerSideEncryptionRule",pR="SSES3",pS="SessionToken",pT="S3TablesBucketArn",pU="S3TablesDestination",pV="S3TablesDestinationResult",pW="S3TablesName",pX="S3",pY="Schedule",pZ="Setting",p$="Size",p_="Start",p0="Suffix",p1="Tagging",p2="TopicArn",p3="TableArn",p4="TargetBucket",p5="TableBucketArn",p6="TableBucketType",p7="TagCount",p8="TopicConfiguration",p9="TopicConfigurations",qa="TaggingDirective",qb="TransitionDefaultMinimumObjectSize",qc="TargetGrants",qd="TargetGrant",qe="TableName",qf="TableNamespace",qg="TargetObjectKeyFormat",qh="TargetPrefix",qi="TotalPartsCount",qj="TagSet",qk="TableSseAlgorithm",ql="TransitionStorageClass",qm="TableStatus",qn="Tag",qo="Tags",qp="Tier",qq="Tierings",qr="Tiering",qs="Time",qt="Token",qu="Topic",qv="Transitions",qw="Transition",qx="Type",qy="Upload",qz="UploadId",qA="UploadIdMarker",qB="UserMetadata",qC="URI",qD="Uploads",qE="Version",qF="VersionCount",qG="VersioningConfiguration",qH="VersionId",qI="VersionIdMarker",qJ="Value",qK="Versions",qL="WebsiteConfiguration",qM="WriteOffsetBytes",qN="WebsiteRedirectLocation",qO="Years",qP="analytics",qQ="accelerate",qR="acl",qS="accept-ranges",qT="attributes",qU="bucket-region",qV="cors",qW="cache-control",qX="content-disposition",qY="content-encoding",qZ="content-language",q$="content-length",q_="content-md5",q0="content-range",q1="content-type",q2="continuation-token",q3="delete",q4="delimiter",q5="expires",q6="encryption",q7="encoding-type",q8="etag",q9="expiresstring",ra="fetch-owner",rb="id",rc="if-match",rd="if-modified-since",re="inventory",rf="if-none-match",rg="intelligent-tiering",rh="if-unmodified-since",ri="key-marker",rj="lifecycle",rk="legal-hold",rl="last-modified",rm="location",rn="logging",ro="list-type",rp="metrics",rq="metadataConfiguration",rr="metadataInventoryTable",rs="metadataJournalTable",rt="metadataTable",ru="marker",rv="max-buckets",rw="max-directory-buckets",rx="member",ry="max-keys",rz="max-parts",rA="max-uploads",rB="notification",rC="ownershipControls",rD="object-lock",rE="policy",rF="publicAccessBlock",rG="partNumber",rH="policyStatus",rI="part-number-marker",rJ="prefix",rK="replication",rL="renameObject",rM="requestPayment",rN="range",rO="response-cache-control",rP="response-content-disposition",rQ="response-content-encoding",rR="response-content-language",rS="response-content-type",rT="response-expires",rU="restore",rV="retention",rW="session",rX="start-after",rY="select",rZ="select-type",r$="tagging",r_="torrent",r0="uploads",r1="uploadId",r2="upload-id-marker",r3="versioning",r4="versionId",r5='<?xml version="1.0" encoding="UTF-8"?>',r6="versions",r7="version-id-marker",r8="website",r9="xsi:type",sa="x-amz-acl",sb="x-amz-abort-date",sc="x-amz-access-point-alias",sd="x-amz-abort-rule-id",se="x-amz-archive-status",sf="x-amz-bucket-arn",sg="x-amz-bypass-governance-retention",sh="x-amz-bucket-location-name",si="x-amz-bucket-location-type",sj="x-amz-bucket-object-lock-enabled",sk="x-amz-bucket-object-lock-token",sl="x-amz-bucket-region",sm="x-amz-checksum-algorithm",sn="x-amz-checksum-crc32",so="x-amz-checksum-crc32c",sp="x-amz-checksum-crc64nvme",sq="x-amz-checksum-mode",sr="x-amz-confirm-remove-self-bucket-access",ss="x-amz-checksum-sha1",st="x-amz-checksum-sha256",su="x-amz-copy-source",sv="x-amz-copy-source-if-match",sw="x-amz-copy-source-if-modified-since",sx="x-amz-copy-source-if-none-match",sy="x-amz-copy-source-if-unmodified-since",sz="x-amz-create-session-mode",sA="x-amz-copy-source-range",sB="x-amz-copy-source-server-side-encryption-customer-algorithm",sC="x-amz-copy-source-server-side-encryption-customer-key",sD="x-amz-copy-source-server-side-encryption-customer-key-md5",sE="x-amz-copy-source-version-id",sF="x-amz-checksum-type",sG="x-amz-client-token",sH="x-amz-delete-marker",sI="x-amz-expiration",sJ="x-amz-expected-bucket-owner",sK="x-amz-fwd-error-code",sL="x-amz-fwd-error-message",sM="x-amz-fwd-header-accept-ranges",sN="x-amz-fwd-header-cache-control",sO="x-amz-fwd-header-content-disposition",sP="x-amz-fwd-header-content-encoding",sQ="x-amz-fwd-header-content-language",sR="x-amz-fwd-header-content-range",sS="x-amz-fwd-header-content-type",sT="x-amz-fwd-header-etag",sU="x-amz-fwd-header-expires",sV="x-amz-fwd-header-last-modified",sW="x-amz-fwd-header-x-amz-checksum-crc32",sX="x-amz-fwd-header-x-amz-checksum-crc32c",sY="x-amz-fwd-header-x-amz-checksum-crc64nvme",sZ="x-amz-fwd-header-x-amz-checksum-sha1",s$="x-amz-fwd-header-x-amz-checksum-sha256",s_="x-amz-fwd-header-x-amz-delete-marker",s0="x-amz-fwd-header-x-amz-expiration",s1="x-amz-fwd-header-x-amz-missing-meta",s2="x-amz-fwd-header-x-amz-mp-parts-count",s3="x-amz-fwd-header-x-amz-object-lock-legal-hold",s4="x-amz-fwd-header-x-amz-object-lock-mode",s5="x-amz-fwd-header-x-amz-object-lock-retain-until-date",s6="x-amz-fwd-header-x-amz-restore",s7="x-amz-fwd-header-x-amz-request-charged",s8="x-amz-fwd-header-x-amz-replication-status",s9="x-amz-fwd-header-x-amz-storage-class",ta="x-amz-fwd-header-x-amz-server-side-encryption",tb="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",tc="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",td="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",te="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5",tf="x-amz-fwd-header-x-amz-tagging-count",tg="x-amz-fwd-header-x-amz-version-id",th="x-amz-fwd-status",ti="x-amz-grant-full-control",tj="x-amz-grant-read",tk="x-amz-grant-read-acp",tl="x-amz-grant-write",tm="x-amz-grant-write-acp",tn="x-amz-if-match-initiated-time",to="x-amz-if-match-last-modified-time",tp="x-amz-if-match-size",tq="x-amz-mfa",tr="x-amz-metadata-directive",ts="x-amz-missing-meta",tt="x-amz-mp-object-size",tu="x-amz-max-parts",tv="x-amz-mp-parts-count",tw="x-amz-object-attributes",tx="x-amz-object-lock-legal-hold",ty="x-amz-object-lock-mode",tz="x-amz-object-lock-retain-until-date",tA="x-amz-object-ownership",tB="x-amz-optional-object-attributes",tC="x-amz-object-size",tD="x-amz-part-number-marker",tE="x-amz-restore",tF="x-amz-request-charged",tG="x-amz-restore-output-path",tH="x-amz-request-payer",tI="x-amz-request-route",tJ="x-amz-rename-source",tK="x-amz-replication-status",tL="x-amz-rename-source-if-match",tM="x-amz-rename-source-if-modified-since",tN="x-amz-rename-source-if-none-match",tO="x-amz-rename-source-if-unmodified-since",tP="x-amz-request-token",tQ="x-amz-storage-class",tR="x-amz-sdk-checksum-algorithm",tS="x-amz-skip-destination-validation",tT="x-amz-source-expected-bucket-owner",tU="x-amz-server-side-encryption",tV="x-amz-server-side-encryption-aws-kms-key-id",tW="x-amz-server-side-encryption-bucket-key-enabled",tX="x-amz-server-side-encryption-context",tY="x-amz-server-side-encryption-customer-algorithm",tZ="x-amz-server-side-encryption-customer-key",t$="x-amz-server-side-encryption-customer-key-md5",t_="x-amz-tagging",t0="x-amz-tagging-count",t1="x-amz-tagging-directive",t2="x-amz-transition-default-minimum-object-size",t3="x-amz-version-id",t4="x-amz-write-offset-bytes",t5="x-amz-website-redirect-location",t6="x-id";class t7 extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(aC).de(ce).build(){}var t8=c(59474);class t9 extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c),(0,t8.M6)(c)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(I,H).ser(aD).de(cf).build(){}class ua extends l.Command.classBuilder().ep({...r,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},CopySource:{type:"contextParams",name:"CopySource"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c),(0,t8.M6)(c)]}).s("AmazonS3","CopyObject",{}).n("S3Client","CopyObjectCommand").f(K,J).ser(aE).de(cg).build(){}var ub=c(24891);class uc extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c),(0,ub.YJ)(c)]}).s("AmazonS3","CreateBucket",{}).n("S3Client","CreateBucketCommand").f(void 0,void 0).ser(aF).de(ch).build(){}var ud=c(80747);class ue extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataConfiguration",{}).n("S3Client","CreateBucketMetadataConfigurationCommand").f(void 0,void 0).ser(aG).de(ci).build(){}class uf extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataTableConfiguration",{}).n("S3Client","CreateBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(aH).de(cj).build(){}class ug extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c),(0,t8.M6)(c)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(M,L).ser(aI).de(ck).build(){}class uh extends l.Command.classBuilder().ep({...r,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(P,O).ser(aJ).de(cl).build(){}class ui extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketAnalyticsConfiguration",{}).n("S3Client","DeleteBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(aL).de(cn).build(){}class uj extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucket",{}).n("S3Client","DeleteBucketCommand").f(void 0,void 0).ser(aK).de(cm).build(){}class uk extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketCors",{}).n("S3Client","DeleteBucketCorsCommand").f(void 0,void 0).ser(aM).de(co).build(){}class ul extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketEncryption",{}).n("S3Client","DeleteBucketEncryptionCommand").f(void 0,void 0).ser(aN).de(cp).build(){}class um extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketIntelligentTieringConfiguration",{}).n("S3Client","DeleteBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(aO).de(cq).build(){}class un extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketInventoryConfiguration",{}).n("S3Client","DeleteBucketInventoryConfigurationCommand").f(void 0,void 0).ser(aP).de(cr).build(){}class uo extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketLifecycle",{}).n("S3Client","DeleteBucketLifecycleCommand").f(void 0,void 0).ser(aQ).de(cs).build(){}class up extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataConfiguration",{}).n("S3Client","DeleteBucketMetadataConfigurationCommand").f(void 0,void 0).ser(aR).de(ct).build(){}class uq extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataTableConfiguration",{}).n("S3Client","DeleteBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(aS).de(cu).build(){}class ur extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetricsConfiguration",{}).n("S3Client","DeleteBucketMetricsConfigurationCommand").f(void 0,void 0).ser(aT).de(cv).build(){}class us extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketOwnershipControls",{}).n("S3Client","DeleteBucketOwnershipControlsCommand").f(void 0,void 0).ser(aU).de(cw).build(){}class ut extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketPolicy",{}).n("S3Client","DeleteBucketPolicyCommand").f(void 0,void 0).ser(aV).de(cx).build(){}class uu extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketReplication",{}).n("S3Client","DeleteBucketReplicationCommand").f(void 0,void 0).ser(aW).de(cy).build(){}class uv extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketTagging",{}).n("S3Client","DeleteBucketTaggingCommand").f(void 0,void 0).ser(aX).de(cz).build(){}class uw extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketWebsite",{}).n("S3Client","DeleteBucketWebsiteCommand").f(void 0,void 0).ser(aY).de(cA).build(){}class ux extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(aZ).de(cB).build(){}class uy extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,m.Cg)(c)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(a$).de(cC).build(){}class uz extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","DeleteObjectTagging",{}).n("S3Client","DeleteObjectTaggingCommand").f(void 0,void 0).ser(a_).de(cD).build(){}class uA extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","DeletePublicAccessBlock",{}).n("S3Client","DeletePublicAccessBlockCommand").f(void 0,void 0).ser(a0).de(cE).build(){}class uB extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketAccelerateConfiguration",{}).n("S3Client","GetBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(a1).de(cF).build(){}class uC extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketAcl",{}).n("S3Client","GetBucketAclCommand").f(void 0,void 0).ser(a2).de(cG).build(){}class uD extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketAnalyticsConfiguration",{}).n("S3Client","GetBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(a3).de(cH).build(){}class uE extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketCors",{}).n("S3Client","GetBucketCorsCommand").f(void 0,void 0).ser(a4).de(cI).build(){}class uF extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketEncryption",{}).n("S3Client","GetBucketEncryptionCommand").f(void 0,T).ser(a5).de(cJ).build(){}class uG extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketIntelligentTieringConfiguration",{}).n("S3Client","GetBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(a6).de(cK).build(){}class uH extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketInventoryConfiguration",{}).n("S3Client","GetBucketInventoryConfigurationCommand").f(void 0,Z).ser(a7).de(cL).build(){}class uI extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketLifecycleConfiguration",{}).n("S3Client","GetBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(a8).de(cM).build(){}class uJ extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketLocation",{}).n("S3Client","GetBucketLocationCommand").f(void 0,void 0).ser(a9).de(cN).build(){}class uK extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketLogging",{}).n("S3Client","GetBucketLoggingCommand").f(void 0,void 0).ser(ba).de(cO).build(){}class uL extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketMetadataConfiguration",{}).n("S3Client","GetBucketMetadataConfigurationCommand").f(void 0,void 0).ser(bb).de(cP).build(){}class uM extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketMetadataTableConfiguration",{}).n("S3Client","GetBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(bc).de(cQ).build(){}class uN extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketMetricsConfiguration",{}).n("S3Client","GetBucketMetricsConfigurationCommand").f(void 0,void 0).ser(bd).de(cR).build(){}class uO extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketNotificationConfiguration",{}).n("S3Client","GetBucketNotificationConfigurationCommand").f(void 0,void 0).ser(be).de(cS).build(){}class uP extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketOwnershipControls",{}).n("S3Client","GetBucketOwnershipControlsCommand").f(void 0,void 0).ser(bf).de(cT).build(){}class uQ extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketPolicy",{}).n("S3Client","GetBucketPolicyCommand").f(void 0,void 0).ser(bg).de(cU).build(){}class uR extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketPolicyStatus",{}).n("S3Client","GetBucketPolicyStatusCommand").f(void 0,void 0).ser(bh).de(cV).build(){}class uS extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketReplication",{}).n("S3Client","GetBucketReplicationCommand").f(void 0,void 0).ser(bi).de(cW).build(){}class uT extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketRequestPayment",{}).n("S3Client","GetBucketRequestPaymentCommand").f(void 0,void 0).ser(bj).de(cX).build(){}class uU extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketTagging",{}).n("S3Client","GetBucketTaggingCommand").f(void 0,void 0).ser(bk).de(cY).build(){}class uV extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketVersioning",{}).n("S3Client","GetBucketVersioningCommand").f(void 0,void 0).ser(bl).de(cZ).build(){}class uW extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetBucketWebsite",{}).n("S3Client","GetBucketWebsiteCommand").f(void 0,void 0).ser(bm).de(c$).build(){}class uX extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetObjectAcl",{}).n("S3Client","GetObjectAclCommand").f(void 0,void 0).ser(bo).de(c0).build(){}class uY extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c),(0,t8.M6)(c)]}).s("AmazonS3","GetObjectAttributes",{}).n("S3Client","GetObjectAttributesCommand").f(aa,void 0).ser(bp).de(c1).build(){}class uZ extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),(0,t8.M6)(c),(0,m.kH)(c)]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(_,$).ser(bn).de(c_).build(){}class u$ extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetObjectLegalHold",{}).n("S3Client","GetObjectLegalHoldCommand").f(void 0,void 0).ser(bq).de(c2).build(){}class u_ extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetObjectLockConfiguration",{}).n("S3Client","GetObjectLockConfigurationCommand").f(void 0,void 0).ser(br).de(c3).build(){}class u0 extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetObjectRetention",{}).n("S3Client","GetObjectRetentionCommand").f(void 0,void 0).ser(bs).de(c4).build(){}class u1 extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetObjectTagging",{}).n("S3Client","GetObjectTaggingCommand").f(void 0,void 0).ser(bt).de(c5).build(){}class u2 extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","GetObjectTorrent",{}).n("S3Client","GetObjectTorrentCommand").f(void 0,ab).ser(bu).de(c6).build(){}class u3 extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","GetPublicAccessBlock",{}).n("S3Client","GetPublicAccessBlockCommand").f(void 0,void 0).ser(bv).de(c7).build(){}class u4 extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","HeadBucket",{}).n("S3Client","HeadBucketCommand").f(void 0,void 0).ser(bw).de(c8).build(){}class u5 extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c),(0,t8.M6)(c),(0,m.kH)(c)]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").f(ad,ac).ser(bx).de(c9).build(){}class u6 extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","ListBucketAnalyticsConfigurations",{}).n("S3Client","ListBucketAnalyticsConfigurationsCommand").f(void 0,void 0).ser(by).de(da).build(){}class u7 extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","ListBucketIntelligentTieringConfigurations",{}).n("S3Client","ListBucketIntelligentTieringConfigurationsCommand").f(void 0,void 0).ser(bz).de(db).build(){}class u8 extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","ListBucketInventoryConfigurations",{}).n("S3Client","ListBucketInventoryConfigurationsCommand").f(void 0,ae).ser(bA).de(dc).build(){}class u9 extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","ListBucketMetricsConfigurations",{}).n("S3Client","ListBucketMetricsConfigurationsCommand").f(void 0,void 0).ser(bB).de(dd).build(){}class va extends l.Command.classBuilder().ep(r).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(bC).de(de).build(){}class vb extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","ListDirectoryBuckets",{}).n("S3Client","ListDirectoryBucketsCommand").f(void 0,void 0).ser(bD).de(df).build(){}class vc extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","ListMultipartUploads",{}).n("S3Client","ListMultipartUploadsCommand").f(void 0,void 0).ser(bE).de(dg).build(){}class vd extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","ListObjects",{}).n("S3Client","ListObjectsCommand").f(void 0,void 0).ser(bF).de(dh).build(){}class ve extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(bG).de(di).build(){}class vf extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","ListObjectVersions",{}).n("S3Client","ListObjectVersionsCommand").f(void 0,void 0).ser(bH).de(dj).build(){}class vg extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c),(0,t8.M6)(c)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(al,void 0).ser(bI).de(dk).build(){}class vh extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1})]}).s("AmazonS3","PutBucketAccelerateConfiguration",{}).n("S3Client","PutBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(bJ).de(dl).build(){}class vi extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketAcl",{}).n("S3Client","PutBucketAclCommand").f(void 0,void 0).ser(bK).de(dm).build(){}class vj extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketAnalyticsConfiguration",{}).n("S3Client","PutBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(bL).de(dn).build(){}class vk extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketCors",{}).n("S3Client","PutBucketCorsCommand").f(void 0,void 0).ser(bM).de(dp).build(){}class vl extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketEncryption",{}).n("S3Client","PutBucketEncryptionCommand").f(am,void 0).ser(bN).de(dq).build(){}class vm extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketIntelligentTieringConfiguration",{}).n("S3Client","PutBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(bO).de(dr).build(){}class vn extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketInventoryConfiguration",{}).n("S3Client","PutBucketInventoryConfigurationCommand").f(an,void 0).ser(bP).de(ds).build(){}class vo extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,m.Cg)(c)]}).s("AmazonS3","PutBucketLifecycleConfiguration",{}).n("S3Client","PutBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(bQ).de(dt).build(){}class vp extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLogging",{}).n("S3Client","PutBucketLoggingCommand").f(void 0,void 0).ser(bR).de(du).build(){}class vq extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketMetricsConfiguration",{}).n("S3Client","PutBucketMetricsConfigurationCommand").f(void 0,void 0).ser(bS).de(dv).build(){}class vr extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketNotificationConfiguration",{}).n("S3Client","PutBucketNotificationConfigurationCommand").f(void 0,void 0).ser(bT).de(dw).build(){}class vs extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketOwnershipControls",{}).n("S3Client","PutBucketOwnershipControlsCommand").f(void 0,void 0).ser(bU).de(dx).build(){}class vt extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketPolicy",{}).n("S3Client","PutBucketPolicyCommand").f(void 0,void 0).ser(bV).de(dy).build(){}class vu extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketReplication",{}).n("S3Client","PutBucketReplicationCommand").f(void 0,void 0).ser(bW).de(dz).build(){}class vv extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketRequestPayment",{}).n("S3Client","PutBucketRequestPaymentCommand").f(void 0,void 0).ser(bX).de(dA).build(){}class vw extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketTagging",{}).n("S3Client","PutBucketTaggingCommand").f(void 0,void 0).ser(bY).de(dB).build(){}class vx extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketVersioning",{}).n("S3Client","PutBucketVersioningCommand").f(void 0,void 0).ser(bZ).de(dC).build(){}class vy extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketWebsite",{}).n("S3Client","PutBucketWebsiteCommand").f(void 0,void 0).ser(b$).de(dD).build(){}class vz extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,m.Cg)(c)]}).s("AmazonS3","PutObjectAcl",{}).n("S3Client","PutObjectAclCommand").f(void 0,void 0).ser(b0).de(dF).build(){}class vA extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),(0,m.GS)(c),(0,m.Cg)(c),(0,t8.M6)(c)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(ap,ao).ser(b_).de(dE).build(){}class vB extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,m.Cg)(c)]}).s("AmazonS3","PutObjectLegalHold",{}).n("S3Client","PutObjectLegalHoldCommand").f(void 0,void 0).ser(b1).de(dG).build(){}class vC extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,m.Cg)(c)]}).s("AmazonS3","PutObjectLockConfiguration",{}).n("S3Client","PutObjectLockConfigurationCommand").f(void 0,void 0).ser(b2).de(dH).build(){}class vD extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,m.Cg)(c)]}).s("AmazonS3","PutObjectRetention",{}).n("S3Client","PutObjectRetentionCommand").f(void 0,void 0).ser(b3).de(dI).build(){}class vE extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,m.Cg)(c)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(b4).de(dJ).build(){}class vF extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutPublicAccessBlock",{}).n("S3Client","PutPublicAccessBlockCommand").f(void 0,void 0).ser(b5).de(dK).build(){}class vG extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c)]}).s("AmazonS3","RenameObject",{}).n("S3Client","RenameObjectCommand").f(void 0,void 0).ser(b6).de(dL).build(){}class vH extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),(0,m.Cg)(c)]}).s("AmazonS3","RestoreObject",{}).n("S3Client","RestoreObjectCommand").f(au,void 0).ser(b7).de(dM).build(){}class vI extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c),(0,t8.M6)(c)]}).s("AmazonS3","SelectObjectContent",{eventStream:{output:!0}}).n("S3Client","SelectObjectContentCommand").f(aw,av).ser(b8).de(dN).build(){}class vJ extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataInventoryTableConfiguration",{}).n("S3Client","UpdateBucketMetadataInventoryTableConfigurationCommand").f(void 0,void 0).ser(b9).de(dO).build(){}class vK extends l.Command.classBuilder().ep({...r,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataJournalTableConfiguration",{}).n("S3Client","UpdateBucketMetadataJournalTableConfigurationCommand").f(void 0,void 0).ser(ca).de(dP).build(){}class vL extends l.Command.classBuilder().ep({...r,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,ud.R9)(c,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),(0,m.Cg)(c),(0,t8.M6)(c)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(ay,ax).ser(cb).de(dQ).build(){}class vM extends l.Command.classBuilder().ep({...r,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions()),(0,m.Cg)(c),(0,t8.M6)(c)]}).s("AmazonS3","UploadPartCopy",{}).n("S3Client","UploadPartCopyCommand").f(aA,az).ser(cc).de(dR).build(){}class vN extends l.Command.classBuilder().ep({...r,UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0}}).m(function(a,b,c,d){return[(0,p.TM)(c,this.serialize,this.deserialize),(0,o.rD)(c,a.getEndpointParameterInstructions())]}).s("AmazonS3","WriteGetObjectResponse",{}).n("S3Client","WriteGetObjectResponseCommand").f(aB,void 0).ser(cd).de(dS).build(){}var vO=c(47138),vP=c(46152),vQ=c(76062),vR=c(38324),vS=c(99135),vT=c(61671),vU=c(79808),vV=c(66337),vW=c(4745),vX=c(18809),vY=c(53400),vZ=c(62451),v$=c(58179),v_=c(36836),v0=c(46999),v1=c(22148),v2=c(36652),v3=c(39241);let v4="required",v5="type",v6="rules",v7="conditions",v8="fn",v9="argv",wa="ref",wb="assign",wc="url",wd="properties",we="backend",wf="authSchemes",wg="disableDoubleEncoding",wh="signingName",wi="signingRegion",wj="headers",wk="signingRegionSet",wl="isSet",wm="booleanEquals",wn="error",wo="aws.partition",wp="stringEquals",wq="getAttr",wr="name",ws="substring",wt="bucketSuffix",wu="parseURL",wv="endpoint",ww="tree",wx="aws.isVirtualHostableS3Bucket",wy="{url#scheme}://{Bucket}.{url#authority}{url#path}",wz="not",wA="accessPointSuffix",wB="{url#scheme}://{url#authority}{url#path}",wC="hardwareType",wD="regionPrefix",wE="bucketAliasSuffix",wF="outpostId",wG="isValidHostLabel",wH="sigv4a",wI="s3-outposts",wJ="s3",wK="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",wL="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",wM="https://{Bucket}.s3.{partitionResult#dnsSuffix}",wN="aws.parseArn",wO="bucketArn",wP="arnType",wQ="",wR="s3-object-lambda",wS="accesspoint",wT="accessPointName",wU="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",wV="mrapPartition",wW="outpostType",wX="arnPrefix",wY="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",wZ="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",w$="https://s3.{partitionResult#dnsSuffix}",w_={[v4]:!1,[v5]:"String"},w0={[v4]:!0,default:!1,[v5]:"Boolean"},w1={[v4]:!1,[v5]:"Boolean"},w2={[v8]:wm,[v9]:[{[wa]:"Accelerate"},!0]},w3={[v8]:wm,[v9]:[{[wa]:"UseFIPS"},!0]},w4={[v8]:wm,[v9]:[{[wa]:"UseDualStack"},!0]},w5={[v8]:wl,[v9]:[{[wa]:"Endpoint"}]},w6={[v8]:wo,[v9]:[{[wa]:"Region"}],[wb]:"partitionResult"},w7={[v8]:wp,[v9]:[{[v8]:wq,[v9]:[{[wa]:"partitionResult"},wr]},"aws-cn"]},w8={[v8]:wl,[v9]:[{[wa]:"Bucket"}]},w9={[wa]:"Bucket"},xa={[v7]:[w4],[wn]:"S3Express does not support Dual-stack.",[v5]:wn},xb={[v7]:[w2],[wn]:"S3Express does not support S3 Accelerate.",[v5]:wn},xc={[v7]:[w5,{[v8]:wu,[v9]:[{[wa]:"Endpoint"}],[wb]:"url"}],[v6]:[{[v7]:[{[v8]:wl,[v9]:[{[wa]:"DisableS3ExpressSessionAuth"}]},{[v8]:wm,[v9]:[{[wa]:"DisableS3ExpressSessionAuth"},!0]}],[v6]:[{[v7]:[{[v8]:wm,[v9]:[{[v8]:wq,[v9]:[{[wa]:"url"},"isIp"]},!0]}],[v6]:[{[v7]:[{[v8]:"uriEncode",[v9]:[w9],[wb]:"uri_encoded_bucket"}],[v6]:[{[wv]:{[wc]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[wd]:{[we]:"S3Express",[wf]:[{[wg]:!0,[wr]:"sigv4",[wh]:"s3express",[wi]:"{Region}"}]},[wj]:{}},[v5]:wv}],[v5]:ww}],[v5]:ww},{[v7]:[{[v8]:wx,[v9]:[w9,!1]}],[v6]:[{[wv]:{[wc]:wy,[wd]:{[we]:"S3Express",[wf]:[{[wg]:!0,[wr]:"sigv4",[wh]:"s3express",[wi]:"{Region}"}]},[wj]:{}},[v5]:wv}],[v5]:ww},{[wn]:"S3Express bucket name is not a valid virtual hostable name.",[v5]:wn}],[v5]:ww},{[v7]:[{[v8]:wm,[v9]:[{[v8]:wq,[v9]:[{[wa]:"url"},"isIp"]},!0]}],[v6]:[{[v7]:[{[v8]:"uriEncode",[v9]:[w9],[wb]:"uri_encoded_bucket"}],[v6]:[{[wv]:{[wc]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[wd]:{[we]:"S3Express",[wf]:[{[wg]:!0,[wr]:"sigv4-s3express",[wh]:"s3express",[wi]:"{Region}"}]},[wj]:{}},[v5]:wv}],[v5]:ww}],[v5]:ww},{[v7]:[{[v8]:wx,[v9]:[w9,!1]}],[v6]:[{[wv]:{[wc]:wy,[wd]:{[we]:"S3Express",[wf]:[{[wg]:!0,[wr]:"sigv4-s3express",[wh]:"s3express",[wi]:"{Region}"}]},[wj]:{}},[v5]:wv}],[v5]:ww},{[wn]:"S3Express bucket name is not a valid virtual hostable name.",[v5]:wn}],[v5]:ww},xd={[v8]:wu,[v9]:[{[wa]:"Endpoint"}],[wb]:"url"},xe={[v8]:wm,[v9]:[{[v8]:wq,[v9]:[{[wa]:"url"},"isIp"]},!0]},xf={[wa]:"url"},xg={[v8]:"uriEncode",[v9]:[w9],[wb]:"uri_encoded_bucket"},xh={[we]:"S3Express",[wf]:[{[wg]:!0,[wr]:"sigv4",[wh]:"s3express",[wi]:"{Region}"}]},xi={},xj={[v8]:wx,[v9]:[w9,!1]},xk={[wn]:"S3Express bucket name is not a valid virtual hostable name.",[v5]:wn},xl={[v8]:wl,[v9]:[{[wa]:"UseS3ExpressControlEndpoint"}]},xm={[v8]:wm,[v9]:[{[wa]:"UseS3ExpressControlEndpoint"},!0]},xn={[v8]:wz,[v9]:[w5]},xo={[wn]:"Unrecognized S3Express bucket name format.",[v5]:wn},xp={[v8]:wz,[v9]:[w8]},xq={[wa]:wC},xr={[v7]:[xn],[wn]:"Expected a endpoint to be specified but no endpoint was found",[v5]:wn},xs={[wf]:[{[wg]:!0,[wr]:wH,[wh]:wI,[wk]:["*"]},{[wg]:!0,[wr]:"sigv4",[wh]:wI,[wi]:"{Region}"}]},xt={[v8]:wm,[v9]:[{[wa]:"ForcePathStyle"},!1]},xu={[wa]:"ForcePathStyle"},xv={[v8]:wm,[v9]:[{[wa]:"Accelerate"},!1]},xw={[v8]:wp,[v9]:[{[wa]:"Region"},"aws-global"]},xx={[wf]:[{[wg]:!0,[wr]:"sigv4",[wh]:wJ,[wi]:"us-east-1"}]},xy={[v8]:wz,[v9]:[xw]},xz={[v8]:wm,[v9]:[{[wa]:"UseGlobalEndpoint"},!0]},xA={[wc]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[wd]:{[wf]:[{[wg]:!0,[wr]:"sigv4",[wh]:wJ,[wi]:"{Region}"}]},[wj]:{}},xB={[wf]:[{[wg]:!0,[wr]:"sigv4",[wh]:wJ,[wi]:"{Region}"}]},xC={[v8]:wm,[v9]:[{[wa]:"UseGlobalEndpoint"},!1]},xD={[v8]:wm,[v9]:[{[wa]:"UseDualStack"},!1]},xE={[wc]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[wd]:xB,[wj]:{}},xF={[v8]:wm,[v9]:[{[wa]:"UseFIPS"},!1]},xG={[wc]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[wd]:xB,[wj]:{}},xH={[wc]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[wd]:xB,[wj]:{}},xI={[v8]:wm,[v9]:[{[v8]:wq,[v9]:[xf,"isIp"]},!1]},xJ={[wc]:wK,[wd]:xB,[wj]:{}},xK={[wc]:wy,[wd]:xB,[wj]:{}},xL={[wv]:xK,[v5]:wv},xM={[wc]:wL,[wd]:xB,[wj]:{}},xN={[wc]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[wd]:xB,[wj]:{}},xO={[wn]:"Invalid region: region was not a valid DNS name.",[v5]:wn},xP={[wa]:wO},xQ={[wa]:wP},xR={[v8]:wq,[v9]:[xP,"service"]},xS={[wa]:wT},xT={[v7]:[w4],[wn]:"S3 Object Lambda does not support Dual-stack",[v5]:wn},xU={[v7]:[w2],[wn]:"S3 Object Lambda does not support S3 Accelerate",[v5]:wn},xV={[v7]:[{[v8]:wl,[v9]:[{[wa]:"DisableAccessPoints"}]},{[v8]:wm,[v9]:[{[wa]:"DisableAccessPoints"},!0]}],[wn]:"Access points are not supported for this operation",[v5]:wn},xW={[v7]:[{[v8]:wl,[v9]:[{[wa]:"UseArnRegion"}]},{[v8]:wm,[v9]:[{[wa]:"UseArnRegion"},!1]},{[v8]:wz,[v9]:[{[v8]:wp,[v9]:[{[v8]:wq,[v9]:[xP,"region"]},"{Region}"]}]}],[wn]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[v5]:wn},xX={[v8]:wq,[v9]:[{[wa]:"bucketPartition"},wr]},xY={[v8]:wq,[v9]:[xP,"accountId"]},xZ={[wf]:[{[wg]:!0,[wr]:"sigv4",[wh]:wR,[wi]:"{bucketArn#region}"}]},x$={[wn]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[v5]:wn},x_={[wn]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[v5]:wn},x0={[wn]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[v5]:wn},x1={[wn]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[v5]:wn},x2={[wn]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[v5]:wn},x3={[wn]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[v5]:wn},x4={[wf]:[{[wg]:!0,[wr]:"sigv4",[wh]:wJ,[wi]:"{bucketArn#region}"}]},x5={[wf]:[{[wg]:!0,[wr]:wH,[wh]:wI,[wk]:["*"]},{[wg]:!0,[wr]:"sigv4",[wh]:wI,[wi]:"{bucketArn#region}"}]},x6={[v8]:wN,[v9]:[w9]},x7={[wc]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[wd]:xB,[wj]:{}},x8={[wc]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[wd]:xB,[wj]:{}},x9={[wc]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[wd]:xB,[wj]:{}},ya={[wc]:wY,[wd]:xB,[wj]:{}},yb={[wc]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[wd]:xB,[wj]:{}},yc={[wa]:"UseObjectLambdaEndpoint"},yd={[wf]:[{[wg]:!0,[wr]:"sigv4",[wh]:wR,[wi]:"{Region}"}]},ye={[wc]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[wd]:xB,[wj]:{}},yf={[wc]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[wd]:xB,[wj]:{}},yg={[wc]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[wd]:xB,[wj]:{}},yh={[wc]:wB,[wd]:xB,[wj]:{}},yi={[wc]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[wd]:xB,[wj]:{}},yj=[{[wa]:"Region"}],yk=[{[wa]:"Endpoint"}],yl=[w9],ym=[w4],yn=[w2],yo=[w5,xd],yp=[{[v8]:wl,[v9]:[{[wa]:"DisableS3ExpressSessionAuth"}]},{[v8]:wm,[v9]:[{[wa]:"DisableS3ExpressSessionAuth"},!0]}],yq=[xg],yr=[xj],ys=[w6],yt=[w3],yu=[{[v8]:ws,[v9]:[w9,6,14,!0],[wb]:"s3expressAvailabilityZoneId"},{[v8]:ws,[v9]:[w9,14,16,!0],[wb]:"s3expressAvailabilityZoneDelim"},{[v8]:wp,[v9]:[{[wa]:"s3expressAvailabilityZoneDelim"},"--"]}],yv=[{[v7]:[w3],[wv]:{[wc]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[wd]:xh,[wj]:{}},[v5]:wv},{[wv]:{[wc]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[wd]:xh,[wj]:{}},[v5]:wv}],yw=[{[v8]:ws,[v9]:[w9,6,15,!0],[wb]:"s3expressAvailabilityZoneId"},{[v8]:ws,[v9]:[w9,15,17,!0],[wb]:"s3expressAvailabilityZoneDelim"},{[v8]:wp,[v9]:[{[wa]:"s3expressAvailabilityZoneDelim"},"--"]}],yx=[{[v8]:ws,[v9]:[w9,6,19,!0],[wb]:"s3expressAvailabilityZoneId"},{[v8]:ws,[v9]:[w9,19,21,!0],[wb]:"s3expressAvailabilityZoneDelim"},{[v8]:wp,[v9]:[{[wa]:"s3expressAvailabilityZoneDelim"},"--"]}],yy=[{[v8]:ws,[v9]:[w9,6,20,!0],[wb]:"s3expressAvailabilityZoneId"},{[v8]:ws,[v9]:[w9,20,22,!0],[wb]:"s3expressAvailabilityZoneDelim"},{[v8]:wp,[v9]:[{[wa]:"s3expressAvailabilityZoneDelim"},"--"]}],yz=[{[v8]:ws,[v9]:[w9,6,26,!0],[wb]:"s3expressAvailabilityZoneId"},{[v8]:ws,[v9]:[w9,26,28,!0],[wb]:"s3expressAvailabilityZoneDelim"},{[v8]:wp,[v9]:[{[wa]:"s3expressAvailabilityZoneDelim"},"--"]}],yA=[{[v7]:[w3],[wv]:{[wc]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[wd]:{[we]:"S3Express",[wf]:[{[wg]:!0,[wr]:"sigv4-s3express",[wh]:"s3express",[wi]:"{Region}"}]},[wj]:{}},[v5]:wv},{[wv]:{[wc]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[wd]:{[we]:"S3Express",[wf]:[{[wg]:!0,[wr]:"sigv4-s3express",[wh]:"s3express",[wi]:"{Region}"}]},[wj]:{}},[v5]:wv}],yB=[w9,0,7,!0],yC=[{[v8]:ws,[v9]:[w9,7,15,!0],[wb]:"s3expressAvailabilityZoneId"},{[v8]:ws,[v9]:[w9,15,17,!0],[wb]:"s3expressAvailabilityZoneDelim"},{[v8]:wp,[v9]:[{[wa]:"s3expressAvailabilityZoneDelim"},"--"]}],yD=[{[v8]:ws,[v9]:[w9,7,16,!0],[wb]:"s3expressAvailabilityZoneId"},{[v8]:ws,[v9]:[w9,16,18,!0],[wb]:"s3expressAvailabilityZoneDelim"},{[v8]:wp,[v9]:[{[wa]:"s3expressAvailabilityZoneDelim"},"--"]}],yE=[{[v8]:ws,[v9]:[w9,7,20,!0],[wb]:"s3expressAvailabilityZoneId"},{[v8]:ws,[v9]:[w9,20,22,!0],[wb]:"s3expressAvailabilityZoneDelim"},{[v8]:wp,[v9]:[{[wa]:"s3expressAvailabilityZoneDelim"},"--"]}],yF=[{[v8]:ws,[v9]:[w9,7,21,!0],[wb]:"s3expressAvailabilityZoneId"},{[v8]:ws,[v9]:[w9,21,23,!0],[wb]:"s3expressAvailabilityZoneDelim"},{[v8]:wp,[v9]:[{[wa]:"s3expressAvailabilityZoneDelim"},"--"]}],yG=[{[v8]:ws,[v9]:[w9,7,27,!0],[wb]:"s3expressAvailabilityZoneId"},{[v8]:ws,[v9]:[w9,27,29,!0],[wb]:"s3expressAvailabilityZoneDelim"},{[v8]:wp,[v9]:[{[wa]:"s3expressAvailabilityZoneDelim"},"--"]}],yH=[w8],yI=[{[v8]:wG,[v9]:[{[wa]:wF},!1]}],yJ=[{[v8]:wp,[v9]:[{[wa]:wD},"beta"]}],yK=[{[v8]:wG,[v9]:[{[wa]:"Region"},!1]}],yL=[{[v8]:wp,[v9]:[{[wa]:"Region"},"us-east-1"]}],yM=[{[v8]:wp,[v9]:[xQ,wS]}],yN=[{[v8]:wq,[v9]:[xP,"resourceId[1]"],[wb]:wT},{[v8]:wz,[v9]:[{[v8]:wp,[v9]:[xS,wQ]}]}],yO=[xP,"resourceId[1]"],yP=[{[v8]:wz,[v9]:[{[v8]:wp,[v9]:[{[v8]:wq,[v9]:[xP,"region"]},wQ]}]}],yQ=[{[v8]:wz,[v9]:[{[v8]:wl,[v9]:[{[v8]:wq,[v9]:[xP,"resourceId[2]"]}]}]}],yR=[xP,"resourceId[2]"],yS=[{[v8]:wo,[v9]:[{[v8]:wq,[v9]:[xP,"region"]}],[wb]:"bucketPartition"}],yT=[{[v8]:wp,[v9]:[xX,{[v8]:wq,[v9]:[{[wa]:"partitionResult"},wr]}]}],yU=[{[v8]:wG,[v9]:[{[v8]:wq,[v9]:[xP,"region"]},!0]}],yV=[{[v8]:wG,[v9]:[xY,!1]}],yW=[{[v8]:wG,[v9]:[xS,!1]}],yX=[{[v8]:wG,[v9]:[{[wa]:"Region"},!0]}],yY={version:"1.0",parameters:{Bucket:w_,Region:w_,UseFIPS:w0,UseDualStack:w0,Endpoint:w_,ForcePathStyle:w0,Accelerate:w0,UseGlobalEndpoint:w0,UseObjectLambdaEndpoint:w1,Key:w_,Prefix:w_,CopySource:w_,DisableAccessPoints:w1,DisableMultiRegionAccessPoints:w0,UseArnRegion:w1,UseS3ExpressControlEndpoint:w1,DisableS3ExpressSessionAuth:w1},[v6]:[{[v7]:[{[v8]:wl,[v9]:yj}],[v6]:[{[v7]:[w2,w3],error:"Accelerate cannot be used with FIPS",[v5]:wn},{[v7]:[w4,w5],error:"Cannot set dual-stack in combination with a custom endpoint.",[v5]:wn},{[v7]:[w5,w3],error:"A custom endpoint cannot be combined with FIPS",[v5]:wn},{[v7]:[w5,w2],error:"A custom endpoint cannot be combined with S3 Accelerate",[v5]:wn},{[v7]:[w3,w6,w7],error:"Partition does not support FIPS",[v5]:wn},{[v7]:[w8,{[v8]:ws,[v9]:[w9,0,6,!0],[wb]:wt},{[v8]:wp,[v9]:[{[wa]:wt},"--x-s3"]}],[v6]:[xa,xb,xc,{[v7]:[xl,xm],[v6]:[{[v7]:ys,[v6]:[{[v7]:[xg,xn],[v6]:[{[v7]:yt,endpoint:{[wc]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[wd]:xh,[wj]:xi},[v5]:wv},{endpoint:{[wc]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[wd]:xh,[wj]:xi},[v5]:wv}],[v5]:ww}],[v5]:ww}],[v5]:ww},{[v7]:yr,[v6]:[{[v7]:ys,[v6]:[{[v7]:yp,[v6]:[{[v7]:yu,[v6]:yv,[v5]:ww},{[v7]:yw,[v6]:yv,[v5]:ww},{[v7]:yx,[v6]:yv,[v5]:ww},{[v7]:yy,[v6]:yv,[v5]:ww},{[v7]:yz,[v6]:yv,[v5]:ww},xo],[v5]:ww},{[v7]:yu,[v6]:yA,[v5]:ww},{[v7]:yw,[v6]:yA,[v5]:ww},{[v7]:yx,[v6]:yA,[v5]:ww},{[v7]:yy,[v6]:yA,[v5]:ww},{[v7]:yz,[v6]:yA,[v5]:ww},xo],[v5]:ww}],[v5]:ww},xk],[v5]:ww},{[v7]:[w8,{[v8]:ws,[v9]:yB,[wb]:wA},{[v8]:wp,[v9]:[{[wa]:wA},"--xa-s3"]}],[v6]:[xa,xb,xc,{[v7]:yr,[v6]:[{[v7]:ys,[v6]:[{[v7]:yp,[v6]:[{[v7]:yC,[v6]:yv,[v5]:ww},{[v7]:yD,[v6]:yv,[v5]:ww},{[v7]:yE,[v6]:yv,[v5]:ww},{[v7]:yF,[v6]:yv,[v5]:ww},{[v7]:yG,[v6]:yv,[v5]:ww},xo],[v5]:ww},{[v7]:yC,[v6]:yA,[v5]:ww},{[v7]:yD,[v6]:yA,[v5]:ww},{[v7]:yE,[v6]:yA,[v5]:ww},{[v7]:yF,[v6]:yA,[v5]:ww},{[v7]:yG,[v6]:yA,[v5]:ww},xo],[v5]:ww}],[v5]:ww},xk],[v5]:ww},{[v7]:[xp,xl,xm],[v6]:[{[v7]:ys,[v6]:[{[v7]:yo,endpoint:{[wc]:wB,[wd]:xh,[wj]:xi},[v5]:wv},{[v7]:yt,endpoint:{[wc]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[wd]:xh,[wj]:xi},[v5]:wv},{endpoint:{[wc]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[wd]:xh,[wj]:xi},[v5]:wv}],[v5]:ww}],[v5]:ww},{[v7]:[w8,{[v8]:ws,[v9]:[w9,49,50,!0],[wb]:wC},{[v8]:ws,[v9]:[w9,8,12,!0],[wb]:wD},{[v8]:ws,[v9]:yB,[wb]:wE},{[v8]:ws,[v9]:[w9,32,49,!0],[wb]:wF},{[v8]:wo,[v9]:yj,[wb]:"regionPartition"},{[v8]:wp,[v9]:[{[wa]:wE},"--op-s3"]}],[v6]:[{[v7]:yI,[v6]:[{[v7]:[{[v8]:wp,[v9]:[xq,"e"]}],[v6]:[{[v7]:yJ,[v6]:[xr,{[v7]:yo,endpoint:{[wc]:"https://{Bucket}.ec2.{url#authority}",[wd]:xs,[wj]:xi},[v5]:wv}],[v5]:ww},{endpoint:{[wc]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[wd]:xs,[wj]:xi},[v5]:wv}],[v5]:ww},{[v7]:[{[v8]:wp,[v9]:[xq,"o"]}],[v6]:[{[v7]:yJ,[v6]:[xr,{[v7]:yo,endpoint:{[wc]:"https://{Bucket}.op-{outpostId}.{url#authority}",[wd]:xs,[wj]:xi},[v5]:wv}],[v5]:ww},{endpoint:{[wc]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[wd]:xs,[wj]:xi},[v5]:wv}],[v5]:ww},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[v5]:wn}],[v5]:ww},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[v5]:wn}],[v5]:ww},{[v7]:yH,[v6]:[{[v7]:[w5,{[v8]:wz,[v9]:[{[v8]:wl,[v9]:[{[v8]:wu,[v9]:yk}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[v5]:wn},{[v7]:[xt,xj],[v6]:[{[v7]:ys,[v6]:[{[v7]:yK,[v6]:[{[v7]:[w2,w7],error:"S3 Accelerate cannot be used in this region",[v5]:wn},{[v7]:[w4,w3,xv,xn,xw],endpoint:{[wc]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[w4,w3,xv,xn,xy,xz],[v6]:[{endpoint:xA,[v5]:wv}],[v5]:ww},{[v7]:[w4,w3,xv,xn,xy,xC],endpoint:xA,[v5]:wv},{[v7]:[xD,w3,xv,xn,xw],endpoint:{[wc]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[xD,w3,xv,xn,xy,xz],[v6]:[{endpoint:xE,[v5]:wv}],[v5]:ww},{[v7]:[xD,w3,xv,xn,xy,xC],endpoint:xE,[v5]:wv},{[v7]:[w4,xF,w2,xn,xw],endpoint:{[wc]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[w4,xF,w2,xn,xy,xz],[v6]:[{endpoint:xG,[v5]:wv}],[v5]:ww},{[v7]:[w4,xF,w2,xn,xy,xC],endpoint:xG,[v5]:wv},{[v7]:[w4,xF,xv,xn,xw],endpoint:{[wc]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[w4,xF,xv,xn,xy,xz],[v6]:[{endpoint:xH,[v5]:wv}],[v5]:ww},{[v7]:[w4,xF,xv,xn,xy,xC],endpoint:xH,[v5]:wv},{[v7]:[xD,xF,xv,w5,xd,xe,xw],endpoint:{[wc]:wK,[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[xD,xF,xv,w5,xd,xI,xw],endpoint:{[wc]:wy,[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[xD,xF,xv,w5,xd,xe,xy,xz],[v6]:[{[v7]:yL,endpoint:xJ,[v5]:wv},{endpoint:xJ,[v5]:wv}],[v5]:ww},{[v7]:[xD,xF,xv,w5,xd,xI,xy,xz],[v6]:[{[v7]:yL,endpoint:xK,[v5]:wv},xL],[v5]:ww},{[v7]:[xD,xF,xv,w5,xd,xe,xy,xC],endpoint:xJ,[v5]:wv},{[v7]:[xD,xF,xv,w5,xd,xI,xy,xC],endpoint:xK,[v5]:wv},{[v7]:[xD,xF,w2,xn,xw],endpoint:{[wc]:wL,[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[xD,xF,w2,xn,xy,xz],[v6]:[{[v7]:yL,endpoint:xM,[v5]:wv},{endpoint:xM,[v5]:wv}],[v5]:ww},{[v7]:[xD,xF,w2,xn,xy,xC],endpoint:xM,[v5]:wv},{[v7]:[xD,xF,xv,xn,xw],endpoint:{[wc]:wM,[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[xD,xF,xv,xn,xy,xz],[v6]:[{[v7]:yL,endpoint:{[wc]:wM,[wd]:xB,[wj]:xi},[v5]:wv},{endpoint:xN,[v5]:wv}],[v5]:ww},{[v7]:[xD,xF,xv,xn,xy,xC],endpoint:xN,[v5]:wv}],[v5]:ww},xO],[v5]:ww}],[v5]:ww},{[v7]:[w5,xd,{[v8]:wp,[v9]:[{[v8]:wq,[v9]:[xf,"scheme"]},"http"]},{[v8]:wx,[v9]:[w9,!0]},xt,xF,xD,xv],[v6]:[{[v7]:ys,[v6]:[{[v7]:yK,[v6]:[xL],[v5]:ww},xO],[v5]:ww}],[v5]:ww},{[v7]:[xt,{[v8]:wN,[v9]:yl,[wb]:wO}],[v6]:[{[v7]:[{[v8]:wq,[v9]:[xP,"resourceId[0]"],[wb]:wP},{[v8]:wz,[v9]:[{[v8]:wp,[v9]:[xQ,wQ]}]}],[v6]:[{[v7]:[{[v8]:wp,[v9]:[xR,wR]}],[v6]:[{[v7]:yM,[v6]:[{[v7]:yN,[v6]:[xT,xU,{[v7]:yP,[v6]:[xV,{[v7]:yQ,[v6]:[xW,{[v7]:yS,[v6]:[{[v7]:ys,[v6]:[{[v7]:yT,[v6]:[{[v7]:yU,[v6]:[{[v7]:[{[v8]:wp,[v9]:[xY,wQ]}],error:"Invalid ARN: Missing account id",[v5]:wn},{[v7]:yV,[v6]:[{[v7]:yW,[v6]:[{[v7]:yo,endpoint:{[wc]:wU,[wd]:xZ,[wj]:xi},[v5]:wv},{[v7]:yt,endpoint:{[wc]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[wd]:xZ,[wj]:xi},[v5]:wv},{endpoint:{[wc]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[wd]:xZ,[wj]:xi},[v5]:wv}],[v5]:ww},x$],[v5]:ww},x_],[v5]:ww},x0],[v5]:ww},x1],[v5]:ww}],[v5]:ww}],[v5]:ww},x2],[v5]:ww},{error:"Invalid ARN: bucket ARN is missing a region",[v5]:wn}],[v5]:ww},x3],[v5]:ww},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[v5]:wn}],[v5]:ww},{[v7]:yM,[v6]:[{[v7]:yN,[v6]:[{[v7]:yP,[v6]:[{[v7]:yM,[v6]:[{[v7]:yP,[v6]:[xV,{[v7]:yQ,[v6]:[xW,{[v7]:yS,[v6]:[{[v7]:ys,[v6]:[{[v7]:[{[v8]:wp,[v9]:[xX,"{partitionResult#name}"]}],[v6]:[{[v7]:yU,[v6]:[{[v7]:[{[v8]:wp,[v9]:[xR,wJ]}],[v6]:[{[v7]:yV,[v6]:[{[v7]:yW,[v6]:[{[v7]:yn,error:"Access Points do not support S3 Accelerate",[v5]:wn},{[v7]:[w3,w4],endpoint:{[wc]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[wd]:x4,[wj]:xi},[v5]:wv},{[v7]:[w3,xD],endpoint:{[wc]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[wd]:x4,[wj]:xi},[v5]:wv},{[v7]:[xF,w4],endpoint:{[wc]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[wd]:x4,[wj]:xi},[v5]:wv},{[v7]:[xF,xD,w5,xd],endpoint:{[wc]:wU,[wd]:x4,[wj]:xi},[v5]:wv},{[v7]:[xF,xD],endpoint:{[wc]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[wd]:x4,[wj]:xi},[v5]:wv}],[v5]:ww},x$],[v5]:ww},x_],[v5]:ww},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[v5]:wn}],[v5]:ww},x0],[v5]:ww},x1],[v5]:ww}],[v5]:ww}],[v5]:ww},x2],[v5]:ww}],[v5]:ww}],[v5]:ww},{[v7]:[{[v8]:wG,[v9]:[xS,!0]}],[v6]:[{[v7]:ym,error:"S3 MRAP does not support dual-stack",[v5]:wn},{[v7]:yt,error:"S3 MRAP does not support FIPS",[v5]:wn},{[v7]:yn,error:"S3 MRAP does not support S3 Accelerate",[v5]:wn},{[v7]:[{[v8]:wm,[v9]:[{[wa]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[v5]:wn},{[v7]:[{[v8]:wo,[v9]:yj,[wb]:wV}],[v6]:[{[v7]:[{[v8]:wp,[v9]:[{[v8]:wq,[v9]:[{[wa]:wV},wr]},{[v8]:wq,[v9]:[xP,"partition"]}]}],[v6]:[{endpoint:{[wc]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[wd]:{[wf]:[{[wg]:!0,name:wH,[wh]:wJ,[wk]:["*"]}]},[wj]:xi},[v5]:wv}],[v5]:ww},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[v5]:wn}],[v5]:ww}],[v5]:ww},{error:"Invalid Access Point Name",[v5]:wn}],[v5]:ww},x3],[v5]:ww},{[v7]:[{[v8]:wp,[v9]:[xR,wI]}],[v6]:[{[v7]:ym,error:"S3 Outposts does not support Dual-stack",[v5]:wn},{[v7]:yt,error:"S3 Outposts does not support FIPS",[v5]:wn},{[v7]:yn,error:"S3 Outposts does not support S3 Accelerate",[v5]:wn},{[v7]:[{[v8]:wl,[v9]:[{[v8]:wq,[v9]:[xP,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[v5]:wn},{[v7]:[{[v8]:wq,[v9]:yO,[wb]:wF}],[v6]:[{[v7]:yI,[v6]:[xW,{[v7]:yS,[v6]:[{[v7]:ys,[v6]:[{[v7]:yT,[v6]:[{[v7]:yU,[v6]:[{[v7]:yV,[v6]:[{[v7]:[{[v8]:wq,[v9]:yR,[wb]:wW}],[v6]:[{[v7]:[{[v8]:wq,[v9]:[xP,"resourceId[3]"],[wb]:wT}],[v6]:[{[v7]:[{[v8]:wp,[v9]:[{[wa]:wW},wS]}],[v6]:[{[v7]:yo,endpoint:{[wc]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[wd]:x5,[wj]:xi},[v5]:wv},{endpoint:{[wc]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[wd]:x5,[wj]:xi},[v5]:wv}],[v5]:ww},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[v5]:wn}],[v5]:ww},{error:"Invalid ARN: expected an access point name",[v5]:wn}],[v5]:ww},{error:"Invalid ARN: Expected a 4-component resource",[v5]:wn}],[v5]:ww},x_],[v5]:ww},x0],[v5]:ww},x1],[v5]:ww}],[v5]:ww}],[v5]:ww},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[v5]:wn}],[v5]:ww},{error:"Invalid ARN: The Outpost Id was not set",[v5]:wn}],[v5]:ww},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[v5]:wn}],[v5]:ww},{error:"Invalid ARN: No ARN type specified",[v5]:wn}],[v5]:ww},{[v7]:[{[v8]:ws,[v9]:[w9,0,4,!1],[wb]:wX},{[v8]:wp,[v9]:[{[wa]:wX},"arn:"]},{[v8]:wz,[v9]:[{[v8]:wl,[v9]:[x6]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[v5]:wn},{[v7]:[{[v8]:wm,[v9]:[xu,!0]},x6],error:"Path-style addressing cannot be used with ARN buckets",[v5]:wn},{[v7]:yq,[v6]:[{[v7]:ys,[v6]:[{[v7]:[xv],[v6]:[{[v7]:[w4,xn,w3,xw],endpoint:{[wc]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[w4,xn,w3,xy,xz],[v6]:[{endpoint:x7,[v5]:wv}],[v5]:ww},{[v7]:[w4,xn,w3,xy,xC],endpoint:x7,[v5]:wv},{[v7]:[xD,xn,w3,xw],endpoint:{[wc]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[xD,xn,w3,xy,xz],[v6]:[{endpoint:x8,[v5]:wv}],[v5]:ww},{[v7]:[xD,xn,w3,xy,xC],endpoint:x8,[v5]:wv},{[v7]:[w4,xn,xF,xw],endpoint:{[wc]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[w4,xn,xF,xy,xz],[v6]:[{endpoint:x9,[v5]:wv}],[v5]:ww},{[v7]:[w4,xn,xF,xy,xC],endpoint:x9,[v5]:wv},{[v7]:[xD,w5,xd,xF,xw],endpoint:{[wc]:wY,[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[xD,w5,xd,xF,xy,xz],[v6]:[{[v7]:yL,endpoint:ya,[v5]:wv},{endpoint:ya,[v5]:wv}],[v5]:ww},{[v7]:[xD,w5,xd,xF,xy,xC],endpoint:ya,[v5]:wv},{[v7]:[xD,xn,xF,xw],endpoint:{[wc]:wZ,[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[xD,xn,xF,xy,xz],[v6]:[{[v7]:yL,endpoint:{[wc]:wZ,[wd]:xB,[wj]:xi},[v5]:wv},{endpoint:yb,[v5]:wv}],[v5]:ww},{[v7]:[xD,xn,xF,xy,xC],endpoint:yb,[v5]:wv}],[v5]:ww},{error:"Path-style addressing cannot be used with S3 Accelerate",[v5]:wn}],[v5]:ww}],[v5]:ww}],[v5]:ww},{[v7]:[{[v8]:wl,[v9]:[yc]},{[v8]:wm,[v9]:[yc,!0]}],[v6]:[{[v7]:ys,[v6]:[{[v7]:yX,[v6]:[xT,xU,{[v7]:yo,endpoint:{[wc]:wB,[wd]:yd,[wj]:xi},[v5]:wv},{[v7]:yt,endpoint:{[wc]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[wd]:yd,[wj]:xi},[v5]:wv},{endpoint:{[wc]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[wd]:yd,[wj]:xi},[v5]:wv}],[v5]:ww},xO],[v5]:ww}],[v5]:ww},{[v7]:[xp],[v6]:[{[v7]:ys,[v6]:[{[v7]:yX,[v6]:[{[v7]:[w3,w4,xn,xw],endpoint:{[wc]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[w3,w4,xn,xy,xz],[v6]:[{endpoint:ye,[v5]:wv}],[v5]:ww},{[v7]:[w3,w4,xn,xy,xC],endpoint:ye,[v5]:wv},{[v7]:[w3,xD,xn,xw],endpoint:{[wc]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[w3,xD,xn,xy,xz],[v6]:[{endpoint:yf,[v5]:wv}],[v5]:ww},{[v7]:[w3,xD,xn,xy,xC],endpoint:yf,[v5]:wv},{[v7]:[xF,w4,xn,xw],endpoint:{[wc]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[xF,w4,xn,xy,xz],[v6]:[{endpoint:yg,[v5]:wv}],[v5]:ww},{[v7]:[xF,w4,xn,xy,xC],endpoint:yg,[v5]:wv},{[v7]:[xF,xD,w5,xd,xw],endpoint:{[wc]:wB,[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[xF,xD,w5,xd,xy,xz],[v6]:[{[v7]:yL,endpoint:yh,[v5]:wv},{endpoint:yh,[v5]:wv}],[v5]:ww},{[v7]:[xF,xD,w5,xd,xy,xC],endpoint:yh,[v5]:wv},{[v7]:[xF,xD,xn,xw],endpoint:{[wc]:w$,[wd]:xx,[wj]:xi},[v5]:wv},{[v7]:[xF,xD,xn,xy,xz],[v6]:[{[v7]:yL,endpoint:{[wc]:w$,[wd]:xB,[wj]:xi},[v5]:wv},{endpoint:yi,[v5]:wv}],[v5]:ww},{[v7]:[xF,xD,xn,xy,xC],endpoint:yi,[v5]:wv}],[v5]:ww},xO],[v5]:ww}],[v5]:ww}],[v5]:ww},{error:"A region must be set when sending requests to S3.",[v5]:wn}]},yZ=new v3.kS({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),y$=(a,b={})=>yZ.get(a,()=>(0,v3.sO)(yY,{endpointParams:a,logger:b.logger}));v3.mw.aws=v2.UF;let y_=(d=async(a,b,c)=>({operation:(0,v1.u)(b).operation,region:await (0,v1.t)(a.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),async(a,b,c)=>{if(!c)throw Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let e=await d(a,b,c),f=(0,v1.u)(b)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!f)throw Error(`getEndpointParameterInstructions() is not defined on \`${b.commandName}\``);return Object.assign(e,await (0,o.xg)(c,{getEndpointParameterInstructions:f},a))});function y0(a){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:a.region},propertiesExtractor:(a,b)=>({signingProperties:{config:a,context:b}})}}function y1(a){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:a.region},propertiesExtractor:(a,b)=>({signingProperties:{config:a,context:b}})}}let y2=(e=y$,f=a=>{let b=[];return a.operation,b.push(y0(a)),b.push(y1(a)),b},g={"aws.auth#sigv4":y0,"aws.auth#sigv4a":y1},a=>{let b=e(a),c=b.properties?.authSchemes;if(!c)return f(a);let d=[];for(let b of c){let e,{name:f,properties:h={},...i}=b,j=f.toLowerCase();if(f!==j&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${f}\` to \`${j}\``),"sigv4a"===j){e="aws.auth#sigv4a";let a=c.find(a=>{let b=a.name.toLowerCase();return"sigv4a"!==b&&b.startsWith("sigv4")});if("none"===v0.W.sigv4aDependency()&&a)continue}else if(j.startsWith("sigv4"))e="aws.auth#sigv4";else throw Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${j}\``);let k=g[e];if(!k)throw Error(`Could not find HttpAuthOption create function for \`${e}\``);let l=k(a);l.schemeId=e,l.signingProperties={...l.signingProperties||{},...i,...h},d.push(l)}return d}),y3=a=>{let b=(0,v$.h)(a);return Object.assign((0,v_.O)(b),{authSchemePreference:(0,v1.t)(a.authSchemePreference??[])})},y4={rE:"3.913.0"};var y5=c(71500),y6=c(45579),y7=c(45287),y8=c(50788),y9=c(37423),za=c(76274),zb=c(8344),zc=c(99210),zd=c(99355),ze=c(98571),zf=c(84330),zg=c(34346),zh=c(62763),zi=c(47532),zj=c(59346),zk=c(66268),zl=c(82665),zm=c(73567);let zn=a=>({apiVersion:"2006-03-01",base64Decoder:a?.base64Decoder??zk.fromBase64,base64Encoder:a?.base64Encoder??zk.toBase64,disableHostPrefix:a?.disableHostPrefix??!1,endpointProvider:a?.endpointProvider??y$,extensions:a?.extensions??[],getAwsChunkedEncodingStream:a?.getAwsChunkedEncodingStream??zl.getAwsChunkedEncodingStream,httpAuthSchemeProvider:a?.httpAuthSchemeProvider??y2,httpAuthSchemes:a?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:a=>a.getIdentityProvider("aws.auth#sigv4"),signer:new zh.f2},{schemeId:"aws.auth#sigv4a",identityProvider:a=>a.getIdentityProvider("aws.auth#sigv4a"),signer:new zi.S}],logger:a?.logger??new l.NoOpLogger,sdkStreamMixin:a?.sdkStreamMixin??zl.sdkStreamMixin,serviceId:a?.serviceId??"S3",signerConstructor:a?.signerConstructor??v0.W,signingEscapePath:a?.signingEscapePath??!1,urlParser:a?.urlParser??zj.D,useArnRegion:a?.useArnRegion??void 0,utf8Decoder:a?.utf8Decoder??zm.ar,utf8Encoder:a?.utf8Encoder??zm.Pq});var zo=c(39891);let zp=a=>{(0,l.emitWarningIfUnsupportedVersion)(process.version);let b=(0,zo.I)(a),c=()=>b().then(l.loadConfigsForDefaultMode),d=zn(a);(0,y5.I)(process.version);let e={profile:a?.profile,logger:d.logger};return{...d,...a,runtime:"node",defaultsMode:b,authSchemePreference:a?.authSchemePreference??(0,zd.Z)(y6.$,e),bodyLengthChecker:a?.bodyLengthChecker??zf.n,credentialDefaultProvider:a?.credentialDefaultProvider??y7.v6,defaultUserAgentProvider:a?.defaultUserAgentProvider??(0,y9.pf)({serviceId:d.serviceId,clientVersion:y4.rE}),disableS3ExpressSessionAuth:a?.disableS3ExpressSessionAuth??(0,zd.Z)(m.nr,e),eventStreamSerdeProvider:a?.eventStreamSerdeProvider??za.J,maxAttempts:a?.maxAttempts??(0,zd.Z)(vZ.qs,a),md5:a?.md5??zb.V.bind(null,"md5"),region:a?.region??(0,zd.Z)(vT.GG,{...vT.zH,...e}),requestChecksumCalculation:a?.requestChecksumCalculation??(0,zd.Z)(ud.XV,e),requestHandler:ze.$c.create(a?.requestHandler??c),responseChecksumValidation:a?.responseChecksumValidation??(0,zd.Z)(ud.$x,e),retryMode:a?.retryMode??(0,zd.Z)({...vZ.kN,default:async()=>(await c()).retryMode||zg.L0},a),sha1:a?.sha1??zb.V.bind(null,"sha1"),sha256:a?.sha256??zb.V.bind(null,"sha256"),sigv4aSigningRegionSet:a?.sigv4aSigningRegionSet??(0,zd.Z)(v_.A,e),streamCollector:a?.streamCollector??ze.kv,streamHasher:a?.streamHasher??zc.S,useArnRegion:a?.useArnRegion??(0,zd.Z)(y8.KU,e),useDualstackEndpoint:a?.useDualstackEndpoint??(0,zd.Z)(vT.e$,e),useFipsEndpoint:a?.useFipsEndpoint??(0,zd.Z)(vT.Ko,e),userAgentAppId:a?.userAgentAppId??(0,zd.Z)(y9.hV,e)}};var zq=c(17862);let zr=a=>{let b=a.httpAuthSchemes,c=a.httpAuthSchemeProvider,d=a.credentials;return{setHttpAuthScheme(a){let c=b.findIndex(b=>b.schemeId===a.schemeId);-1===c?b.push(a):b.splice(c,1,a)},httpAuthSchemes:()=>b,setHttpAuthSchemeProvider(a){c=a},httpAuthSchemeProvider:()=>c,setCredentials(a){d=a},credentials:()=>d}},zs=a=>({httpAuthSchemes:a.httpAuthSchemes(),httpAuthSchemeProvider:a.httpAuthSchemeProvider(),credentials:a.credentials()}),zt=(a,b)=>{let c=Object.assign((0,zq.Rq)(a),(0,l.getDefaultExtensionConfiguration)(a),(0,v.eS)(a),zr(a));return b.forEach(a=>a.configure(c)),Object.assign(a,(0,zq.$3)(c),(0,l.resolveDefaultRuntimeConfig)(c),(0,v.jt)(c),zs(c))};class zu extends l.Client{config;constructor(...[a]){let b=zp(a||{});super(b),this.initConfig=b;let c=q(b),d=(0,vS.Dc)(c),e=(0,ud.M4)(d),f=(0,vZ.$z)(e),g=(0,vT.TD)(f),h=(0,vP.OV)(g),i=(0,o.Co)(h),j=y3((0,vX.o)(i)),k=zt((0,m.ri)(j,{session:[()=>this,uh]}),a?.extensions||[]);this.config=k,this.middlewareStack.use((0,vS.sM)(this.config)),this.middlewareStack.use((0,vZ.ey)(this.config)),this.middlewareStack.use((0,vY.vK)(this.config)),this.middlewareStack.use((0,vP.TC)(this.config)),this.middlewareStack.use((0,vQ.Y7)(this.config)),this.middlewareStack.use((0,vR.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,vU.w)(this.config,{httpAuthSchemeParametersProvider:y_,identityProviderConfigProvider:async a=>new vV.h({"aws.auth#sigv4":a.credentials,"aws.auth#sigv4a":a.credentials})})),this.middlewareStack.use((0,vW.l)(this.config)),this.middlewareStack.use((0,m.Br)(this.config)),this.middlewareStack.use((0,vO.DD)(this.config)),this.middlewareStack.use((0,m._W)(this.config)),this.middlewareStack.use((0,m.GE)(this.config)),this.middlewareStack.use((0,m.Zu)(this.config))}destroy(){super.destroy()}}let zv={AbortMultipartUploadCommand:t7,CompleteMultipartUploadCommand:t9,CopyObjectCommand:ua,CreateBucketCommand:uc,CreateBucketMetadataConfigurationCommand:ue,CreateBucketMetadataTableConfigurationCommand:uf,CreateMultipartUploadCommand:ug,CreateSessionCommand:uh,DeleteBucketCommand:uj,DeleteBucketAnalyticsConfigurationCommand:ui,DeleteBucketCorsCommand:uk,DeleteBucketEncryptionCommand:ul,DeleteBucketIntelligentTieringConfigurationCommand:um,DeleteBucketInventoryConfigurationCommand:un,DeleteBucketLifecycleCommand:uo,DeleteBucketMetadataConfigurationCommand:up,DeleteBucketMetadataTableConfigurationCommand:uq,DeleteBucketMetricsConfigurationCommand:ur,DeleteBucketOwnershipControlsCommand:us,DeleteBucketPolicyCommand:ut,DeleteBucketReplicationCommand:uu,DeleteBucketTaggingCommand:uv,DeleteBucketWebsiteCommand:uw,DeleteObjectCommand:ux,DeleteObjectsCommand:uy,DeleteObjectTaggingCommand:uz,DeletePublicAccessBlockCommand:uA,GetBucketAccelerateConfigurationCommand:uB,GetBucketAclCommand:uC,GetBucketAnalyticsConfigurationCommand:uD,GetBucketCorsCommand:uE,GetBucketEncryptionCommand:uF,GetBucketIntelligentTieringConfigurationCommand:uG,GetBucketInventoryConfigurationCommand:uH,GetBucketLifecycleConfigurationCommand:uI,GetBucketLocationCommand:uJ,GetBucketLoggingCommand:uK,GetBucketMetadataConfigurationCommand:uL,GetBucketMetadataTableConfigurationCommand:uM,GetBucketMetricsConfigurationCommand:uN,GetBucketNotificationConfigurationCommand:uO,GetBucketOwnershipControlsCommand:uP,GetBucketPolicyCommand:uQ,GetBucketPolicyStatusCommand:uR,GetBucketReplicationCommand:uS,GetBucketRequestPaymentCommand:uT,GetBucketTaggingCommand:uU,GetBucketVersioningCommand:uV,GetBucketWebsiteCommand:uW,GetObjectCommand:uZ,GetObjectAclCommand:uX,GetObjectAttributesCommand:uY,GetObjectLegalHoldCommand:u$,GetObjectLockConfigurationCommand:u_,GetObjectRetentionCommand:u0,GetObjectTaggingCommand:u1,GetObjectTorrentCommand:u2,GetPublicAccessBlockCommand:u3,HeadBucketCommand:u4,HeadObjectCommand:u5,ListBucketAnalyticsConfigurationsCommand:u6,ListBucketIntelligentTieringConfigurationsCommand:u7,ListBucketInventoryConfigurationsCommand:u8,ListBucketMetricsConfigurationsCommand:u9,ListBucketsCommand:va,ListDirectoryBucketsCommand:vb,ListMultipartUploadsCommand:vc,ListObjectsCommand:vd,ListObjectsV2Command:ve,ListObjectVersionsCommand:vf,ListPartsCommand:vg,PutBucketAccelerateConfigurationCommand:vh,PutBucketAclCommand:vi,PutBucketAnalyticsConfigurationCommand:vj,PutBucketCorsCommand:vk,PutBucketEncryptionCommand:vl,PutBucketIntelligentTieringConfigurationCommand:vm,PutBucketInventoryConfigurationCommand:vn,PutBucketLifecycleConfigurationCommand:vo,PutBucketLoggingCommand:vp,PutBucketMetricsConfigurationCommand:vq,PutBucketNotificationConfigurationCommand:vr,PutBucketOwnershipControlsCommand:vs,PutBucketPolicyCommand:vt,PutBucketReplicationCommand:vu,PutBucketRequestPaymentCommand:vv,PutBucketTaggingCommand:vw,PutBucketVersioningCommand:vx,PutBucketWebsiteCommand:vy,PutObjectCommand:vA,PutObjectAclCommand:vz,PutObjectLegalHoldCommand:vB,PutObjectLockConfigurationCommand:vC,PutObjectRetentionCommand:vD,PutObjectTaggingCommand:vE,PutPublicAccessBlockCommand:vF,RenameObjectCommand:vG,RestoreObjectCommand:vH,SelectObjectContentCommand:vI,UpdateBucketMetadataInventoryTableConfigurationCommand:vJ,UpdateBucketMetadataJournalTableConfigurationCommand:vK,UploadPartCommand:vL,UploadPartCopyCommand:vM,WriteGetObjectResponseCommand:vN};class zw extends zu{}(0,l.createAggregatedClient)(zv,zw);var zx=c(33873);let zy=({adapter:a,collection:b,disablePayloadAccessControl:c,generateFileURL:d,size:e})=>async({data:f,value:g})=>{let h=e?f?.sizes?.[e.name]?.filename:f?.filename,i=f?.prefix,j=g;return c&&h&&(j=await a.generateURL?.({collection:b,data:f,filename:h,prefix:i})),d&&(j=await d({collection:b,filename:h,prefix:i,size:e})),j},zz=({adapter:a,collection:b,disablePayloadAccessControl:c,generateFileURL:d,prefix:e})=>{let f={name:"url",type:"text",admin:{hidden:!0,readOnly:!0},label:"URL"},g={name:"prefix",type:"text",admin:{hidden:!0,readOnly:!0}},h=[...b.fields,...a.fields||[]],i=-1,j=h.find((a,b)=>"name"in a&&"url"===a.name&&(i=b,!0));if(i>-1&&h.splice(i,1),h.push({...f,...j||{},hooks:{afterRead:[zy({adapter:a,collection:b,disablePayloadAccessControl:c,generateFileURL:d}),...j?.hooks?.afterRead||[]]}}),"object"==typeof b.upload&&b.upload.imageSizes){let e=-1,g=h.find((a,b)=>"name"in a&&"sizes"===a.name&&(e=b,!0));e>-1&&h.splice(e,1);let i={...g||{},name:"sizes",type:"group",admin:{hidden:!0},fields:b.upload.imageSizes.map(e=>{let h=g?.fields.find(a=>"name"in a&&a.name===e.name),i=h?.fields.find(a=>"name"in a&&"url"===a.name);return{...h,name:e.name,type:"group",fields:[...a.fields||[],{...i||{},...f,hooks:{afterRead:[zy({adapter:a,collection:b,disablePayloadAccessControl:c,generateFileURL:d,size:e}),..."object"==typeof i&&"hooks"in i&&i?.hooks?.afterRead||[]]}}]}})};h.push(i)}if(void 0!==e){let a=-1,b=h.find((b,c)=>"name"in b&&"prefix"===b.name&&(a=c,!0));a>-1&&h.splice(a,1),h.push({...g,...b||{},defaultValue:zx.posix.join(e)})}return h},zA=({adapter:a,collection:b})=>async({doc:c,req:d})=>{try{let e=[c.filename,...Object.values(c?.sizes||[]).map(a=>a?.filename)].map(async e=>{e&&await a.handleDelete({collection:b,doc:c,filename:e,req:d})});await Promise.all(e)}catch(a){d.payload.logger.error({err:a,msg:`There was an error while deleting files corresponding to the ${b.labels?.singular} with ID ${c.id}.`})}return c};function zB({data:a,req:b}){let c=b.file,d=[];return c&&a.filename&&a.mimeType&&(d=[{buffer:c.data,clientUploadContext:c.clientUploadContext,filename:a.filename,filesize:c.size,mimeType:a.mimeType,tempFilePath:c.tempFilePath}],a?.sizes&&Object.entries(a.sizes).forEach(([c,e])=>{b.payloadUploadSizes?.[c]&&a.mimeType&&(d=d.concat([{buffer:b.payloadUploadSizes[c],filename:`${e.filename}`,filesize:b.payloadUploadSizes[c].length,mimeType:a.mimeType}]))})),d}let zC=({adapter:a,collection:b})=>async({data:c,originalDoc:d,req:e})=>{try{let f=zB({data:c,req:e});if(f.length>0){if(d){let c=[];"string"==typeof d?.filename&&c.push(d.filename),"object"==typeof d.sizes&&(c=c.concat(Object.values(d?.sizes||[]).map(a=>a?.filename)));let f=c.map(async c=>{c&&await a.handleDelete({collection:b,doc:d,filename:c,req:e})});await Promise.all(f)}let g=f.map(async d=>{await a.handleUpload({clientUploadContext:d.clientUploadContext,collection:b,data:c,file:d,req:e})});await Promise.all(g)}}catch(a){throw e.payload.logger.error(`There was an error while uploading files corresponding to the collection ${b.slug} with filename ${c.filename}:`),e.payload.logger.error({err:a}),a}return c},zD=a=>b=>{let{collections:c,enabled:d}=a,e={...b};if(!1===d)return e;let f=[];return{...e,collections:(e.collections||[]).map(a=>{let b=c[a.slug];if(b?.adapter){let c=b.adapter({collection:a,prefix:b.prefix});c.onInit&&f.push(c.onInit);let d=zz({adapter:c,collection:a,disablePayloadAccessControl:b.disablePayloadAccessControl,generateFileURL:b.generateFileURL,prefix:b.prefix}),e=[..."object"==typeof a.upload&&Array.isArray(a.upload.handlers)?a.upload.handlers:[]];b.disablePayloadAccessControl?c.clientUploads&&e.push((a,b)=>{if("clientUploadContext"in b.params)return c.staticHandler(a,b)}):e.push(c.staticHandler);let g=()=>{if(b.disablePayloadAccessControl)return!0;let c="object"==typeof a.upload&&!0===a.upload.skipSafeFetch,d="object"==typeof a.upload&&Array.isArray(a.upload.skipSafeFetch);if(c)return!0;if(d){let b="object"==typeof a.upload&&Array.isArray(a.upload.skipSafeFetch)?a.upload.skipSafeFetch:[];return b.some(a=>1===Object.keys(a).length&&"localhost"===a.hostname),[...b]}return!1};return{...a,fields:d,hooks:{...a.hooks||{},afterDelete:[...a.hooks?.afterDelete||[],zA({adapter:c,collection:a})],beforeChange:[...a.hooks?.beforeChange||[],zC({adapter:c,collection:a})]},upload:{..."object"==typeof a.upload?a.upload:{},adapter:c.name,disableLocalStorage:"boolean"!=typeof b.disableLocalStorage||b.disableLocalStorage,handlers:e,skipSafeFetch:g()}}}return a}),onInit:async a=>{f.forEach(a=>a()),e.onInit&&await e.onInit(a)}}},zE=({clientHandler:a,collections:b,config:c,enabled:d,extraClientHandlerProps:e,serverHandler:f,serverHandlerPath:g})=>{if(d){c.endpoints||(c.endpoints=[]);let a=0;for(let b of c.endpoints)b.path?.startsWith(g)&&a++;a&&(g=`${g}-${a}`),c.endpoints.push({handler:f,method:"post",path:g})}for(let f in c.admin||(c.admin={}),c.admin.dependencies||(c.admin.dependencies={}),c.admin.dependencies[a]={type:"function",path:a},c.admin.components||(c.admin.components={}),c.admin.components.providers||(c.admin.components.providers=[]),b){let h,i=b[f];i&&"object"==typeof i&&"prefix"in i&&"string"==typeof i.prefix&&(h=i.prefix),c.admin.components.providers.push({clientProps:{collectionSlug:f,enabled:d,extra:e?e(i):void 0,prefix:h,serverHandlerPath:g},path:a})}};var zF=c(14822);function zG(a){let{port:b,query:c}=a,{protocol:d,path:e,hostname:f}=a;d&&":"!==d.slice(-1)&&(d+=":"),b&&(f+=`:${b}`),e&&"/"!==e.charAt(0)&&(e=`/${e}`);let g=c?(0,zF.buildQueryString)(c):"";g&&"?"!==g[0]&&(g=`?${g}`);let h="";if(null!=a.username||null!=a.password){let b=a.username??"",c=a.password??"";h=`${b}:${c}@`}let i="";return a.fragment&&(i=`#${a.fragment}`),`${d}//${h}${f}${e}${g}${i}`}var zH=c(4389),zI=c(579),zJ=c(60688),zK=c(80440);let zL={CrtSignerV4:null};class zM{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return"function"==typeof zL.CrtSignerV4?"crt":"function"==typeof zK.d.SignatureV4a?"js":"none"}constructor(a){this.sigv4Signer=new zJ.r(a),this.signerOptions=a}async sign(a,b={}){return"*"===b.signingRegion?this.getSigv4aSigner().sign(a,b):this.sigv4Signer.sign(a,b)}async signWithCredentials(a,b,c={}){if("*"===c.signingRegion){let d=this.getSigv4aSigner(),e=zL.CrtSignerV4;if(e&&d instanceof e)return d.signWithCredentials(a,b,c);throw Error('signWithCredentials with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt')}return this.sigv4Signer.signWithCredentials(a,b,c)}async presign(a,b={}){if("*"===b.signingRegion){let c=this.getSigv4aSigner(),d=zL.CrtSignerV4;if(d&&c instanceof d)return c.presign(a,b);throw Error('presign with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt')}return this.sigv4Signer.presign(a,b)}async presignWithCredentials(a,b,c={}){if("*"===c.signingRegion)throw Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(a,b,c)}getSigv4aSigner(){if(!this.sigv4aSigner){let a=zL.CrtSignerV4,b=zK.d.SignatureV4a;if("node"===this.signerOptions.runtime){if(!a&&!b)throw Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(a&&"function"==typeof a)this.sigv4aSigner=new a({...this.signerOptions,signingAlgorithm:1});else if(b&&"function"==typeof b)this.sigv4aSigner=new b({...this.signerOptions});else throw Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!b||"function"!=typeof b)throw Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new b({...this.signerOptions})}}return this.sigv4aSigner}}let zN="UNSIGNED-PAYLOAD",zO="X-Amz-Content-Sha256";class zP{signer;constructor(a){let b={service:a.signingName||a.service||"s3",uriEscapePath:a.uriEscapePath||!1,applyChecksum:a.applyChecksum||!1,...a};this.signer=new zM(b)}presign(a,{unsignableHeaders:b=new Set,hoistableHeaders:c=new Set,unhoistableHeaders:d=new Set,...e}={}){return this.prepareRequest(a,{unsignableHeaders:b,unhoistableHeaders:d,hoistableHeaders:c}),this.signer.presign(a,{expiresIn:900,unsignableHeaders:b,unhoistableHeaders:d,...e})}presignWithCredentials(a,b,{unsignableHeaders:c=new Set,hoistableHeaders:d=new Set,unhoistableHeaders:e=new Set,...f}={}){return this.prepareRequest(a,{unsignableHeaders:c,unhoistableHeaders:e,hoistableHeaders:d}),this.signer.presignWithCredentials(a,b,{expiresIn:900,unsignableHeaders:c,unhoistableHeaders:e,...f})}prepareRequest(a,{unsignableHeaders:b=new Set,unhoistableHeaders:c=new Set,hoistableHeaders:d=new Set}={}){b.add("content-type"),Object.keys(a.headers).map(a=>a.toLowerCase()).filter(a=>a.startsWith("x-amz-server-side-encryption")).forEach(a=>{d.has(a)||c.add(a)}),a.headers[zO]=zN;let e=a.headers.host,f=a.port,g=`${a.hostname}${null!=a.port?":"+f:""}`;e&&(e!==a.hostname||null==a.port)||(a.headers.host=g)}}let zQ=async(a,b,c={})=>{let d,e;if("function"==typeof a.config.endpointProvider){let c=await (0,zH.r)(b.input,b.constructor,a.config),f=c.properties?.authSchemes?.[0];e=f?.name==="sigv4a"?f?.signingRegionSet?.join(","):f?.signingRegion,d=new zP({...a.config,signingName:f?.signingName,region:async()=>e})}else d=new zP(a.config);let f=(a,b)=>async a=>{let f,{request:g}=a;if(!zI.K.isInstance(g))throw Error("Request to be presigned is not an valid HTTP request.");delete g.headers["amz-sdk-invocation-id"],delete g.headers["amz-sdk-request"],delete g.headers["x-amz-user-agent"];let h={...c,signingRegion:c.signingRegion??b.signing_region??e,signingService:c.signingService??b.signing_service};return{response:{},output:{$metadata:{httpStatusCode:200},presigned:f=b.s3ExpressIdentity?await d.presignWithCredentials(g,b.s3ExpressIdentity,h):await d.presign(g,h)}}},g="presignInterceptMiddleware",h=a.middlewareStack.clone();h.addRelativeTo(f,{name:g,relation:"before",toMiddleware:"awsAuthMiddleware",override:!0});let i=b.resolveMiddleware(h,a.config,{}),{output:j}=await i({input:b.input}),{presigned:k}=j;return zG(k)};var zR=c(35593),zS=c(83518);let zT=({req:a})=>!!a.user,zU=({access:a=zT,acl:b,bucket:c,collections:d,getStorageClient:e})=>async f=>{if(!f.json)throw new zR.L("Content-Type expected to be application/json",400);let{collectionSlug:g,filename:h,mimeType:i}=await f.json(),j=d[g];if(!j)throw new zR.L(`Collection ${g} was not found in S3 options`);let k="object"==typeof j&&j.prefix||"";if(!await a({collectionSlug:g,req:f}))throw new zS.c;let l=zx.posix.join(k,h),m=await zQ(e(),new vA({ACL:b,Bucket:c,ContentType:i,Key:l}),{expiresIn:600});return Response.json({url:m})},zV=({bucket:a,config:{endpoint:b}})=>({filename:c,prefix:d=""})=>{let e="string"==typeof b?b:b?.toString();return`${e}/${a}/${zx.posix.join(d,c)}`},zW=({bucket:a,getStorageClient:b})=>async({doc:{prefix:c=""},filename:d})=>{await b().deleteObject({Bucket:a,Key:zx.posix.join(c,d)})};class AbortSignal{onabort=null;_aborted=!1;constructor(){Object.defineProperty(this,"_aborted",{value:!1,writable:!0})}get aborted(){return this._aborted}abort(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}}class zX{signal=new AbortSignal;abort(){this.signal.abort()}}var zY=c(38108),zZ=c(27613),z$=c(94735),z_=c(57047),z0=c(29021);let z1={...{lstatSync:()=>{},isFileReadStream:a=>!1},runtime:"node",lstatSync:z0.lstatSync,isFileReadStream:a=>a instanceof z0.ReadStream},z2=a=>{if(null==a)return 0;if("string"==typeof a)return z_.Buffer.byteLength(a);if("number"==typeof a.byteLength)return a.byteLength;if("number"==typeof a.length)return a.length;if("number"==typeof a.size)return a.size;if("number"==typeof a.start&&"number"==typeof a.end)return a.end+1-a.start;if(z1.isFileReadStream(a))try{return z1.lstatSync(a.path).size}catch(a){}};!function(a){a.EMPTY_INPUT="a null or undefined Body",a.CONTENT_LENGTH="the ContentLength property of the params set by the caller",a.STRING_LENGTH="the encoded byte length of the Body string",a.TYPED_ARRAY="the byteLength of a typed byte array such as Uint8Array",a.LENGTH="the value of Body.length",a.SIZE="the value of Body.size",a.START_END_DIFF="the numeric difference between Body.start and Body.end",a.LSTAT="the size of the file given by Body.path on disk as reported by lstatSync"}(k||(k={}));let z3=(a,b)=>{if(null!=b)return k.CONTENT_LENGTH;if(null==a)return k.EMPTY_INPUT;if("string"==typeof a)return k.STRING_LENGTH;if("number"==typeof a.byteLength)return k.TYPED_ARRAY;if("number"==typeof a.length)return k.LENGTH;if("number"==typeof a.size)return k.SIZE;if("number"==typeof a.start&&"number"==typeof a.end)return k.START_END_DIFF;if(z1.isFileReadStream(a))try{return z1.lstatSync(a.path).size,k.LSTAT}catch(a){}};var z4=c(27910);async function*z5(a,b,c){let d=1,e={chunks:[],length:0};for await(let f of c(a))for(e.chunks.push(f),e.length+=f.byteLength;e.length>b;){let a=e.chunks.length>1?z_.Buffer.concat(e.chunks):e.chunks[0];yield{partNumber:d,data:a.subarray(0,b)},e.chunks=[a.subarray(b)],e.length=e.chunks[0].byteLength,d+=1}yield{partNumber:d,data:1!==e.chunks.length?z_.Buffer.concat(e.chunks):e.chunks[0],lastPart:!0}}async function*z6(a,b){let c=1,d=0,e=b;for(;e<a.byteLength;)yield{partNumber:c,data:a.subarray(d,e)},c+=1,e=(d=e)+b;yield{partNumber:c,data:a.subarray(d),lastPart:!0}}async function*z7(a){for await(let b of a)z_.Buffer.isBuffer(b)||b instanceof Uint8Array?yield b:yield z_.Buffer.from(b)}async function*z8(a){let b=a.getReader();try{for(;;){let{done:a,value:c}=await b.read();if(a)return;z_.Buffer.isBuffer(c)||c instanceof Uint8Array?yield c:yield z_.Buffer.from(c)}}catch(a){throw a}finally{b.releaseLock()}}let z9=(a,b)=>{if(a instanceof Uint8Array)return z6(a,b);if(a instanceof z4.Readable)return z5(a,b,z7);if(a instanceof String||"string"==typeof a)return z6(z_.Buffer.from(a),b);if("function"==typeof a.stream)return z5(a.stream(),b,z8);if(a instanceof ReadableStream)return z5(a,b,z8);throw Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")};class Aa extends z$.EventEmitter{static MIN_PART_SIZE=5242880;MAX_PARTS=1e4;queueSize=4;partSize;leavePartsOnError=!1;tags=[];client;params;totalBytes;totalBytesSource;bytesUploadedSoFar;abortController;concurrentUploaders=[];createMultiPartPromise;abortMultipartUploadCommand=null;uploadedParts=[];uploadEnqueuedPartsCount=0;expectedPartsCount;uploadId;uploadEvent;isMultiPart=!0;singleUploadResult;sent=!1;constructor(a){if(super(),this.queueSize=a.queueSize||this.queueSize,this.leavePartsOnError=a.leavePartsOnError||this.leavePartsOnError,this.tags=a.tags||this.tags,this.client=a.client,this.params=a.params,!this.params)throw Error("InputError: Upload requires params to be passed to upload.");this.totalBytes=this.params.ContentLength??z2(this.params.Body),this.totalBytesSource=z3(this.params.Body,this.params.ContentLength),this.bytesUploadedSoFar=0,this.abortController=a.abortController??new zX,this.partSize=a.partSize||Math.max(Aa.MIN_PART_SIZE,Math.floor((this.totalBytes||0)/this.MAX_PARTS)),void 0!==this.totalBytes&&(this.expectedPartsCount=Math.ceil(this.totalBytes/this.partSize)),this.__validateInput()}async abort(){this.abortController.abort()}async done(){if(this.sent)throw Error("@aws-sdk/lib-storage: this instance of Upload has already executed .done(). Create a new instance.");return this.sent=!0,await Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)])}on(a,b){return this.uploadEvent=a,super.on(a,b)}async __uploadUsingPut(a){this.isMultiPart=!1;let b={...this.params,Body:a.data},c=this.client.config,d=c.requestHandler,e=d instanceof z$.EventEmitter?d:null,f=b=>{this.bytesUploadedSoFar=b.loaded,this.totalBytes=b.total,this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:a.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})};null!==e&&e.on("xhr.upload.progress",f);let g=await Promise.all([this.client.send(new vA(b)),c?.endpoint?.()]),h=g[0],i=g[1];if(i||(i=(0,zY.a)(await (0,zH.r)(b,vA,{...c}))),!i)throw Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');null!==e&&e.off("xhr.upload.progress",f);let j=this.params.Key.split("/").map(a=>(0,zZ.$)(a)).join("/"),k=(0,zZ.$)(this.params.Bucket),l=(()=>{let a=i.hostname.startsWith(`${k}.`),b=this.client.config.forcePathStyle,c=i.port?`:${i.port}`:"";return b?`${i.protocol}//${i.hostname}${c}/${k}/${j}`:a?`${i.protocol}//${i.hostname}${c}/${j}`:`${i.protocol}//${k}.${i.hostname}${c}/${j}`})();this.singleUploadResult={...h,Bucket:this.params.Bucket,Key:this.params.Key,Location:l};let m=z2(a.data);this.__notifyProgress({loaded:m,total:m,part:1,Key:this.params.Key,Bucket:this.params.Bucket})}async __createMultipartUpload(){let a=await this.client.config.requestChecksumCalculation();if(!this.createMultiPartPromise){let b={...this.params,Body:void 0};"WHEN_SUPPORTED"===a&&(b.ChecksumAlgorithm=this.params.ChecksumAlgorithm||z.CRC32),this.createMultiPartPromise=this.client.send(new ug(b)).then(a=>(this.abortMultipartUploadCommand=new t7({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:a.UploadId}),a))}return this.createMultiPartPromise}async __doConcurrentUpload(a){for await(let b of a){if(this.uploadEnqueuedPartsCount>this.MAX_PARTS)throw Error(`Exceeded ${this.MAX_PARTS} parts in multipart upload to Bucket: ${this.params.Bucket} Key: ${this.params.Key}.`);if(this.abortController.signal.aborted)return;if(1===b.partNumber&&b.lastPart)return await this.__uploadUsingPut(b);if(!this.uploadId){let{UploadId:a}=await this.__createMultipartUpload();if(this.uploadId=a,this.abortController.signal.aborted)return}let a=z2(b.data)||0,c=this.client.config.requestHandler,d=c instanceof z$.EventEmitter?c:null,e=0,f=(c,d)=>{(Number(d.query.partNumber)||-1)===b.partNumber&&(c.total&&a&&(this.bytesUploadedSoFar+=c.loaded-e,e=c.loaded),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:b.partNumber,Key:this.params.Key,Bucket:this.params.Bucket}))};null!==d&&d.on("xhr.upload.progress",f),this.uploadEnqueuedPartsCount+=1,this.__validateUploadPart(b);let g=await this.client.send(new vL({...this.params,ContentLength:void 0,UploadId:this.uploadId,Body:b.data,PartNumber:b.partNumber}));if(null!==d&&d.off("xhr.upload.progress",f),this.abortController.signal.aborted)return;if(!g.ETag)throw Error(`Part ${b.partNumber} is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?`);this.uploadedParts.push({PartNumber:b.partNumber,ETag:g.ETag,...g.ChecksumCRC32&&{ChecksumCRC32:g.ChecksumCRC32},...g.ChecksumCRC32C&&{ChecksumCRC32C:g.ChecksumCRC32C},...g.ChecksumSHA1&&{ChecksumSHA1:g.ChecksumSHA1},...g.ChecksumSHA256&&{ChecksumSHA256:g.ChecksumSHA256}}),null===d&&(this.bytesUploadedSoFar+=a),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:b.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})}}async __doMultipartUpload(){let a,b=z9(this.params.Body,this.partSize),c=[];for(let a=0;a<this.queueSize;a++){let a=this.__doConcurrentUpload(b).catch(a=>{c.push(a)});this.concurrentUploaders.push(a)}if(await Promise.all(this.concurrentUploaders),c.length>=1)throw await this.markUploadAsAborted(),c[0];if(this.abortController.signal.aborted)throw await this.markUploadAsAborted(),Object.assign(Error("Upload aborted."),{name:"AbortError"});if(this.isMultiPart){let{expectedPartsCount:b,uploadedParts:c,totalBytes:d,totalBytesSource:e}=this;if(void 0!==d&&void 0!==b&&c.length!==b)throw Error(`Expected ${b} part(s) but uploaded ${c.length} part(s).
The expected part count is based on the byte-count of the input.params.Body,
which was read from ${e} and is ${d}.
If this is not correct, provide an override value by setting a number
to input.params.ContentLength in bytes.
`);this.uploadedParts.sort((a,b)=>a.PartNumber-b.PartNumber);let f={...this.params,Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}};a=await this.client.send(new t9(f)),"string"==typeof a?.Location&&a.Location.includes("%2F")&&(a.Location=a.Location.replace(/%2F/g,"/"))}else a=this.singleUploadResult;return this.abortMultipartUploadCommand=null,this.tags.length&&await this.client.send(new vE({...this.params,Tagging:{TagSet:this.tags}})),a}async markUploadAsAborted(){this.uploadId&&!this.leavePartsOnError&&null!==this.abortMultipartUploadCommand&&(await this.client.send(this.abortMultipartUploadCommand),this.abortMultipartUploadCommand=null)}__notifyProgress(a){this.uploadEvent&&this.emit(this.uploadEvent,a)}async __abortTimeout(a){return new Promise((b,c)=>{a.onabort=()=>{let a=Error("Upload aborted.");a.name="AbortError",c(a)}})}__validateUploadPart(a){let b=z2(a.data);if(void 0===b)throw Error(`A dataPart was generated without a measurable data chunk size for part number ${a.partNumber}`);if((1!==a.partNumber||!a.lastPart)&&!a.lastPart&&b!==this.partSize)throw Error(`The byte size for part number ${a.partNumber}, size ${b} does not match expected size ${this.partSize}`)}__validateInput(){if(!this.client)throw Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<Aa.MIN_PART_SIZE)throw Error(`EntityTooSmall: Your proposed upload part size [${this.partSize}] is smaller than the minimum allowed size [${Aa.MIN_PART_SIZE}] (5MB)`);if(this.queueSize<1)throw Error("Queue size: Must have at least one uploading queue.")}}let Ab=0x3200000,Ac=({acl:a,bucket:b,getStorageClient:c,prefix:d=""})=>async({data:e,file:f})=>{let g=zx.posix.join(e.prefix||d,f.filename),h=f.tempFilePath?z0.createReadStream(f.tempFilePath):f.buffer;if(f.buffer.length>0&&f.buffer.length<Ab)return await c().putObject({ACL:a,Body:h,Bucket:b,ContentType:f.mimeType,Key:g}),e;let i=new Aa({client:c(),params:{ACL:a,Body:h,Bucket:b,ContentType:f.mimeType,Key:g},partSize:Ab,queueSize:4});return await i.done(),e};async function Ad({clientUploadContext:a,collection:b,filename:c,req:d}){if(a&&"object"==typeof a&&"prefix"in a&&"string"==typeof a.prefix)return a.prefix;let e=b?.upload?.imageSizes||[],f=await d.payload.find({collection:b.slug,depth:0,draft:!0,limit:1,pagination:!1,where:{or:[{filename:{equals:c}},...e.map(a=>({[`sizes.${a.name}.filename`]:{equals:c}}))]}});return f?.docs?.[0]?.prefix||""}let Ae=a=>"object"==typeof a&&null!==a&&"pipe"in a&&"function"==typeof a.pipe&&"destroy"in a&&"function"==typeof a.destroy,Af=({abortController:a,object:b})=>{try{a.abort()}catch{}b?.Body&&Ae(b.Body)&&b.Body.destroy()},Ag=({bucket:a,collection:b,getStorageClient:c,signedDownloads:d})=>async(e,{headers:f,params:{clientUploadContext:g,filename:h}})=>{let i,j=!1,k=new AbortController;e.signal&&e.signal.addEventListener("abort",()=>{Af({abortController:k,object:i})});try{let l=await Ad({clientUploadContext:g,collection:b,filename:h,req:e}),m=zx.posix.join(l,h);if(d&&!g){let f=!0;if("object"==typeof d&&"function"==typeof d.shouldUseSignedURL&&(f=await d.shouldUseSignedURL({collection:b,filename:h,req:e})),f){let b=new uZ({Bucket:a,Key:m}),e=await zQ(c(),b,"object"==typeof d?d:{expiresIn:7200});return Response.redirect(e,302)}}if(!(i=await c().getObject({Bucket:a,Key:m},{abortSignal:k.signal})).Body)return new Response(null,{status:404,statusText:"Not Found"});let o=new Headers(f),p=String(i.ContentLength);p&&!isNaN(Number(p))&&o.append("Content-Length",p),o.append("Content-Type",String(i.ContentType)),o.append("Accept-Ranges",String(i.AcceptRanges)),o.append("ETag",String(i.ETag));let q=e.headers.get("etag")||e.headers.get("if-none-match"),r=i.ETag;if(b.upload&&"object"==typeof b.upload&&"function"==typeof b.upload.modifyResponseHeaders&&(o=b.upload.modifyResponseHeaders({headers:o})||o),q&&q===r)return new Response(null,{headers:o,status:304});if(!Ae(i.Body))return e.payload.logger.error({key:m,msg:"S3 object body is not a readable stream"}),new Response("Internal Server Error",{status:500});let s=i.Body;return s.on("error",a=>{e.payload.logger.error({err:a,key:m,msg:"Error while streaming S3 object (aborting)"}),Af({abortController:k,object:i})}),j=!0,new Response(s,{headers:o,status:200})}catch(a){if(a instanceof F)return new Response(null,{status:404,statusText:"Not Found"});return e.payload.logger.error(a),new Response("Internal Server Error",{status:500})}finally{j||Af({abortController:k,object:i})}},Ah=null,Ai={httpAgent:{keepAlive:!0,maxSockets:100},httpsAgent:{keepAlive:!0,maxSockets:100}},Aj=a=>b=>{let c=()=>Ah||(Ah=new zw({requestHandler:Ai,...a.config??{}})),d=!1===a.enabled;if(zE({clientHandler:"@payloadcms/storage-s3/client#S3ClientUploadHandler",collections:a.collections,config:b,enabled:!d&&!!a.clientUploads,serverHandler:zU({access:"object"==typeof a.clientUploads?a.clientUploads.access:void 0,acl:a.acl,bucket:a.bucket,collections:a.collections,getStorageClient:c}),serverHandlerPath:"/storage-s3-generate-signed-url"}),d)return b;let e=Ak(c,a),f=Object.entries(a.collections).reduce((a,[b,c])=>({...a,[b]:{...!0===c?{}:c,adapter:e}}),{}),g={...b,collections:(b.collections||[]).map(a=>f[a.slug]?{...a,upload:{..."object"==typeof a.upload?a.upload:{},disableLocalStorage:!0}}:a)};return zD({collections:f})(g)};function Ak(a,{acl:b,bucket:c,clientUploads:d,collections:e,config:f={},signedDownloads:g}){return({collection:h,prefix:i})=>{let j=e[h.slug],k="object"==typeof j?j.signedDownloads??!1:null;return null===k&&(k=g??null),{name:"s3",clientUploads:d,generateURL:zV({bucket:c,config:f}),handleDelete:zW({bucket:c,getStorageClient:a}),handleUpload:Ac({acl:b,bucket:c,collection:h,getStorageClient:a,prefix:i}),staticHandler:Ag({bucket:c,collection:h,getStorageClient:a,signedDownloads:k??!1})}}}},11121:(a,b,c)=>{"use strict";c.d(b,{b:()=>f,p:()=>g});var d=c(56753);let e=4,f=a=>(b,c,f)=>{let g=b.getPreviousSibling(),h=b.getNextSibling(),i=(0,d.i)("check"===a?"x"===f[3]:void 0);if((0,d.HY)(h)&&h.getListType()===a){let a=h.getFirstChild();null!==a?a.insertBefore(i):h.append(i),b.remove()}else if((0,d.HY)(g)&&g.getListType()===a)g.append(i),b.remove();else{let c=(0,d.DE)(a,"number"===a?Number(f[2]):void 0);c.append(i),b.replace(c)}i.append(...c),i.select(0,0);let j=Math.floor(f[1].length/e);j&&i.setIndent(j)},g=(a,b,c)=>{let f=[],h=a.getChildren(),i=0;for(let j of h)if((0,d.Mz)(j)){if(1===j.getChildrenSize()){let a=j.getFirstChild();if((0,d.HY)(a)){f.push(g(a,b,c+1));continue}}let h=" ".repeat(c*e),k=a.getListType(),l="number"===k?`${a.getStart()+i}. `:"check"===k?`- [${j.getChecked()?"x":" "}] `:"- ";f.push(h+l+b(j)),i++}return f.join("\n")}},11372:(a,b,c)=>{"use strict";c.d(b,{t:()=>d});let d=a=>{if("function"==typeof a)return a;let b=Promise.resolve(a);return()=>b}},11389:(a,b,c)=>{"use strict";c.d(b,{g:()=>d});let d={id:"00000000-0000-0000-0000-000000000000",_meta:{columns:{},tables:{}},dialect:"sqlite",enums:{},prevId:"00000000-0000-0000-0000-00000000000",tables:{},version:"6",views:{}}},11471:(a,b,c)=>{"use strict";c.d(b,{i:()=>d});let d=[{label:"United States",value:"US"},{label:"United Kingdom",value:"GB"},{label:"Canada",value:"CA"},{label:"Australia",value:"AU"},{label:"Austria",value:"AT"},{label:"Belgium",value:"BE"},{label:"Brazil",value:"BR"},{label:"Bulgaria",value:"BG"},{label:"Cyprus",value:"CY"},{label:"Czech Republic",value:"CZ"},{label:"Denmark",value:"DK"},{label:"Estonia",value:"EE"},{label:"Finland",value:"FI"},{label:"France",value:"FR"},{label:"Germany",value:"DE"},{label:"Greece",value:"GR"},{label:"Hong Kong",value:"HK"},{label:"Hungary",value:"HU"},{label:"India",value:"IN"},{label:"Ireland",value:"IE"},{label:"Italy",value:"IT"},{label:"Japan",value:"JP"},{label:"Latvia",value:"LV"},{label:"Lithuania",value:"LT"},{label:"Luxembourg",value:"LU"},{label:"Malaysia",value:"MY"},{label:"Malta",value:"MT"},{label:"Mexico",value:"MX"},{label:"Netherlands",value:"NL"},{label:"New Zealand",value:"NZ"},{label:"Norway",value:"NO"},{label:"Poland",value:"PL"},{label:"Portugal",value:"PT"},{label:"Romania",value:"RO"},{label:"Singapore",value:"SG"},{label:"Slovakia",value:"SK"},{label:"Slovenia",value:"SI"},{label:"Spain",value:"ES"},{label:"Sweden",value:"SE"},{label:"Switzerland",value:"CH"}]},11624:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.reportTypeError=b.checkDataTypes=b.checkDataType=b.coerceAndCheckDataType=b.getJSONTypes=b.getSchemaTypes=b.DataType=void 0;let e=c(69308),f=c(63019),g=c(58052),h=c(86397),i=c(49943);function j(a){let b=Array.isArray(a)?a:a?[a]:[];if(b.every(e.isJSONType))return b;throw Error("type must be JSONType or JSONType[]: "+b.join(","))}!function(a){a[a.Correct=0]="Correct",a[a.Wrong=1]="Wrong"}(d||(b.DataType=d={})),b.getSchemaTypes=function(a){let b=j(a.type);if(b.includes("null")){if(!1===a.nullable)throw Error("type: null contradicts nullable: false")}else{if(!b.length&&void 0!==a.nullable)throw Error('"nullable" cannot be used without "type"');!0===a.nullable&&b.push("null")}return b},b.getJSONTypes=j,b.coerceAndCheckDataType=function(a,b){let{gen:c,data:e,opts:g}=a,h=l(b,g.coerceTypes),i=b.length>0&&!(0===h.length&&1===b.length&&(0,f.schemaHasRulesForType)(a,b[0]));if(i){let f=q(b,e,g.strictNumbers,d.Wrong);c.if(f,()=>{h.length?m(a,b,h):s(a)})}return i};let k=new Set(["string","number","integer","boolean","null"]);function l(a,b){return b?a.filter(a=>k.has(a)||"array"===b&&"array"===a):[]}function m(a,b,c){let{gen:d,data:e,opts:f}=a,g=d.let("dataType",(0,h._)`typeof ${e}`),i=d.let("coerced",(0,h._)`undefined`);for(let a of("array"===f.coerceTypes&&d.if((0,h._)`${g} == 'object' && Array.isArray(${e}) && ${e}.length == 1`,()=>d.assign(e,(0,h._)`${e}[0]`).assign(g,(0,h._)`typeof ${e}`).if(q(b,e,f.strictNumbers),()=>d.assign(i,e))),d.if((0,h._)`${i} !== undefined`),c))(k.has(a)||"array"===a&&"array"===f.coerceTypes)&&j(a);function j(a){switch(a){case"string":d.elseIf((0,h._)`${g} == "number" || ${g} == "boolean"`).assign(i,(0,h._)`"" + ${e}`).elseIf((0,h._)`${e} === null`).assign(i,(0,h._)`""`);return;case"number":d.elseIf((0,h._)`${g} == "boolean" || ${e} === null
              || (${g} == "string" && ${e} && ${e} == +${e})`).assign(i,(0,h._)`+${e}`);return;case"integer":d.elseIf((0,h._)`${g} === "boolean" || ${e} === null
              || (${g} === "string" && ${e} && ${e} == +${e} && !(${e} % 1))`).assign(i,(0,h._)`+${e}`);return;case"boolean":d.elseIf((0,h._)`${e} === "false" || ${e} === 0 || ${e} === null`).assign(i,!1).elseIf((0,h._)`${e} === "true" || ${e} === 1`).assign(i,!0);return;case"null":d.elseIf((0,h._)`${e} === "" || ${e} === 0 || ${e} === false`),d.assign(i,null);return;case"array":d.elseIf((0,h._)`${g} === "string" || ${g} === "number"
              || ${g} === "boolean" || ${e} === null`).assign(i,(0,h._)`[${e}]`)}}d.else(),s(a),d.endIf(),d.if((0,h._)`${i} !== undefined`,()=>{d.assign(e,i),o(a,i)})}function o({gen:a,parentData:b,parentDataProperty:c},d){a.if((0,h._)`${b} !== undefined`,()=>a.assign((0,h._)`${b}[${c}]`,d))}function p(a,b,c,e=d.Correct){let f,g=e===d.Correct?h.operators.EQ:h.operators.NEQ;switch(a){case"null":return(0,h._)`${b} ${g} null`;case"array":f=(0,h._)`Array.isArray(${b})`;break;case"object":f=(0,h._)`${b} && typeof ${b} == "object" && !Array.isArray(${b})`;break;case"integer":f=i((0,h._)`!(${b} % 1) && !isNaN(${b})`);break;case"number":f=i();break;default:return(0,h._)`typeof ${b} ${g} ${a}`}return e===d.Correct?f:(0,h.not)(f);function i(a=h.nil){return(0,h.and)((0,h._)`typeof ${b} == "number"`,a,c?(0,h._)`isFinite(${b})`:h.nil)}}function q(a,b,c,d){let e;if(1===a.length)return p(a[0],b,c,d);let f=(0,i.toHash)(a);if(f.array&&f.object){let a=(0,h._)`typeof ${b} != "object"`;e=f.null?a:(0,h._)`!${b} || ${a}`,delete f.null,delete f.array,delete f.object}else e=h.nil;for(let a in f.number&&delete f.integer,f)e=(0,h.and)(e,p(a,b,c,d));return e}b.checkDataType=p,b.checkDataTypes=q;let r={message:({schema:a})=>`must be ${a}`,params:({schema:a,schemaValue:b})=>"string"==typeof a?(0,h._)`{type: ${a}}`:(0,h._)`{type: ${b}}`};function s(a){let b=t(a);(0,g.reportError)(b,r)}function t(a){let{gen:b,data:c,schema:d}=a,e=(0,i.schemaRefOrVal)(a,d,"type");return{gen:b,keyword:"type",data:c,schema:d.type,schemaCode:e,schemaValue:e,parentSchema:d,params:{},it:a}}b.reportTypeError=s},11830:(a,b,c)=>{"use strict";c.d(b,{L:()=>d});let d=a=>"function"==typeof a?a():a},11939:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isBlob=b.isReadableStream=void 0,b.isReadableStream=a=>"function"==typeof ReadableStream&&(a?.constructor?.name===ReadableStream.name||a instanceof ReadableStream),b.isBlob=a=>"function"==typeof Blob&&(a?.constructor?.name===Blob.name||a instanceof Blob)},12062:(a,b,c)=>{"use strict";c.d(b,{l:()=>r});var d=c(5279),e=c(54510),f=c(51114),g=c(20551),h=c(2431),i=c(91164),j=c(18650),k=c(70366),l=c(30073),m=c(83911),o=c(61281),p=c(60500),q=c(49586);let r=async({id:a,accessResults:b,autosave:c,collectionConfig:r,config:s,data:t,depth:u,docWithLocales:v,draftArg:w,fallbackLocale:x,filesToUpload:y,locale:z,overrideAccess:A,overrideLock:B,payload:C,populate:D,publishSpecificLocale:E,req:F,select:G,showHiddenFields:H})=>{let I,J=t?.password,K=!!(w&&r.versions.drafts)&&"published"!==t._status,L=!!(J&&r.auth&&(!r.auth.disableLocalStrategy||"object"==typeof r.auth.disableLocalStrategy&&r.auth.disableLocalStrategy.enableFields)&&!K);await (0,o.B)({id:a,collectionSlug:r.slug,lockErrorMessage:`Document with ID ${a} is currently locked by another user and cannot be updated.`,overrideLock:B,req:F});let M=await (0,h.v)({collection:r,context:F.context,depth:0,doc:(0,k.Zt)(v),draft:w,fallbackLocale:a?null:x,global:null,locale:z,overrideAccess:!0,req:F,showHiddenFields:!0});if(r.auth&&(0,d.q)({authOptions:r.auth,collectionSlug:r.slug,data:t,operation:"update",originalDoc:M,req:F}),await (0,l.F)({collectionConfig:r,config:s,doc:v,files:y,overrideDelete:!1,req:F}),t=await (0,j.M)({id:a,collection:r,context:F.context,data:t,doc:M,global:null,operation:"update",overrideAccess:A,req:F}),r.hooks?.beforeValidate?.length)for(let a of r.hooks.beforeValidate)t=await a({collection:r,context:F.context,data:t,operation:"update",originalDoc:M,req:F})||t;if(r.upload.disableLocalStorage||await (0,m.Z)(C,y,F),r.hooks?.beforeChange?.length)for(let a of r.hooks.beforeChange)t=await a({collection:r,context:F.context,data:t,operation:"update",originalDoc:M,req:F})||t;let N=v,O={id:a,collection:r,context:F.context,data:{...t,id:a},doc:M,docWithLocales:void 0,global:null,operation:"update",overrideAccess:A,req:F,skipValidation:K&&r.versions.drafts&&!r.versions.drafts.validate||r.trash&&(!!t?.deletedAt||!!M?.deletedAt&&t?._status!=="published")};E&&(I=await (0,i.o)({...O,docWithLocales:v}),N=await (0,p.a)({id:a,config:r,payload:C,published:!0,query:{collection:r.slug,locale:z,req:F,where:(0,f.m)({id:{equals:a}},b)},req:F})||{});let P=await (0,i.o)({...O,docWithLocales:N}),Q={...P};if(L&&"string"==typeof J){let{hash:a,salt:b}=await (0,e.$)({collection:r,password:J,req:F});Q.salt=b,Q.hash=a,delete Q.password,delete t.password}if(K||(Q.updatedAt=new Date().toISOString(),P=await F.payload.db.updateOne({id:a,collection:r.slug,data:Q,locale:z,req:F})),r.versions&&(P=await (0,q.U)({id:a,autosave:c,collection:r,docWithLocales:P,draft:K,operation:"update",payload:C,publishSpecificLocale:E,req:F,snapshot:I})),P=await (0,h.v)({collection:r,context:F.context,depth:u,doc:P,draft:w,fallbackLocale:x,global:null,locale:z,overrideAccess:A,populate:D,req:F,select:G,showHiddenFields:H}),r.hooks?.afterRead?.length)for(let a of r.hooks.afterRead)P=await a({collection:r,context:F.context,doc:P,req:F})||P;if(P=await (0,g.t)({collection:r,context:F.context,data:t,doc:P,global:null,operation:"update",previousDoc:M,req:F}),r.hooks?.afterChange?.length)for(let a of r.hooks.afterChange)P=await a({collection:r,context:F.context,data:t,doc:P,operation:"update",previousDoc:M,req:F})||P;return P}},12164:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DEFAULT_COLOR_MAP=void 0,b.DEFAULT_COLOR_MAP={red:"\x1b[31m",green:"\x1b[32m",yellow:"\x1b[33m",blue:"\x1b[34m",magenta:"\x1b[35m",cyan:"\x1b[36m",white:"\x1b[37m",white_bold:"\x1b[01m",reset:"\x1b[0m"};class c{constructor(a=b.DEFAULT_COLOR_MAP){this.text="",this.colorMap=a}addCharsWithColor(a,b){let c=this.colorMap[a];this.text+=void 0!==c?`${c}${b}${this.colorMap.reset}`:b}renderConsole(){return this.text}}b.default=c},12197:a=>{"use strict";a.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},12266:a=>{"use strict";class b{constructor({token:a,date:b,parts:c,locales:d}){this.token=a,this.date=b||new Date,this.parts=c||[this],this.locales=d||{}}up(){}down(){}next(){let a=this.parts.indexOf(this);return this.parts.find((c,d)=>d>a&&c instanceof b)}setTo(a){}prev(){let a=[].concat(this.parts).reverse(),c=a.indexOf(this);return a.find((a,d)=>d>c&&a instanceof b)}toString(){return String(this.date)}}a.exports=b},12338:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>importHandlerPath,s:()=>getTaskHandlerFromConfig});var url__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(79551);async function importHandlerPath(path){let runner,runnerModule,[runnerPath,runnerImportName]=path.split("#");try{runnerModule="function"==typeof require?await eval(`require('${runnerPath.replaceAll("\\","/")}')`):await eval(`import('${(0,url__WEBPACK_IMPORTED_MODULE_0__.pathToFileURL)(runnerPath).href}')`)}catch(e){throw Error(`Error importing job queue handler module for path ${path}. This is an advanced feature that may require a sophisticated build pipeline, especially when using it in production or within Next.js, e.g. by calling opening the /api/payload-jobs/run endpoint. You will have to transpile the handler files separately and ensure they are available in the same location when the job is run. If you're using an endpoint to execute your jobs, it's recommended to define your handlers as functions directly in your Payload Config, or use import paths handlers outside of Next.js. Import Error: 
${e instanceof Error?e.message:"Unknown error"}`)}return runnerImportName&&runnerModule[runnerImportName]&&(runner=runnerModule[runnerImportName]),!runner&&runnerModule.default&&(runner=runnerModule.default),runner||(runner=runnerModule),runner}async function getTaskHandlerFromConfig(a){if(!a)throw Error("Task config is required to get the task handler");return"function"==typeof a.handler?a.handler:await importHandlerPath(a.handler)}},12436:(a,b,c)=>{"use strict";c.d(b,{f:()=>d});class d{serdeContext;setSerdeContext(a){this.serdeContext=a}}},12448:(a,b,c)=>{"use strict";c.d(b,{L:()=>s});var d=c(25083),e=c(20551),f=c(2431),g=c(91164),h=c(18650),i=c(70366),j=c(61281),k=c(57819),l=c(215),m=c(33334),o=c(53216),p=c(32609);let q=async({slug:a,config:b,locale:c,payload:d,published:e,req:f,where:g})=>{let h,i=e?{"version._status":{equals:"published"}}:{latest:{equals:!0}};b.versions?.drafts&&(h=(await d.db.findGlobalVersions({global:a,limit:1,locale:c,pagination:!1,req:f,where:i})).docs[0]);let j=await d.db.findGlobal({slug:a,locale:c,req:f,where:g}),k=!!j;return h?(h.version.createdAt||(h.version.createdAt=h.createdAt),h.version.updatedAt||(h.version.updatedAt=h.updatedAt),{global:h.version,globalExists:k}):{global:j,globalExists:k}};var r=c(49586);let s=async a=>{a.publishSpecificLocale&&(a.req.locale=a.publishSpecificLocale);let{slug:b,autosave:c,depth:s,disableTransaction:t,draft:u,globalConfig:v,overrideAccess:w,overrideLock:x,populate:y,publishSpecificLocale:z,req:{fallbackLocale:A,locale:B,payload:C},req:D,select:E,showHiddenFields:F}=a;try{let o,G=!t&&await (0,m.n)(D);if(v.hooks?.beforeOperation?.length)for(let b of v.hooks.beforeOperation)a=await b({args:a,context:a.req.context,global:v,operation:"update",req:a.req})||a;let{data:H}=a,I=!!(u&&v.versions?.drafts),J=!!w||await (0,d.m)({data:H,req:D},v.access.update),K=w?void 0:J,L=await q({slug:b,config:v,locale:B,payload:C,req:D,where:K}),{global:M,globalExists:N}=L||{},O={};L&&L.global&&(O=(0,i.Zt)(M))._id&&delete O._id;let P=await (0,f.v)({collection:null,context:D.context,depth:0,doc:(0,i.Zt)(O),draft:u,fallbackLocale:A,global:v,locale:B,overrideAccess:!0,req:D,showHiddenFields:F});if(await (0,j.B)({globalSlug:b,lockErrorMessage:`Global with slug "${b}" is currently locked by another user and cannot be updated.`,overrideLock:x,req:D}),H=await (0,h.M)({collection:null,context:D.context,data:H,doc:P,global:v,operation:"update",overrideAccess:w,req:D}),v.hooks?.beforeValidate?.length)for(let a of v.hooks.beforeValidate)H=await a({context:D.context,data:H,global:v,originalDoc:P,req:D})||H;if(v.hooks?.beforeChange?.length)for(let a of v.hooks.beforeChange)H=await a({context:D.context,data:H,global:v,originalDoc:P,req:D})||H;let Q=O,R={collection:null,context:D.context,data:H,doc:P,docWithLocales:void 0,global:v,operation:"update",req:D,skipValidation:I&&v.versions.drafts&&!v.versions.drafts.validate};if(z){let a=await q({slug:b,config:v,payload:C,published:!0,req:D,where:K});Q=a?.global||{},o=await (0,g.o)({...R,docWithLocales:O})}let S=await (0,g.o)({...R,docWithLocales:Q}),T=(0,p.Y)({fields:v.flattenedFields,forceSelect:v.forceSelect,select:E});if(I||(S.createdAt||(S.createdAt=new Date().toISOString()),S.updatedAt=new Date().toISOString(),S=N?await C.db.updateGlobal({slug:b,data:S,req:D,select:T}):await C.db.createGlobal({slug:b,data:S,req:D})),v.versions){let{globalType:a}=S;S={...S=await (0,r.U)({autosave:c,docWithLocales:S,draft:I,global:v,operation:"update",payload:C,publishSpecificLocale:z,req:D,select:T,snapshot:o}),globalType:a}}if(T&&S.globalType){let a=(0,l.a)(T);("include"!==a||T.globalType)&&("exclude"!==a||!1!==T.globalType)||delete S.globalType}if(S=await (0,f.v)({collection:null,context:D.context,depth:s,doc:S,draft:u,fallbackLocale:null,global:v,locale:B,overrideAccess:w,populate:y,req:D,select:T,showHiddenFields:F}),v.hooks?.afterRead?.length)for(let a of v.hooks.afterRead)S=await a({context:D.context,doc:S,global:v,req:D})||S;if(S=await (0,e.t)({collection:null,context:D.context,data:H,doc:S,global:v,operation:"update",previousDoc:P,req:D}),v.hooks?.afterChange?.length)for(let a of v.hooks.afterChange)S=await a({context:D.context,data:H,doc:S,global:v,previousDoc:P,req:D})||S;return G&&await (0,k.w)(D),S}catch(a){throw await (0,o.J)(D),a}}},12566:a=>{"use strict";a.exports=(a,b,c)=>{c=c||b;let d=Math.min(b-c,a-Math.floor(c/2));d<0&&(d=0);let e=Math.min(d+c,b);return{startIndex:d,endIndex:e}}},12690:a=>{"use strict";a.exports={version:"9.5.0"}},12820:(a,b,c)=>{"use strict";c.d(b,{en:()=>d});let d={dateFNSKey:"en-US",translations:{authentication:{account:"Account",accountOfCurrentUser:"Account of current user",accountVerified:"Account verified successfully.",alreadyActivated:"Already Activated",alreadyLoggedIn:"Already logged in",apiKey:"API Key",authenticated:"Authenticated",backToLogin:"Back to login",beginCreateFirstUser:"To begin, create your first user.",changePassword:"Change Password",checkYourEmailForPasswordReset:"If the email address is associated with an account, you will receive instructions to reset your password shortly. Please check your spam or junk mail folder if you don't see the email in your inbox.",confirmGeneration:"Confirm Generation",confirmPassword:"Confirm Password",createFirstUser:"Create first user",emailNotValid:"The email provided is not valid",emailOrUsername:"Email or Username",emailSent:"Email Sent",emailVerified:"Email verified successfully.",enableAPIKey:"Enable API Key",failedToUnlock:"Failed to unlock",forceUnlock:"Force Unlock",forgotPassword:"Forgot Password",forgotPasswordEmailInstructions:"Please enter your email below. You will receive an email message with instructions on how to reset your password.",forgotPasswordUsernameInstructions:"Please enter your username below. Instructions on how to reset your password will be sent to email address associated with your username.",usernameNotValid:"The username provided is not valid",forgotPasswordQuestion:"Forgot password?",generate:"Generate",generateNewAPIKey:"Generate new API key",generatingNewAPIKeyWillInvalidate:"Generating a new API key will <1>invalidate</1> the previous key. Are you sure you wish to continue?",lockUntil:"Lock Until",logBackIn:"Log back in",loggedIn:"To log in with another user, you should <0>log out</0> first.",loggedInChangePassword:"To change your password, go to your <0>account</0> and edit your password there.",loggedOutInactivity:"You have been logged out due to inactivity.",loggedOutSuccessfully:"You have been logged out successfully.",loggingOut:"Logging out...",login:"Login",loginAttempts:"Login Attempts",loginUser:"Login user",loginWithAnotherUser:"To log in with another user, you should <0>log out</0> first.",logOut:"Log out",logout:"Logout",logoutSuccessful:"Logout successful.",logoutUser:"Logout user",newAccountCreated:'A new account has just been created for you to access <a href="{{serverURL}}">{{serverURL}}</a> Please click on the following link or paste the URL below into your browser to verify your email: <a href="{{verificationURL}}">{{verificationURL}}</a><br> After verifying your email, you will be able to log in successfully.',newAPIKeyGenerated:"New API Key Generated.",newPassword:"New Password",passed:"Authentication Passed",passwordResetSuccessfully:"Password reset successfully.",resetPassword:"Reset Password",resetPasswordExpiration:"Reset Password Expiration",resetPasswordToken:"Reset Password Token",resetYourPassword:"Reset Your Password",stayLoggedIn:"Stay logged in",successfullyRegisteredFirstUser:"Successfully registered first user.",successfullyUnlocked:"Successfully unlocked",tokenRefreshSuccessful:"Token refresh successful.",unableToVerify:"Unable to Verify",username:"Username",verified:"Verified",verifiedSuccessfully:"Verified Successfully",verify:"Verify",verifyUser:"Verify User",verifyYourEmail:"Verify your email",youAreInactive:"You haven't been active in a little while and will shortly be automatically logged out for your own security. Would you like to stay logged in?",youAreReceivingResetPassword:"You are receiving this because you (or someone else) have requested the reset of the password for your account. Please click on the following link, or paste this into your browser to complete the process:",youDidNotRequestPassword:"If you did not request this, please ignore this email and your password will remain unchanged."},error:{accountAlreadyActivated:"This account has already been activated.",autosaving:"There was a problem while autosaving this document.",correctInvalidFields:"Please correct invalid fields.",deletingFile:"There was an error deleting file.",deletingTitle:"There was an error while deleting {{title}}. Please check your connection and try again.",documentNotFound:"The document with ID {{id}} could not be found. It may have been deleted or never existed, or you may not have access to it.",emailOrPasswordIncorrect:"The email or password provided is incorrect.",followingFieldsInvalid_one:"The following field is invalid:",followingFieldsInvalid_other:"The following fields are invalid:",incorrectCollection:"Incorrect Collection",insufficientClipboardPermissions:"Clipboard access denied. Please check your clipboard permissions.",invalidClipboardData:"Invalid clipboard data.",invalidFileType:"Invalid file type",invalidFileTypeValue:"Invalid file type: {{value}}",invalidRequestArgs:"Invalid arguments passed in request: {{args}}",loadingDocument:"There was a problem loading the document with ID of {{id}}.",localesNotSaved_one:"The following locale could not be saved:",localesNotSaved_other:"The following locales could not be saved:",logoutFailed:"Logout failed.",missingEmail:"Missing email.",missingIDOfDocument:"Missing ID of document to update.",missingIDOfVersion:"Missing ID of version.",missingRequiredData:"Missing required data.",noFilesUploaded:"No files were uploaded.",noMatchedField:'No matched field found for "{{label}}"',notAllowedToAccessPage:"You are not allowed to access this page.",notAllowedToPerformAction:"You are not allowed to perform this action.",notFound:"The requested resource was not found.",noUser:"No User",previewing:"There was a problem previewing this document.",problemUploadingFile:"There was a problem while uploading the file.",restoringTitle:"There was an error while restoring {{title}}. Please check your connection and try again.",tokenInvalidOrExpired:"Token is either invalid or has expired.",tokenNotProvided:"Token not provided.",unableToCopy:"Unable to copy.",unableToDeleteCount:"Unable to delete {{count}} out of {{total}} {{label}}.",unableToReindexCollection:"Error reindexing collection {{collection}}. Operation aborted.",unableToUpdateCount:"Unable to update {{count}} out of {{total}} {{label}}.",unauthorized:"Unauthorized, you must be logged in to make this request.",unauthorizedAdmin:"Unauthorized, this user does not have access to the admin panel.",unknown:"An unknown error has occurred.",unPublishingDocument:"There was a problem while un-publishing this document.",unspecific:"An error has occurred.",unverifiedEmail:"Please verify your email before logging in.",userEmailAlreadyRegistered:"A user with the given email is already registered.",userLocked:"This user is locked due to having too many failed login attempts.",usernameAlreadyRegistered:"A user with the given username is already registered.",usernameOrPasswordIncorrect:"The username or password provided is incorrect.",valueMustBeUnique:"Value must be unique",verificationTokenInvalid:"Verification token is invalid."},fields:{addLabel:"Add {{label}}",addLink:"Add Link",addNew:"Add new",addNewLabel:"Add new {{label}}",addRelationship:"Add Relationship",addUpload:"Add Upload",block:"Block",blocks:"blocks",blockType:"Block Type",chooseBetweenCustomTextOrDocument:"Choose between entering a custom text URL or linking to another document.",chooseDocumentToLink:"Choose a document to link to",chooseFromExisting:"Choose from existing",chooseLabel:"Choose {{label}}",collapseAll:"Collapse All",customURL:"Custom URL",editLabelData:"Edit {{label}} data",editLink:"Edit Link",editRelationship:"Edit Relationship",enterURL:"Enter a URL",internalLink:"Internal Link",itemsAndMore:"{{items}} and {{count}} more",labelRelationship:"{{label}} Relationship",latitude:"Latitude",linkedTo:"Linked to <0>{{label}}</0>",linkType:"Link Type",longitude:"Longitude",newLabel:"New {{label}}",openInNewTab:"Open in new tab",passwordsDoNotMatch:"Passwords do not match.",relatedDocument:"Related Document",relationTo:"Relation To",removeRelationship:"Remove Relationship",removeUpload:"Remove Upload",saveChanges:"Save changes",searchForBlock:"Search for a block",searchForLanguage:"Search for a language",selectExistingLabel:"Select existing {{label}}",selectFieldsToEdit:"Select fields to edit",showAll:"Show All",swapRelationship:"Swap Relationship",swapUpload:"Swap Upload",textToDisplay:"Text to display",toggleBlock:"Toggle block",uploadNewLabel:"Upload new {{label}}"},folder:{browseByFolder:"Browse by Folder",byFolder:"By Folder",deleteFolder:"Delete Folder",folderName:"Folder Name",folders:"Folders",folderTypeDescription:"Select which type of collection documents should be allowed in this folder.",itemHasBeenMoved:"{{title}} has been moved to {{folderName}}",itemHasBeenMovedToRoot:"{{title}} has been moved to the root folder",itemsMovedToFolder:"{{title}} moved to {{folderName}}",itemsMovedToRoot:"{{title}} moved to the root folder",moveFolder:"Move Folder",moveItemsToFolderConfirmation:"You are about to move <1>{{count}} {{label}}</1> to <2>{{toFolder}}</2>. Are you sure?",moveItemsToRootConfirmation:"You are about to move <1>{{count}} {{label}}</1> to the root folder. Are you sure?",moveItemToFolderConfirmation:"You are about to move <1>{{title}}</1> to <2>{{toFolder}}</2>. Are you sure?",moveItemToRootConfirmation:"You are about to move <1>{{title}}</1> to the root folder. Are you sure?",movingFromFolder:"Moving {{title}} from {{fromFolder}}",newFolder:"New Folder",noFolder:"No Folder",renameFolder:"Rename Folder",searchByNameInFolder:"Search by Name in {{folderName}}",selectFolderForItem:"Select folder for {{title}}"},general:{name:"Name",aboutToDelete:"You are about to delete the {{label}} <1>{{title}}</1>. Are you sure?",aboutToDeleteCount_many:"You are about to delete {{count}} {{label}}",aboutToDeleteCount_one:"You are about to delete {{count}} {{label}}",aboutToDeleteCount_other:"You are about to delete {{count}} {{label}}",aboutToPermanentlyDelete:"You are about to permanently delete the {{label}} <1>{{title}}</1>. Are you sure?",aboutToPermanentlyDeleteTrash:"You are about to permanently delete <0>{{count}}</0> <1>{{label}}</1> from the trash. Are you sure?",aboutToRestore:"You are about to restore the {{label}} <1>{{title}}</1>. Are you sure?",aboutToRestoreAsDraft:"You are about to restore the {{label}} <1>{{title}}</1> as a draft. Are you sure?",aboutToRestoreAsDraftCount:"You are about to restore {{count}} {{label}} as draft",aboutToRestoreCount:"You are about to restore {{count}} {{label}}",aboutToTrash:"You are about to move the {{label}} <1>{{title}}</1> to the trash. Are you sure?",aboutToTrashCount:"You are about to move {{count}} {{label}} to the trash",addBelow:"Add Below",addFilter:"Add Filter",adminTheme:"Admin Theme",all:"All",allCollections:"All Collections",allLocales:"All locales",and:"And",anotherUser:"Another user",anotherUserTakenOver:"Another user has taken over editing this document.",applyChanges:"Apply Changes",ascending:"Ascending",automatic:"Automatic",backToDashboard:"Back to Dashboard",cancel:"Cancel",changesNotSaved:"Your changes have not been saved. If you leave now, you will lose your changes.",clear:"Clear",clearAll:"Clear All",close:"Close",collapse:"Collapse",collections:"Collections",columns:"Columns",columnToSort:"Column to Sort",confirm:"Confirm",confirmCopy:"Confirm copy",confirmDeletion:"Confirm deletion",confirmDuplication:"Confirm duplication",confirmMove:"Confirm move",confirmReindex:"Reindex all {{collections}}?",confirmReindexAll:"Reindex all collections?",confirmReindexDescription:"This will remove existing indexes and reindex documents in the {{collections}} collections.",confirmReindexDescriptionAll:"This will remove existing indexes and reindex documents in all collections.",confirmRestoration:"Confirm restoration",copied:"Copied",copy:"Copy",copyField:"Copy Field",copying:"Copying",copyRow:"Copy Row",copyWarning:"You are about to overwrite {{to}} with {{from}} for {{label}} {{title}}. Are you sure?",create:"Create",created:"Created",createdAt:"Created At",createNew:"Create New",createNewLabel:"Create new {{label}}",creating:"Creating",creatingNewLabel:"Creating new {{label}}",currentlyEditing:"is currently editing this document. If you take over, they will be blocked from continuing to edit, and may also lose unsaved changes.",custom:"Custom",dark:"Dark",dashboard:"Dashboard",delete:"Delete",deleted:"Deleted",deletedAt:"Deleted At",deletedCountSuccessfully:"Deleted {{count}} {{label}} successfully.",deletedSuccessfully:"Deleted successfully.",deleteLabel:"Delete {{label}}",deletePermanently:"Skip trash and delete permanently",deleting:"Deleting...",depth:"Depth",descending:"Descending",deselectAllRows:"Deselect all rows",document:"Document",documentIsTrashed:"This {{label}} is trashed and is read-only.",documentLocked:"Document locked",documents:"Documents",duplicate:"Duplicate",duplicateWithoutSaving:"Duplicate without saving changes",edit:"Edit",editAll:"Edit all",editedSince:"Edited since",editing:"Editing",editingLabel_many:"Editing {{count}} {{label}}",editingLabel_one:"Editing {{count}} {{label}}",editingLabel_other:"Editing {{count}} {{label}}",editingTakenOver:"Editing taken over",editLabel:"Edit {{label}}",email:"Email",emailAddress:"Email Address",emptyTrash:"Empty trash",emptyTrashLabel:"Empty {{label}} trash",enterAValue:"Enter a value",error:"Error",errors:"Errors",exitLivePreview:"Exit Live Preview",export:"Export",fallbackToDefaultLocale:"Fallback to default locale",false:"False",filter:"Filter",filters:"Filters",filterWhere:"Filter {{label}} where",globals:"Globals",goBack:"Go back",groupByLabel:"Group by {{label}}",import:"Import",isEditing:"is editing",item:"Item",items:"items",language:"Language",lastModified:"Last Modified",leaveAnyway:"Leave anyway",leaveWithoutSaving:"Leave without saving",light:"Light",livePreview:"Live Preview",loading:"Loading",locale:"Locale",locales:"Locales",menu:"Menu",moreOptions:"More options",move:"Move",moveConfirm:"You are about to move {{count}} {{label}} to <1>{{destination}}</1>. Are you sure?",moveCount:"Move {{count}} {{label}}",moveDown:"Move Down",moveUp:"Move Up",moving:"Moving",movingCount:"Moving {{count}} {{label}}",newLabel:"New {{label}}",newPassword:"New Password",next:"Next",no:"No",noDateSelected:"No date selected",noFiltersSet:"No filters set",noLabel:"<No {{label}}>",none:"None",noOptions:"No options",noResults:"No {{label}} found. Either no {{label}} exist yet or none match the filters you've specified above.",notFound:"Not Found",nothingFound:"Nothing found",noTrashResults:"No {{label}} in trash.",noUpcomingEventsScheduled:"No upcoming events scheduled.",noValue:"No value",of:"of",only:"Only",open:"Open",or:"Or",order:"Order",overwriteExistingData:"Overwrite existing field data",pageNotFound:"Page not found",password:"Password",pasteField:"Paste Field",pasteRow:"Paste Row",payloadSettings:"Payload Settings",permanentlyDelete:"Permanently Delete",permanentlyDeletedCountSuccessfully:"Permanently deleted {{count}} {{label}} successfully.",perPage:"Per Page: {{limit}}",previous:"Previous",reindex:"Reindex",reindexingAll:"Reindexing all {{collections}}.",remove:"Remove",rename:"Rename",reset:"Reset",resetPreferences:"Reset Preferences",resetPreferencesDescription:"This will reset all of your preferences to their default settings.",resettingPreferences:"Resetting Preferences.",restore:"Restore",restoreAsPublished:"Restore as published version",restoredCountSuccessfully:"Restored {{count}} {{label}} successfully.",restoring:"Restoring...",row:"Row",rows:"Rows",save:"Save",saving:"Saving...",schedulePublishFor:"Schedule publish for {{title}}",searchBy:"Search by {{label}}",select:"Select",selectAll:"Select all {{count}} {{label}}",selectAllRows:"Select all rows",selectedCount:"{{count}} {{label}} selected",selectLabel:"Select {{label}}",selectValue:"Select a value",showAllLabel:"Show all {{label}}",sorryNotFound:"Sorry—there is nothing to correspond with your request.",sort:"Sort",sortByLabelDirection:"Sort by {{label}} {{direction}}",stayOnThisPage:"Stay on this page",submissionSuccessful:"Submission Successful.",submit:"Submit",submitting:"Submitting...",success:"Success",successfullyCreated:"{{label}} successfully created.",successfullyDuplicated:"{{label}} successfully duplicated.",successfullyReindexed:"Successfully reindexed {{count}} of {{total}} documents from {{collections}}",takeOver:"Take over",thisLanguage:"English",time:"Time",timezone:"Timezone",titleDeleted:'{{label}} "{{title}}" successfully deleted.',titleRestored:'{{label}} "{{title}}" successfully restored.',titleTrashed:'{{label}} "{{title}}" moved to trash.',trash:"Trash",trashedCountSuccessfully:"{{count}} {{label}} moved to trash.",true:"True",unauthorized:"Unauthorized",unsavedChanges:"You have unsaved changes. Save or discard before continuing.",unsavedChangesDuplicate:"You have unsaved changes. Would you like to continue to duplicate?",untitled:"Untitled",upcomingEvents:"Upcoming Events",updatedAt:"Updated At",updatedCountSuccessfully:"Updated {{count}} {{label}} successfully.",updatedLabelSuccessfully:"Updated {{label}} successfully.",updatedSuccessfully:"Updated successfully.",updateForEveryone:"Update for everyone",updating:"Updating",uploading:"Uploading",uploadingBulk:"Uploading {{current}} of {{total}}",user:"User",username:"Username",users:"Users",value:"Value",viewing:"Viewing",viewReadOnly:"View read-only",welcome:"Welcome",yes:"Yes"},localization:{cannotCopySameLocale:"Cannot copy to the same locale",copyFrom:"Copy from",copyFromTo:"Copying from {{from}} to {{to}}",copyTo:"Copy to",copyToLocale:"Copy to locale",localeToPublish:"Locale to publish",selectLocaleToCopy:"Select locale to copy"},operators:{contains:"contains",equals:"equals",exists:"exists",intersects:"intersects",isGreaterThan:"is greater than",isGreaterThanOrEqualTo:"is greater than or equal to",isIn:"is in",isLessThan:"is less than",isLessThanOrEqualTo:"is less than or equal to",isLike:"is like",isNotEqualTo:"is not equal to",isNotIn:"is not in",isNotLike:"is not like",near:"near",within:"within"},upload:{addFile:"Add file",addFiles:"Add files",bulkUpload:"Bulk Upload",crop:"Crop",cropToolDescription:"Drag the corners of the selected area, draw a new area or adjust the values below.",download:"Download",dragAndDrop:"Drag and drop a file",dragAndDropHere:"or drag and drop a file here",editImage:"Edit Image",fileName:"File Name",fileSize:"File Size",filesToUpload:"Files to Upload",fileToUpload:"File to Upload",focalPoint:"Focal Point",focalPointDescription:"Drag the focal point directly on the preview or adjust the values below.",height:"Height",lessInfo:"Less info",moreInfo:"More info",noFile:"No file",pasteURL:"Paste URL",previewSizes:"Preview Sizes",selectCollectionToBrowse:"Select a Collection to Browse",selectFile:"Select a file",setCropArea:"Set crop area",setFocalPoint:"Set focal point",sizes:"Sizes",sizesFor:"Sizes for {{label}}",width:"Width"},validation:{emailAddress:"Please enter a valid email address.",enterNumber:"Please enter a valid number.",fieldHasNo:"This field has no {{label}}",greaterThanMax:"{{value}} is greater than the max allowed {{label}} of {{max}}.",invalidBlock:'The block "{{block}}" is not allowed.',invalidBlocks:"This field contains blocks that are no longer allowed: {{blocks}}.",invalidInput:"This field has an invalid input.",invalidSelection:"This field has an invalid selection.",invalidSelections:"This field has the following invalid selections:",latitudeOutOfBounds:"Latitude must be between -90 and 90.",lessThanMin:"{{value}} is less than the min allowed {{label}} of {{min}}.",limitReached:"Limit reached, only {{max}} items can be added.",longerThanMin:"This value must be longer than the minimum length of {{minLength}} characters.",longitudeOutOfBounds:"Longitude must be between -180 and 180.",notValidDate:'"{{value}}" is not a valid date.',required:"This field is required.",requiresAtLeast:"This field requires at least {{count}} {{label}}.",requiresNoMoreThan:"This field requires no more than {{count}} {{label}}.",requiresTwoNumbers:"This field requires two numbers.",shorterThanMax:"This value must be shorter than the max length of {{maxLength}} characters.",timezoneRequired:"A timezone is required.",trueOrFalse:"This field can only be equal to true or false.",username:"Please enter a valid username. Can contain letters, numbers, hyphens, periods and underscores.",validUploadID:"This field is not a valid upload ID."},version:{type:"Type",aboutToPublishSelection:"You are about to publish all {{label}} in the selection. Are you sure?",aboutToRestore:"You are about to restore this {{label}} document to the state that it was in on {{versionDate}}.",aboutToRestoreGlobal:"You are about to restore the global {{label}} to the state that it was in on {{versionDate}}.",aboutToRevertToPublished:"You are about to revert this document's changes to its published state. Are you sure?",aboutToUnpublish:"You are about to unpublish this document. Are you sure?",aboutToUnpublishSelection:"You are about to unpublish all {{label}} in the selection. Are you sure?",autosave:"Autosave",autosavedSuccessfully:"Autosaved successfully.",autosavedVersion:"Autosaved version",changed:"Changed",changedFieldsCount_one:"{{count}} changed field",changedFieldsCount_other:"{{count}} changed fields",compareVersion:"Compare version against:",compareVersions:"Compare Versions",comparingAgainst:"Comparing against",confirmPublish:"Confirm publish",confirmRevertToSaved:"Confirm revert to saved",confirmUnpublish:"Confirm unpublish",confirmVersionRestoration:"Confirm Version Restoration",currentDocumentStatus:"Current {{docStatus}} document",currentDraft:"Current Draft",currentlyPublished:"Currently Published",currentlyViewing:"Currently viewing",currentPublishedVersion:"Current Published Version",draft:"Draft",draftSavedSuccessfully:"Draft saved successfully.",lastSavedAgo:"Last saved {{distance}} ago",modifiedOnly:"Modified only",moreVersions:"More versions...",noFurtherVersionsFound:"No further versions found",noLabelGroup:"Unnamed Group",noRowsFound:"No {{label}} found",noRowsSelected:"No {{label}} selected",preview:"Preview",previouslyDraft:"Previously a Draft",previouslyPublished:"Previously Published",previousVersion:"Previous Version",problemRestoringVersion:"There was a problem restoring this version",publish:"Publish",publishAllLocales:"Publish all locales",publishChanges:"Publish changes",published:"Published",publishIn:"Publish in {{locale}}",publishing:"Publishing",restoreAsDraft:"Restore as draft",restoredSuccessfully:"Restored Successfully.",restoreThisVersion:"Restore this version",restoring:"Restoring...",reverting:"Reverting...",revertToPublished:"Revert to published",saveDraft:"Save Draft",scheduledSuccessfully:"Scheduled successfully.",schedulePublish:"Schedule Publish",selectLocales:"Select locales to display",selectVersionToCompare:"Select a version to compare",showingVersionsFor:"Showing versions for:",showLocales:"Show locales:",specificVersion:"Specific Version",status:"Status",unpublish:"Unpublish",unpublishing:"Unpublishing...",version:"Version",versionAgo:"{{distance}} ago",versionCount_many:"{{count}} versions found",versionCount_none:"No versions found",versionCount_one:"{{count}} version found",versionCount_other:"{{count}} versions found",versionID:"Version ID",versions:"Versions",viewingVersion:"Viewing version for the {{entityLabel}} {{documentTitle}}",viewingVersionGlobal:"Viewing version for the global {{entityLabel}}",viewingVersions:"Viewing versions for the {{entityLabel}} {{documentTitle}}",viewingVersionsGlobal:"Viewing versions for the global {{entityLabel}}"}}}},12863:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getEndpointUrlConfig=void 0;let d=c(71347),e="AWS_ENDPOINT_URL",f="endpoint_url";b.getEndpointUrlConfig=a=>({environmentVariableSelector:b=>{let c=b[[e,...a.split(" ").map(a=>a.toUpperCase())].join("_")];if(c)return c;let d=b[e];if(d)return d},configFileSelector:(b,c)=>{if(c&&b.services){let e=c[["services",b.services].join(d.CONFIG_PREFIX_SEPARATOR)];if(e){let b=e[[a.split(" ").map(a=>a.toLowerCase()).join("_"),f].join(d.CONFIG_PREFIX_SEPARATOR)];if(b)return b}}let e=b[f];if(e)return e},default:void 0})},13160:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(57975);let e=a=>d.types.isKeyObject(a)},13334:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getData=b.KeywordCxt=b.validateFunctionCode=void 0;let d=c(63779),e=c(11624),f=c(63019),g=c(11624),h=c(71394),i=c(81561),j=c(89163),k=c(86397),l=c(13491),m=c(56863),o=c(49943),p=c(58052);function q({gen:a,validateName:b,schema:c,schemaEnv:d,opts:e},f){e.code.es5?a.func(b,(0,k._)`${l.default.data}, ${l.default.valCxt}`,d.$async,()=>{a.code((0,k._)`"use strict"; ${v(c,e)}`),s(a,e),a.code(f)}):a.func(b,(0,k._)`${l.default.data}, ${r(e)}`,d.$async,()=>a.code(v(c,e)).code(f))}function r(a){return(0,k._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${a.dynamicRef?(0,k._)`, ${l.default.dynamicAnchors}={}`:k.nil}}={}`}function s(a,b){a.if(l.default.valCxt,()=>{a.var(l.default.instancePath,(0,k._)`${l.default.valCxt}.${l.default.instancePath}`),a.var(l.default.parentData,(0,k._)`${l.default.valCxt}.${l.default.parentData}`),a.var(l.default.parentDataProperty,(0,k._)`${l.default.valCxt}.${l.default.parentDataProperty}`),a.var(l.default.rootData,(0,k._)`${l.default.valCxt}.${l.default.rootData}`),b.dynamicRef&&a.var(l.default.dynamicAnchors,(0,k._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{a.var(l.default.instancePath,(0,k._)`""`),a.var(l.default.parentData,(0,k._)`undefined`),a.var(l.default.parentDataProperty,(0,k._)`undefined`),a.var(l.default.rootData,l.default.data),b.dynamicRef&&a.var(l.default.dynamicAnchors,(0,k._)`{}`)})}function t(a){let{schema:b,opts:c,gen:d}=a;q(a,()=>{c.$comment&&b.$comment&&G(a),D(a),d.let(l.default.vErrors,null),d.let(l.default.errors,0),c.unevaluated&&u(a),B(a),H(a)})}function u(a){let{gen:b,validateName:c}=a;a.evaluated=b.const("evaluated",(0,k._)`${c}.evaluated`),b.if((0,k._)`${a.evaluated}.dynamicProps`,()=>b.assign((0,k._)`${a.evaluated}.props`,(0,k._)`undefined`)),b.if((0,k._)`${a.evaluated}.dynamicItems`,()=>b.assign((0,k._)`${a.evaluated}.items`,(0,k._)`undefined`))}function v(a,b){let c="object"==typeof a&&a[b.schemaId];return c&&(b.code.source||b.code.process)?(0,k._)`/*# sourceURL=${c} */`:k.nil}function w(a,b){if(y(a)&&(A(a),x(a)))return void z(a,b);(0,d.boolOrEmptySchema)(a,b)}function x({schema:a,self:b}){if("boolean"==typeof a)return!a;for(let c in a)if(b.RULES.all[c])return!0;return!1}function y(a){return"boolean"!=typeof a.schema}function z(a,b){let{schema:c,gen:d,opts:e}=a;e.$comment&&c.$comment&&G(a),E(a),F(a);let f=d.const("_errs",l.default.errors);B(a,f),d.var(b,(0,k._)`${f} === ${l.default.errors}`)}function A(a){(0,o.checkUnknownRules)(a),C(a)}function B(a,b){if(a.opts.jtd)return J(a,[],!1,b);let c=(0,e.getSchemaTypes)(a.schema),d=(0,e.coerceAndCheckDataType)(a,c);J(a,c,!d,b)}function C(a){let{schema:b,errSchemaPath:c,opts:d,self:e}=a;b.$ref&&d.ignoreKeywordsWithRef&&(0,o.schemaHasRulesButRef)(b,e.RULES)&&e.logger.warn(`$ref: keywords ignored in schema at path "${c}"`)}function D(a){let{schema:b,opts:c}=a;void 0!==b.default&&c.useDefaults&&c.strictSchema&&(0,o.checkStrictMode)(a,"default is ignored in the schema root")}function E(a){let b=a.schema[a.opts.schemaId];b&&(a.baseId=(0,m.resolveUrl)(a.opts.uriResolver,a.baseId,b))}function F(a){if(a.schema.$async&&!a.schemaEnv.$async)throw Error("async schema in sync schema")}function G({gen:a,schemaEnv:b,schema:c,errSchemaPath:d,opts:e}){let f=c.$comment;if(!0===e.$comment)a.code((0,k._)`${l.default.self}.logger.log(${f})`);else if("function"==typeof e.$comment){let c=(0,k.str)`${d}/$comment`,e=a.scopeValue("root",{ref:b.root});a.code((0,k._)`${l.default.self}.opts.$comment(${f}, ${c}, ${e}.schema)`)}}function H(a){let{gen:b,schemaEnv:c,validateName:d,ValidationError:e,opts:f}=a;c.$async?b.if((0,k._)`${l.default.errors} === 0`,()=>b.return(l.default.data),()=>b.throw((0,k._)`new ${e}(${l.default.vErrors})`)):(b.assign((0,k._)`${d}.errors`,l.default.vErrors),f.unevaluated&&I(a),b.return((0,k._)`${l.default.errors} === 0`))}function I({gen:a,evaluated:b,props:c,items:d}){c instanceof k.Name&&a.assign((0,k._)`${b}.props`,c),d instanceof k.Name&&a.assign((0,k._)`${b}.items`,d)}function J(a,b,c,d){let{gen:e,schema:h,data:i,allErrors:j,opts:m,self:p}=a,{RULES:q}=p;if(h.$ref&&(m.ignoreKeywordsWithRef||!(0,o.schemaHasRulesButRef)(h,q)))return void e.block(()=>U(a,"$ref",q.all.$ref.definition));function r(o){(0,f.shouldUseGroup)(h,o)&&(o.type?(e.if((0,g.checkDataType)(o.type,i,m.strictNumbers)),K(a,o),1===b.length&&b[0]===o.type&&c&&(e.else(),(0,g.reportTypeError)(a)),e.endIf()):K(a,o),j||e.if((0,k._)`${l.default.errors} === ${d||0}`))}m.jtd||L(a,b),e.block(()=>{for(let a of q.rules)r(a);r(q.post)})}function K(a,b){let{gen:c,schema:d,opts:{useDefaults:e}}=a;e&&(0,h.assignDefaults)(a,b.type),c.block(()=>{for(let c of b.rules)(0,f.shouldUseRule)(d,c)&&U(a,c.keyword,c.definition,b.type)})}function L(a,b){!a.schemaEnv.meta&&a.opts.strictTypes&&(M(a,b),a.opts.allowUnionTypes||N(a,b),O(a,a.dataTypes))}function M(a,b){if(b.length){if(!a.dataTypes.length){a.dataTypes=b;return}b.forEach(b=>{Q(a.dataTypes,b)||S(a,`type "${b}" not allowed by context "${a.dataTypes.join(",")}"`)}),R(a,b)}}function N(a,b){b.length>1&&!(2===b.length&&b.includes("null"))&&S(a,"use allowUnionTypes to allow union type keyword")}function O(a,b){let c=a.self.RULES.all;for(let d in c){let e=c[d];if("object"==typeof e&&(0,f.shouldUseRule)(a.schema,e)){let{type:c}=e.definition;c.length&&!c.some(a=>P(b,a))&&S(a,`missing type "${c.join(",")}" for keyword "${d}"`)}}}function P(a,b){return a.includes(b)||"number"===b&&a.includes("integer")}function Q(a,b){return a.includes(b)||"integer"===b&&a.includes("number")}function R(a,b){let c=[];for(let d of a.dataTypes)Q(b,d)?c.push(d):b.includes("integer")&&"number"===d&&c.push("integer");a.dataTypes=c}function S(a,b){let c=a.schemaEnv.baseId+a.errSchemaPath;b+=` at "${c}" (strictTypes)`,(0,o.checkStrictMode)(a,b,a.opts.strictTypes)}b.validateFunctionCode=function(a){if(y(a)&&(A(a),x(a)))return void t(a);q(a,()=>(0,d.topBoolOrEmptySchema)(a))};class T{constructor(a,b,c){if((0,i.validateKeywordUsage)(a,b,c),this.gen=a.gen,this.allErrors=a.allErrors,this.keyword=c,this.data=a.data,this.schema=a.schema[c],this.$data=b.$data&&a.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,o.schemaRefOrVal)(a,this.schema,c,this.$data),this.schemaType=b.schemaType,this.parentSchema=a.schema,this.params={},this.it=a,this.def=b,this.$data)this.schemaCode=a.gen.const("vSchema",X(this.$data,a));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,b.schemaType,b.allowUndefined))throw Error(`${c} value must be ${JSON.stringify(b.schemaType)}`);("code"in b?b.trackErrors:!1!==b.errors)&&(this.errsCount=a.gen.const("_errs",l.default.errors))}result(a,b,c){this.failResult((0,k.not)(a),b,c)}failResult(a,b,c){this.gen.if(a),c?c():this.error(),b?(this.gen.else(),b(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(a,b){this.failResult((0,k.not)(a),void 0,b)}fail(a){if(void 0===a){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(a),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(a){if(!this.$data)return this.fail(a);let{schemaCode:b}=this;this.fail((0,k._)`${b} !== undefined && (${(0,k.or)(this.invalid$data(),a)})`)}error(a,b,c){if(b){this.setParams(b),this._error(a,c),this.setParams({});return}this._error(a,c)}_error(a,b){(a?p.reportExtraError:p.reportError)(this,this.def.error,b)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(a){this.allErrors||this.gen.if(a)}setParams(a,b){b?Object.assign(this.params,a):this.params=a}block$data(a,b,c=k.nil){this.gen.block(()=>{this.check$data(a,c),b()})}check$data(a=k.nil,b=k.nil){if(!this.$data)return;let{gen:c,schemaCode:d,schemaType:e,def:f}=this;c.if((0,k.or)((0,k._)`${d} === undefined`,b)),a!==k.nil&&c.assign(a,!0),(e.length||f.validateSchema)&&(c.elseIf(this.invalid$data()),this.$dataError(),a!==k.nil&&c.assign(a,!1)),c.else()}invalid$data(){let{gen:a,schemaCode:b,schemaType:c,def:d,it:e}=this;return(0,k.or)(f(),h());function f(){if(c.length){if(!(b instanceof k.Name))throw Error("ajv implementation error");let a=Array.isArray(c)?c:[c];return(0,k._)`${(0,g.checkDataTypes)(a,b,e.opts.strictNumbers,g.DataType.Wrong)}`}return k.nil}function h(){if(d.validateSchema){let c=a.scopeValue("validate$data",{ref:d.validateSchema});return(0,k._)`!${c}(${b})`}return k.nil}}subschema(a,b){let c=(0,j.getSubschema)(this.it,a);(0,j.extendSubschemaData)(c,this.it,a),(0,j.extendSubschemaMode)(c,a);let d={...this.it,...c,items:void 0,props:void 0};return w(d,b),d}mergeEvaluated(a,b){let{it:c,gen:d}=this;c.opts.unevaluated&&(!0!==c.props&&void 0!==a.props&&(c.props=o.mergeEvaluated.props(d,a.props,c.props,b)),!0!==c.items&&void 0!==a.items&&(c.items=o.mergeEvaluated.items(d,a.items,c.items,b)))}mergeValidEvaluated(a,b){let{it:c,gen:d}=this;if(c.opts.unevaluated&&(!0!==c.props||!0!==c.items))return d.if(b,()=>this.mergeEvaluated(a,k.Name)),!0}}function U(a,b,c,d){let e=new T(a,c,b);"code"in c?c.code(e,d):e.$data&&c.validate?(0,i.funcKeywordCode)(e,c):"macro"in c?(0,i.macroKeywordCode)(e,c):(c.compile||c.validate)&&(0,i.funcKeywordCode)(e,c)}b.KeywordCxt=T;let V=/^\/(?:[^~]|~0|~1)*$/,W=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function X(a,{dataLevel:b,dataNames:c,dataPathArr:d}){let e,f;if(""===a)return l.default.rootData;if("/"===a[0]){if(!V.test(a))throw Error(`Invalid JSON-pointer: ${a}`);e=a,f=l.default.rootData}else{let g=W.exec(a);if(!g)throw Error(`Invalid JSON-pointer: ${a}`);let i=+g[1];if("#"===(e=g[2])){if(i>=b)throw Error(h("property/index",i));return d[b-i]}if(i>b)throw Error(h("data",i));if(f=c[b-i],!e)return f}let g=f;for(let a of e.split("/"))a&&(f=(0,k._)`${f}${(0,k.getProperty)((0,o.unescapeJsonPointer)(a))}`,g=(0,k._)`${g} && ${f}`);return g;function h(a,c){return`Cannot access ${a} ${c} levels up, current level is ${b}`}}b.getData=X},13338:(a,b,c)=>{"use strict";c.d(b,{O:()=>g});let d=a=>a?.replace(/ /g,"-").replace(/[^\w-]+/g,"").toLowerCase(),e=async a=>{let b,{collectionSlug:c,globalSlug:d,parentID:e,req:f}=a,g={parent:{equals:e}};return c&&(b=()=>f.payload.countVersions({collection:c,depth:0,where:g})),d&&(b=()=>f.payload.countGlobalVersions({depth:0,global:d,where:g})),b&&await b()?.then(a=>a.totalDocs||0)||0},f=a=>async b=>{let{collection:c,data:f,global:g,operation:h,originalDoc:i,value:j}=b;if("create"===h)return f&&(f.slug=d(f?.slug||f?.[a])),!f?.slug;if("update"===h){if(!j)return!1;if(!("object"==typeof c?.versions?.drafts&&c?.versions?.drafts.autosave||"object"==typeof g?.versions?.drafts&&g?.versions?.drafts.autosave))return f&&(f.slug=d(f?.[a])),!f?.slug;{let h=f?._status==="published",j=f?.slug!==i?.slug;return!j&&f&&(f.slug=f?.[a]?d(f[a]):null),!h&&!j&&await e({collectionSlug:c?.slug,globalSlug:g?.slug,parentID:i?.id,req:b.req})<=2}}},g=({name:a="slug",checkboxName:b="generateSlug",fieldToUse:c="title",overrides:d,position:e="sidebar",required:g=!0}={})=>{let h={type:"row",admin:{position:e},fields:[{name:b,type:"checkbox",admin:{description:"When enabled, the slug will auto-generate from the title field on save and autosave.",disableBulkEdit:!0,disableGroupBy:!0,disableListColumn:!0,disableListFilter:!0,hidden:!0},defaultValue:!0,hooks:{beforeChange:[f(c)]}},{name:a,type:"text",admin:{components:{Field:{clientProps:{fieldToUse:c},path:"@payloadcms/ui#SlugField"}},width:"100%"},index:!0,required:g,unique:!0}]};return"function"==typeof d?d(h):h}},13490:(a,b,c)=>{"use strict";c.d(b,{r:()=>d});let d=({descriptionPath:a,hasGenerateFn:b=!1,overrides:c,titlePath:d})=>({name:"preview",type:"ui",admin:{components:{Field:{clientProps:{descriptionPath:a,hasGenerateURLFn:b,titlePath:d},path:"@payloadcms/plugin-seo/client#PreviewComponent"}}},label:"Preview",...c??{}})},13491:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(86397);b.default={data:new d.Name("data"),valCxt:new d.Name("valCxt"),instancePath:new d.Name("instancePath"),parentData:new d.Name("parentData"),parentDataProperty:new d.Name("parentDataProperty"),rootData:new d.Name("rootData"),dynamicAnchors:new d.Name("dynamicAnchors"),vErrors:new d.Name("vErrors"),errors:new d.Name("errors"),this:new d.Name("this"),self:new d.Name("self"),scope:new d.Name("scope"),json:new d.Name("json"),jsonPos:new d.Name("jsonPos"),jsonLen:new d.Name("jsonLen"),jsonPart:new d.Name("jsonPart")}},13803:(a,b,c)=>{"use strict";let d,{Duplex:e}=c(27910),{randomFillSync:f}=c(55511),g=c(49942),{EMPTY_BUFFER:h,kWebSocket:i,NOOP:j}=c(99753),{isBlob:k,isValidStatusCode:l}=c(15345),{mask:m,toBuffer:o}=c(28253),p=Symbol("kByteLength"),q=Buffer.alloc(4),r=8192,s=8192,t=0,u=1,v=2;class w{constructor(a,b,c){this._extensions=b||{},c&&(this._generateMask=c,this._maskBuffer=Buffer.alloc(4)),this._socket=a,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=t,this.onerror=j,this[i]=void 0}static frame(a,b){let c,e,g=!1,h=2,i=!1;b.mask&&(c=b.maskBuffer||q,b.generateMask?b.generateMask(c):(s===r&&(void 0===d&&(d=Buffer.alloc(r)),f(d,0,r),s=0),c[0]=d[s++],c[1]=d[s++],c[2]=d[s++],c[3]=d[s++]),i=(c[0]|c[1]|c[2]|c[3])==0,h=6),"string"==typeof a?e=(!b.mask||i)&&void 0!==b[p]?b[p]:(a=Buffer.from(a)).length:(e=a.length,g=b.mask&&b.readOnly&&!i);let j=e;e>=65536?(h+=8,j=127):e>125&&(h+=2,j=126);let k=Buffer.allocUnsafe(g?e+h:h);return(k[0]=b.fin?128|b.opcode:b.opcode,b.rsv1&&(k[0]|=64),k[1]=j,126===j?k.writeUInt16BE(e,2):127===j&&(k[2]=k[3]=0,k.writeUIntBE(e,4,6)),b.mask)?(k[1]|=128,k[h-4]=c[0],k[h-3]=c[1],k[h-2]=c[2],k[h-1]=c[3],i)?[k,a]:g?(m(a,c,k,h,e),[k]):(m(a,c,a,0,e),[k,a]):[k,a]}close(a,b,c,d){let e;if(void 0===a)e=h;else if("number"==typeof a&&l(a))if(void 0!==b&&b.length){let c=Buffer.byteLength(b);if(c>123)throw RangeError("The message must not be greater than 123 bytes");(e=Buffer.allocUnsafe(2+c)).writeUInt16BE(a,0),"string"==typeof b?e.write(b,2):e.set(b,2)}else(e=Buffer.allocUnsafe(2)).writeUInt16BE(a,0);else throw TypeError("First argument must be a valid error code number");let f={[p]:e.length,fin:!0,generateMask:this._generateMask,mask:c,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==t?this.enqueue([this.dispatch,e,!1,f,d]):this.sendFrame(w.frame(e,f),d)}ping(a,b,c){let d,e;if("string"==typeof a?(d=Buffer.byteLength(a),e=!1):k(a)?(d=a.size,e=!1):(d=(a=o(a)).length,e=o.readOnly),d>125)throw RangeError("The data size must not be greater than 125 bytes");let f={[p]:d,fin:!0,generateMask:this._generateMask,mask:b,maskBuffer:this._maskBuffer,opcode:9,readOnly:e,rsv1:!1};k(a)?this._state!==t?this.enqueue([this.getBlobData,a,!1,f,c]):this.getBlobData(a,!1,f,c):this._state!==t?this.enqueue([this.dispatch,a,!1,f,c]):this.sendFrame(w.frame(a,f),c)}pong(a,b,c){let d,e;if("string"==typeof a?(d=Buffer.byteLength(a),e=!1):k(a)?(d=a.size,e=!1):(d=(a=o(a)).length,e=o.readOnly),d>125)throw RangeError("The data size must not be greater than 125 bytes");let f={[p]:d,fin:!0,generateMask:this._generateMask,mask:b,maskBuffer:this._maskBuffer,opcode:10,readOnly:e,rsv1:!1};k(a)?this._state!==t?this.enqueue([this.getBlobData,a,!1,f,c]):this.getBlobData(a,!1,f,c):this._state!==t?this.enqueue([this.dispatch,a,!1,f,c]):this.sendFrame(w.frame(a,f),c)}send(a,b,c){let d,e,f=this._extensions[g.extensionName],h=b.binary?2:1,i=b.compress;"string"==typeof a?(d=Buffer.byteLength(a),e=!1):k(a)?(d=a.size,e=!1):(d=(a=o(a)).length,e=o.readOnly),this._firstFragment?(this._firstFragment=!1,i&&f&&f.params[f._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(i=d>=f._threshold),this._compress=i):(i=!1,h=0),b.fin&&(this._firstFragment=!0);let j={[p]:d,fin:b.fin,generateMask:this._generateMask,mask:b.mask,maskBuffer:this._maskBuffer,opcode:h,readOnly:e,rsv1:i};k(a)?this._state!==t?this.enqueue([this.getBlobData,a,this._compress,j,c]):this.getBlobData(a,this._compress,j,c):this._state!==t?this.enqueue([this.dispatch,a,this._compress,j,c]):this.dispatch(a,this._compress,j,c)}getBlobData(a,b,c,d){this._bufferedBytes+=c[p],this._state=v,a.arrayBuffer().then(a=>{if(this._socket.destroyed){let a=Error("The socket was closed while the blob was being read");process.nextTick(x,this,a,d);return}this._bufferedBytes-=c[p];let e=o(a);b?this.dispatch(e,b,c,d):(this._state=t,this.sendFrame(w.frame(e,c),d),this.dequeue())}).catch(a=>{process.nextTick(y,this,a,d)})}dispatch(a,b,c,d){if(!b)return void this.sendFrame(w.frame(a,c),d);let e=this._extensions[g.extensionName];this._bufferedBytes+=c[p],this._state=u,e.compress(a,c.fin,(a,b)=>{if(this._socket.destroyed)return void x(this,Error("The socket was closed while data was being compressed"),d);this._bufferedBytes-=c[p],this._state=t,c.readOnly=!1,this.sendFrame(w.frame(b,c),d),this.dequeue()})}dequeue(){for(;this._state===t&&this._queue.length;){let a=this._queue.shift();this._bufferedBytes-=a[3][p],Reflect.apply(a[0],this,a.slice(1))}}enqueue(a){this._bufferedBytes+=a[3][p],this._queue.push(a)}sendFrame(a,b){2===a.length?(this._socket.cork(),this._socket.write(a[0]),this._socket.write(a[1],b),this._socket.uncork()):this._socket.write(a[0],b)}}function x(a,b,c){"function"==typeof c&&c(b);for(let c=0;c<a._queue.length;c++){let d=a._queue[c],e=d[d.length-1];"function"==typeof e&&e(b)}}function y(a,b,c){x(a,b,c),a.onerror(b)}a.exports=w},13885:(a,b,c)=>{"use strict";c.d(b,{F:()=>h,O:()=>g});var d=c(56753),e=c(36659),f=c(78690);let g={converter:async({converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:g,parent:h,req:i,showHiddenFields:j})=>{let k=await (0,f.D)({converters:a,currentDepth:b,depth:c,draft:d,lexicalNodes:e.children,overrideAccess:g,parent:{...e,parent:h},req:i,showHiddenFields:j});return`<${e?.tag} class="list-${e?.listType}">${k}</${e?.tag}>`},nodeTypes:[d.v5.getType()]},h={converter:async({converters:a,currentDepth:b,depth:c,draft:d,node:g,overrideAccess:h,parent:i,req:j,showHiddenFields:k})=>{let l=g.children.some(a=>"list"===a.type),m=await (0,f.D)({converters:a,currentDepth:b,depth:c,draft:d,lexicalNodes:g.children,overrideAccess:h,parent:{...g,parent:i},req:j,showHiddenFields:k});if(!("listType"in i)||i?.listType!=="check")return`<li ${l?'class="nestedListItem" ':""}value=${g?.value}>${m}</li>`;{let a=(0,e.A)();return`<li aria-checked=${g.checked?"true":"false"} class="${"list-item-checkbox"+(g.checked?" list-item-checkbox-checked":" list-item-checkbox-unchecked")+(l?" nestedListItem":"")}"
          role="checkbox"
          tabIndex=-1
          value=${g?.value}
      >
      ${l?m:`
        <input type="checkbox" id="${a}"${g.checked?" checked":""}>
        <label for="${a}">${m}</label><br>
      `}


          </li>`}},nodeTypes:[d.YW.getType()]}},13917:(a,b,c)=>{"use strict";c.r(b),c.d(b,{isBrowserNetworkError:()=>m,isClockSkewCorrectedError:()=>l,isClockSkewError:()=>k,isRetryableByTrait:()=>j,isServerError:()=>q,isThrottlingError:()=>o,isTransientError:()=>p});let d=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],e=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],f=["TimeoutError","RequestTimeout","RequestTimeoutException"],g=[500,502,503,504],h=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],i=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],j=a=>a?.$retryable!==void 0,k=a=>d.includes(a.name),l=a=>a.$metadata?.clockSkewCorrected,m=a=>{let b=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return!!(a&&a instanceof TypeError)&&b.has(a.message)},o=a=>a.$metadata?.httpStatusCode===429||e.includes(a.name)||a.$retryable?.throttling==!0,p=(a,b=0)=>j(a)||l(a)||f.includes(a.name)||h.includes(a?.code||"")||i.includes(a?.code||"")||g.includes(a.$metadata?.httpStatusCode||0)||m(a)||void 0!==a.cause&&b<=10&&p(a.cause,b+1),q=a=>{if(a.$metadata?.httpStatusCode!==void 0){let b=a.$metadata.httpStatusCode;if(500<=b&&b<=599&&!p(a))return!0}return!1}},13945:(a,b,c)=>{"use strict";let d=c(40639);class e extends d{constructor(a={}){super(a)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(a){this.date.setSeconds(parseInt(a.substr(-2)))}toString(){let a=this.date.getSeconds();return this.token.length>1?String(a).padStart(2,"0"):a}}a.exports=e},14187:(a,b,c)=>{"use strict";c.d(b,{k:()=>f});var d=c(27910);class e extends d.Writable{bufferedBytes=[];_write(a,b,c){this.bufferedBytes.push(a),c()}}let f=a=>g(a)?h(a):new Promise((b,c)=>{let d=new e;a.pipe(d),a.on("error",a=>{d.end(),c(a)}),d.on("error",c),d.on("finish",function(){b(new Uint8Array(Buffer.concat(this.bufferedBytes)))})}),g=a=>"function"==typeof ReadableStream&&a instanceof ReadableStream;async function h(a){let b=[],c=a.getReader(),d=!1,e=0;for(;!d;){let{done:a,value:f}=await c.read();f&&(b.push(f),e+=f.length),d=a}let f=new Uint8Array(e),g=0;for(let a of b)f.set(a,g),g+=a.length;return f}},14196:(a,b,c)=>{"use strict";c.d(b,{p:()=>r,Y:()=>q});var d=c(61101),e=c(18528),f=c(12820),g=c(35593);class h extends g.L{constructor(a){super(a?a("error:unauthorized"):f.en.translations.error.unauthorized,d.h.UNAUTHORIZED)}}async function i(a){let{key:b,req:{payload:c},req:d,user:f}=a;if(!f)throw new h(d.t);let g={and:[{key:{equals:b}},{"user.value":{equals:f.id}},{"user.relationTo":{equals:f.collection}}]},i=await c.db.deleteOne({collection:q,req:d,where:g});if(i)return i;throw new e.M(d.t)}let j=async a=>{let b;try{b=await a.json?.()}catch(a){b={}}let c=a;b&&(c.data=b,c.json=()=>Promise.resolve(b));let e=await i({key:c.routeParams?.key,req:c,user:c.user});return Response.json({...e,message:c.t("general:deletedSuccessfully")},{status:d.h.OK})};async function k(a){let{key:b,req:{payload:c},req:d,user:e}=a;if(!e)return null;let f={and:[{key:{equals:b}},{"user.value":{equals:e.id}},{"user.relationTo":{equals:e.collection}}]},{docs:g}=await c.db.find({collection:q,limit:1,pagination:!1,req:d,sort:"-updatedAt",where:f});return g?.[0]||null}let l=async a=>{let b;try{b=await a.json?.()}catch(a){b={}}let c=a;b&&(c.data=b,c.json=()=>Promise.resolve(b));let e=await k({key:c.routeParams?.key,req:c,user:c.user});return Response.json({...e||{message:c.t("general:notFound"),value:null}},{status:d.h.OK})};async function m(a){let{key:b,req:{payload:c},req:d,user:e,value:f}=a;if(!e)throw new h(d.t);let g={and:[{key:{equals:b}},{"user.value":{equals:e.id}},{"user.relationTo":{equals:e.collection}}]},i={key:b,user:{relationTo:e.collection,value:e.id},value:f};return await c.db.upsert({collection:q,data:i,req:d,where:g})}let o=async a=>{let b;try{b=await a.json?.()}catch(a){b={}}let c=a;b&&(c.data=b,c.json=()=>Promise.resolve(b));let e=await m({key:c.routeParams?.key,req:c,user:c?.user,value:c.data?.value||c.data});return Response.json({doc:e,message:c.t("general:updatedSuccessfully")},{status:d.h.OK})},p=({req:a})=>!!a.user&&{"user.value":{equals:a?.user?.id}},q="payload-preferences",r=a=>({slug:q,access:{delete:p,read:p},admin:{hidden:!0},endpoints:[{handler:l,method:"get",path:"/:key"},{handler:j,method:"delete",path:"/:key"},{handler:o,method:"post",path:"/:key"}],fields:[{name:"user",type:"relationship",hooks:{beforeValidate:[({req:a})=>a?.user?{relationTo:a?.user.collection,value:a?.user.id}:null]},index:!0,relationTo:a.collections.filter(a=>a.auth).map(a=>a.slug),required:!0},{name:"key",type:"text",index:!0},{name:"value",type:"json",validate:a=>{if(a)try{JSON.parse(JSON.stringify(a))}catch{return"Invalid JSON"}return!0}}],lockDocuments:!1})},14198:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createBufferedReadable=void 0,b.createBufferedReadableStream=e,b.merge=f,b.flush=g,b.sizeOf=h,b.modeOf=i;let d=c(41211);function e(a,b,c){let e=a.getReader(),j=!1,k=0,l=["",new d.ByteArrayCollector(a=>new Uint8Array(a))],m=-1,o=async a=>{let{value:d,done:p}=await e.read(),q=d;if(p){if(-1!==m){let b=g(l,m);h(b)>0&&a.enqueue(b)}a.close()}else{let d=i(q,!1);if(m!==d&&(m>=0&&a.enqueue(g(l,m)),m=d),-1===m)return void a.enqueue(q);let e=h(q);k+=e;let p=h(l[m]);if(e>=b&&0===p)a.enqueue(q);else{let d=f(l,m,q);!j&&k>2*b&&(j=!0,c?.warn(`@smithy/util-stream - stream chunk size ${e} is below threshold of ${b}, automatically buffering.`)),d>=b?a.enqueue(g(l,m)):await o(a)}}};return new ReadableStream({pull:o})}function f(a,b,c){switch(b){case 0:return a[0]+=c,h(a[0]);case 1:case 2:return a[b].push(c),h(a[b])}}function g(a,b){switch(b){case 0:let c=a[0];return a[0]="",c;case 1:case 2:return a[b].flush()}throw Error(`@smithy/util-stream - invalid index ${b} given to flush()`)}function h(a){return a?.byteLength??a?.length??0}function i(a,b=!0){return b&&"undefined"!=typeof Buffer&&a instanceof Buffer?2:a instanceof Uint8Array?1:"string"==typeof a?0:-1}b.createBufferedReadable=e},14260:a=>{"use strict";a.exports=RangeError},14294:(a,b,c)=>{"use strict";c.d(b,{b:()=>e});var d=c(579);let e=(a,b={})=>{let{headers:c,query:e={}}=d.K.clone(a);for(let a of Object.keys(c)){let d=a.toLowerCase();("x-amz-"===d.slice(0,6)&&!b.unhoistableHeaders?.has(d)||b.hoistableHeaders?.has(d))&&(e[a]=c[a],delete c[a])}return{...a,headers:c,query:e}}},14351:(a,b,c)=>{"use strict";var d=c(40353),e=c(32504),f=c(52032),g=c(64373),h=d("%Map%",!0),i=e("Map.prototype.get",!0),j=e("Map.prototype.set",!0),k=e("Map.prototype.has",!0),l=e("Map.prototype.delete",!0),m=e("Map.prototype.size",!0);a.exports=!!h&&function(){var a,b={assert:function(a){if(!b.has(a))throw new g("Side channel does not contain "+f(a))},delete:function(b){if(a){var c=l(a,b);return 0===m(a)&&(a=void 0),c}return!1},get:function(b){if(a)return i(a,b)},has:function(b){return!!a&&k(a,b)},set:function(b,c){a||(a=new h),j(a,b,c)}};return b}},14352:(a,b,c)=>{"use strict";let d=c(90165),e=c(67858),f=c(90439),g=f.style,h=f.clear,i=c(1298),j=i.cursor,k=i.erase;class l extends e{constructor(a={}){super(a),this.msg=a.message,this.value=!!a.initial,this.active=a.active||"on",this.inactive=a.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(a,b){if(" "===a)this.value=!this.value;else if("1"===a)this.value=!0;else{if("0"!==a)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(j.hide):this.out.write(h(this.outputText,this.out.columns)),super.render(),this.outputText=[g.symbol(this.done,this.aborted),d.bold(this.msg),g.delimiter(this.done),this.value?this.inactive:d.cyan().underline(this.inactive),d.gray("/"),this.value?d.cyan().underline(this.active):this.active].join(" "),this.out.write(k.line+j.to(0)+this.outputText))}}a.exports=l},14355:(a,b,c)=>{"use strict";c.d(b,{FI:()=>h,FZ:()=>i,t_:()=>g});var d=c(86101),e=c(91406),f=c(6432);let g=(a,b)=>(0,f.w)(a,b).then(a=>{if(a.length){let b;try{b=(0,d.h)(a)}catch(b){throw b&&"object"==typeof b&&Object.defineProperty(b,"$responseBodyText",{value:a}),b}let c="#text",f=Object.keys(b)[0],g=b[f];return g[c]&&(g[f]=g[c],delete g[c]),(0,e.r)(g)}return{}}),h=async(a,b)=>{let c=await g(a,b);return c.Error&&(c.Error.message=c.Error.message??c.Error.Message),c},i=(a,b)=>b?.Error?.Code!==void 0?b.Error.Code:b?.Code!==void 0?b.Code:404==a.statusCode?"NotFound":void 0},14525:(a,b,c)=>{"use strict";c.d(b,{T:()=>Q});var d=c(60302);let e=({adapter:a})=>{for(let b in a.rawRelations){let c=a.rawRelations[b];a.relations[`relations_${b}`]=(0,d.K1)(a.tables[b],({many:b,one:d})=>{let e={};for(let f in c){let g=c[f];"one"===g.type?e[f]=d(a.tables[g.to],{fields:g.fields.map(b=>a.tables[b.table][b.name]),references:g.references.map(b=>a.tables[g.to][b]),relationName:g.relationName}):e[f]=b(a.tables[g.to],{relationName:g.relationName})}return e})}};var f=c(68656);let g=({indexes:a})=>a.map(a=>({fields:a.fields.map(({field:a,localizedPath:b,path:c,pathHasLocalized:d})=>({field:a,localizedPath:`version.${b}`,path:`version.${c}`,pathHasLocalized:d})),unique:!1}));var h=c(45139),i=c(38200),j=c(35593);let k=({adapter:a,config:{name:b,slug:c},config:d,parentTableName:e,prefix:f="",target:g="dbName",throwValidationError:h=!1,versions:k=!1,versionsCustomName:l=!1})=>{let m,o=d[g],p=`${f}${i(b??c)}`;k&&(p=`_${p}${a.versionsSuffix}`),o||"enumName"!==g||(o=d.dbName),o&&(m="function"==typeof o?o({tableName:e}):o,l&&(m=`_${m}${a.versionsSuffix}`));let q=m||p;if(a.tableNameMap.set(p,q),!h)return q;if(q.length>63)throw new j.L(`Exceeded max identifier length for table or enum name of 63 characters. Invalid name: ${q}.
Tip: You can use the dbName property to reduce the table name length.
      `);return q};var l=c(47800);let m=({name:a,adapter:b,number:c=0})=>{let d=`${a}${c?`_${c}`:""}_idx`;if(d.length>60){let b=`${c?`_${c}`:""}_idx`;d=`${a.slice(0,60-b.length)}${b}`}return b.indexes.has(d)?m({name:a,adapter:b,number:c+1}):(b.indexes.add(d),d)};var o=c(27661),p=c(73368);let q=({fields:a,parentIsLocalized:b})=>a.some(a=>"array"!==a.type&&(!!((0,o.Z7)(a)&&(0,o.Cd)({field:a,parentIsLocalized:b}))||((0,o.sd)(a)?q({fields:a.fields,parentIsLocalized:b||"localized"in a&&a.localized}):"tabs"===a.type&&a.tabs.some(a=>q({fields:a.fields,parentIsLocalized:b||a.localized})))));var r=c(77457);let s=a=>a.map(a=>"name"in a&&"id"===a.name?{...a,name:"_uuid"}:a),t=(a,b)=>void 0===b.defaultValue||"function"==typeof b.defaultValue?a:{...a,default:b.defaultValue},u=({adapter:a,blocksTableNameMap:b,columnPrefix:c,columns:d,disableNotNull:e,disableRelsTableUnique:f,disableUnique:g=!1,fieldPrefix:h,fields:j,forceLocalized:w,indexes:x,localesColumns:y,localesIndexes:z,newTableName:A,parentIsLocalized:B,parentTableName:C,relationships:D,relationsToBuild:E,rootRelationsToBuild:F,rootTableIDColType:G,rootTableName:H,setColumnID:I,uniqueRelationships:J,versions:K,withinLocalizedArrayOrBlock:L})=>{let M=!0,N=!1,O=!1,P=!1,Q=!1,R=!1,S=!1,T="integer",U=d.id;return U&&["numeric","text","uuid","varchar"].includes(U.type)&&(T=U.type),j.forEach(j=>{if("name"in j&&"id"===j.name||(0,o.IC)(j))return;let U=d,V=x,W=`${c||""}${"_"===j.name[0]?"_":""}${i(j.name)}`,X=`${h?.replace(".","_")||""}${j.name}`,Y=(0,o.Cd)({field:j,parentIsLocalized:B});if(a.payload.config.localization&&(Y||w)&&"array"!==j.type&&("blocks"!==j.type||a.blocksAsJSON)&&("hasMany"in j&&!0!==j.hasMany||!("hasMany"in j))&&(N=!0,U=y,V=z),(j.unique||j.index||["relationship","upload"].includes(j.type))&&!["array","blocks","group"].includes(j.type)&&!("hasMany"in j&&!0===j.hasMany)&&!("relationTo"in j&&Array.isArray(j.relationTo))){let b=!0!==g&&j.unique;if(b){let b=`${h||""}${j.name}`;a.fieldConstraints?.[H]||(a.fieldConstraints[H]={}),a.fieldConstraints[H][`${W}_idx`]=b}let c=m({name:`${A}_${W}`,adapter:a});V[c]={name:c,on:Y?[X,"_locale"]:X,unique:b}}switch(j.type){case"array":{let c=!!j.admin?.condition||e,d=k({adapter:a,config:j,parentTableName:A,prefix:`${A}_`,throwValidationError:M,versionsCustomName:K}),f={_order:{name:"_order",type:"integer",notNull:!0},_parentID:{name:"_parent_id",type:T,notNull:!0}},h={_orderIdx:{name:`${d}_order_idx`,on:["_order"]},_parentIDIdx:{name:`${d}_parent_id_idx`,on:"_parentID"}},i={_parentIDFk:{name:`${d}_parent_id_fk`,columns:["_parentID"],foreignColumns:[{name:"id",table:C}],onDelete:"cascade"}},l=!!(Y&&a.payload.config.localization)||L||w;l&&(f._locale={name:"_locale",type:"enum",locale:!0,notNull:!0},h._localeIdx={name:`${d}_locale_idx`,on:"_locale"});let{hasLocalizedManyNumberField:m,hasLocalizedManyTextField:o,hasLocalizedRelationshipField:r,hasManyNumberField:t,hasManyTextField:u,relationsToBuild:x}=v({adapter:a,baseColumns:f,baseForeignKeys:i,baseIndexes:h,blocksTableNameMap:b,disableNotNull:c,disableRelsTableUnique:!0,disableUnique:g,fields:g?s(j.flattenedFields):j.flattenedFields,parentIsLocalized:B||j.localized,rootRelationships:D,rootRelationsToBuild:F,rootTableIDColType:G,rootTableName:H,rootUniqueRelationships:J,setColumnID:I,tableName:d,versions:K,withinLocalizedArrayOrBlock:l});m&&(S=m),r&&(O=r),o&&(Q=o),u&&(!P||"index"===u)&&(P=u),t&&(!R||"index"===t)&&(R=t);let y=(0,p.F)({field:j,path:X,tableName:d});E.set(y,{type:"many",localized:!1,target:d});let z={_parentID:{type:"one",fields:[{name:"_parentID",table:d}],references:["id"],relationName:y,to:C}};q({fields:j.fields,parentIsLocalized:B||j.localized})&&(z._locales={type:"many",relationName:"_locales",to:`${d}${a.localesSuffix}`}),x.forEach(({type:b,localized:c,target:e},f)=>{if("one"===b){let b=c?`${d}${a.localesSuffix}`:d;z[f]={type:"one",fields:[{name:f,table:b}],references:["id"],relationName:f,to:e}}"many"===b&&(z[f]={type:"many",relationName:f,to:e})}),a.rawRelations[d]=z;break}case"blocks":{if(a.blocksAsJSON){U[X]=t({name:W,type:"jsonb"},j);break}let c=!!j.admin?.condition||e;(j.blockReferences??j.blocks).forEach(d=>{let e="string"==typeof d?a.payload.blocks[d]:d,f=k({adapter:a,config:e,parentTableName:H,prefix:`${H}_blocks_`,throwValidationError:M,versionsCustomName:K});void 0===b[f]?b[f]=1:a.rawTables[f]&&(0,r.E_)({block:e,localized:j.localized,rootTableName:H,table:a.rawTables[f],tableLocales:a.rawTables[`${f}${a.localesSuffix}`]})||(b[f]++,(0,r.RY)(e,b[f]),f=`${f}_${b[f]}`);let h=`_blocks_${e.slug}`;if(void 0!==e[r.SS]&&(h=`_blocks_${e.slug}_${e[r.SS]}`),!a.rawTables[f]){let d={_order:{name:"_order",type:"integer",notNull:!0},_parentID:{name:"_parent_id",type:G,notNull:!0},_path:{name:"_path",type:"text",notNull:!0}},i={_orderIdx:{name:`${f}_order_idx`,on:"_order"},_parentIDIdx:{name:`${f}_parent_id_idx`,on:["_parentID"]},_pathIdx:{name:`${f}_path_idx`,on:"_path"}},k={_parentIdFk:{name:`${f}_parent_id_fk`,columns:["_parentID"],foreignColumns:[{name:"id",table:H}],onDelete:"cascade"}},l=!!(Y&&a.payload.config.localization)||L||w;l&&(d._locale={name:"_locale",type:"enum",locale:!0,notNull:!0},i._localeIdx={name:`${f}_locale_idx`,on:"_locale"});let{hasLocalizedManyNumberField:m,hasLocalizedManyTextField:o,hasLocalizedRelationshipField:p,hasManyNumberField:r,hasManyTextField:t,relationsToBuild:u}=v({adapter:a,baseColumns:d,baseForeignKeys:k,baseIndexes:i,blocksTableNameMap:b,disableNotNull:c,disableRelsTableUnique:!0,disableUnique:g,fields:g?s(e.flattenedFields):e.flattenedFields,parentIsLocalized:B||j.localized,rootRelationships:D,rootRelationsToBuild:F,rootTableIDColType:G,rootTableName:H,rootUniqueRelationships:J,setColumnID:I,tableName:f,versions:K,withinLocalizedArrayOrBlock:l});m&&(S=m),p&&(O=p),o&&(Q=o),t&&(!P||"index"===t)&&(P=t),r&&(!R||"index"===r)&&(R=r);let x={_parentID:{type:"one",fields:[{name:"_parentID",table:f}],references:["id"],relationName:h,to:H}};q({fields:e.fields,parentIsLocalized:B||j.localized})&&(x._locales={type:"many",relationName:"_locales",to:`${f}${a.localesSuffix}`}),u.forEach(({type:b,localized:c,target:d},e)=>{if("one"===b){let b=c?`${f}${a.localesSuffix}`:f;x[e]={type:"one",fields:[{name:e,table:b}],references:["id"],relationName:e,to:d}}"many"===b&&(x[e]={type:"many",relationName:e,to:d})}),a.rawRelations[f]=x}F.set(h,{type:"many",localized:!1,target:f})});break}case"checkbox":U[X]=t({name:W,type:"boolean"},j);break;case"code":case"email":case"textarea":U[X]=t({name:W,type:"varchar"},j);break;case"date":U[X]=t({name:W,type:"timestamp",mode:"string",precision:3,withTimezone:!0},j);break;case"group":case"tab":{let{hasLocalizedField:c,hasLocalizedManyNumberField:f,hasLocalizedManyTextField:h,hasLocalizedRelationshipField:i,hasManyNumberField:k,hasManyTextField:l}=u({adapter:a,blocksTableNameMap:b,columnPrefix:`${W}_`,columns:d,disableNotNull:!!j.admin?.condition||e,disableUnique:g,fieldPrefix:`${X}.`,fields:j.flattenedFields,forceLocalized:Y,indexes:x,localesColumns:y,localesIndexes:z,newTableName:`${C}_${W}`,parentIsLocalized:B||j.localized,parentTableName:C,relationships:D,relationsToBuild:E,rootRelationsToBuild:F,rootTableIDColType:G,rootTableName:H,setColumnID:I,uniqueRelationships:J,versions:K,withinLocalizedArrayOrBlock:L||Y});c&&(N=!0),i&&(O=!0),l&&(P=!0),h&&(Q=!0),k&&(R=!0),f&&(S=!0);break}case"json":case"richText":U[X]=t({name:W,type:"jsonb"},j);break;case"number":if(j.hasMany){if((Y&&a.payload.config.localization||L||w)&&(S=!0),j.index?R="index":R||(R=!0),j.unique)throw new l.s("Unique is not supported in Postgres for hasMany number fields.")}else U[X]=t({name:W,type:"numeric"},j);break;case"point":U[X]=t({name:W,type:"geometry"},j);break;case"radio":case"select":{let c=k({adapter:a,config:j,parentTableName:A,prefix:`enum_${A}_`,target:"enumName",throwValidationError:M}),d=j.options.map(a=>(0,o.vs)(a)?a.value:a);if("select"===j.type&&j.hasMany){let c=k({adapter:a,config:j,parentTableName:A,prefix:`${A}_`,throwValidationError:M,versionsCustomName:K}),f={order:{name:"order",type:"integer",notNull:!0},parent:{name:"parent_id",type:T,notNull:!0},value:{name:"value",type:"enum",enumName:k({adapter:a,config:j,parentTableName:A,prefix:`enum_${A}_`,target:"enumName",throwValidationError:M}),options:d}},h={orderIdx:{name:`${c}_order_idx`,on:"order"},parentIdx:{name:`${c}_parent_idx`,on:"parent"}},i={parentFk:{name:`${c}_parent_fk`,columns:["parent"],foreignColumns:[{name:"id",table:C}],onDelete:"cascade"}};(Y&&a.payload.config.localization||L||w)&&(f.locale={name:"locale",type:"enum",locale:!0,notNull:!0},h.localeIdx={name:`${c}_locale_idx`,on:"locale"}),j.index&&(h.value={name:`${c}_value_idx`,on:"value"}),v({adapter:a,baseColumns:f,baseForeignKeys:i,baseIndexes:h,blocksTableNameMap:b,disableNotNull:e,disableUnique:g,fields:[],parentIsLocalized:B||j.localized,rootTableName:H,setColumnID:I,tableName:c,versions:K}),E.set(X,{type:"many",localized:!1,target:c}),a.rawRelations[c]={parent:{type:"one",fields:[{name:"parent",table:c}],references:["id"],relationName:X,to:C}}}else U[X]=t({name:W,type:"enum",enumName:c,options:d},j);break}case"relationship":case"upload":if(Array.isArray(j.relationTo))j.relationTo.forEach(a=>{D.add(a),!j.unique||g||f||J.add(a)});else if(j.hasMany)D.add(j.relationTo),!j.unique||g||f||J.add(j.relationTo);else{let b=a.payload.collections[j.relationTo].config,c=a.tableNameMap.get(i(j.relationTo)),d="uuid"===a.idType?"uuid":"integer",f=b.fields.find(a=>(0,o.Z7)(a)&&"id"===a.name);f?.type==="number"&&(d="numeric"),f?.type==="text"&&(d="varchar"),U[X]={name:`${W}_id`,type:d,reference:{name:"id",onDelete:"set null",table:c}},E.set(X,{type:"one",localized:a.payload.config.localization&&(Y||w),target:c}),e||!j.required||j.admin?.condition||(U[X].notNull=!0);break}(Y&&a.payload.config.localization||L)&&(O=!0);break;case"text":if(j.hasMany){if((Y&&a.payload.config.localization||L||w)&&(Q=!0),j.index?P="index":P||(P=!0),j.unique)throw new l.s("Unique is not supported in Postgres for hasMany text fields.")}else U[X]=t({name:W,type:"varchar"},j)}let Z=j.admin&&j.admin.condition;!e&&U[X]&&"required"in j&&j.required&&!Z&&(U[X].notNull=!0)}),{hasLocalizedField:N,hasLocalizedManyNumberField:S,hasLocalizedManyTextField:Q,hasLocalizedRelationshipField:O,hasManyNumberField:R,hasManyTextField:P}},v=({adapter:a,baseColumns:b={},baseForeignKeys:c={},baseIndexes:d={},blocksTableNameMap:e,compoundIndexes:f,disableNotNull:g,disableRelsTableUnique:h=!1,disableUnique:j=!1,fields:o,parentIsLocalized:p,rootRelationships:q,rootRelationsToBuild:r,rootTableIDColType:s,rootTableName:t,rootUniqueRelationships:v,setColumnID:w,tableName:x,timestamps:y,versions:z,withinLocalizedArrayOrBlock:A})=>{let B,C,D,E,F=!t,G=t||x,H=b,I=d,J={},K={},L=q||new Set,M=v||new Set,N=new Map,O=w({adapter:a,columns:H,fields:o}),{hasLocalizedField:P,hasLocalizedManyNumberField:Q,hasLocalizedManyTextField:R,hasLocalizedRelationshipField:S,hasManyNumberField:T,hasManyTextField:U}=u({adapter:a,blocksTableNameMap:e,columns:H,disableNotNull:g,disableRelsTableUnique:h,disableUnique:j,fields:o,indexes:I,localesColumns:J,localesIndexes:K,newTableName:x,parentIsLocalized:p,parentTableName:x,relationships:L,relationsToBuild:N,rootRelationsToBuild:r||N,rootTableIDColType:s||O,rootTableName:G,setColumnID:w,uniqueRelationships:M,versions:z,withinLocalizedArrayOrBlock:A}),V=new Map,W=new Map;N.forEach(({type:a,localized:b,relationName:c,target:d},e)=>{(b?V:W).set(e,{type:a,relationName:c,target:d})}),y&&(H.createdAt={name:"created_at",type:"timestamp",defaultNow:!0,mode:"string",notNull:!0,precision:3,withTimezone:!0},H.updatedAt={name:"updated_at",type:"timestamp",defaultNow:!0,mode:"string",notNull:!0,precision:3,withTimezone:!0});let X={name:x,columns:H,foreignKeys:c,indexes:I};if(a.rawTables[x]=X,P||V.size){let b=`${x}${a.localesSuffix}`;J.id={name:"id",type:"serial",primaryKey:!0},J._locale={name:"_locale",type:"enum",locale:!0,notNull:!0},J._parentID={name:"_parent_id",type:O,notNull:!0},K._localeParent={name:`${b}_locale_parent_id_unique`,on:["_locale","_parentID"],unique:!0},B={name:b,columns:J,foreignKeys:{_parentIdFk:{name:`${b}_parent_id_fk`,columns:["_parentID"],foreignColumns:[{name:"id",table:x}],onDelete:"cascade"}},indexes:K},a.rawTables[b]=B;let c={_parentID:{type:"one",fields:[{name:"_parentID",table:b}],references:["id"],relationName:"_locales",to:x}};V.forEach(({type:a,target:d},e)=>{"one"===a&&(c[e]={type:"one",fields:[{name:e,table:b}],references:["id"],relationName:e,to:d}),"many"===a&&(c[e]={type:"many",relationName:e,to:d})}),a.rawRelations[b]=c}if(f)for(let b of f){let c=null,d=[],e=()=>c?B:X;for(let{path:a,pathHasLocalized:f}of b.fields){if(null===c&&(c=f),c!==f)throw new l.s(`Compound indexes within localized and non localized fields are not supported in SQL. Expected ${a} to be ${c?"non":""} localized.`);let b=a.replaceAll(".","_");if(!e().columns[b])throw new l.s(`Column ${b} for compound index on ${a} was not found in the ${e().name} table.`);d.push(b)}c&&d.push("_locale");let f=d.join("_");f.length>63&&(f="compound_index");let g=m({name:f,adapter:a});e().indexes[g]={name:g,on:d,unique:!j&&b.unique}}if(F){if(U){let b=`${G}_texts`,c={id:{name:"id",type:"serial",primaryKey:!0},order:{name:"order",type:"integer",notNull:!0},parent:{name:"parent_id",type:O,notNull:!0},path:{name:"path",type:"varchar",notNull:!0},text:{name:"text",type:"varchar"}};R&&(c.locale={name:"locale",type:"enum",locale:!0});let d={orderParentIdx:{name:`${b}_order_parent_idx`,on:["order","parent"]}};"index"===U&&(d.text_idx={name:`${b}_text_idx`,on:"text"}),R&&(d.localeParent={name:`${b}_locale_parent`,on:["locale","parent"]}),C={name:b,columns:c,foreignKeys:{parentFk:{name:`${b}_parent_fk`,columns:["parent"],foreignColumns:[{name:"id",table:x}],onDelete:"cascade"}},indexes:d},a.rawTables[b]=C,a.rawRelations[b]={parent:{type:"one",fields:[{name:"parent",table:b}],references:["id"],relationName:"_texts",to:x}}}if(T){let b=`${G}_numbers`,c={id:{name:"id",type:"serial",primaryKey:!0},number:{name:"number",type:"numeric"},order:{name:"order",type:"integer",notNull:!0},parent:{name:"parent_id",type:O,notNull:!0},path:{name:"path",type:"varchar",notNull:!0}};Q&&(c.locale={name:"locale",type:"enum",locale:!0});let d={orderParentIdx:{name:`${b}_order_parent_idx`,on:["order","parent"]}};"index"===T&&(d.numberIdx={name:`${b}_number_idx`,on:"number"}),Q&&(d.localeParent={name:`${b}_locale_parent`,on:["locale","parent"]}),D={name:b,columns:c,foreignKeys:{parentFk:{name:`${b}_parent_fk`,columns:["parent"],foreignColumns:[{name:"id",table:x}],onDelete:"cascade"}},indexes:d},a.rawTables[b]=D,a.rawRelations[b]={parent:{type:"one",fields:[{name:"parent",table:b}],references:["id"],relationName:"_numbers",to:x}}}if(L.size){let b={id:{name:"id",type:"serial",primaryKey:!0},order:{name:"order",type:"integer"},parent:{name:"parent_id",type:O,notNull:!0},path:{name:"path",type:"varchar",notNull:!0}};S&&(b.locale={name:"locale",type:"enum",locale:!0});let c=`${x}${a.relationshipsSuffix}`,d={order:{name:`${c}_order_idx`,on:"order"},parentIdx:{name:`${c}_parent_idx`,on:"parent"},pathIdx:{name:`${c}_path_idx`,on:"path"}};S&&(d.localeIdx={name:`${c}_locale_idx`,on:"locale"});let e={parentFk:{name:`${c}_parent_fk`,columns:["parent"],foreignColumns:[{name:"id",table:x}],onDelete:"cascade"}};L.forEach(f=>{let g=a.payload.collections[f].config,h=k({adapter:a,config:g,throwValidationError:!0}),l="uuid"===a.idType?"uuid":"integer",o=a.payload.collections[g.slug]?.customIDType;"number"===o&&(l="numeric"),"text"===o&&(l="varchar");let p=`${f}ID`;b[p]={name:`${h}_id`,type:l},e[`${f}IdFk`]={name:`${c}_${i(f)}_fk`,columns:[p],foreignColumns:[{name:"id",table:h}],onDelete:"cascade"};let q=[p],r=!j&&M.has(f);r&&q.push("path"),S&&q.push("locale");let s=m({name:`${c}_${h}_id`,adapter:a});d[s]={name:s,on:q,unique:r}}),E={name:c,columns:b,foreignKeys:e,indexes:d},a.rawTables[c]=E;let f={parent:{type:"one",fields:[{name:"parent",table:c}],references:["id"],relationName:"_rels",to:x}};L.forEach(b=>{let d=k({adapter:a,config:a.payload.collections[b].config,throwValidationError:!0}),e=`${b}ID`;f[e]={type:"one",fields:[{name:e,table:c}],references:["id"],relationName:b,to:d}}),a.rawRelations[c]=f}}let Y={};return W.forEach(({type:a,relationName:b,target:c},d)=>{"one"===a&&(Y[d]={type:"one",fields:[{name:d,table:x}],references:["id"],relationName:d,to:c}),"many"===a&&(Y[d]={type:"many",relationName:b||d,to:c})}),P&&(Y._locales={type:"many",relationName:"_locales",to:B.name}),F&&C&&(Y._texts={type:"many",relationName:"_texts",to:C.name}),F&&D&&(Y._numbers={type:"many",relationName:"_numbers",to:D.name}),L.size&&E&&(Y._rels={type:"many",relationName:"_rels",to:E.name}),a.rawRelations[x]=Y,{hasLocalizedManyNumberField:Q,hasLocalizedManyTextField:R,hasLocalizedRelationshipField:S,hasManyNumberField:T,hasManyTextField:U,relationsToBuild:N}},w=({adapter:a,setColumnID:b})=>{a.indexes=new Set,a.payload.config.collections.forEach(b=>{k({adapter:a,config:b}),b.versions&&k({adapter:a,config:b,versions:!0,versionsCustomName:!0})}),a.payload.config.collections.forEach(c=>{let d=a.tableNameMap.get(i(c.slug)),e=a.payload.config,h={};if(c.upload.filenameCompoundIndex&&(h.filename_compound_index={name:`${d}_filename_compound_idx`,on:c.upload.filenameCompoundIndex.map(a=>a),unique:!0}),v({adapter:a,blocksTableNameMap:{},compoundIndexes:c.sanitizedIndexes,disableNotNull:!!c?.versions?.drafts,disableUnique:!1,fields:c.flattenedFields,parentIsLocalized:!1,setColumnID:b,tableName:d,timestamps:c.timestamps,versions:!1}),c.versions){let d=a.tableNameMap.get(`_${i(c.slug)}${a.versionsSuffix}`),h=(0,f.c)(e,c,!0);v({adapter:a,blocksTableNameMap:{},compoundIndexes:g({indexes:c.sanitizedIndexes}),disableNotNull:!!c.versions?.drafts,disableUnique:!0,fields:h,parentIsLocalized:!1,setColumnID:b,tableName:d,timestamps:!0,versions:!0})}}),a.payload.config.globals.forEach(c=>{let d=k({adapter:a,config:c});if(v({adapter:a,blocksTableNameMap:{},disableNotNull:!!c?.versions?.drafts,disableUnique:!1,fields:c.flattenedFields,parentIsLocalized:!1,setColumnID:b,tableName:d,timestamps:!1,versions:!1}),c.versions){let d=k({adapter:a,config:c,versions:!0,versionsCustomName:!0}),e=a.payload.config,f=(0,h.p)(e,c,!0);v({adapter:a,blocksTableNameMap:{},disableNotNull:!!c.versions?.drafts,disableUnique:!0,fields:f,parentIsLocalized:!1,setColumnID:b,tableName:d,timestamps:!0,versions:!0})}})},{Symbol:x}=c(56704).XI,y=({columns:a,extraConfig:b,table:c})=>{let d=Object.getOwnPropertySymbols(c).find(a=>a.description?.includes("InlineForeignKeys"));if(!d)throw new j.L("Error when finding InlineForeignKeys Symbol",500);if(a)for(let[b,e]of Object.entries(a)){let a=e.build(c);c[b]=a,c[d].push(...e.buildForeignKeys(a,c)),c[x.Columns][b]=a,c[x.ExtraConfigColumns][b]="buildExtraConfigColumn"in e?e.buildExtraConfigColumn(c):a}if(b){let a=c[x.ExtraConfigBuilder];c[x.ExtraConfigBuilder]=c=>({...a(c),...b(c)})}},z=async({type:a,adapter:b})=>{for(let c of b[a]){let a=await c({adapter:b,extendTable:y,schema:{enums:b.enums,relations:b.relations,tables:b.tables}});a.enums&&(b.enums=a.enums),b.tables=a.tables,b.relations=a.relations}};var A=c(71540),B=c(20813),C=c(67624),D=c(74196),E=c(37593);class F{constructor(a,b){this.name=a,this.unique=b}static [E.i]="SQLiteIndexBuilderOn";on(...a){return new G(this.name,a,this.unique)}}class G{static [E.i]="SQLiteIndexBuilder";config;constructor(a,b,c){this.config={name:a,columns:b,unique:c,where:void 0}}where(a){return this.config.where=a,this}build(a){return new H(this.config,a)}}class H{static [E.i]="SQLiteIndex";config;constructor(a,b){this.config={...a,table:b}}}function I(a){return new F(a,!1)}function J(a){return new F(a,!0)}var K=c(67928),L=c(94441),M=c(2437);let N={integer:B.nd,numeric:C.sH,text:D.Qq},O=({adapter:a,locales:b,rawTable:c})=>{let d={};for(let[e,f]of Object.entries(c.columns)){switch(f.type){case"boolean":d[e]=(0,B.nd)(f.name,{mode:"boolean"});break;case"enum":"locale"in f?d[e]=(0,D.Qq)(f.name,{enum:b}):d[e]=(0,D.Qq)(f.name,{enum:f.options});break;case"geometry":case"jsonb":d[e]=(0,D.Qq)(f.name,{mode:"json"});break;case"numeric":d[e]=(0,C.sH)(f.name,{mode:"number"});break;case"serial":d[e]=(0,B.nd)(f.name);break;case"timestamp":{let a=(0,D.Qq)(f.name);f.defaultNow&&(a=a.default((0,A.ll)`(strftime('%Y-%m-%dT%H:%M:%fZ', 'now'))`)),d[e]=a;break}case"uuid":{let a=(0,D.Qq)(f.name,{length:36});f.defaultRandom&&(a=a.$defaultFn(()=>(0,M.A)())),d[e]=a;break}case"varchar":d[e]=(0,D.Qq)(f.name);break;default:d[e]=N[f.type](f.name)}if(f.reference){let b=f.reference;d[e].references(()=>a.tables[b.table][b.name],{onDelete:b.onDelete})}if(f.primaryKey){let a;"integer"===f.type&&f.autoIncrement&&(a={autoIncrement:!0}),d[e].primaryKey(a)}if(f.notNull&&d[e].notNull(),void 0!==f.default){let a=f.default;"geometry"===f.type&&Array.isArray(f.default)&&(a=JSON.stringify({type:"Point",coordinates:[f.default[0],f.default[1]]})),d[e].default(a)}}let e=b=>{let d={};if(c.indexes)for(let[a,e]of Object.entries(c.indexes)){let c=I;e.unique&&(c=J),Array.isArray(e.on)?e.on.length&&(d[a]=c(e.name).on(...e.on.map(a=>b[a]))):d[a]=c(e.name).on(b[e.on])}if(c.foreignKeys)for(let[e,f]of Object.entries(c.foreignKeys)){let c=(0,K.mt)({name:f.name,columns:f.columns.map(a=>b[a]),foreignColumns:f.foreignColumns.map(b=>a.tables[b.table][b.name])});f.onDelete&&(c=c.onDelete(f.onDelete)),f.onUpdate&&(c=c.onDelete(f.onUpdate)),d[e]=c}return d};a.tables[c.name]=(0,L.D)(c.name,d,e)},P=({adapter:a,columns:b,fields:c})=>{let d=c.find(a=>"id"===a.name);if(d){if("number"===d.type)return b.id={name:"id",type:"numeric",primaryKey:!0},"numeric";if("text"===d.type)return b.id={name:"id",type:"text",primaryKey:!0},"text"}return"uuid"===a.idType?(b.id={name:"id",type:"uuid",defaultRandom:!0,primaryKey:!0},"uuid"):(b.id={name:"id",type:"integer",autoIncrement:a.autoIncrement,primaryKey:!0},"integer")},Q=async function(){let a;this.rawRelations={},this.rawTables={},this.payload.config.localization&&(a=this.payload.config.localization.locales.map(({code:a})=>a));let b=this;for(let c in w({adapter:b,setColumnID:P}),await z({type:"beforeSchemaInit",adapter:this}),this.rawTables)O({adapter:b,locales:a,rawTable:this.rawTables[c]});e({adapter:b}),await z({type:"afterSchemaInit",adapter:this}),this.schema={...this.tables,...this.relations}}},14822:(a,b,c)=>{"use strict";c.r(b),c.d(b,{buildQueryString:()=>e});var d=c(53349);function e(a){let b=[];for(let c of Object.keys(a).sort()){let e=a[c];if(c=(0,d.o)(c),Array.isArray(e))for(let a=0,f=e.length;a<f;a++)b.push(`${c}=${(0,d.o)(e[a])}`);else{let a=c;(e||"string"==typeof e)&&(a+=`=${(0,d.o)(e)}`),b.push(a)}}return b.join("&")}},14995:(a,b,c)=>{"use strict";let{isUSVString:d,bufferToLowerCasedHeaderName:e}=c(33895),{utf8DecodeBytes:f}=c(45293),{HTTP_TOKEN_CODEPOINTS:g,isomorphicDecode:h}=c(86541),{makeEntry:i}=c(40112),{webidl:j}=c(2312),k=c(34589),{File:l}=c(4573),m=globalThis.File??l,o=Buffer.from('form-data; name="'),p=Buffer.from("filename"),q=Buffer.from("--"),r=Buffer.from("--\r\n");function s(a){for(let b=0;b<a.length;++b)if((-128&a.charCodeAt(b))!=0)return!1;return!0}function t(a,b){let c=null,d=null,f=null,i=null;for(;;){if(13===a[b.position]&&10===a[b.position+1]){if(null===c)throw y("header name is null");return{name:c,filename:d,contentType:f,encoding:i}}let j=v(a=>10!==a&&13!==a&&58!==a,a,b);if(j=w(j,!0,!0,a=>9===a||32===a),!g.test(j.toString()))throw y("header name does not match the field-name token production");if(58!==a[b.position])throw y("expected :");switch(b.position++,v(a=>32===a||9===a,a,b),e(j)){case"content-disposition":if(c=d=null,!x(a,o,b))throw y('expected form-data; name=" for content-disposition header');if(b.position+=17,c=u(a,b),59===a[b.position]&&32===a[b.position+1]){let c={position:b.position+2};if(x(a,p,c))if(42===a[c.position+8]){c.position+=10,v(a=>32===a||9===a,a,c);let e=v(a=>32!==a&&13!==a&&10!==a,a,c);if(117!==e[0]&&85!==e[0]||116!==e[1]&&84!==e[1]||102!==e[2]&&70!==e[2]||45!==e[3]||56!==e[4])throw y("unknown encoding, expected utf-8''");d=decodeURIComponent(new TextDecoder().decode(e.subarray(7))),b.position=c.position}else b.position+=11,v(a=>32===a||9===a,a,b),b.position++,d=u(a,b)}break;case"content-type":{let c=v(a=>10!==a&&13!==a,a,b);f=h(c=w(c,!1,!0,a=>9===a||32===a));break}case"content-transfer-encoding":{let c=v(a=>10!==a&&13!==a,a,b);i=h(c=w(c,!1,!0,a=>9===a||32===a));break}default:v(a=>10!==a&&13!==a,a,b)}if(13!==a[b.position]&&10!==a[b.position+1])throw y("expected CRLF");b.position+=2}}function u(a,b){k(34===a[b.position-1]);let c=v(a=>10!==a&&13!==a&&34!==a,a,b);if(34!==a[b.position])throw y('expected "');return b.position++,c=new TextDecoder().decode(c).replace(/%0A/ig,"\n").replace(/%0D/ig,"\r").replace(/%22/g,'"')}function v(a,b,c){let d=c.position;for(;d<b.length&&a(b[d]);)++d;return b.subarray(c.position,c.position=d)}function w(a,b,c,d){let e=0,f=a.length-1;if(b)for(;e<a.length&&d(a[e]);)e++;if(c)for(;f>0&&d(a[f]);)f--;return 0===e&&f===a.length-1?a:a.subarray(e,f+1)}function x(a,b,c){if(a.length<b.length)return!1;for(let d=0;d<b.length;d++)if(b[d]!==a[c.position+d])return!1;return!0}function y(a){return TypeError("Failed to parse body as FormData.",{cause:TypeError(a)})}a.exports={multipartFormDataParser:function(a,b){k("failure"!==b&&"multipart/form-data"===b.essence);let c=b.parameters.get("boundary");if(void 0===c)throw y("missing boundary in content-type header");let e=Buffer.from(`--${c}`,"utf8"),g=[],h={position:0};for(;13===a[h.position]&&10===a[h.position+1];)h.position+=2;let l=a.length;for(;10===a[l-1]&&13===a[l-2];)l-=2;for(l!==a.length&&(a=a.subarray(0,l));;){let b,c;if(a.subarray(h.position,h.position+e.length).equals(e))h.position+=e.length;else throw y("expected a value starting with -- and the boundary");if(h.position===a.length-2&&x(a,q,h)||h.position===a.length-4&&x(a,r,h))return g;if(13!==a[h.position]||10!==a[h.position+1])throw y("expected CRLF");h.position+=2;let{name:l,filename:o,contentType:p,encoding:u}=t(a,h);h.position+=2;{let c=a.indexOf(e.subarray(2),h.position);if(-1===c)throw y("expected boundary after body");b=a.subarray(h.position,c-4),h.position+=b.length,"base64"===u&&(b=Buffer.from(b.toString(),"base64"))}if(13!==a[h.position]||10!==a[h.position+1])throw y("expected CRLF");h.position+=2,null!==o?(s(p??="text/plain")||(p=""),c=new m([b],o,{type:p})):c=f(Buffer.from(b)),k(d(l)),k("string"==typeof c&&d(c)||j.is.File(c)),g.push(i(l,c,o))}},validateBoundary:function(a){let b=a.length;if(b<27||b>70)return!1;for(let c=0;c<b;++c){let b=a.charCodeAt(c);if(!(b>=48&&b<=57||b>=65&&b<=90||b>=97&&b<=122||39===b||45===b||95===b))return!1}return!0}}},15033:(a,b,c)=>{"use strict";let d=c(34589),{Readable:e}=c(57075),f=c(33895),g=c(30531),h=c(39568),i=c(51448),{assertCacheStore:j,assertCacheMethods:k,makeCacheKey:l,normaliseHeaders:m,parseCacheControlHeader:o}=c(18430),{AbortError:p}=c(212);function q(a,b){if(b?.["no-cache"]||a.cacheControlDirectives?.["no-cache"]&&!Array.isArray(a.cacheControlDirectives["no-cache"]))return!0;let c=Date.now();return c>a.staleAt?!b?.["max-stale"]||c>a.staleAt+1e3*b["max-stale"]:!!b?.["min-fresh"]&&a.staleAt-c<=1e3*b["min-fresh"]}function r(a,b,c,d,e,f){if(f?.["only-if-cached"]){let a=!1;try{if("function"==typeof d.onConnect&&(d.onConnect(()=>{a=!0}),a)||"function"==typeof d.onHeaders&&(d.onHeaders(504,[],()=>{},"Gateway Timeout"),a))return;"function"==typeof d.onComplete&&d.onComplete([])}catch(a){"function"==typeof d.onError&&d.onError(a)}return!0}return a(e,new g(b,c,d))}function s(a,b,c,g,h,i){let j=f.isStream(c.body)?c.body:e.from(c.body??[]);d(!j.destroyed,"stream should not be destroyed"),d(!j.readableDidRead,"stream should not be readableDidRead");let k={resume(){j.resume()},pause(){j.pause()},get paused(){return j.isPaused()},get aborted(){return j.destroyed},get reason(){return j.errored},abort(a){j.destroy(a??new p)}};if(j.on("error",function(b){if(!this.readableEnded)if("function"==typeof a.onResponseError)a.onResponseError(k,b);else throw b}).on("close",function(){this.errored||a.onResponseEnd?.(k,{})}),a.onRequestStart?.(k,h),j.destroyed)return;let l={...c.headers,age:String(g)};i&&(l.warning='110 - "response is stale"'),a.onResponseStart?.(k,c.statusCode,l,c.statusMessage),"HEAD"===b.method?j.destroy():j.on("data",function(b){a.onResponseData?.(k,b)})}function t(a,b,c,d,e,h,j){if(!j)return r(a,b,c,d,e,h);let k=Date.now();if(k>j.deleteAt)return a(e,new g(b,c,d));let l=Math.round((k-j.cachedAt)/1e3);if(h?.["max-age"]&&l>=h["max-age"])return a(e,d);if(q(j,h)){if(f.isStream(e.body)&&0!==f.bodyLength(e.body))return a(e,new g(b,c,d));let m=!1,o=j.cacheControlDirectives["stale-if-error"]??h?.["stale-if-error"];o&&(m=k<j.staleAt+1e3*o);let p={...e.headers,"if-modified-since":new Date(j.cachedAt).toUTCString()};return j.etag&&(p["if-none-match"]=j.etag),j.vary&&(p={...p,...j.vary}),a({...e,headers:p},new i((a,b)=>{a?s(d,e,j,l,b,!0):f.isStream(j.body)&&j.body.on("error",()=>{}).destroy()},new g(b,c,d),m))}f.isStream(e.body)&&e.body.on("error",()=>{}).destroy(),s(d,e,j,l,null,!1)}a.exports=(a={})=>{let{store:b=new h,methods:c=["GET"],cacheByDefault:d,type:e="shared"}=a;if("object"!=typeof a||null===a)throw TypeError(`expected type of opts to be an Object, got ${null===a?"null":typeof a}`);if(j(b,"opts.store"),k(c,"opts.methods"),void 0!==d&&"number"!=typeof d)throw TypeError(`exepcted opts.cacheByDefault to be number or undefined, got ${typeof d}`);if(void 0!==e&&"shared"!==e&&"private"!==e)throw TypeError(`exepcted opts.type to be shared, private, or undefined, got ${typeof e}`);let g={store:b,methods:c,cacheByDefault:d,type:e},i=f.safeHTTPMethods.filter(a=>!1===c.includes(a));return a=>(c,d)=>{if(!c.origin||i.includes(c.method))return a(c,d);c={...c,headers:m(c)};let e=c.headers?.["cache-control"]?o(c.headers["cache-control"]):void 0;if(e?.["no-store"])return a(c,d);let f=l(c),h=b.get(f);return h&&"function"==typeof h.then?h.then(b=>{t(a,g,f,d,c,e,b)}):t(a,g,f,d,c,e,h),!0}}},15318:(a,b,c)=>{"use strict";c.d(b,{R:()=>d});let d=a=>`AWS_BEARER_TOKEN_${a.replace(/[\s-]/g,"_").toUpperCase()}`},15345:(a,b,c)=>{"use strict";let{isUtf8:d}=c(57047),{hasBlob:e}=c(99753);function f(a){let b=a.length,c=0;for(;c<b;)if((128&a[c])==0)c++;else if((224&a[c])==192){if(c+1===b||(192&a[c+1])!=128||(254&a[c])==192)return!1;c+=2}else if((240&a[c])==224){if(c+2>=b||(192&a[c+1])!=128||(192&a[c+2])!=128||224===a[c]&&(224&a[c+1])==128||237===a[c]&&(224&a[c+1])==160)return!1;c+=3}else{if((248&a[c])!=240||c+3>=b||(192&a[c+1])!=128||(192&a[c+2])!=128||(192&a[c+3])!=128||240===a[c]&&(240&a[c+1])==128||244===a[c]&&a[c+1]>143||a[c]>244)return!1;c+=4}return!0}if(a.exports={isBlob:function(a){return e&&"object"==typeof a&&"function"==typeof a.arrayBuffer&&"string"==typeof a.type&&"function"==typeof a.stream&&("Blob"===a[Symbol.toStringTag]||"File"===a[Symbol.toStringTag])},isValidStatusCode:function(a){return a>=1e3&&a<=1014&&1004!==a&&1005!==a&&1006!==a||a>=3e3&&a<=4999},isValidUTF8:f,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},d)a.exports.isValidUTF8=function(a){return a.length<24?f(a):d(a)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let b=c(4018);a.exports.isValidUTF8=function(a){return a.length<32?f(a):b(a)}}catch(a){}},15366:(a,b,c)=>{"use strict";let{kClients:d}=c(25394),e=c(43008),{kAgent:f,kMockAgentSet:g,kMockAgentGet:h,kDispatches:i,kIsMockActive:j,kNetConnect:k,kGetNetConnect:l,kOptions:m,kFactory:o,kMockAgentRegisterCallHistory:p,kMockAgentIsCallHistoryEnabled:q,kMockAgentAddCallHistoryLog:r,kMockAgentMockCallHistoryInstance:s,kMockAgentAcceptsNonStandardSearchParameters:t,kMockCallHistoryAddLog:u}=c(77938),v=c(19764),w=c(25929),{matchValue:x,normalizeSearchParams:y,buildAndValidateMockOptions:z}=c(26810),{InvalidArgumentError:A,UndiciError:B}=c(212),C=c(63780),D=c(60241),{MockCallHistory:E}=c(78238);class F extends C{constructor(a){super(a);let b=z(a);if(this[k]=!0,this[j]=!0,this[q]=b?.enableCallHistory??!1,this[t]=b?.acceptNonStandardSearchParameters??!1,a?.agent&&"function"!=typeof a.agent.dispatch)throw new A("Argument opts.agent must implement Agent");let c=a?.agent?a.agent:new e(a);this[f]=c,this[d]=c[d],this[m]=b,this[q]&&this[p]()}get(a){let b=this[h](a);return b||(b=this[o](a),this[g](a,b)),b}dispatch(a,b){this.get(a.origin),this[r](a);let c=this[t],d={...a};if(c&&d.path){let[a,b]=d.path.split("?"),e=y(b,c);d.path=`${a}?${e}`}return this[f].dispatch(d,b)}async close(){this.clearCallHistory(),await this[f].close(),this[d].clear()}deactivate(){this[j]=!1}activate(){this[j]=!0}enableNetConnect(a){if("string"==typeof a||"function"==typeof a||a instanceof RegExp)Array.isArray(this[k])?this[k].push(a):this[k]=[a];else if(void 0===a)this[k]=!0;else throw new A("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[k]=!1}enableCallHistory(){return this[q]=!0,this}disableCallHistory(){return this[q]=!1,this}getCallHistory(){return this[s]}clearCallHistory(){void 0!==this[s]&&this[s].clear()}get isMockActive(){return this[j]}[p](){void 0===this[s]&&(this[s]=new E)}[r](a){this[q]&&(this[p](),this[s][u](a))}[g](a,b){this[d].set(a,{count:0,dispatcher:b})}[o](a){let b=Object.assign({agent:this},this[m]);return this[m]&&1===this[m].connections?new v(a,b):new w(a,b)}[h](a){let b=this[d].get(a);if(b?.dispatcher)return b.dispatcher;if("string"!=typeof a){let b=this[o]("http://localhost:9999");return this[g](a,b),b}for(let[b,c]of Array.from(this[d]))if(c&&"string"!=typeof b&&x(b,a)){let b=this[o](a);return this[g](a,b),b[i]=c.dispatcher[i],b}}[l](){return this[k]}pendingInterceptors(){return Array.from(this[d].entries()).flatMap(([a,b])=>b.dispatcher[i].map(b=>({...b,origin:a}))).filter(({pending:a})=>a)}assertNoPendingInterceptors({pendingInterceptorsFormatter:a=new D}={}){let b=this.pendingInterceptors();if(0!==b.length)throw new B(1===b.length?`1 interceptor is pending:

${a.format(b)}`.trim():`${b.length} interceptors are pending:

${a.format(b)}`.trim())}}a.exports=F},15391:(a,b,c)=>{"use strict";c.d(b,{m:()=>i});var d=c(53216),e=c(57801),f=c(46985);let g=({headers:a,payload:b,user:c})=>{let d,g,h=a.get("host");h&&(d=(0,f.Q)(h,b.secret)),c?.id&&(g=(0,f.Q)(String(c.id),b.secret)),(0,e.BI)({event:{type:"admin-init",domainID:d,userID:g},payload:b})};var h=c(68208);let i=async a=>{let{req:b}=a;g(b);try{return(0,h.R)({req:b})}catch(a){throw await (0,d.J)(b),a}}},15426:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(86397),e=c(49943),f=c(55613),g=c(30737);b.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,d.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,d._)`{limit: ${a}}`},code(a){let{schema:b,parentSchema:c,it:d}=a,{prefixItems:h}=c;d.items=!0,(0,e.alwaysValidSchema)(d,b)||(h?(0,g.validateAdditionalItems)(a,h):a.ok((0,f.validateArray)(a)))}}},15579:(a,b,c)=>{"use strict";c.d(b,{A:()=>j});let d=60,e=3600,f=86400,g=604800,h=0x1e187e0,i=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,j=a=>{let b,c=i.exec(a);if(!c||c[4]&&c[1])throw TypeError("Invalid time period format");let j=parseFloat(c[2]);switch(c[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":b=Math.round(j);break;case"minute":case"minutes":case"min":case"mins":case"m":b=Math.round(j*d);break;case"hour":case"hours":case"hr":case"hrs":case"h":b=Math.round(j*e);break;case"day":case"days":case"d":b=Math.round(j*f);break;case"week":case"weeks":case"w":b=Math.round(j*g);break;default:b=Math.round(j*h)}return"-"===c[1]||"ago"===c[4]?-b:b}},15800:a=>{"use strict";a.exports=(a,b={})=>{let c=Number.isSafeInteger(parseInt(b.margin))?Array(parseInt(b.margin)).fill(" ").join(""):b.margin||"",d=b.width;return(a||"").split(/\r?\n/g).map(a=>a.split(/\s+/g).reduce((a,b)=>(b.length+c.length>=d||a[a.length-1].length+b.length+1<d?a[a.length-1]+=` ${b}`:a.push(`${c}${b}`),a),[c]).join("\n")).join("\n")}},15969:(a,b,c)=>{"use strict";function d(a,b,...c){if((c=c.filter(Boolean)).length>2){let b=c.pop();a+=`one of type ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of type ${c[0]} or ${c[1]}.`:a+=`of type ${c[0]}.`;return null==b?a+=` Received ${b}`:"function"==typeof b&&b.name?a+=` Received function ${b.name}`:"object"==typeof b&&null!=b&&b.constructor?.name&&(a+=` Received an instance of ${b.constructor.name}`),a}c.d(b,{A:()=>e,t:()=>f});let e=(a,...b)=>d("Key must be ",a,...b);function f(a,b,...c){return d(`Key for the ${a} algorithm must be `,b,...c)}},16063:(a,b,c)=>{"use strict";var d;c.d(b,{M2:()=>e,MS:()=>f,dB:()=>d}),function(a){a.MD5="md5",a.CRC32="crc32",a.CRC32C="crc32c",a.SHA1="sha1",a.SHA256="sha256"}(d||(d={}));let e=a=>{let b=[];return void 0!==a.sha256&&b.push({algorithmId:()=>d.SHA256,checksumConstructor:()=>a.sha256}),void 0!=a.md5&&b.push({algorithmId:()=>d.MD5,checksumConstructor:()=>a.md5}),{addChecksumAlgorithm(a){b.push(a)},checksumAlgorithms:()=>b}},f=a=>{let b={};return a.checksumAlgorithms().forEach(a=>{b[a.algorithmId()]=a.checksumConstructor()}),b}},16111:(a,b,c)=>{"use strict";c.d(b,{C:()=>e});var d=c(96879);class e extends d.m{name="CredentialsProviderError";constructor(a,b=!0){super(a,b),Object.setPrototypeOf(this,e.prototype)}}},16152:(a,b,c)=>{"use strict";c.r(b),c.d(b,{parseUrl:()=>e});var d=c(59828);let e=a=>{let b;if("string"==typeof a)return e(new URL(a));let{hostname:c,pathname:f,port:g,protocol:h,search:i}=a;return i&&(b=(0,d.parseQueryString)(i)),{hostname:c,port:g?parseInt(g):void 0,protocol:h,path:f,query:b}}},16225:(a,b,c)=>{"use strict";c.d(b,{Q:()=>f});var d=c(55511),e=c(930);let f=async({doc:a,password:b})=>{try{let{hash:c,salt:f}=a;if("string"==typeof f&&"string"==typeof c)return await new Promise((g,h)=>{d.pbkdf2(b,f,25e3,512,"sha256",(b,d)=>{b&&h(b),e(d,Buffer.from(c,"hex"))?g(a):h(Error("Invalid password"))})});return null}catch(a){return null}}},16235:(a,b,c)=>{"use strict";let d=c(40639);class e extends d{constructor(a={}){super(a)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(a){this.date.setFullYear(a.substr(-4))}toString(){let a=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?a.substr(-2):a}}a.exports=e},16723:a=>{"use strict";function b(a,b){return null!=a&&("hasOwn"in Object?Object.hasOwn(a,b):Object.prototype.hasOwnProperty.call(a,b))}function c(a,c,d,i,j,k,l,m){let o=j.length,p=o-1,q=d;var r,s,t,u,v,w=-1,x=null,y=!1,z=0,A=f();if(t=r=c[d],"object"==typeof r){for(;null!=r&&++w<o&&(z+=1,d=j[w],"*"===d||x||"object"==typeof r&&d in r);)if("*"!==d||("*"===x&&(y=!0),x=d,w===p)){if(x){let f=Object.keys(r);for(var B=0;B<f.length;B++){let o=f[B];if(v=r[o],u="*"===d,y)A=g(A,o,z),t=e(v,w-1,d,i,j,k,l,m,q,r,s,t,u,o,w,p,A,a,c[q],z+1);else if(u||"object"==typeof v&&null!==v&&d in v)if(t=u?v:v[d],s=w!==p?t:l?m?k(t,[...i,q,...j]):k(t):k,u){let b=h(g(A,o,z),t,c[q]);a.push(b),r[o]=s}else if(v[d]===s);else if(void 0===s&&void 0!==k||b(v,d)&&s===t)A=g(A,o,z);else{A=g(A,o,z);let b=h(g(A,d,z+1),t,c[q]);a.push(b),v[d]=s}}x=null}else{if(t=r[d],A=g(A,d,z),s=w!==p?t:l?m?k(t,[...i,q,...j]):k(t):k,b(r,d)&&s===t||void 0===s&&void 0!==k);else{let b=h(A,t,c[q]);a.push(b),r[d]=s}r=r[d]}if("object"!=typeof r)break}}}function d(a,b){for(var c=-1,d=b.length,e=a;null!=e&&++c<d;)e=e[b[c]];return e}function e(a,c,d,f,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x,y){if(0===c&&(r||"object"==typeof a&&null!==a&&d in a))if(q=r?a:a[d],p=t!==u?q:k?l?j(q,[...f,m,...i]):j(q):j,r){let a=h(v,q,x);w.push(a),o[s]=p}else if(a[d]===p);else if(void 0===p&&void 0!==j||b(a,d)&&p===q);else{let b=h(g(v,d,y+1),q,x);w.push(b),a[d]=p}for(let b in a)"object"==typeof a[b]&&(v=g(v,b,y),e(a[b],c-1,d,f,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x,y+1))}function f(){return{parent:null,key:null,children:[],depth:0}}function g(a,b,c){if(a.depth===c)return g(a.parent,b,c);var d={parent:a,key:b,depth:c,children:[]};return a.children.push(d),d}function h(a,b,c){let d=a,e=[];do e.push(d.key),d=d.parent;while(null!=d.parent);return{path:e,value:b,target:c}}a.exports={groupRedact:function a(a,b,c,e,f){let g=d(a,b);if(null==g||"string"==typeof g)return{keys:null,values:null,target:g,flat:!0};let h=Object.keys(g),i=h.length,j=b.length,k=f?[...b]:void 0,l=Array(i);for(var m=0;m<i;m++){let a=h[m];l[m]=g[a],f?(k[j]=a,g[a]=c(g[a],k)):e?g[a]=c(g[a]):g[a]=c}return{keys:h,values:l,target:g,flat:!0}},groupRestore:function a({keys:a,values:b,target:c}){if(null==c||"string"==typeof c)return;let d=a.length;for(var e=0;e<d;e++)c[a[e]]=b[e]},nestedRedact:function a(a,b,e,f,g,h,i){let j=d(b,e);if(null==j)return;let k=Object.keys(j),l=k.length;for(var m=0;m<l;m++)c(a,j,k[m],e,f,g,h,i);return a},nestedRestore:function a(a){for(let b=0;b<a.length;b++){let{target:c,path:d,value:e}=a[b],f=c;for(let a=d.length-1;a>0;a--)f=f[d[a]];f[d[0]]=e}}}},16725:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SPECIAL_HEADERS=b.MINOR=b.MAJOR=b.HTAB_SP_VCHAR_OBS_TEXT=b.QUOTED_STRING=b.CONNECTION_TOKEN_CHARS=b.HEADER_CHARS=b.TOKEN=b.HEX=b.URL_CHAR=b.USERINFO_CHARS=b.MARK=b.ALPHANUM=b.NUM=b.HEX_MAP=b.NUM_MAP=b.ALPHA=b.STATUSES_HTTP=b.H_METHOD_MAP=b.METHOD_MAP=b.METHODS_RTSP=b.METHODS_ICE=b.METHODS_HTTP=b.HEADER_STATE=b.FINISH=b.STATUSES=b.METHODS=b.LENIENT_FLAGS=b.FLAGS=b.TYPE=b.ERROR=void 0;let d=c(92497);b.ERROR={OK:0,INTERNAL:1,STRICT:2,CR_EXPECTED:25,LF_EXPECTED:3,UNEXPECTED_CONTENT_LENGTH:4,UNEXPECTED_SPACE:30,CLOSED_CONNECTION:5,INVALID_METHOD:6,INVALID_URL:7,INVALID_CONSTANT:8,INVALID_VERSION:9,INVALID_HEADER_TOKEN:10,INVALID_CONTENT_LENGTH:11,INVALID_CHUNK_SIZE:12,INVALID_STATUS:13,INVALID_EOF_STATE:14,INVALID_TRANSFER_ENCODING:15,CB_MESSAGE_BEGIN:16,CB_HEADERS_COMPLETE:17,CB_MESSAGE_COMPLETE:18,CB_CHUNK_HEADER:19,CB_CHUNK_COMPLETE:20,PAUSED:21,PAUSED_UPGRADE:22,PAUSED_H2_UPGRADE:23,USER:24,CB_URL_COMPLETE:26,CB_STATUS_COMPLETE:27,CB_METHOD_COMPLETE:32,CB_VERSION_COMPLETE:33,CB_HEADER_FIELD_COMPLETE:28,CB_HEADER_VALUE_COMPLETE:29,CB_CHUNK_EXTENSION_NAME_COMPLETE:34,CB_CHUNK_EXTENSION_VALUE_COMPLETE:35,CB_RESET:31},b.TYPE={BOTH:0,REQUEST:1,RESPONSE:2},b.FLAGS={CONNECTION_KEEP_ALIVE:1,CONNECTION_CLOSE:2,CONNECTION_UPGRADE:4,CHUNKED:8,UPGRADE:16,CONTENT_LENGTH:32,SKIPBODY:64,TRAILING:128,TRANSFER_ENCODING:512},b.LENIENT_FLAGS={HEADERS:1,CHUNKED_LENGTH:2,KEEP_ALIVE:4,TRANSFER_ENCODING:8,VERSION:16,DATA_AFTER_CLOSE:32,OPTIONAL_LF_AFTER_CR:64,OPTIONAL_CRLF_AFTER_CHUNK:128,OPTIONAL_CR_BEFORE_LF:256,SPACES_AFTER_CHUNK_SIZE:512},b.METHODS={DELETE:0,GET:1,HEAD:2,POST:3,PUT:4,CONNECT:5,OPTIONS:6,TRACE:7,COPY:8,LOCK:9,MKCOL:10,MOVE:11,PROPFIND:12,PROPPATCH:13,SEARCH:14,UNLOCK:15,BIND:16,REBIND:17,UNBIND:18,ACL:19,REPORT:20,MKACTIVITY:21,CHECKOUT:22,MERGE:23,"M-SEARCH":24,NOTIFY:25,SUBSCRIBE:26,UNSUBSCRIBE:27,PATCH:28,PURGE:29,MKCALENDAR:30,LINK:31,UNLINK:32,SOURCE:33,PRI:34,DESCRIBE:35,ANNOUNCE:36,SETUP:37,PLAY:38,PAUSE:39,TEARDOWN:40,GET_PARAMETER:41,SET_PARAMETER:42,REDIRECT:43,RECORD:44,FLUSH:45,QUERY:46},b.STATUSES={CONTINUE:100,SWITCHING_PROTOCOLS:101,PROCESSING:102,EARLY_HINTS:103,RESPONSE_IS_STALE:110,REVALIDATION_FAILED:111,DISCONNECTED_OPERATION:112,HEURISTIC_EXPIRATION:113,MISCELLANEOUS_WARNING:199,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,TRANSFORMATION_APPLIED:214,IM_USED:226,MISCELLANEOUS_PERSISTENT_WARNING:299,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,SWITCH_PROXY:306,TEMPORARY_REDIRECT:307,PERMANENT_REDIRECT:308,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,IM_A_TEAPOT:418,PAGE_EXPIRED:419,ENHANCE_YOUR_CALM:420,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE_UNOFFICIAL:430,REQUEST_HEADER_FIELDS_TOO_LARGE:431,LOGIN_TIMEOUT:440,NO_RESPONSE:444,RETRY_WITH:449,BLOCKED_BY_PARENTAL_CONTROL:450,UNAVAILABLE_FOR_LEGAL_REASONS:451,CLIENT_CLOSED_LOAD_BALANCED_REQUEST:460,INVALID_X_FORWARDED_FOR:463,REQUEST_HEADER_TOO_LARGE:494,SSL_CERTIFICATE_ERROR:495,SSL_CERTIFICATE_REQUIRED:496,HTTP_REQUEST_SENT_TO_HTTPS_PORT:497,INVALID_TOKEN:498,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,BANDWIDTH_LIMIT_EXCEEDED:509,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511,WEB_SERVER_UNKNOWN_ERROR:520,WEB_SERVER_IS_DOWN:521,CONNECTION_TIMEOUT:522,ORIGIN_IS_UNREACHABLE:523,TIMEOUT_OCCURED:524,SSL_HANDSHAKE_FAILED:525,INVALID_SSL_CERTIFICATE:526,RAILGUN_ERROR:527,SITE_IS_OVERLOADED:529,SITE_IS_FROZEN:530,IDENTITY_PROVIDER_AUTHENTICATION_ERROR:561,NETWORK_READ_TIMEOUT:598,NETWORK_CONNECT_TIMEOUT:599},b.FINISH={SAFE:0,SAFE_WITH_CB:1,UNSAFE:2},b.HEADER_STATE={GENERAL:0,CONNECTION:1,CONTENT_LENGTH:2,TRANSFER_ENCODING:3,UPGRADE:4,CONNECTION_KEEP_ALIVE:5,CONNECTION_CLOSE:6,CONNECTION_UPGRADE:7,TRANSFER_ENCODING_CHUNKED:8},b.METHODS_HTTP=[b.METHODS.DELETE,b.METHODS.GET,b.METHODS.HEAD,b.METHODS.POST,b.METHODS.PUT,b.METHODS.CONNECT,b.METHODS.OPTIONS,b.METHODS.TRACE,b.METHODS.COPY,b.METHODS.LOCK,b.METHODS.MKCOL,b.METHODS.MOVE,b.METHODS.PROPFIND,b.METHODS.PROPPATCH,b.METHODS.SEARCH,b.METHODS.UNLOCK,b.METHODS.BIND,b.METHODS.REBIND,b.METHODS.UNBIND,b.METHODS.ACL,b.METHODS.REPORT,b.METHODS.MKACTIVITY,b.METHODS.CHECKOUT,b.METHODS.MERGE,b.METHODS["M-SEARCH"],b.METHODS.NOTIFY,b.METHODS.SUBSCRIBE,b.METHODS.UNSUBSCRIBE,b.METHODS.PATCH,b.METHODS.PURGE,b.METHODS.MKCALENDAR,b.METHODS.LINK,b.METHODS.UNLINK,b.METHODS.PRI,b.METHODS.SOURCE,b.METHODS.QUERY],b.METHODS_ICE=[b.METHODS.SOURCE],b.METHODS_RTSP=[b.METHODS.OPTIONS,b.METHODS.DESCRIBE,b.METHODS.ANNOUNCE,b.METHODS.SETUP,b.METHODS.PLAY,b.METHODS.PAUSE,b.METHODS.TEARDOWN,b.METHODS.GET_PARAMETER,b.METHODS.SET_PARAMETER,b.METHODS.REDIRECT,b.METHODS.RECORD,b.METHODS.FLUSH,b.METHODS.GET,b.METHODS.POST],b.METHOD_MAP=(0,d.enumToMap)(b.METHODS),b.H_METHOD_MAP=Object.fromEntries(Object.entries(b.METHODS).filter(([a])=>a.startsWith("H"))),b.STATUSES_HTTP=[b.STATUSES.CONTINUE,b.STATUSES.SWITCHING_PROTOCOLS,b.STATUSES.PROCESSING,b.STATUSES.EARLY_HINTS,b.STATUSES.RESPONSE_IS_STALE,b.STATUSES.REVALIDATION_FAILED,b.STATUSES.DISCONNECTED_OPERATION,b.STATUSES.HEURISTIC_EXPIRATION,b.STATUSES.MISCELLANEOUS_WARNING,b.STATUSES.OK,b.STATUSES.CREATED,b.STATUSES.ACCEPTED,b.STATUSES.NON_AUTHORITATIVE_INFORMATION,b.STATUSES.NO_CONTENT,b.STATUSES.RESET_CONTENT,b.STATUSES.PARTIAL_CONTENT,b.STATUSES.MULTI_STATUS,b.STATUSES.ALREADY_REPORTED,b.STATUSES.TRANSFORMATION_APPLIED,b.STATUSES.IM_USED,b.STATUSES.MISCELLANEOUS_PERSISTENT_WARNING,b.STATUSES.MULTIPLE_CHOICES,b.STATUSES.MOVED_PERMANENTLY,b.STATUSES.FOUND,b.STATUSES.SEE_OTHER,b.STATUSES.NOT_MODIFIED,b.STATUSES.USE_PROXY,b.STATUSES.SWITCH_PROXY,b.STATUSES.TEMPORARY_REDIRECT,b.STATUSES.PERMANENT_REDIRECT,b.STATUSES.BAD_REQUEST,b.STATUSES.UNAUTHORIZED,b.STATUSES.PAYMENT_REQUIRED,b.STATUSES.FORBIDDEN,b.STATUSES.NOT_FOUND,b.STATUSES.METHOD_NOT_ALLOWED,b.STATUSES.NOT_ACCEPTABLE,b.STATUSES.PROXY_AUTHENTICATION_REQUIRED,b.STATUSES.REQUEST_TIMEOUT,b.STATUSES.CONFLICT,b.STATUSES.GONE,b.STATUSES.LENGTH_REQUIRED,b.STATUSES.PRECONDITION_FAILED,b.STATUSES.PAYLOAD_TOO_LARGE,b.STATUSES.URI_TOO_LONG,b.STATUSES.UNSUPPORTED_MEDIA_TYPE,b.STATUSES.RANGE_NOT_SATISFIABLE,b.STATUSES.EXPECTATION_FAILED,b.STATUSES.IM_A_TEAPOT,b.STATUSES.PAGE_EXPIRED,b.STATUSES.ENHANCE_YOUR_CALM,b.STATUSES.MISDIRECTED_REQUEST,b.STATUSES.UNPROCESSABLE_ENTITY,b.STATUSES.LOCKED,b.STATUSES.FAILED_DEPENDENCY,b.STATUSES.TOO_EARLY,b.STATUSES.UPGRADE_REQUIRED,b.STATUSES.PRECONDITION_REQUIRED,b.STATUSES.TOO_MANY_REQUESTS,b.STATUSES.REQUEST_HEADER_FIELDS_TOO_LARGE_UNOFFICIAL,b.STATUSES.REQUEST_HEADER_FIELDS_TOO_LARGE,b.STATUSES.LOGIN_TIMEOUT,b.STATUSES.NO_RESPONSE,b.STATUSES.RETRY_WITH,b.STATUSES.BLOCKED_BY_PARENTAL_CONTROL,b.STATUSES.UNAVAILABLE_FOR_LEGAL_REASONS,b.STATUSES.CLIENT_CLOSED_LOAD_BALANCED_REQUEST,b.STATUSES.INVALID_X_FORWARDED_FOR,b.STATUSES.REQUEST_HEADER_TOO_LARGE,b.STATUSES.SSL_CERTIFICATE_ERROR,b.STATUSES.SSL_CERTIFICATE_REQUIRED,b.STATUSES.HTTP_REQUEST_SENT_TO_HTTPS_PORT,b.STATUSES.INVALID_TOKEN,b.STATUSES.CLIENT_CLOSED_REQUEST,b.STATUSES.INTERNAL_SERVER_ERROR,b.STATUSES.NOT_IMPLEMENTED,b.STATUSES.BAD_GATEWAY,b.STATUSES.SERVICE_UNAVAILABLE,b.STATUSES.GATEWAY_TIMEOUT,b.STATUSES.HTTP_VERSION_NOT_SUPPORTED,b.STATUSES.VARIANT_ALSO_NEGOTIATES,b.STATUSES.INSUFFICIENT_STORAGE,b.STATUSES.LOOP_DETECTED,b.STATUSES.BANDWIDTH_LIMIT_EXCEEDED,b.STATUSES.NOT_EXTENDED,b.STATUSES.NETWORK_AUTHENTICATION_REQUIRED,b.STATUSES.WEB_SERVER_UNKNOWN_ERROR,b.STATUSES.WEB_SERVER_IS_DOWN,b.STATUSES.CONNECTION_TIMEOUT,b.STATUSES.ORIGIN_IS_UNREACHABLE,b.STATUSES.TIMEOUT_OCCURED,b.STATUSES.SSL_HANDSHAKE_FAILED,b.STATUSES.INVALID_SSL_CERTIFICATE,b.STATUSES.RAILGUN_ERROR,b.STATUSES.SITE_IS_OVERLOADED,b.STATUSES.SITE_IS_FROZEN,b.STATUSES.IDENTITY_PROVIDER_AUTHENTICATION_ERROR,b.STATUSES.NETWORK_READ_TIMEOUT,b.STATUSES.NETWORK_CONNECT_TIMEOUT],b.ALPHA=[];for(let a=65;a<=90;a++)b.ALPHA.push(String.fromCharCode(a)),b.ALPHA.push(String.fromCharCode(a+32));b.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},b.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},b.NUM=["0","1","2","3","4","5","6","7","8","9"],b.ALPHANUM=b.ALPHA.concat(b.NUM),b.MARK=["-","_",".","!","~","*","'","(",")"],b.USERINFO_CHARS=b.ALPHANUM.concat(b.MARK).concat(["%",";",":","&","=","+","$",","]),b.URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(b.ALPHANUM),b.HEX=b.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]),b.TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(b.ALPHANUM),b.HEADER_CHARS=["	"];for(let a=32;a<=255;a++)127!==a&&b.HEADER_CHARS.push(a);b.CONNECTION_TOKEN_CHARS=b.HEADER_CHARS.filter(a=>44!==a),b.QUOTED_STRING=["	"," "];for(let a=33;a<=255;a++)34!==a&&92!==a&&b.QUOTED_STRING.push(a);b.HTAB_SP_VCHAR_OBS_TEXT=["	"," "];for(let a=33;a<=126;a++)b.HTAB_SP_VCHAR_OBS_TEXT.push(a);for(let a=128;a<=255;a++)b.HTAB_SP_VCHAR_OBS_TEXT.push(a);b.MAJOR=b.NUM_MAP,b.MINOR=b.MAJOR,b.SPECIAL_HEADERS={connection:b.HEADER_STATE.CONNECTION,"content-length":b.HEADER_STATE.CONTENT_LENGTH,"proxy-connection":b.HEADER_STATE.CONNECTION,"transfer-encoding":b.HEADER_STATE.TRANSFER_ENCODING,upgrade:b.HEADER_STATE.UPGRADE}},16783:(a,b,c)=>{"use strict";c.d(b,{Y:()=>f,l:()=>e});var d=c(82222);async function e(a){let b=await f(a);if(b)return b[0]}async function f({id:a,data:b,depth:c,disableTransaction:e,limit:f,req:g,returning:h,sort:i,where:j}){let k=a?1:f,l=a?{id:{equals:a}}:j;if(c||g.payload.config?.jobs?.runHooks){let f=await g.payload.update({id:a,collection:d.SJ,data:b,depth:c,disableTransaction:e,limit:k,req:g,where:l});return!1!==h&&f?f.docs:null}let m={transactionID:"mongoose"!==g.payload.db.name?await g.payload.db.beginTransaction():void 0};void 0===b.updatedAt&&(b.updatedAt=new Date().toISOString());let o=a?{id:a,data:b,req:m,returning:h}:{data:b,limit:k,req:m,returning:h,sort:i,where:l},p=await g.payload.db.updateJobs(o);return("mongoose"!==g.payload.db.name&&m.transactionID&&await g.payload.db.commitTransaction(m.transactionID),!1!==h&&p?.length)?p.map(a=>(0,d.Sf)({config:g.payload.config,doc:a})):null}},17159:a=>{"use strict";a.exports=URIError},17306:a=>{a.exports={DEFAULT_LEVELS:{trace:10,debug:20,info:30,warn:40,error:50,fatal:60},SORTING_ORDER:{ASC:"ASC",DESC:"DESC"}}},17573:(a,b,c)=>{"use strict";a.exports=f;let d=c(5873),e=c(90751);function f(a,b){let c=e(b),f=c.pop();null!==(a=d(a,c))&&"object"==typeof a&&Object.prototype.hasOwnProperty.call(a,f)&&delete a[f]}},17710:a=>{"use strict";let b=Symbol.for("undici.globalOrigin.1");a.exports={getGlobalOrigin:function(){return globalThis[b]},setGlobalOrigin:function(a){if(void 0===a)return void Object.defineProperty(globalThis,b,{value:void 0,writable:!0,enumerable:!1,configurable:!1});let c=new URL(a);if("http:"!==c.protocol&&"https:"!==c.protocol)throw TypeError(`Only http & https urls are allowed, received ${c.protocol}`);Object.defineProperty(globalThis,b,{value:c,writable:!0,enumerable:!1,configurable:!1})}}},17731:(a,b,c)=>{"use strict";let{wellknownHeaderNames:d,headerNameLowerCasedRecord:e}=c(63090);class f{value=null;left=null;middle=null;right=null;code;constructor(a,b,c){if(void 0===c||c>=a.length)throw TypeError("Unreachable");if((this.code=a.charCodeAt(c))>127)throw TypeError("key must be ascii string");a.length!==++c?this.middle=new f(a,b,c):this.value=b}add(a,b){let c=a.length;if(0===c)throw TypeError("Unreachable");let d=0,e=this;for(;;){let g=a.charCodeAt(d);if(g>127)throw TypeError("key must be ascii string");if(e.code===g)if(c===++d){e.value=b;break}else if(null!==e.middle)e=e.middle;else{e.middle=new f(a,b,d);break}else if(e.code<g)if(null!==e.left)e=e.left;else{e.left=new f(a,b,d);break}else if(null!==e.right)e=e.right;else{e.right=new f(a,b,d);break}}}search(a){let b=a.length,c=0,d=this;for(;null!==d&&c<b;){let e=a[c];for(e<=90&&e>=65&&(e|=32);null!==d;){if(e===d.code){if(b===++c)return d;d=d.middle;break}d=d.code<e?d.left:d.right}}return null}}class g{node=null;insert(a,b){null===this.node?this.node=new f(a,b,0):this.node.add(a,b)}lookup(a){return this.node?.search(a)?.value??null}}let h=new g;for(let a=0;a<d.length;++a){let b=e[d[a]];h.insert(b,b)}a.exports={TernarySearchTree:g,tree:h}},17795:(a,b,c)=>{"use strict";let{InvalidArgumentError:d}=c(212);a.exports=class a{#a;constructor(a){this.#a=a}static wrap(b){return b.onRequestStart?b:new a(b)}onConnect(a,b){return this.#a.onConnect?.(a,b)}onHeaders(a,b,c,d){return this.#a.onHeaders?.(a,b,c,d)}onUpgrade(a,b,c){return this.#a.onUpgrade?.(a,b,c)}onData(a){return this.#a.onData?.(a)}onComplete(a){return this.#a.onComplete?.(a)}onError(a){if(!this.#a.onError)throw a;return this.#a.onError?.(a)}onRequestStart(a,b){this.#a.onConnect?.(b=>a.abort(b),b)}onRequestUpgrade(a,b,c,d){let e=[];for(let[a,b]of Object.entries(c))e.push(Buffer.from(a),Array.isArray(b)?b.map(a=>Buffer.from(a)):Buffer.from(b));this.#a.onUpgrade?.(b,e,d)}onResponseStart(a,b,c,d){let e=[];for(let[a,b]of Object.entries(c))e.push(Buffer.from(a),Array.isArray(b)?b.map(a=>Buffer.from(a)):Buffer.from(b));this.#a.onHeaders?.(b,e,()=>a.resume(),d)===!1&&a.pause()}onResponseData(a,b){this.#a.onData?.(b)===!1&&a.pause()}onResponseEnd(a,b){let c=[];for(let[a,d]of Object.entries(b))c.push(Buffer.from(a),Array.isArray(d)?d.map(a=>Buffer.from(a)):Buffer.from(d));this.#a.onComplete?.(c)}onResponseError(a,b){if(!this.#a.onError)throw new d("invalid onError method");this.#a.onError?.(b)}}},17862:(a,b)=>{"use strict";var c;let d=a=>({setRegion(b){a.region=b},region:()=>a.region}),e=a=>({region:a.region()}),f="AWS_REGION",g="region",h=a=>"string"==typeof a&&(a.startsWith("fips-")||a.endsWith("-fips")),i=a=>h(a)?["fips-aws-global","aws-fips"].includes(a)?"us-east-1":a.replace(/fips-(dkr-|prod-)?|-fips/,""):a,j=a=>{let{region:b,useFipsEndpoint:c}=a;if(!b)throw Error("Region is missing");return Object.assign(a,{region:async()=>"string"==typeof b?i(b):i(await b()),useFipsEndpoint:async()=>!!h("string"==typeof b?b:await b())||("function"!=typeof c?Promise.resolve(!!c):c())})};c={preferredFile:"credentials"},c={environmentVariableSelector:a=>a[f],configFileSelector:a=>a[g],default:()=>{throw Error("Region is missing")}},c=f,c=g,b.Rq=d,b.$3=e,c=j},17945:a=>{"use strict";a.exports=(a,b,c)=>{c=c||b;let d=Math.min(b-c,a-Math.floor(c/2));d<0&&(d=0);let e=Math.min(d+c,b);return{startIndex:d,endIndex:e}}},18099:(a,b,c)=>{"use strict";function d(a){return a&&"object"==typeof a}c.d(b,{L:()=>d})},18413:(a,b,c)=>{"use strict";c.r(b),c.d(b,{EndpointError:()=>x.c,awsEndpointFunctions:()=>s,getUserAgentPrefix:()=>r,isIpAddress:()=>f.o,partition:()=>o,resolveDefaultAwsRegionalEndpointsConfig:()=>u,resolveEndpoint:()=>w.s,setPartitionInfo:()=>p,toEndpointV1:()=>v,useDefaultPartitionInfo:()=>q});var d=c(65352),e=c(81795),f=c(41426);let g=(a,b=!1)=>{if(b){for(let b of a.split("."))if(!g(b))return!1;return!0}return!(!(0,e.X)(a)||a.length<3||a.length>63||a!==a.toLowerCase()||(0,f.o)(a))},h=":",i="/",j=a=>{let b=a.split(h);if(b.length<6)return null;let[c,d,e,f,g,...j]=b;return"arn"!==c||""===d||""===e||""===j.join(h)?null:{partition:d,service:e,region:f,accountId:g,resourceId:j.map(a=>a.split(i)).flat()}},k=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-east-2":{"description":"Asia Pacific (Taipei)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-6":{"description":"Asia Pacific (New Zealand)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"aws global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"aws-cn global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-eusc","outputs":{"dnsSuffix":"amazonaws.eu","dualStackDnsSuffix":"api.amazonwebservices.eu","implicitGlobalRegion":"eusc-de-east-1","name":"aws-eusc","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eusc-de-east-1":{"description":"EU (Germany)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"api.aws.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"aws-iso global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"api.aws.scloud","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"aws-iso-b global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"api.cloud-aws.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-e-global":{"description":"aws-iso-e global region"},"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"api.aws.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-f-global":{"description":"aws-iso-f global region"},"us-isof-east-1":{"description":"US ISOF EAST"},"us-isof-south-1":{"description":"US ISOF SOUTH"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"aws-us-gov global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}}],"version":"1.1"}'),l=k,m="",o=a=>{let{partitions:b}=l;for(let c of b){let{regions:b,outputs:d}=c;for(let[c,e]of Object.entries(b))if(c===a)return{...d,...e}}for(let c of b){let{regionRegex:b,outputs:d}=c;if(new RegExp(b).test(a))return{...d}}let c=b.find(a=>"aws"===a.id);if(!c)throw Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...c.outputs}},p=(a,b="")=>{l=a,m=b},q=()=>{p(k,"")},r=()=>m,s={isVirtualHostableS3Bucket:g,parseArn:j,partition:o};d.m.aws=s;var t=c(16152);let u=a=>{if("function"!=typeof a.endpointProvider)throw Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:b}=a;return void 0===b&&(a.endpoint=async()=>v(a.endpointProvider({Region:"function"==typeof a.region?await a.region():a.region,UseDualStack:"function"==typeof a.useDualstackEndpoint?await a.useDualstackEndpoint():a.useDualstackEndpoint,UseFIPS:"function"==typeof a.useFipsEndpoint?await a.useFipsEndpoint():a.useFipsEndpoint,Endpoint:void 0},{logger:a.logger}))),a},v=a=>(0,t.parseUrl)(a.url);var w=c(36004),x=c(838)},18430:(a,b,c)=>{"use strict";let{safeHTTPMethods:d}=c(33895);a.exports={makeCacheKey:function(a){if(!a.origin)throw Error("opts.origin is undefined");return{origin:a.origin.toString(),method:a.method,path:a.path,headers:a.headers}},normaliseHeaders:function(a){let b;if(null==a.headers)b={};else if("function"==typeof a.headers[Symbol.iterator])for(let c of(b={},a.headers)){if(!Array.isArray(c))throw Error("opts.headers is not a valid header map");let[a,d]=c;if("string"!=typeof a||"string"!=typeof d)throw Error("opts.headers is not a valid header map");b[a.toLowerCase()]=d}else if("object"==typeof a.headers)for(let c of(b={},Object.keys(a.headers)))b[c.toLowerCase()]=a.headers[c];else throw Error("opts.headers is not an object");return b},assertCacheKey:function(a){if("object"!=typeof a)throw TypeError(`expected key to be object, got ${typeof a}`);for(let b of["origin","method","path"])if("string"!=typeof a[b])throw TypeError(`expected key.${b} to be string, got ${typeof a[b]}`);if(void 0!==a.headers&&"object"!=typeof a.headers)throw TypeError(`expected headers to be object, got ${typeof a}`)},assertCacheValue:function(a){if("object"!=typeof a)throw TypeError(`expected value to be object, got ${typeof a}`);for(let b of["statusCode","cachedAt","staleAt","deleteAt"])if("number"!=typeof a[b])throw TypeError(`expected value.${b} to be number, got ${typeof a[b]}`);if("string"!=typeof a.statusMessage)throw TypeError(`expected value.statusMessage to be string, got ${typeof a.statusMessage}`);if(null!=a.headers&&"object"!=typeof a.headers)throw TypeError(`expected value.rawHeaders to be object, got ${typeof a.headers}`);if(void 0!==a.vary&&"object"!=typeof a.vary)throw TypeError(`expected value.vary to be object, got ${typeof a.vary}`);if(void 0!==a.etag&&"string"!=typeof a.etag)throw TypeError(`expected value.etag to be string, got ${typeof a.etag}`)},parseCacheControlHeader:function(a){let b,c={};if(Array.isArray(a))for(let c of(b=[],a))b.push(...c.split(","));else b=a.split(",");for(let a=0;a<b.length;a++){let d,e,f=b[a].toLowerCase(),g=f.indexOf("=");switch(-1!==g?(d=f.substring(0,g).trimStart(),e=f.substring(g+1)):d=f.trim(),d){case"min-fresh":case"max-stale":case"max-age":case"s-maxage":case"stale-while-revalidate":case"stale-if-error":{if(void 0===e||" "===e[0])continue;e.length>=2&&'"'===e[0]&&'"'===e[e.length-1]&&(e=e.substring(1,e.length-1));let a=parseInt(e,10);if(a!=a||"max-age"===d&&d in c&&c[d]>=a)continue;c[d]=a;break}case"private":case"no-cache":if(e){if('"'===e[0]){let f=[e.substring(1)],g='"'===e[e.length-1];if(!g)for(let c=a+1;c<b.length;c++){let a=b[c],d=a.length;if(f.push(a.trim()),0!==d&&'"'===a[d-1]){g=!0;break}}if(g){let a=f[f.length-1];'"'===a[a.length-1]&&(a=a.substring(0,a.length-1),f[f.length-1]=a),d in c?c[d]=c[d].concat(f):c[d]=f}}else d in c?c[d]=c[d].concat(e):c[d]=[e];break}case"public":case"no-store":case"must-revalidate":case"proxy-revalidate":case"immutable":case"no-transform":case"must-understand":case"only-if-cached":if(e)continue;c[d]=!0;break;default:continue}}return c},parseVaryHeader:function(a,b){if("string"==typeof a&&a.includes("*"))return b;let c={};for(let d of"string"==typeof a?a.split(","):a){let a=d.trim().toLowerCase();c[a]=b[a]??null}return c},isEtagUsable:function(a){return!(a.length<=2)&&('"'===a[0]&&'"'===a[a.length-1]?!('"'===a[1]||a.startsWith('"W/')):!!a.startsWith('W/"')&&'"'===a[a.length-1]&&4!==a.length)},assertCacheMethods:function(a,b="CacheMethods"){if(!Array.isArray(a))throw TypeError(`expected type of ${b} needs to be an array, got ${null===a?"null":typeof a}`);if(0===a.length)throw TypeError(`${b} needs to have at least one method`);for(let c of a)if(!d.includes(c))throw TypeError(`element of ${b}-array needs to be one of following values: ${d.join(", ")}, got ${c}`)},assertCacheStore:function(a,b="CacheStore"){if("object"!=typeof a||null===a)throw TypeError(`expected type of ${b} to be a CacheStore, got ${null===a?"null":typeof a}`);for(let c of["get","createWriteStream","delete"])if("function"!=typeof a[c])throw TypeError(`${b} needs to have a \`${c}()\` function`)}}},18528:(a,b,c)=>{"use strict";c.d(b,{M:()=>g});var d=c(12820),e=c(61101),f=c(35593);class g extends f.L{constructor(a){super(a?a("general:notFound"):d.en.translations.general.notFound,e.h.NOT_FOUND)}}},18616:(a,b,c)=>{"use strict";c.d(b,{v:()=>o,o:()=>m});var d=c(89178),e=c(23192),f=c(37593),g=c(67928),h=c(86075);function i(a,b){return`${a[h.E]}_${b.join("_")}_unique`}class j{constructor(a,b){this.name=b,this.columns=a}static [f.i]=null;columns;build(a){return new l(a,this.columns,this.name)}}class k{static [f.i]=null;name;constructor(a){this.name=a}on(...a){return new j(a,this.name)}}class l{constructor(a,b,c){this.table=a,this.columns=b,this.name=c??i(this.table,this.columns.map(a=>a.name))}static [f.i]=null;columns;name;getName(){return this.name}}class m extends d.Q{static [f.i]="SQLiteColumnBuilder";foreignKeyConfigs=[];references(a,b={}){return this.foreignKeyConfigs.push({ref:a,actions:b}),this}unique(a){return this.config.isUnique=!0,this.config.uniqueName=a,this}generatedAlwaysAs(a,b){return this.config.generated={as:a,type:"always",mode:b?.mode??"virtual"},this}buildForeignKeys(a,b){return this.foreignKeyConfigs.map(({ref:c,actions:d})=>((c,d)=>{let e=new g.BE(()=>({columns:[a],foreignColumns:[c()]}));return d.onUpdate&&e.onUpdate(d.onUpdate),d.onDelete&&e.onDelete(d.onDelete),e.build(b)})(c,d))}}class o extends e.V{constructor(a,b){b.uniqueName||(b.uniqueName=i(a,[b.name])),super(a,b),this.table=a}static [f.i]="SQLiteColumn"}},18648:(a,b,c)=>{"use strict";c.d(b,{e:()=>g});var d=c(12820),e=c(61101),f=c(35593);class g extends f.L{constructor(a){super(a?a("error:problemUploadingFile"):d.en.translations.error.problemUploadingFile,e.h.BAD_REQUEST)}}},18650:(a,b,c)=>{"use strict";c.d(b,{M:()=>e});var d=c(73182);let e=async({id:a,collection:b,context:c,data:e,doc:f,global:g,operation:h,overrideAccess:i,req:j})=>(await (0,d.m)({id:a,collection:b,context:c,data:e,doc:f,fields:b?.fields||g?.fields,global:g,operation:h,overrideAccess:i,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",req:j,siblingData:e,siblingDoc:f}),e)},18674:(a,b,c)=>{"use strict";c.d(b,{k:()=>A});var d=c(87641),e=c(12820),f=c(61101),g=c(35593);class h extends g.L{constructor(a,b){super(a?`${a(b?"error:usernameOrPasswordIncorrect":"error:emailOrPasswordIncorrect")}`:e.en.translations.error.emailOrPasswordIncorrect,f.h.UNAUTHORIZED)}}class i extends g.L{constructor(a){super(a?a("error:userLocked"):e.en.translations.error.userLocked,f.h.UNAUTHORIZED)}}var j=c(47624);class k extends g.L{constructor({t:a}){super(a?a("error:unverifiedEmail"):e.en.translations.error.unverifiedEmail,f.h.FORBIDDEN)}}var l=c(2431),m=c(83518),o=c(43982),p=c(53216),q=c(22477),r=c(73039),s=c(69815);let t=a=>!!a&&a.getTime()>Date.now();var u=c(85095),v=c(93109),w=c(16225);let x=async({collection:a,payload:b,req:c,user:d})=>{let{auth:{lockTime:e,maxLoginAttempts:f}}=a,g=Date.now(),h=null,i=null;if(d.lockUntil&&!t(new Date(d.lockUntil))){let e=await b.db.updateOne({id:d.id,collection:a.slug,data:{lockUntil:null,loginAttempts:1},req:c,select:{lockUntil:!0,loginAttempts:!0}});h=e.lockUntil,i=e.loginAttempts,d.lockUntil=h}else{let c={loginAttempts:{$inc:1}};"number"==typeof d.loginAttempts&&d.loginAttempts+1>=f&&(c.lockUntil=new Date(g+e).toISOString());let j=await b.db.updateOne({id:d.id,collection:a.slug,data:c,select:{lockUntil:!0,loginAttempts:!0}});h=j.lockUntil,i=j.loginAttempts}if(null===i)throw Error("Failed to update login attempts or lockUntil for user");let j="number"==typeof i&&i-1>=f,k="number"==typeof i&&i>=f;if(j&&(d.lockUntil=h),d.loginAttempts=i-1,k&&(!h||!t(new Date(h)))){let c=new Date(g+e).toISOString();if(await b.db.updateOne({id:d.id,collection:a.slug,data:{lockUntil:c},returning:!1}),j&&(d.lockUntil=c),a.auth.useSessions){let c=await b.db.findOne({collection:a.slug,select:{sessions:!0},where:{id:{equals:d.id}}});c?.sessions?.length&&(c.sessions=c.sessions.filter(a=>new Date(a.createdAt)<=new Date(g-2e4)),d.sessions=c.sessions,d.updatedAt=new Date().toISOString(),await b.db.updateOne({id:d.id,collection:a.slug,data:d,returning:!1}))}}};var y=c(48478);let z=({loggingInWithUsername:a,req:b,user:c})=>{if(!c)throw new h(b.t,!!a);if(t(new Date(c.lockUntil)))throw new i(b.t)},A=async a=>{let b=a;if(b.collection.config.auth.disableLocalStrategy)throw new m.c(b.req.t);try{if(b.collection.config.hooks?.beforeOperation?.length)for(let a of b.collection.config.hooks.beforeOperation)b=await a({args:b,collection:b.collection?.config,context:b.req.context,operation:"login",req:b.req})||b;let{collection:{config:a},data:c,depth:e,overrideAccess:f,req:g,req:{fallbackLocale:i,locale:m,payload:p,payload:{secret:t}},showHiddenFields:A}=b,{email:B,password:C}=c,D=a.auth.loginWithUsername,E="string"==typeof B?B.toLowerCase().trim():null,F="username"in c&&"string"==typeof c?.username?c.username.toLowerCase().trim():null,{canLoginWithEmail:G,canLoginWithUsername:H}=(0,s.Y)(D);if(!G&&!F)throw new j.y({collection:a.slug,errors:[{message:g.i18n.t("validation:required"),path:"username"}]});if(!H&&!E)throw new j.y({collection:a.slug,errors:[{message:g.i18n.t("validation:required"),path:"email"}]});if(!F&&!E)throw new j.y({collection:a.slug,errors:[{message:g.i18n.t("validation:required"),path:"email"},{message:g.i18n.t("validation:required"),path:"username"}]});if("string"!=typeof C||""===C.trim())throw new j.y({collection:a.slug,errors:[{message:g.i18n.t("validation:required"),path:"password"}]});let I={},J={email:{equals:E}},K={username:{equals:F}};G&&H&&(F||E)?I=F?{or:[K,{email:{equals:F}}]}:{or:[J,{username:{equals:E}}]}:G&&E?I=J:H&&F&&(I=K),I=(0,o.v)({enableTrash:a.trash,trash:!1,where:I});let L=await p.db.findOne({collection:a.slug,req:g,where:I});z({loggingInWithUsername:!!(H&&F),req:g,user:L}),L.collection=a.slug,L._strategy="local-jwt";let M=await (0,w.Q)({doc:L,password:C});L=(0,q.E)(L);let N=b.collection.config.auth.maxLoginAttempts>0;if(!M)throw N&&(await x({collection:a,payload:g.payload,req:g,user:L}),z({loggingInWithUsername:!!(H&&F),req:g,user:L})),new h(g.t);if(a.auth.verify&&!1===L._verified)throw new k({t:g.t});if(N){let{lockUntil:b,loginAttempts:c}=await p.db.findOne({collection:a.slug,req:g,select:{lockUntil:!0,loginAttempts:!0},where:{id:{equals:L.id}}});L.lockUntil=b,L.loginAttempts=c,z({req:g,user:L})}let O={collectionConfig:a,email:E,user:L},{sid:P}=await (0,v.A)({collectionConfig:a,payload:p,req:g,user:L});P&&(O.sid=P);let Q=(0,r.C)(O);if(N&&await (0,y.Z)({collection:a,doc:L,payload:g.payload,req:g}),a.hooks?.beforeLogin?.length)for(let c of a.hooks.beforeLogin)L=await c({collection:b.collection?.config,context:b.req.context,req:b.req,user:L})||L;let{exp:R,token:S}=await (0,u.h)({fieldsToSign:Q,secret:t,tokenExpiration:a.auth.tokenExpiration});if(g.user=L,a.hooks?.afterLogin?.length)for(let c of a.hooks.afterLogin)L=await c({collection:b.collection?.config,context:b.req.context,req:b.req,token:S,user:L})||L;if(L=await (0,l.v)({collection:a,context:g.context,depth:e,doc:L,draft:void 0,fallbackLocale:i,global:null,locale:m,overrideAccess:f,req:g,showHiddenFields:A}),a.hooks?.afterRead?.length)for(let c of a.hooks.afterRead)L=await c({collection:b.collection?.config,context:g.context,doc:L,req:g})||L;let T={exp:R,token:S,user:L};return T=await (0,d.E)({args:b,collection:b.collection?.config,operation:"login",result:T})}catch(a){throw await (0,p.J)(b.req),a}}},18809:(a,b)=>{"use strict";b.o=a=>Object.assign(a,{eventStreamMarshaller:a.eventStreamSerdeProvider(a)})},18864:(a,b,c)=>{"use strict";c.r(b),c.d(b,{Client:()=>d.K,Command:()=>f.u,LazyJsonString:()=>y.LazyJsonString,NoOpLogger:()=>s.N,NumericValue:()=>y.NumericValue,SENSITIVE_STRING:()=>g.$,ServiceException:()=>l.T,_json:()=>x.S,_parseEpochTimestamp:()=>y._parseEpochTimestamp,_parseRfc3339DateTimeWithOffset:()=>y._parseRfc3339DateTimeWithOffset,_parseRfc7231DateTime:()=>y._parseRfc7231DateTime,collectBody:()=>e.P,convertMap:()=>t.sm,copyDocumentWithTransform:()=>y.copyDocumentWithTransform,createAggregatedClient:()=>h,dateToUtcString:()=>y.dateToUtcString,decorateServiceException:()=>l.M,emitWarningIfUnsupportedVersion:()=>k.I,expectBoolean:()=>y.expectBoolean,expectByte:()=>y.expectByte,expectFloat32:()=>y.expectFloat32,expectInt:()=>y.expectInt,expectInt32:()=>y.expectInt32,expectLong:()=>y.expectLong,expectNonNull:()=>y.expectNonNull,expectNumber:()=>y.expectNumber,expectObject:()=>y.expectObject,expectShort:()=>y.expectShort,expectString:()=>y.expectString,expectUnion:()=>y.expectUnion,extendedEncodeURIComponent:()=>m.$,generateIdempotencyToken:()=>y.generateIdempotencyToken,getArrayIfSingleItem:()=>p,getDefaultClientConfiguration:()=>o.xr,getDefaultExtensionConfiguration:()=>o.xA,getValueFromTextNode:()=>q.r,handleFloat:()=>y.handleFloat,isSerializableHeaderValue:()=>r.e,limitedParseDouble:()=>y.limitedParseDouble,limitedParseFloat:()=>y.limitedParseFloat,limitedParseFloat32:()=>y.limitedParseFloat32,loadConfigsForDefaultMode:()=>j.l,logger:()=>y.logger,map:()=>t.Tj,nv:()=>y.nv,parseBoolean:()=>y.parseBoolean,parseEpochTimestamp:()=>y.parseEpochTimestamp,parseRfc3339DateTime:()=>y.parseRfc3339DateTime,parseRfc3339DateTimeWithOffset:()=>y.parseRfc3339DateTimeWithOffset,parseRfc7231DateTime:()=>y.parseRfc7231DateTime,quoteHeader:()=>y.quoteHeader,resolveDefaultRuntimeConfig:()=>o.uv,resolvedPath:()=>u.u,serializeDateTime:()=>w,serializeFloat:()=>v,splitEvery:()=>y.splitEvery,splitHeader:()=>y.splitHeader,strictParseByte:()=>y.strictParseByte,strictParseDouble:()=>y.strictParseDouble,strictParseFloat:()=>y.strictParseFloat,strictParseFloat32:()=>y.strictParseFloat32,strictParseInt:()=>y.strictParseInt,strictParseInt32:()=>y.strictParseInt32,strictParseLong:()=>y.strictParseLong,strictParseShort:()=>y.strictParseShort,take:()=>t.s,throwDefaultError:()=>i.U,withBaseException:()=>i.j});var d=c(56465),e=c(9742),f=c(60781),g=c(99381);let h=(a,b)=>{for(let c of Object.keys(a)){let d=a[c],e=async function(a,b,c){let e=new d(a);if("function"==typeof b)this.send(e,b);else{if("function"!=typeof c)return this.send(e,b);if("object"!=typeof b)throw Error(`Expected http options but got ${typeof b}`);this.send(e,b||{},c)}},f=(c[0].toLowerCase()+c.slice(1)).replace(/Command$/,"");b.prototype[f]=e}};var i=c(98327),j=c(41490),k=c(64275),l=c(28492),m=c(27613),o=c(93820);let p=a=>Array.isArray(a)?a:[a];var q=c(91406),r=c(60592),s=c(26666),t=c(67498),u=c(7916);let v=a=>{if(a!=a)return"NaN";switch(a){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return a}},w=a=>a.toISOString().replace(".000Z","Z");var x=c(93968),y=c(73459)},18897:(a,b,c)=>{"use strict";c.d(b,{l:()=>v});var d=c(25083),e=c(18099),f=c(51114),g=c(18528),h=c(83518),i=c(2431),j=c(26488),k=c(30073),l=c(43982),m=c(61281),o=c(57819),p=c(33334),q=c(53216),r=c(32609),s=c(30791),t=c(80044),u=c(87641);let v=async a=>{let b=a;try{let a=!b.disableTransaction&&await (0,p.n)(b.req);if(b.collection.config.hooks?.beforeOperation?.length)for(let a of b.collection.config.hooks.beforeOperation)b=await a({args:b,collection:b.collection.config,context:b.req.context,operation:"delete",req:b.req})||b;let{id:c,collection:{config:q},depth:v,overrideAccess:w,overrideLock:x,populate:y,req:{fallbackLocale:z,locale:A,payload:{config:B},payload:C},req:D,select:E,showHiddenFields:F,trash:G=!1}=b,H=!!w||await (0,d.m)({id:c,req:D},q.access.delete),I=(0,e.L)(H);if(q.hooks?.beforeDelete?.length)for(let a of q.hooks.beforeDelete)await a({id:c,collection:q,context:D.context,req:D});let J=(0,f.m)({id:{equals:c}},H);J=(0,l.v)({enableTrash:q.trash,trash:G,where:J});let K=await D.payload.db.findOne({collection:q.slug,locale:D.locale,req:D,where:J});if(!K&&!I)throw new g.M(D.t);if(!K&&I)throw new h.c(D.t);await (0,m.B)({id:c,collectionSlug:q.slug,lockErrorMessage:`Document with ID ${c} is currently locked and cannot be deleted.`,overrideLock:x,req:D}),await (0,k.F)({collectionConfig:q,config:B,doc:K,overrideDelete:!0,req:D}),q.versions&&await (0,s.H)({id:c,slug:q.slug,payload:C,req:D}),q.versions?.drafts&&q.versions.drafts.schedulePublish&&await (0,t.y)({id:c,slug:q.slug,payload:C,req:D});let L=(0,r.Y)({fields:q.flattenedFields,forceSelect:q.forceSelect,select:E}),M=await D.payload.db.deleteOne({collection:q.slug,req:D,select:L,where:{id:{equals:c}}});if(await (0,j.j)({collectionConfig:q,ids:[c],payload:C,req:D}),M=await (0,i.v)({collection:q,context:D.context,depth:v,doc:M,draft:void 0,fallbackLocale:z,global:null,locale:A,overrideAccess:w,populate:y,req:D,select:L,showHiddenFields:F}),q.hooks?.afterRead?.length)for(let a of q.hooks.afterRead)M=await a({collection:q,context:D.context,doc:M,req:D})||M;if(q.hooks?.afterDelete?.length)for(let a of q.hooks.afterDelete)M=await a({id:c,collection:q,context:D.context,doc:M,req:D})||M;return M=await (0,u.E)({args:b,collection:q,operation:"deleteByID",result:M}),a&&await (0,o.w)(D),M}catch(a){throw await (0,q.J)(b.req),a}}},19074:(a,b,c)=>{"use strict";c.d(b,{d1:()=>d.d1,vY:()=>k,n7:()=>i,Xx:()=>j});var d=c(2173),e=c(36995);let f=256e3;class g extends e.G{constructor(a,b){super(b),this.streamReader=a}async readBuffer(a,b){let c=this.normalizeOptions(a,b),e=c.position-this.position;if(e>0)return await this.ignore(e),this.readBuffer(a,b);if(e<0)throw Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===c.length)return 0;let f=await this.streamReader.read(a,c.offset,c.length);if(this.position+=f,(!b||!b.mayBeLess)&&f<c.length)throw new d.d1;return f}async peekBuffer(a,b){let c=this.normalizeOptions(a,b),e=0;if(c.position){let b=c.position-this.position;if(b>0){let d=new Uint8Array(c.length+b);return e=await this.peekBuffer(d,{mayBeLess:c.mayBeLess}),a.set(d.subarray(b),c.offset),e-b}if(b<0)throw Error("Cannot peek from a negative offset in a stream")}if(c.length>0){try{e=await this.streamReader.peek(a,c.offset,c.length)}catch(a){if(b?.mayBeLess&&a instanceof d.d1)return 0;throw a}if(!c.mayBeLess&&e<c.length)throw new d.d1}return e}async ignore(a){let b=Math.min(f,a),c=new Uint8Array(b),d=0;for(;d<a;){let e=a-d,f=await this.readBuffer(c,{length:Math.min(b,e)});if(f<0)return f;d+=f}return d}}class h extends e.G{constructor(a,b){super(b),this.uint8Array=a,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:a.length}async readBuffer(a,b){if(b?.position){if(b.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=b.position}let c=await this.peekBuffer(a,b);return this.position+=c,c}async peekBuffer(a,b){let c=this.normalizeOptions(a,b),e=Math.min(this.uint8Array.length-c.position,c.length);if(!c.mayBeLess&&e<c.length)throw new d.d1;return a.set(this.uint8Array.subarray(c.position,c.position+e),c.offset),e}close(){return super.close()}}function i(a,b){return new g(new d.CX(a),b)}function j(a,b){return new g(new d.yT(a),b)}function k(a,b){return new h(a,b)}},19110:a=>{"use strict";let b={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},c={arrowUp:b.arrowUp,arrowDown:b.arrowDown,arrowLeft:b.arrowLeft,arrowRight:b.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"\xd7",ellipsis:"...",pointerSmall:"\xbb",line:"─",pointer:">"};a.exports="win32"===process.platform?c:b},19113:(a,b,c)=>{"use strict";function d(a){let b=!0;for(let c in a)"object"==typeof a[c]?e(a[c])?a[c]=!0:b=!1:!0!==a[c]&&(b=!1);return b}function e(a){let b=a,c=!0;if("blocks"in b&&b.blocks){for(let a in b.blocks)if("object"==typeof b.blocks[a]){for(let e in b.blocks[a])if("fields"===e)b.blocks[a].fields&&(d(b.blocks[a].fields)?b.blocks[a].fields=!0:c=!1);else if("object"==typeof b.blocks[a][e])if(f(b.blocks[a][e]))if(!0!==b.blocks[a][e].permission||"where"in b.blocks[a][e])if(!0===b.blocks[a][e].permission&&"where"in b.blocks[a][e])c=!1;else{c=!1,b.blocks[a][e]=!1,delete b.blocks[a][e];continue}else{b.blocks[a][e]=!0;continue}else throw Error("Unexpected object in block permissions")}else!0!==b.blocks[a]&&(c=!1,delete b.blocks[a]);c&&(b.blocks=!0)}let e=!0;b.fields&&(d(b.fields)?b.fields=!0:e=!1);let g=!0;for(let a in b)if("fields"!==a&&"blocks"!==a)if("object"==typeof b[a])if(f(b[a]))if(!0!==b[a].permission||"where"in b[a])if(!0===b[a].permission&&"where"in b[a])g=!1;else{g=!1,b[a]=!1,delete b[a];continue}else{b[a]=!0;continue}else throw Error("Unexpected object in fields permissions");else!0!==b[a]&&(g=!1);return e&&c&&g}function f(a){return"object"==typeof a&&"permission"in a&&"boolean"==typeof a.permission}function g(a){Object.keys(a).forEach(b=>{"object"==typeof a[b]&&null!==a[b]?(g(a[b]),0===Object.keys(a[b]).length&&delete a[b]):(null===a[b]||void 0===a[b])&&delete a[b]})}function h(a){if("object"==typeof a)for(let b of Object.values(a))e(b)}function i(a){if("object"==typeof a)for(let b of Object.values(a))e(b)}function j(a){return!1===a.canAccessAdmin&&delete a.canAccessAdmin,a.collections&&h(a.collections),a.globals&&i(a.globals),g(a),a}c.d(b,{yD:()=>j})},19158:(a,b,c)=>{"use strict";let d;c.d(b,{w:()=>eE});var e=c(52691),f=c(20770),g=c(66456),h=c(38200),i=c(8615),j=c(84670),k=c(42526),l=c(23825);let m=async function(a){let b=await (0,k.x)(this,a.req),c=this.payload.collections[a.collection].config,d=a.page||1,e=a.limit?(d-1)*a.limit:void 0,f=this.tableNameMap.get(h(c.slug)),{joins:m,orderBy:o,selectFields:p,where:q}=(0,i.Z)({adapter:this,fields:c.flattenedFields,locale:a.locale,sort:a.sort??a.field,tableName:f,where:{and:[a.where??{},{[a.field]:{equals:l.pk}}]}});o.pop();let r=await (0,j.t)({adapter:this,db:b,forceRun:!0,joins:m,query:({query:b})=>(b=b.orderBy(()=>o.map(({column:a,order:b})=>b(a))),a.limit&&(e&&(b=b.offset(e)),b=b.limit(a.limit)),b),selectFields:{_selected:p._selected,...o.length&&(o[0].column===p._selected?{}:{_order:o[0]?.column})},tableName:f,where:q}),s=(0,g.p)({config:this.payload.config,fields:c.flattenedFields,includeRelationships:!0,path:a.field})?.field;if(s&&"relationTo"in s&&Array.isArray(s.relationTo))for(let a of r){let b=JSON.parse(a._selected),c=Object.keys(b).find(a=>!!b[a]),d=b[c];d?a._selected={relationTo:c,value:d}:a._selected=null}let t=r.map(b=>({[a.field]:b._selected}));if(a.limit){let c=await this.countDistinct({column:p._selected,db:b,joins:m,tableName:f,where:q}),e=Math.ceil(c/a.limit),g=d>1,h=e>d,i=(d-1)*a.limit+1;return{hasNextPage:h,hasPrevPage:g,limit:a.limit,nextPage:h?d+1:null,page:d,pagingCounter:i,prevPage:g?d-1:null,totalDocs:c,totalPages:e,values:t}}return{hasNextPage:!1,hasPrevPage:!1,limit:0,page:1,pagingCounter:1,totalDocs:t.length,totalPages:1,values:t}};var o=c(82384),p=c(47314),q=c(40741),r=c(21090),s=c(69066),t=c(30504),u=c(83986),v=c(50573),w=c(6779),x=c(87444),y=c(86438),z=c(55682),A=c(26111),B=c(95323),C=c(79114),D=c(48329),E=c(35297),F=c(98116),G=c(82039),H=c(31070),I=c(93226),J=c(49897),K=c(88190),L=c(49454),M=c(37696),N=c(62211),O=c(92991),P=c(40896),Q=c(35811),R=c(81541),S=c(73969),T=c(79357),U=c(68756),V=c(19380);let W=async function({collection:a,data:b,joins:c,locale:d,req:e,returning:f,select:g,where:h}){return this.updateOne({collection:a,data:b,joins:c,locale:d,options:{upsert:!0},req:e,returning:f,select:g,where:h})};var X=c(11389),Y=c(82282),Z=c(8046),$=c(59447),_=c(52401),aa=c(81990),ab=c(97822),ac=c(71540);let ad=function({db:a,drizzle:b,raw:c,sql:d}){let e=a??b;return c?e.run(ac.ll.raw(c)):e.run(d)};var ae=c(14525),af=c(39003),ag=c(81985),ah=c(65029),ai=c(48475),aj=c(32135),ak=c(79551);class al extends Error{code;rawCode;constructor(a,b,c,d){void 0!==b&&(a=`${b}: ${a}`),super(a,{cause:d}),this.code=b,this.rawCode=c,this.name="LibsqlError"}}function am(a){let b=an.exec(a);if(null===b)throw new al(`The URL '${a}' is not in a valid format`,"URL_INVALID");let c=b.groups,d=c.scheme,e=void 0!==c.authority?ao(c.authority):void 0,f=ar(c.path);return{scheme:d,authority:e,path:f,query:void 0!==c.query?aq(c.query):void 0,fragment:void 0!==c.fragment?ar(c.fragment):void 0}}let an=(()=>{let a="(?<scheme>[A-Za-z][A-Za-z.+-]*)",b="(?<authority>[^/?#]*)",c="(?<path>[^?#]*)",d="(?<query>[^#]*)",e="(?<fragment>.*)";return RegExp(`^${a}:(//${b})?${c}(\\?${d})?(#${e})?$`,"su")})();function ao(a){let b=ap.exec(a);if(null===b)throw new al("The authority part of the URL is not in a valid format","URL_INVALID");let c=b.groups,d=ar(c.host_br??c.host);return{host:d,port:c.port?parseInt(c.port,10):void 0,userinfo:void 0!==c.username?{username:ar(c.username),password:void 0!==c.password?ar(c.password):void 0}:void 0}}let ap=RegExp("^((?<username>[^:]*)(:(?<password>.*))?@)?((?<host>[^:\\[\\]]*)|(\\[(?<host_br>[^\\[\\]]*)\\]))(:(?<port>[0-9]*))?$","su");function aq(a){let b=a.split("&"),c=[];for(let a of b){let b,d;if(""===a)continue;let e=a.indexOf("=");e<0?(b=a,d=""):(b=a.substring(0,e),d=a.substring(e+1)),c.push({key:ar(b.replaceAll("+"," ")),value:ar(d.replaceAll("+"," "))})}return{pairs:c}}function ar(a){try{return decodeURIComponent(a)}catch(a){if(a instanceof URIError)throw new al(`URL component has invalid percent encoding: ${a}`,"URL_INVALID",void 0,a);throw a}}function as(a,b,c){if(void 0===b)throw new al(`URL with scheme ${JSON.stringify(a+":")} requires authority (the "//" part)`,"URL_INVALID");let d=`${a}:`,e=at(b.host),f=au(b.port),g=av(b.userinfo),h=`//${g}${e}${f}`,i=c.split("/").map(encodeURIComponent).join("/");return""===i||i.startsWith("/")||(i="/"+i),new URL(`${d}${h}${i}`)}function at(a){return a.includes(":")?`[${encodeURI(a)}]`:encodeURI(a)}function au(a){return void 0!==a?`:${a}`:""}function av(a){if(void 0===a)return"";let b=encodeURIComponent(a.username),c=void 0!==a.password?`:${encodeURIComponent(a.password)}`:"";return`${b}${c}@`}let aw="function"==typeof Buffer,ax="function"==typeof TextDecoder?new TextDecoder:void 0,ay="function"==typeof TextEncoder?new TextEncoder:void 0,az="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",aA=Array.prototype.slice.call(az),aB=(a=>{let b={};return a.forEach((a,c)=>b[a]=c),b})(aA),aC=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,aD=String.fromCharCode.bind(String),aE="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):a=>new Uint8Array(Array.prototype.slice.call(a,0)),aF=a=>a.replace(/=/g,"").replace(/[+\/]/g,a=>"+"==a?"-":"_"),aG=a=>a.replace(/[^A-Za-z0-9\+\/]/g,""),aH=a=>{let b,c,d,e,f="",g=a.length%3;for(let g=0;g<a.length;){if((c=a.charCodeAt(g++))>255||(d=a.charCodeAt(g++))>255||(e=a.charCodeAt(g++))>255)throw TypeError("invalid character found");f+=aA[(b=c<<16|d<<8|e)>>18&63]+aA[b>>12&63]+aA[b>>6&63]+aA[63&b]}return g?f.slice(0,g-3)+"===".substring(g):f},aI="function"==typeof btoa?a=>btoa(a):aw?a=>Buffer.from(a,"binary").toString("base64"):aH,aJ=aw?a=>Buffer.from(a).toString("base64"):a=>{let b=4096,c=[];for(let d=0,e=a.length;d<e;d+=b)c.push(aD.apply(null,a.subarray(d,d+b)));return aI(c.join(""))},aK=(a,b=!1)=>b?aF(aJ(a)):aJ(a),aL=a=>{if(a.length<2){var b=a.charCodeAt(0);return b<128?a:b<2048?aD(192|b>>>6)+aD(128|63&b):aD(224|b>>>12&15)+aD(128|b>>>6&63)+aD(128|63&b)}var b=65536+(a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320);return aD(240|b>>>18&7)+aD(128|b>>>12&63)+aD(128|b>>>6&63)+aD(128|63&b)},aM=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,aN=a=>a.replace(aM,aL),aO=aw?a=>Buffer.from(a,"utf8").toString("base64"):ay?a=>aJ(ay.encode(a)):a=>aI(aN(a)),aP=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,aQ=a=>{switch(a.length){case 4:var b=((7&a.charCodeAt(0))<<18|(63&a.charCodeAt(1))<<12|(63&a.charCodeAt(2))<<6|63&a.charCodeAt(3))-65536;return aD((b>>>10)+55296)+aD((1023&b)+56320);case 3:return aD((15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2));default:return aD((31&a.charCodeAt(0))<<6|63&a.charCodeAt(1))}},aR=a=>a.replace(aP,aQ),aS=a=>{let b,c,d;if(a=a.replace(/\s+/g,""),!aC.test(a))throw TypeError("malformed base64.");a+="==".slice(2-(3&a.length));let e=[];for(let f=0;f<a.length;)b=aB[a.charAt(f++)]<<18|aB[a.charAt(f++)]<<12|(c=aB[a.charAt(f++)])<<6|(d=aB[a.charAt(f++)]),64===c?e.push(aD(b>>16&255)):64===d?e.push(aD(b>>16&255,b>>8&255)):e.push(aD(b>>16&255,b>>8&255,255&b));return e.join("")},aT="function"==typeof atob?a=>atob(aG(a)):aw?a=>Buffer.from(a,"base64").toString("binary"):aS,aU=aw?a=>aE(Buffer.from(a,"base64")):a=>aE(aT(a).split("").map(a=>a.charCodeAt(0))),aV=a=>aU(aX(a)),aW=aw?a=>Buffer.from(a,"base64").toString("utf8"):ax?a=>ax.decode(aU(a)):a=>aR(aT(a)),aX=a=>aG(a.replace(/[-_]/g,a=>"-"==a?"+":"/")),aY={fromUint8Array:aK,toUint8Array:aV},aZ="https://github.com/libsql/libsql-client-ts#supported-urls";function a$(a){if("write"===a)return"BEGIN IMMEDIATE";if("read"===a)return"BEGIN TRANSACTION READONLY";if("deferred"===a)return"BEGIN DEFERRED";throw RangeError('Unknown transaction mode, supported values are "write", "read" and "deferred"')}class a_{columns;columnTypes;rows;rowsAffected;lastInsertRowid;constructor(a,b,c,d,e){this.columns=a,this.columnTypes=b,this.rows=c,this.rowsAffected=d,this.lastInsertRowid=e}toJSON(){return{columns:this.columns,columnTypes:this.columnTypes,rows:this.rows.map(a0),rowsAffected:this.rowsAffected,lastInsertRowid:void 0!==this.lastInsertRowid?""+this.lastInsertRowid:null}}}function a0(a){return Array.prototype.map.call(a,a1)}function a1(a){return"bigint"==typeof a?""+a:a instanceof ArrayBuffer?aY.fromUint8Array(new Uint8Array(a)):a}let a2=":memory:";function a3(a){return"file"===a.scheme&&(":memory:"===a.path||a.path.startsWith(":memory:?"))}function a4(a,b){let c,d;if("object"!=typeof a)throw TypeError(`Expected client configuration as object, got ${typeof a}`);let{url:e,authToken:f,tls:g,intMode:h,concurrency:i}=a;i=Math.max(0,i||20),h??="number";let j=[];e===a2&&(e="file::memory:");let k=am(e),l=k.scheme.toLowerCase(),m="file"===l&&k.path===a2&&void 0===k.authority;for(let{key:a,value:b}of(c=m?{cache:{values:["shared","private"],update:(a,b)=>j.push(`${a}=${b}`)}}:{tls:{values:["0","1"],update:(a,b)=>g="1"===b},authToken:{update:(a,b)=>f=b}},k.query?.pairs??[])){if(!Object.hasOwn(c,a))throw new al(`Unsupported URL query parameter ${JSON.stringify(a)}`,"URL_PARAM_NOT_SUPPORTED");let d=c[a];if(void 0!==d.values&&!d.values.includes(b))throw new al(`Unknown value for the "${a}" query argument: ${JSON.stringify(b)}. Supported values are: [${d.values.map(a=>'"'+a+'"').join(", ")}]`,"URL_INVALID");void 0!==d.update&&d?.update(a,b)}let o=0===j.length?"":`?${j.join("&")}`,p=k.path+o;if("libsql"===l)if(!1===g){if(k.authority?.port===void 0)throw new al('A "libsql:" URL with ?tls=0 must specify an explicit port',"URL_INVALID");d=b?"http":"ws"}else d=b?"https":"wss";else d=l;if("http"===d||"ws"===d?g??=!1:g??=!0,"http"!==d&&"ws"!==d&&"https"!==d&&"wss"!==d&&"file"!==d)throw new al(`The client supports only "libsql:", "wss:", "ws:", "https:", "http:" and "file:" URLs, got ${JSON.stringify(k.scheme+":")}. For more information, please read ${aZ}`,"URL_SCHEME_NOT_SUPPORTED");if("number"!==h&&"bigint"!==h&&"string"!==h)throw TypeError(`Invalid value for intMode, expected "number", "bigint" or "string", got ${JSON.stringify(h)}`);if(void 0!==k.fragment)throw new al(`URL fragments are not supported: ${JSON.stringify("#"+k.fragment)}`,"URL_INVALID");return m?{scheme:"file",tls:!1,path:p,intMode:h,concurrency:i,syncUrl:a.syncUrl,syncInterval:a.syncInterval,fetch:a.fetch,authToken:void 0,encryptionKey:void 0,authority:void 0}:{scheme:d,tls:g,authority:k.authority,path:p,authToken:f,intMode:h,concurrency:i,encryptionKey:a.encryptionKey,syncUrl:a.syncUrl,syncInterval:a.syncInterval,fetch:a.fetch}}var a5=c(39023),a6=c(4573);function a7(a){if("file"!==a.scheme)throw new al(`URL scheme ${JSON.stringify(a.scheme+":")} is not supported by the local sqlite3 client. For more information, please read ${aZ}`,"URL_SCHEME_NOT_SUPPORTED");let b=a.authority;if(void 0!==b){let a=b.host.toLowerCase();if(""!==a&&"localhost"!==a)throw new al(`Invalid host in file URL: ${JSON.stringify(b.host)}. A "file:" URL with an absolute path should start with one slash ("file:/absolute/path.db") or with three slashes ("file:///absolute/path.db"). For more information, please read ${aZ}`,"URL_INVALID");if(void 0!==b.port)throw new al("File URL cannot have a port","URL_INVALID");if(void 0!==b.userinfo)throw new al("File URL cannot have username and password","URL_INVALID")}let c=a3(a);if(c&&a.syncUrl)throw new al(`Embedded replica must use file for local db but URI with in-memory mode were provided instead: ${a.path}`,"URL_INVALID");let d=a.path;c&&(d=`${a.scheme}:${a.path}`);let e={authToken:a.authToken,encryptionKey:a.encryptionKey,syncUrl:a.syncUrl,syncPeriod:a.syncInterval},f=new a5(d,e);return ba(f,"SELECT 1 AS checkThatTheDatabaseCanBeOpened",a.intMode),new a8(d,e,f,a.intMode)}class a8{#e;#f;#g;#h;closed;protocol;constructor(a,b,c,d){this.#e=a,this.#f=b,this.#g=c,this.#h=d,this.closed=!1,this.protocol="file"}async execute(a,b){let c;return c="string"==typeof a?{sql:a,args:b||[]}:a,this.#i(),ba(this.#j(),c,this.#h)}async batch(a,b="deferred"){this.#i();let c=this.#j();try{ba(c,a$(b),this.#h);let d=a.map(a=>{if(!c.inTransaction)throw new al("The transaction has been rolled back","TRANSACTION_CLOSED");return ba(c,a,this.#h)});return ba(c,"COMMIT",this.#h),d}finally{c.inTransaction&&ba(c,"ROLLBACK",this.#h)}}async migrate(a){this.#i();let b=this.#j();try{ba(b,"PRAGMA foreign_keys=off",this.#h),ba(b,a$("deferred"),this.#h);let c=a.map(a=>{if(!b.inTransaction)throw new al("The transaction has been rolled back","TRANSACTION_CLOSED");return ba(b,a,this.#h)});return ba(b,"COMMIT",this.#h),c}finally{b.inTransaction&&ba(b,"ROLLBACK",this.#h),ba(b,"PRAGMA foreign_keys=on",this.#h)}}async transaction(a="write"){let b=this.#j();return ba(b,a$(a),this.#h),this.#g=null,new a9(b,this.#h)}async executeMultiple(a){this.#i();let b=this.#j();try{return bi(b,a)}finally{b.inTransaction&&ba(b,"ROLLBACK",this.#h)}}async sync(){this.#i();let a=await this.#j().sync();return{frames_synced:a.frames_synced,frame_no:a.frame_no}}close(){this.closed=!0,null!==this.#g&&this.#g.close()}#i(){if(this.closed)throw new al("The client is closed","CLIENT_CLOSED")}#j(){return null===this.#g&&(this.#g=new a5(this.#e,this.#f)),this.#g}}class a9{#k;#h;constructor(a,b){this.#k=a,this.#h=b}async execute(a,b){let c;return c="string"==typeof a?{sql:a,args:b||[]}:a,this.#i(),ba(this.#k,c,this.#h)}async batch(a){return a.map(a=>(this.#i(),ba(this.#k,a,this.#h)))}async executeMultiple(a){return this.#i(),bi(this.#k,a)}async rollback(){this.#k.open&&(this.#i(),ba(this.#k,"ROLLBACK",this.#h))}async commit(){this.#i(),ba(this.#k,"COMMIT",this.#h)}close(){this.#k.inTransaction&&ba(this.#k,"ROLLBACK",this.#h)}get closed(){return!this.#k.inTransaction}#i(){if(this.closed)throw new al("The transaction is closed","TRANSACTION_CLOSED")}}function ba(a,b,c){let d,e;if("string"==typeof b)d=b,e=[];else if(d=b.sql,Array.isArray(b.args))e=b.args.map(a=>bf(a,c));else for(let a in e={},b.args)e["@"===a[0]||"$"===a[0]||":"===a[0]?a.substring(1):a]=bf(b.args[a],c);try{let b=a.prepare(d);b.safeIntegers(!0);let f=!0;try{b.raw(!0)}catch{f=!1}if(f){let a=Array.from(b.columns().map(a=>a.name)),d=Array.from(b.columns().map(a=>a.type??"")),f=b.all(e).map(b=>bb(b,a,c)),g=0,h=void 0;return new a_(a,d,f,g,h)}{let a=b.run(e),c=a.changes,d=BigInt(a.lastInsertRowid);return new a_([],[],[],c,d)}}catch(a){throw bj(a)}}function bb(a,b,c){let d={};Object.defineProperty(d,"length",{value:a.length});for(let e=0;e<a.length;++e){let f=bc(a[e],c);Object.defineProperty(d,e,{value:f});let g=b[e];Object.hasOwn(d,g)||Object.defineProperty(d,g,{value:f,enumerable:!0,configurable:!0,writable:!0})}return d}function bc(a,b){if("bigint"==typeof a)if("number"===b){if(a<bd||a>be)throw RangeError("Received integer which cannot be safely represented as a JavaScript number");return Number(a)}else if("bigint"===b);else if("string"===b)return""+a;else throw Error("Invalid value for IntMode");else if(a instanceof a6.Buffer)return a.buffer;return a}let bd=-9007199254740991n,be=9007199254740991n;function bf(a,b){if("number"==typeof a){if(!Number.isFinite(a))throw RangeError("Only finite numbers (not Infinity or NaN) can be passed as arguments");return a}if("bigint"==typeof a){if(a<bg||a>bh)throw RangeError("bigint is too large to be represented as a 64-bit integer and passed as argument");return a}if("boolean"==typeof a)switch(b){case"bigint":return a?1n:0n;case"string":return a?"1":"0";default:return+!!a}if(a instanceof ArrayBuffer)return a6.Buffer.from(a);if(a instanceof Date)return a.valueOf();else if(void 0!==a)return a;else throw TypeError("undefined cannot be passed as argument to the database")}let bg=-0x8000000000000000n,bh=0x7fffffffffffffffn;function bi(a,b){try{a.exec(b)}catch(a){throw bj(a)}}function bj(a){return a instanceof a5.SqliteError?new al(a.message,a.code,a.rawCode,a):a}var bk=c(65664);class bl{constructor(){this.intMode="number"}intMode}class bm extends Error{constructor(a){super(a),this.name="ClientError"}}class bn extends bm{constructor(a){super(a),this.name="ProtoError"}}class bo extends bm{code;proto;constructor(a,b){super(a),this.name="ResponseError",this.code=b.code,this.proto=b,this.stack=void 0}}class bp extends bm{constructor(a,b){void 0!==b?(super(`${a}: ${b}`),this.cause=b):super(a),this.name="ClosedError"}}class bq extends bm{constructor(a){super(a),this.name="WebSocketUnsupportedError"}}class br extends bm{constructor(a){super(a),this.name="WebSocketError"}}class bs extends bm{status;constructor(a,b){super(a),this.status=b,this.name="HttpServerError"}}class bt extends bm{constructor(a){super(a),this.name="ProtocolVersionError"}}class bu extends bm{constructor(a){super(a),this.name="InternalError"}}class bv extends bm{constructor(a){super(a),this.name="MisuseError"}}function bw(a){if("string"==typeof a)return a;throw bD(a,"string")}function bx(a){if(null!=a){if("string"==typeof a)return a;throw bD(a,"string or null")}}function by(a){if("number"==typeof a)return a;throw bD(a,"number")}function bz(a){if("boolean"==typeof a)return a;throw bD(a,"boolean")}function bA(a){if(Array.isArray(a))return a;throw bD(a,"array")}function bB(a){if(null!==a&&"object"==typeof a&&!Array.isArray(a))return a;throw bD(a,"object")}function bC(a,b){return bA(a).map(a=>b(bB(a)))}function bD(a,b){if(void 0===a)return new bn(`Expected ${b}, but the property was missing`);let c=typeof a;return null===a?c="null":Array.isArray(a)&&(c="array"),new bn(`Expected ${b}, received ${c}`)}function bE(a,b){return b(bB(a))}class bF{#l;#m;constructor(a){this.#l=a,this.#m=!1}begin(){this.#l.push("{"),this.#m=!0}end(){this.#l.push("}"),this.#m=!1}#n(a){this.#m?(this.#l.push('"'),this.#m=!1):this.#l.push(',"'),this.#l.push(a),this.#l.push('":')}string(a,b){this.#n(a),this.#l.push(JSON.stringify(b))}stringRaw(a,b){this.#n(a),this.#l.push('"'),this.#l.push(b),this.#l.push('"')}number(a,b){this.#n(a),this.#l.push(""+b)}boolean(a,b){this.#n(a),this.#l.push(b?"true":"false")}object(a,b,c){this.#n(a),this.begin(),c(this,b),this.end()}arrayObjects(a,b,c){this.#n(a),this.#l.push("[");for(let a=0;a<b.length;++a)0!==a&&this.#l.push(","),this.begin(),c(this,b[a]),this.end();this.#l.push("]")}}function bG(a,b){let c=[],d=new bF(c);return d.begin(),b(d,a),d.end(),c.join("")}let bH=0,bI=1,bJ=2,bK=5;class bL{#o;#p;#q;constructor(a){this.#o=a,this.#p=new DataView(a.buffer,a.byteOffset,a.byteLength),this.#q=0}varint(){let a=0;for(let b=0;;b+=7){let c=this.#o[this.#q++];if(a|=(127&c)<<b,!(128&c))break}return a}varintBig(){let a=0n;for(let b=0n;;b+=7n){let c=this.#o[this.#q++];if(a|=BigInt(127&c)<<b,!(128&c))break}return a}bytes(a){let b=new Uint8Array(this.#o.buffer,this.#o.byteOffset+this.#q,a);return this.#q+=a,b}double(){let a=this.#p.getFloat64(this.#q,!0);return this.#q+=8,a}skipVarint(){for(;128&this.#o[this.#q++];);}skip(a){this.#q+=a}eof(){return this.#q>=this.#o.byteLength}}class bM{#r;#s;constructor(a){this.#r=a,this.#s=-1}setup(a){this.#s=a}#t(a){if(this.#s!==a)throw new bn(`Expected wire type ${a}, got ${this.#s}`);this.#s=-1}bytes(){this.#t(bJ);let a=this.#r.varint();return this.#r.bytes(a)}string(){return new TextDecoder().decode(this.bytes())}message(a){return bN(this.bytes(),a)}int32(){return this.#t(bH),this.#r.varint()}uint32(){return this.int32()}bool(){return 0!==this.int32()}uint64(){return this.#t(bH),this.#r.varintBig()}sint64(){let a=this.uint64();return a>>1n^-(1n&a)}double(){return this.#t(bI),this.#r.double()}maybeSkip(){if(!(this.#s<0)){if(this.#s===bH)this.#r.skipVarint();else if(this.#s===bI)this.#r.skip(8);else if(this.#s===bJ){let a=this.#r.varint();this.#r.skip(a)}else if(this.#s===bK)this.#r.skip(4);else throw new bn(`Unexpected wire type ${this.#s}`);this.#s=-1}}}function bN(a,b){let c=new bL(a),d=new bM(c),e=b.default();for(;!c.eof();){let a=c.varint(),f=a>>3,g=7&a;d.setup(g);let h=b[f];if(void 0!==h){let a=h(d,e);void 0!==a&&(e=a)}d.maybeSkip()}return e}class bO{#u;#o;#p;#q;constructor(){this.#u=new ArrayBuffer(256),this.#o=new Uint8Array(this.#u),this.#p=new DataView(this.#u),this.#q=0}#v(a){if(this.#q+a<=this.#u.byteLength)return;let b=this.#u.byteLength;for(;b<this.#q+a;)b*=2;let c=new ArrayBuffer(b),d=new Uint8Array(c),e=new DataView(c);d.set(new Uint8Array(this.#u,0,this.#q)),this.#u=c,this.#o=d,this.#p=e}#w(a){this.#v(5),a|=0;do{let b=127&a;a>>>=7,b|=128*!!a,this.#o[this.#q++]=b}while(a)}#x(a){this.#v(10),a&=0xffffffffffffffffn;do{let b=Number(127n&a);a>>=7n,b|=128*!!a,this.#o[this.#q++]=b}while(a)}#y(a,b){this.#w(a<<3|b)}bytes(a,b){this.#y(a,bJ),this.#w(b.byteLength),this.#v(b.byteLength),this.#o.set(b,this.#q),this.#q+=b.byteLength}string(a,b){this.bytes(a,new TextEncoder().encode(b))}message(a,b,c){let d=new bO;c(d,b),this.bytes(a,d.data())}int32(a,b){this.#y(a,bH),this.#w(b)}uint32(a,b){this.int32(a,b)}bool(a,b){this.int32(a,+!!b)}sint64(a,b){this.#y(a,bH),this.#x(b<<1n^b>>63n)}double(a,b){this.#y(a,bI),this.#v(8),this.#p.setFloat64(this.#q,b,!0),this.#q+=8}data(){return new Uint8Array(this.#u,0,this.#q)}}function bP(a,b){let c=new bO;return b(c,a),c.data()}class bQ{#z;#A;constructor(){this.#z=new Set,this.#A=new Set}alloc(){for(let a of this.#A)return this.#A.delete(a),this.#z.add(a),this.#z.has(this.#z.size-1)||this.#A.add(this.#z.size-1),a;let a=this.#z.size;return this.#z.add(a),a}free(a){if(!this.#z.delete(a))throw new bu("Freeing an id that is not allocated");this.#A.delete(this.#z.size),a<this.#z.size&&this.#A.add(a)}}function bR(a,b){throw new bu(b)}function bS(a){if(null===a)return null;if("string"==typeof a)return a;if("number"==typeof a){if(!Number.isFinite(a))throw RangeError("Only finite numbers (not Infinity or NaN) can be passed as arguments");return a}if("bigint"==typeof a){if(a<bT||a>bU)throw RangeError("This bigint value is too large to be represented as a 64-bit integer and passed as argument");return a}if("boolean"==typeof a)return a?1n:0n;else if(a instanceof ArrayBuffer)return new Uint8Array(a);else if(a instanceof Uint8Array)return a;else if(a instanceof Date)return+a.valueOf();else if("object"==typeof a)return""+a.toString();else throw TypeError("Unsupported type of value")}let bT=-0x8000000000000000n,bU=0x7fffffffffffffffn;function bV(a,b){if(null===a)return null;if("number"==typeof a)return a;if("string"==typeof a)return a;if("bigint"==typeof a)if("number"===b){let b=Number(a);if(!Number.isSafeInteger(b))throw RangeError("Received integer which is too large to be safely represented as a JavaScript number");return b}else if("bigint"===b)return a;else if("string"===b)return""+a;else throw new bv("Invalid value for IntMode");if(a instanceof Uint8Array)return a.slice().buffer;else if(void 0===a)throw new bn("Received unrecognized type of Value");else throw bR(a,"Impossible type of Value")}function bW(a){return{affectedRowCount:a.affectedRowCount,lastInsertRowid:a.lastInsertRowid,columnNames:a.cols.map(a=>a.name),columnDecltypes:a.cols.map(a=>a.decltype)}}function bX(a,b){let c=bW(a),d=a.rows.map(a=>b$(c.columnNames,a,b));return{...c,rows:d}}function bY(a,b){let c,d=bW(a);return a.rows.length>0&&(c=b$(d.columnNames,a.rows[0],b)),{...d,row:c}}function bZ(a,b){let c,d=bW(a);return a.rows.length>0&&d.columnNames.length>0&&(c=bV(a.rows[0][0],b)),{...d,value:c}}function b$(a,b,c){let d={};Object.defineProperty(d,"length",{value:b.length});for(let e=0;e<b.length;++e){let f=bV(b[e],c);Object.defineProperty(d,e,{value:f});let g=a[e];void 0===g||Object.hasOwn(d,g)||Object.defineProperty(d,g,{value:f,enumerable:!0,configurable:!0,writable:!0})}return d}function b_(a){return new bo(a.message,a)}class b0{#B;#C;#D;constructor(a,b){this.#B=a,this.#C=b,this.#D=void 0}_getSqlId(a){if(this.#B!==a)throw new bv("Attempted to use SQL text opened with other object");if(void 0!==this.#D)throw new bp("SQL text is closed",this.#D);return this.#C}close(){this._setClosed(new bm("SQL text was manually closed"))}_setClosed(a){void 0===this.#D&&(this.#D=a,this.#B._closeSql(this.#C))}get closed(){return void 0!==this.#D}}function b1(a,b){return b instanceof b0?{sqlId:b._getSqlId(a)}:{sql:""+b}}class b2{#E;#F;constructor(){this.#E=[],this.#F=[]}get length(){return this.#E.length+this.#F.length}push(a){this.#E.push(a)}shift(){return 0===this.#F.length&&this.#E.length>0&&(this.#F=this.#E.reverse(),this.#E=[]),this.#F.pop()}first(){return 0!==this.#F.length?this.#F[this.#F.length-1]:this.#E[0]}}class b3{sql;_args;_namedArgs;constructor(a){this.sql=a,this._args=[],this._namedArgs=new Map}bindIndexes(a){for(let b of(this._args.length=0,a))this._args.push(bS(b));return this}bindIndex(a,b){if(a!==(0|a)||a<=0)throw RangeError("Index of a positional argument must be positive integer");for(;this._args.length<a;)this._args.push(null);return this._args[a-1]=bS(b),this}bindName(a,b){return this._namedArgs.set(a,bS(b)),this}unbindAll(){return this._args.length=0,this._namedArgs.clear(),this}}function b4(a,b,c){let d,e=[],f=[];if(b instanceof b3)for(let[a,c]of(d=b.sql,e=b._args,b._namedArgs.entries()))f.push({name:a,value:c});else Array.isArray(b)?(d=b[0],Array.isArray(b[1])?e=b[1].map(a=>bS(a)):f=Object.entries(b[1]).map(([a,b])=>({name:a,value:bS(b)}))):d=b;let{sql:g,sqlId:h}=b1(a,d);return{sql:g,sqlId:h,args:e,namedArgs:f,wantRows:c}}class b5{_stream;#G;_steps;#H;constructor(a,b){this._stream=a,this.#G=b,this._steps=[],this.#H=!1}step(){return new b8(this)}execute(){if(this.#H)throw new bv("This batch has already been executed");this.#H=!0;let a={steps:this._steps.map(a=>a.proto)};return this.#G?b7(this._stream,this._steps,a):b6(this._stream,this._steps,a)}}function b6(a,b,c){return a._batch(c).then(a=>{for(let c=0;c<b.length;++c){let d=a.stepResults.get(c),e=a.stepErrors.get(c);b[c].callback(d,e)}})}async function b7(a,b,c){let d=await a._openCursor(c);try{let a,c=0,e=[];for(;;){let f=await d.next();if(void 0===f)break;if("step_begin"===f.type){if(f.step<c||f.step>=b.length)throw new bn("Server produced StepBeginEntry for unexpected step");if(void 0!==a)throw new bn("Server produced StepBeginEntry before terminating previous step");for(let a=c;a<f.step;++a)b[a].callback(void 0,void 0);c=f.step+1,a=f,e=[]}else if("step_end"===f.type){if(void 0===a)throw new bn("Server produced StepEndEntry but no step is active");let c={cols:a.cols,rows:e,affectedRowCount:f.affectedRowCount,lastInsertRowid:f.lastInsertRowid};b[a.step].callback(c,void 0),a=void 0,e=[]}else if("step_error"===f.type){if(void 0===a){if(f.step>=b.length)throw new bn("Server produced StepErrorEntry for unexpected step");for(let a=c;a<f.step;++a)b[a].callback(void 0,void 0)}else{if(f.step!==a.step)throw new bn("Server produced StepErrorEntry for unexpected step");a=void 0,e=[]}b[f.step].callback(void 0,f.error),c=f.step+1}else if("row"===f.type){if(void 0===a)throw new bn("Server produced RowEntry but no step is active");e.push(f.row)}else if("error"===f.type)throw b_(f.error);else if("none"===f.type)throw new bn("Server produced unrecognized CursorEntry");else throw bR(f,"Impossible CursorEntry")}if(void 0!==a)throw new bn("Server closed Cursor before terminating active step");for(let a=c;a<b.length;++a)b[a].callback(void 0,void 0)}finally{d.close()}}class b8{_batch;#I;_index;constructor(a){this._batch=a,this.#I=[],this._index=void 0}condition(a){return this.#I.push(a._proto),this}query(a){return this.#J(a,!0,bX)}queryRow(a){return this.#J(a,!0,bY)}queryValue(a){return this.#J(a,!0,bZ)}run(a){return this.#J(a,!1,bW)}#J(a,b,c){let d;if(void 0!==this._index)throw new bv("This BatchStep has already been added to the batch");let e={stmt:b4(this._batch._stream._sqlOwner(),a,b),condition:d=0===this.#I.length?void 0:1===this.#I.length?this.#I[0]:{type:"and",conds:this.#I.slice()}};return new Promise((a,b)=>{let d=(d,e)=>{void 0!==d&&void 0!==e?b(new bn("Server returned both result and error")):void 0!==e?b(b_(e)):void 0!==d?a(c(d,this._batch._stream.intMode)):a(void 0)};this._index=this._batch._steps.length,this._batch._steps.push({proto:e,callback:d})})}}class b9{_batch;_proto;constructor(a,b){this._batch=a,this._proto=b}static ok(a){return new b9(a._batch,{type:"ok",step:ca(a)})}static error(a){return new b9(a._batch,{type:"error",step:ca(a)})}static not(a){return new b9(a._batch,{type:"not",cond:a._proto})}static and(a,b){for(let c of b)cb(a,c);return new b9(a,{type:"and",conds:b.map(a=>a._proto)})}static or(a,b){for(let c of b)cb(a,c);return new b9(a,{type:"or",conds:b.map(a=>a._proto)})}static isAutocommit(a){return a._stream.client()._ensureVersion(3,"BatchCond.isAutocommit()"),new b9(a,{type:"is_autocommit"})}}function ca(a){if(void 0===a._index)throw new bv("Cannot add a condition referencing a step that has not been added to the batch");return a._index}function cb(a,b){if(b._batch!==a)throw new bv("Cannot mix BatchCond objects for different Batch objects")}function cc(a){return{paramNames:a.params.map(a=>a.name),columns:a.cols,isExplain:a.isExplain,isReadonly:a.isReadonly}}class cd{constructor(a){this.intMode=a}query(a){return this.#K(a,!0,bX)}queryRow(a){return this.#K(a,!0,bY)}queryValue(a){return this.#K(a,!0,bZ)}run(a){return this.#K(a,!1,bW)}#K(a,b,c){let d=b4(this._sqlOwner(),a,b);return this._execute(d).then(a=>c(a,this.intMode))}batch(a=!1){return new b5(this,a)}describe(a){let b=b1(this._sqlOwner(),a);return this._describe(b).then(cc)}sequence(a){let b=b1(this._sqlOwner(),a);return this._sequence(b)}intMode}class ce{}let cf=1e3,cg=10;class ch extends ce{#L;#M;#N;#O;#P;#D;#Q;constructor(a,b,c){super(),this.#L=a,this.#M=b,this.#N=c,this.#O=new b2,this.#P=new b2,this.#D=void 0,this.#Q=!1}async next(){for(;;){if(void 0!==this.#D)throw new bp("Cursor is closed",this.#D);for(;!this.#Q&&this.#P.length<cg;)this.#P.push(this.#R());let a=this.#O.shift();if(this.#Q||void 0!==a)return a;await this.#P.shift().then(a=>{if(void 0!==a){for(let b of a.entries)this.#O.push(b);this.#Q||=a.done}})}}#R(){return this.#M._sendCursorRequest(this,{type:"fetch_cursor",cursorId:this.#N,maxCount:cf}).then(a=>a,a=>{this._setClosed(a)})}_setClosed(a){void 0===this.#D&&(this.#D=a,this.#M._sendCursorRequest(this,{type:"close_cursor",cursorId:this.#N}).catch(()=>void 0),this.#M._cursorClosed(this))}close(){this._setClosed(new bm("Cursor was manually closed"))}get closed(){return void 0!==this.#D}}class ci extends cd{#L;#S;#T;#U;#V;#D;static open(a){let b=a._streamIdAlloc.alloc(),c=new ci(a,b),d=()=>void 0,e=a=>c.#W(a),f={type:"open_stream",streamId:b};return a._sendRequest(f,{responseCallback:d,errorCallback:e}),c}constructor(a,b){super(a.intMode),this.#L=a,this.#S=b,this.#T=new b2,this.#U=void 0,this.#V=!1,this.#D=void 0}client(){return this.#L}_sqlOwner(){return this.#L}_execute(a){return this.#X({type:"execute",streamId:this.#S,stmt:a}).then(a=>a.result)}_batch(a){return this.#X({type:"batch",streamId:this.#S,batch:a}).then(a=>a.result)}_describe(a){return this.#L._ensureVersion(2,"describe()"),this.#X({type:"describe",streamId:this.#S,sql:a.sql,sqlId:a.sqlId}).then(a=>a.result)}_sequence(a){return this.#L._ensureVersion(2,"sequence()"),this.#X({type:"sequence",streamId:this.#S,sql:a.sql,sqlId:a.sqlId}).then(a=>{})}getAutocommit(){return this.#L._ensureVersion(3,"getAutocommit()"),this.#X({type:"get_autocommit",streamId:this.#S}).then(a=>a.isAutocommit)}#X(a){return new Promise((b,c)=>{this.#Y({type:"request",request:a,responseCallback:b,errorCallback:c})})}_openCursor(a){return this.#L._ensureVersion(3,"cursor"),new Promise((b,c)=>{this.#Y({type:"cursor",batch:a,cursorCallback:b,errorCallback:c})})}_sendCursorRequest(a,b){if(a!==this.#U)throw new bu("Cursor not associated with the stream attempted to execute a request");return new Promise((a,c)=>{void 0!==this.#D?c(new bp("Stream is closed",this.#D)):this.#L._sendRequest(b,{responseCallback:a,errorCallback:c})})}_cursorClosed(a){if(a!==this.#U)throw new bu("Cursor was closed, but it was not associated with the stream");this.#U=void 0,this.#Z()}#Y(a){void 0!==this.#D?a.errorCallback(new bp("Stream is closed",this.#D)):this.#V?a.errorCallback(new bp("Stream is closing",void 0)):(this.#T.push(a),this.#Z())}#Z(){for(;;){let a=this.#T.first();if(void 0===a&&void 0===this.#U&&this.#V){this.#W(new bm("Stream was gracefully closed"));break}if(a?.type==="request"&&void 0===this.#U){let{request:b,responseCallback:c,errorCallback:d}=a;this.#T.shift(),this.#L._sendRequest(b,{responseCallback:c,errorCallback:d})}else if(a?.type==="cursor"&&void 0===this.#U){let{batch:b,cursorCallback:c}=a;this.#T.shift();let d=this.#L._cursorIdAlloc.alloc(),e=new ch(this.#L,this,d),f={type:"open_cursor",streamId:this.#S,cursorId:d,batch:b},g=()=>void 0,h=a=>e._setClosed(a);this.#L._sendRequest(f,{responseCallback:g,errorCallback:h}),this.#U=e,c(e)}else break}}#W(a){if(void 0!==this.#D)return;for(this.#D=a,void 0!==this.#U&&this.#U._setClosed(a);;){let b=this.#T.shift();if(void 0!==b)b.errorCallback(a);else break}let b={type:"close_stream",streamId:this.#S},c=()=>this.#L._streamIdAlloc.free(this.#S),d=()=>void 0;this.#L._sendRequest(b,{responseCallback:c,errorCallback:d})}close(){this.#W(new bm("Stream was manually closed"))}closeGracefully(){this.#V=!0,this.#Z()}get closed(){return void 0!==this.#D||this.#V}}function cj(a,b){void 0!==b.sql&&a.string("sql",b.sql),void 0!==b.sqlId&&a.number("sql_id",b.sqlId),a.arrayObjects("args",b.args,co),a.arrayObjects("named_args",b.namedArgs,ck),a.boolean("want_rows",b.wantRows)}function ck(a,b){a.string("name",b.name),a.object("value",b.value,co)}function cl(a,b){a.arrayObjects("steps",b.steps,cm)}function cm(a,b){void 0!==b.condition&&a.object("condition",b.condition,cn),a.object("stmt",b.stmt,cj)}function cn(a,b){if(a.stringRaw("type",b.type),"ok"===b.type||"error"===b.type)a.number("step",b.step);else if("not"===b.type)a.object("cond",b.cond,cn);else if("and"===b.type||"or"===b.type)a.arrayObjects("conds",b.conds,cn);else if("is_autocommit"===b.type);else throw bR(b,"Impossible type of BatchCond")}function co(a,b){if(null===b)a.stringRaw("type","null");else if("bigint"==typeof b)a.stringRaw("type","integer"),a.stringRaw("value",""+b);else if("number"==typeof b)a.stringRaw("type","float"),a.number("value",b);else if("string"==typeof b)a.stringRaw("type","text"),a.string("value",b);else if(b instanceof Uint8Array)a.stringRaw("type","blob"),a.stringRaw("base64",aY.fromUint8Array(b));else if(void 0===b);else throw bR(b,"Impossible type of Value")}function cp(a,b){if(a.stringRaw("type",b.type),"hello"===b.type)void 0!==b.jwt&&a.string("jwt",b.jwt);else if("request"===b.type)a.number("request_id",b.requestId),a.object("request",b.request,cq);else throw bR(b,"Impossible type of ClientMsg")}function cq(a,b){if(a.stringRaw("type",b.type),"open_stream"===b.type)a.number("stream_id",b.streamId);else if("close_stream"===b.type)a.number("stream_id",b.streamId);else if("execute"===b.type)a.number("stream_id",b.streamId),a.object("stmt",b.stmt,cj);else if("batch"===b.type)a.number("stream_id",b.streamId),a.object("batch",b.batch,cl);else if("open_cursor"===b.type)a.number("stream_id",b.streamId),a.number("cursor_id",b.cursorId),a.object("batch",b.batch,cl);else if("close_cursor"===b.type)a.number("cursor_id",b.cursorId);else if("fetch_cursor"===b.type)a.number("cursor_id",b.cursorId),a.number("max_count",b.maxCount);else if("sequence"===b.type)a.number("stream_id",b.streamId),void 0!==b.sql&&a.string("sql",b.sql),void 0!==b.sqlId&&a.number("sql_id",b.sqlId);else if("describe"===b.type)a.number("stream_id",b.streamId),void 0!==b.sql&&a.string("sql",b.sql),void 0!==b.sqlId&&a.number("sql_id",b.sqlId);else if("store_sql"===b.type)a.number("sql_id",b.sqlId),a.string("sql",b.sql);else if("close_sql"===b.type)a.number("sql_id",b.sqlId);else if("get_autocommit"===b.type)a.number("stream_id",b.streamId);else throw bR(b,"Impossible type of Request")}function cr(a,b){for(let c of(void 0!==b.sql&&a.string(1,b.sql),void 0!==b.sqlId&&a.int32(2,b.sqlId),b.args))a.message(3,c,cx);for(let c of b.namedArgs)a.message(4,c,cs);a.bool(5,b.wantRows)}function cs(a,b){a.string(1,b.name),a.message(2,b.value,cx)}function ct(a,b){for(let c of b.steps)a.message(1,c,cu)}function cu(a,b){void 0!==b.condition&&a.message(1,b.condition,cv),a.message(2,b.stmt,cr)}function cv(a,b){if("ok"===b.type)a.uint32(1,b.step);else if("error"===b.type)a.uint32(2,b.step);else if("not"===b.type)a.message(3,b.cond,cv);else if("and"===b.type)a.message(4,b.conds,cw);else if("or"===b.type)a.message(5,b.conds,cw);else if("is_autocommit"===b.type)a.message(6,void 0,cy);else throw bR(b,"Impossible type of BatchCond")}function cw(a,b){for(let c of b)a.message(1,c,cv)}function cx(a,b){if(null===b)a.message(1,void 0,cy);else if("bigint"==typeof b)a.sint64(2,b);else if("number"==typeof b)a.double(3,b);else if("string"==typeof b)a.string(4,b);else if(b instanceof Uint8Array)a.bytes(5,b);else if(void 0===b);else throw bR(b,"Impossible type of Value")}function cy(a,b){}function cz(a,b){if("hello"===b.type)a.message(1,b,cA);else if("request"===b.type)a.message(2,b,cB);else throw bR(b,"Impossible type of ClientMsg")}function cA(a,b){void 0!==b.jwt&&a.string(1,b.jwt)}function cB(a,b){a.int32(1,b.requestId);let c=b.request;if("open_stream"===c.type)a.message(2,c,cC);else if("close_stream"===c.type)a.message(3,c,cD);else if("execute"===c.type)a.message(4,c,cE);else if("batch"===c.type)a.message(5,c,cF);else if("open_cursor"===c.type)a.message(6,c,cG);else if("close_cursor"===c.type)a.message(7,c,cH);else if("fetch_cursor"===c.type)a.message(8,c,cI);else if("sequence"===c.type)a.message(9,c,cJ);else if("describe"===c.type)a.message(10,c,cK);else if("store_sql"===c.type)a.message(11,c,cL);else if("close_sql"===c.type)a.message(12,c,cM);else if("get_autocommit"===c.type)a.message(13,c,cN);else throw bR(c,"Impossible type of Request")}function cC(a,b){a.int32(1,b.streamId)}function cD(a,b){a.int32(1,b.streamId)}function cE(a,b){a.int32(1,b.streamId),a.message(2,b.stmt,cr)}function cF(a,b){a.int32(1,b.streamId),a.message(2,b.batch,ct)}function cG(a,b){a.int32(1,b.streamId),a.int32(2,b.cursorId),a.message(3,b.batch,ct)}function cH(a,b){a.int32(1,b.cursorId)}function cI(a,b){a.int32(1,b.cursorId),a.uint32(2,b.maxCount)}function cJ(a,b){a.int32(1,b.streamId),void 0!==b.sql&&a.string(2,b.sql),void 0!==b.sqlId&&a.int32(3,b.sqlId)}function cK(a,b){a.int32(1,b.streamId),void 0!==b.sql&&a.string(2,b.sql),void 0!==b.sqlId&&a.int32(3,b.sqlId)}function cL(a,b){a.int32(1,b.sqlId),a.string(2,b.sql)}function cM(a,b){a.int32(1,b.sqlId)}function cN(a,b){a.int32(1,b.streamId)}function cO(a){return{message:bw(a.message),code:bx(a.code)}}function cP(a){let b=bC(a.cols,cQ),c=bA(a.rows).map(a=>bC(a,cW)),d=by(a.affected_row_count),e=bx(a.last_insert_rowid);return{cols:b,rows:c,affectedRowCount:d,lastInsertRowid:void 0!==e?BigInt(e):void 0}}function cQ(a){return{name:bx(a.name),decltype:bx(a.decltype)}}function cR(a){let b=new Map;bA(a.step_results).forEach((a,c)=>{null!==a&&b.set(c,cP(bB(a)))});let c=new Map;return bA(a.step_errors).forEach((a,b)=>{null!==a&&c.set(b,cO(bB(a)))}),{stepResults:b,stepErrors:c}}function cS(a){let b=bw(a.type);if("step_begin"===b)return{type:"step_begin",step:by(a.step),cols:bC(a.cols,cQ)};if("step_end"===b){let b=by(a.affected_row_count),c=bx(a.last_insert_rowid);return{type:"step_end",affectedRowCount:b,lastInsertRowid:void 0!==c?BigInt(c):void 0}}if("step_error"===b)return{type:"step_error",step:by(a.step),error:cO(bB(a.error))};if("row"===b)return{type:"row",row:bC(a.row,cW)};if("error"===b)return{type:"error",error:cO(bB(a.error))};else throw new bn("Unexpected type of CursorEntry")}function cT(a){let b=bC(a.params,cU),c=bC(a.cols,cV);return{params:b,cols:c,isExplain:bz(a.is_explain),isReadonly:bz(a.is_readonly)}}function cU(a){return{name:bx(a.name)}}function cV(a){return{name:bw(a.name),decltype:bx(a.decltype)}}function cW(a){let b=bw(a.type);if("null"===b)return null;if("integer"===b)return BigInt(bw(a.value));if("float"===b)return by(a.value);if("text"===b)return bw(a.value);if("blob"===b)return aY.toUint8Array(bw(a.base64));else throw new bn("Unexpected type of Value")}function cX(a){let b=bw(a.type);if("hello_ok"===b)return{type:"hello_ok"};if("hello_error"===b)return{type:"hello_error",error:cO(bB(a.error))};if("response_ok"===b)return{type:"response_ok",requestId:by(a.request_id),response:cY(bB(a.response))};if("response_error"===b)return{type:"response_error",requestId:by(a.request_id),error:cO(bB(a.error))};throw new bn("Unexpected type of ServerMsg")}function cY(a){let b=bw(a.type);if("open_stream"===b)return{type:"open_stream"};if("close_stream"===b)return{type:"close_stream"};if("execute"===b)return{type:"execute",result:cP(bB(a.result))};if("batch"===b)return{type:"batch",result:cR(bB(a.result))};if("open_cursor"===b)return{type:"open_cursor"};else if("close_cursor"===b)return{type:"close_cursor"};else if("fetch_cursor"===b)return{type:"fetch_cursor",entries:bC(a.entries,cS),done:bz(a.done)};else if("sequence"===b)return{type:"sequence"};else if("describe"===b)return{type:"describe",result:cT(bB(a.result))};else if("store_sql"===b)return{type:"store_sql"};else if("close_sql"===b)return{type:"close_sql"};else if("get_autocommit"===b)return{type:"get_autocommit",isAutocommit:bz(a.is_autocommit)};else throw new bn("Unexpected type of Response")}let cZ={default:()=>({message:"",code:void 0}),1(a,b){b.message=a.string()},2(a,b){b.code=a.string()}},c$={default:()=>({cols:[],rows:[],affectedRowCount:0,lastInsertRowid:void 0}),1(a,b){b.cols.push(a.message(c_))},2(a,b){b.rows.push(a.message(c0))},3(a,b){b.affectedRowCount=Number(a.uint64())},4(a,b){b.lastInsertRowid=a.sint64()}},c_={default:()=>({name:void 0,decltype:void 0}),1(a,b){b.name=a.string()},2(a,b){b.decltype=a.string()}},c0={default:()=>[],1(a,b){b.push(a.message(db))}},c1={default:()=>({stepResults:new Map,stepErrors:new Map}),1(a,b){let[c,d]=a.message(c2);b.stepResults.set(c,d)},2(a,b){let[c,d]=a.message(c3);b.stepErrors.set(c,d)}},c2={default:()=>[0,c$.default()],1(a,b){b[0]=a.uint32()},2(a,b){b[1]=a.message(c$)}},c3={default:()=>[0,cZ.default()],1(a,b){b[0]=a.uint32()},2(a,b){b[1]=a.message(cZ)}},c4={default:()=>({type:"none"}),1:a=>a.message(c5),2:a=>a.message(c6),3:a=>a.message(c7),4:a=>({type:"row",row:a.message(c0)}),5:a=>({type:"error",error:a.message(cZ)})},c5={default:()=>({type:"step_begin",step:0,cols:[]}),1(a,b){b.step=a.uint32()},2(a,b){b.cols.push(a.message(c_))}},c6={default:()=>({type:"step_end",affectedRowCount:0,lastInsertRowid:void 0}),1(a,b){b.affectedRowCount=a.uint32()},2(a,b){b.lastInsertRowid=a.uint64()}},c7={default:()=>({type:"step_error",step:0,error:cZ.default()}),1(a,b){b.step=a.uint32()},2(a,b){b.error=a.message(cZ)}},c8={default:()=>({params:[],cols:[],isExplain:!1,isReadonly:!1}),1(a,b){b.params.push(a.message(c9))},2(a,b){b.cols.push(a.message(da))},3(a,b){b.isExplain=a.bool()},4(a,b){b.isReadonly=a.bool()}},c9={default:()=>({name:void 0}),1(a,b){b.name=a.string()}},da={default:()=>({name:"",decltype:void 0}),1(a,b){b.name=a.string()},2(a,b){b.decltype=a.string()}},db={default(){},1:a=>null,2:a=>a.sint64(),3:a=>a.double(),4:a=>a.string(),5:a=>a.bytes()},dc={default:()=>({type:"none"}),1:a=>({type:"hello_ok"}),2:a=>a.message(dd),3:a=>a.message(df),4:a=>a.message(de)},dd={default:()=>({type:"hello_error",error:cZ.default()}),1(a,b){b.error=a.message(cZ)}},de={default:()=>({type:"response_error",requestId:0,error:cZ.default()}),1(a,b){b.requestId=a.int32()},2(a,b){b.error=a.message(cZ)}},df={default:()=>({type:"response_ok",requestId:0,response:{type:"none"}}),1(a,b){b.requestId=a.int32()},2(a,b){b.response={type:"open_stream"}},3(a,b){b.response={type:"close_stream"}},4(a,b){b.response=a.message(dg)},5(a,b){b.response=a.message(dh)},6(a,b){b.response={type:"open_cursor"}},7(a,b){b.response={type:"close_cursor"}},8(a,b){b.response=a.message(di)},9(a,b){b.response={type:"sequence"}},10(a,b){b.response=a.message(dj)},11(a,b){b.response={type:"store_sql"}},12(a,b){b.response={type:"close_sql"}},13(a,b){b.response=a.message(dk)}},dg={default:()=>({type:"execute",result:c$.default()}),1(a,b){b.result=a.message(c$)}},dh={default:()=>({type:"batch",result:c1.default()}),1(a,b){b.result=a.message(c1)}},di={default:()=>({type:"fetch_cursor",entries:[],done:!1}),1(a,b){b.entries.push(a.message(c4))},2(a,b){b.done=a.bool()}},dj={default:()=>({type:"describe",result:c8.default()}),1(a,b){b.result=a.message(c8)}},dk={default:()=>({type:"get_autocommit",isAutocommit:!1}),1(a,b){b.isAutocommit=a.bool()}},dl=new Map([["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]),dm=new Map([["hrana3-protobuf",{version:3,encoding:"protobuf"}],["hrana3",{version:3,encoding:"json"}],["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]);class dn extends bl{#$;#_;#aa;#D;#ab;#ac;#ad;#ae;#af;_streamIdAlloc;_cursorIdAlloc;#ag;constructor(a,b){super(),this.#$=a,this.#_=[],this.#aa=!1,this.#D=void 0,this.#ab=!1,this.#ac=void 0,this.#ad=!1,this.#ae=new Map,this.#af=new bQ,this._streamIdAlloc=new bQ,this._cursorIdAlloc=new bQ,this.#ag=new bQ,this.#$.binaryType="arraybuffer",this.#$.addEventListener("open",()=>this.#ah()),this.#$.addEventListener("close",a=>this.#ai(a)),this.#$.addEventListener("error",a=>this.#aj(a)),this.#$.addEventListener("message",a=>this.#ak(a)),this.#al({type:"hello",jwt:b})}#al(a){if(void 0!==this.#D)throw new bu("Trying to send a message on a closed client");if(this.#aa)this.#am(a);else{let b=()=>this.#am(a),c=()=>void 0;this.#_.push({openCallback:b,errorCallback:c})}}#ah(){let a=this.#$.protocol;if(void 0===a)return void this.#W(new bm("The `WebSocket.protocol` property is undefined. This most likely means that the WebSocket implementation provided by the environment is broken. If you are using Miniflare 2, please update to Miniflare 3, which fixes this problem."));if(""===a)this.#ac={version:1,encoding:"json"};else if(this.#ac=dm.get(a),void 0===this.#ac)return void this.#W(new bn(`Unrecognized WebSocket subprotocol: ${JSON.stringify(a)}`));for(let a of this.#_)a.openCallback();this.#_.length=0,this.#aa=!0}#am(a){let b=this.#ac.encoding;if("json"===b){let b=bG(a,cp);this.#$.send(b)}else if("protobuf"===b){let b=bP(a,cz);this.#$.send(b)}else throw bR(b,"Impossible encoding")}getVersion(){return new Promise((a,b)=>{if(this.#ad=!0,void 0!==this.#D)b(this.#D);else if(this.#aa)a(this.#ac.version);else{let c=()=>a(this.#ac.version);this.#_.push({openCallback:c,errorCallback:b})}})}_ensureVersion(a,b){if(void 0!==this.#ac&&this.#ad){if(this.#ac.version<a)throw new bt(`${b} is supported on protocol version ${a} and higher, but the WebSocket server only supports version ${this.#ac.version}`)}else throw new bt(`${b} is supported only on protocol version ${a} and higher, but the version supported by the WebSocket server is not yet known. Use Client.getVersion() to wait until the version is available.`)}_sendRequest(a,b){if(void 0!==this.#D)return void b.errorCallback(new bp("Client is closed",this.#D));let c=this.#af.alloc();this.#ae.set(c,{...b,type:a.type}),this.#al({type:"request",requestId:c,request:a})}#aj(a){let b=a.message??"WebSocket was closed due to an error";this.#W(new br(b))}#ai(a){let b=`WebSocket was closed with code ${a.code}`;a.reason&&(b+=`: ${a.reason}`),this.#W(new br(b))}#W(a){if(void 0===this.#D){for(let b of(this.#D=a,this.#_))b.errorCallback(a);for(let[b,c]of(this.#_.length=0,this.#ae.entries()))c.errorCallback(a),this.#af.free(b);this.#ae.clear(),this.#$.close()}}#ak(a){if(void 0===this.#D)try{let b,c=this.#ac.encoding;if("json"===c){if("string"!=typeof a.data){this.#$.close(3003,"Only text messages are accepted with JSON encoding"),this.#W(new bn("Received non-text message from server with JSON encoding"));return}b=bE(JSON.parse(a.data),cX)}else if("protobuf"===c){if(!(a.data instanceof ArrayBuffer)){this.#$.close(3003,"Only binary messages are accepted with Protobuf encoding"),this.#W(new bn("Received non-binary message from server with Protobuf encoding"));return}b=bN(new Uint8Array(a.data),dc)}else throw bR(c,"Impossible encoding");this.#an(b)}catch(a){this.#$.close(3007,"Could not handle message"),this.#W(a)}}#an(a){if("none"===a.type)throw new bn("Received an unrecognized ServerMsg");if("hello_ok"===a.type||"hello_error"===a.type){if(this.#ab)throw new bn("Received a duplicated hello response");if(this.#ab=!0,"hello_error"===a.type)throw b_(a.error);return}if(!this.#ab)throw new bn("Received a non-hello message before a hello response");if("response_ok"===a.type){let b=a.requestId,c=this.#ae.get(b);if(this.#ae.delete(b),void 0===c)throw new bn("Received unexpected OK response");this.#af.free(b);try{if(c.type!==a.response.type)throw console.dir({responseState:c,msg:a}),new bn("Received unexpected type of response");c.responseCallback(a.response)}catch(a){throw c.errorCallback(a),a}}else if("response_error"===a.type){let b=a.requestId,c=this.#ae.get(b);if(this.#ae.delete(b),void 0===c)throw new bn("Received unexpected error response");this.#af.free(b),c.errorCallback(b_(a.error))}else throw bR(a,"Impossible ServerMsg type")}openStream(){return ci.open(this)}storeSql(a){this._ensureVersion(2,"storeSql()");let b=this.#ag.alloc(),c=new b0(this,b),d=()=>void 0,e=a=>c._setClosed(a),f={type:"store_sql",sqlId:b,sql:a};return this._sendRequest(f,{responseCallback:d,errorCallback:e}),c}_closeSql(a){if(void 0!==this.#D)return;let b=()=>this.#ag.free(a),c=a=>this.#W(a),d={type:"close_sql",sqlId:a};this._sendRequest(d,{responseCallback:b,errorCallback:c})}close(){this.#W(new bm("Client was manually closed"))}get closed(){return void 0!==this.#D}}let dp=Request,dq=Headers,dr=fetch;if("undefined"!=typeof queueMicrotask)d=queueMicrotask;else{let a=Promise.resolve();d=b=>{a.then(b)}}class ds{#o;#ao;#ap;constructor(a){this.#o=new Uint8Array(new ArrayBuffer(a)),this.#ao=0,this.#ap=0}get length(){return this.#ap-this.#ao}data(){return this.#o.slice(this.#ao,this.#ap)}push(a){this.#aq(a.byteLength),this.#o.set(a,this.#ap),this.#ap+=a.byteLength}#aq(a){if(this.#ap+a<=this.#o.byteLength)return;let b=this.#ap-this.#ao;if(b+a<=this.#o.byteLength&&2*this.#ap>=this.#o.byteLength)this.#o.copyWithin(0,this.#ao,this.#ap);else{let c=this.#o.byteLength;do c*=2;while(b+a>c);let d=new Uint8Array(new ArrayBuffer(c));d.set(this.#o.slice(this.#ao,this.#ap),0),this.#o=d}this.#ap=b,this.#ao=0}shift(a){this.#ao+=a}}function dt(a){let b=bx(a.baton);return{baton:b,baseUrl:bx(a.base_url),results:bC(a.results,du)}}function du(a){let b=bw(a.type);if("ok"===b)return{type:"ok",response:dv(bB(a.response))};if("error"===b)return{type:"error",error:cO(bB(a.error))};throw new bn("Unexpected type of StreamResult")}function dv(a){let b=bw(a.type);if("close"===b)return{type:"close"};if("execute"===b)return{type:"execute",result:cP(bB(a.result))};if("batch"===b)return{type:"batch",result:cR(bB(a.result))};if("sequence"===b)return{type:"sequence"};if("describe"===b)return{type:"describe",result:cT(bB(a.result))};else if("store_sql"===b)return{type:"store_sql"};else if("close_sql"===b)return{type:"close_sql"};else if("get_autocommit"===b)return{type:"get_autocommit",isAutocommit:bz(a.is_autocommit)};else throw new bn("Unexpected type of StreamResponse")}function dw(a){return{baton:bx(a.baton),baseUrl:bx(a.base_url)}}let dx={default:()=>({baton:void 0,baseUrl:void 0,results:[]}),1(a,b){b.baton=a.string()},2(a,b){b.baseUrl=a.string()},3(a,b){b.results.push(a.message(dy))}},dy={default:()=>({type:"none"}),1:a=>({type:"ok",response:a.message(dz)}),2:a=>({type:"error",error:a.message(cZ)})},dz={default:()=>({type:"none"}),1:a=>({type:"close"}),2:a=>a.message(dA),3:a=>a.message(dB),4:a=>({type:"sequence"}),5:a=>a.message(dC),6:a=>({type:"store_sql"}),7:a=>({type:"close_sql"}),8:a=>a.message(dD)},dA={default:()=>({type:"execute",result:c$.default()}),1(a,b){b.result=a.message(c$)}},dB={default:()=>({type:"batch",result:c1.default()}),1(a,b){b.result=a.message(c1)}},dC={default:()=>({type:"describe",result:c8.default()}),1(a,b){b.result=a.message(c8)}},dD={default:()=>({type:"get_autocommit",isAutocommit:!1}),1(a,b){b.isAutocommit=a.bool()}},dE={default:()=>({baton:void 0,baseUrl:void 0}),1(a,b){b.baton=a.string()},2(a,b){b.baseUrl=a.string()}};class dF extends ce{#M;#ar;#r;#T;#D;#Q;constructor(a,b){super(),this.#M=a,this.#ar=b,this.#r=void 0,this.#T=new ds(16384),this.#D=void 0,this.#Q=!1}async open(a){if(null===a.body)throw new bn("No response body for cursor request");this.#r=a.body.getReader();let b=await this.#as(dw,dE);if(void 0===b)throw new bn("Empty response to cursor request");return b}next(){return this.#as(cS,c4)}close(){this._setClosed(new bm("Cursor was manually closed"))}_setClosed(a){void 0===this.#D&&(this.#D=a,this.#M._cursorClosed(this),void 0!==this.#r&&this.#r.cancel())}get closed(){return void 0!==this.#D}async #as(a,b){for(;;){if(this.#Q)return;if(void 0!==this.#D)throw new bp("Cursor is closed",this.#D);if("json"===this.#ar){let b=this.#at();if(void 0!==b)return bE(JSON.parse(new TextDecoder().decode(b)),a)}else if("protobuf"===this.#ar){let a=this.#au();if(void 0!==a)return bN(a,b)}else throw bR(this.#ar,"Impossible encoding");if(void 0===this.#r)throw new bu("Attempted to read from HTTP cursor before it was opened");let{value:c,done:d}=await this.#r.read();if(d&&0===this.#T.length)this.#Q=!0;else if(d)throw new bn("Unexpected end of cursor stream");else this.#T.push(c)}}#at(){let a=this.#T.data(),b=10,c=a.indexOf(b);if(c<0)return;let d=a.slice(0,c);return this.#T.shift(c+1),d}#au(){let a=this.#T.data(),b=0,c=0;for(;;){if(c>=a.byteLength)return;let d=a[c];if(b|=(127&d)<<7*c,c+=1,!(128&d))break}if(a.byteLength<c+b)return;let d=a.slice(c,c+b);return this.#T.shift(c+b),d}}function dG(a,b){void 0!==b.baton&&a.string("baton",b.baton),a.arrayObjects("requests",b.requests,dH)}function dH(a,b){if(a.stringRaw("type",b.type),"close"===b.type);else if("execute"===b.type)a.object("stmt",b.stmt,cj);else if("batch"===b.type)a.object("batch",b.batch,cl);else if("sequence"===b.type)void 0!==b.sql&&a.string("sql",b.sql),void 0!==b.sqlId&&a.number("sql_id",b.sqlId);else if("describe"===b.type)void 0!==b.sql&&a.string("sql",b.sql),void 0!==b.sqlId&&a.number("sql_id",b.sqlId);else if("store_sql"===b.type)a.number("sql_id",b.sqlId),a.string("sql",b.sql);else if("close_sql"===b.type)a.number("sql_id",b.sqlId);else if("get_autocommit"===b.type);else throw bR(b,"Impossible type of StreamRequest")}function dI(a,b){void 0!==b.baton&&a.string("baton",b.baton),a.object("batch",b.batch,cl)}function dJ(a,b){for(let c of(void 0!==b.baton&&a.string(1,b.baton),b.requests))a.message(2,c,dK)}function dK(a,b){if("close"===b.type)a.message(1,b,dL);else if("execute"===b.type)a.message(2,b,dM);else if("batch"===b.type)a.message(3,b,dN);else if("sequence"===b.type)a.message(4,b,dO);else if("describe"===b.type)a.message(5,b,dP);else if("store_sql"===b.type)a.message(6,b,dQ);else if("close_sql"===b.type)a.message(7,b,dR);else if("get_autocommit"===b.type)a.message(8,b,dS);else throw bR(b,"Impossible type of StreamRequest")}function dL(a,b){}function dM(a,b){a.message(1,b.stmt,cr)}function dN(a,b){a.message(1,b.batch,ct)}function dO(a,b){void 0!==b.sql&&a.string(1,b.sql),void 0!==b.sqlId&&a.int32(2,b.sqlId)}function dP(a,b){void 0!==b.sql&&a.string(1,b.sql),void 0!==b.sqlId&&a.int32(2,b.sqlId)}function dQ(a,b){a.int32(1,b.sqlId),a.string(2,b.sql)}function dR(a,b){a.int32(1,b.sqlId)}function dS(a,b){}function dT(a,b){void 0!==b.baton&&a.string(1,b.baton),a.message(2,b.batch,ct)}class dU extends cd{#L;#av;#aw;#R;#ax;#T;#ay;#U;#V;#az;#D;#ag;constructor(a,b,c,d){super(a.intMode),this.#L=a,this.#av=b.toString(),this.#aw=c,this.#R=d,this.#ax=void 0,this.#T=new b2,this.#ay=!1,this.#V=!1,this.#az=!1,this.#D=void 0,this.#ag=new bQ}client(){return this.#L}_sqlOwner(){return this}storeSql(a){let b=this.#ag.alloc();return this.#X({type:"store_sql",sqlId:b,sql:a}).then(()=>void 0,a=>this._setClosed(a)),new b0(this,b)}_closeSql(a){void 0===this.#D&&this.#X({type:"close_sql",sqlId:a}).then(()=>this.#ag.free(a),a=>this._setClosed(a))}_execute(a){return this.#X({type:"execute",stmt:a}).then(a=>a.result)}_batch(a){return this.#X({type:"batch",batch:a}).then(a=>a.result)}_describe(a){return this.#X({type:"describe",sql:a.sql,sqlId:a.sqlId}).then(a=>a.result)}_sequence(a){return this.#X({type:"sequence",sql:a.sql,sqlId:a.sqlId}).then(a=>{})}getAutocommit(){return this.#L._ensureVersion(3,"getAutocommit()"),this.#X({type:"get_autocommit"}).then(a=>a.isAutocommit)}#X(a){return new Promise((b,c)=>{this.#Y({type:"pipeline",request:a,responseCallback:b,errorCallback:c})})}_openCursor(a){return new Promise((b,c)=>{this.#Y({type:"cursor",batch:a,cursorCallback:b,errorCallback:c})})}_cursorClosed(a){if(a!==this.#U)throw new bu("Cursor was closed, but it was not associated with the stream");this.#U=void 0,d(()=>this.#Z())}close(){this._setClosed(new bm("Stream was manually closed"))}closeGracefully(){this.#V=!0,d(()=>this.#Z())}get closed(){return void 0!==this.#D||this.#V}_setClosed(a){if(void 0===this.#D){for(this.#D=a,void 0!==this.#U&&this.#U._setClosed(a),this.#L._streamClosed(this);;){let b=this.#T.shift();if(void 0!==b)b.errorCallback(a);else break}(void 0!==this.#ax||this.#ay)&&!this.#az&&(this.#T.push({type:"pipeline",request:{type:"close"},responseCallback:()=>void 0,errorCallback:()=>void 0}),this.#az=!0,d(()=>this.#Z()))}}#Y(a){if(void 0!==this.#D)throw new bp("Stream is closed",this.#D);if(this.#V)throw new bp("Stream is closing",void 0);this.#T.push(a),d(()=>this.#Z())}#Z(){if(this.#ay||void 0!==this.#U)return;if(this.#V&&0===this.#T.length)return void this._setClosed(new bm("Stream was gracefully closed"));let a=this.#L._endpoint;if(void 0===a)return void this.#L._endpointPromise.then(()=>this.#Z(),a=>this._setClosed(a));let b=this.#T.shift();if(void 0!==b)if("pipeline"===b.type){let c=[b];for(;;){let a=this.#T.first();if(void 0!==a&&"pipeline"===a.type)c.push(a),this.#T.shift();else if(void 0===a&&this.#V&&!this.#az){c.push({type:"pipeline",request:{type:"close"},responseCallback:()=>void 0,errorCallback:()=>void 0}),this.#az=!0;break}else break}this.#aA(a,c)}else if("cursor"===b.type)this.#aB(a,b);else throw bR(b,"Impossible type of QueueEntry")}#aA(a,b){this.#aC(()=>this.#aD(b,a),b=>dW(b,a.encoding),a=>a.baton,a=>a.baseUrl,a=>dV(b,a),a=>b.forEach(b=>b.errorCallback(a)))}#aB(a,b){let c=new dF(this,a.encoding);this.#U=c,this.#aC(()=>this.#aE(b,a),a=>c.open(a),a=>a.baton,a=>a.baseUrl,a=>b.cursorCallback(c),a=>b.errorCallback(a))}#aC(a,b,c,d,e,f){let g;try{let b=a();g=(0,this.#R)(b)}catch(a){g=Promise.reject(a)}this.#ay=!0,g.then(a=>a.ok?b(a):dX(a).then(a=>{throw a})).then(a=>{this.#ax=c(a),this.#av=d(a)??this.#av,e(a)}).catch(a=>{this._setClosed(a),f(a)}).finally(()=>{this.#ay=!1,this.#Z()})}#aD(a,b){return this.#aF(new URL(b.pipelinePath,this.#av),{baton:this.#ax,requests:a.map(a=>a.request)},b.encoding,dG,dJ)}#aE(a,b){if(void 0===b.cursorPath)throw new bt(`Cursors are supported only on protocol version 3 and higher, but the HTTP server only supports version ${b.version}.`);return this.#aF(new URL(b.cursorPath,this.#av),{baton:this.#ax,batch:a.batch},b.encoding,dI,dT)}#aF(a,b,c,d,e){let f,g;if("json"===c)f=bG(b,d),g="application/json";else if("protobuf"===c)f=bP(b,e),g="application/x-protobuf";else throw bR(c,"Impossible encoding");let h=new dq;return h.set("content-type",g),void 0!==this.#aw&&h.set("authorization",`Bearer ${this.#aw}`),new dp(a.toString(),{method:"POST",headers:h,body:f})}}function dV(a,b){if(b.results.length!==a.length)throw new bn("Server returned unexpected number of pipeline results");for(let c=0;c<a.length;++c){let d=b.results[c],e=a[c];if("ok"===d.type){if(d.response.type!==e.request.type)throw new bn("Received unexpected type of response");e.responseCallback(d.response)}else if("error"===d.type)e.errorCallback(b_(d.error));else if("none"===d.type)throw new bn("Received unrecognized type of StreamResult");else throw bR(d,"Received impossible type of StreamResult")}}async function dW(a,b){if("json"===b)return bE(await a.json(),dt);if("protobuf"===b)return bN(new Uint8Array(await a.arrayBuffer()),dx);throw await a.body?.cancel(),bR(b,"Impossible encoding")}async function dX(a){let b=a.headers.get("content-type")??"text/plain",c=`Server returned HTTP status ${a.status}`;if("application/json"===b){let b=await a.json();return"message"in b?b_(b):new bs(c,a.status)}if("text/plain"===b){let b=(await a.text()).trim();return""!==b&&(c+=`: ${b}`),new bs(c,a.status)}return await a.body?.cancel(),new bs(c,a.status)}let dY=[{versionPath:"v3-protobuf",pipelinePath:"v3-protobuf/pipeline",cursorPath:"v3-protobuf/cursor",version:3,encoding:"protobuf"}],dZ={versionPath:"v2",pipelinePath:"v2/pipeline",cursorPath:void 0,version:2,encoding:"json"};class d$ extends bl{#aG;#aw;#R;#D;#aH;_endpointPromise;_endpoint;constructor(a,b,c,d=2){super(),this.#aG=a,this.#aw=b,this.#R=c??dr,this.#D=void 0,this.#aH=new Set,3==d?(this._endpointPromise=d_(this.#R,this.#aG),this._endpointPromise.then(a=>this._endpoint=a,a=>this.#W(a))):(this._endpointPromise=Promise.resolve(dZ),this._endpointPromise.then(a=>this._endpoint=a,a=>this.#W(a)))}async getVersion(){return void 0!==this._endpoint?this._endpoint.version:(await this._endpointPromise).version}_ensureVersion(a,b){if(!(a<=dZ.version)){if(void 0===this._endpoint)throw new bt(`${b} is supported only on protocol version ${a} and higher, but the version supported by the HTTP server is not yet known. Use Client.getVersion() to wait until the version is available.`);if(this._endpoint.version<a)throw new bt(`${b} is supported only on protocol version ${a} and higher, but the HTTP server only supports version ${this._endpoint.version}.`)}}openStream(){if(void 0!==this.#D)throw new bp("Client is closed",this.#D);let a=new dU(this,this.#aG,this.#aw,this.#R);return this.#aH.add(a),a}_streamClosed(a){this.#aH.delete(a)}close(){this.#W(new bm("Client was manually closed"))}get closed(){return void 0!==this.#D}#W(a){if(void 0===this.#D)for(let b of(this.#D=a,Array.from(this.#aH)))b._setClosed(new bp("Client was closed",a))}}async function d_(a,b){let c=a;for(let a of dY){let d=new dp(new URL(a.versionPath,b).toString(),{method:"GET"}),e=await c(d);if(await e.arrayBuffer(),e.ok)return a}return dZ}function d0(a,b,c=2){if(void 0===bk.kb)throw new bq("WebSockets are not supported in this environment");var d=void 0;return d=3==c?Array.from(dm.keys()):Array.from(dl.keys()),new dn(new bk.kb(a,d),b)}function d1(a,b,c,d=2){return new d$(a instanceof URL?a:new URL(a),b,c,d)}class d2{#aI;#aJ;#aK;constructor(a,b){this.#aI=a,this.#aJ=b,this.#aK=void 0}execute(a){return this.batch([a]).then(a=>a[0])}async batch(a){let b=this._getStream();if(b.closed)throw new al("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{let c,d=a.map(d4);if(void 0===this.#aK){this._getSqlCache().apply(d);let a=b.batch(this.#aJ>=3),e=a.step(),f=e.run(a$(this.#aI)),g=e;c=d.map(b=>{let c=a.step().condition(b9.ok(g));this.#aJ>=3&&c.condition(b9.not(b9.isAutocommit(a)));let d=c.query(b);return d.catch(()=>void 0),g=c,d}),this.#aK=a.execute().then(()=>f).then(()=>void 0);try{await this.#aK}catch(a){throw this.close(),a}}else{let a;this.#aJ<3&&await this.#aK,this._getSqlCache().apply(d);let e=b.batch(this.#aJ>=3);c=d.map(b=>{let c=e.step();void 0!==a&&c.condition(b9.ok(a)),this.#aJ>=3&&c.condition(b9.not(b9.isAutocommit(e)));let d=c.query(b);return d.catch(()=>void 0),a=c,d}),await e.execute()}let e=[];for(let a of c){let b=await a;if(void 0===b)throw new al("Statement in a transaction was not executed, probably because the transaction has been rolled back","TRANSACTION_CLOSED");e.push(d5(b))}return e}catch(a){throw d6(a)}}async executeMultiple(a){let b=this._getStream();if(b.closed)throw new al("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{if(void 0===this.#aK){this.#aK=b.run(a$(this.#aI)).then(()=>void 0);try{await this.#aK}catch(a){throw this.close(),a}}else await this.#aK;await b.sequence(a)}catch(a){throw d6(a)}}async rollback(){try{let a=this._getStream();if(a.closed||void 0===this.#aK)return;let b=a.run("ROLLBACK").catch(a=>{throw d6(a)});a.closeGracefully(),await b}catch(a){throw d6(a)}finally{this.close()}}async commit(){try{let a=this._getStream();if(a.closed)throw new al("Cannot commit the transaction because it is already closed","TRANSACTION_CLOSED");if(void 0===this.#aK)return;await this.#aK;let b=a.run("COMMIT").catch(a=>{throw d6(a)});a.closeGracefully(),await b}catch(a){throw d6(a)}finally{this.close()}}}async function d3(a,b,c,d,e=!1){e&&c.step().run("PRAGMA foreign_keys=off");let f=c.step(),g=f.run(a$(a)),h=f,i=d.map(a=>{let d=c.step().condition(b9.ok(h));b>=3&&d.condition(b9.not(b9.isAutocommit(c)));let e=d.query(a);return h=d,e}),j=c.step().condition(b9.ok(h));b>=3&&j.condition(b9.not(b9.isAutocommit(c)));let k=j.run("COMMIT");c.step().condition(b9.not(b9.ok(j))).run("ROLLBACK").catch(a=>void 0),e&&c.step().run("PRAGMA foreign_keys=on"),await c.execute();let l=[];for(let a of(await g,i)){let b=await a;if(void 0===b)throw new al("Statement in a batch was not executed, probably because the transaction has been rolled back","TRANSACTION_CLOSED");l.push(d5(b))}return await k,l}function d4(a){if("string"==typeof a)return new b3(a);let b=new b3(a.sql);if(Array.isArray(a.args))b.bindIndexes(a.args);else for(let[c,d]of Object.entries(a.args))b.bindName(c,d);return b}function d5(a){let b=a.columnNames.map(a=>a??""),c=a.columnDecltypes.map(a=>a??""),d=a.rows;return new a_(b,c,d,a.affectedRowCount,void 0!==a.lastInsertRowid?a.lastInsertRowid:void 0)}function d6(a){if(a instanceof bm){let b=d7(a);return new al(a.message,b,void 0,a)}return a}function d7(a){if(a instanceof bo&&void 0!==a.code)return a.code;if(a instanceof bn)return"HRANA_PROTO_ERROR";if(a instanceof bp)return a.cause instanceof bm?d7(a.cause):"HRANA_CLOSED_ERROR";if(a instanceof br)return"HRANA_WEBSOCKET_ERROR";if(a instanceof bs)return"SERVER_ERROR";else if(a instanceof bt)return"PROTOCOL_VERSION_ERROR";else if(a instanceof bu)return"INTERNAL_ERROR";else return"UNKNOWN"}class d8{#B;#aL;capacity;constructor(a,b){this.#B=a,this.#aL=new d9,this.capacity=b}apply(a){if(this.capacity<=0)return;let b=new Set;for(let c of a){if("string"!=typeof c.sql)continue;let a=c.sql;if(a.length>=5e3)continue;let d=this.#aL.get(a);if(void 0===d){for(;this.#aL.size+1>this.capacity;){let[a,c]=this.#aL.peekLru();if(b.has(c))break;c.close(),this.#aL.delete(a)}this.#aL.size+1<=this.capacity&&(d=this.#B.storeSql(a),this.#aL.set(a,d))}void 0!==d&&(c.sql=d,b.add(d))}}}class d9{#aM;constructor(){this.#aM=new Map}get(a){let b=this.#aM.get(a);return void 0!==b&&(this.#aM.delete(a),this.#aM.set(a,b)),b}set(a,b){this.#aM.set(a,b)}peekLru(){for(let a of this.#aM.entries())return a}delete(a){this.#aM.delete(a)}get size(){return this.#aM.size}}var ea=c(88524);function eb(a){let b;if("wss"!==a.scheme&&"ws"!==a.scheme)throw new al(`The WebSocket client supports only "libsql:", "wss:" and "ws:" URLs, got ${JSON.stringify(a.scheme+":")}. For more information, please read ${aZ}`,"URL_SCHEME_NOT_SUPPORTED");if(void 0!==a.encryptionKey)throw new al("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if("ws"===a.scheme&&a.tls)throw new al('A "ws:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if("wss"===a.scheme&&!a.tls)throw new al('A "wss:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");let c=as(a.scheme,a.authority,a.path);try{b=d0(c,a.authToken)}catch(b){if(b instanceof bq){let b="wss"===a.scheme?"https":"http",c=as(b,a.authority,a.path);throw new al(`This environment does not support WebSockets, please switch to the HTTP client by using a "${b}:" URL (${JSON.stringify(c)}). For more information, please read ${aZ}`,"WEBSOCKETS_NOT_SUPPORTED")}throw d6(b)}return new ee(b,c,a.authToken,a.intMode,a.concurrency)}let ec=6e4,ed=100;class ee{#aG;#aN;#h;#aO;#aP;closed;protocol;#aQ;#aR;constructor(a,b,c,d,e){this.#aG=b,this.#aN=c,this.#h=d,this.#aO=this.#aS(a),this.#aP=void 0,this.closed=!1,this.protocol="ws",this.#aR=ea(e)}async limit(a){return this.#aR(a)}async execute(a,b){let c;return c="string"==typeof a?{sql:a,args:b||[]}:a,this.limit(async()=>{let a=await this.#aT();try{let b=d4(c);a.conn.sqlCache.apply([b]);let d=a.stream.query(b);a.stream.closeGracefully();let e=await d;return d5(e)}catch(a){throw d6(a)}finally{this._closeStream(a)}})}async batch(a,b="deferred"){return this.limit(async()=>{let c=await this.#aT();try{let d=a.map(d4),e=await c.conn.client.getVersion();c.conn.sqlCache.apply(d);let f=c.stream.batch(e>=3),g=d3(b,e,f,d);return await g}catch(a){throw d6(a)}finally{this._closeStream(c)}})}async migrate(a){return this.limit(async()=>{let b=await this.#aT();try{let c=a.map(d4),d=await b.conn.client.getVersion(),e=b.stream.batch(d>=3),f=d3("deferred",d,e,c,!0);return await f}catch(a){throw d6(a)}finally{this._closeStream(b)}})}async transaction(a="write"){return this.limit(async()=>{let b=await this.#aT();try{let c=await b.conn.client.getVersion();return new ef(this,b,a,c)}catch(a){throw this._closeStream(b),d6(a)}})}async executeMultiple(a){return this.limit(async()=>{let b=await this.#aT();try{let c=b.stream.sequence(a);b.stream.closeGracefully(),await c}catch(a){throw d6(a)}finally{this._closeStream(b)}})}sync(){throw new al("sync not supported in ws mode","SYNC_NOT_SUPPORTED")}async #aT(){if(this.closed)throw new al("The client is closed","CLIENT_CLOSED");if(new Date().valueOf()-this.#aO.openTime.valueOf()>ec&&void 0===this.#aP){let a=this.#aS();this.#aP=a,a.client.getVersion().then(b=>{this.#aO!==a&&0===this.#aO.streamStates.size&&this.#aO.client.close(),this.#aO=a,this.#aP=void 0},a=>{this.#aP=void 0})}if(this.#aO.client.closed)try{void 0!==this.#aP?this.#aO=this.#aP:this.#aO=this.#aS()}catch(a){throw d6(a)}let a=this.#aO;try{void 0===a.useSqlCache&&(a.useSqlCache=await a.client.getVersion()>=2,a.useSqlCache&&(a.sqlCache.capacity=ed));let b=a.client.openStream();b.intMode=this.#h;let c={conn:a,stream:b};return a.streamStates.add(c),c}catch(a){throw d6(a)}}#aS(a){try{return{client:a??=d0(this.#aG,this.#aN),useSqlCache:void 0,sqlCache:new d8(a,0),openTime:new Date,streamStates:new Set}}catch(a){throw d6(a)}}_closeStream(a){a.stream.close();let b=a.conn;b.streamStates.delete(a),0===b.streamStates.size&&b!==this.#aO&&b.client.close()}close(){this.#aO.client.close(),this.closed=!0}}class ef extends d2{#L;#aU;constructor(a,b,c,d){super(c,d),this.#L=a,this.#aU=b}_getStream(){return this.#aU.stream}_getSqlCache(){return this.#aU.conn.sqlCache}close(){this.#L._closeStream(this.#aU)}get closed(){return this.#aU.stream.closed}}function eg(a){if("https"!==a.scheme&&"http"!==a.scheme)throw new al(`The HTTP client supports only "libsql:", "https:" and "http:" URLs, got ${JSON.stringify(a.scheme+":")}. For more information, please read ${aZ}`,"URL_SCHEME_NOT_SUPPORTED");if(void 0!==a.encryptionKey)throw new al("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if("http"===a.scheme&&a.tls)throw new al('A "http:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if("https"===a.scheme&&!a.tls)throw new al('A "https:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");return new ei(as(a.scheme,a.authority,a.path),a.authToken,a.intMode,a.fetch,a.concurrency)}let eh=30;class ei{#L;protocol;#aN;#aR;constructor(a,b,c,d,e){this.#L=d1(a,b,d),this.#L.intMode=c,this.protocol="http",this.#aN=b,this.#aR=ea(e)}async limit(a){return this.#aR(a)}async execute(a,b){let c;return c="string"==typeof a?{sql:a,args:b||[]}:a,this.limit(async()=>{try{let a,b=d4(c),d=this.#L.openStream();try{a=d.query(b)}finally{d.closeGracefully()}let e=await a;return d5(e)}catch(a){throw d6(a)}})}async batch(a,b="deferred"){return this.limit(async()=>{try{let c,d=a.map(d4),e=await this.#L.getVersion(),f=this.#L.openStream();try{new d8(f,eh).apply(d);let a=f.batch(!1);c=d3(b,e,a,d)}finally{f.closeGracefully()}return await c}catch(a){throw d6(a)}})}async migrate(a){return this.limit(async()=>{try{let b,c=a.map(d4),d=await this.#L.getVersion(),e=this.#L.openStream();try{let a=e.batch(!1);b=d3("deferred",d,a,c,!0)}finally{e.closeGracefully()}return await b}catch(a){throw d6(a)}})}async transaction(a="write"){return this.limit(async()=>{try{let b=await this.#L.getVersion();return new ej(this.#L.openStream(),a,b)}catch(a){throw d6(a)}})}async executeMultiple(a){return this.limit(async()=>{try{let b,c=this.#L.openStream();try{b=c.sequence(a)}finally{c.closeGracefully()}await b}catch(a){throw d6(a)}})}sync(){throw new al("sync not supported in http mode","SYNC_NOT_SUPPORTED")}close(){this.#L.close()}get closed(){return this.#L.closed}}class ej extends d2{#M;#aV;constructor(a,b,c){super(b,c),this.#M=a,this.#aV=new d8(a,eh)}_getStream(){return this.#M}_getSqlCache(){return this.#aV}close(){this.#M.close()}get closed(){return this.#M.closed}}function ek(a){return el(a4(a,!0))}function el(a){return"wss"===a.scheme||"ws"===a.scheme?eb(a):"https"===a.scheme||"http"===a.scheme?eg(a):a7(a)}var em=c(39773),en=c(37593),eo=c(87262),ep=c(60302),eq=c(50956),er=c(22712),es=c(50695),et=c(91331);class eu extends et.N9{constructor(a,b,c,d,e){super(b),this.client=a,this.schema=c,this.options=d,this.tx=e,this.logger=d.logger??new eo.Pv,this.cache=d.cache??new es.Th}static [en.i]="LibSQLSession";logger;cache;prepareQuery(a,b,c,d,e,f,g){return new ew(this.client,a,this.logger,this.cache,f,g,b,this.tx,c,d,e)}async batch(a){let b=[],c=[];for(let d of a){let a=d._prepare(),e=a.getQuery();b.push(a),c.push({sql:e.sql,args:e.params})}return(await this.client.batch(c)).map((a,c)=>b[c].mapResult(a,!0))}async migrate(a){let b=[],c=[];for(let d of a){let a=d._prepare(),e=a.getQuery();b.push(a),c.push({sql:e.sql,args:e.params})}return(await this.client.migrate(c)).map((a,c)=>b[c].mapResult(a,!0))}async transaction(a,b){let c=await this.client.transaction(),d=new eu(this.client,this.dialect,this.schema,this.options,c),e=new ev("async",this.dialect,d,this.schema);try{let b=await a(e);return await c.commit(),b}catch(a){throw await c.rollback(),a}}extractRawAllValueFromBatchResult(a){return a.rows}extractRawGetValueFromBatchResult(a){return a.rows[0]}extractRawValuesValueFromBatchResult(a){return a.rows}}class ev extends et.X0{static [en.i]="LibSQLTransaction";async transaction(a){let b=`sp${this.nestedIndex}`,c=new ev("async",this.dialect,this.session,this.schema,this.nestedIndex+1);await this.session.run(ac.ll.raw(`savepoint ${b}`));try{let d=await a(c);return await this.session.run(ac.ll.raw(`release savepoint ${b}`)),d}catch(a){throw await this.session.run(ac.ll.raw(`rollback to savepoint ${b}`)),a}}}class ew extends et.Eb{constructor(a,b,c,d,e,f,g,h,i,j,k){super("async",i,b,d,e,f),this.client=a,this.logger=c,this.fields=g,this.tx=h,this._isResponseInArrayMode=j,this.customResultMapper=k,this.customResultMapper=k,this.fields=g}static [en.i]="LibSQLPreparedQuery";async run(a){let b=(0,ac.Ct)(this.query.params,a??{});return this.logger.logQuery(this.query.sql,b),await this.queryWithCache(this.query.sql,b,async()=>{let a={sql:this.query.sql,args:b};return this.tx?this.tx.execute(a):this.client.execute(a)})}async all(a){let{fields:b,logger:c,query:d,tx:e,client:f,customResultMapper:g}=this;if(!b&&!g){let b=(0,ac.Ct)(d.params,a??{});return c.logQuery(d.sql,b),await this.queryWithCache(d.sql,b,async()=>{let a={sql:d.sql,args:b};return(e?e.execute(a):f.execute(a)).then(({rows:a})=>this.mapAllResult(a))})}let h=await this.values(a);return this.mapAllResult(h)}mapAllResult(a,b){return(b&&(a=a.rows),this.fields||this.customResultMapper)?this.customResultMapper?this.customResultMapper(a,ey):a.map(a=>(0,em.a6)(this.fields,Array.prototype.slice.call(a).map(a=>ey(a)),this.joinsNotNullableMap)):a.map(a=>ex(a))}async get(a){let{fields:b,logger:c,query:d,tx:e,client:f,customResultMapper:g}=this;if(!b&&!g){let b=(0,ac.Ct)(d.params,a??{});return c.logQuery(d.sql,b),await this.queryWithCache(d.sql,b,async()=>{let a={sql:d.sql,args:b};return(e?e.execute(a):f.execute(a)).then(({rows:a})=>this.mapGetResult(a))})}let h=await this.values(a);return this.mapGetResult(h)}mapGetResult(a,b){b&&(a=a.rows);let c=a[0];return this.fields||this.customResultMapper?c?this.customResultMapper?this.customResultMapper(a,ey):(0,em.a6)(this.fields,Array.prototype.slice.call(c).map(a=>ey(a)),this.joinsNotNullableMap):void 0:ex(c)}async values(a){let b=(0,ac.Ct)(this.query.params,a??{});return this.logger.logQuery(this.query.sql,b),await this.queryWithCache(this.query.sql,b,async()=>{let a={sql:this.query.sql,args:b};return(this.tx?this.tx.execute(a):this.client.execute(a)).then(({rows:a})=>a)})}isResponseInArrayMode(){return this._isResponseInArrayMode}}function ex(a){return Object.keys(a).reduce((b,c)=>(Object.prototype.propertyIsEnumerable.call(a,c)&&(b[c]=a[c]),b),{})}function ey(a){if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer){if("undefined"!=typeof Buffer)return a instanceof Buffer?a:Buffer.from(a);if("undefined"!=typeof TextDecoder)return new TextDecoder().decode(a);throw Error("TextDecoder is not available. Please provide either Buffer or TextDecoder polyfill.")}return a}class ez extends eq.N{static [en.i]="LibSQLDatabase";async batch(a){return this.session.batch(a)}}function eA(a,b={}){let c,d,e=new er.ZR({casing:b.casing});if(!0===b.logger?c=new eo.w:!1!==b.logger&&(c=b.logger),b.schema){let a=(0,ep._k)(b.schema,ep.DZ);d={fullSchema:b.schema,schema:a.tables,tableNamesMap:a.tableNamesMap}}let f=new eu(a,e,d,{logger:c,cache:b.cache},void 0),g=new ez("async",e,f,d);return g.$client=a,g.$cache=b.cache,g.$cache&&(g.$cache.invalidate=b.cache?.onMutate),g}function eB(...a){if("string"==typeof a[0])return eA(ek({url:a[0]}),a[1]);if((0,em.Lq)(a[0])){let{connection:b,client:c,...d}=a[0];return c?eA(c,d):eA("string"==typeof b?ek({url:b}):ek(b),d)}return eA(a[0],a[1])}(a=>{a.mock=function(a){return eA({},a)}})(eB||(eB={}));let eC=async function(a={hotReload:!1}){let{hotReload:b}=a;try{this.client||(this.client=ek(this.clientConfig));let a=this.logger||!1;this.drizzle=eB(this.client,{logger:a,schema:this.schema}),b||"true"!==process.env.PAYLOAD_DROP_DATABASE||(this.payload.logger.info("---- DROPPING TABLES ----"),await this.dropDatabase({adapter:this}),this.payload.logger.info("---- DROPPED TABLES ----"))}catch(b){let a=b instanceof Error?b.message:String(b);this.payload.logger.error({err:b,msg:`Error: cannot connect to SQLite: ${a}`}),"function"==typeof this.rejectInitializing&&this.rejectInitializing(),process.exit(1)}"function"==typeof this.resolveInitializing&&this.resolveInitializing(),this.prodMigrations&&await this.migrate({migrations:this.prodMigrations})},eD=(0,ak.fileURLToPath)("file:///Users/Owner/my-project/.conductor/abuja-v1/node_modules/.pnpm/@payloadcms+db-sqlite@3.60.0_@types+pg@8.11.6_@vercel+postgres@0.9.0_bufferutil@4.0.9_p_92d68f624d7e939ac7132768cbb4a8f2/node_modules/@payloadcms/db-sqlite/dist/index.js");function eE(a){let b=a.idType||"number",c="uuid"===b?"text":"number",d=a.allowIDOnCreate??!1;function g({payload:g}){let h=(0,e.h)(a.migrationDir),i=()=>{},j=()=>{},k=new Promise((a,b)=>{i=a,j=b}),l={...f.n,contains:ah.mj,like:ah.mj,not_like:ah.RK};return(0,ai.Z)({name:"sqlite",afterSchemaInit:a.afterSchemaInit??[],allowIDOnCreate:d,autoIncrement:a.autoIncrement??!1,beforeSchemaInit:a.beforeSchemaInit??[],blocksAsJSON:a.blocksAsJSON??!1,client:void 0,clientConfig:a.client,defaultDrizzleSnapshot:X.g,drizzle:void 0,features:{json:!0},fieldConstraints:{},findDistinct:m,generateSchema:(0,o.d)({columnToCodeConverter:Y.J,corePackageSuffix:"sqlite-core",defaultOutputFile:a.generateSchemaOutputFile,tableImport:"sqliteTable"}),idType:b,initializing:k,localesSuffix:a.localesSuffix||"_locales",logger:a.logger,operators:l,prodMigrations:a.prodMigrations,push:a.push,rawRelations:{},rawTables:{},relations:{},relationshipsSuffix:a.relationshipsSuffix||"_rels",schema:{},schemaName:a.schemaName,sessions:{},tableNameMap:new Map,tables:{},transactionOptions:a.transactionOptions||void 0,updateJobs:p.Y,updateMany:q.j,versionsSuffix:a.versionsSuffix||"_v",beginTransaction:a.transactionOptions?r.C:(0,aj.l)(),commitTransaction:s.w,connect:eC,convertPathToJSONTraversal:Z.Y,count:t.U,countDistinct:$.I,countGlobalVersions:u.C,countVersions:v.p,create:w.v,createGlobal:x.S,createGlobalVersion:y.e,createJSONQuery:_.N,createMigration:(0,z.Z)({executeMethod:"run",filename:eD,sanitizeStatements:({sqlExecute:a,statements:b})=>b.map(b=>`${a}${b?.replaceAll("`","\\`")}\`)`).join("\n")}),createVersion:A.B,defaultIDType:c,deleteMany:B.R,deleteOne:C.o,deleteVersions:D.$,deleteWhere:aa.J,destroy:E.z,dropDatabase:ab.Z,execute:ad,find:F.I,findGlobal:G.J,findGlobalVersions:H.O,findOne:I.s,findVersions:J.t,indexes:new Set,init:ae.T,insert:af.Y,migrate:K._,migrateDown:L.Y,migrateFresh:M.O,migrateRefresh:N.H,migrateReset:O.l,migrateStatus:P.u,migrationDir:h,packageName:"@payloadcms/db-sqlite",payload:g,queryDrafts:Q.Z,rejectInitializing:j,requireDrizzleKit:ag.Y,resolveInitializing:i,rollbackTransaction:R.J,updateGlobal:S.V,updateGlobalVersion:T.N,updateOne:U.C,updateVersion:V.G,upsert:W})}return{name:"sqlite",allowIDOnCreate:d,defaultIDType:c,init:g}}},19380:(a,b,c)=>{"use strict";c.d(b,{G:()=>i});var d=c(68656),e=c(38200),f=c(8615),g=c(42788),h=c(42526);async function i({id:a,collection:b,locale:c,req:i,returning:j,select:k,versionData:l,where:m}){let o=await (0,h.x)(this,i),p=this.payload.collections[b].config,q=m||{id:{equals:a}},r=this.tableNameMap.get(`_${e(p.slug)}${this.versionsSuffix}`),s=(0,d.c)(this.payload.config,p,!0),{where:t}=(0,f.Z)({adapter:this,fields:s,locale:c,tableName:r,where:q}),u=await (0,g.q)({id:a,adapter:this,data:l,db:o,fields:s,ignoreResult:!1===j,joinQuery:!1,operation:"update",req:i,select:k,tableName:r,where:t});return!1===j?null:u}},19443:(a,b,c)=>{"use strict";c.d(b,{B:()=>u});var d,e=c(38751),f=c(91067),g=c(59837),h=c(68042),i=c(86460),j=c(5044),k=c(69480);class l{format(a){let b=[];for(let c of Object.keys(a)){let d=(0,k.a)(c);b.push(Uint8Array.from([d.byteLength]),d,this.formatHeaderValue(a[c]))}let c=new Uint8Array(b.reduce((a,b)=>a+b.byteLength,0)),d=0;for(let a of b)c.set(a,d),d+=a.byteLength;return c}formatHeaderValue(a){switch(a.type){case"boolean":return Uint8Array.from([+!a.value]);case"byte":return Uint8Array.from([2,a.value]);case"short":let b=new DataView(new ArrayBuffer(3));return b.setUint8(0,3),b.setInt16(1,a.value,!1),new Uint8Array(b.buffer);case"integer":let c=new DataView(new ArrayBuffer(5));return c.setUint8(0,4),c.setInt32(1,a.value,!1),new Uint8Array(c.buffer);case"long":let d=new Uint8Array(9);return d[0]=5,d.set(a.value.bytes,1),d;case"binary":let f=new DataView(new ArrayBuffer(3+a.value.byteLength));f.setUint8(0,6),f.setUint16(1,a.value.byteLength,!1);let g=new Uint8Array(f.buffer);return g.set(a.value,3),g;case"string":let h=(0,k.a)(a.value),i=new DataView(new ArrayBuffer(3+h.byteLength));i.setUint8(0,7),i.setUint16(1,h.byteLength,!1);let j=new Uint8Array(i.buffer);return j.set(h,3),j;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(o.fromNumber(a.value.valueOf()).bytes,1),l;case"uuid":if(!m.test(a.value))throw Error(`Invalid UUID received: ${a.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,e.fromHex)(a.value.replace(/\-/g,"")),1),p}}}!function(a){a[a.boolTrue=0]="boolTrue",a[a.boolFalse=1]="boolFalse",a[a.byte=2]="byte",a[a.short=3]="short",a[a.integer=4]="integer",a[a.long=5]="long",a[a.byteArray=6]="byteArray",a[a.string=7]="string",a[a.timestamp=8]="timestamp",a[a.uuid=9]="uuid"}(d||(d={}));let m=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class o{bytes;constructor(a){if(this.bytes=a,8!==a.byteLength)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(a){if(a>0x8000000000000000||a<-0x8000000000000000)throw Error(`${a} is too large (or, if negative, too small) to represent as an Int64`);let b=new Uint8Array(8);for(let c=7,d=Math.abs(Math.round(a));c>-1&&d>0;c--,d/=256)b[c]=d;return a<0&&p(b),new o(b)}valueOf(){let a=this.bytes.slice(0),b=128&a[0];return b&&p(a),parseInt((0,e.toHex)(a),16)*(b?-1:1)}toString(){return String(this.valueOf())}}function p(a){for(let b=0;b<8;b++)a[b]^=255;for(let b=7;b>-1&&(a[b]++,0===a[b]);b--);}var q=c(9895),r=c(14294),s=c(5098),t=c(7189);class u extends t.y{headerFormatter=new l;constructor({applyChecksum:a,credentials:b,region:c,service:d,sha256:e,uriEscapePath:f=!0}){super({applyChecksum:a,credentials:b,region:c,service:d,sha256:e,uriEscapePath:f})}async presign(a,b={}){let{signingDate:c=new Date,expiresIn:d=3600,unsignableHeaders:e,unhoistableHeaders:f,signableHeaders:k,hoistableHeaders:l,signingRegion:m,signingService:o}=b,p=await this.credentialProvider();this.validateResolvedCredentials(p);let q=m??await this.regionProvider(),{longDate:t,shortDate:u}=this.formatDate(c);if(d>g.Uv)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let v=(0,h.Ds)(u,q,o??this.service),w=(0,r.b)((0,s.n)(a),{unhoistableHeaders:f,hoistableHeaders:l});p.sessionToken&&(w.query[g.r2]=p.sessionToken),w.query[g.XI]=g.SG,w.query[g.tI]=`${p.accessKeyId}/${v}`,w.query[g.Zs]=t,w.query[g.MS]=d.toString(10);let x=(0,i.H)(w,e,k);return w.query[g.FY]=this.getCanonicalHeaderList(x),w.query[g.cR]=await this.getSignature(t,v,this.getSigningKey(p,q,u,o),this.createCanonicalRequest(w,x,await (0,j.p)(a,this.sha256))),w}async sign(a,b){return"string"==typeof a?this.signString(a,b):a.headers&&a.payload?this.signEvent(a,b):a.message?this.signMessage(a,b):this.signRequest(a,b)}async signEvent({headers:a,payload:b},{signingDate:c=new Date,priorSignature:d,signingRegion:f,signingService:i}){let k=f??await this.regionProvider(),{shortDate:l,longDate:m}=this.formatDate(c),o=(0,h.Ds)(l,k,i??this.service),p=await (0,j.p)({headers:{},body:b},this.sha256),q=new this.sha256;q.update(a);let r=(0,e.toHex)(await q.digest()),s=[g.r1,m,o,d,r,p].join("\n");return this.signString(s,{signingDate:c,signingRegion:k,signingService:i})}async signMessage(a,{signingDate:b=new Date,signingRegion:c,signingService:d}){return this.signEvent({headers:this.headerFormatter.format(a.message.headers),payload:a.message.body},{signingDate:b,signingRegion:c,signingService:d,priorSignature:a.priorSignature}).then(b=>({message:a.message,signature:b}))}async signString(a,{signingDate:b=new Date,signingRegion:c,signingService:d}={}){let g=await this.credentialProvider();this.validateResolvedCredentials(g);let h=c??await this.regionProvider(),{shortDate:i}=this.formatDate(b),j=new this.sha256(await this.getSigningKey(g,h,i,d));return j.update((0,f.F)(a)),(0,e.toHex)(await j.digest())}async signRequest(a,{signingDate:b=new Date,signableHeaders:c,unsignableHeaders:d,signingRegion:e,signingService:f}={}){let k=await this.credentialProvider();this.validateResolvedCredentials(k);let l=e??await this.regionProvider(),m=(0,s.n)(a),{longDate:o,shortDate:p}=this.formatDate(b),r=(0,h.Ds)(p,l,f??this.service);m.headers[g.ot]=o,k.sessionToken&&(m.headers[g.wE]=k.sessionToken);let t=await (0,j.p)(m,this.sha256);!(0,q.ou)(g.Wd,m.headers)&&this.applyChecksum&&(m.headers[g.Wd]=t);let u=(0,i.H)(m,d,c),v=await this.getSignature(o,r,this.getSigningKey(k,l,p,f),this.createCanonicalRequest(m,u,t));return m.headers[g.H1]=`${g.SG} Credential=${k.accessKeyId}/${r}, SignedHeaders=${this.getCanonicalHeaderList(u)}, Signature=${v}`,m}async getSignature(a,b,c,d){let h=await this.createStringToSign(a,b,d,g.SG),i=new this.sha256(await c);return i.update((0,f.F)(h)),(0,e.toHex)(await i.digest())}getSigningKey(a,b,c,d){return(0,h.Xf)(this.sha256,a,c,b,d||this.service)}}},19444:(a,b,c)=>{"use strict";let d=c(40639);class e extends d{constructor(a={}){super(a)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let a=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?a.toUpperCase():a}}a.exports=e},19537:(a,b,c)=>{"use strict";let d=c(34589),{finished:e}=c(57075),{AsyncResource:f}=c(16698),{InvalidArgumentError:g,InvalidReturnValueError:h}=c(212),i=c(33895),{addSignal:j,removeSignal:k}=c(21291);function l(){}class m extends f{constructor(a,b,c){if(!a||"object"!=typeof a)throw new g("invalid opts");let{signal:d,method:e,opaque:f,body:h,onInfo:k,responseHeaders:m}=a;try{if("function"!=typeof c)throw new g("invalid callback");if("function"!=typeof b)throw new g("invalid factory");if(d&&"function"!=typeof d.on&&"function"!=typeof d.addEventListener)throw new g("signal must be an EventEmitter or EventTarget");if("CONNECT"===e)throw new g("invalid method");if(k&&"function"!=typeof k)throw new g("invalid onInfo callback");super("UNDICI_STREAM")}catch(a){throw i.isStream(h)&&i.destroy(h.on("error",l),a),a}this.responseHeaders=m||null,this.opaque=f||null,this.factory=b,this.callback=c,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=h,this.onInfo=k||null,i.isStream(h)&&h.on("error",a=>{this.onError(a)}),j(this,d)}onConnect(a,b){if(this.reason)return void a(this.reason);d(this.callback),this.abort=a,this.context=b}onHeaders(a,b,c,d){let{factory:f,opaque:g,context:j,responseHeaders:k}=this,l="raw"===k?i.parseRawHeaders(b):i.parseHeaders(b);if(a<200){this.onInfo&&this.onInfo({statusCode:a,headers:l});return}if(this.factory=null,null===f)return;let m=this.runInAsyncScope(f,null,{statusCode:a,headers:l,opaque:g,context:j});if(!m||"function"!=typeof m.write||"function"!=typeof m.end||"function"!=typeof m.on)throw new h("expected Writable");return e(m,{readable:!1},a=>{let{callback:b,res:c,opaque:d,trailers:e,abort:f}=this;this.res=null,(a||!c.readable)&&i.destroy(c,a),this.callback=null,this.runInAsyncScope(b,null,a||null,{opaque:d,trailers:e}),a&&f()}),m.on("drain",c),this.res=m,!0!==(void 0!==m.writableNeedDrain?m.writableNeedDrain:m._writableState?.needDrain)}onData(a){let{res:b}=this;return!b||b.write(a)}onComplete(a){let{res:b}=this;k(this),b&&(this.trailers=i.parseHeaders(a),b.end())}onError(a){let{res:b,callback:c,opaque:d,body:e}=this;k(this),this.factory=null,b?(this.res=null,i.destroy(b,a)):c&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(c,null,a,{opaque:d})})),e&&(this.body=null,i.destroy(e,a))}}function o(a,b,c){if(void 0===c)return new Promise((c,d)=>{o.call(this,a,b,(a,b)=>a?d(a):c(b))});try{let d=new m(a,b,c);this.dispatch(a,d)}catch(d){if("function"!=typeof c)throw d;let b=a?.opaque;queueMicrotask(()=>c(d,{opaque:b}))}}a.exports=o},19729:(a,b,c)=>{"use strict";c.d(b,{A:()=>f,R:()=>g});var d=c(77598),e=c(57975);let f=d.webcrypto,g=a=>e.types.isCryptoKey(a)},19764:(a,b,c)=>{"use strict";let{promisify:d}=c(57975),e=c(76450),{buildMockDispatch:f}=c(26810),{kDispatches:g,kMockAgent:h,kClose:i,kOriginalClose:j,kOrigin:k,kOriginalDispatch:l,kConnected:m,kIgnoreTrailingSlash:o}=c(77938),{MockInterceptor:p}=c(58304),q=c(25394),{InvalidArgumentError:r}=c(212);class s extends e{constructor(a,b){if(!b||!b.agent||"function"!=typeof b.agent.dispatch)throw new r("Argument opts.agent must implement Agent");super(a,b),this[h]=b.agent,this[k]=a,this[o]=b.ignoreTrailingSlash??!1,this[g]=[],this[m]=1,this[l]=this.dispatch,this[j]=this.close.bind(this),this.dispatch=f.call(this),this.close=this[i]}get[q.kConnected](){return this[m]}intercept(a){return new p(a&&{ignoreTrailingSlash:this[o],...a},this[g])}async [i](){await d(this[j])(),this[m]=0,this[h][q.kClients].delete(this[k])}}a.exports=s},19768:(a,b,c)=>{"use strict";c.d(b,{O:()=>h});var d=c(59841),e=c(53216),f=c(19113);let g=["create","read","update","delete"];async function h(a){let{id:b,collection:{config:c},req:h}=a,i=[...g];c.auth&&void 0!==c.auth.maxLoginAttempts&&0!==c.auth.maxLoginAttempts&&i.push("unlock"),c.versions&&i.push("readVersions");try{let a=await (0,d.U)({id:b,type:"collection",blockPolicies:{},entity:c,operations:i,req:h}),e=(0,f.yD)({collections:{[c.slug]:a}});return e?.collections?.[c.slug]??{fields:{}}}catch(a){throw await (0,e.J)(h),a}}},19898:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(86397);b.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:b}){let c="maxProperties"===a?"more":"fewer";return(0,d.str)`must NOT have ${c} than ${b} properties`},params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:e}=a,f="maxProperties"===b?d.operators.GT:d.operators.LT;a.fail$data((0,d._)`Object.keys(${c}).length ${f} ${e}`)}}},19933:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createChecksumStream=g;let d=c(11939),e=c(83398),f=c(60200);function g(a){return"function"==typeof ReadableStream&&(0,d.isReadableStream)(a.source)?(0,f.createChecksumStream)(a):new e.ChecksumStream(a)}},20027:(a,b,c)=>{"use strict";c.r(b),c.d(b,{DEFAULT_UA_APP_ID:()=>d.b,getUserAgentMiddlewareOptions:()=>e.l6,getUserAgentPlugin:()=>e.sM,resolveUserAgentConfig:()=>d.D,userAgentMiddleware:()=>e.Le});var d=c(56708),e=c(69618)},20041:(a,b,c)=>{"use strict";c.r(b),c.d(b,{DEFAULT_REQUEST_TIMEOUT:()=>d.w,NodeHttp2Handler:()=>m,NodeHttpHandler:()=>d.$,streamCollector:()=>o.k});var d=c(94585),e=c(42887),f=c(14822),g=c(73496),h=c.n(g),i=c(40048);class j{sessions=[];constructor(a){this.sessions=a??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(a){this.sessions.push(a)}contains(a){return this.sessions.includes(a)}remove(a){this.sessions=this.sessions.filter(b=>b!==a)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(a){for(let b of this.sessions)b!==a||b.destroyed||b.destroy()}}class k{constructor(a){if(this.config=a,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(a,b){let c=this.getUrlString(a),d=this.sessionCache.get(c);if(d){let a=d.poll();if(a&&!this.config.disableConcurrency)return a}let e=h().connect(c);this.config.maxConcurrency&&e.settings({maxConcurrentStreams:this.config.maxConcurrency},b=>{if(b)throw Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+a.destination.toString())}),e.unref();let f=()=>{e.destroy(),this.deleteSession(c,e)};e.on("goaway",f),e.on("error",f),e.on("frameError",f),e.on("close",()=>this.deleteSession(c,e)),b.requestTimeout&&e.setTimeout(b.requestTimeout,f);let g=this.sessionCache.get(c)||new j;return g.offerLast(e),this.sessionCache.set(c,g),e}deleteSession(a,b){let c=this.sessionCache.get(a);c&&c.contains(b)&&(c.remove(b),this.sessionCache.set(a,c))}release(a,b){let c=this.getUrlString(a);this.sessionCache.get(c)?.offerLast(b)}destroy(){for(let[a,b]of this.sessionCache){for(let a of b)a.destroyed||a.destroy(),b.remove(a);this.sessionCache.delete(a)}}setMaxConcurrentStreams(a){if(a&&a<=0)throw RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=a}setDisableConcurrentStreams(a){this.config.disableConcurrency=a}getUrlString(a){return a.destination.toString()}}var l=c(80249);class m{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new k({});static create(a){return"function"==typeof a?.handle?a:new m(a)}constructor(a){this.configProvider=new Promise((b,c)=>{"function"==typeof a?a().then(a=>{b(a||{})}).catch(c):b(a||{})})}destroy(){this.connectionManager.destroy()}async handle(a,{abortSignal:b,requestTimeout:c}={}){!this.config&&(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:d,disableConcurrentStreams:h}=this.config,j=c??d;return new Promise((c,d)=>{let k,m=!1,o=async a=>{await k,c(a)},p=async a=>{await k,d(a)};if(b?.aborted){m=!0;let a=Error("Request aborted");a.name="AbortError",p(a);return}let{hostname:q,method:r,port:s,protocol:t,query:u}=a,v="";if(null!=a.username||null!=a.password){let b=a.username??"",c=a.password??"";v=`${b}:${c}@`}let w=`${t}//${v}${q}${s?`:${s}`:""}`,x={destination:new URL(w)},y=this.connectionManager.lease(x,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:h||!1}),z=a=>{h&&this.destroySession(y),m=!0,p(a)},A=(0,f.buildQueryString)(u||{}),B=a.path;A&&(B+=`?${A}`),a.fragment&&(B+=`#${a.fragment}`);let C=y.request({...a.headers,[g.constants.HTTP2_HEADER_PATH]:B,[g.constants.HTTP2_HEADER_METHOD]:r});if(y.ref(),C.on("response",a=>{let b=new e.c({statusCode:a[":status"]||-1,headers:(0,i.u)(a),body:C});m=!0,o({response:b}),h&&(y.close(),this.connectionManager.deleteSession(w,y))}),j&&C.setTimeout(j,()=>{C.close();let a=Error(`Stream timed out because of no activity for ${j} ms`);a.name="TimeoutError",z(a)}),b){let a=()=>{C.close();let a=Error("Request aborted");a.name="AbortError",z(a)};if("function"==typeof b.addEventListener){let c=b;c.addEventListener("abort",a,{once:!0}),C.once("close",()=>c.removeEventListener("abort",a))}else b.onabort=a}C.on("frameError",(a,b,c)=>{z(Error(`Frame type id ${a} in stream id ${c} has failed with code ${b}.`))}),C.on("error",z),C.on("aborted",()=>{z(Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${C.rstCode}.`))}),C.on("close",()=>{y.unref(),h&&y.destroy(),m||z(Error("Unexpected error: http2 request did not get a response"))}),k=(0,l.f)(C,a,j)})}updateHttpClientConfig(a,b){this.config=void 0,this.configProvider=this.configProvider.then(c=>({...c,[a]:b}))}httpHandlerConfigs(){return this.config??{}}destroySession(a){a.destroyed||a.destroy()}}var o=c(14187)},20193:(a,b,c)=>{"use strict";let{EventEmitter:d}=c(78474),{lsCacheSym:e,levelValSym:f,setLevelSym:g,getLevelSym:h,chindingsSym:i,parsedChindingsSym:j,mixinSym:k,asJsonSym:l,writeSym:m,mixinMergeStrategySym:o,timeSym:p,timeSliceIndexSym:q,streamSym:r,serializersSym:s,formattersSym:t,errorKeySym:u,messageKeySym:v,useOnlyCustomLevelsSym:w,needsMetadataGsym:x,redactFmtSym:y,stringifySym:z,formatOptsSym:A,stringifiersSym:B,msgPrefixSym:C}=c(25258),{getLevel:D,setLevel:E,isLevelEnabled:F,mappings:G,initialLsCache:H,genLsCache:I,assertNoLevelCollisions:J}=c(53140),{asChindings:K,asJson:L,buildFormatters:M,stringify:N}=c(45728),{version:O}=c(12690),P=c(28882),Q={constructor:class{},child:S,bindings:T,setBindings:U,flush:Y,isLevelEnabled:F,version:O,get level(){return this[h]()},set level(lvl){this[g](lvl)},get levelVal(){return this[f]},set levelVal(n){throw Error("levelVal is read-only")},[e]:H,[m]:W,[l]:L,[h]:D,[g]:E};Object.setPrototypeOf(Q,d.prototype),a.exports=function(){return Object.create(Q)};let R=a=>a;function S(a,b){if(!a)throw Error("missing bindings for child Pino");b=b||{};let c=this[s],d=this[t],e=Object.create(this);if(!0===b.hasOwnProperty("serializers")){for(let a in e[s]=Object.create(null),c)e[s][a]=c[a];let a=Object.getOwnPropertySymbols(c);for(var f=0;f<a.length;f++){let b=a[f];e[s][b]=c[b]}for(let a in b.serializers)e[s][a]=b.serializers[a];let d=Object.getOwnPropertySymbols(b.serializers);for(var h=0;h<d.length;h++){let a=d[h];e[s][a]=b.serializers[a]}}else e[s]=c;if(b.hasOwnProperty("formatters")){let{level:a,bindings:c,log:f}=b.formatters;e[t]=M(a||d.level,c||R,f||d.log)}else e[t]=M(d.level,R,d.log);if(!0===b.hasOwnProperty("customLevels")&&(J(this.levels,b.customLevels),e.levels=G(b.customLevels,e[w]),I(e)),"object"==typeof b.redact&&null!==b.redact||Array.isArray(b.redact)){e.redact=b.redact;let a=P(e.redact,N),c={stringify:a[y]};e[z]=N,e[B]=a,e[A]=c}"string"==typeof b.msgPrefix&&(e[C]=(this[C]||"")+b.msgPrefix),e[i]=K(e,a);let j=b.level||this.level;return e[g](j),this.onChild(e),e}function T(){let a=this[i],b=JSON.parse(`{${a.substr(1)}}`);return delete b.pid,delete b.hostname,b}function U(a){let b=K(this,a);this[i]=b,delete this[j]}function V(a,b){return Object.assign(b,a)}function W(a,b,c){let d,e=this[p](),f=this[k],g=this[u],h=this[v],i=this[o]||V;null==a?d={}:a instanceof Error?(d={[g]:a},void 0===b&&(b=a.message)):(d=a,void 0===b&&void 0===a[h]&&a[g]&&(b=a[g].message)),f&&(d=i(d,f(d,c,this)));let j=this[l](d,b,c,e),m=this[r];!0===m[x]&&(m.lastLevel=c,m.lastObj=d,m.lastMsg=b,m.lastTime=e.slice(this[q]),m.lastLogger=this),m.write(j)}function X(){}function Y(a){if(null!=a&&"function"!=typeof a)throw Error("callback must be a function");let b=this[r];"function"==typeof b.flush?b.flush(a||X):a&&a()}},20216:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(96968),e=c(8692),f=c(92358),g=c(6140),h=c(27633);b.default=[d.default,e.default,(0,f.default)(),g.default,h.metadataVocabulary,h.contentVocabulary]},20332:(a,b,c)=>{"use strict";c.r(b),c.d(b,{constructStack:()=>d.o});var d=c(61872)},20411:(a,b,c)=>{"use strict";c.d(b,{c:()=>e});var d=c(96879);let e=(...a)=>async()=>{let b;if(0===a.length)throw new d.m("No providers in chain");for(let c of a)try{return await c()}catch(a){if(b=a,a?.tryNextLink)continue;throw a}throw b}},20471:(a,b,c)=>{"use strict";let d=c(53053),e=c(57975),f=e.debuglog("undici"),g=e.debuglog("fetch"),h=e.debuglog("websocket"),i={beforeConnect:d.channel("undici:client:beforeConnect"),connected:d.channel("undici:client:connected"),connectError:d.channel("undici:client:connectError"),sendHeaders:d.channel("undici:client:sendHeaders"),create:d.channel("undici:request:create"),bodySent:d.channel("undici:request:bodySent"),headers:d.channel("undici:request:headers"),trailers:d.channel("undici:request:trailers"),error:d.channel("undici:request:error"),open:d.channel("undici:websocket:open"),close:d.channel("undici:websocket:close"),socketError:d.channel("undici:websocket:socket_error"),ping:d.channel("undici:websocket:ping"),pong:d.channel("undici:websocket:pong")},j=!1;function k(a=f){j||(j=!0,d.subscribe("undici:client:beforeConnect",b=>{let{connectParams:{version:c,protocol:d,port:e,host:f}}=b;a("connecting to %s%s using %s%s",f,e?`:${e}`:"",d,c)}),d.subscribe("undici:client:connected",b=>{let{connectParams:{version:c,protocol:d,port:e,host:f}}=b;a("connected to %s%s using %s%s",f,e?`:${e}`:"",d,c)}),d.subscribe("undici:client:connectError",b=>{let{connectParams:{version:c,protocol:d,port:e,host:f},error:g}=b;a("connection to %s%s using %s%s errored - %s",f,e?`:${e}`:"",d,c,g.message)}),d.subscribe("undici:client:sendHeaders",b=>{let{request:{method:c,path:d,origin:e}}=b;a("sending request to %s %s/%s",c,e,d)}))}let l=!1;function m(a=f){l||(l=!0,d.subscribe("undici:request:headers",b=>{let{request:{method:c,path:d,origin:e},response:{statusCode:f}}=b;a("received response to %s %s/%s - HTTP %d",c,e,d,f)}),d.subscribe("undici:request:trailers",b=>{let{request:{method:c,path:d,origin:e}}=b;a("trailers received from %s %s/%s",c,e,d)}),d.subscribe("undici:request:error",b=>{let{request:{method:c,path:d,origin:e},error:f}=b;a("request to %s %s/%s errored - %s",c,e,d,f.message)}))}let o=!1;function p(a=h){o||(o=!0,d.subscribe("undici:websocket:open",b=>{let{address:{address:c,port:d}}=b;a("connection opened %s%s",c,d?`:${d}`:"")}),d.subscribe("undici:websocket:close",b=>{let{websocket:c,code:d,reason:e}=b;a("closed connection to %s - %s %s",c.url,d,e)}),d.subscribe("undici:websocket:socket_error",b=>{a("connection errored - %s",b.message)}),d.subscribe("undici:websocket:ping",b=>{a("ping received")}),d.subscribe("undici:websocket:pong",b=>{a("pong received")}))}(f.enabled||g.enabled)&&(k(g.enabled?g:f),m(g.enabled?g:f)),h.enabled&&(k(f.enabled?f:h),p(h)),a.exports={channels:i}},20551:(a,b,c)=>{"use strict";c.d(b,{t:()=>e});var d=c(80348);let e=async({collection:a,context:b,data:c,doc:e,global:f,operation:g,previousDoc:h,req:i})=>(await (0,d.m)({collection:a,context:b,data:c,doc:e,fields:a?.fields||f?.fields,global:f,operation:g,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",previousDoc:h,previousSiblingDoc:h,req:i,siblingData:c,siblingDoc:e}),e)},20647:(a,b,c)=>{"use strict";var d=c(72250),e=Object.prototype.hasOwnProperty,f=Array.isArray,g=function(){for(var a=[],b=0;b<256;++b)a.push("%"+((b<16?"0":"")+b.toString(16)).toUpperCase());return a}(),h=function(a){for(;a.length>1;){var b=a.pop(),c=b.obj[b.prop];if(f(c)){for(var d=[],e=0;e<c.length;++e)void 0!==c[e]&&d.push(c[e]);b.obj[b.prop]=d}}},i=function(a,b){for(var c=b&&b.plainObjects?{__proto__:null}:{},d=0;d<a.length;++d)void 0!==a[d]&&(c[d]=a[d]);return c},j=function a(b,c,d){if(!c)return b;if("object"!=typeof c&&"function"!=typeof c){if(f(b))b.push(c);else{if(!b||"object"!=typeof b)return[b,c];(d&&(d.plainObjects||d.allowPrototypes)||!e.call(Object.prototype,c))&&(b[c]=!0)}return b}if(!b||"object"!=typeof b)return[b].concat(c);var g=b;return(f(b)&&!f(c)&&(g=i(b,d)),f(b)&&f(c))?(c.forEach(function(c,f){if(e.call(b,f)){var g=b[f];g&&"object"==typeof g&&c&&"object"==typeof c?b[f]=a(g,c,d):b.push(c)}else b[f]=c}),b):Object.keys(c).reduce(function(b,f){var g=c[f];return e.call(b,f)?b[f]=a(b[f],g,d):b[f]=g,b},g)},k=1024;a.exports={arrayToObject:i,assign:function(a,b){return Object.keys(b).reduce(function(a,c){return a[c]=b[c],a},a)},combine:function(a,b){return[].concat(a,b)},compact:function(a){for(var b=[{obj:{o:a},prop:"o"}],c=[],d=0;d<b.length;++d)for(var e=b[d],f=e.obj[e.prop],g=Object.keys(f),i=0;i<g.length;++i){var j=g[i],k=f[j];"object"==typeof k&&null!==k&&-1===c.indexOf(k)&&(b.push({obj:f,prop:j}),c.push(k))}return h(b),a},decode:function(a,b,c){var d=a.replace(/\+/g," ");if("iso-8859-1"===c)return d.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(d)}catch(a){return d}},encode:function(a,b,c,e,f){if(0===a.length)return a;var h=a;if("symbol"==typeof a?h=Symbol.prototype.toString.call(a):"string"!=typeof a&&(h=String(a)),"iso-8859-1"===c)return escape(h).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});for(var i="",j=0;j<h.length;j+=k){for(var l=h.length>=k?h.slice(j,j+k):h,m=[],o=0;o<l.length;++o){var p=l.charCodeAt(o);if(45===p||46===p||95===p||126===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||f===d.RFC1738&&(40===p||41===p)){m[m.length]=l.charAt(o);continue}if(p<128){m[m.length]=g[p];continue}if(p<2048){m[m.length]=g[192|p>>6]+g[128|63&p];continue}if(p<55296||p>=57344){m[m.length]=g[224|p>>12]+g[128|p>>6&63]+g[128|63&p];continue}o+=1,p=65536+((1023&p)<<10|1023&l.charCodeAt(o)),m[m.length]=g[240|p>>18]+g[128|p>>12&63]+g[128|p>>6&63]+g[128|63&p]}i+=m.join("")}return i},isBuffer:function(a){return!!a&&"object"==typeof a&&!!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))},isRegExp:function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},maybeMap:function(a,b){if(f(a)){for(var c=[],d=0;d<a.length;d+=1)c.push(b(a[d]));return c}return b(a)},merge:j}},20693:a=>{"use strict";a.exports=Math.round},20728:a=>{"use strict";let b=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),c=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function d(a){let b="",c=0,d=0;for(d=0;d<a.length;d++)if(48!==(c=a[d].charCodeAt(0))){if(!(c>=48&&c<=57||c>=65&&c<=70||c>=97&&c<=102))return"";b+=a[d];break}for(d+=1;d<a.length;d++){if(!((c=a[d].charCodeAt(0))>=48&&c<=57||c>=65&&c<=70||c>=97&&c<=102))return"";b+=a[d]}return b}function e(a){return a.length=0,!0}function f(a,b,c){if(a.length){let e=d(a);if(""===e)return c.error=!0,!1;b.push(e),a.length=0}return!0}function g(a){let b=0,c={error:!1,address:"",zone:""},g=[],h=[],i=!1,j=!1,k=f;for(let d=0;d<a.length;d++){let f=a[d];if("["!==f&&"]"!==f)if(":"===f){if(!0===i&&(j=!0),!k(h,g,c))break;if(++b>7){c.error=!0;break}d>0&&":"===a[d-1]&&(i=!0),g.push(":");continue}else if("%"===f){if(!k(h,g,c))break;k=e}else{h.push(f);continue}}return h.length&&(k===e?c.zone=h.join(""):j?g.push(h.join("")):g.push(d(h))),c.address=g.join(""),c}function h(a){if(2>i(a,":"))return{host:a,isIPV6:!1};let b=g(a);if(b.error)return{host:a,isIPV6:!1};{let a=b.address,c=b.address;return b.zone&&(a+="%"+b.zone,c+="%25"+b.zone),{host:a,isIPV6:!0,escapedHost:c}}}function i(a,b){let c=0;for(let d=0;d<a.length;d++)a[d]===b&&c++;return c}function j(a){let b=a,c=[],d=-1,e=0;for(;e=b.length;){if(1===e)if("."===b)break;else if("/"===b){c.push("/");break}else{c.push(b);break}if(2===e){if("."===b[0]){if("."===b[1])break;else if("/"===b[1]){b=b.slice(2);continue}}else if("/"===b[0]&&("."===b[1]||"/"===b[1])){c.push("/");break}}else if(3===e&&"/.."===b){0!==c.length&&c.pop(),c.push("/");break}if("."===b[0]){if("."===b[1]){if("/"===b[2]){b=b.slice(3);continue}}else if("/"===b[1]){b=b.slice(2);continue}}else if("/"===b[0]&&"."===b[1]){if("/"===b[2]){b=b.slice(2);continue}else if("."===b[2]&&"/"===b[3]){b=b.slice(3),0!==c.length&&c.pop();continue}}if(-1===(d=b.indexOf("/",1))){c.push(b);break}c.push(b.slice(0,d)),b=b.slice(d)}return c.join("")}function k(a,b){let c=!0!==b?escape:unescape;return void 0!==a.scheme&&(a.scheme=c(a.scheme)),void 0!==a.userinfo&&(a.userinfo=c(a.userinfo)),void 0!==a.host&&(a.host=c(a.host)),void 0!==a.path&&(a.path=c(a.path)),void 0!==a.query&&(a.query=c(a.query)),void 0!==a.fragment&&(a.fragment=c(a.fragment)),a}function l(a){let b=[];if(void 0!==a.userinfo&&(b.push(a.userinfo),b.push("@")),void 0!==a.host){let d=unescape(a.host);if(!c(d)){let b=h(d);d=!0===b.isIPV6?`[${b.escapedHost}]`:a.host}b.push(d)}return("number"==typeof a.port||"string"==typeof a.port)&&(b.push(":"),b.push(String(a.port))),b.length?b.join(""):void 0}a.exports={nonSimpleDomain:RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u),recomposeAuthority:l,normalizeComponentEncoding:k,removeDotSegments:j,isIPv4:c,isUUID:b,normalizeIPv6:h,stringArrayToHexStripped:d}},20736:a=>{"use strict";a.exports=Object},20770:(a,b,c)=>{"use strict";c.d(b,{n:()=>e});var d=c(65029);let e={and:d.Uo,contains:d.B3,equals:d.eq,exists:d.Pe,greater_than:d.gt,greater_than_equal:d.RO,in:d.RV,isNull:d.kZ,less_than:d.lt,less_than_equal:d.wJ,like:d.B3,not_equals:d.ne,not_like:d.q1,not_in:d.KL,or:d.or}},20813:(a,b,c)=>{"use strict";c.d(b,{nd:()=>q});var d=c(37593),e=c(71540),f=c(39773),g=c(18616);class h extends g.o{static [d.i]="SQLiteBaseIntegerBuilder";constructor(a,b,c){super(a,b,c),this.config.autoIncrement=!1}primaryKey(a){return a?.autoIncrement&&(this.config.autoIncrement=!0),this.config.hasDefault=!0,super.primaryKey()}}class i extends g.v{static [d.i]="SQLiteBaseInteger";autoIncrement=this.config.autoIncrement;getSQLType(){return"integer"}}class j extends h{static [d.i]="SQLiteIntegerBuilder";constructor(a){super(a,"number","SQLiteInteger")}build(a){return new k(a,this.config)}}class k extends i{static [d.i]="SQLiteInteger"}class l extends h{static [d.i]="SQLiteTimestampBuilder";constructor(a,b){super(a,"date","SQLiteTimestamp"),this.config.mode=b}defaultNow(){return this.default((0,e.ll)`(cast((julianday('now') - 2440587.5)*86400000 as integer))`)}build(a){return new m(a,this.config)}}class m extends i{static [d.i]="SQLiteTimestamp";mode=this.config.mode;mapFromDriverValue(a){return new Date("timestamp"===this.config.mode?1e3*a:a)}mapToDriverValue(a){let b=a.getTime();return"timestamp"===this.config.mode?Math.floor(b/1e3):b}}class o extends h{static [d.i]="SQLiteBooleanBuilder";constructor(a,b){super(a,"boolean","SQLiteBoolean"),this.config.mode=b}build(a){return new p(a,this.config)}}class p extends i{static [d.i]="SQLiteBoolean";mode=this.config.mode;mapFromDriverValue(a){return 1===Number(a)}mapToDriverValue(a){return+!!a}}function q(a,b){let{name:c,config:d}=(0,f.Ll)(a,b);return d?.mode==="timestamp"||d?.mode==="timestamp_ms"?new l(c,d.mode):d?.mode==="boolean"?new o(c,d.mode):new j(c)}},20939:(a,b,c)=>{var d=c(29021),e=c(33873),f=c(21820),g=require,h=process.config&&process.config.variables||{},i=!!process.env.PREBUILDS_ONLY,j=process.versions.modules,k=D()?"electron":C()?"node-webkit":"node",l=process.env.npm_config_arch||f.arch(),m=process.env.npm_config_platform||f.platform(),o=process.env.LIBC||(E(m)?"musl":"glibc"),p=process.env.ARM_VERSION||("arm64"===l?"8":h.arm_version)||"",q=(process.versions.uv||"").split(".")[0];function r(a){return g(r.resolve(a))}function s(a){try{return d.readdirSync(a)}catch(a){return[]}}function t(a,b){var c=s(a).filter(b);return c[0]&&e.join(a,c[0])}function u(a){return/\.node$/.test(a)}function v(a){var b=a.split("-");if(2===b.length){var c=b[0],d=b[1].split("+");if(c&&d.length&&d.every(Boolean))return{name:a,platform:c,architectures:d}}}function w(a,b){return function(c){return null!=c&&c.platform===a&&c.architectures.includes(b)}}function x(a,b){return a.architectures.length-b.architectures.length}function y(a){var b=a.split("."),c=b.pop(),d={file:a,specificity:0};if("node"===c){for(var e=0;e<b.length;e++){var f=b[e];if("node"===f||"electron"===f||"node-webkit"===f)d.runtime=f;else if("napi"===f)d.napi=!0;else if("abi"===f.slice(0,3))d.abi=f.slice(3);else if("uv"===f.slice(0,2))d.uv=f.slice(2);else if("armv"===f.slice(0,4))d.armv=f.slice(4);else{if("glibc"!==f&&"musl"!==f)continue;d.libc=f}d.specificity++}return d}}function z(a,b){return function(c){return null!=c&&(!c.runtime||c.runtime===a||!!A(c))&&(!c.abi||c.abi===b||!!c.napi)&&(!c.uv||c.uv===q)&&(!c.armv||c.armv===p)&&(!c.libc||c.libc===o)&&!0}}function A(a){return"node"===a.runtime&&a.napi}function B(a){return function(b,c){return b.runtime!==c.runtime?b.runtime===a?-1:1:b.abi!==c.abi?b.abi?-1:1:b.specificity!==c.specificity?b.specificity>c.specificity?-1:1:0}}function C(){return!!(process.versions&&process.versions.nw)}function D(){return!!process.versions&&!!process.versions.electron||!!process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type}function E(a){return"linux"===a&&d.existsSync("/etc/alpine-release")}a.exports=r,r.resolve=r.path=function(a){a=e.resolve(a||".");try{var b=g(e.join(a,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[b+"_PREBUILD"]&&(a=process.env[b+"_PREBUILD"])}catch(a){}if(!i){var c=t(e.join(a,"build/Release"),u);if(c)return c;var d=t(e.join(a,"build/Debug"),u);if(d)return d}var f=r(a);if(f)return f;var h=r(e.dirname(process.execPath));if(h)return h;throw Error("No native build was found for "+["platform="+m,"arch="+l,"runtime="+k,"abi="+j,"uv="+q,p?"armv="+p:"","libc="+o,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","webpack=true"].filter(Boolean).join(" ")+"\n    loaded from: "+a+"\n");function r(a){var b=s(e.join(a,"prebuilds")).map(v).filter(w(m,l)).sort(x)[0];if(b){var c=e.join(a,"prebuilds",b.name),d=s(c).map(y),f=d.filter(z(k,j)),g=f.sort(B(k))[0];if(g)return e.join(c,g.file)}}},r.parseTags=y,r.matchTags=z,r.compareTags=B,r.parseTuple=v,r.matchTuple=w,r.compareTuples=x},21036:(a,b,c)=>{"use strict";a.exports=h;let{LOGGER_KEYS:d}=c(3612),e=c(61225),f=c(42012),g=c(65942);function h({log:a,excludeLoggerKeys:b=!0,skipKeys:c=[],context:h}){let{EOL:i,IDENT:j,customPrettifiers:k,errorLikeObjectKeys:l,objectColorizer:m,singleLine:o,colorizer:p}=h,q=[].concat(c);!0===b&&Array.prototype.push.apply(q,d);let r="",{plain:s,errors:t}=Object.entries(a).reduce(({plain:b,errors:c},[d,e])=>{if(!1===q.includes(d)){let f="function"==typeof k[d]?k[d](e,d,a,{colors:p.colors}):e;l.includes(d)?c[d]=f:b[d]=f}return{plain:b,errors:c}},{plain:{},errors:{}});return o?(Object.keys(s).length>0&&(r+=m.greyMessage(e(s))),r+=i,r=r.replace(/\\\\/gi,"\\")):Object.entries(s).forEach(([a,b])=>{let c="function"==typeof k[a]?b:e(b,null,2);if(void 0===c)return;let d=f({input:c=c.replace(/\\\\/gi,"\\"),ident:j,eol:i});r+=`${j}${a}:${d.startsWith(i)?"":" "}${d}${i}`}),Object.entries(t).forEach(([a,b])=>{let c="function"==typeof k[a]?b:e(b,null,2);void 0!==c&&(r+=g({keyName:a,lines:c,eol:i,ident:j}))}),r}},21090:(a,b,c)=>{"use strict";c.d(b,{C:()=>e});var d=c(2437);let e=async function(a){let b;try{let c,e,f,g;b=(0,d.A)(),await this.initializing;let h=this.drizzle.transaction(async a=>{f=a,await new Promise((a,b)=>{e=()=>(a(),h),c=()=>(b(),h),g()})},a||this.transactionOptions).catch(()=>{});await new Promise(a=>g=a),this.sessions[b]={db:f,reject:c,resolve:e}}catch(a){this.payload.logger.error({err:a,msg:`Error: cannot begin transaction: ${a.message}`}),process.exit(1)}return b}},21137:(a,b,c)=>{"use strict";c.d(b,{h:()=>e});var d=c(61463);let e=async a=>{let{id:b,...c}=a;return(0,d.k)({...c,data:a?.data||{},duplicateFromID:b})}},21291:(a,b,c)=>{"use strict";let{addAbortListener:d}=c(33895),{RequestAbortedError:e}=c(212),f=Symbol("kListener"),g=Symbol("kSignal");function h(a){a.abort?a.abort(a[g]?.reason):a.reason=a[g]?.reason??new e,i(a)}function i(a){a[g]&&("removeEventListener"in a[g]?a[g].removeEventListener("abort",a[f]):a[g].removeListener("abort",a[f]),a[g]=null,a[f]=null)}a.exports={addSignal:function(a,b){if(a.reason=null,a[g]=null,a[f]=null,b){if(b.aborted)return void h(a);a[g]=b,a[f]=()=>{h(a)},d(a[g],a[f])}},removeSignal:i}},21293:(a,b,c)=>{"use strict";let{isUUID:d}=c(20728),e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,f=["http","https","ws","wss","urn","urn:uuid"];function g(a){return -1!==f.indexOf(a)}function h(a){return!0===a.secure||!1!==a.secure&&!!a.scheme&&3===a.scheme.length&&("w"===a.scheme[0]||"W"===a.scheme[0])&&("s"===a.scheme[1]||"S"===a.scheme[1])&&("s"===a.scheme[2]||"S"===a.scheme[2])}function i(a){return a.host||(a.error=a.error||"HTTP URIs must have a host."),a}function j(a){let b="https"===String(a.scheme).toLowerCase();return(a.port===(b?443:80)||""===a.port)&&(a.port=void 0),a.path||(a.path="/"),a}function k(a){return a.secure=h(a),a.resourceName=(a.path||"/")+(a.query?"?"+a.query:""),a.path=void 0,a.query=void 0,a}function l(a){if((a.port===(h(a)?443:80)||""===a.port)&&(a.port=void 0),"boolean"==typeof a.secure&&(a.scheme=a.secure?"wss":"ws",a.secure=void 0),a.resourceName){let[b,c]=a.resourceName.split("?");a.path=b&&"/"!==b?b:void 0,a.query=c,a.resourceName=void 0}return a.fragment=void 0,a}function m(a,b){if(!a.path)return a.error="URN can not be parsed",a;let c=a.path.match(e);if(c){let d=b.scheme||a.scheme||"urn";a.nid=c[1].toLowerCase(),a.nss=c[2];let e=w(`${d}:${b.nid||a.nid}`);a.path=void 0,e&&(a=e.parse(a,b))}else a.error=a.error||"URN can not be parsed.";return a}function o(a,b){if(void 0===a.nid)throw Error("URN without nid cannot be serialized");let c=b.scheme||a.scheme||"urn",d=a.nid.toLowerCase(),e=w(`${c}:${b.nid||d}`);e&&(a=e.serialize(a,b));let f=a,g=a.nss;return f.path=`${d||b.nid}:${g}`,b.skipEscape=!0,f}function p(a,b){let c=a;return c.uuid=c.nss,c.nss=void 0,b.tolerant||c.uuid&&d(c.uuid)||(c.error=c.error||"UUID is not valid."),c}function q(a){let b=a;return b.nss=(a.uuid||"").toLowerCase(),b}let r={scheme:"http",domainHost:!0,parse:i,serialize:j},s={scheme:"https",domainHost:r.domainHost,parse:i,serialize:j},t={scheme:"ws",domainHost:!0,parse:k,serialize:l},u={scheme:"wss",domainHost:t.domainHost,parse:t.parse,serialize:t.serialize},v={http:r,https:s,ws:t,wss:u,urn:{scheme:"urn",parse:m,serialize:o,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:p,serialize:q,skipNormalize:!0}};function w(a){return a&&(v[a]||v[a.toLowerCase()])||void 0}Object.setPrototypeOf(v,null),a.exports={wsIsSecure:h,SCHEMES:v,isValidSchemeName:g,getSchemeHandler:w}},21958:a=>{"use strict";a.exports={nullTime:()=>"",epochTime:()=>`,"time":${Date.now()}`,unixTime:()=>`,"time":${Math.round(Date.now()/1e3)}`,isoTime:()=>`,"time":"${new Date(Date.now()).toISOString()}"`}},22128:(a,b,c)=>{"use strict";c.d(b,{V:()=>e});var d=c(215);let e=({select:a})=>a?"include"===(0,d.a)(a)?{parent:!0,version:a}:{version:a}:void 0},22148:(a,b,c)=>{"use strict";var d=c(99173);let e=a=>{if("function"==typeof a)return a;let b=Promise.resolve(a);return()=>b};b.u=a=>a[d.SMITHY_CONTEXT_KEY]||(a[d.SMITHY_CONTEXT_KEY]={}),b.t=e},22212:(a,b,c)=>{"use strict";c.d(b,{J:()=>f,n:()=>e});var d=c(37593);class e{static [d.i]="Subquery";constructor(a,b,c,d=!1,e=[]){this._={brand:"Subquery",sql:a,selectedFields:b,alias:c,isWith:d,usedTables:e}}}class f extends e{static [d.i]="WithSubquery"}},22362:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.findWidthInConsole=b.stripAnsi=void 0;let d=c(53462),e=/\x1b\[\d{1,3}(;\d{1,3})*m/g;b.stripAnsi=a=>a.replace(e,"");let f=(a,c)=>{let e=0;return a=(0,b.stripAnsi)(a),c&&Object.entries(c).forEach(([b,c])=>{let d=RegExp(b,"g");e+=(a.match(d)||[]).length*c,a=a.replace(b,"")}),e+=(0,d.wcswidth)(a)};b.findWidthInConsole=f},22464:a=>{"use strict";var b=function(a){return c(a)&&!d(a)};function c(a){return!!a&&"object"==typeof a}function d(a){var b=Object.prototype.toString.call(a);return"[object RegExp]"===b||"[object Date]"===b||f(a)}var e="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function f(a){return a.$$typeof===e}function g(a){return Array.isArray(a)?[]:{}}function h(a,b){return!1!==b.clone&&b.isMergeableObject(a)?q(g(a),a,b):a}function i(a,b,c){return a.concat(b).map(function(a){return h(a,c)})}function j(a,b){if(!b.customMerge)return q;var c=b.customMerge(a);return"function"==typeof c?c:q}function k(a){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(a).filter(function(b){return Object.propertyIsEnumerable.call(a,b)}):[]}function l(a){return Object.keys(a).concat(k(a))}function m(a,b){try{return b in a}catch(a){return!1}}function o(a,b){return m(a,b)&&!(Object.hasOwnProperty.call(a,b)&&Object.propertyIsEnumerable.call(a,b))}function p(a,b,c){var d={};return c.isMergeableObject(a)&&l(a).forEach(function(b){d[b]=h(a[b],c)}),l(b).forEach(function(e){o(a,e)||(m(a,e)&&c.isMergeableObject(b[e])?d[e]=j(e,c)(a[e],b[e],c):d[e]=h(b[e],c))}),d}function q(a,c,d){(d=d||{}).arrayMerge=d.arrayMerge||i,d.isMergeableObject=d.isMergeableObject||b,d.cloneUnlessOtherwiseSpecified=h;var e=Array.isArray(c);return e!==Array.isArray(a)?h(c,d):e?d.arrayMerge(a,c,d):p(a,c,d)}q.all=function(a,b){if(!Array.isArray(a))throw Error("first argument should be an array");return a.reduce(function(a,c){return q(a,c,b)},{})},a.exports=q},22465:(a,b,c)=>{"use strict";let d=b,e=c(73274),f=a=>a;function g(a,b,c={}){return new Promise((d,g)=>{let h=new e[a](b),i=c.onAbort||f,j=c.onSubmit||f,k=c.onExit||f;h.on("state",b.onState||f),h.on("submit",a=>d(j(a))),h.on("exit",a=>d(k(a))),h.on("abort",a=>g(i(a)))})}d.text=a=>g("TextPrompt",a),d.password=a=>(a.style="password",d.text(a)),d.invisible=a=>(a.style="invisible",d.text(a)),d.number=a=>g("NumberPrompt",a),d.date=a=>g("DatePrompt",a),d.confirm=a=>g("ConfirmPrompt",a),d.list=a=>{let b=a.separator||",";return g("TextPrompt",a,{onSubmit:a=>a.split(b).map(a=>a.trim())})},d.toggle=a=>g("TogglePrompt",a),d.select=a=>g("SelectPrompt",a),d.multiselect=a=>{a.choices=[].concat(a.choices||[]);let b=a=>a.filter(a=>a.selected).map(a=>a.value);return g("MultiselectPrompt",a,{onAbort:b,onSubmit:b})},d.autocompleteMultiselect=a=>{a.choices=[].concat(a.choices||[]);let b=a=>a.filter(a=>a.selected).map(a=>a.value);return g("AutocompleteMultiselectPrompt",a,{onAbort:b,onSubmit:b})};let h=(a,b)=>Promise.resolve(b.filter(b=>b.title.slice(0,a.length).toLowerCase()===a.toLowerCase()));d.autocomplete=a=>(a.suggest=a.suggest||h,a.choices=[].concat(a.choices||[]),g("AutocompletePrompt",a))},22477:(a,b,c)=>{"use strict";c.d(b,{E:()=>d});let d=a=>{let b={};for(let c in a){let d=a[c];"_id"===c?b.id=d:"__v"!==c&&(b[c]=d)}return b}},22501:(a,b,c)=>{"use strict";function d({field:a,index:b,parentIndexPath:c,parentPath:d,parentSchemaPath:e}){if("name"in a)return{indexPath:`${c?c+"-":""}${b}`,path:`${d?d+".":""}${a.name}`,schemaPath:`${e?e+".":""}${a.name}`};let f=`_index-${c?c+"-":""}${b}`;return{indexPath:`${c?c+"-":""}${b}`,path:`${d?d+".":""}${f}`,schemaPath:`${e?e+".":""}${f}`}}function e({field:a,index:b,parentIndexPath:c,parentPath:d,parentSchemaPath:e}){let f=d.split("."),g=f[f.length-1].startsWith("_index-"),h=g?f.slice(0,-1).join("."):d,i=g?h:d;if("name"in a)return{indexPath:"",path:`${i?i+".":""}${a.name}`,schemaPath:`${e?e+".":""}${a.name}`};let j=`_index-${c?c+"-":""}${b}`;return{indexPath:`${c?c+"-":""}${b}`,path:`${i?i+".":""}${j}`,schemaPath:`${!g&&e?e+".":""}${j}`}}c.d(b,{I:()=>e,Z:()=>d})},22512:(a,b,c)=>{"use strict";c.r(b),c.d(b,{ErrorSchema:()=>x,ListSchema:()=>p,MapSchema:()=>r,NormalizedSchema:()=>z.l,OperationSchema:()=>t,SCHEMA:()=>D,Schema:()=>o,SimpleSchema:()=>A,StructureSchema:()=>v,TypeRegistry:()=>F.O,deref:()=>d.L,deserializerMiddlewareOption:()=>k,error:()=>y,getSchemaSerdePlugin:()=>m,isStaticSchema:()=>z.u,list:()=>q,map:()=>s,op:()=>u,operation:()=>g,serializerMiddlewareOption:()=>l,sim:()=>B,simAdapter:()=>C,struct:()=>w,translateTraits:()=>E.c});var d=c(11830),e=c(42887),f=c(23301);let g=(a,b,c,d,e)=>({name:b,namespace:a,traits:c,input:d,output:e}),h=a=>(b,c)=>async d=>{let{response:h}=await b(d),{operationSchema:j}=(0,f.u)(c),[,k,l,m,o,p]=j??[];try{let b=await a.protocol.deserializeResponse(g(k,l,m,o,p),{...a,...c},h);return{response:h,output:b}}catch(a){if(Object.defineProperty(a,"$response",{value:h}),!("$metadata"in a)){let b="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{a.message+="\n  "+b}catch(a){c.logger&&c.logger?.constructor?.name!=="NoOpLogger"?c.logger?.warn?.(b):console.warn(b)}void 0!==a.$responseBodyText&&a.$response&&(a.$response.body=a.$responseBodyText);try{if(e.c.isInstance(h)){let{headers:b={}}=h,c=Object.entries(b);a.$metadata={httpStatusCode:h.statusCode,requestId:i(/^x-[\w-]+-request-?id$/,c),extendedRequestId:i(/^x-[\w-]+-id-2$/,c),cfId:i(/^x-[\w-]+-cf-id$/,c)}}}catch(a){}}throw a}},i=(a,b)=>(b.find(([b])=>b.match(a))||[void 0,void 0])[1],j=a=>(b,c)=>async d=>{let{operationSchema:e}=(0,f.u)(c),[,h,i,j,k,l]=e??[],m=c.endpointV2?.url&&a.urlParser?async()=>a.urlParser(c.endpointV2.url):a.endpoint,o=await a.protocol.serializeRequest(g(h,i,j,k,l),d.input,{...a,...c,endpoint:m});return b({...d,request:o})},k={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},l={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function m(a){return{applyToStack:b=>{b.add(j(a),l),b.add(h(a),k),a.protocol.setSerdeContext(a)}}}class o{name;namespace;traits;static assign(a,b){return Object.assign(a,b)}static[Symbol.hasInstance](a){let b=this.prototype.isPrototypeOf(a);return b||"object"!=typeof a||null===a?b:a.symbol===this.symbol}getName(){return this.namespace+"#"+this.name}}class p extends o{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=p.symbol}let q=(a,b,c,d)=>o.assign(new p,{name:b,namespace:a,traits:c,valueSchema:d});class r extends o{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=r.symbol}let s=(a,b,c,d,e)=>o.assign(new r,{name:b,namespace:a,traits:c,keySchema:d,valueSchema:e});class t extends o{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=t.symbol}let u=(a,b,c,d,e)=>o.assign(new t,{name:b,namespace:a,traits:c,input:d,output:e});class v extends o{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=v.symbol}let w=(a,b,c,d,e)=>o.assign(new v,{name:b,namespace:a,traits:c,memberNames:d,memberList:e});class x extends v{static symbol=Symbol.for("@smithy/err");ctor;symbol=x.symbol}let y=(a,b,c,d,e,f)=>o.assign(new x,{name:b,namespace:a,traits:c,memberNames:d,memberList:e,ctor:null});var z=c(50531);class A extends o{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=A.symbol}let B=(a,b,c,d)=>o.assign(new A,{name:b,namespace:a,traits:d,schemaRef:c}),C=(a,b,c,d)=>o.assign(new A,{name:b,namespace:a,traits:c,schemaRef:d}),D={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128};var E=c(7402),F=c(4107)},22702:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MissingRefError=b.ValidationError=b.CodeGen=b.Name=b.nil=b.stringify=b.str=b._=b.KeywordCxt=b.Ajv=void 0;let d=c(29510),e=c(20216),f=c(4741),g=c(12197),h=["/properties"],i="http://json-schema.org/draft-07/schema";class j extends d.default{_addVocabularies(){super._addVocabularies(),e.default.forEach(a=>this.addVocabulary(a)),this.opts.discriminator&&this.addKeyword(f.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let a=this.opts.$data?this.$dataMetaSchema(g,h):g;this.addMetaSchema(a,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}b.Ajv=j,a.exports=b=j,a.exports.Ajv=j,Object.defineProperty(b,"__esModule",{value:!0}),b.default=j;var k=c(13334);Object.defineProperty(b,"KeywordCxt",{enumerable:!0,get:function(){return k.KeywordCxt}});var l=c(86397);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(b,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var m=c(53389);Object.defineProperty(b,"ValidationError",{enumerable:!0,get:function(){return m.default}});var o=c(3235);Object.defineProperty(b,"MissingRefError",{enumerable:!0,get:function(){return o.default}})},22712:(a,b,c)=>{"use strict";c.d(b,{ZR:()=>y,vV:()=>w,_K:()=>x});var d=c(89656),e=c(37593),f=c(56704);function g(a){return(a.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(a=>a.toLowerCase()).join("_")}function h(a){return(a.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((a,b,c)=>a+(0===c?b.toLowerCase():`${b[0].toUpperCase()}${b.slice(1)}`),"")}function i(a){return a}class j{static [e.i]="CasingCache";cache={};cachedTables={};convert;constructor(a){this.convert="snake_case"===a?g:"camelCase"===a?h:i}getColumnCasing(a){if(!a.keyAsName)return a.name;let b=a.table[f.XI.Symbol.Schema]??"public",c=a.table[f.XI.Symbol.OriginalName],d=`${b}.${c}.${a.name}`;return this.cache[d]||this.cacheTable(a.table),this.cache[d]}cacheTable(a){let b=a[f.XI.Symbol.Schema]??"public",c=a[f.XI.Symbol.OriginalName],d=`${b}.${c}`;if(!this.cachedTables[d]){for(let b of Object.values(a[f.XI.Symbol.Columns])){let a=`${d}.${b.name}`;this.cache[a]=this.convert(b.name)}this.cachedTables[d]=!0}}clearCache(){this.cache={},this.cachedTables={}}}var k=c(23192),l=c(83045),m=c(60302),o=c(65029),p=c(71540),q=c(18616),r=c(94441),s=c(22212),t=c(39773),u=c(27685),v=c(29090);class w{static [e.i]="SQLiteDialect";casing;constructor(a){this.casing=new j(a?.casing)}escapeName(a){return`"${a}"`}escapeParam(a){return"?"}escapeString(a){return`'${a.replace(/'/g,"''")}'`}buildWithCTE(a){if(!a?.length)return;let b=[(0,p.ll)`with `];for(let[c,d]of a.entries())b.push((0,p.ll)`${p.ll.identifier(d._.alias)} as (${d._.sql})`),c<a.length-1&&b.push((0,p.ll)`, `);return b.push((0,p.ll)` `),p.ll.join(b)}buildDeleteQuery({table:a,where:b,returning:c,withList:d,limit:e,orderBy:f}){let g=this.buildWithCTE(d),h=c?(0,p.ll)` returning ${this.buildSelection(c,{isSingleTable:!0})}`:void 0,i=b?(0,p.ll)` where ${b}`:void 0,j=this.buildOrderBy(f),k=this.buildLimit(e);return(0,p.ll)`${g}delete from ${a}${i}${h}${j}${k}`}buildUpdateSet(a,b){let c=a[f.XI.Symbol.Columns],d=Object.keys(c).filter(a=>void 0!==b[a]||c[a]?.onUpdateFn!==void 0),e=d.length;return p.ll.join(d.flatMap((a,d)=>{let f=c[a],g=b[a]??p.ll.param(f.onUpdateFn(),f),h=(0,p.ll)`${p.ll.identifier(this.casing.getColumnCasing(f))} = ${g}`;return d<e-1?[h,p.ll.raw(", ")]:[h]}))}buildUpdateQuery({table:a,set:b,where:c,returning:d,withList:e,joins:f,from:g,limit:h,orderBy:i}){let j=this.buildWithCTE(e),k=this.buildUpdateSet(a,b),l=g&&p.ll.join([p.ll.raw(" from "),this.buildFromTable(g)]),m=this.buildJoins(f),o=d?(0,p.ll)` returning ${this.buildSelection(d,{isSingleTable:!0})}`:void 0,q=c?(0,p.ll)` where ${c}`:void 0,r=this.buildOrderBy(i),s=this.buildLimit(h);return(0,p.ll)`${j}update ${a} set ${k}${l}${m}${q}${o}${r}${s}`}buildSelection(a,{isSingleTable:b=!1}={}){let c=a.length,d=a.flatMap(({field:a},d)=>{let g=[];if((0,e.is)(a,p.Xs.Aliased)&&a.isSelectionField)g.push(p.ll.identifier(a.fieldAlias));else if((0,e.is)(a,p.Xs.Aliased)||(0,e.is)(a,p.Xs)){let c=(0,e.is)(a,p.Xs.Aliased)?a.sql:a;b?g.push(new p.Xs(c.queryChunks.map(a=>(0,e.is)(a,k.V)?p.ll.identifier(this.casing.getColumnCasing(a)):a))):g.push(c),(0,e.is)(a,p.Xs.Aliased)&&g.push((0,p.ll)` as ${p.ll.identifier(a.fieldAlias)}`)}else if((0,e.is)(a,k.V)){let c=a.table[f.XI.Symbol.Name];"SQLiteNumericBigInt"===a.columnType?b?g.push((0,p.ll)`cast(${p.ll.identifier(this.casing.getColumnCasing(a))} as text)`):g.push((0,p.ll)`cast(${p.ll.identifier(c)}.${p.ll.identifier(this.casing.getColumnCasing(a))} as text)`):b?g.push(p.ll.identifier(this.casing.getColumnCasing(a))):g.push((0,p.ll)`${p.ll.identifier(c)}.${p.ll.identifier(this.casing.getColumnCasing(a))}`)}return d<c-1&&g.push((0,p.ll)`, `),g});return p.ll.join(d)}buildJoins(a){if(!a||0===a.length)return;let b=[];if(a)for(let[c,d]of a.entries()){0===c&&b.push((0,p.ll)` `);let f=d.table,g=d.on?(0,p.ll)` on ${d.on}`:void 0;if((0,e.is)(f,r.jo)){let a=f[r.jo.Symbol.Name],c=f[r.jo.Symbol.Schema],e=f[r.jo.Symbol.OriginalName],h=a===e?void 0:d.alias;b.push((0,p.ll)`${p.ll.raw(d.joinType)} join ${c?(0,p.ll)`${p.ll.identifier(c)}.`:void 0}${p.ll.identifier(e)}${h&&(0,p.ll)` ${p.ll.identifier(h)}`}${g}`)}else b.push((0,p.ll)`${p.ll.raw(d.joinType)} join ${f}${g}`);c<a.length-1&&b.push((0,p.ll)` `)}return p.ll.join(b)}buildLimit(a){return"object"==typeof a||"number"==typeof a&&a>=0?(0,p.ll)` limit ${a}`:void 0}buildOrderBy(a){let b=[];if(a)for(let[c,d]of a.entries())b.push(d),c<a.length-1&&b.push((0,p.ll)`, `);return b.length>0?(0,p.ll)` order by ${p.ll.join(b)}`:void 0}buildFromTable(a){return(0,e.is)(a,f.XI)&&a[f.XI.Symbol.IsAlias]?(0,p.ll)`${(0,p.ll)`${p.ll.identifier(a[f.XI.Symbol.Schema]??"")}.`.if(a[f.XI.Symbol.Schema])}${p.ll.identifier(a[f.XI.Symbol.OriginalName])} ${p.ll.identifier(a[f.XI.Symbol.Name])}`:a}buildSelectQuery({withList:a,fields:b,fieldsFlat:c,where:d,having:g,table:h,joins:i,orderBy:j,groupBy:l,limit:m,offset:o,distinct:q,setOperators:r}){let w=c??(0,t.He)(b);for(let a of w){let b;if((0,e.is)(a.field,k.V)&&(0,f.Io)(a.field.table)!==((0,e.is)(h,s.n)?h._.alias:(0,e.is)(h,v.V)?h[u.n].name:(0,e.is)(h,p.Xs)?void 0:(0,f.Io)(h))&&(b=a.field.table,!i?.some(({alias:a})=>a===(b[f.XI.Symbol.IsAlias]?(0,f.Io)(b):b[f.XI.Symbol.BaseName])))){let b=(0,f.Io)(a.field.table);throw Error(`Your "${a.path.join("->")}" field references a column "${b}"."${a.field.name}", but the table "${b}" is not part of the query! Did you forget to join it?`)}}let x=!i||0===i.length,y=this.buildWithCTE(a),z=q?(0,p.ll)` distinct`:void 0,A=this.buildSelection(w,{isSingleTable:x}),B=this.buildFromTable(h),C=this.buildJoins(i),D=d?(0,p.ll)` where ${d}`:void 0,E=g?(0,p.ll)` having ${g}`:void 0,F=[];if(l)for(let[a,b]of l.entries())F.push(b),a<l.length-1&&F.push((0,p.ll)`, `);let G=F.length>0?(0,p.ll)` group by ${p.ll.join(F)}`:void 0,H=this.buildOrderBy(j),I=this.buildLimit(m),J=o?(0,p.ll)` offset ${o}`:void 0,K=(0,p.ll)`${y}select${z} ${A} from ${B}${C}${D}${G}${E}${H}${I}${J}`;return r.length>0?this.buildSetOperations(K,r):K}buildSetOperations(a,b){let[c,...d]=b;if(!c)throw Error("Cannot pass undefined values to any set operator");return 0===d.length?this.buildSetOperationQuery({leftSelect:a,setOperator:c}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:a,setOperator:c}),d)}buildSetOperationQuery({leftSelect:a,setOperator:{type:b,isAll:c,rightSelect:d,limit:f,orderBy:g,offset:h}}){let i,j=(0,p.ll)`${a.getSQL()} `,k=(0,p.ll)`${d.getSQL()}`;if(g&&g.length>0){let a=[];for(let b of g)if((0,e.is)(b,q.v))a.push(p.ll.identifier(b.name));else if((0,e.is)(b,p.Xs)){for(let a=0;a<b.queryChunks.length;a++){let c=b.queryChunks[a];(0,e.is)(c,q.v)&&(b.queryChunks[a]=p.ll.identifier(this.casing.getColumnCasing(c)))}a.push((0,p.ll)`${b}`)}else a.push((0,p.ll)`${b}`);i=(0,p.ll)` order by ${p.ll.join(a,(0,p.ll)`, `)}`}let l="object"==typeof f||"number"==typeof f&&f>=0?(0,p.ll)` limit ${f}`:void 0,m=p.ll.raw(`${b} ${c?"all ":""}`),o=h?(0,p.ll)` offset ${h}`:void 0;return(0,p.ll)`${j}${m}${k}${i}${l}${o}`}buildInsertQuery({table:a,values:b,onConflict:c,returning:d,withList:g,select:h}){let i=[],j=Object.entries(a[f.XI.Symbol.Columns]).filter(([a,b])=>!b.shouldDisableInsert()),k=j.map(([,a])=>p.ll.identifier(this.casing.getColumnCasing(a)));if(h){let a=b;(0,e.is)(a,p.Xs)?i.push(a):i.push(a.getSQL())}else{let a=b;for(let[b,c]of(i.push(p.ll.raw("values ")),a.entries())){let d=[];for(let[a,b]of j){let f=c[a];if(void 0===f||(0,e.is)(f,p.Iw)&&void 0===f.value){let a;if(null!==b.default&&void 0!==b.default)a=(0,e.is)(b.default,p.Xs)?b.default:p.ll.param(b.default,b);else if(void 0!==b.defaultFn){let c=b.defaultFn();a=(0,e.is)(c,p.Xs)?c:p.ll.param(c,b)}else if(b.default||void 0===b.onUpdateFn)a=(0,p.ll)`null`;else{let c=b.onUpdateFn();a=(0,e.is)(c,p.Xs)?c:p.ll.param(c,b)}d.push(a)}else d.push(f)}i.push(d),b<a.length-1&&i.push((0,p.ll)`, `)}}let l=this.buildWithCTE(g),m=p.ll.join(i),o=d?(0,p.ll)` returning ${this.buildSelection(d,{isSingleTable:!0})}`:void 0,q=c?.length?p.ll.join(c):void 0;return(0,p.ll)`${l}insert into ${a} ${k} ${m}${q}${o}`}sqlToQuery(a,b){return a.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,invokeSource:b})}buildRelationalQuery({fullSchema:a,schema:b,tableNamesMap:c,table:g,tableConfig:h,queryConfig:i,tableAlias:j,nestedQueryRelation:t,joinOn:u}){let v,w=[],x,y,z=[],A,B=[];if(!0===i)w=Object.entries(h.columns).map(([a,b])=>({dbKey:b.name,tsKey:a,field:(0,d.ug)(b,j),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let g=Object.fromEntries(Object.entries(h.columns).map(([a,b])=>[a,(0,d.ug)(b,j)]));if(i.where){let a="function"==typeof i.where?i.where(g,(0,m.mm)()):i.where;A=a&&(0,d.yY)(a,j)}let l=[],q=[];if(i.columns){let a=!1;for(let[b,c]of Object.entries(i.columns))void 0!==c&&b in h.columns&&(a||!0!==c||(a=!0),q.push(b));q.length>0&&(q=a?q.filter(a=>i.columns?.[a]===!0):Object.keys(h.columns).filter(a=>!q.includes(a)))}else q=Object.keys(h.columns);for(let a of q){let b=h.columns[a];l.push({tsKey:a,value:b})}let r=[];if(i.with&&(r=Object.entries(i.with).filter(a=>!!a[1]).map(([a,b])=>({tsKey:a,queryConfig:b,relation:h.relations[a]}))),i.extras)for(let[a,b]of Object.entries("function"==typeof i.extras?i.extras(g,{sql:p.ll}):i.extras))l.push({tsKey:a,value:(0,d.Hs)(b,j)});for(let{tsKey:a,value:b}of l)w.push({dbKey:(0,e.is)(b,p.Xs.Aliased)?b.fieldAlias:h.columns[a].name,tsKey:a,field:(0,e.is)(b,k.V)?(0,d.ug)(b,j):b,relationTableTsKey:void 0,isJson:!1,selection:[]});let s="function"==typeof i.orderBy?i.orderBy(g,(0,m.rl)()):i.orderBy??[];for(let{tsKey:g,queryConfig:h,relation:l}of(Array.isArray(s)||(s=[s]),z=s.map(a=>(0,e.is)(a,k.V)?(0,d.ug)(a,j):(0,d.yY)(a,j)),x=i.limit,y=i.offset,r)){let i=(0,m.W0)(b,c,l),k=c[(0,f.Lf)(l.referencedTable)],q=`${j}_${g}`,r=(0,o.Uo)(...i.fields.map((a,b)=>(0,o.eq)((0,d.ug)(i.references[b],q),(0,d.ug)(a,j)))),s=this.buildRelationalQuery({fullSchema:a,schema:b,tableNamesMap:c,table:a[k],tableConfig:b[k],queryConfig:(0,e.is)(l,m.pD)?!0===h?{limit:1}:{...h,limit:1}:h,tableAlias:q,joinOn:r,nestedQueryRelation:l}),t=(0,p.ll)`(${s.sql})`.as(g);w.push({dbKey:g,tsKey:g,field:t,relationTableTsKey:k,isJson:!0,selection:s.selection})}}if(0===w.length)throw new l.n9({message:`No fields selected for table "${h.tsName}" ("${j}"). You need to have at least one item in "columns", "with" or "extras". If you need to select all columns, omit the "columns" key or set it to undefined.`});if(A=(0,o.Uo)(u,A),t){let a=(0,p.ll)`json_array(${p.ll.join(w.map(({field:a})=>(0,e.is)(a,q.v)?p.ll.identifier(this.casing.getColumnCasing(a)):(0,e.is)(a,p.Xs.Aliased)?a.sql:a),(0,p.ll)`, `)})`;(0,e.is)(t,m.iv)&&(a=(0,p.ll)`coalesce(json_group_array(${a}), json_array())`);let b=[{dbKey:"data",tsKey:"data",field:a.as("data"),isJson:!0,relationTableTsKey:h.tsName,selection:w}];void 0!==x||void 0!==y||z.length>0?(v=this.buildSelectQuery({table:(0,d.oG)(g,j),fields:{},fieldsFlat:[{path:[],field:p.ll.raw("*")}],where:A,limit:x,offset:y,orderBy:z,setOperators:[]}),A=void 0,x=void 0,y=void 0,z=void 0):v=(0,d.oG)(g,j),v=this.buildSelectQuery({table:(0,e.is)(v,r.jo)?v:new s.n(v,{},j),fields:{},fieldsFlat:b.map(({field:a})=>({path:[],field:(0,e.is)(a,k.V)?(0,d.ug)(a,j):a})),joins:B,where:A,limit:x,offset:y,orderBy:z,setOperators:[]})}else v=this.buildSelectQuery({table:(0,d.oG)(g,j),fields:{},fieldsFlat:w.map(({field:a})=>({path:[],field:(0,e.is)(a,k.V)?(0,d.ug)(a,j):a})),joins:B,where:A,limit:x,offset:y,orderBy:z,setOperators:[]});return{tableTsKey:h.tsName,sql:v,selection:w}}}class x extends w{static [e.i]="SQLiteSyncDialect";migrate(a,b,c){let d=void 0===c||"string"==typeof c?"__drizzle_migrations":c.migrationsTable??"__drizzle_migrations",e=(0,p.ll)`
			CREATE TABLE IF NOT EXISTS ${p.ll.identifier(d)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;b.run(e);let f=b.values((0,p.ll)`SELECT id, hash, created_at FROM ${p.ll.identifier(d)} ORDER BY created_at DESC LIMIT 1`)[0]??void 0;b.run((0,p.ll)`BEGIN`);try{for(let c of a)if(!f||Number(f[2])<c.folderMillis){for(let a of c.sql)b.run(p.ll.raw(a));b.run((0,p.ll)`INSERT INTO ${p.ll.identifier(d)} ("hash", "created_at") VALUES(${c.hash}, ${c.folderMillis})`)}b.run((0,p.ll)`COMMIT`)}catch(a){throw b.run((0,p.ll)`ROLLBACK`),a}}}class y extends w{static [e.i]="SQLiteAsyncDialect";async migrate(a,b,c){let d=void 0===c||"string"==typeof c?"__drizzle_migrations":c.migrationsTable??"__drizzle_migrations",e=(0,p.ll)`
			CREATE TABLE IF NOT EXISTS ${p.ll.identifier(d)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;await b.run(e);let f=(await b.values((0,p.ll)`SELECT id, hash, created_at FROM ${p.ll.identifier(d)} ORDER BY created_at DESC LIMIT 1`))[0]??void 0;await b.transaction(async b=>{for(let c of a)if(!f||Number(f[2])<c.folderMillis){for(let a of c.sql)await b.run(p.ll.raw(a));await b.run((0,p.ll)`INSERT INTO ${p.ll.identifier(d)} ("hash", "created_at") VALUES(${c.hash}, ${c.folderMillis})`)}})}}},22744:(a,b,c)=>{let d=c(90165),e=c(32741),{erase:f,cursor:g}=c(1298),{style:h,clear:i,lines:j,figures:k}=c(67406);class l extends e{constructor(a={}){super(a),this.transform=h.render(a.style),this.scale=this.transform.scale,this.msg=a.message,this.initial=a.initial||"",this.validator=a.validate||(()=>!0),this.value="",this.errorMsg=a.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=i("",this.out.columns),this.render()}set value(a){!a&&this.initial?(this.placeholder=!0,this.rendered=d.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(a)),this._value=a,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let a=await this.validator(this.value);"string"==typeof a&&(this.errorMsg=a,a=!1),this.error=!a}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(a){this.placeholder||(this.cursor=this.cursor+a,this.cursorOffset+=a)}_(a,b){let c=this.value.slice(0,this.cursor),d=this.value.slice(this.cursor);this.value=`${c}${a}${d}`,this.red=!1,this.cursor=this.placeholder?0:c.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let a=this.value.slice(0,this.cursor-1),b=this.value.slice(this.cursor);this.value=`${a}${b}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let a=this.value.slice(0,this.cursor),b=this.value.slice(this.cursor+1);this.value=`${a}${b}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(g.down(j(this.outputError,this.out.columns)-1)+i(this.outputError,this.out.columns)),this.out.write(i(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[h.symbol(this.done,this.aborted),d.bold(this.msg),h.delimiter(this.done),this.red?d.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((a,b,c)=>a+`
${c?" ":k.pointerSmall} ${d.red().italic(b)}`,"")),this.out.write(f.line+g.to(0)+this.outputText+g.save+this.outputError+g.restore+g.move(this.cursorOffset,0)))}}a.exports=l},22946:(a,b,c)=>{"use strict";var d=c(39174);if(d)try{d([],"length")}catch(a){d=null}a.exports=d},22951:(a,b,c)=>{"use strict";let d=c(90165),e=c(1298).cursor,f=c(7875),g=c(90439),h=g.clear,i=g.style,j=g.figures;class k extends f{constructor(a={}){a.overrideRender=!0,super(a),this.inputValue="",this.clear=h("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let a=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(a=>!this.inputValue||!!("string"==typeof a.title&&a.title.toLowerCase().includes(this.inputValue.toLowerCase())||"string"==typeof a.value&&a.value.toLowerCase().includes(this.inputValue.toLowerCase())));let b=this.filteredOptions.findIndex(b=>b===a);this.cursor=b<0?0:b,this.render()}handleSpaceToggle(){let a=this.filteredOptions[this.cursor];if(a.selected)a.selected=!1,this.render();else{if(a.disabled||this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();a.selected=!0,this.render()}}handleInputChange(a){this.inputValue=this.inputValue+a,this.updateFilteredOptions()}_(a,b){" "===a?this.handleSpaceToggle():this.handleInputChange(a)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${j.arrowUp}/${j.arrowDown}: Highlight option
    ${j.arrowLeft}/${j.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:d.gray("Enter something to filter")}
`}renderOption(a,b,c){let e;return e=b.disabled?a===c?d.gray().underline(b.title):d.strikethrough().gray(b.title):a===c?d.cyan().underline(b.title):b.title,(b.selected?d.green(j.radioOn):j.radioOff)+"  "+e}renderDoneOrInstructions(){if(this.done)return this.value.filter(a=>a.selected).map(a=>a.title).join(", ");let a=[d.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&a.push(d.yellow(this.warn)),a.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let a=[i.symbol(this.done,this.aborted),d.bold(this.msg),i.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(a+=d.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),a+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+a),this.clear=h(a,this.out.columns)}}a.exports=k},23019:(a,b,c)=>{"use strict";let d,{Writable:e}=c(27910),{assertCacheKey:f,assertCacheValue:g}=c(18430),h=3,i=2e9;function j(a,b){return null==a&&null==b||(null!=a||null==b)&&(null==a||null!=b)&&(Array.isArray(a)&&Array.isArray(b)?a.length===b.length&&a.every((a,c)=>a===b[c]):a===b)}a.exports=class{#aW=i;#aX=1/0;#g;#aY;#aZ;#a$;#a_;#a0;#a1;#a2;constructor(a){if(a){if("object"!=typeof a)throw TypeError("SqliteCacheStore options must be an object");if(void 0!==a.maxEntrySize){if("number"!=typeof a.maxEntrySize||!Number.isInteger(a.maxEntrySize)||a.maxEntrySize<0)throw TypeError("SqliteCacheStore options.maxEntrySize must be a non-negative integer");if(a.maxEntrySize>i)throw TypeError("SqliteCacheStore options.maxEntrySize must be less than 2gb");this.#aW=a.maxEntrySize}if(void 0!==a.maxCount){if("number"!=typeof a.maxCount||!Number.isInteger(a.maxCount)||a.maxCount<0)throw TypeError("SqliteCacheStore options.maxCount must be a non-negative integer");this.#aX=a.maxCount}}d||(d=c(80099).DatabaseSync),this.#g=new d(a?.location??":memory:"),this.#g.exec(`
      PRAGMA journal_mode = WAL;
      PRAGMA synchronous = NORMAL;
      PRAGMA temp_store = memory;
      PRAGMA optimize;

      CREATE TABLE IF NOT EXISTS cacheInterceptorV${h} (
        -- Data specific to us
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        url TEXT NOT NULL,
        method TEXT NOT NULL,

        -- Data returned to the interceptor
        body BUF NULL,
        deleteAt INTEGER NOT NULL,
        statusCode INTEGER NOT NULL,
        statusMessage TEXT NOT NULL,
        headers TEXT NULL,
        cacheControlDirectives TEXT NULL,
        etag TEXT NULL,
        vary TEXT NULL,
        cachedAt INTEGER NOT NULL,
        staleAt INTEGER NOT NULL
      );

      CREATE INDEX IF NOT EXISTS idx_cacheInterceptorV${h}_getValuesQuery ON cacheInterceptorV${h}(url, method, deleteAt);
      CREATE INDEX IF NOT EXISTS idx_cacheInterceptorV${h}_deleteByUrlQuery ON cacheInterceptorV${h}(deleteAt);
    `),this.#aY=this.#g.prepare(`
      SELECT
        id,
        body,
        deleteAt,
        statusCode,
        statusMessage,
        headers,
        etag,
        cacheControlDirectives,
        vary,
        cachedAt,
        staleAt
      FROM cacheInterceptorV${h}
      WHERE
        url = ?
        AND method = ?
      ORDER BY
        deleteAt ASC
    `),this.#aZ=this.#g.prepare(`
      UPDATE cacheInterceptorV${h} SET
        body = ?,
        deleteAt = ?,
        statusCode = ?,
        statusMessage = ?,
        headers = ?,
        etag = ?,
        cacheControlDirectives = ?,
        cachedAt = ?,
        staleAt = ?
      WHERE
        id = ?
    `),this.#a$=this.#g.prepare(`
      INSERT INTO cacheInterceptorV${h} (
        url,
        method,
        body,
        deleteAt,
        statusCode,
        statusMessage,
        headers,
        etag,
        cacheControlDirectives,
        vary,
        cachedAt,
        staleAt
      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `),this.#a0=this.#g.prepare(`DELETE FROM cacheInterceptorV${h} WHERE url = ?`),this.#a1=this.#g.prepare(`SELECT COUNT(*) AS total FROM cacheInterceptorV${h}`),this.#a_=this.#g.prepare(`DELETE FROM cacheInterceptorV${h} WHERE deleteAt <= ?`),this.#a2=this.#aX===1/0?null:this.#g.prepare(`
        DELETE FROM cacheInterceptorV${h}
        WHERE id IN (
          SELECT
            id
          FROM cacheInterceptorV${h}
          ORDER BY cachedAt DESC
          LIMIT ?
        )
      `)}close(){this.#g.close()}get(a){f(a);let b=this.#a3(a);return b?{body:b.body?Buffer.from(b.body.buffer,b.body.byteOffset,b.body.byteLength):void 0,statusCode:b.statusCode,statusMessage:b.statusMessage,headers:b.headers?JSON.parse(b.headers):void 0,etag:b.etag?b.etag:void 0,vary:b.vary?JSON.parse(b.vary):void 0,cacheControlDirectives:b.cacheControlDirectives?JSON.parse(b.cacheControlDirectives):void 0,cachedAt:b.cachedAt,staleAt:b.staleAt,deleteAt:b.deleteAt}:void 0}set(a,b){f(a);let c=this.#a4(a),d=Array.isArray(b.body)?Buffer.concat(b.body):b.body,e=d?.byteLength;if(e&&e>this.#aW)return;let g=this.#a3(a,!0);g?this.#aZ.run(d,b.deleteAt,b.statusCode,b.statusMessage,b.headers?JSON.stringify(b.headers):null,b.etag?b.etag:null,b.cacheControlDirectives?JSON.stringify(b.cacheControlDirectives):null,b.cachedAt,b.staleAt,g.id):(this.#a5(),this.#a$.run(c,a.method,d,b.deleteAt,b.statusCode,b.statusMessage,b.headers?JSON.stringify(b.headers):null,b.etag?b.etag:null,b.cacheControlDirectives?JSON.stringify(b.cacheControlDirectives):null,b.vary?JSON.stringify(b.vary):null,b.cachedAt,b.staleAt))}createWriteStream(a,b){f(a),g(b);let c=0,d=[],h=this;return new e({decodeStrings:!0,write(a,b,e){(c+=a.byteLength)<h.#aW?d.push(a):this.destroy(),e()},final(c){h.set(a,{...b,body:d}),c()}})}delete(a){if("object"!=typeof a)throw TypeError(`expected key to be object, got ${typeof a}`);this.#a0.run(this.#a4(a))}#a5(){if(Number.isFinite(this.#aX)&&this.size<=this.#aX)return 0;{let a=this.#a_.run(Date.now()).changes;if(a)return a}{let a=this.#a2?.run(Math.max(Math.floor(.1*this.#aX),1)).changes;if(a)return a}return 0}get size(){let{total:a}=this.#a1.get();return a}#a4(a){return`${a.origin}/${a.path}`}#a3(a,b=!1){let c=this.#a4(a),{headers:d,method:e}=a,f=this.#aY.all(c,e);if(0===f.length)return;let g=Date.now();for(let a of f){if(g>=a.deleteAt&&!b)break;let c=!0;if(a.vary){let b=JSON.parse(a.vary);for(let a in b)if(!j(d[a],b[a])){c=!1;break}}if(c)return a}}}},23073:(a,b,c)=>{"use strict";c.d(b,{m:()=>d});let d=({fallbackLocale:a,locale:b,localization:c})=>{let d=!1;if(null==a&&(d=!!(c&&c.fallback)),a&&(Array.isArray(a)||!["false","none","null"].includes(a))&&(d=!0),d){if(!a){let d=c&&c?.locales?.length?c.locales.find(a=>a.code===b)?.fallbackLocale:void 0;d?a=d:c&&"fallback"in c&&c.fallback&&(a=c.defaultLocale)}}else a=null;return a}},23192:(a,b,c)=>{"use strict";c.d(b,{V:()=>e});var d=c(37593);class e{constructor(a,b){this.table=a,this.config=b,this.name=b.name,this.keyAsName=b.keyAsName,this.notNull=b.notNull,this.default=b.default,this.defaultFn=b.defaultFn,this.onUpdateFn=b.onUpdateFn,this.hasDefault=b.hasDefault,this.primary=b.primaryKey,this.isUnique=b.isUnique,this.uniqueName=b.uniqueName,this.uniqueType=b.uniqueType,this.dataType=b.dataType,this.columnType=b.columnType,this.generated=b.generated,this.generatedIdentity=b.generatedIdentity}static [d.i]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(a){return a}mapToDriverValue(a){return a}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}},23301:(a,b,c)=>{"use strict";c.d(b,{u:()=>e});var d=c(99395);let e=a=>a[d.V]||(a[d.V]={})},23430:(a,b,c)=>{"use strict";c.d(b,{n:()=>f});var d=c(59213),e=c(69480);let f=a=>{let b;if("object"!=typeof(b="string"==typeof a?(0,e.a)(a):a)||"number"!=typeof b.byteOffset||"number"!=typeof b.byteLength)throw Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,d.fromArrayBuffer)(b.buffer,b.byteOffset,b.byteLength).toString("base64")}},23631:(a,b,c)=>{"use strict";c.d(b,{X:()=>f});var d=c(27661),e=c(35593);class f extends e.L{constructor(a){super(`RichText field${(0,d.Z7)(a)?` "${a.name}"`:""} is missing the editor prop. For sub-richText fields, the editor props is required, as it would otherwise create infinite recursion.`)}}},23661:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{revalidatePath:function(){return o},revalidateTag:function(){return k},unstable_expirePath:function(){return l},unstable_expireTag:function(){return m}});let d=c(63690),e=c(74673),f=c(97702),g=c(29294),h=c(63033),i=c(90496),j=c(60762);function k(a){return p([a],`revalidateTag ${a}`)}function l(a,b){if(a.length>f.NEXT_CACHE_SOFT_TAG_MAX_LENGTH)return void console.warn(`Warning: expirePath received "${a}" which exceeded max length of ${f.NEXT_CACHE_SOFT_TAG_MAX_LENGTH}. See more info here https://nextjs.org/docs/app/api-reference/functions/unstable_expirePath`);let c=`${f.NEXT_CACHE_IMPLICIT_TAG_ID}${a}`;return b?c+=`${c.endsWith("/")?"":"/"}${b}`:(0,e.isDynamicRoute)(a)&&console.warn(`Warning: a dynamic page path "${a}" was passed to "expirePath", but the "type" parameter is missing. This has no effect by default, see more info here https://nextjs.org/docs/app/api-reference/functions/unstable_expirePath`),p([c],`unstable_expirePath ${a}`)}function m(...a){return p(a,`unstable_expireTag ${a.join(", ")}`)}function o(a,b){if(a.length>f.NEXT_CACHE_SOFT_TAG_MAX_LENGTH)return void console.warn(`Warning: revalidatePath received "${a}" which exceeded max length of ${f.NEXT_CACHE_SOFT_TAG_MAX_LENGTH}. See more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`);let c=`${f.NEXT_CACHE_IMPLICIT_TAG_ID}${a}`;return b?c+=`${c.endsWith("/")?"":"/"}${b}`:(0,e.isDynamicRoute)(a)&&console.warn(`Warning: a dynamic page path "${a}" was passed to "revalidatePath", but the "type" parameter is missing. This has no effect by default, see more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`),p([c],`revalidatePath ${a}`)}function p(a,b){let c=g.workAsyncStorage.getStore();if(!c||!c.incrementalCache)throw Object.defineProperty(Error(`Invariant: static generation store missing in ${b}`),"__NEXT_ERROR_CODE",{value:"E263",enumerable:!1,configurable:!0});let e=h.workUnitAsyncStorage.getStore();if(e){if("render"===e.phase)throw Object.defineProperty(Error(`Route ${c.route} used "${b}" during render which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E7",enumerable:!1,configurable:!0});switch(e.type){case"cache":case"private-cache":throw Object.defineProperty(Error(`Route ${c.route} used "${b}" inside a "use cache" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E181",enumerable:!1,configurable:!0});case"unstable-cache":throw Object.defineProperty(Error(`Route ${c.route} used "${b}" inside a function cached with "unstable_cache(...)" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E306",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":let a=Object.defineProperty(Error(`Route ${c.route} used ${b} without first calling \`await connection()\`.`),"__NEXT_ERROR_CODE",{value:"E406",enumerable:!1,configurable:!0});return(0,d.abortAndThrowOnSynchronousRequestDataAccess)(c.route,b,a,e);case"prerender-client":throw Object.defineProperty(new j.InvariantError(`${b} must not be used within a client component. Next.js should be preventing ${b} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,d.postponeWithTracking)(c.route,b,e.dynamicTracking);case"prerender-legacy":e.revalidate=0;let f=Object.defineProperty(new i.DynamicServerError(`Route ${c.route} couldn't be rendered statically because it used \`${b}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.dynamicUsageDescription=b,c.dynamicUsageStack=f.stack,f}}for(let b of(c.pendingRevalidatedTags||(c.pendingRevalidatedTags=[]),a))c.pendingRevalidatedTags.includes(b)||c.pendingRevalidatedTags.push(b);c.pathWasRevalidated=!0}},23699:(a,b,c)=>{"use strict";c.d(b,{Z:()=>d,u:()=>e});let d="payload-jobs-stats",e=a=>({slug:d,admin:{group:"System",hidden:!0},fields:[{name:"stats",type:"json"}]})},23825:(a,b,c)=>{"use strict";c.d(b,{OR:()=>f,pk:()=>e,wU:()=>g});let d=Symbol("RawConstraint"),e=Symbol("DistinctSymbol"),f=a=>({type:d,value:a}),g=a=>a&&"object"==typeof a&&"type"in a&&a.type===d},23920:(a,b)=>{"use strict";function c(a){return"("===a[0]&&a.endsWith(")")}function d(a){return a.startsWith("@")&&"@children"!==a}function e(a,b){if(a.includes(f)){let a=JSON.stringify(b);return"{}"!==a?f+"?"+a:f}return a}Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{DEFAULT_SEGMENT_KEY:function(){return g},PAGE_SEGMENT_KEY:function(){return f},addSearchParamsIfPageSegment:function(){return e},isGroupSegment:function(){return c},isParallelRouteSegment:function(){return d}});let f="__PAGE__",g="__DEFAULT__"},24325:(a,b,c)=>{"use strict";c.d(b,{l:()=>f});var d=c(61101),e=c(35593);class f extends e.L{constructor(a){super(`The following path${1===a.length?"":"s"} cannot be queried: ${a.map(a=>a.path).join(", ")}`,d.h.BAD_REQUEST,a)}}},24415:(a,b,c)=>{"use strict";let{kConstruct:d}=c(25394),{kEnumerableProperty:e}=c(33895),{iteratorMixin:f,isValidHeaderName:g,isValidHeaderValue:h}=c(45293),{webidl:i}=c(2312),j=c(34589),k=c(57975);function l(a){return 10===a||13===a||9===a||32===a}function m(a){let b=0,c=a.length;for(;c>b&&l(a.charCodeAt(c-1));)--c;for(;c>b&&l(a.charCodeAt(b));)++b;return 0===b&&c===a.length?a:a.substring(b,c)}function o(a,b){if(Array.isArray(b))for(let c=0;c<b.length;++c){let d=b[c];if(2!==d.length)throw i.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${d.length}.`});p(a,d[0],d[1])}else if("object"==typeof b&&null!==b){let c=Object.keys(b);for(let d=0;d<c.length;++d)p(a,c[d],b[c[d]])}else throw i.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}function p(a,b,c){if(c=m(c),g(b)){if(!h(c))throw i.errors.invalidArgument({prefix:"Headers.append",value:c,type:"header value"})}else throw i.errors.invalidArgument({prefix:"Headers.append",value:b,type:"header name"});if("immutable"===u(a))throw TypeError("immutable");return w(a).append(b,c,!1)}function q(a){let b=w(a);if(!b)return[];if(b.sortedMap)return b.sortedMap;let c=[],d=b.toSortedArray(),e=b.cookies;if(null===e||1===e.length)return b.sortedMap=d;for(let a=0;a<d.length;++a){let{0:b,1:f}=d[a];if("set-cookie"===b)for(let a=0;a<e.length;++a)c.push([b,e[a]]);else c.push([b,f])}return b.sortedMap=c}function r(a,b){return a[0]<b[0]?-1:1}class s{cookies=null;sortedMap;headersMap;constructor(a){a instanceof s?(this.headersMap=new Map(a.headersMap),this.sortedMap=a.sortedMap,this.cookies=null===a.cookies?null:[...a.cookies]):(this.headersMap=new Map(a),this.sortedMap=null)}contains(a,b){return this.headersMap.has(b?a:a.toLowerCase())}clear(){this.headersMap.clear(),this.sortedMap=null,this.cookies=null}append(a,b,c){this.sortedMap=null;let d=c?a:a.toLowerCase(),e=this.headersMap.get(d);if(e){let a="cookie"===d?"; ":", ";this.headersMap.set(d,{name:e.name,value:`${e.value}${a}${b}`})}else this.headersMap.set(d,{name:a,value:b});"set-cookie"===d&&(this.cookies??=[]).push(b)}set(a,b,c){this.sortedMap=null;let d=c?a:a.toLowerCase();"set-cookie"===d&&(this.cookies=[b]),this.headersMap.set(d,{name:a,value:b})}delete(a,b){this.sortedMap=null,b||(a=a.toLowerCase()),"set-cookie"===a&&(this.cookies=null),this.headersMap.delete(a)}get(a,b){return this.headersMap.get(b?a:a.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:a,1:{value:b}}of this.headersMap)yield[a,b]}get entries(){let a={};if(0!==this.headersMap.size)for(let{name:b,value:c}of this.headersMap.values())a[b]=c;return a}rawValues(){return this.headersMap.values()}get entriesList(){let a=[];if(0!==this.headersMap.size)for(let{0:b,1:{name:c,value:d}}of this.headersMap)if("set-cookie"===b)for(let b of this.cookies)a.push([c,b]);else a.push([c,d]);return a}toSortedArray(){let a=this.headersMap.size,b=Array(a);if(a<=32){if(0===a)return b;let c=this.headersMap[Symbol.iterator](),d=c.next().value;b[0]=[d[0],d[1].value],j(null!==d[1].value);for(let d=1,e=0,f=0,g=0,h=0,i,k;d<a;++d){for(k=c.next().value,j(null!==(i=b[d]=[k[0],k[1].value])[1]),g=0,f=d;g<f;)b[h=g+(f-g>>1)][0]<=i[0]?g=h+1:f=h;if(d!==h){for(e=d;e>g;)b[e]=b[--e];b[g]=i}}if(!c.next().done)throw TypeError("Unreachable");return b}{let a=0;for(let{0:c,1:{value:d}}of this.headersMap)b[a++]=[c,d],j(null!==d);return b.sort(r)}}}class t{#a6;#a7;constructor(a){if(i.util.markAsUncloneable(this),a===d)return;this.#a7=new s,this.#a6="none",void 0!==a&&o(this,a=i.converters.HeadersInit(a,"Headers constructor","init"))}append(a,b){i.brandCheck(this,t),i.argumentLengthCheck(arguments,2,"Headers.append");let c="Headers.append";return a=i.converters.ByteString(a,c,"name"),b=i.converters.ByteString(b,c,"value"),p(this,a,b)}delete(a){i.brandCheck(this,t),i.argumentLengthCheck(arguments,1,"Headers.delete");let b="Headers.delete";if(!g(a=i.converters.ByteString(a,b,"name")))throw i.errors.invalidArgument({prefix:"Headers.delete",value:a,type:"header name"});if("immutable"===this.#a6)throw TypeError("immutable");this.#a7.contains(a,!1)&&this.#a7.delete(a,!1)}get(a){i.brandCheck(this,t),i.argumentLengthCheck(arguments,1,"Headers.get");let b="Headers.get";if(!g(a=i.converters.ByteString(a,b,"name")))throw i.errors.invalidArgument({prefix:b,value:a,type:"header name"});return this.#a7.get(a,!1)}has(a){i.brandCheck(this,t),i.argumentLengthCheck(arguments,1,"Headers.has");let b="Headers.has";if(!g(a=i.converters.ByteString(a,b,"name")))throw i.errors.invalidArgument({prefix:b,value:a,type:"header name"});return this.#a7.contains(a,!1)}set(a,b){i.brandCheck(this,t),i.argumentLengthCheck(arguments,2,"Headers.set");let c="Headers.set";if(a=i.converters.ByteString(a,c,"name"),b=m(b=i.converters.ByteString(b,c,"value")),g(a)){if(!h(b))throw i.errors.invalidArgument({prefix:c,value:b,type:"header value"})}else throw i.errors.invalidArgument({prefix:c,value:a,type:"header name"});if("immutable"===this.#a6)throw TypeError("immutable");this.#a7.set(a,b,!1)}getSetCookie(){i.brandCheck(this,t);let a=this.#a7.cookies;return a?[...a]:[]}[k.inspect.custom](a,b){return b.depth??=a,`Headers ${k.formatWithOptions(b,this.#a7.entries)}`}static getHeadersGuard(a){return a.#a6}static setHeadersGuard(a,b){a.#a6=b}static getHeadersList(a){return a.#a7}static setHeadersList(a,b){a.#a7=b}}let{getHeadersGuard:u,setHeadersGuard:v,getHeadersList:w,setHeadersList:x}=t;Reflect.deleteProperty(t,"getHeadersGuard"),Reflect.deleteProperty(t,"setHeadersGuard"),Reflect.deleteProperty(t,"getHeadersList"),Reflect.deleteProperty(t,"setHeadersList"),f("Headers",t,q,0,1),Object.defineProperties(t.prototype,{append:e,delete:e,get:e,has:e,set:e,getSetCookie:e,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[k.inspect.custom]:{enumerable:!1}}),i.converters.HeadersInit=function(a,b,c){if(i.util.Type(a)===i.util.Types.OBJECT){let d=Reflect.get(a,Symbol.iterator);if(!k.types.isProxy(a)&&d===t.prototype.entries)try{return w(a).entriesList}catch{}return"function"==typeof d?i.converters["sequence<sequence<ByteString>>"](a,b,c,d.bind(a)):i.converters["record<ByteString, ByteString>"](a,b,c)}throw i.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})},a.exports={fill:o,compareHeaderName:r,Headers:t,HeadersList:s,getHeadersGuard:u,setHeadersGuard:v,setHeadersList:x,getHeadersList:w}},24738:(a,b,c)=>{"use strict";c.d(b,{p:()=>f});var d=c(61092);let e={Bearer:({headers:a})=>{let b=a.get("Authorization");return b?.startsWith("Bearer ")?b.replace("Bearer ",""):null},cookie:({headers:a,payload:b})=>{let c=a.get("Origin"),e=(0,d.J)(a),f=`${b.config.cookiePrefix}-token`,g=e.get(f);return g&&(!c||0===b.config.csrf.length||b.config.csrf.indexOf(c)>-1)?g:null},JWT:({headers:a})=>{let b=a.get("Authorization");return b?.startsWith("JWT ")?b.replace("JWT ",""):null}},f=a=>{let{headers:b,payload:c}=a;for(let a of c.config.auth.jwtOrder){let d=e[a]({headers:b,payload:c});if(d)return d}return null}},24797:a=>{"use strict";a.exports=function a(a){return a instanceof Date&&!Number.isNaN(a.getTime())}},24891:(a,b)=>{"use strict";var c;function d(a){return b=>async c=>{let{CreateBucketConfiguration:d}=c.input,e=await a.region();return d?.LocationConstraint||d?.Location||"us-east-1"===e||(c.input.CreateBucketConfiguration=c.input.CreateBucketConfiguration??{},c.input.CreateBucketConfiguration.LocationConstraint=e),b(c)}}let e={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0};b.YJ=a=>({applyToStack:b=>{b.add(d(a),e)}}),c=d,c=e},25018:(a,b,c)=>{"use strict";c.d(b,{D:()=>d});let d=(0,c(50474).m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#UnderlineFeatureClient"},key:"underline"})},25083:(a,b,c)=>{"use strict";c.d(b,{m:()=>e});var d=c(83518);let e=async({id:a,data:b,disableErrors:c,isReadingStaticFile:e=!1,req:f},g)=>{if(g){let h=await g({id:a,data:b,isReadingStaticFile:e,req:f});if(!h&&!c)throw new d.c(f.t);return h}if(f.user)return!0;if(!c)throw new d.c(f.t);return!1}},25258:a=>{"use strict";let b=Symbol("pino.setLevel"),c=Symbol("pino.getLevel"),d=Symbol("pino.levelVal"),e=Symbol("pino.levelComp"),f=Symbol("pino.useLevelLabels"),g=Symbol("pino.useOnlyCustomLevels"),h=Symbol("pino.mixin"),i=Symbol("pino.lsCache"),j=Symbol("pino.chindings"),k=Symbol("pino.asJson"),l=Symbol("pino.write"),m=Symbol("pino.redactFmt"),o=Symbol("pino.time"),p=Symbol("pino.timeSliceIndex"),q=Symbol("pino.stream"),r=Symbol("pino.stringify"),s=Symbol("pino.stringifySafe"),t=Symbol("pino.stringifiers"),u=Symbol("pino.end"),v=Symbol("pino.formatOpts"),w=Symbol("pino.messageKey"),x=Symbol("pino.errorKey"),y=Symbol("pino.nestedKey"),z=Symbol("pino.nestedKeyStr"),A=Symbol("pino.mixinMergeStrategy"),B=Symbol("pino.msgPrefix"),C=Symbol("pino.wildcardFirst"),D=Symbol.for("pino.serializers"),E=Symbol.for("pino.formatters"),F=Symbol.for("pino.hooks");a.exports={setLevelSym:b,getLevelSym:c,levelValSym:d,levelCompSym:e,useLevelLabelsSym:f,mixinSym:h,lsCacheSym:i,chindingsSym:j,asJsonSym:k,writeSym:l,serializersSym:D,redactFmtSym:m,timeSym:o,timeSliceIndexSym:p,streamSym:q,stringifySym:r,stringifySafeSym:s,stringifiersSym:t,endSym:u,formatOptsSym:v,messageKeySym:w,errorKeySym:x,nestedKeySym:y,wildcardFirstSym:C,needsMetadataGsym:Symbol.for("pino.metadata"),useOnlyCustomLevelsSym:g,formattersSym:E,hooksSym:F,nestedKeyStrSym:z,mixinMergeStrategySym:A,msgPrefixSym:B}},25394:a=>{"use strict";a.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}},25467:(a,b,c)=>{"use strict";c.d(b,{L:()=>i});var d=c(89656);function e(a,b){return new Proxy(a,new d.h_(b,!1))}function f(a,b){return new Proxy(a,new d.h_(b,!1))}var g=c(38200),h=c(2437);let i=({adapter:a,tableName:b})=>{let c,d=g((0,h.A)());return"postgres"===a.name&&(c=e(a.tables[b],d)),"sqlite"===a.name&&(c=f(a.tables[b],d)),{newAliasTable:c,newAliasTableName:d}}},25915:a=>{"use strict";a.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},25929:(a,b,c)=>{"use strict";let{promisify:d}=c(57975),e=c(56327),{buildMockDispatch:f}=c(26810),{kDispatches:g,kMockAgent:h,kClose:i,kOriginalClose:j,kOrigin:k,kOriginalDispatch:l,kConnected:m,kIgnoreTrailingSlash:o}=c(77938),{MockInterceptor:p}=c(58304),q=c(25394),{InvalidArgumentError:r}=c(212);class s extends e{constructor(a,b){if(!b||!b.agent||"function"!=typeof b.agent.dispatch)throw new r("Argument opts.agent must implement Agent");super(a,b),this[h]=b.agent,this[k]=a,this[o]=b.ignoreTrailingSlash??!1,this[g]=[],this[m]=1,this[l]=this.dispatch,this[j]=this.close.bind(this),this.dispatch=f.call(this),this.close=this[i]}get[q.kConnected](){return this[m]}intercept(a){return new p(a&&{ignoreTrailingSlash:this[o],...a},this[g])}async [i](){await d(this[j])(),this[m]=0,this[h][q.kClients].delete(this[k])}}a.exports=s},25943:(a,b,c)=>{"use strict";function d(a){return null!=a&&("string"!=typeof a||""!==a.trim())&&!Number.isNaN(Number(a))}c.d(b,{E:()=>d})},26111:(a,b,c)=>{"use strict";c.d(b,{B:()=>i});var d=c(71540),e=c(68656),f=c(38200),g=c(42788),h=c(42526);async function i({autosave:a,collectionSlug:b,createdAt:c,parent:i,publishedLocale:j,req:k,returning:l,select:m,snapshot:o,updatedAt:p,versionData:q}){let r=await (0,h.x)(this,k),s=this.payload.collections[b].config,t=f(s.slug),u=this.tableNameMap.get(`_${t}${this.versionsSuffix}`),v={...q};v.id&&delete v.id;let w={autosave:a,createdAt:c,latest:!0,parent:i,publishedLocale:j,snapshot:o,updatedAt:p,version:v},x=await (0,g.q)({adapter:this,data:w,db:r,fields:(0,e.c)(this.payload.config,s,!0),operation:"create",req:k,select:m,tableName:u}),y=this.tables[u];return(s.versions.drafts&&await this.execute({db:r,sql:(0,d.ll)`
        UPDATE ${y}
        SET latest = false
        WHERE ${y.id} != ${x.id}
          AND ${y.parent} = ${i}
          AND ${y.updatedAt} < ${x.updatedAt}
      `}),!1===l)?null:x}},26132:(a,b,c)=>{"use strict";c.d(b,{Pi:()=>q,dJ:()=>h,fi:()=>p,jL:()=>k,jd:()=>j,xi:()=>i});var d=c(64554),e=c(65099);let f="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,g=f&&"documentMode"in document?document.documentMode:null;f&&"InputEvent"in window&&!g&&new window.InputEvent("input"),f&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),f&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,f&&/^(?=.*Chrome).*/i.test(navigator.userAgent),f&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent),(0,e.guI)("DRAG_DROP_PASTE_FILE");class h extends e.fGB{static getType(){return"quote"}static clone(a){return new h(a.__key)}createDOM(a){let b=document.createElement("blockquote");return(0,d.ZB)(b,a.theme.quote),b}updateDOM(a,b){return!1}static importDOM(){return{blockquote:a=>({conversion:o,priority:0})}}exportDOM(a){let{element:b}=super.exportDOM(a);if((0,e.sby)(b)){this.isEmpty()&&b.append(document.createElement("br"));let a=this.getFormatType();a&&(b.style.textAlign=a);let c=this.getDirection();c&&(b.dir=c)}return{element:b}}static importJSON(a){return i().updateFromJSON(a)}insertNewAfter(a,b){let c=(0,e.lJ7)(),d=this.getDirection();return c.setDirection(d),this.insertAfter(c,b),c}collapseAtStart(){let a=(0,e.lJ7)();return this.getChildren().forEach(b=>a.append(b)),this.replace(a),!0}canMergeWhenEmpty(){return!0}}function i(){return(0,e.pTq)(new h)}function j(a){return a instanceof h}class k extends e.fGB{static getType(){return"heading"}static clone(a){return new k(a.__tag,a.__key)}constructor(a,b){super(b),this.__tag=a}getTag(){return this.__tag}setTag(a){let b=this.getWritable();return this.__tag=a,b}createDOM(a){let b=this.__tag,c=document.createElement(b),e=a.theme.heading;if(void 0!==e){let a=e[b];(0,d.ZB)(c,a)}return c}updateDOM(a,b,c){return a.__tag!==this.__tag}static importDOM(){return{h1:a=>({conversion:m,priority:0}),h2:a=>({conversion:m,priority:0}),h3:a=>({conversion:m,priority:0}),h4:a=>({conversion:m,priority:0}),h5:a=>({conversion:m,priority:0}),h6:a=>({conversion:m,priority:0}),p:a=>{let b=a.firstChild;return null!==b&&l(b)?{conversion:()=>({node:null}),priority:3}:null},span:a=>l(a)?{conversion:a=>({node:p("h1")}),priority:3}:null}}exportDOM(a){let{element:b}=super.exportDOM(a);if((0,e.sby)(b)){this.isEmpty()&&b.append(document.createElement("br"));let a=this.getFormatType();a&&(b.style.textAlign=a);let c=this.getDirection();c&&(b.dir=c)}return{element:b}}static importJSON(a){return p(a.tag).updateFromJSON(a)}updateFromJSON(a){return super.updateFromJSON(a).setTag(a.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(a,b=!0){let c=a?a.anchor.offset:0,d=this.getLastDescendant(),f=d&&(!a||a.anchor.key!==d.getKey()||c!==d.getTextContentSize())&&a?p(this.getTag()):(0,e.lJ7)(),g=this.getDirection();if(f.setDirection(g),this.insertAfter(f,b),0===c&&!this.isEmpty()&&a){let a=(0,e.lJ7)();a.select(),this.replace(a,!0)}return f}collapseAtStart(){let a=this.isEmpty()?(0,e.lJ7)():p(this.getTag());return this.getChildren().forEach(b=>a.append(b)),this.replace(a),!0}extractWithChild(){return!0}}function l(a){return"span"===a.nodeName.toLowerCase()&&"26pt"===a.style.fontSize}function m(a){let b=a.nodeName.toLowerCase(),c=null;return"h1"!==b&&"h2"!==b&&"h3"!==b&&"h4"!==b&&"h5"!==b&&"h6"!==b||(c=p(b),null!==a.style&&((0,e.dxY)(a,c),c.setFormat(a.style.textAlign))),{node:c}}function o(a){let b=i();return null!==a.style&&(b.setFormat(a.style.textAlign),(0,e.dxY)(a,b)),{node:b}}function p(a="h1"){return(0,e.pTq)(new k(a))}function q(a){return a instanceof k}},26146:(a,b,c)=>{"use strict";function d(a,b,c){return a.$source||(a.$source={}),a.$source[b]=c,a}c.d(b,{g:()=>d})},26223:a=>{"use strict";a.exports={WRITE_INDEX:4,READ_INDEX:8}},26415:(a,b,c)=>{"use strict";let d=c(6e3),{ResponseError:e}=c(212);class f extends d{#a8;#a9;#ba;#bb;#bc;constructor(a,{handler:b}){super(b)}#bd(a){return 0===(this.#a9??"").indexOf(a)}onRequestStart(a,b){return this.#a8=0,this.#a9=null,this.#ba=null,this.#bb=null,this.#bc="",super.onRequestStart(a,b)}onResponseStart(a,b,c,d){if(this.#a8=b,this.#bb=c,this.#a9=c["content-type"],this.#a8<400)return super.onResponseStart(a,b,c,d);(this.#bd("application/json")||this.#bd("text/plain"))&&(this.#ba=new TextDecoder("utf-8"))}onResponseData(a,b){if(this.#a8<400)return super.onResponseData(a,b);this.#bc+=this.#ba?.decode(b,{stream:!0})??""}onResponseEnd(a,b){if(this.#a8>=400){let b;if(this.#bc+=this.#ba?.decode(void 0,{stream:!1})??"",this.#bd("application/json"))try{this.#bc=JSON.parse(this.#bc)}catch{}let c=Error.stackTraceLimit;Error.stackTraceLimit=0;try{b=new e("Response Error",this.#a8,{body:this.#bc,headers:this.#bb})}finally{Error.stackTraceLimit=c}super.onResponseError(a,b)}else super.onResponseEnd(a,b)}onResponseError(a,b){super.onResponseError(a,b)}}a.exports=()=>a=>function(b,c){return a(b,new f(b,{handler:c}))}},26488:(a,b,c)=>{"use strict";c.d(b,{j:()=>e});var d=c(14196);let e=async({collectionConfig:a,ids:b,payload:c,req:e})=>{a.auth?await c.db.deleteMany({collection:d.Y,req:e,where:{or:[{and:[{"user.value":{in:b}},{"user.relationTo":{equals:a.slug}}]},{key:{in:b.map(b=>`collection-${a.slug}-${b}`)}}]}}):await c.db.deleteMany({collection:d.Y,req:e,where:{key:{in:b.map(b=>`collection-${a.slug}-${b}`)}}})}},26666:(a,b,c)=>{"use strict";c.d(b,{N:()=>d});class d{trace(){}debug(){}info(){}warn(){}error(){}}},26810:(a,b,c)=>{"use strict";let{MockNotMatchedError:d}=c(32116),{kDispatches:e,kMockAgent:f,kOriginalDispatch:g,kOrigin:h,kGetNetConnect:i}=c(77938),{serializePathWithQuery:j}=c(33895),{STATUS_CODES:k}=c(37067),{types:{isPromise:l}}=c(57975),{InvalidArgumentError:m}=c(212);function o(a,b){return"string"==typeof a?a===b:a instanceof RegExp?a.test(b):"function"==typeof a&&!0===a(b)}function p(a){return Object.fromEntries(Object.entries(a).map(([a,b])=>[a.toLocaleLowerCase(),b]))}function q(a,b){if(Array.isArray(a)){for(let c=0;c<a.length;c+=2)if(a[c].toLocaleLowerCase()===b.toLocaleLowerCase())return a[c+1];return}return"function"==typeof a.get?a.get(b):p(a)[b.toLocaleLowerCase()]}function r(a){let b=a.slice(),c=[];for(let a=0;a<b.length;a+=2)c.push([b[a],b[a+1]]);return Object.fromEntries(c)}function s(a,b){if("function"==typeof a.headers)return Array.isArray(b)&&(b=r(b)),a.headers(b?p(b):{});if(void 0===a.headers)return!0;if("object"!=typeof b||"object"!=typeof a.headers)return!1;for(let[c,d]of Object.entries(a.headers))if(!o(d,q(b,c)))return!1;return!0}function t(a){if("string"!=typeof a)return a;let b=a.split("?",3);if(2!==b.length)return a;let c=new URLSearchParams(b.pop());return c.sort(),[...b,c.toString()].join("?")}function u(a,{path:b,method:c,body:d,headers:e}){let f=o(a.path,b),g=o(a.method,c),h=void 0===a.body||o(a.body,d),i=s(a,e);return f&&g&&h&&i}function v(a){if(Buffer.isBuffer(a)||a instanceof Uint8Array)return a;if(a instanceof ArrayBuffer)return a;if("object"==typeof a)return JSON.stringify(a);if(a)return a.toString();else return""}function w(a,b){let c=b.query?j(b.path,b.query):b.path,e="string"==typeof c?t(c):c,f=y(e),g=a.filter(({consumed:a})=>!a).filter(({path:a,ignoreTrailingSlash:b})=>b?o(y(t(a)),f):o(t(a),e));if(0===g.length)throw new d(`Mock dispatch not matched for path '${e}'`);if(0===(g=g.filter(({method:a})=>o(a,b.method))).length)throw new d(`Mock dispatch not matched for method '${b.method}' on path '${e}'`);if(0===(g=g.filter(({body:a})=>void 0===a||o(a,b.body))).length)throw new d(`Mock dispatch not matched for body '${b.body}' on path '${e}'`);if(0===(g=g.filter(a=>s(a,b.headers))).length){let a="object"==typeof b.headers?JSON.stringify(b.headers):b.headers;throw new d(`Mock dispatch not matched for headers '${a}' on path '${e}'`)}return g[0]}function x(a,b){let c=a.findIndex(a=>!!a.consumed&&u(a,b));-1!==c&&a.splice(c,1)}function y(a){for(;a.endsWith("/");)a=a.slice(0,-1);return 0===a.length&&(a="/"),a}function z(a){let{path:b,method:c,body:d,headers:e,query:f}=a;return{path:b,method:c,body:d,headers:e,query:f}}function A(a){let b=Object.keys(a),c=[];for(let d=0;d<b.length;++d){let e=b[d],f=a[e],g=Buffer.from(`${e}`);if(Array.isArray(f))for(let a=0;a<f.length;++a)c.push(g,Buffer.from(`${f[a]}`));else c.push(g,Buffer.from(`${f}`))}return c}function B(a){return k[a]||"unknown"}function C(a,b){let c=z(a),d=w(this[e],c);d.timesInvoked++,d.data.callback&&(d.data={...d.data,...d.data.callback(a)});let{data:{statusCode:f,data:g,headers:h,trailers:i,error:j},delay:k,persist:m}=d,{timesInvoked:o,times:p}=d;if(d.consumed=!m&&o>=p,d.pending=o<p,null!==j)return x(this[e],c),b.onError(j),!0;function q(d,e=g){let j=Array.isArray(a.headers)?r(a.headers):a.headers,k="function"==typeof e?e({...a,headers:j}):e;if(l(k))return void k.then(a=>q(d,a));let m=v(k),o=A(h),p=A(i);b.onConnect?.(a=>b.onError(a),null),b.onHeaders?.(f,o,s,B(f)),b.onData?.(Buffer.from(m)),b.onComplete?.(p),x(d,c)}function s(){}return"number"==typeof k&&k>0?setTimeout(()=>{q(this[e])},k):q(this[e]),!0}function D(){let a=this[f],b=this[h],c=this[g];return function(e,f){if(a.isMockActive)try{C.call(this,e,f)}catch(g){if(g instanceof d){let h=a[i]();if(!1===h)throw new d(`${g.message}: subsequent request to origin ${b} was not allowed (net.connect disabled)`);if(E(h,b))c.call(this,e,f);else throw new d(`${g.message}: subsequent request to origin ${b} was not allowed (net.connect is not enabled for this origin)`)}else throw g}else c.call(this,e,f)}}function E(a,b){let c=new URL(b);return!0===a||!!(Array.isArray(a)&&a.some(a=>o(a,c.host)))}a.exports={getResponseData:v,getMockDispatch:w,addMockDispatch:function(a,b,c,d){let e={timesInvoked:0,times:1,persist:!1,consumed:!1,...d},f="function"==typeof c?{callback:c}:{...c},g={...e,...b,pending:!0,data:{error:null,...f}};return a.push(g),g},deleteMockDispatch:x,buildKey:z,generateKeyValues:A,matchValue:o,getResponse:async function(a){let b=[];for await(let c of a)b.push(c);return Buffer.concat(b).toString("utf8")},getStatusText:B,mockDispatch:C,buildMockDispatch:D,checkNetConnect:E,buildAndValidateMockOptions:function(a){if(a){let{agent:b,...c}=a;if("enableCallHistory"in c&&"boolean"!=typeof c.enableCallHistory)throw new m("options.enableCallHistory must to be a boolean");if("acceptNonStandardSearchParameters"in c&&"boolean"!=typeof c.acceptNonStandardSearchParameters)throw new m("options.acceptNonStandardSearchParameters must to be a boolean");return c}},getHeaderByName:q,buildHeadersFromArray:r,normalizeSearchParams:function(a){if("string"!=typeof a)return a;let b=new URLSearchParams(a),c=new URLSearchParams;for(let[a,d]of b.entries()){if(a=a.replace("[]",""),/^(['"]).*\1$/.test(d)){c.append(a,d);continue}if(d.includes(",")){for(let b of d.split(","))c.append(a,b);continue}c.append(a,d)}return c}}},27008:(a,b,c)=>{"use strict";c.d(b,{I:()=>l});var d=c(15969),e=c(48148),f=c(34850);let g=a=>a?.[Symbol.toStringTag],h=(a,b,c)=>{if(void 0!==b.use&&"sig"!==b.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==b.key_ops&&b.key_ops.includes?.(c)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${c}`);if(void 0!==b.alg&&b.alg!==a)throw TypeError(`Invalid key for this operation, when present its alg must be ${a}`);return!0},i=(a,b,c,i)=>{if(!(b instanceof Uint8Array)){if(i&&f.ll(b)){if(f.t9(b)&&h(a,b,c))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!(0,e.A)(b))throw TypeError((0,d.t)(a,b,...e.g,"Uint8Array",i?"JSON Web Key":null));if("secret"!==b.type)throw TypeError(`${g(b)} instances for symmetric algorithms must be of type "secret"`)}},j=(a,b,c,i)=>{if(i&&f.ll(b))switch(c){case"sign":if(f.W2(b)&&h(a,b,c))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(f.M3(b)&&h(a,b,c))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!(0,e.A)(b))throw TypeError((0,d.t)(a,b,...e.g,i?"JSON Web Key":null));if("secret"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===c&&"public"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===c&&"public"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithm decryption must be of type "private"`);if(b.algorithm&&"verify"===c&&"private"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithm verifying must be of type "public"`);if(b.algorithm&&"encrypt"===c&&"private"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithm encryption must be of type "public"`)};function k(a,b,c,d){b.startsWith("HS")||"dir"===b||b.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(b)?i(b,c,d,a):j(b,c,d,a)}k.bind(void 0,!1);let l=k.bind(void 0,!0)},27015:(a,b,c)=>{"use strict";let d=c(33895),{kBodyUsed:e}=c(25394),f=c(34589),{InvalidArgumentError:g}=c(212),h=c(78474),i=[300,301,302,303,307,308],j=Symbol("body"),k=()=>{};class l{constructor(a){this[j]=a,this[e]=!1}async *[Symbol.asyncIterator](){f(!this[e],"disturbed"),this[e]=!0,yield*this[j]}}class m{static buildDispatch(a,b){if(null!=b&&(!Number.isInteger(b)||b<0))throw new g("maxRedirections must be a positive number");let c=a.dispatch.bind(a);return(a,d)=>c(a,new m(c,b,a,d))}constructor(a,b,c,i){if(null!=b&&(!Number.isInteger(b)||b<0))throw new g("maxRedirections must be a positive number");this.dispatch=a,this.location=null,this.opts={...c,maxRedirections:0},this.maxRedirections=b,this.handler=i,this.history=[],d.isStream(this.opts.body)?(0===d.bodyLength(this.opts.body)&&this.opts.body.on("data",function(){f(!1)}),"boolean"!=typeof this.opts.body.readableDidRead&&(this.opts.body[e]=!1,h.prototype.on.call(this.opts.body,"data",function(){this[e]=!0}))):this.opts.body&&"function"==typeof this.opts.body.pipeTo?this.opts.body=new l(this.opts.body):this.opts.body&&"string"!=typeof this.opts.body&&!ArrayBuffer.isView(this.opts.body)&&d.isIterable(this.opts.body)&&!d.isFormDataLike(this.opts.body)&&(this.opts.body=new l(this.opts.body))}onRequestStart(a,b){this.handler.onRequestStart?.(a,{...b,history:this.history})}onRequestUpgrade(a,b,c,d){this.handler.onRequestUpgrade?.(a,b,c,d)}onResponseStart(a,b,c,e){if(this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections)throw Error("max redirects");if((301===b||302===b)&&"POST"===this.opts.method&&(this.opts.method="GET",d.isStream(this.opts.body)&&d.destroy(this.opts.body.on("error",k)),this.opts.body=null),303===b&&"HEAD"!==this.opts.method&&(this.opts.method="GET",d.isStream(this.opts.body)&&d.destroy(this.opts.body.on("error",k)),this.opts.body=null),this.location=this.history.length>=this.maxRedirections||d.isDisturbed(this.opts.body)||-1===i.indexOf(b)?null:c.location,this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return void this.handler.onResponseStart?.(a,b,c,e);let{origin:f,pathname:g,search:h}=d.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),j=h?`${g}${h}`:g;this.opts.headers=p(this.opts.headers,303===b,this.opts.origin!==f),this.opts.path=j,this.opts.origin=f,this.opts.maxRedirections=0,this.opts.query=null}onResponseData(a,b){this.location||this.handler.onResponseData?.(a,b)}onResponseEnd(a,b){this.location?this.dispatch(this.opts,this):this.handler.onResponseEnd(a,b)}onResponseError(a,b){this.handler.onResponseError?.(a,b)}}function o(a,b,c){if(4===a.length)return"host"===d.headerNameToString(a);if(b&&d.headerNameToString(a).startsWith("content-"))return!0;if(c&&(13===a.length||6===a.length||19===a.length)){let b=d.headerNameToString(a);return"authorization"===b||"cookie"===b||"proxy-authorization"===b}return!1}function p(a,b,c){let d=[];if(Array.isArray(a))for(let e=0;e<a.length;e+=2)o(a[e],b,c)||d.push(a[e],a[e+1]);else if(a&&"object"==typeof a)for(let[e,f]of"function"==typeof a[Symbol.iterator]?a:Object.entries(a))o(e,b,c)||d.push(e,f);else f(null==a,"headers must be an object or an array");return d}a.exports=m},27020:(a,b,c)=>{"use strict";a.exports=i;let{isErrorLike:d}=c(63693),{pinoErrProto:e,pinoErrorSymbols:f}=c(78654),{seen:g}=f,{toString:h}=Object.prototype;function i(a){if(!d(a))return a;a[g]=void 0;let b=Object.create(e);for(let c in b.type="[object Function]"===h.call(a.constructor)?a.constructor.name:a.name,b.message=a.message,b.stack=a.stack,Array.isArray(a.errors)&&(b.aggregateErrors=a.errors.map(a=>i(a))),d(a.cause)&&!Object.prototype.hasOwnProperty.call(a.cause,g)&&(b.cause=i(a.cause)),a)if(void 0===b[c]){let e=a[c];d(e)?Object.prototype.hasOwnProperty.call(e,g)||(b[c]=i(e)):b[c]=e}return delete a[g],b.raw=a,b}},27613:(a,b,c)=>{"use strict";function d(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}c.d(b,{$:()=>d})},27633:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.contentVocabulary=b.metadataVocabulary=void 0,b.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],b.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},27639:a=>{"use strict";a.exports=Math.pow},27661:(a,b,c)=>{"use strict";function d(a){return null!==a&&"object"==typeof a&&"relationTo"in a&&"value"in a}function e(a){return"group"===a.type||"array"===a.type||"row"===a.type||"collapsible"===a.type}function f(a){return"object"==typeof a}function g(a){return"select"===a.type||"relationship"===a.type||"upload"===a.type}function h(a){return("upload"===a.type||"relationship"===a.type||"join"===a.type)&&"number"==typeof a.maxDepth}function i(a){return"ui"===a.type}function j(a){return"name"in a&&"id"===a.name}function k(a){return"hidden"in a&&a.hidden||"admin"in a&&"disabled"in a.admin&&a.admin.disabled}function l(a){return"name"in a&&!i(a)}function m(a){return"name"in a}function o(a){return"localized"in a&&a.localized}function p({field:a,parentIsLocalized:b}){return"localized"in a&&a.localized&&(!b||"true"===process.env.NEXT_PUBLIC_PAYLOAD_COMPATIBILITY_allowLocalizedWithinLocalized)}function q(a){return"virtual"in a&&!!a.virtual}c.d(b,{Cd:()=>p,Ez:()=>g,I2:()=>k,IC:()=>q,M2:()=>h,Yf:()=>o,Z7:()=>l,aO:()=>i,b_:()=>d,pz:()=>m,sd:()=>e,uT:()=>j,vs:()=>f})},27685:(a,b,c)=>{"use strict";c.d(b,{n:()=>d});let d=Symbol.for("drizzle:ViewBaseConfig")},27689:(a,b,c)=>{"use strict";c.d(b,{B3:()=>d});let d={code:"USD",decimals:2,label:"US Dollar",symbol:"$"}},27809:(a,b,c)=>{"use strict";c.d(b,{a:()=>g,v:()=>h});var d=c(29021),e=c(62261);let{readFile:f}=d.promises,g={},h=async a=>{if(g[a])return g[a];let b=(0,e.C)(a);return JSON.parse(await f(b,"utf8"))}},28096:(a,b,c)=>{"use strict";c.d(b,{A:()=>h});var d=c(84386),e=c(51126);let f=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,g=["__proto__","profile __proto__"],h=a=>{let b,c,h={};for(let i of a.split(/\r?\n/)){let a=i.split(/(^|\s)[;#]/)[0].trim();if("["===a[0]&&"]"===a[a.length-1]){b=void 0,c=void 0;let h=a.substring(1,a.length-1),i=f.exec(h);if(i){let[,a,,c]=i;Object.values(d.I).includes(a)&&(b=[a,c].join(e.Q))}else b=h;if(g.includes(h))throw Error(`Found invalid profile name "${h}"`)}else if(b){let d=a.indexOf("=");if(![0,-1].includes(d)){let[f,g]=[a.substring(0,d).trim(),a.substring(d+1).trim()];if(""===g)c=f;else{c&&i.trimStart()===i&&(c=void 0),h[b]=h[b]||{};let a=c?[c,f].join(e.Q):f;h[b][a]=g}}}}return h}},28253:(a,b,c)=>{"use strict";let{EMPTY_BUFFER:d}=c(99753),e=Buffer[Symbol.species];function f(a,b,c,d,e){for(let f=0;f<e;f++)c[d+f]=a[f]^b[3&f]}function g(a,b){for(let c=0;c<a.length;c++)a[c]^=b[3&c]}function h(a){let b;return(h.readOnly=!0,Buffer.isBuffer(a))?a:(a instanceof ArrayBuffer?b=new e(a):ArrayBuffer.isView(a)?b=new e(a.buffer,a.byteOffset,a.byteLength):(b=Buffer.from(a),h.readOnly=!1),b)}if(a.exports={concat:function(a,b){if(0===a.length)return d;if(1===a.length)return a[0];let c=Buffer.allocUnsafe(b),f=0;for(let b=0;b<a.length;b++){let d=a[b];c.set(d,f),f+=d.length}return f<b?new e(c.buffer,c.byteOffset,f):c},mask:f,toArrayBuffer:function(a){return a.length===a.buffer.byteLength?a.buffer:a.buffer.slice(a.byteOffset,a.byteOffset+a.length)},toBuffer:h,unmask:g},!process.env.WS_NO_BUFFER_UTIL)try{let b=c(87412);a.exports.mask=function(a,c,d,e,g){g<48?f(a,c,d,e,g):b.mask(a,c,d,e,g)},a.exports.unmask=function(a,c){a.length<32?g(a,c):b.unmask(a,c)}}catch(a){}},28492:(a,b,c)=>{"use strict";c.d(b,{M:()=>e,T:()=>d});class d extends Error{$fault;$response;$retryable;$metadata;constructor(a){super(a.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=a.name,this.$fault=a.$fault,this.$metadata=a.$metadata}static isInstance(a){if(!a)return!1;let b=a;return d.prototype.isPrototypeOf(b)||!!b.$fault&&!!b.$metadata&&("client"===b.$fault||"server"===b.$fault)}static[Symbol.hasInstance](a){if(!a)return!1;let b=a;return this===d?d.isInstance(a):!!d.isInstance(a)&&(b.name&&this.name?this.prototype.isPrototypeOf(a)||b.name===this.name:this.prototype.isPrototypeOf(a))}}let e=(a,b={})=>{Object.entries(b).filter(([,a])=>void 0!==a).forEach(([b,c])=>{(void 0==a[b]||""===a[b])&&(a[b]=c)});let c=a.message||a.Message||"UnknownError";return a.message=c,delete a.Message,a}},28506:(a,b,c)=>{"use strict";c.d(b,{P:()=>e});var d=c(59213);let e=a=>{if("string"==typeof a)return a;if("object"!=typeof a||"number"!=typeof a.byteOffset||"number"!=typeof a.byteLength)throw Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,d.fromArrayBuffer)(a.buffer,a.byteOffset,a.byteLength).toString("utf8")}},28724:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.toBase64=void 0;let d=c(59213),e=c(58331);b.toBase64=a=>{let b;if("object"!=typeof(b="string"==typeof a?(0,e.fromUtf8)(a):a)||"number"!=typeof b.byteOffset||"number"!=typeof b.byteLength)throw Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,d.fromArrayBuffer)(b.buffer,b.byteOffset,b.byteLength).toString("base64")}},28882:(a,b,c)=>{"use strict";let d=c(61869),{redactFmtSym:e,wildcardFirstSym:f}=c(25258),{rx:g,validator:h}=d,i=h({ERR_PATHS_MUST_BE_STRINGS:()=>"pino – redacted paths must be strings",ERR_INVALID_PATH:a=>`pino – redact paths array contains an invalid path (${a})`}),j="[Redacted]",k=!1;function l(a){if(Array.isArray(a))return i(a={paths:a,censor:j}),a;let{paths:b,censor:c=j,remove:d}=a;if(!1===Array.isArray(b))throw Error("pino – redact must contain an array of strings");return!0===d&&(c=void 0),i({paths:b,censor:c}),{paths:b,censor:c}}a.exports=function(a,b){let{paths:c,censor:h}=l(a),i=c.reduce((a,b)=>{g.lastIndex=0;let c=g.exec(b),d=g.exec(b),e=void 0!==c[1]?c[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):c[0];if("*"===e&&(e=f),null===d)return a[e]=null,a;if(null===a[e])return a;let{index:h}=d,i=`${b.substr(h,b.length-1)}`;return a[e]=a[e]||[],e!==f&&0===a[e].length&&a[e].push(...a[f]||[]),e===f&&Object.keys(a).forEach(function(b){a[b]&&a[b].push(i)}),a[e].push(i),a},{}),j={[e]:d({paths:c,censor:h,serialize:b,strict:k})},m=(...a)=>"function"==typeof h?b(h(...a)):b(h);return[...Object.keys(i),...Object.getOwnPropertySymbols(i)].reduce((a,c)=>{if(null===i[c])a[c]=a=>m(a,[c]);else{let e="function"==typeof h?(a,b)=>h(a,[c,...b]):h;a[c]=d({paths:i[c],censor:e,serialize:b,strict:k})}return a},j)}},28886:(a,b,c)=>{"use strict";let{Headers:d,HeadersList:e,fill:f,getHeadersGuard:g,setHeadersGuard:h,setHeadersList:i}=c(24415),{extractBody:j,cloneBody:k,mixinBody:l,hasFinalizationRegistry:m,streamRegistry:o,bodyUnusable:p}=c(41069),q=c(33895),r=c(57975),{kEnumerableProperty:s}=q,{isValidReasonPhrase:t,isCancelled:u,isAborted:v,serializeJavascriptValueToJSONString:w,isErrorLike:x,isomorphicEncode:y,environmentSettingsObject:z}=c(45293),{redirectStatusSet:A,nullBodyStatus:B}=c(1852),{webidl:C}=c(2312),{URLSerializer:D}=c(86541),{kConstruct:E}=c(25394),F=c(34589),{types:G}=c(57975),H=new TextEncoder("utf-8");class I{#bb;#be;static error(){return V(P(),"immutable")}static json(a,b){C.argumentLengthCheck(arguments,1,"Response.json"),null!==b&&(b=C.converters.ResponseInit(b));let c=j(H.encode(w(a))),d=V(O({}),"response");return U(d,b,{body:c[0],type:"application/json"}),d}static redirect(a,b=302){let c;C.argumentLengthCheck(arguments,1,"Response.redirect"),a=C.converters.USVString(a),b=C.converters["unsigned short"](b);try{c=new URL(a,z.settingsObject.baseUrl)}catch(b){throw TypeError(`Failed to parse URL from ${a}`,{cause:b})}if(!A.has(b))throw RangeError(`Invalid status code ${b}`);let d=V(O({}),"immutable");d.#be.status=b;let e=y(D(c));return d.#be.headersList.append("location",e,!0),d}constructor(a=null,b){if(C.util.markAsUncloneable(this),a===E)return;null!==a&&(a=C.converters.BodyInit(a)),b=C.converters.ResponseInit(b),this.#be=O({}),this.#bb=new d(E),h(this.#bb,"response"),i(this.#bb,this.#be.headersList);let c=null;if(null!=a){let[b,d]=j(a);c={body:b,type:d}}U(this,b,c)}get type(){return C.brandCheck(this,I),this.#be.type}get url(){C.brandCheck(this,I);let a=this.#be.urlList,b=a[a.length-1]??null;return null===b?"":D(b,!0)}get redirected(){return C.brandCheck(this,I),this.#be.urlList.length>1}get status(){return C.brandCheck(this,I),this.#be.status}get ok(){return C.brandCheck(this,I),this.#be.status>=200&&this.#be.status<=299}get statusText(){return C.brandCheck(this,I),this.#be.statusText}get headers(){return C.brandCheck(this,I),this.#bb}get body(){return C.brandCheck(this,I),this.#be.body?this.#be.body.stream:null}get bodyUsed(){return C.brandCheck(this,I),!!this.#be.body&&q.isDisturbed(this.#be.body.stream)}clone(){if(C.brandCheck(this,I),p(this.#be))throw C.errors.exception({header:"Response.clone",message:"Body has already been consumed."});return V(N(this.#be),g(this.#bb))}[r.inspect.custom](a,b){null===b.depth&&(b.depth=2),b.colors??=!0;let c={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${r.formatWithOptions(b,c)}`}static getResponseHeaders(a){return a.#bb}static setResponseHeaders(a,b){a.#bb=b}static getResponseState(a){return a.#be}static setResponseState(a,b){a.#be=b}}let{getResponseHeaders:J,setResponseHeaders:K,getResponseState:L,setResponseState:M}=I;function N(a){if(a.internalResponse)return S(N(a.internalResponse),a.type);let b=O({...a,body:null});return null!=a.body&&(b.body=k(b,a.body)),b}function O(a){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...a,headersList:a?.headersList?new e(a?.headersList):new e,urlList:a?.urlList?[...a.urlList]:[]}}function P(a){return O({type:"error",status:0,error:x(a)?a:Error(a?String(a):a),aborted:a&&"AbortError"===a.name})}function Q(a){return"error"===a.type&&0===a.status}function R(a,b){return b={internalResponse:a,...b},new Proxy(a,{get:(a,c)=>c in b?b[c]:a[c],set:(a,c,d)=>(F(!(c in b)),a[c]=d,!0)})}function S(a,b){return"basic"===b?R(a,{type:"basic",headersList:a.headersList}):"cors"===b?R(a,{type:"cors",headersList:a.headersList}):"opaque"===b?R(a,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null}):"opaqueredirect"===b?R(a,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null}):void F(!1)}function T(a,b=null){return F(u(a)),v(a)?P(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:b})):P(Object.assign(new DOMException("Request was cancelled."),{cause:b}))}function U(a,b,c){if(null!==b.status&&(b.status<200||b.status>599))throw RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in b&&null!=b.statusText&&!t(String(b.statusText)))throw TypeError("Invalid statusText");if("status"in b&&null!=b.status&&(L(a).status=b.status),"statusText"in b&&null!=b.statusText&&(L(a).statusText=b.statusText),"headers"in b&&null!=b.headers&&f(J(a),b.headers),c){if(B.includes(a.status))throw C.errors.exception({header:"Response constructor",message:`Invalid response status code ${a.status}`});L(a).body=c.body,null==c.type||L(a).headersList.contains("content-type",!0)||L(a).headersList.append("content-type",c.type,!0)}}function V(a,b){let c=new I(E);M(c,a);let e=new d(E);return K(c,e),i(e,a.headersList),h(e,b),m&&a.body?.stream&&o.register(c,new WeakRef(a.body.stream)),c}Reflect.deleteProperty(I,"getResponseHeaders"),Reflect.deleteProperty(I,"setResponseHeaders"),Reflect.deleteProperty(I,"getResponseState"),Reflect.deleteProperty(I,"setResponseState"),l(I,L),Object.defineProperties(I.prototype,{type:s,url:s,status:s,ok:s,redirected:s,statusText:s,headers:s,clone:s,body:s,bodyUsed:s,[Symbol.toStringTag]:{value:"Response",configurable:!0}}),Object.defineProperties(I,{json:s,redirect:s,error:s}),C.converters.XMLHttpRequestBodyInit=function(a,b,c){return"string"==typeof a?C.converters.USVString(a,b,c):C.is.Blob(a)||ArrayBuffer.isView(a)||G.isArrayBuffer(a)||C.is.FormData(a)||C.is.URLSearchParams(a)?a:C.converters.DOMString(a,b,c)},C.converters.BodyInit=function(a,b,c){return C.is.ReadableStream(a)||a?.[Symbol.asyncIterator]?a:C.converters.XMLHttpRequestBodyInit(a,b,c)},C.converters.ResponseInit=C.dictionaryConverter([{key:"status",converter:C.converters["unsigned short"],defaultValue:()=>200},{key:"statusText",converter:C.converters.ByteString,defaultValue:()=>""},{key:"headers",converter:C.converters.HeadersInit}]),C.is.Response=C.util.MakeTypeAssertion(I),a.exports={isNetworkError:Q,makeNetworkError:P,makeResponse:O,makeAppropriateNetworkError:T,filterResponse:S,Response:I,cloneResponse:N,fromInnerResponse:V,getResponseState:L}},28997:(a,b,c)=>{"use strict";let{maxNameValuePairSize:d,maxAttributeValueSize:e}=c(219),{isCTLExcludingHtab:f}=c(40424),{collectASequenceOfCodePointsFast:g}=c(86541),h=c(34589),{unescape:i}=c(41792);function j(a,b={}){if(0===a.length)return b;h(";"===a[0]);let c="";(a=a.slice(1)).includes(";")?(c=g(";",a,{position:0}),a=a.slice(c.length)):(c=a,a="");let d="",f="";if(c.includes("=")){let a={position:0};d=g("=",c,a),f=c.slice(a.position+1)}else d=c;if(d=d.trim(),(f=f.trim()).length>e)return j(a,b);let i=d.toLowerCase();if("expires"===i)b.expires=new Date(f);else if("max-age"===i){let c=f.charCodeAt(0);if((c<48||c>57)&&"-"!==f[0]||!/^\d+$/.test(f))return j(a,b);b.maxAge=Number(f)}else if("domain"===i){let a=f;"."===a[0]&&(a=a.slice(1)),b.domain=a=a.toLowerCase()}else if("path"===i){let a="";b.path=a=0===f.length||"/"!==f[0]?"/":f}else if("secure"===i)b.secure=!0;else if("httponly"===i)b.httpOnly=!0;else if("samesite"===i){let a="Default",c=f.toLowerCase();c.includes("none")&&(a="None"),c.includes("strict")&&(a="Strict"),c.includes("lax")&&(a="Lax"),b.sameSite=a}else b.unparsed??=[],b.unparsed.push(`${d}=${f}`);return j(a,b)}a.exports={parseSetCookie:function(a){if(f(a))return null;let b="",c="",e="",h="";if(a.includes(";")){let d={position:0};b=g(";",a,d),c=a.slice(d.position)}else b=a;if(b.includes("=")){let a={position:0};e=g("=",b,a),h=b.slice(a.position+1)}else h=b;return(e=e.trim(),h=h.trim(),e.length+h.length>d)?null:{name:e,value:i(h),...j(c)}},parseUnparsedAttributes:j}},29090:(a,b,c)=>{"use strict";c.d(b,{V:()=>f});var d=c(37593),e=c(71540);class f extends e.Ss{static [d.i]="SQLiteViewBase"}},29170:a=>{"use strict";a.exports=Function.prototype.apply},29204:(a,b,c)=>{"use strict";c.r(b),c.d(b,{ENV_ACCOUNT_ID:()=>k,ENV_CREDENTIAL_SCOPE:()=>j,ENV_EXPIRATION:()=>i,ENV_KEY:()=>f,ENV_SECRET:()=>g,ENV_SESSION:()=>h,fromEnv:()=>l});var d=c(26146),e=c(16111);let f="AWS_ACCESS_KEY_ID",g="AWS_SECRET_ACCESS_KEY",h="AWS_SESSION_TOKEN",i="AWS_CREDENTIAL_EXPIRATION",j="AWS_CREDENTIAL_SCOPE",k="AWS_ACCOUNT_ID",l=a=>async()=>{a?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let b=process.env[f],c=process.env[g],l=process.env[h],m=process.env[i],o=process.env[j],p=process.env[k];if(b&&c){let a={accessKeyId:b,secretAccessKey:c,...l&&{sessionToken:l},...m&&{expiration:new Date(m)},...o&&{credentialScope:o},...p&&{accountId:p}};return(0,d.g)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new e.C("Unable to find environment variable credentials.",{logger:a?.logger})}},29305:(a,b,c)=>{"use strict";let{webidl:d}=c(2312),{URLSerializer:e}=c(86541),{environmentSettingsObject:f}=c(45293),{staticPropertyDescriptors:g,states:h,sentCloseFrameState:i,sendHints:j,opcodes:k}=c(51787),{isConnecting:l,isEstablished:m,isClosing:o,isValidSubprotocol:p,fireEvent:q,utf8Decode:r,toArrayBuffer:s,getURLRecord:t}=c(56664),{establishWebSocketConnection:u,closeWebSocketConnection:v,failWebsocketConnection:w}=c(94772),{ByteParser:x}=c(96645),{kEnumerableProperty:y}=c(33895),{getGlobalDispatcher:z}=c(95580),{types:A}=c(57975),{ErrorEvent:B,CloseEvent:C,createFastMessageEvent:D}=c(44677),{SendQueue:E}=c(85797),{channels:F}=c(20471);class G extends EventTarget{#bf={open:null,error:null,close:null,message:null};#bg=0;#bh="";#bi="";#bj;#a={onConnectionEstablished:(a,b)=>this.#bk(a,b),onFail:(a,b)=>this.#bl(a,b),onMessage:(a,b)=>this.#bm(a,b),onParserError:a=>w(this.#a,null,a.message),onParserDrain:()=>this.#bn(),onSocketData:a=>{this.#bo.write(a)||this.#a.socket.pause()},onSocketError:a=>{this.#a.readyState=h.CLOSING,F.socketError.hasSubscribers&&F.socketError.publish(a),this.#a.socket.destroy()},onSocketClose:()=>this.#ai(),readyState:h.CONNECTING,socket:null,closeState:new Set,controller:null,wasEverConnected:!1};#aG;#bp;#bo;constructor(a,b=[]){super(),d.util.markAsUncloneable(this);let c="WebSocket constructor";d.argumentLengthCheck(arguments,1,c);let e=d.converters["DOMString or sequence<DOMString> or WebSocketInit"](b,c,"options");a=d.converters.USVString(a),b=e.protocols;let g=t(a,f.settingsObject.baseUrl);if("string"==typeof b&&(b=[b]),b.length!==new Set(b.map(a=>a.toLowerCase())).size||b.length>0&&!b.every(a=>p(a)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this.#aG=new URL(g.href);let h=f.settingsObject;this.#a.controller=u(g,b,h,this.#a,e),this.#a.readyState=G.CONNECTING,this.#bp="blob"}close(a,b){d.brandCheck(this,G);let c="WebSocket.close";void 0!==a&&(a=d.converters["unsigned short"](a,c,"code",{clamp:!0})),void 0!==b&&(b=d.converters.USVString(b)),a??=null,b??="",v(this.#a,a,b,!0)}send(a){d.brandCheck(this,G);let b="WebSocket.send";if(d.argumentLengthCheck(arguments,1,b),a=d.converters.WebSocketSendData(a,b,"data"),l(this.#a.readyState))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!m(this.#a.readyState)||o(this.#a.readyState)))if("string"==typeof a){let b=Buffer.from(a);this.#bg+=b.byteLength,this.#bj.add(b,()=>{this.#bg-=b.byteLength},j.text)}else A.isArrayBuffer(a)?(this.#bg+=a.byteLength,this.#bj.add(a,()=>{this.#bg-=a.byteLength},j.arrayBuffer)):ArrayBuffer.isView(a)?(this.#bg+=a.byteLength,this.#bj.add(a,()=>{this.#bg-=a.byteLength},j.typedArray)):d.is.Blob(a)&&(this.#bg+=a.size,this.#bj.add(a,()=>{this.#bg-=a.size},j.blob))}get readyState(){return d.brandCheck(this,G),this.#a.readyState}get bufferedAmount(){return d.brandCheck(this,G),this.#bg}get url(){return d.brandCheck(this,G),e(this.#aG)}get extensions(){return d.brandCheck(this,G),this.#bi}get protocol(){return d.brandCheck(this,G),this.#bh}get onopen(){return d.brandCheck(this,G),this.#bf.open}set onopen(a){d.brandCheck(this,G),this.#bf.open&&this.removeEventListener("open",this.#bf.open),"function"==typeof a?(this.#bf.open=a,this.addEventListener("open",a)):this.#bf.open=null}get onerror(){return d.brandCheck(this,G),this.#bf.error}set onerror(a){d.brandCheck(this,G),this.#bf.error&&this.removeEventListener("error",this.#bf.error),"function"==typeof a?(this.#bf.error=a,this.addEventListener("error",a)):this.#bf.error=null}get onclose(){return d.brandCheck(this,G),this.#bf.close}set onclose(a){d.brandCheck(this,G),this.#bf.close&&this.removeEventListener("close",this.#bf.close),"function"==typeof a?(this.#bf.close=a,this.addEventListener("close",a)):this.#bf.close=null}get onmessage(){return d.brandCheck(this,G),this.#bf.message}set onmessage(a){d.brandCheck(this,G),this.#bf.message&&this.removeEventListener("message",this.#bf.message),"function"==typeof a?(this.#bf.message=a,this.addEventListener("message",a)):this.#bf.message=null}get binaryType(){return d.brandCheck(this,G),this.#bp}set binaryType(a){d.brandCheck(this,G),"blob"!==a&&"arraybuffer"!==a?this.#bp="blob":this.#bp=a}#bk(a,b){this.#a.socket=a.socket;let c=new x(this.#a,b);c.on("drain",()=>this.#a.onParserDrain()),c.on("error",a=>this.#a.onParserError(a)),this.#bo=c,this.#bj=new E(a.socket),this.#a.readyState=h.OPEN;let d=a.headersList.get("sec-websocket-extensions");null!==d&&(this.#bi=d);let e=a.headersList.get("sec-websocket-protocol");null!==e&&(this.#bh=e),q("open",this)}#bl(a,b){b&&q("error",this,(a,b)=>new B(a,b),{error:Error(b),message:b}),this.#a.wasEverConnected||(this.#a.readyState=h.CLOSED,q("close",this,(a,b)=>new C(a,b),{wasClean:!1,code:a,reason:b}))}#bm(a,b){let c;if(this.#a.readyState===h.OPEN){if(a===k.TEXT)try{c=r(b)}catch{w(this.#a,1007,"Received invalid UTF-8 in text frame.");return}else a===k.BINARY&&(c="blob"===this.#bp?new Blob([b]):s(b));q("message",this,D,{origin:this.#aG.origin,data:c})}}#bn(){this.#a.socket.resume()}#ai(){let a=this.#a.closeState.has(i.SENT)&&this.#a.closeState.has(i.RECEIVED),b=1005,c="",d=this.#bo.closingInfo;d&&!d.error?(b=d.code??1005,c=d.reason):this.#a.closeState.has(i.RECEIVED)||(b=1006),this.#a.readyState=h.CLOSED,q("close",this,(a,b)=>new C(a,b),{wasClean:a,code:b,reason:c}),F.close.hasSubscribers&&F.close.publish({websocket:this,code:b,reason:c})}}G.CONNECTING=G.prototype.CONNECTING=h.CONNECTING,G.OPEN=G.prototype.OPEN=h.OPEN,G.CLOSING=G.prototype.CLOSING=h.CLOSING,G.CLOSED=G.prototype.CLOSED=h.CLOSED,Object.defineProperties(G.prototype,{CONNECTING:g,OPEN:g,CLOSING:g,CLOSED:g,url:y,readyState:y,bufferedAmount:y,onopen:y,onerror:y,onclose:y,close:y,onmessage:y,binaryType:y,send:y,extensions:y,protocol:y,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}}),Object.defineProperties(G,{CONNECTING:g,OPEN:g,CLOSING:g,CLOSED:g}),d.converters["sequence<DOMString>"]=d.sequenceConverter(d.converters.DOMString),d.converters["DOMString or sequence<DOMString>"]=function(a,b,c){return d.util.Type(a)===d.util.Types.OBJECT&&Symbol.iterator in a?d.converters["sequence<DOMString>"](a):d.converters.DOMString(a,b,c)},d.converters.WebSocketInit=d.dictionaryConverter([{key:"protocols",converter:d.converters["DOMString or sequence<DOMString>"],defaultValue:()=>[]},{key:"dispatcher",converter:d.converters.any,defaultValue:()=>z()},{key:"headers",converter:d.nullableConverter(d.converters.HeadersInit)}]),d.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(a){return d.util.Type(a)!==d.util.Types.OBJECT||Symbol.iterator in a?{protocols:d.converters["DOMString or sequence<DOMString>"](a)}:d.converters.WebSocketInit(a)},d.converters.WebSocketSendData=function(a){return d.util.Type(a)===d.util.Types.OBJECT&&(d.is.Blob(a)||ArrayBuffer.isView(a)||A.isArrayBuffer(a))?a:d.converters.USVString(a)},a.exports={WebSocket:G}},29317:(a,b,c)=>{"use strict";c.d(b,{Df:()=>g,G8:()=>e,Rn:()=>i,XP:()=>j,XS:()=>h,bp:()=>d,jh:()=>f,l5:()=>k,ok:()=>l});let d=100,e=2e4,f=500,g=500,h=5,i=10,j=1,k="amz-sdk-invocation-id",l="amz-sdk-request"},29510:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CodeGen=b.Name=b.nil=b.stringify=b.str=b._=b.KeywordCxt=void 0;var d=c(13334);Object.defineProperty(b,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var e=c(86397);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return e.str}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return e.nil}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return e.Name}}),Object.defineProperty(b,"CodeGen",{enumerable:!0,get:function(){return e.CodeGen}});let f=c(53389),g=c(3235),h=c(69308),i=c(55711),j=c(86397),k=c(56863),l=c(11624),m=c(49943),o=c(25915),p=c(82016),q=(a,b)=>new RegExp(a,b);q.code="new RegExp";let r=["removeAdditional","useDefaults","coerceTypes"],s=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),t={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},u={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function w(a){var b,c,d,e,f,g,h,i,j,k,l,m,o,r,s,t,u,w,x,y,z,A,B,C,D;let E=a.strict,F=null==(b=a.code)?void 0:b.optimize,G=!0===F||void 0===F?1:F||0,H=null!=(d=null==(c=a.code)?void 0:c.regExp)?d:q,I=null!=(e=a.uriResolver)?e:p.default;return{strictSchema:null==(g=null!=(f=a.strictSchema)?f:E)||g,strictNumbers:null==(i=null!=(h=a.strictNumbers)?h:E)||i,strictTypes:null!=(k=null!=(j=a.strictTypes)?j:E)?k:"log",strictTuples:null!=(m=null!=(l=a.strictTuples)?l:E)?m:"log",strictRequired:null!=(r=null!=(o=a.strictRequired)?o:E)&&r,code:a.code?{...a.code,optimize:G,regExp:H}:{optimize:G,regExp:H},loopRequired:null!=(s=a.loopRequired)?s:v,loopEnum:null!=(t=a.loopEnum)?t:v,meta:null==(u=a.meta)||u,messages:null==(w=a.messages)||w,inlineRefs:null==(x=a.inlineRefs)||x,schemaId:null!=(y=a.schemaId)?y:"$id",addUsedSchema:null==(z=a.addUsedSchema)||z,validateSchema:null==(A=a.validateSchema)||A,validateFormats:null==(B=a.validateFormats)||B,unicodeRegExp:null==(C=a.unicodeRegExp)||C,int32range:null==(D=a.int32range)||D,uriResolver:I}}class x{constructor(a={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,a=this.opts={...a,...w(a)};let{es5:b,lines:c}=this.opts.code;this.scope=new j.ValueScope({scope:{},prefixes:s,es5:b,lines:c}),this.logger=F(a.logger);let d=a.validateFormats;a.validateFormats=!1,this.RULES=(0,h.getRules)(),y.call(this,t,a,"NOT SUPPORTED"),y.call(this,u,a,"DEPRECATED","warn"),this._metaOpts=D.call(this),a.formats&&B.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),a.keywords&&C.call(this,a.keywords),"object"==typeof a.meta&&this.addMetaSchema(a.meta),A.call(this),a.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:a,meta:b,schemaId:c}=this.opts,d=o;"id"===c&&((d={...o}).id=d.$id,delete d.$id),b&&a&&this.addMetaSchema(d,d[c],!1)}defaultMeta(){let{meta:a,schemaId:b}=this.opts;return this.opts.defaultMeta="object"==typeof a?a[b]||a:void 0}validate(a,b){let c;if("string"==typeof a){if(!(c=this.getSchema(a)))throw Error(`no schema with key or ref "${a}"`)}else c=this.compile(a);let d=c(b);return"$async"in c||(this.errors=c.errors),d}compile(a,b){let c=this._addSchema(a,b);return c.validate||this._compileSchemaEnv(c)}compileAsync(a,b){if("function"!=typeof this.opts.loadSchema)throw Error("options.loadSchema should be a function");let{loadSchema:c}=this.opts;return d.call(this,a,b);async function d(a,b){await e.call(this,a.$schema);let c=this._addSchema(a,b);return c.validate||f.call(this,c)}async function e(a){a&&!this.getSchema(a)&&await d.call(this,{$ref:a},!0)}async function f(a){try{return this._compileSchemaEnv(a)}catch(b){if(!(b instanceof g.default))throw b;return h.call(this,b),await i.call(this,b.missingSchema),f.call(this,a)}}function h({missingSchema:a,missingRef:b}){if(this.refs[a])throw Error(`AnySchema ${a} is loaded but ${b} cannot be resolved`)}async function i(a){let c=await j.call(this,a);this.refs[a]||await e.call(this,c.$schema),this.refs[a]||this.addSchema(c,a,b)}async function j(a){let b=this._loading[a];if(b)return b;try{return await (this._loading[a]=c(a))}finally{delete this._loading[a]}}}addSchema(a,b,c,d=this.opts.validateSchema){let e;if(Array.isArray(a)){for(let b of a)this.addSchema(b,void 0,c,d);return this}if("object"==typeof a){let{schemaId:b}=this.opts;if(void 0!==(e=a[b])&&"string"!=typeof e)throw Error(`schema ${b} must be string`)}return b=(0,k.normalizeId)(b||e),this._checkUnique(b),this.schemas[b]=this._addSchema(a,c,b,d,!0),this}addMetaSchema(a,b,c=this.opts.validateSchema){return this.addSchema(a,b,!0,c),this}validateSchema(a,b){let c;if("boolean"==typeof a)return!0;if(void 0!==(c=a.$schema)&&"string"!=typeof c)throw Error("$schema must be a string");if(!(c=c||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;let d=this.validate(c,a);if(!d&&b){let a="schema is invalid: "+this.errorsText();if("log"===this.opts.validateSchema)this.logger.error(a);else throw Error(a)}return d}getSchema(a){let b;for(;"string"==typeof(b=z.call(this,a));)a=b;if(void 0===b){let{schemaId:c}=this.opts,d=new i.SchemaEnv({schema:{},schemaId:c});if(!(b=i.resolveSchema.call(this,d,a)))return;this.refs[a]=b}return b.validate||this._compileSchemaEnv(b)}removeSchema(a){if(a instanceof RegExp)return this._removeAllSchemas(this.schemas,a),this._removeAllSchemas(this.refs,a),this;switch(typeof a){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let b=z.call(this,a);return"object"==typeof b&&this._cache.delete(b.schema),delete this.schemas[a],delete this.refs[a],this}case"object":{let b=a;this._cache.delete(b);let c=a[this.opts.schemaId];return c&&(c=(0,k.normalizeId)(c),delete this.schemas[c],delete this.refs[c]),this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(a){for(let b of a)this.addKeyword(b);return this}addKeyword(a,b){let c;if("string"==typeof a)c=a,"object"==typeof b&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),b.keyword=c);else if("object"==typeof a&&void 0===b){if(Array.isArray(c=(b=a).keyword)&&!c.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(H.call(this,c,b),!b)return(0,m.eachItem)(c,a=>I.call(this,a)),this;K.call(this,b);let d={...b,type:(0,l.getJSONTypes)(b.type),schemaType:(0,l.getJSONTypes)(b.schemaType)};return(0,m.eachItem)(c,0===d.type.length?a=>I.call(this,a,d):a=>d.type.forEach(b=>I.call(this,a,d,b))),this}getKeyword(a){let b=this.RULES.all[a];return"object"==typeof b?b.definition:!!b}removeKeyword(a){let{RULES:b}=this;for(let c of(delete b.keywords[a],delete b.all[a],b.rules)){let b=c.rules.findIndex(b=>b.keyword===a);b>=0&&c.rules.splice(b,1)}return this}addFormat(a,b){return"string"==typeof b&&(b=new RegExp(b)),this.formats[a]=b,this}errorsText(a=this.errors,{separator:b=", ",dataVar:c="data"}={}){return a&&0!==a.length?a.map(a=>`${c}${a.instancePath} ${a.message}`).reduce((a,c)=>a+b+c):"No errors"}$dataMetaSchema(a,b){let c=this.RULES.all;for(let d of(a=JSON.parse(JSON.stringify(a)),b)){let b=d.split("/").slice(1),e=a;for(let a of b)e=e[a];for(let a in c){let b=c[a];if("object"!=typeof b)continue;let{$data:d}=b.definition,f=e[a];d&&f&&(e[a]=M(f))}}return a}_removeAllSchemas(a,b){for(let c in a){let d=a[c];(!b||b.test(c))&&("string"==typeof d?delete a[c]:d&&!d.meta&&(this._cache.delete(d.schema),delete a[c]))}}_addSchema(a,b,c,d=this.opts.validateSchema,e=this.opts.addUsedSchema){let f,{schemaId:g}=this.opts;if("object"==typeof a)f=a[g];else if(this.opts.jtd)throw Error("schema must be object");else if("boolean"!=typeof a)throw Error("schema must be object or boolean");let h=this._cache.get(a);if(void 0!==h)return h;c=(0,k.normalizeId)(f||c);let j=k.getSchemaRefs.call(this,a,c);return h=new i.SchemaEnv({schema:a,schemaId:g,meta:b,baseId:c,localRefs:j}),this._cache.set(h.schema,h),e&&!c.startsWith("#")&&(c&&this._checkUnique(c),this.refs[c]=h),d&&this.validateSchema(a,!0),h}_checkUnique(a){if(this.schemas[a]||this.refs[a])throw Error(`schema with key or id "${a}" already exists`)}_compileSchemaEnv(a){if(a.meta?this._compileMetaSchema(a):i.compileSchema.call(this,a),!a.validate)throw Error("ajv implementation error");return a.validate}_compileMetaSchema(a){let b=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,a)}finally{this.opts=b}}}function y(a,b,c,d="error"){for(let e in a){let f=e;f in b&&this.logger[d](`${c}: option ${e}. ${a[f]}`)}}function z(a){return a=(0,k.normalizeId)(a),this.schemas[a]||this.refs[a]}function A(){let a=this.opts.schemas;if(a)if(Array.isArray(a))this.addSchema(a);else for(let b in a)this.addSchema(a[b],b)}function B(){for(let a in this.opts.formats){let b=this.opts.formats[a];b&&this.addFormat(a,b)}}function C(a){if(Array.isArray(a))return void this.addVocabulary(a);for(let b in this.logger.warn("keywords option as map is deprecated, pass array"),a){let c=a[b];c.keyword||(c.keyword=b),this.addKeyword(c)}}function D(){let a={...this.opts};for(let b of r)delete a[b];return a}x.ValidationError=f.default,x.MissingRefError=g.default,b.default=x;let E={log(){},warn(){},error(){}};function F(a){if(!1===a)return E;if(void 0===a)return console;if(a.log&&a.warn&&a.error)return a;throw Error("logger must implement log, warn and error methods")}let G=/^[a-z_$][a-z0-9_$:-]*$/i;function H(a,b){let{RULES:c}=this;if((0,m.eachItem)(a,a=>{if(c.keywords[a])throw Error(`Keyword ${a} is already defined`);if(!G.test(a))throw Error(`Keyword ${a} has invalid name`)}),b&&b.$data&&!("code"in b||"validate"in b))throw Error('$data keyword must have "code" or "validate" function')}function I(a,b,c){var d;let e=null==b?void 0:b.post;if(c&&e)throw Error('keyword with "post" flag cannot have "type"');let{RULES:f}=this,g=e?f.post:f.rules.find(({type:a})=>a===c);if(g||(g={type:c,rules:[]},f.rules.push(g)),f.keywords[a]=!0,!b)return;let h={keyword:a,definition:{...b,type:(0,l.getJSONTypes)(b.type),schemaType:(0,l.getJSONTypes)(b.schemaType)}};b.before?J.call(this,g,h,b.before):g.rules.push(h),f.all[a]=h,null==(d=b.implements)||d.forEach(a=>this.addKeyword(a))}function J(a,b,c){let d=a.rules.findIndex(a=>a.keyword===c);d>=0?a.rules.splice(d,0,b):(a.rules.push(b),this.logger.warn(`rule ${c} is not defined`))}function K(a){let{metaSchema:b}=a;void 0!==b&&(a.$data&&this.opts.$data&&(b=M(b)),a.validateSchema=this.compile(b,!0))}let L={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function M(a){return{anyOf:[a,L]}}},29522:(a,b,c)=>{"use strict";c.d(b,{Ki:()=>i,Lm:()=>h,TS:()=>g,WC:()=>f,Zl:()=>j,nr:()=>m});var d=c(51636),e=c(61720);let f="Directory",g="S3Express",h="sigv4-s3express",i="X-Amz-S3session-Token",j=i.toLowerCase(),k="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",l="s3_disable_express_session_auth",m={environmentVariableSelector:a=>(0,d.Q)(a,k,e.c.ENV),configFileSelector:a=>(0,d.Q)(a,l,e.c.CONFIG),default:!1}},29617:(a,b,c)=>{"use strict";c.d(b,{I:()=>d});let d=({req:{user:a}})=>!!a},29666:a=>{"use strict";let b=1e3;a.exports={wait:function(a,c,d,e,f){let g=Date.now()+e,h=Atomics.load(a,c);if(h===d)return void f(null,"ok");let i=h,j=e=>{Date.now()>g?f(null,"timed-out"):setTimeout(()=>{i=h,(h=Atomics.load(a,c))===i?j(e>=b?b:2*e):h===d?f(null,"ok"):f(null,"not-equal")},e)};j(1)},waitDiff:function(a,c,d,e,f){let g=Date.now()+e,h=Atomics.load(a,c);if(h!==d)return void f(null,"ok");let i=e=>{Date.now()>g?f(null,"timed-out"):setTimeout(()=>{(h=Atomics.load(a,c))!==d?f(null,"ok"):i(e>=b?b:2*e)},e)};i(1)}}},29869:(a,b,c)=>{"use strict";c.d(b,{E:()=>d});let d=({descriptionOverrides:a,descriptionPath:b,imagePath:c,overrides:d,titleOverrides:e,titlePath:f})=>({name:"overview",type:"ui",admin:{components:{Field:{clientProps:{descriptionOverrides:a,descriptionPath:b,imagePath:c,titleOverrides:e,titlePath:f},path:"@payloadcms/plugin-seo/client#OverviewComponent"}}},label:"Overview",...d??{}})},30073:(a,b,c)=>{"use strict";c.d(b,{F:()=>j});var d=c(79748),e=c(12820),f=c(61101),g=c(35593);class h extends g.L{constructor(a){super(a?a("error:deletingFile"):e.en.translations.error.deletingFile,f.h.INTERNAL_SERVER_ERROR)}}var i=c(97418);let j=async({collectionConfig:a,doc:b,files:c=[],overrideDelete:e,req:f})=>{if(a.upload&&(e||c.length>0)){let{staticDir:c}=a.upload,e=`${c}/${b.filename}`;try{await (0,i.h)(e)&&await d.unlink(e)}catch(a){throw new h(f.t)}if(b.sizes)for(let a of Object.values(b.sizes)){let b=`${c}/${a.filename}`;try{await (0,i.h)(b)&&await d.unlink(b)}catch(a){throw new h(f.t)}}}}},30204:(a,b,c)=>{"use strict";c.d(b,{k:()=>e});var d=c(37593);class e{static [d.i]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(a){return this.then(void 0,a)}finally(a){return this.then(b=>(a?.(),b),b=>{throw a?.(),b})}then(a,b){return this.execute().then(a,b)}}},30245:(a,b,c)=>{"use strict";c.d(b,{i:()=>e});var d=c(42887);let e=(a,b)=>(c,e)=>async g=>{let{response:h}=await c(g);try{let c=await b(h,a);return{response:h,output:c}}catch(a){if(Object.defineProperty(a,"$response",{value:h}),!("$metadata"in a)){let b="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{a.message+="\n  "+b}catch(a){e.logger&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger?.warn?.(b):console.warn(b)}void 0!==a.$responseBodyText&&a.$response&&(a.$response.body=a.$responseBodyText);try{if(d.c.isInstance(h)){let{headers:b={}}=h,c=Object.entries(b);a.$metadata={httpStatusCode:h.statusCode,requestId:f(/^x-[\w-]+-request-?id$/,c),extendedRequestId:f(/^x-[\w-]+-id-2$/,c),cfId:f(/^x-[\w-]+-cf-id$/,c)}}}catch(a){}}throw a}},f=(a,b)=>(b.find(([b])=>b.match(a))||[void 0,void 0])[1]},30368:(a,b,c)=>{"use strict";let{createInflateRaw:d,Z_DEFAULT_WINDOWBITS:e}=c(38522),{isValidClientWindowBits:f}=c(56664),g=Buffer.from([0,0,255,255]),h=Symbol("kBuffer"),i=Symbol("kLength");class j{#bq;#f={};constructor(a){this.#f.serverNoContextTakeover=a.has("server_no_context_takeover"),this.#f.serverMaxWindowBits=a.get("server_max_window_bits")}decompress(a,b,c){if(!this.#bq){let a=e;if(this.#f.serverMaxWindowBits){if(!f(this.#f.serverMaxWindowBits))return void c(Error("Invalid server_max_window_bits"));a=Number.parseInt(this.#f.serverMaxWindowBits)}this.#bq=d({windowBits:a}),this.#bq[h]=[],this.#bq[i]=0,this.#bq.on("data",a=>{this.#bq[h].push(a),this.#bq[i]+=a.length}),this.#bq.on("error",a=>{this.#bq=null,c(a)})}this.#bq.write(a),b&&this.#bq.write(g),this.#bq.flush(()=>{let a=Buffer.concat(this.#bq[h],this.#bq[i]);this.#bq[h].length=0,this.#bq[i]=0,c(null,a)})}}a.exports={PerMessageDeflate:j}},30504:(a,b,c)=>{"use strict";c.d(b,{U:()=>g});var d=c(38200),e=c(8615),f=c(42526);let g=async function({collection:a,locale:b,req:c,where:g}){let h=this.payload.collections[a].config,i=this.tableNameMap.get(d(h.slug)),j=await (0,f.x)(this,c),{joins:k,where:l}=(0,e.Z)({adapter:this,fields:h.flattenedFields,locale:b,tableName:i,where:g});return{totalDocs:await this.countDistinct({db:j,joins:k,tableName:i,where:l})}}},30520:(a,b,c)=>{"use strict";c.d(b,{L:()=>d});let d=new Set(["equals","contains","not_equals","in","all","not_in","exists","greater_than","greater_than_equal","less_than","less_than_equal","like","not_like","within","intersects","near"])},30531:(a,b,c)=>{"use strict";let d=c(33895),{parseCacheControlHeader:e,parseVaryHeader:f,isEtagUsable:g}=c(18430),{parseHttpDate:h}=c(83634);function i(){}let j=[200,203,204,206,300,301,308,404,405,410,414,501],k=2147483647e3;class l{#br;#bs;#bt;#bu;#a;#bv;constructor({store:a,type:b,cacheByDefault:c},d,e){this.#bu=a,this.#bs=b,this.#bt=c,this.#br=d,this.#a=e}onRequestStart(a,b){this.#bv?.destroy(),this.#bv=void 0,this.#a.onRequestStart?.(a,b)}onRequestUpgrade(a,b,c,d){this.#a.onRequestUpgrade?.(a,b,c,d)}onResponseStart(a,b,c,l){let s,t=()=>this.#a.onResponseStart?.(a,b,c,l);if(!d.safeHTTPMethods.includes(this.#br.method)&&b>=200&&b<=399){try{this.#bu.delete(this.#br)?.catch?.(i)}catch{}return t()}let u=c["cache-control"],v=c["last-modified"]&&j.includes(b);if(!u&&!c.expires&&!v&&!this.#bt)return t();let w=u?e(u):{};if(!m(this.#bs,b,c,w))return t();let x=Date.now(),y=c.age?o(c.age):void 0;if(y&&y>=k)return t();let z="string"==typeof c.date?h(c.date):void 0,A=p(this.#bs,x,y,c,z,w)??this.#bt;if(void 0===A||y&&y>A)return t();let B=z?z.getTime():x,C=A+B;if(x>=C||this.#br.headers&&c.vary&&!(s=f(c.vary,this.#br.headers)))return t();let D=q(B,w,C),E={statusCode:b,statusMessage:l,headers:r(c,w),vary:s,cacheControlDirectives:w,cachedAt:y?x-y:x,staleAt:C,deleteAt:D};if("string"==typeof c.etag&&g(c.etag)&&(E.etag=c.etag),this.#bv=this.#bu.createWriteStream(this.#br,E),!this.#bv)return t();let F=this;return this.#bv.on("drain",()=>a.resume()).on("error",function(){F.#bv=void 0,F.#bu.delete(F.#br)}).on("close",function(){F.#bv===this&&(F.#bv=void 0),a.resume()}),t()}onResponseData(a,b){this.#bv?.write(b)===!1&&a.pause(),this.#a.onResponseData?.(a,b)}onResponseEnd(a,b){this.#bv?.end(),this.#a.onResponseEnd?.(a,b)}onResponseError(a,b){this.#bv?.destroy(b),this.#bv=void 0,this.#a.onResponseError?.(a,b)}}function m(a,b,c,d){return!(200!==b&&307!==b||d["no-store"]||"shared"===a&&!0===d.private||c.vary?.includes("*")||c.authorization&&(!d.public||"string"!=typeof c.authorization||Array.isArray(d["no-cache"])&&d["no-cache"].includes("authorization")||Array.isArray(d.private)&&d.private.includes("authorization")))&&!0}function o(a){let b=parseInt(Array.isArray(a)?a[0]:a);return isNaN(b)?void 0:1e3*b}function p(a,b,c,d,e,f){if("shared"===a){let a=f["s-maxage"];if(void 0!==a)return a>0?1e3*a:void 0}let g=f["max-age"];if(void 0!==g)return g>0?1e3*g:void 0;if("string"==typeof d.expires){let a=h(d.expires);if(a){if(b>=a.getTime()||e&&(e>=a||void 0!==c&&c>a-e))return;return a.getTime()-b}}if("string"==typeof d["last-modified"]){let a=new Date(d["last-modified"]);if(s(a)){if(a.getTime()>=b)return;return .1*(b-a.getTime())}}if(f.immutable)return 31536e3}function q(a,b,c){let d=-1/0,e=-1/0,f=-1/0;return b["stale-while-revalidate"]&&(d=c+1e3*b["stale-while-revalidate"]),b["stale-if-error"]&&(e=c+1e3*b["stale-if-error"]),d===-1/0&&e===-1/0&&(f=a+31536e6),Math.max(c,d,e,f)}function r(a,b){let c,d=["connection","proxy-authenticate","proxy-authentication-info","proxy-authorization","proxy-connection","te","transfer-encoding","upgrade","age"];for(let e of(a.connection&&(Array.isArray(a.connection)?d.push(...a.connection.map(a=>a.trim())):d.push(...a.connection.split(",").map(a=>a.trim()))),Array.isArray(b["no-cache"])&&d.push(...b["no-cache"]),Array.isArray(b.private)&&d.push(...b.private),d))a[e]&&(c??={...a},delete c[e]);return c??a}function s(a){return a instanceof Date&&Number.isFinite(a.valueOf())}a.exports=l},30623:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.headStream=void 0;let d=c(27910),e=c(93101),f=c(11939);b.headStream=(a,b)=>(0,f.isReadableStream)(a)?(0,e.headStream)(a,b):new Promise((c,d)=>{let e=new g;e.limit=b,a.pipe(e),a.on("error",a=>{e.end(),d(a)}),e.on("error",d),e.on("finish",function(){c(new Uint8Array(Buffer.concat(this.buffers)))})});class g extends d.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(a,b,c){if(this.buffers.push(a),this.bytesBuffered+=a.byteLength??0,this.bytesBuffered>=this.limit){let a=this.bytesBuffered-this.limit,b=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=b.subarray(0,b.byteLength-a),this.emit("finish")}c()}}},30673:(a,b,c)=>{"use strict";a.exports=c(20736).getPrototypeOf||null},30737:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateAdditionalItems=void 0;let d=c(86397),e=c(49943),f={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,d.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,d._)`{limit: ${a}}`},code(a){let{parentSchema:b,it:c}=a,{items:d}=b;if(!Array.isArray(d))return void(0,e.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');g(a,d)}};function g(a,b){let{gen:c,schema:f,data:g,keyword:h,it:i}=a;i.items=!0;let j=c.const("len",(0,d._)`${g}.length`);if(!1===f)a.setParams({len:b.length}),a.pass((0,d._)`${j} <= ${b.length}`);else if("object"==typeof f&&!(0,e.alwaysValidSchema)(i,f)){let e=c.var("valid",(0,d._)`${j} <= ${b.length}`);c.if((0,d.not)(e),()=>k(e)),a.ok(e)}function k(f){c.forRange("i",b.length,j,b=>{a.subschema({keyword:h,dataProp:b,dataPropType:e.Type.Num},f),i.allErrors||c.if((0,d.not)(f),()=>c.break())})}}b.validateAdditionalItems=g,b.default=f},30791:(a,b,c)=>{"use strict";c.d(b,{H:()=>d});let d=async({id:a,slug:b,payload:c,req:d})=>{try{await c.db.deleteVersions({collection:b,req:d,where:{parent:{equals:a}}})}catch(d){c.logger.error({err:d,msg:`There was an error removing versions for the deleted ${b} document with ID ${a}.`})}}},31070:(a,b,c)=>{"use strict";c.d(b,{O:()=>g});var d=c(45139),e=c(38200),f=c(64319);let g=async function({global:a,limit:b,locale:c,page:g,pagination:h,req:i,select:j,skip:k,sort:l,where:m}){let o=this.payload.globals.config.find(({slug:b})=>b===a),p=null!=l?l:"-createdAt",q=this.tableNameMap.get(`_${e(o.slug)}${this.versionsSuffix}`),r=(0,d.p)(this.payload.config,o,!0);return(0,f.n)({adapter:this,fields:r,limit:b,locale:c,page:g,pagination:h,req:i,select:j,skip:k,sort:p,tableName:q,where:m})}},31101:(a,b,c)=>{"use strict";c.d(b,{Z:()=>f});var d=c(27809),e=c(81473);let f={getFileRecord:()=>e.Jj,interceptFile(a,b){e.Jj[a]=Promise.resolve(b)},getTokenRecord:()=>d.a,interceptToken(a,b){d.a[a]=b}}},31121:a=>{"use strict";a.exports=a=>{let b=RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))","g");return"string"==typeof a?a.replace(b,""):a}},31212:(a,b,c)=>{"use strict";c.d(b,{t:()=>i});var d=c(50531),e=c(7402),f=c(579),g=c(42887),h=c(12436);class i extends h.f{options;constructor(a){super(),this.options=a}getRequestType(){return f.K}getResponseType(){return g.c}setSerdeContext(a){this.serdeContext=a,this.serializer.setSerdeContext(a),this.deserializer.setSerdeContext(a),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(a)}updateServiceEndpoint(a,b){if(!("url"in b))return a.protocol=b.protocol,a.hostname=b.hostname,a.port=b.port?Number(b.port):void 0,a.path=b.path,a.query={...b.query},a;for(let[c,d]of(a.protocol=b.url.protocol,a.hostname=b.url.hostname,a.port=b.url.port?Number(b.url.port):void 0,a.path=b.url.pathname,a.fragment=b.url.hash||void 0,a.username=b.url.username||void 0,a.password=b.url.password||void 0,a.query||(a.query={}),b.url.searchParams.entries()))a.query[c]=d;return a}setHostPrefix(a,b,c){let f=d.l.of(b.input),g=(0,e.c)(b.traits??{});if(g.endpoint){let b=g.endpoint?.[0];if("string"==typeof b){for(let[a]of[...f.structIterator()].filter(([,a])=>a.getMergedTraits().hostLabel)){let d=c[a];if("string"!=typeof d)throw Error(`@smithy/core/schema - ${a} in input must be a string as hostLabel.`);b=b.replace(`{${a}}`,d)}a.hostname=b+a.hostname}}}deserializeMetadata(a){return{httpStatusCode:a.statusCode,requestId:a.headers["x-amzn-requestid"]??a.headers["x-amzn-request-id"]??a.headers["x-amz-request-id"],extendedRequestId:a.headers["x-amz-id-2"],cfId:a.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:a,requestSchema:b,initialRequest:c}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:a,requestSchema:b,initialRequest:c})}async deserializeEventStream({response:a,responseSchema:b,initialResponseContainer:c}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:a,responseSchema:b,initialResponseContainer:c})}async loadEventStreamCapability(){let{EventStreamSerde:a}=await c.e(2582).then(c.bind(c,92582));return new a({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(a,b,c,d,e){return[]}getEventStreamMarshaller(){let a=this.serdeContext;if(!a.eventStreamMarshaller)throw Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return a.eventStreamMarshaller}}},31288:(a,b,c)=>{"use strict";c.d(b,{z:()=>d});let d=({hasGenerateFn:a=!1,overrides:b,relationTo:c})=>({name:"image",type:"upload",admin:{components:{Field:{clientProps:{hasGenerateImageFn:a},path:"@payloadcms/plugin-seo/client#MetaImageComponent"}},description:"Maximum upload file size: 12MB. Recommended file size for images is <500KB."},label:"Meta Image",localized:!0,relationTo:c,...b??{}})},31297:(a,b,c)=>{"use strict";var d;function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(f){var g=arguments,h=function(){var a=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g;return function(d,e,f,o){if(1!==g.length||"string"!==m(d)||/\d/.test(d)||(e=d,d=void 0),(d=d||0===d?d:new Date)instanceof Date||(d=new Date(d)),isNaN(d))throw TypeError("Invalid date");var p=(e=String(h.masks[e]||e||h.masks.default)).slice(0,4);("UTC:"===p||"GMT:"===p)&&(e=e.slice(4),f=!0,"GMT:"===p&&(o=!0));var q=function(){return f?"getUTC":"get"},r=function(){return d[q()+"Date"]()},s=function(){return d[q()+"Day"]()},t=function(){return d[q()+"Month"]()},u=function(){return d[q()+"FullYear"]()},v=function(){return d[q()+"Hours"]()},w=function(){return d[q()+"Minutes"]()},x=function(){return d[q()+"Seconds"]()},y=function(){return d[q()+"Milliseconds"]()},z=function(){return f?0:d.getTimezoneOffset()},A=function(){return k(d)},B=function(){return l(d)},C={d:function(){return r()},dd:function(){return i(r())},ddd:function(){return h.i18n.dayNames[s()]},DDD:function(){return j({y:u(),m:t(),d:r(),_:q(),dayName:h.i18n.dayNames[s()],short:!0})},dddd:function(){return h.i18n.dayNames[s()+7]},DDDD:function(){return j({y:u(),m:t(),d:r(),_:q(),dayName:h.i18n.dayNames[s()+7]})},m:function(){return t()+1},mm:function(){return i(t()+1)},mmm:function(){return h.i18n.monthNames[t()]},mmmm:function(){return h.i18n.monthNames[t()+12]},yy:function(){return String(u()).slice(2)},yyyy:function(){return i(u(),4)},h:function(){return v()%12||12},hh:function(){return i(v()%12||12)},H:function(){return v()},HH:function(){return i(v())},M:function(){return w()},MM:function(){return i(w())},s:function(){return x()},ss:function(){return i(x())},l:function(){return i(y(),3)},L:function(){return i(Math.floor(y()/10))},t:function(){return 12>v()?h.i18n.timeNames[0]:h.i18n.timeNames[1]},tt:function(){return 12>v()?h.i18n.timeNames[2]:h.i18n.timeNames[3]},T:function(){return 12>v()?h.i18n.timeNames[4]:h.i18n.timeNames[5]},TT:function(){return 12>v()?h.i18n.timeNames[6]:h.i18n.timeNames[7]},Z:function(){return o?"GMT":f?"UTC":(String(d).match(b)||[""]).pop().replace(c,"").replace(/GMT\+0000/g,"UTC")},o:function(){return(z()>0?"-":"+")+i(100*Math.floor(Math.abs(z())/60)+Math.abs(z())%60,4)},p:function(){return(z()>0?"-":"+")+i(Math.floor(Math.abs(z())/60),2)+":"+i(Math.floor(Math.abs(z())%60),2)},S:function(){return["th","st","nd","rd"][r()%10>3?0:(r()%100-r()%10!=10)*r()%10]},W:function(){return A()},WW:function(){return i(A())},N:function(){return B()}};return e.replace(a,function(a){return a in C?C[a]():a.slice(1,a.length-1)})}}();h.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},h.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};var i=function(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a},j=function(a){var b=a.y,c=a.m,d=a.d,e=a._,f=a.dayName,g=a.short,h=void 0!==g&&g,i=new Date,j=new Date;j.setDate(j[e+"Date"]()-1);var k=new Date;k.setDate(k[e+"Date"]()+1);var l=function(){return i[e+"Date"]()},m=function(){return i[e+"Month"]()},o=function(){return j[e+"Date"]()},p=function(){return j[e+"Month"]()},q=function(){return j[e+"FullYear"]()},r=function(){return k[e+"Date"]()},s=function(){return k[e+"Month"]()},t=function(){return k[e+"FullYear"]()};return function(){return i[e+"FullYear"]()}()===b&&m()===c&&l()===d?h?"Tdy":"Today":q()===b&&p()===c&&o()===d?h?"Ysd":"Yesterday":t()===b&&s()===c&&r()===d?h?"Tmw":"Tomorrow":f},k=function(a){var b=new Date(a.getFullYear(),a.getMonth(),a.getDate());b.setDate(b.getDate()-(b.getDay()+6)%7+3);var c=new Date(b.getFullYear(),0,4);c.setDate(c.getDate()-(c.getDay()+6)%7+3);var d=b.getTimezoneOffset()-c.getTimezoneOffset();return b.setHours(b.getHours()-d),1+Math.floor((b-c)/(864e5*7))},l=function(a){var b=a.getDay();return 0===b&&(b=7),b},m=function(a){return null===a?"null":void 0===a?"undefined":"object"!==e(a)?e(a):Array.isArray(a)?"array":({}).toString.call(a).slice(8,-1).toLowerCase()};void 0===(d=(function(){return h}).call(b,c,b,a))||(a.exports=d)}(void 0)},31329:(a,b,c)=>{"use strict";c.d(b,{M:()=>h});var d=c(50531),e=c(579),f=c(9742),g=c(31212);class h extends g.t{async serializeRequest(a,b,c){let f,g=this.serializer,h={},i={},j=await c.endpoint(),k=d.l.of(a?.input),l=k.getSchema(),m=new e.K({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:h,headers:i,body:void 0});j&&(this.updateServiceEndpoint(m,j),this.setHostPrefix(m,a,b));let o={...b};if(b){let a=k.getEventStreamMember();if(a){if(o[a]){let b={};for(let[c,d]of k.structIterator())c!==a&&o[c]&&(g.write(d,o[c]),b[c]=g.flush());f=await this.serializeEventStream({eventStream:o[a],requestSchema:k,initialRequest:b})}}else g.write(l,o),f=g.flush()}return m.headers=i,m.query=h,m.body=f,m.method="POST",m}async deserializeResponse(a,b,c){let e=this.deserializer,g=d.l.of(a.output),h={};if(c.statusCode>=300){let d=await (0,f.P)(c.body,b);throw d.byteLength>0&&Object.assign(h,await e.read(15,d)),await this.handleError(a,b,c,h,this.deserializeMetadata(c)),Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let a in c.headers){let b=c.headers[a];delete c.headers[a],c.headers[a.toLowerCase()]=b}let i=g.getEventStreamMember();if(i)h[i]=await this.deserializeEventStream({response:c,responseSchema:g,initialResponseContainer:h});else{let a=await (0,f.P)(c.body,b);a.byteLength>0&&Object.assign(h,await e.read(g,a))}return h.$metadata=this.deserializeMetadata(c),h}}},32116:(a,b,c)=>{"use strict";let{UndiciError:d}=c(212);class e extends d{constructor(a){super(a),this.name="MockNotMatchedError",this.message=a||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}}a.exports={MockNotMatchedError:e}},32135:(a,b,c)=>{"use strict";function d(){let a=Promise.resolve(null);return()=>a}c.d(b,{l:()=>d})},32173:(a,b,c)=>{"use strict";c.d(b,{j:()=>d});let d=({data:a,fields:b})=>{let c=!1;for(let e in a){let f=a[e],g=b.find(a=>a.name===e);if(g){if(c=!0,"blocks"===g.type||("text"===g.type||"relationship"===g.type||"upload"===g.type||"select"===g.type||"number"===g.type)&&g.hasMany||("relationship"===g.type||"upload"===g.type)&&Array.isArray(g.relationTo)||g.localized)return!1;if("array"===g.type){if("object"==typeof f&&"$push"in f&&f.$push)return d({data:Array.isArray(f.$push)?f.$push?.[0]:f.$push,fields:g.flattenedFields});return!1}if(("relationship"===g.type||"upload"===g.type)&&g.hasMany&&"object"==typeof f&&("$push"in f||"$remove"in f)||("group"===g.type||"tab"===g.type)&&f&&"object"==typeof f&&!d({data:f,fields:g.flattenedFields}))return!1}}if(!c){for(let c in a)if(c.includes(".")){let e=c.indexOf(".");return d({data:{[c.substring(0,e)]:{[c.substring(e+1)]:a[c]}},fields:b})}}return!0}},32288:(a,b,c)=>{"use strict";let{kForOnEventAttribute:d,kListener:e}=c(99753),f=Symbol("kCode"),g=Symbol("kData"),h=Symbol("kError"),i=Symbol("kMessage"),j=Symbol("kReason"),k=Symbol("kTarget"),l=Symbol("kType"),m=Symbol("kWasClean");class o{constructor(a){this[k]=null,this[l]=a}get target(){return this[k]}get type(){return this[l]}}Object.defineProperty(o.prototype,"target",{enumerable:!0}),Object.defineProperty(o.prototype,"type",{enumerable:!0});class p extends o{constructor(a,b={}){super(a),this[f]=void 0===b.code?0:b.code,this[j]=void 0===b.reason?"":b.reason,this[m]=void 0!==b.wasClean&&b.wasClean}get code(){return this[f]}get reason(){return this[j]}get wasClean(){return this[m]}}Object.defineProperty(p.prototype,"code",{enumerable:!0}),Object.defineProperty(p.prototype,"reason",{enumerable:!0}),Object.defineProperty(p.prototype,"wasClean",{enumerable:!0});class q extends o{constructor(a,b={}){super(a),this[h]=void 0===b.error?null:b.error,this[i]=void 0===b.message?"":b.message}get error(){return this[h]}get message(){return this[i]}}Object.defineProperty(q.prototype,"error",{enumerable:!0}),Object.defineProperty(q.prototype,"message",{enumerable:!0});class r extends o{constructor(a,b={}){super(a),this[g]=void 0===b.data?null:b.data}get data(){return this[g]}}Object.defineProperty(r.prototype,"data",{enumerable:!0});let s={addEventListener(a,b,c={}){let f;for(let f of this.listeners(a))if(!c[d]&&f[e]===b&&!f[d])return;if("message"===a)f=function(a,c){let d=new r("message",{data:c?a:a.toString()});d[k]=this,t(b,this,d)};else if("close"===a)f=function(a,c){let d=new p("close",{code:a,reason:c.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});d[k]=this,t(b,this,d)};else if("error"===a)f=function(a){let c=new q("error",{error:a,message:a.message});c[k]=this,t(b,this,c)};else{if("open"!==a)return;f=function(){let a=new o("open");a[k]=this,t(b,this,a)}}f[d]=!!c[d],f[e]=b,c.once?this.once(a,f):this.on(a,f)},removeEventListener(a,b){for(let c of this.listeners(a))if(c[e]===b&&!c[d]){this.removeListener(a,c);break}}};function t(a,b,c){"object"==typeof a&&a.handleEvent?a.handleEvent.call(a,c):a.call(b,c)}a.exports={CloseEvent:p,ErrorEvent:q,Event:o,EventTarget:s,MessageEvent:r}},32330:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getCrc32ChecksumAlgorithmFunction=void 0;let d=c(92913),e=c(10822),f=c(83572),g=d.__importStar(c(74075));class h{checksum=0;update(a){this.checksum=g.crc32(a,this.checksum)}async digest(){return(0,f.numToUint8)(this.checksum)}reset(){this.checksum=0}}b.getCrc32ChecksumAlgorithmFunction=()=>void 0===g.crc32?e.AwsCrc32:h},32491:(a,b,c)=>{"use strict";var d=c(93311),e=c(20647),f=c(72250),g=Object.prototype.hasOwnProperty,h={brackets:function(a){return a+"[]"},comma:"comma",indices:function(a,b){return a+"["+b+"]"},repeat:function(a){return a}},i=Array.isArray,j=Array.prototype.push,k=function(a,b){j.apply(a,i(b)?b:[b])},l=Date.prototype.toISOString,m=f.default,o={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:m,formatter:f.formatters[m],indices:!1,serializeDate:function(a){return l.call(a)},skipNulls:!1,strictNullHandling:!1},p=function(a){return"string"==typeof a||"number"==typeof a||"boolean"==typeof a||"symbol"==typeof a||"bigint"==typeof a},q={},r=function a(b,c,f,g,h,j,l,m,r,s,t,u,v,w,x,y,z,A){for(var B,C=b,D=A,E=0,F=!1;void 0!==(D=D.get(q))&&!F;){var G=D.get(b);if(E+=1,void 0!==G)if(G===E)throw RangeError("Cyclic object value");else F=!0;void 0===D.get(q)&&(E=0)}if("function"==typeof s?C=s(c,C):C instanceof Date?C=v(C):"comma"===f&&i(C)&&(C=e.maybeMap(C,function(a){return a instanceof Date?v(a):a})),null===C){if(j)return r&&!y?r(c,o.encoder,z,"key",w):c;C=""}if(p(C)||e.isBuffer(C))return r?[x(y?c:r(c,o.encoder,z,"key",w))+"="+x(r(C,o.encoder,z,"value",w))]:[x(c)+"="+x(String(C))];var H=[];if(void 0===C)return H;if("comma"===f&&i(C))y&&r&&(C=e.maybeMap(C,r)),B=[{value:C.length>0?C.join(",")||null:void 0}];else if(i(s))B=s;else{var I=Object.keys(C);B=t?I.sort(t):I}var J=m?String(c).replace(/\./g,"%2E"):String(c),K=g&&i(C)&&1===C.length?J+"[]":J;if(h&&i(C)&&0===C.length)return K+"[]";for(var L=0;L<B.length;++L){var M=B[L],N="object"==typeof M&&M&&void 0!==M.value?M.value:C[M];if(!l||null!==N){var O=u&&m?String(M).replace(/\./g,"%2E"):String(M),P=i(C)?"function"==typeof f?f(K,O):K:K+(u?"."+O:"["+O+"]");A.set(b,E);var Q=d();Q.set(q,A),k(H,a(N,P,f,g,h,j,l,m,"comma"===f&&y&&i(C)?null:r,s,t,u,v,w,x,y,z,Q))}}return H},s=function(a){if(!a)return o;if(void 0!==a.allowEmptyArrays&&"boolean"!=typeof a.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==a.encodeDotInKeys&&"boolean"!=typeof a.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw TypeError("Encoder has to be a function.");var b,c=a.charset||o.charset;if(void 0!==a.charset&&"utf-8"!==a.charset&&"iso-8859-1"!==a.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var d=f.default;if(void 0!==a.format){if(!g.call(f.formatters,a.format))throw TypeError("Unknown format option provided.");d=a.format}var e=f.formatters[d],j=o.filter;if(("function"==typeof a.filter||i(a.filter))&&(j=a.filter),b=a.arrayFormat in h?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":o.arrayFormat,"commaRoundTrip"in a&&"boolean"!=typeof a.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var k=void 0===a.allowDots?!0===a.encodeDotInKeys||o.allowDots:!!a.allowDots;return{addQueryPrefix:"boolean"==typeof a.addQueryPrefix?a.addQueryPrefix:o.addQueryPrefix,allowDots:k,allowEmptyArrays:"boolean"==typeof a.allowEmptyArrays?!!a.allowEmptyArrays:o.allowEmptyArrays,arrayFormat:b,charset:c,charsetSentinel:"boolean"==typeof a.charsetSentinel?a.charsetSentinel:o.charsetSentinel,commaRoundTrip:!!a.commaRoundTrip,delimiter:void 0===a.delimiter?o.delimiter:a.delimiter,encode:"boolean"==typeof a.encode?a.encode:o.encode,encodeDotInKeys:"boolean"==typeof a.encodeDotInKeys?a.encodeDotInKeys:o.encodeDotInKeys,encoder:"function"==typeof a.encoder?a.encoder:o.encoder,encodeValuesOnly:"boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:o.encodeValuesOnly,filter:j,format:d,formatter:e,serializeDate:"function"==typeof a.serializeDate?a.serializeDate:o.serializeDate,skipNulls:"boolean"==typeof a.skipNulls?a.skipNulls:o.skipNulls,sort:"function"==typeof a.sort?a.sort:null,strictNullHandling:"boolean"==typeof a.strictNullHandling?a.strictNullHandling:o.strictNullHandling}};a.exports=function(a,b){var c,e,f=a,g=s(b);"function"==typeof g.filter?f=(e=g.filter)("",f):i(g.filter)&&(c=e=g.filter);var j=[];if("object"!=typeof f||null===f)return"";var l=h[g.arrayFormat],m="comma"===l&&g.commaRoundTrip;c||(c=Object.keys(f)),g.sort&&c.sort(g.sort);for(var o=d(),p=0;p<c.length;++p){var q=c[p],t=f[q];g.skipNulls&&null===t||k(j,r(t,q,l,m,g.allowEmptyArrays,g.strictNullHandling,g.skipNulls,g.encodeDotInKeys,g.encode?g.encoder:null,g.filter,g.sort,g.allowDots,g.serializeDate,g.format,g.formatter,g.encodeValuesOnly,g.charset,o))}var u=j.join(g.delimiter),v=!0===g.addQueryPrefix?"?":"";return g.charsetSentinel&&("iso-8859-1"===g.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),u.length>0?v+u:""}},32504:(a,b,c)=>{"use strict";var d=c(40353),e=c(95958),f=e([d("%String.prototype.indexOf%")]);a.exports=function(a,b){var c=d(a,!!b);return"function"==typeof c&&f(a,".prototype.")>-1?e([c]):c}},32609:(a,b,c)=>{"use strict";c.d(b,{Y:()=>i});var d=c(3120),e=c(215);let f=({fields:a,path:b,versions:c})=>{let d=[];if(c){d.push("version");let b=a.find(a=>"version"===a.name);b&&"group"===b.type&&(a=b.flattenedFields)}for(let c of b.split(".")){let b=a.find(a=>a.name===c);if(b&&(d.push(c),"relationship"===b.type||"upload"===b.type))break}return d.join(".")},g=({fields:a})=>{let b=[];for(let c of a)if("virtual"in c&&"string"==typeof c.virtual)b.push(c.virtual);else if("group"===c.type||"tab"===c.type)for(let a of g({fields:c.flattenedFields}))b.push(a);return b},h=({fields:a,selectValue:b,topLevelFields:c,versions:d})=>{let e=[];if(!0===b)for(let b of g({fields:a}))e.push(f({fields:c,path:b,versions:d}));else for(let g in b){let i=a.find(a=>a.name===g);if(i){if("virtual"in i&&"string"==typeof i.virtual)e.push(f({fields:c,path:i.virtual,versions:d}));else if("group"===i.type||"tab"===i.type)for(let a of h({fields:i.flattenedFields,selectValue:b[g],topLevelFields:c,versions:d}))e.push(f({fields:c,path:a,versions:d}))}}return e},i=({fields:a,forceSelect:b,select:c,versions:f})=>{if(!c||"exclude"===(0,e.a)(c))return c;if(b&&(c=(0,d.p)(c,b)),c)for(let b of h({fields:a,selectValue:c,topLevelFields:a,versions:f??!1})){let a=c,d=b.split(".");for(let b=0;b<d.length;b++){let c=d.length-1===b,e=d[b];c?a[e]=!0:e in a||(a[e]={},a=a[e])}}return c}},32628:a=>{"use strict";a.exports=function a(a){return a?"string"==typeof a?a.split(",").reduce((a,b,c)=>{let[d,e=c]=b.split(":");return a[e]=d.toUpperCase(),a},{default:"USERLVL"}):"[object Object]"===Object.prototype.toString.call(a)?Object.keys(a).reduce((b,c)=>(b[a[c]]=c.toUpperCase(),b),{default:"USERLVL"}):{}:{}}},32741:(a,b,c)=>{"use strict";let d=c(4984),{action:e}=c(67406),f=c(94735),{beep:g,cursor:h}=c(1298),i=c(90165);class j extends f{constructor(a={}){super(),this.firstRender=!0,this.in=a.stdin||process.stdin,this.out=a.stdout||process.stdout,this.onRender=(a.onRender||(()=>void 0)).bind(this);let b=d.createInterface({input:this.in,escapeCodeTimeout:50});d.emitKeypressEvents(this.in,b),this.in.isTTY&&this.in.setRawMode(!0);let c=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,f=(a,b)=>{let d=e(b,c);!1===d?this._&&this._(a,b):"function"==typeof this[d]?this[d](b):this.bell()};this.close=()=>{this.out.write(h.show),this.in.removeListener("keypress",f),this.in.isTTY&&this.in.setRawMode(!1),b.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",f)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(g)}render(){this.onRender(i),this.firstRender&&(this.firstRender=!1)}}a.exports=j},32911:(a,b,c)=>{"use strict";let d=c(34589),{kRetryHandlerDefaultRetry:e}=c(25394),{RequestRetryError:f}=c(212),g=c(17795),{isDisturbed:h,parseRangeHeader:i,wrapRequestBody:j}=c(33895);function k(a){let b=new Date(a).getTime();return isNaN(b)?0:b-Date.now()}class l{constructor(a,{dispatch:b,handler:c}){let{retryOptions:d,...f}=a,{retry:h,maxRetries:i,maxTimeout:k,minTimeout:m,timeoutFactor:o,methods:p,errorCodes:q,retryAfter:r,statusCodes:s}=d??{};this.dispatch=b,this.handler=g.wrap(c),this.opts={...f,body:j(a.body)},this.retryOpts={retry:h??l[e],retryAfter:r??!0,maxTimeout:k??3e4,minTimeout:m??500,timeoutFactor:o??2,maxRetries:i??5,methods:p??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:s??[500,502,503,504,429],errorCodes:q??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.headersSent=!1,this.start=0,this.end=null,this.etag=null}onRequestStart(a,b){this.headersSent||this.handler.onRequestStart?.(a,b)}onRequestUpgrade(a,b,c,d){this.handler.onRequestUpgrade?.(a,b,c,d)}static[e](a,{state:b,opts:c},d){let{statusCode:e,code:f,headers:g}=a,{method:h,retryOptions:i}=c,{maxRetries:j,minTimeout:l,maxTimeout:m,timeoutFactor:o,statusCodes:p,errorCodes:q,methods:r}=i,{counter:s}=b;if(f&&"UND_ERR_REQ_RETRY"!==f&&!q.includes(f)||Array.isArray(r)&&!r.includes(h)||null!=e&&Array.isArray(p)&&!p.includes(e)||s>j)return void d(a);let t=g?.["retry-after"];t&&(t=Number.isNaN(t=Number(t))?k(g["retry-after"]):1e3*t),setTimeout(()=>d(null),t>0?Math.min(t,m):Math.min(l*o**(s-1),m))}onResponseStart(a,b,c,e){if(this.retryCount+=1,b>=300)if(!1===this.retryOpts.statusCodes.includes(b)){this.headersSent=!0,this.handler.onResponseStart?.(a,b,c,e);return}else throw new f("Request failed",b,{headers:c,data:{count:this.retryCount}});if(this.headersSent){if(206!==b&&(this.start>0||200!==b))throw new f("server does not support the range header and the payload was partially consumed",b,{headers:c,data:{count:this.retryCount}});let a=i(c["content-range"]);if(!a)throw new f("Content-Range mismatch",b,{headers:c,data:{count:this.retryCount}});if(null!=this.etag&&this.etag!==c.etag)throw new f("ETag mismatch",b,{headers:c,data:{count:this.retryCount}});let{start:e,size:g,end:h=g?g-1:null}=a;d(this.start===e,"content-range mismatch"),d(null==this.end||this.end===h,"content-range mismatch");return}if(null==this.end){if(206===b){let f=i(c["content-range"]);if(null==f){this.headersSent=!0,this.handler.onResponseStart?.(a,b,c,e);return}let{start:g,size:h,end:j=h?h-1:null}=f;d(null!=g&&Number.isFinite(g),"content-range mismatch"),d(null!=j&&Number.isFinite(j),"invalid content-length"),this.start=g,this.end=j}if(null==this.end){let a=c["content-length"];this.end=null!=a?Number(a)-1:null}d(Number.isFinite(this.start)),d(null==this.end||Number.isFinite(this.end),"invalid content-length"),this.resume=!0,this.etag=null!=c.etag?c.etag:null,null!=this.etag&&"W"===this.etag[0]&&"/"===this.etag[1]&&(this.etag=null),this.headersSent=!0,this.handler.onResponseStart?.(a,b,c,e)}else throw new f("Request failed",b,{headers:c,data:{count:this.retryCount}})}onResponseData(a,b){this.start+=b.length,this.handler.onResponseData?.(a,b)}onResponseEnd(a,b){return this.retryCount=0,this.handler.onResponseEnd?.(a,b)}onResponseError(a,b){if(a?.aborted||h(this.opts.body))return void this.handler.onResponseError?.(a,b);function c(b){if(null!=b||a?.aborted||h(this.opts.body))return this.handler.onResponseError?.(a,b);if(0!==this.start){let a={range:`bytes=${this.start}-${this.end??""}`};null!=this.etag&&(a["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...a}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(b){this.handler.onResponseError?.(a,b)}}this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(b,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},c.bind(this))}}a.exports=l},32913:(a,b,c)=>{"use strict";c.d(b,{s:()=>d});let d=[c(55334).Z,{name:"blockName",type:"text",admin:{disabled:!0},label:"Block Name",required:!1}]},32954:(a,b,c)=>{"use strict";var d=c(20332),e=c(90222),f=c(99173),g=c(22512),h=c(73459);class i{config;middlewareStack=d.constructStack();initConfig;handlers;constructor(a){this.config=a}send(a,b,c){let d,e="function"!=typeof b?b:void 0,f="function"==typeof b?b:c;if(void 0===e&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);let b=this.handlers;b.has(a.constructor)?d=b.get(a.constructor):(d=a.resolveMiddleware(this.middlewareStack,this.config,e),b.set(a.constructor,d))}else delete this.handlers,d=a.resolveMiddleware(this.middlewareStack,this.config,e);if(!f)return d(a).then(a=>a.output);d(a).then(a=>f(null,a.output),a=>f(a)).catch(()=>{})}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}let j="***SensitiveInformation***";function k(a,b){if(null==b)return b;let c=g.NormalizedSchema.of(a);if(c.getMergedTraits().sensitive)return j;if(c.isListSchema()){if(c.getValueSchema().getMergedTraits().sensitive)return j}else if(c.isMapSchema()){if(c.getKeySchema().getMergedTraits().sensitive||c.getValueSchema().getMergedTraits().sensitive)return j}else if(c.isStructSchema()&&"object"==typeof b){let a=b,d={};for(let[b,e]of c.structIterator())null!=a[b]&&(d[b]=k(e,a[b]));return d}return b}class l{middlewareStack=d.constructStack();schema;static classBuilder(){return new m}resolveMiddlewareWithContext(a,b,c,{middlewareFn:d,clientName:e,commandName:g,inputFilterSensitiveLog:h,outputFilterSensitiveLog:i,smithyContext:j,additionalContext:k,CommandCtor:l}){for(let e of d.bind(this)(l,a,b,c))this.middlewareStack.use(e);let m=a.concat(this.middlewareStack),{logger:o}=b,p={logger:o,clientName:e,commandName:g,inputFilterSensitiveLog:h,outputFilterSensitiveLog:i,[f.SMITHY_CONTEXT_KEY]:{commandInstance:this,...j},...k},{requestHandler:q}=b;return m.resolve(a=>q.handle(a.request,c||{}),p)}}class m{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(a){this._init=a}ep(a){return this._ep=a,this}m(a){return this._middlewareFn=a,this}s(a,b,c={}){return this._smithyContext={service:a,operation:b,...c},this}c(a={}){return this._additionalContext=a,this}n(a,b){return this._clientName=a,this._commandName=b,this}f(a=a=>a,b=a=>a){return this._inputFilterSensitiveLog=a,this._outputFilterSensitiveLog=b,this}ser(a){return this._serializer=a,this}de(a){return this._deserializer=a,this}sc(a){return this._operationSchema=a,this._smithyContext.operationSchema=a,this}build(){let a,b=this;return a=class extends l{input;static getEndpointParameterInstructions(){return b._ep}constructor(...[a]){super(),this.input=a??{},b._init(this),this.schema=b._operationSchema}resolveMiddleware(c,d,e){let f=b._operationSchema,g=f?.[4]??f?.input,h=f?.[5]??f?.output;return this.resolveMiddlewareWithContext(c,d,e,{CommandCtor:a,middlewareFn:b._middlewareFn,clientName:b._clientName,commandName:b._commandName,inputFilterSensitiveLog:b._inputFilterSensitiveLog??(f?k.bind(null,g):a=>a),outputFilterSensitiveLog:b._outputFilterSensitiveLog??(f?k.bind(null,h):a=>a),smithyContext:b._smithyContext,additionalContext:b._additionalContext})}serialize=b._serializer;deserialize=b._deserializer}}}let o="***SensitiveInformation***",p=(a,b)=>{for(let c of Object.keys(a)){let d=a[c],e=async function(a,b,c){let e=new d(a);if("function"==typeof b)this.send(e,b);else{if("function"!=typeof c)return this.send(e,b);if("object"!=typeof b)throw Error(`Expected http options but got ${typeof b}`);this.send(e,b||{},c)}},f=(c[0].toLowerCase()+c.slice(1)).replace(/Command$/,"");b.prototype[f]=e}};class q extends Error{$fault;$response;$retryable;$metadata;constructor(a){super(a.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=a.name,this.$fault=a.$fault,this.$metadata=a.$metadata}static isInstance(a){if(!a)return!1;let b=a;return q.prototype.isPrototypeOf(b)||!!b.$fault&&!!b.$metadata&&("client"===b.$fault||"server"===b.$fault)}static[Symbol.hasInstance](a){if(!a)return!1;let b=a;return this===q?q.isInstance(a):!!q.isInstance(a)&&(b.name&&this.name?this.prototype.isPrototypeOf(a)||b.name===this.name:this.prototype.isPrototypeOf(a))}}let r=(a,b={})=>{Object.entries(b).filter(([,a])=>void 0!==a).forEach(([b,c])=>{(void 0==a[b]||""===a[b])&&(a[b]=c)});let c=a.message||a.Message||"UnknownError";return a.message=c,delete a.Message,a},s=({output:a,parsedBody:b,exceptionCtor:c,errorCode:d})=>{let e=u(a),f=e.httpStatusCode?e.httpStatusCode+"":void 0;throw r(new c({name:b?.code||b?.Code||d||f||"UnknownError",$fault:"client",$metadata:e}),b)},t=a=>({output:b,parsedBody:c,errorCode:d})=>{s({output:b,parsedBody:c,exceptionCtor:a,errorCode:d})},u=a=>({httpStatusCode:a.statusCode,requestId:a.headers["x-amzn-requestid"]??a.headers["x-amzn-request-id"]??a.headers["x-amz-request-id"],extendedRequestId:a.headers["x-amz-id-2"],cfId:a.headers["x-amz-cf-id"]}),v=a=>{switch(a){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},w=!1,x=a=>{a&&!w&&16>parseInt(a.substring(1,a.indexOf(".")))&&(w=!0)},y=a=>{let b=[];for(let c in f.AlgorithmId){let d=f.AlgorithmId[c];void 0!==a[d]&&b.push({algorithmId:()=>d,checksumConstructor:()=>a[d]})}return{addChecksumAlgorithm(a){b.push(a)},checksumAlgorithms:()=>b}},z=a=>{let b={};return a.checksumAlgorithms().forEach(a=>{b[a.algorithmId()]=a.checksumConstructor()}),b},A=a=>({setRetryStrategy(b){a.retryStrategy=b},retryStrategy:()=>a.retryStrategy}),B=a=>{let b={};return b.retryStrategy=a.retryStrategy(),b},C=a=>Object.assign(y(a),A(a)),D=C,E=a=>Object.assign(z(a),B(a)),F=a=>Array.isArray(a)?a:[a],G=a=>{let b="#text";for(let c in a)a.hasOwnProperty(c)&&void 0!==a[c][b]?a[c]=a[c][b]:"object"==typeof a[c]&&null!==a[c]&&(a[c]=G(a[c]));return a},H=a=>null!=a;class I{trace(){}debug(){}info(){}warn(){}error(){}}function J(a,b,c){let d,e;if(void 0===b&&void 0===c)d={},e=a;else{if(d=a,"function"==typeof b)return M(d,b,e=c);e=b}for(let a of Object.keys(e)){if(!Array.isArray(e[a])){d[a]=e[a];continue}N(d,null,e,a)}return d}let K=a=>{let b={};for(let[c,d]of Object.entries(a||{}))b[c]=[,d];return b},L=(a,b)=>{let c={};for(let d in b)N(c,a,b,d);return c},M=(a,b,c)=>J(a,Object.entries(c).reduce((a,[c,d])=>(Array.isArray(d)?a[c]=d:"function"==typeof d?a[c]=[b,d()]:a[c]=[b,d],a),{})),N=(a,b,c,d)=>{if(null!==b){let e=c[d];"function"==typeof e&&(e=[,e]);let[f=O,g=P,h=d]=e;("function"==typeof f&&f(b[h])||"function"!=typeof f&&f)&&(a[d]=g(b[h]));return}let[e,f]=c[d];if("function"==typeof f){let b,c=void 0===e&&null!=(b=f()),g="function"==typeof e&&!!e(void 0)||"function"!=typeof e&&!!e;c?a[d]=b:g&&(a[d]=f())}else{let b=void 0===e&&null!=f,c="function"==typeof e&&!!e(f)||"function"!=typeof e&&!!e;(b||c)&&(a[d]=f)}},O=a=>null!=a,P=a=>a,Q=a=>{if(a!=a)return"NaN";switch(a){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return a}},R=a=>a.toISOString().replace(".000Z","Z"),S=a=>{if(null==a)return{};if(Array.isArray(a))return a.filter(a=>null!=a).map(S);if("object"==typeof a){let b={};for(let c of Object.keys(a))null!=a[c]&&(b[c]=S(a[c]));return b}return a};Object.defineProperty(b,"collectBody",{enumerable:!0,get:function(){return e.collectBody}}),Object.defineProperty(b,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return e.extendedEncodeURIComponent}}),Object.defineProperty(b,"resolvedPath",{enumerable:!0,get:function(){return e.resolvedPath}}),b.Client=i,b.Command=l,b.NoOpLogger=I,b.SENSITIVE_STRING=o,b.ServiceException=q,b._json=S,b.convertMap=K,b.createAggregatedClient=p,b.decorateServiceException=r,b.emitWarningIfUnsupportedVersion=x,b.getArrayIfSingleItem=F,b.getDefaultClientConfiguration=D,b.getDefaultExtensionConfiguration=C,b.getValueFromTextNode=G,b.isSerializableHeaderValue=H,b.loadConfigsForDefaultMode=v,b.map=J,b.resolveDefaultRuntimeConfig=E,b.serializeDateTime=R,b.serializeFloat=Q,b.take=L,b.throwDefaultError=s,b.withBaseException=t,Object.keys(h).forEach(function(a){"default"===a||Object.prototype.hasOwnProperty.call(b,a)||Object.defineProperty(b,a,{enumerable:!0,get:function(){return h[a]}})})},33157:(a,b,c)=>{"use strict";let d;Object.defineProperty(b,"__esModule",{value:!0}),b.InvokeStore=void 0;let e=c(84297),f="1"===process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA||"true"===process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA;f||(globalThis.awslambda=globalThis.awslambda||{});let g={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID")};class h{static storage=new e.AsyncLocalStorage;static PROTECTED_KEYS=g;static run(a,b){return this.storage.run({...a},b)}static getContext(){return this.storage.getStore()}static get(a){let b=this.storage.getStore();return b?.[a]}static set(a,b){if(this.isProtectedKey(a))throw Error("Cannot modify protected Lambda context field");let c=this.storage.getStore();c&&(c[a]=b)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static hasContext(){return void 0!==this.storage.getStore()}static isProtectedKey(a){return a===this.PROTECTED_KEYS.REQUEST_ID||a===this.PROTECTED_KEYS.X_RAY_TRACE_ID}}!f&&globalThis.awslambda?.InvokeStore?d=globalThis.awslambda.InvokeStore:(d=h,!f&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=d)),b.InvokeStore=d},33334:(a,b,c)=>{"use strict";async function d(a){let{payload:b,transactionID:c}=a;return c instanceof Promise?(await c,!1):!c&&"function"==typeof b.db.beginTransaction&&(a.transactionID=b.db.beginTransaction().then(b=>(b&&(a.transactionID=b),b)),!!await a.transactionID)}c.d(b,{n:()=>d})},33571:a=>{"use strict";var b="Function.prototype.bind called on incompatible ",c=Object.prototype.toString,d=Math.max,e="[object Function]",f=function(a,b){for(var c=[],d=0;d<a.length;d+=1)c[d]=a[d];for(var e=0;e<b.length;e+=1)c[e+a.length]=b[e];return c},g=function(a,b){for(var c=[],d=b||0,e=0;d<a.length;d+=1,e+=1)c[e]=a[d];return c},h=function(a,b){for(var c="",d=0;d<a.length;d+=1)c+=a[d],d+1<a.length&&(c+=b);return c};a.exports=function(a){var i,j=this;if("function"!=typeof j||c.apply(j)!==e)throw TypeError(b+j);for(var k=g(arguments,1),l=function(){if(this instanceof i){var b=j.apply(this,f(k,arguments));return Object(b)===b?b:this}return j.apply(a,f(k,arguments))},m=d(0,j.length-k.length),o=[],p=0;p<m;p++)o[p]="$"+p;if(i=Function("binder","return function ("+h(o,",")+"){ return binder.apply(this,arguments); }")(l),j.prototype){var q=function(){};q.prototype=j.prototype,i.prototype=new q,q.prototype=null}return i}},33695:(a,b,c)=>{let d=c(90165),e=c(32741),{style:f,clear:g}=c(67406),{erase:h,cursor:i}=c(1298);class j extends e{constructor(a={}){super(a),this.msg=a.message,this.value=a.initial,this.initialValue=!!a.initial,this.yesMsg=a.yes||"yes",this.yesOption=a.yesOption||"(Y/n)",this.noMsg=a.no||"no",this.noOption=a.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(a,b){return"y"===a.toLowerCase()?(this.value=!0,this.submit()):"n"===a.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(i.hide):this.out.write(g(this.outputText,this.out.columns)),super.render(),this.outputText=[f.symbol(this.done,this.aborted),d.bold(this.msg),f.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:d.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(h.line+i.to(0)+this.outputText))}}a.exports=j},33732:(a,b,c)=>{"use strict";var d=c(67281),e=c(29170),f=c(47960);a.exports=c(83031)||d.call(f,e)},33895:(a,b,c)=>{"use strict";let d=c(34589),{kDestroyed:e,kBodyUsed:f,kListeners:g,kBody:h}=c(25394),{IncomingMessage:i}=c(37067),j=c(57075),k=c(77030),{Blob:l}=c(4573),m=c(57975),{stringify:o}=c(41792),{EventEmitter:p}=c(78474),q=c(5460),{InvalidArgumentError:r,ConnectTimeoutError:s}=c(212),{headerNameLowerCasedRecord:t}=c(63090),{tree:u}=c(17731),[v,w]=process.versions.node.split(".",2).map(a=>Number(a));class x{constructor(a){this[h]=a,this[f]=!1}async *[Symbol.asyncIterator](){d(!this[f],"disturbed"),this[f]=!0,yield*this[h]}}function y(){}function z(a){return A(a)?(0===M(a)&&a.on("data",function(){d(!1)}),"boolean"!=typeof a.readableDidRead&&(a[f]=!1,p.prototype.on.call(a,"data",function(){this[f]=!0})),a):a&&"function"==typeof a.pipeTo?new x(a):a&&"string"!=typeof a&&!ArrayBuffer.isView(a)&&L(a)?new x(a):a}function A(a){return a&&"object"==typeof a&&"function"==typeof a.pipe&&"function"==typeof a.on}function B(a){if(null===a)return!1;{if(a instanceof l)return!0;if("object"!=typeof a)return!1;let b=a[Symbol.toStringTag];return("Blob"===b||"File"===b)&&("stream"in a&&"function"==typeof a.stream||"arrayBuffer"in a&&"function"==typeof a.arrayBuffer)}}function C(a,b){if(a.includes("?")||a.includes("#"))throw Error('Query params cannot be passed when url already contains "?" or "#".');let c=o(b);return c&&(a+="?"+c),a}function D(a){let b=parseInt(a,10);return b===Number(a)&&b>=0&&b<=65535}function E(a){return null!=a&&"h"===a[0]&&"t"===a[1]&&"t"===a[2]&&"p"===a[3]&&(":"===a[4]||"s"===a[4]&&":"===a[5])}function F(a){if("string"==typeof a){if(!E((a=new URL(a)).origin||a.protocol))throw new r("Invalid URL protocol: the URL must start with `http:` or `https:`.");return a}if(!a||"object"!=typeof a)throw new r("Invalid URL: The URL argument must be a non-null object.");if(!(a instanceof URL)){if(null!=a.port&&""!==a.port&&!1===D(a.port))throw new r("Invalid URL: port must be a valid integer or a string representation of an integer.");if(null!=a.path&&"string"!=typeof a.path)throw new r("Invalid URL path: the path must be a string or null/undefined.");if(null!=a.pathname&&"string"!=typeof a.pathname)throw new r("Invalid URL pathname: the pathname must be a string or null/undefined.");if(null!=a.hostname&&"string"!=typeof a.hostname)throw new r("Invalid URL hostname: the hostname must be a string or null/undefined.");if(null!=a.origin&&"string"!=typeof a.origin)throw new r("Invalid URL origin: the origin must be a string or null/undefined.");if(!E(a.origin||a.protocol))throw new r("Invalid URL protocol: the URL must start with `http:` or `https:`.");let b=null!=a.port?a.port:"https:"===a.protocol?443:80,c=null!=a.origin?a.origin:`${a.protocol||""}//${a.hostname||""}:${b}`,d=null!=a.path?a.path:`${a.pathname||""}${a.search||""}`;return"/"===c[c.length-1]&&(c=c.slice(0,c.length-1)),d&&"/"!==d[0]&&(d=`/${d}`),new URL(`${c}${d}`)}if(!E(a.origin||a.protocol))throw new r("Invalid URL protocol: the URL must start with `http:` or `https:`.");return a}function G(a){if("/"!==(a=F(a)).pathname||a.search||a.hash)throw new r("invalid url");return a}function H(a){if("["===a[0]){let b=a.indexOf("]");return d(-1!==b),a.substring(1,b)}let b=a.indexOf(":");return -1===b?a:a.substring(0,b)}function I(a){if(!a)return null;d("string"==typeof a);let b=H(a);return k.isIP(b)?"":b}function J(a){return JSON.parse(JSON.stringify(a))}function K(a){return null!=a&&"function"==typeof a[Symbol.asyncIterator]}function L(a){return null!=a&&("function"==typeof a[Symbol.iterator]||"function"==typeof a[Symbol.asyncIterator])}function M(a){if(null==a)return 0;if(A(a)){let b=a._readableState;return b&&!1===b.objectMode&&!0===b.ended&&Number.isFinite(b.length)?b.length:null}return B(a)?null!=a.size?a.size:null:W(a)?a.byteLength:null}function N(a){return a&&!!(a.destroyed||a[e]||j.isDestroyed?.(a))}function O(a,b){null==a||!A(a)||N(a)||("function"==typeof a.destroy?(Object.getPrototypeOf(a).constructor===i&&(a.socket=null),a.destroy(b)):b&&queueMicrotask(()=>{a.emit("error",b)}),!0!==a.destroyed&&(a[e]=!0))}let P=/timeout=(\d+)/;function Q(a){let b=a.match(P);return b?1e3*parseInt(b[1],10):null}function R(a){return"string"==typeof a?t[a]??a.toLowerCase():u.lookup(a)??a.toString("latin1").toLowerCase()}function S(a){return u.lookup(a)??a.toString("latin1").toLowerCase()}function T(a,b){void 0===b&&(b={});for(let c=0;c<a.length;c+=2){let d=R(a[c]),e=b[d];if(e)"string"==typeof e&&(e=[e],b[d]=e),e.push(a[c+1].toString("utf8"));else{let e=a[c+1];"string"==typeof e?b[d]=e:b[d]=Array.isArray(e)?e.map(a=>a.toString("utf8")):e.toString("utf8")}}return"content-length"in b&&"content-disposition"in b&&(b["content-disposition"]=Buffer.from(b["content-disposition"]).toString("latin1")),b}function U(a){let b,c,d=a.length,e=Array(d),f=!1,g=-1,h=0;for(let i=0;i<d;i+=2)b=a[i],c=a[i+1],"string"!=typeof b&&(b=b.toString()),"string"!=typeof c&&(c=c.toString("utf8")),14===(h=b.length)&&"-"===b[7]&&("content-length"===b||"content-length"===b.toLowerCase())?f=!0:19===h&&"-"===b[7]&&("content-disposition"===b||"content-disposition"===b.toLowerCase())&&(g=i+1),e[i]=b,e[i+1]=c;return f&&-1!==g&&(e[g]=Buffer.from(e[g]).toString("latin1")),e}function V(a){if(!Array.isArray(a))throw TypeError("expected headers to be an array");return a.map(a=>Buffer.from(a))}function W(a){return a instanceof Uint8Array||Buffer.isBuffer(a)}function X(a,b,c){if(!a||"object"!=typeof a)throw new r("handler must be an object");if("function"!=typeof a.onRequestStart){if("function"!=typeof a.onConnect)throw new r("invalid onConnect method");if("function"!=typeof a.onError)throw new r("invalid onError method");if("function"!=typeof a.onBodySent&&void 0!==a.onBodySent)throw new r("invalid onBodySent method");if(c||"CONNECT"===b){if("function"!=typeof a.onUpgrade)throw new r("invalid onUpgrade method")}else{if("function"!=typeof a.onHeaders)throw new r("invalid onHeaders method");if("function"!=typeof a.onData)throw new r("invalid onData method");if("function"!=typeof a.onComplete)throw new r("invalid onComplete method")}}}function Y(a){return!!(a&&(j.isDisturbed(a)||a[f]))}function Z(a){return{localAddress:a.localAddress,localPort:a.localPort,remoteAddress:a.remoteAddress,remotePort:a.remotePort,remoteFamily:a.remoteFamily,timeout:a.timeout,bytesWritten:a.bytesWritten,bytesRead:a.bytesRead}}function $(a){let b;return new ReadableStream({async start(){b=a[Symbol.asyncIterator]()},pull(a){async function c(){let{done:d,value:e}=await b.next();if(d)queueMicrotask(()=>{a.close(),a.byobRequest?.respond(0)});else{let b=Buffer.isBuffer(e)?e:Buffer.from(e);if(!b.byteLength)return await c();a.enqueue(new Uint8Array(b))}}return c()},async cancel(){await b.return()},type:"bytes"})}function _(a){return a&&"object"==typeof a&&"function"==typeof a.append&&"function"==typeof a.delete&&"function"==typeof a.get&&"function"==typeof a.getAll&&"function"==typeof a.has&&"function"==typeof a.set&&"FormData"===a[Symbol.toStringTag]}function aa(a,b){return"addEventListener"in a?(a.addEventListener("abort",b,{once:!0}),()=>a.removeEventListener("abort",b)):(a.once("abort",b),()=>a.removeListener("abort",b))}let ab="function"==typeof String.prototype.toWellFormed?a=>`${a}`.toWellFormed():m.toUSVString,ac="function"==typeof String.prototype.isWellFormed?a=>`${a}`.isWellFormed():a=>ab(a)===`${a}`;function ad(a){switch(a){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return a>=33&&a<=126}}function ae(a){if(0===a.length)return!1;for(let b=0;b<a.length;++b)if(!ad(a.charCodeAt(b)))return!1;return!0}let af=/[^\t\x20-\x7e\x80-\xff]/;function ag(a){return!af.test(a)}let ah=/^bytes (\d+)-(\d+)\/(\d+)?$/;function ai(a){if(null==a||""===a)return{start:0,end:null,size:null};let b=a?a.match(ah):null;return b?{start:parseInt(b[1]),end:b[2]?parseInt(b[2]):null,size:b[3]?parseInt(b[3]):null}:null}function aj(a,b,c){return(a[g]??=[]).push([b,c]),a.on(b,c),a}function ak(a){if(null!=a[g]){for(let[b,c]of a[g])a.removeListener(b,c);a[g]=null}return a}function al(a,b,c){try{b.onError(c),d(b.aborted)}catch(b){a.emit("error",b)}}let am="win32"===process.platform?(a,b)=>{if(!b.timeout)return y;let c=null,d=null,e=q.setFastTimeout(()=>{c=setImmediate(()=>{d=setImmediate(()=>an(a.deref(),b))})},b.timeout);return()=>{q.clearFastTimeout(e),clearImmediate(c),clearImmediate(d)}}:(a,b)=>{if(!b.timeout)return y;let c=null,d=q.setFastTimeout(()=>{c=setImmediate(()=>{an(a.deref(),b)})},b.timeout);return()=>{q.clearFastTimeout(d),clearImmediate(c)}};function an(a,b){if(null==a)return;let c="Connect Timeout Error";Array.isArray(a.autoSelectFamilyAttemptedAddresses)?c+=` (attempted addresses: ${a.autoSelectFamilyAttemptedAddresses.join(", ")},`:c+=` (attempted address: ${b.hostname}:${b.port},`,O(a,new s(c+=` timeout: ${b.timeout}ms)`))}let ao=Object.create(null);ao.enumerable=!0;let ap={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},aq={...ap,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(ap,null),Object.setPrototypeOf(aq,null),a.exports={kEnumerableProperty:ao,isDisturbed:Y,toUSVString:ab,isUSVString:ac,isBlobLike:B,parseOrigin:G,parseURL:F,getServerName:I,isStream:A,isIterable:L,isAsyncIterable:K,isDestroyed:N,headerNameToString:R,bufferToLowerCasedHeaderName:S,addListener:aj,removeAllListeners:ak,errorRequest:al,parseRawHeaders:U,encodeRawHeaders:V,parseHeaders:T,parseKeepAliveTimeout:Q,destroy:O,bodyLength:M,deepClone:J,ReadableStreamFrom:$,isBuffer:W,assertRequestHandler:X,getSocketInfo:Z,isFormDataLike:_,serializePathWithQuery:C,addAbortListener:aa,isValidHTTPToken:ae,isValidHeaderValue:ag,isTokenCharCode:ad,parseRangeHeader:ai,normalizedMethodRecordsBase:ap,normalizedMethodRecords:aq,isValidPort:D,isHttpOrHttpsPrefixed:E,nodeMajor:v,nodeMinor:w,safeHTTPMethods:Object.freeze(["GET","HEAD","OPTIONS","TRACE"]),wrapRequestBody:z,setupConnectTimeout:am}},34315:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DEFAULT_HEADER_ALIGNMENT=b.DEFAULT_ROW_ALIGNMENT=b.DEFAULT_HEADER_FONT_COLOR=b.DEFAULT_ROW_FONT_COLOR=b.COLORS=b.ALIGNMENTS=b.DEFAULT_TABLE_STYLE=b.DEFAULT_ROW_SEPARATOR=b.DEFAULT_COLUMN_LEN=void 0,b.DEFAULT_COLUMN_LEN=20,b.DEFAULT_ROW_SEPARATOR=!1,b.DEFAULT_TABLE_STYLE={headerTop:{left:"┌",mid:"┬",right:"┐",other:"─"},headerBottom:{left:"├",mid:"┼",right:"┤",other:"─"},tableBottom:{left:"└",mid:"┴",right:"┘",other:"─"},vertical:"│",rowSeparator:{left:"├",mid:"┼",right:"┤",other:"─"}},b.ALIGNMENTS=["right","left","center"],b.COLORS=["red","green","yellow","white","blue","magenta","cyan","white_bold","reset"],b.DEFAULT_ROW_FONT_COLOR="white",b.DEFAULT_HEADER_FONT_COLOR="white_bold",b.DEFAULT_ROW_ALIGNMENT="right",b.DEFAULT_HEADER_ALIGNMENT="center"},34346:(a,b,c)=>{"use strict";var d,e=c(13917);b.cm=void 0,function(a){a.STANDARD="standard",a.ADAPTIVE="adaptive"}(b.cm||(b.cm={}));let f=3,g=b.cm.STANDARD;class h{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(a){this.beta=a?.beta??.7,this.minCapacity=a?.minCapacity??1,this.minFillRate=a?.minFillRate??.5,this.scaleConstant=a?.scaleConstant??.4,this.smooth=a?.smooth??.8;let b=this.getCurrentTimeInSeconds();this.lastThrottleTime=b,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(a){if(this.enabled){if(this.refillTokenBucket(),a>this.currentCapacity){let b=(a-this.currentCapacity)/this.fillRate*1e3;await new Promise(a=>h.setTimeoutFn(a,b))}this.currentCapacity=this.currentCapacity-a}}refillTokenBucket(){let a=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=a;return}let b=(a-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+b),this.lastTimestamp=a}updateClientSendingRate(a){let b;if(this.updateMeasuredRate(),e.isThrottlingError(a)){let a=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=a,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),b=this.cubicThrottle(a),this.enableTokenBucket()}else this.calculateTimeWindow(),b=this.cubicSuccess(this.getCurrentTimeInSeconds());let c=Math.min(b,2*this.measuredTxRate);this.updateTokenBucketRate(c)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(a){return this.getPrecise(a*this.beta)}cubicSuccess(a){return this.getPrecise(this.scaleConstant*Math.pow(a-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(a){this.refillTokenBucket(),this.fillRate=Math.max(a,this.minFillRate),this.maxCapacity=Math.max(a,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let a=Math.floor(2*this.getCurrentTimeInSeconds())/2;if(this.requestCount++,a>this.lastTxRateBucket){let b=this.requestCount/(a-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(b*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=a}}getPrecise(a){return parseFloat(a.toFixed(8))}}let i=100,j=2e4,k=500,l=500,m=5,o=10,p=1,q="amz-sdk-invocation-id",r="amz-sdk-request",s=()=>{let a=i;return{computeNextBackoffDelay:b=>Math.floor(Math.min(j,Math.random()*2**b*a)),setDelayBase:b=>{a=b}}},t=({retryDelay:a,retryCount:b,retryCost:c})=>({getRetryCount:()=>b,getRetryDelay:()=>Math.min(j,a),getRetryCost:()=>c});class u{maxAttempts;mode=b.cm.STANDARD;capacity=l;retryBackoffStrategy=s();maxAttemptsProvider;constructor(a){this.maxAttempts=a,this.maxAttemptsProvider="function"==typeof a?a:async()=>a}async acquireInitialRetryToken(a){return t({retryDelay:i,retryCount:0})}async refreshRetryTokenForRetry(a,b){let c=await this.getMaxAttempts();if(this.shouldRetry(a,b,c)){let c=b.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===c?k:i);let d=this.retryBackoffStrategy.computeNextBackoffDelay(a.getRetryCount()),e=b.retryAfterHint?Math.max(b.retryAfterHint.getTime()-Date.now()||0,d):d,f=this.getCapacityCost(c);return this.capacity-=f,t({retryDelay:e,retryCount:a.getRetryCount()+1,retryCost:f})}throw Error("No retry token available")}recordSuccess(a){this.capacity=Math.max(l,this.capacity+(a.getRetryCost()??p))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(a){return console.warn(`Max attempts provider could not resolve. Using default of ${f}`),f}}shouldRetry(a,b,c){return a.getRetryCount()+1<c&&this.capacity>=this.getCapacityCost(b.errorType)&&this.isRetryableError(b.errorType)}getCapacityCost(a){return"TRANSIENT"===a?o:m}isRetryableError(a){return"THROTTLING"===a||"TRANSIENT"===a}}class v{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=b.cm.ADAPTIVE;constructor(a,b){this.maxAttemptsProvider=a;let{rateLimiter:c}=b??{};this.rateLimiter=c??new h,this.standardRetryStrategy=new u(a)}async acquireInitialRetryToken(a){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(a)}async refreshRetryTokenForRetry(a,b){return this.rateLimiter.updateClientSendingRate(b),this.standardRetryStrategy.refreshRetryTokenForRetry(a,b)}recordSuccess(a){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(a)}}class w extends u{computeNextBackoffDelay;constructor(a,b=i){super("function"==typeof a?a:async()=>a),"number"==typeof b?this.computeNextBackoffDelay=()=>b:this.computeNextBackoffDelay=b}async refreshRetryTokenForRetry(a,b){let c=await super.refreshRetryTokenForRetry(a,b);return c.getRetryDelay=()=>this.computeNextBackoffDelay(c.getRetryCount()),c}}d=v,d=w,d=f,d=i,b.L0=g,d=h,d=l,d=q,d=j,d=p,d=r,d=m,d=u,d=k,d=o},34358:(a,b,c)=>{"use strict";c(10103);let{Duplex:d}=c(27910);function e(a){a.emit("close")}function f(){!this.destroyed&&this._writableState.finished&&this.destroy()}function g(a){this.removeListener("error",g),this.destroy(),0===this.listenerCount("error")&&this.emit("error",a)}a.exports=function(a,b){let c=!0,h=new d({...b,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return a.on("message",function(b,c){let d=!c&&h._readableState.objectMode?b.toString():b;h.push(d)||a.pause()}),a.once("error",function(a){h.destroyed||(c=!1,h.destroy(a))}),a.once("close",function(){h.destroyed||h.push(null)}),h._destroy=function(b,d){if(a.readyState===a.CLOSED){d(b),process.nextTick(e,h);return}let f=!1;a.once("error",function(a){f=!0,d(a)}),a.once("close",function(){f||d(b),process.nextTick(e,h)}),c&&a.terminate()},h._final=function(b){if(a.readyState===a.CONNECTING)return void a.once("open",function(){h._final(b)});null!==a._socket&&(a._socket._writableState.finished?(b(),h._readableState.endEmitted&&h.destroy()):(a._socket.once("finish",function(){b()}),a.close()))},h._read=function(){a.isPaused&&a.resume()},h._write=function(b,c,d){if(a.readyState===a.CONNECTING)return void a.once("open",function(){h._write(b,c,d)});a.send(b,d)},h.on("end",f),h.on("error",g),h}},34447:(a,b,c)=>{"use strict";c.d(b,{L:()=>y});var d=c(61101),e=c(25083),f=c(51114),g=c(71292),h=c(87747),i=c(35593),j=c(70366),k=c(77396),l=c(61102),m=c(43982),o=c(57819),p=c(33334),q=c(53216),r=c(32609),s=c(68656),t=c(45720),u=c(90504),v=c(41154),w=c(12062),x=c(87641);let y=async a=>{let b=a;if(b.collection.config.disableBulkEdit&&!b.overrideAccess)throw new i.L(`Collection ${b.collection.config.slug} has disabled bulk edit`,403);try{let a,c,q=!b.disableTransaction&&await (0,p.n)(b.req);if(b.collection.config.hooks?.beforeOperation?.length)for(let a of b.collection.config.hooks.beforeOperation)b=await a({args:b,collection:b.collection.config,context:b.req.context,operation:"update",req:b.req})||b;let{autosave:y=!1,collection:{config:z},collection:A,depth:B,draft:C=!1,limit:D=0,overrideAccess:E,overrideLock:F,overwriteExistingFiles:G=!1,populate:H,publishSpecificLocale:I,req:{fallbackLocale:J,locale:K,payload:{config:L},payload:M},req:N,select:O,showHiddenFields:P,sort:Q,trash:R=!1,where:S}=b;if(!S)throw new i.L("Missing 'where' query of documents to update.",d.h.BAD_REQUEST);let{data:T}=b,U=!!(C&&z.versions.drafts);E||(a=await (0,e.m)({req:N},z.access.update)),await (0,g.d)({collectionConfig:z,overrideAccess:E,req:N,where:S});let V=(0,f.m)(S,a);if(z.trash&&"object"==typeof T&&null!==T&&"deletedAt"in T&&null!=T.deletedAt&&!E){let a=await (0,e.m)({req:N},z.access.delete);V=(0,f.m)(V,a)}V=(0,m.v)({enableTrash:z.trash,trash:R,where:V}),(0,h.D)({fields:z.flattenedFields,payload:M,where:V});let W=(0,v.K)({fields:A.config.flattenedFields,sort:Q});if(z.versions?.drafts&&U){let a=(0,t.D)(V);await (0,g.d)({collectionConfig:A.config,overrideAccess:E,req:N,versionFields:(0,s.c)(M.config,A.config,!0),where:(0,t.D)(S)}),c=(await M.db.queryDrafts({collection:z.slug,limit:D,locale:K,pagination:!1,req:N,sort:(0,u.t)({collectionConfig:z,sort:W}),where:a})).docs}else c=(await M.db.find({collection:z.slug,limit:D,locale:K,pagination:!1,req:N,sort:W,where:V})).docs;let{data:X,files:Y}=await (0,k.Y)({collection:A,config:L,data:T,operation:"update",overwriteExistingFiles:G,req:N,throwOnMissingFile:!1}),Z=[],$=c.map(async b=>{let{id:c}=b;try{let d=(0,r.Y)({fields:z.flattenedFields,forceSelect:z.forceSelect,select:O});return await (0,w.l)({id:c,accessResults:a,autosave:y,collectionConfig:z,config:L,data:(0,j.Zt)(X),depth:B,docWithLocales:b,draftArg:C,fallbackLocale:J,filesToUpload:Y,locale:K,overrideAccess:E,overrideLock:F,payload:M,populate:H,publishSpecificLocale:I,req:N,select:d,showHiddenFields:P})}catch(a){Z.push({id:c,message:a instanceof Error?a.message:"Unknown error"})}return null});await (0,l.b)({collectionConfig:z,config:L,req:N});let _={docs:(await Promise.all($)).filter(Boolean),errors:Z};return _=await (0,x.E)({args:b,collection:z,operation:"update",result:_}),q&&await (0,o.w)(N),_}catch(a){throw await (0,q.J)(b.req),a}}},34673:(a,b,c)=>{"use strict";c.d(b,{Y:()=>g});var d=c(78476),e=c(66151),f=c(43311);class g{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=d.cm.ADAPTIVE;constructor(a,b){this.maxAttemptsProvider=a;let{rateLimiter:c}=b??{};this.rateLimiter=c??new e.Q,this.standardRetryStrategy=new f.r(a)}async acquireInitialRetryToken(a){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(a)}async refreshRetryTokenForRetry(a,b){return this.rateLimiter.updateClientSendingRate(b),this.standardRetryStrategy.refreshRetryTokenForRetry(a,b)}recordSuccess(a){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(a)}}},34850:(a,b,c)=>{"use strict";c.d(b,{M3:()=>g,W2:()=>f,ll:()=>e,t9:()=>h});var d=c(70011);function e(a){return(0,d.A)(a)&&"string"==typeof a.kty}function f(a){return"oct"!==a.kty&&"string"==typeof a.d}function g(a){return"oct"!==a.kty&&void 0===a.d}function h(a){return e(a)&&"oct"===a.kty&&"string"==typeof a.k}},35297:(a,b,c)=>{"use strict";c.d(b,{z:()=>d});let d=async function(){this.enums&&(this.enums={}),this.schema={},this.tables={},this.relations={},this.fieldConstraints={},this.drizzle=void 0,this.initializing=new Promise((a,b)=>{this.resolveInitializing=a,this.rejectInitializing=b})}},35380:(a,b,c)=>{"use strict";c.d(b,{s:()=>p});var d=c(25083),e=c(51114),f=c(71292),g=c(87747),h=c(2431),i=c(43982),j=c(53216),k=c(22477),l=c(32609),m=c(68656),o=c(22128);let p=async a=>{let{collection:{config:b},depth:c,limit:p,overrideAccess:q,page:r,pagination:s=!0,populate:t,select:u,showHiddenFields:v,sort:w,trash:x=!1,where:y}=a,z=a.req,{fallbackLocale:A,locale:B,payload:C}=z;try{let a;q||(a=await (0,d.m)({req:z},b.access.readVersions));let j=(0,m.c)(C.config,b,!0);await (0,f.d)({collectionConfig:b,overrideAccess:q,req:z,versionFields:j,where:y});let D=(0,e.m)(y,a);D=(0,i.v)({deletedAtPath:"version.deletedAt",enableTrash:b.trash,trash:x,where:D}),(0,g.D)({fields:j,payload:C,where:D});let E=(0,l.Y)({fields:j,forceSelect:(0,o.V)({select:b.forceSelect}),select:u,versions:!0}),F=s&&0!==p,G=p??10*!!F,H=r||1,I=await C.db.findVersions({collection:b.slug,limit:G,locale:B,page:H,pagination:s,req:z,select:E,sort:w,where:D}),J=I;return J.docs=await Promise.all(I.docs.map(async a=>{let c=a;if(c.version||(c.version={}),b.hooks?.beforeRead?.length)for(let a of b.hooks.beforeRead)c.version=await a({collection:b,context:z.context,doc:c.version,query:D,req:z})||c.version;return c})),J.docs=await Promise.all(J.docs.map(async a=>(a.version=await (0,h.v)({collection:b,context:z.context,depth:c,doc:a.version,draft:void 0,fallbackLocale:A,findMany:!0,global:null,locale:B,overrideAccess:q,populate:t,req:z,select:"object"==typeof E?.version?E.version:void 0,showHiddenFields:v}),a))),b.hooks.afterRead?.length&&(J.docs=await Promise.all(J.docs.map(async a=>{let c=a;for(let d of b.hooks.afterRead)c.version=await d({collection:b,context:z.context,doc:a.version,findMany:!0,query:D,req:z})||a.version;return c}))),J.docs=J.docs.map(a=>(0,k.E)(a)),J}catch(a){throw await (0,j.J)(z),a}}},35441:(a,b,c)=>{"use strict";let{tokenChars:d}=c(15345);function e(a,b,c){void 0===a[b]?a[b]=[c]:a[b].push(c)}a.exports={format:function(a){return Object.keys(a).map(b=>{let c=a[b];return Array.isArray(c)||(c=[c]),c.map(a=>[b].concat(Object.keys(a).map(b=>{let c=a[b];return Array.isArray(c)||(c=[c]),c.map(a=>!0===a?b:`${b}=${a}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(a){let b,c,f=Object.create(null),g=Object.create(null),h=!1,i=!1,j=!1,k=-1,l=-1,m=-1,o=0;for(;o<a.length;o++)if(l=a.charCodeAt(o),void 0===b)if(-1===m&&1===d[l])-1===k&&(k=o);else if(0!==o&&(32===l||9===l))-1===m&&-1!==k&&(m=o);else if(59===l||44===l){if(-1===k)throw SyntaxError(`Unexpected character at index ${o}`);-1===m&&(m=o);let c=a.slice(k,m);44===l?(e(f,c,g),g=Object.create(null)):b=c,k=m=-1}else throw SyntaxError(`Unexpected character at index ${o}`);else if(void 0===c)if(-1===m&&1===d[l])-1===k&&(k=o);else if(32===l||9===l)-1===m&&-1!==k&&(m=o);else if(59===l||44===l){if(-1===k)throw SyntaxError(`Unexpected character at index ${o}`);-1===m&&(m=o),e(g,a.slice(k,m),!0),44===l&&(e(f,b,g),g=Object.create(null),b=void 0),k=m=-1}else if(61===l&&-1!==k&&-1===m)c=a.slice(k,o),k=m=-1;else throw SyntaxError(`Unexpected character at index ${o}`);else if(i){if(1!==d[l])throw SyntaxError(`Unexpected character at index ${o}`);-1===k?k=o:h||(h=!0),i=!1}else if(j)if(1===d[l])-1===k&&(k=o);else if(34===l&&-1!==k)j=!1,m=o;else if(92===l)i=!0;else throw SyntaxError(`Unexpected character at index ${o}`);else if(34===l&&61===a.charCodeAt(o-1))j=!0;else if(-1===m&&1===d[l])-1===k&&(k=o);else if(-1!==k&&(32===l||9===l))-1===m&&(m=o);else if(59===l||44===l){if(-1===k)throw SyntaxError(`Unexpected character at index ${o}`);-1===m&&(m=o);let d=a.slice(k,m);h&&(d=d.replace(/\\/g,""),h=!1),e(g,c,d),44===l&&(e(f,b,g),g=Object.create(null),b=void 0),c=void 0,k=m=-1}else throw SyntaxError(`Unexpected character at index ${o}`);if(-1===k||j||32===l||9===l)throw SyntaxError("Unexpected end of input");-1===m&&(m=o);let p=a.slice(k,m);return void 0===b?e(f,p,g):(void 0===c?e(g,p,!0):h?e(g,c,p.replace(/\\/g,"")):e(g,c,p),e(f,b,g)),f}}},35581:(a,b,c)=>{"use strict";let d;a=c.nmd(a);let{Buffer:e}=c(4573),f="AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAn9/AGABfwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAzQzBQYAAAMAAAAAAAADAQMAAwMDAAACAAAAAAICAgICAgICAgIBAQEBAQEBAQEDAAADAAAABAUBcAESEgUDAQACBggBfwFBgNgECwfFBygGbWVtb3J5AgALX2luaXRpYWxpemUACBlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQACRhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUANgxsbGh0dHBfYWxsb2MACwZtYWxsb2MAOAtsbGh0dHBfZnJlZQAMBGZyZWUADA9sbGh0dHBfZ2V0X3R5cGUADRVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADhVsbGh0dHBfZ2V0X2h0dHBfbWlub3IADxFsbGh0dHBfZ2V0X21ldGhvZAAQFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAERJsbGh0dHBfZ2V0X3VwZ3JhZGUAEgxsbGh0dHBfcmVzZXQAEw5sbGh0dHBfZXhlY3V0ZQAUFGxsaHR0cF9zZXR0aW5nc19pbml0ABUNbGxodHRwX2ZpbmlzaAAWDGxsaHR0cF9wYXVzZQAXDWxsaHR0cF9yZXN1bWUAGBtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGRBsbGh0dHBfZ2V0X2Vycm5vABoXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AGxdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAcFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB0RbGxodHRwX2Vycm5vX25hbWUAHhJsbGh0dHBfbWV0aG9kX25hbWUAHxJsbGh0dHBfc3RhdHVzX25hbWUAIBpsbGh0dHBfc2V0X2xlbmllbnRfaGVhZGVycwAhIWxsaHR0cF9zZXRfbGVuaWVudF9jaHVua2VkX2xlbmd0aAAiHWxsaHR0cF9zZXRfbGVuaWVudF9rZWVwX2FsaXZlACMkbGxodHRwX3NldF9sZW5pZW50X3RyYW5zZmVyX2VuY29kaW5nACQabGxodHRwX3NldF9sZW5pZW50X3ZlcnNpb24AJSNsbGh0dHBfc2V0X2xlbmllbnRfZGF0YV9hZnRlcl9jbG9zZQAmJ2xsaHR0cF9zZXRfbGVuaWVudF9vcHRpb25hbF9sZl9hZnRlcl9jcgAnLGxsaHR0cF9zZXRfbGVuaWVudF9vcHRpb25hbF9jcmxmX2FmdGVyX2NodW5rACgobGxodHRwX3NldF9sZW5pZW50X29wdGlvbmFsX2NyX2JlZm9yZV9sZgApKmxsaHR0cF9zZXRfbGVuaWVudF9zcGFjZXNfYWZ0ZXJfY2h1bmtfc2l6ZQAqGGxsaHR0cF9tZXNzYWdlX25lZWRzX2VvZgA1CRcBAEEBCxEBAgMEBQoGBzEzMi0uLCsvMArYywIzFgBB/NMAKAIABEAAC0H80wBBATYCAAsUACAAEDcgACACNgI4IAAgAToAKAsUACAAIAAvATQgAC0AMCAAEDYQAAseAQF/QcAAEDkiARA3IAFBgAg2AjggASAAOgAoIAELjwwBB38CQCAARQ0AIABBCGsiASAAQQRrKAIAIgBBeHEiBGohBQJAIABBAXENACAAQQNxRQ0BIAEgASgCACIAayIBQZDUACgCAEkNASAAIARqIQQCQAJAQZTUACgCACABRwRAIABB/wFNBEAgAEEDdiEDIAEoAggiACABKAIMIgJGBEBBgNQAQYDUACgCAEF+IAN3cTYCAAwFCyACIAA2AgggACACNgIMDAQLIAEoAhghBiABIAEoAgwiAEcEQCAAIAEoAggiAjYCCCACIAA2AgwMAwsgAUEUaiIDKAIAIgJFBEAgASgCECICRQ0CIAFBEGohAwsDQCADIQcgAiIAQRRqIgMoAgAiAg0AIABBEGohAyAAKAIQIgINAAsgB0EANgIADAILIAUoAgQiAEEDcUEDRw0CIAUgAEF+cTYCBEGI1AAgBDYCACAFIAQ2AgAgASAEQQFyNgIEDAMLQQAhAAsgBkUNAAJAIAEoAhwiAkECdEGw1gBqIgMoAgAgAUYEQCADIAA2AgAgAA0BQYTUAEGE1AAoAgBBfiACd3E2AgAMAgsgBkEQQRQgBigCECABRhtqIAA2AgAgAEUNAQsgACAGNgIYIAEoAhAiAgRAIAAgAjYCECACIAA2AhgLIAFBFGooAgAiAkUNACAAQRRqIAI2AgAgAiAANgIYCyABIAVPDQAgBSgCBCIAQQFxRQ0AAkACQAJAAkAgAEECcUUEQEGY1AAoAgAgBUYEQEGY1AAgATYCAEGM1ABBjNQAKAIAIARqIgA2AgAgASAAQQFyNgIEIAFBlNQAKAIARw0GQYjUAEEANgIAQZTUAEEANgIADAYLQZTUACgCACAFRgRAQZTUACABNgIAQYjUAEGI1AAoAgAgBGoiADYCACABIABBAXI2AgQgACABaiAANgIADAYLIABBeHEgBGohBCAAQf8BTQRAIABBA3YhAyAFKAIIIgAgBSgCDCICRgRAQYDUAEGA1AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyAFKAIYIQYgBSAFKAIMIgBHBEBBkNQAKAIAGiAAIAUoAggiAjYCCCACIAA2AgwMAwsgBUEUaiIDKAIAIgJFBEAgBSgCECICRQ0CIAVBEGohAwsDQCADIQcgAiIAQRRqIgMoAgAiAg0AIABBEGohAyAAKAIQIgINAAsgB0EANgIADAILIAUgAEF+cTYCBCABIARqIAQ2AgAgASAEQQFyNgIEDAMLQQAhAAsgBkUNAAJAIAUoAhwiAkECdEGw1gBqIgMoAgAgBUYEQCADIAA2AgAgAA0BQYTUAEGE1AAoAgBBfiACd3E2AgAMAgsgBkEQQRQgBigCECAFRhtqIAA2AgAgAEUNAQsgACAGNgIYIAUoAhAiAgRAIAAgAjYCECACIAA2AhgLIAVBFGooAgAiAkUNACAAQRRqIAI2AgAgAiAANgIYCyABIARqIAQ2AgAgASAEQQFyNgIEIAFBlNQAKAIARw0AQYjUACAENgIADAELIARB/wFNBEAgBEF4cUGo1ABqIQACf0GA1AAoAgAiAkEBIARBA3Z0IgNxRQRAQYDUACACIANyNgIAIAAMAQsgACgCCAsiAiABNgIMIAAgATYCCCABIAA2AgwgASACNgIIDAELQR8hAiAEQf///wdNBEAgBEEmIARBCHZnIgBrdkEBcSAAQQF0a0E+aiECCyABIAI2AhwgAUIANwIQIAJBAnRBsNYAaiEAAkBBhNQAKAIAIgNBASACdCIHcUUEQCAAIAE2AgBBhNQAIAMgB3I2AgAgASAANgIYIAEgATYCCCABIAE2AgwMAQsgBEEZIAJBAXZrQQAgAkEfRxt0IQIgACgCACEAAkADQCAAIgMoAgRBeHEgBEYNASACQR12IQAgAkEBdCECIAMgAEEEcWpBEGoiBygCACIADQALIAcgATYCACABIAM2AhggASABNgIMIAEgATYCCAwBCyADKAIIIgAgATYCDCADIAE2AgggAUEANgIYIAEgAzYCDCABIAA2AggLQaDUAEGg1AAoAgBBAWsiAEF/IAAbNgIACwsHACAALQAoCwcAIAAtACoLBwAgAC0AKwsHACAALQApCwcAIAAvATQLBwAgAC0AMAtAAQR/IAAoAhghASAALwEuIQIgAC0AKCEDIAAoAjghBCAAEDcgACAENgI4IAAgAzoAKCAAIAI7AS4gACABNgIYC8X4AQIHfwN+IAEgAmohBAJAIAAiAygCDCIADQAgAygCBARAIAMgATYCBAsjAEEQayIJJAACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAygCHCICQQFrDuwB7gEB6AECAwQFBgcICQoLDA0ODxAREucBE+YBFBXlARYX5AEYGRobHB0eHyDvAe0BIeMBIiMkJSYnKCkqK+IBLC0uLzAxMuEB4AEzNN8B3gE1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk/pAVBRUlPdAdwBVNsBVdoBVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHZAdgBxgHXAccB1gHIAckBygHLAcwBzQHOAc8B0AHRAdIB0wHUAQDqAQtBAAzUAQtBDgzTAQtBDQzSAQtBDwzRAQtBEAzQAQtBEQzPAQtBEgzOAQtBEwzNAQtBFAzMAQtBFQzLAQtBFgzKAQtBFwzJAQtBGAzIAQtBGQzHAQtBGgzGAQtBGwzFAQtBHAzEAQtBHQzDAQtBHgzCAQtBHwzBAQtBCAzAAQtBIAy/AQtBIgy+AQtBIQy9AQtBBwy8AQtBIwy7AQtBJAy6AQtBJQy5AQtBJgy4AQtBJwy3AQtBzgEMtgELQSgMtQELQSkMtAELQSoMswELQSsMsgELQc8BDLEBC0EtDLABC0EuDK8BC0EvDK4BC0EwDK0BC0ExDKwBC0EyDKsBC0EzDKoBC0HQAQypAQtBNAyoAQtBOAynAQtBDAymAQtBNQylAQtBNgykAQtBNwyjAQtBPQyiAQtBOQyhAQtB0QEMoAELQQsMnwELQT4MngELQToMnQELQQoMnAELQTsMmwELQTwMmgELQdIBDJkBC0HAAAyYAQtBPwyXAQtBwQAMlgELQQkMlQELQSwMlAELQcIADJMBC0HDAAySAQtBxAAMkQELQcUADJABC0HGAAyPAQtBxwAMjgELQcgADI0BC0HJAAyMAQtBygAMiwELQcsADIoBC0HMAAyJAQtBzQAMiAELQc4ADIcBC0HPAAyGAQtB0AAMhQELQdEADIQBC0HSAAyDAQtB1AAMggELQdMADIEBC0HVAAyAAQtB1gAMfwtB1wAMfgtB2AAMfQtB2QAMfAtB2gAMewtB2wAMegtB0wEMeQtB3AAMeAtB3QAMdwtBBgx2C0HeAAx1C0EFDHQLQd8ADHMLQQQMcgtB4AAMcQtB4QAMcAtB4gAMbwtB4wAMbgtBAwxtC0HkAAxsC0HlAAxrC0HmAAxqC0HoAAxpC0HnAAxoC0HpAAxnC0HqAAxmC0HrAAxlC0HsAAxkC0ECDGMLQe0ADGILQe4ADGELQe8ADGALQfAADF8LQfEADF4LQfIADF0LQfMADFwLQfQADFsLQfUADFoLQfYADFkLQfcADFgLQfgADFcLQfkADFYLQfoADFULQfsADFQLQfwADFMLQf0ADFILQf4ADFELQf8ADFALQYABDE8LQYEBDE4LQYIBDE0LQYMBDEwLQYQBDEsLQYUBDEoLQYYBDEkLQYcBDEgLQYgBDEcLQYkBDEYLQYoBDEULQYsBDEQLQYwBDEMLQY0BDEILQY4BDEELQY8BDEALQZABDD8LQZEBDD4LQZIBDD0LQZMBDDwLQZQBDDsLQZUBDDoLQZYBDDkLQZcBDDgLQZgBDDcLQZkBDDYLQZoBDDULQZsBDDQLQZwBDDMLQZ0BDDILQZ4BDDELQZ8BDDALQaABDC8LQaEBDC4LQaIBDC0LQaMBDCwLQaQBDCsLQaUBDCoLQaYBDCkLQacBDCgLQagBDCcLQakBDCYLQaoBDCULQasBDCQLQawBDCMLQa0BDCILQa4BDCELQa8BDCALQbABDB8LQbEBDB4LQbIBDB0LQbMBDBwLQbQBDBsLQbUBDBoLQbYBDBkLQbcBDBgLQbgBDBcLQQEMFgtBuQEMFQtBugEMFAtBuwEMEwtBvAEMEgtBvQEMEQtBvgEMEAtBvwEMDwtBwAEMDgtBwQEMDQtBwgEMDAtBwwEMCwtBxAEMCgtBxQEMCQtBxgEMCAtB1AEMBwtBxwEMBgtByAEMBQtByQEMBAtBygEMAwtBywEMAgtBzQEMAQtBzAELIQIDQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAMCfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJ/AkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAMCfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCACDtQBAAECAwQFBgcICQoLDA0ODxARFBUWFxgZGhscHR4fICEjJCUnKCmIA4cDhQOEA/wC9QLuAusC6ALmAuMC4ALfAt0C2wLWAtUC1ALTAtICygLJAsgCxwLGAsUCxALDAr0CvAK6ArkCuAK3ArYCtQK0ArICsQKsAqoCqAKnAqYCpQKkAqMCogKhAqACnwKbApoCmQKYApcCkAKIAoQCgwKCAvkB9gH1AfQB8wHyAfEB8AHvAe0B6wHoAeMB4QHgAd8B3gHdAdwB2wHaAdkB2AHXAdYB1QHUAdIB0QHQAc8BzgHNAcwBywHKAckByAHHAcYBxQHEAcMBwgHBAcABvwG+Ab0BvAG7AboBuQG4AbcBtgG1AbQBswGyAbEBsAGvAa4BrQGsAasBqgGpAagBpwGmAaUBpAGjAaIBoQGgAZ8BngGdAZwBmwGaAZcBlgGRAZABjwGOAY0BjAGLAYoBiQGIAYUBhAGDAX59fHt6d3Z1LFFSU1RVVgsgASAERw1zQewBIQIMqQMLIAEgBEcNkAFB0QEhAgyoAwsgASAERw3pAUGEASECDKcDCyABIARHDfQBQfoAIQIMpgMLIAEgBEcNggJB9QAhAgylAwsgASAERw2JAkHzACECDKQDCyABIARHDYwCQfEAIQIMowMLIAEgBEcNHkEeIQIMogMLIAEgBEcNGUEYIQIMoQMLIAEgBEcNuAJBzQAhAgygAwsgASAERw3DAkHGACECDJ8DCyABIARHDcQCQcMAIQIMngMLIAEgBEcNygJBOCECDJ0DCyADLQAwQQFGDZUDDPICC0EAIQACQAJAAkAgAy0AKkUNACADLQArRQ0AIAMvATIiAkECcUUNAQwCCyADLwEyIgJBAXFFDQELQQEhACADLQAoQQFGDQAgAy8BNCIGQeQAa0HkAEkNACAGQcwBRg0AIAZBsAJGDQAgAkHAAHENAEEAIQAgAkGIBHFBgARGDQAgAkEocUEARyEACyADQQA7ATIgA0EAOgAxAkAgAEUEQCADQQA6ADEgAy0ALkEEcQ0BDJwDCyADQgA3AyALIANBADoAMSADQQE6ADYMSQtBACEAAkAgAygCOCICRQ0AIAIoAiwiAkUNACADIAIRAAAhAAsgAEUNSSAAQRVHDWMgA0EENgIcIAMgATYCFCADQb0aNgIQIANBFTYCDEEAIQIMmgMLIAEgBEYEQEEGIQIMmgMLIAEtAABBCkYNGQwBCyABIARGBEBBByECDJkDCwJAIAEtAABBCmsOBAIBAQABCyABQQFqIQFBECECDP4CCyADLQAuQYABcQ0YQQAhAiADQQA2AhwgAyABNgIUIANBqR82AhAgA0ECNgIMDJcDCyABQQFqIQEgA0Evai0AAEEBcQ0XQQAhAiADQQA2AhwgAyABNgIUIANBhB82AhAgA0EZNgIMDJYDCyADIAMpAyAiDCAEIAFrrSIKfSILQgAgCyAMWBs3AyAgCiAMWg0ZQQghAgyVAwsgASAERwRAIANBCTYCCCADIAE2AgRBEiECDPsCC0EJIQIMlAMLIAMpAyBQDZwCDEQLIAEgBEYEQEELIQIMkwMLIAEtAABBCkcNFyABQQFqIQEMGAsgA0Evai0AAEEBcUUNGgwnC0EAIQACQCADKAI4IgJFDQAgAigCSCICRQ0AIAMgAhEAACEACyAADRoMQwtBACEAAkAgAygCOCICRQ0AIAIoAkgiAkUNACADIAIRAAAhAAsgAA0bDCULQQAhAAJAIAMoAjgiAkUNACACKAJIIgJFDQAgAyACEQAAIQALIAANHAwzCyADQS9qLQAAQQFxRQ0dDCMLQQAhAAJAIAMoAjgiAkUNACACKAJMIgJFDQAgAyACEQAAIQALIAANHQxDC0EAIQACQCADKAI4IgJFDQAgAigCTCICRQ0AIAMgAhEAACEACyAADR4MIQsgASAERgRAQRMhAgyLAwsCQCABLQAAIgBBCmsOBCAkJAAjCyABQQFqIQEMIAtBACEAAkAgAygCOCICRQ0AIAIoAkwiAkUNACADIAIRAAAhAAsgAA0jDEMLIAEgBEYEQEEWIQIMiQMLIAEtAABB8D9qLQAAQQFHDSQM7QILAkADQCABLQAAQeA5ai0AACIAQQFHBEACQCAAQQJrDgIDACgLIAFBAWohAUEfIQIM8AILIAQgAUEBaiIBRw0AC0EYIQIMiAMLIAMoAgQhAEEAIQIgA0EANgIEIAMgACABQQFqIgEQMyIADSIMQgtBACEAAkAgAygCOCICRQ0AIAIoAkwiAkUNACADIAIRAAAhAAsgAA0kDCsLIAEgBEYEQEEcIQIMhgMLIANBCjYCCCADIAE2AgRBACEAAkAgAygCOCICRQ0AIAIoAkgiAkUNACADIAIRAAAhAAsgAA0mQSIhAgzrAgsgASAERwRAA0AgAS0AAEHgO2otAAAiAEEDRwRAIABBAWsOBRkbJ+wCJicLIAQgAUEBaiIBRw0AC0EbIQIMhQMLQRshAgyEAwsDQCABLQAAQeA9ai0AACIAQQNHBEAgAEEBaw4FEBIoFCcoCyAEIAFBAWoiAUcNAAtBHiECDIMDCyABIARHBEAgA0ELNgIIIAMgATYCBEEHIQIM6QILQR8hAgyCAwsgASAERgRAQSAhAgyCAwsCQCABLQAAQQ1rDhQvQEBAQEBAQEBAQEBAQEBAQEBAAEALQQAhAiADQQA2AhwgA0G3CzYCECADQQI2AgwgAyABQQFqNgIUDIEDCyADQS9qIQIDQCABIARGBEBBISECDIIDCwJAAkACQCABLQAAIgBBCWsOGAIAKioBKioqKioqKioqKioqKioqKioqAigLIAFBAWohASADQS9qLQAAQQFxRQ0LDBkLIAFBAWohAQwYCyABQQFqIQEgAi0AAEECcQ0AC0EAIQIgA0EANgIcIAMgATYCFCADQc4UNgIQIANBDDYCDAyAAwsgAUEBaiEBC0EAIQACQCADKAI4IgJFDQAgAigCVCICRQ0AIAMgAhEAACEACyAADQEM0QILIANCADcDIAw8CyAAQRVGBEAgA0EkNgIcIAMgATYCFCADQYYaNgIQIANBFTYCDEEAIQIM/QILQQAhAiADQQA2AhwgAyABNgIUIANB4g02AhAgA0EUNgIMDPwCCyADKAIEIQBBACECIANBADYCBCADIAAgASAMp2oiARAxIgBFDSsgA0EHNgIcIAMgATYCFCADIAA2AgwM+wILIAMtAC5BwABxRQ0BC0EAIQACQCADKAI4IgJFDQAgAigCUCICRQ0AIAMgAhEAACEACyAARQ0rIABBFUYEQCADQQo2AhwgAyABNgIUIANB8Rg2AhAgA0EVNgIMQQAhAgz6AgtBACECIANBADYCHCADIAE2AhQgA0GLDDYCECADQRM2AgwM+QILQQAhAiADQQA2AhwgAyABNgIUIANBsRQ2AhAgA0ECNgIMDPgCC0EAIQIgA0EANgIcIAMgATYCFCADQYwUNgIQIANBGTYCDAz3AgtBACECIANBADYCHCADIAE2AhQgA0HRHDYCECADQRk2AgwM9gILIABBFUYNPUEAIQIgA0EANgIcIAMgATYCFCADQaIPNgIQIANBIjYCDAz1AgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMiIARQ0oIANBDTYCHCADIAE2AhQgAyAANgIMDPQCCyAAQRVGDTpBACECIANBADYCHCADIAE2AhQgA0GiDzYCECADQSI2AgwM8wILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDIiAEUEQCABQQFqIQEMKAsgA0EONgIcIAMgADYCDCADIAFBAWo2AhQM8gILIABBFUYNN0EAIQIgA0EANgIcIAMgATYCFCADQaIPNgIQIANBIjYCDAzxAgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMiIARQRAIAFBAWohAQwnCyADQQ82AhwgAyAANgIMIAMgAUEBajYCFAzwAgtBACECIANBADYCHCADIAE2AhQgA0HoFjYCECADQRk2AgwM7wILIABBFUYNM0EAIQIgA0EANgIcIAMgATYCFCADQc4MNgIQIANBIzYCDAzuAgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMyIARQ0lIANBETYCHCADIAE2AhQgAyAANgIMDO0CCyAAQRVGDTBBACECIANBADYCHCADIAE2AhQgA0HODDYCECADQSM2AgwM7AILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDMiAEUEQCABQQFqIQEMJQsgA0ESNgIcIAMgADYCDCADIAFBAWo2AhQM6wILIANBL2otAABBAXFFDQELQRUhAgzPAgtBACECIANBADYCHCADIAE2AhQgA0HoFjYCECADQRk2AgwM6AILIABBO0cNACABQQFqIQEMDAtBACECIANBADYCHCADIAE2AhQgA0GYFzYCECADQQI2AgwM5gILIABBFUYNKEEAIQIgA0EANgIcIAMgATYCFCADQc4MNgIQIANBIzYCDAzlAgsgA0EUNgIcIAMgATYCFCADIAA2AgwM5AILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDMiAEUEQCABQQFqIQEM3AILIANBFTYCHCADIAA2AgwgAyABQQFqNgIUDOMCCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDNoCCyADQRc2AhwgAyAANgIMIAMgAUEBajYCFAziAgsgAEEVRg0jQQAhAiADQQA2AhwgAyABNgIUIANBzgw2AhAgA0EjNgIMDOECCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDB0LIANBGTYCHCADIAA2AgwgAyABQQFqNgIUDOACCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDNYCCyADQRo2AhwgAyAANgIMIAMgAUEBajYCFAzfAgsgAEEVRg0fQQAhAiADQQA2AhwgAyABNgIUIANBog82AhAgA0EiNgIMDN4CCyADKAIEIQBBACECIANBADYCBCADIAAgARAyIgBFBEAgAUEBaiEBDBsLIANBHDYCHCADIAA2AgwgAyABQQFqNgIUDN0CCyADKAIEIQBBACECIANBADYCBCADIAAgARAyIgBFBEAgAUEBaiEBDNICCyADQR02AhwgAyAANgIMIAMgAUEBajYCFAzcAgsgAEE7Rw0BIAFBAWohAQtBJCECDMACC0EAIQIgA0EANgIcIAMgATYCFCADQc4UNgIQIANBDDYCDAzZAgsgASAERwRAA0AgAS0AAEEgRw3xASAEIAFBAWoiAUcNAAtBLCECDNkCC0EsIQIM2AILIAEgBEYEQEE0IQIM2AILAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0E0IQIM2QILIAMoAgQhACADQQA2AgQgAyAAIAEQMCIARQ2MAiADQTI2AhwgAyABNgIUIAMgADYCDEEAIQIM2AILIAMoAgQhACADQQA2AgQgAyAAIAEQMCIARQRAIAFBAWohAQyMAgsgA0EyNgIcIAMgADYCDCADIAFBAWo2AhRBACECDNcCCyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE5IQIMwAILIAMpAyAiC0KZs+bMmbPmzBlWDQEgAyALQgp+Igo3AyAgCiAArUL/AYMiC0J/hVYNASADIAogC3w3AyAgBCABQQFqIgFHDQALQcAAIQIM2AILIAMoAgQhACADQQA2AgQgAyAAIAFBAWoiARAwIgANFwzJAgtBwAAhAgzWAgsgASAERgRAQckAIQIM1gILAkADQAJAIAEtAABBCWsOGAACjwKPApMCjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CAI8CCyAEIAFBAWoiAUcNAAtByQAhAgzWAgsgAUEBaiEBIANBL2otAABBAXENjwIgA0EANgIcIAMgATYCFCADQekPNgIQIANBCjYCDEEAIQIM1QILIAEgBEcEQANAIAEtAAAiAEEgRwRAAkACQAJAIABByABrDgsAAc0BzQHNAc0BzQHNAc0BzQECzQELIAFBAWohAUHZACECDL8CCyABQQFqIQFB2gAhAgy+AgsgAUEBaiEBQdsAIQIMvQILIAQgAUEBaiIBRw0AC0HuACECDNUCC0HuACECDNQCCyADQQI6ACgMMAtBACECIANBADYCHCADQbcLNgIQIANBAjYCDCADIAFBAWo2AhQM0gILQQAhAgy3AgtBDSECDLYCC0ERIQIMtQILQRMhAgy0AgtBFCECDLMCC0EWIQIMsgILQRchAgyxAgtBGCECDLACC0EZIQIMrwILQRohAgyuAgtBGyECDK0CC0EcIQIMrAILQR0hAgyrAgtBHiECDKoCC0EgIQIMqQILQSEhAgyoAgtBIyECDKcCC0EnIQIMpgILIANBPTYCHCADIAE2AhQgAyAANgIMQQAhAgy/AgsgA0EbNgIcIAMgATYCFCADQY8bNgIQIANBFTYCDEEAIQIMvgILIANBIDYCHCADIAE2AhQgA0GeGTYCECADQRU2AgxBACECDL0CCyADQRM2AhwgAyABNgIUIANBnhk2AhAgA0EVNgIMQQAhAgy8AgsgA0ELNgIcIAMgATYCFCADQZ4ZNgIQIANBFTYCDEEAIQIMuwILIANBEDYCHCADIAE2AhQgA0GeGTYCECADQRU2AgxBACECDLoCCyADQSA2AhwgAyABNgIUIANBjxs2AhAgA0EVNgIMQQAhAgy5AgsgA0ELNgIcIAMgATYCFCADQY8bNgIQIANBFTYCDEEAIQIMuAILIANBDDYCHCADIAE2AhQgA0GPGzYCECADQRU2AgxBACECDLcCC0EAIQIgA0EANgIcIAMgATYCFCADQa8ONgIQIANBEjYCDAy2AgsCQANAAkAgAS0AAEEKaw4EAAICAAILIAQgAUEBaiIBRw0AC0HsASECDLYCCwJAAkAgAy0ANkEBRw0AQQAhAAJAIAMoAjgiAkUNACACKAJYIgJFDQAgAyACEQAAIQALIABFDQAgAEEVRw0BIANB6wE2AhwgAyABNgIUIANB4hg2AhAgA0EVNgIMQQAhAgy3AgtBzAEhAgycAgsgA0EANgIcIAMgATYCFCADQfELNgIQIANBHzYCDEEAIQIMtQILAkACQCADLQAoQQFrDgIEAQALQcsBIQIMmwILQcQBIQIMmgILIANBAjoAMUEAIQACQCADKAI4IgJFDQAgAigCACICRQ0AIAMgAhEAACEACyAARQRAQc0BIQIMmgILIABBFUcEQCADQQA2AhwgAyABNgIUIANBrAw2AhAgA0EQNgIMQQAhAgy0AgsgA0HqATYCHCADIAE2AhQgA0GHGTYCECADQRU2AgxBACECDLMCCyABIARGBEBB6QEhAgyzAgsgAS0AAEHIAEYNASADQQE6ACgLQbYBIQIMlwILQcoBIQIMlgILIAEgBEcEQCADQQw2AgggAyABNgIEQckBIQIMlgILQegBIQIMrwILIAEgBEYEQEHnASECDK8CCyABLQAAQcgARw0EIAFBAWohAUHIASECDJQCCyABIARGBEBB5gEhAgyuAgsCQAJAIAEtAABBxQBrDhAABQUFBQUFBQUFBQUFBQUBBQsgAUEBaiEBQcYBIQIMlAILIAFBAWohAUHHASECDJMCC0HlASECIAEgBEYNrAIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB99MAai0AAEcNAyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMrQILIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARAtIgBFBEBB1AEhAgyTAgsgA0HkATYCHCADIAE2AhQgAyAANgIMQQAhAgysAgtB4wEhAiABIARGDasCIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQfXTAGotAABHDQIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADKwCCyADQYEEOwEoIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARAtIgANAwwCCyADQQA2AgALQQAhAiADQQA2AhwgAyABNgIUIANB0B42AhAgA0EINgIMDKkCC0HFASECDI4CCyADQeIBNgIcIAMgATYCFCADIAA2AgxBACECDKcCC0EAIQACQCADKAI4IgJFDQAgAigCOCICRQ0AIAMgAhEAACEACyAARQ1lIABBFUcEQCADQQA2AhwgAyABNgIUIANB1A42AhAgA0EgNgIMQQAhAgynAgsgA0GFATYCHCADIAE2AhQgA0HXGjYCECADQRU2AgxBACECDKYCC0HhASECIAQgASIARg2lAiAEIAFrIAMoAgAiAWohBSAAIAFrQQRqIQYCQANAIAAtAAAgAUHw0wBqLQAARw0BIAFBBEYNAyABQQFqIQEgBCAAQQFqIgBHDQALIAMgBTYCAAymAgsgA0EANgIcIAMgADYCFCADQYQ3NgIQIANBCDYCDCADQQA2AgBBACECDKUCCyABIARHBEAgA0ENNgIIIAMgATYCBEHCASECDIsCC0HgASECDKQCCyADQQA2AgAgBkEBaiEBC0HDASECDIgCCyABIARGBEBB3wEhAgyiAgsgAS0AAEEwayIAQf8BcUEKSQRAIAMgADoAKiABQQFqIQFBwQEhAgyIAgsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYgCIANB3gE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILIAEgBEYEQEHdASECDKECCwJAIAEtAABBLkYEQCABQQFqIQEMAQsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYkCIANB3AE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILQcABIQIMhgILIAEgBEYEQEHbASECDKACC0EAIQBBASEFQQEhB0EAIQICQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQCABLQAAQTBrDgoKCQABAgMEBQYICwtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshAkEAIQVBACEHDAILQQkhAkEBIQBBACEFQQAhBwwBC0EAIQVBASECCyADIAI6ACsgAUEBaiEBAkACQCADLQAuQRBxDQACQAJAAkAgAy0AKg4DAQACBAsgB0UNAwwCCyAADQEMAgsgBUUNAQsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDQIgA0HYATYCHCADIAE2AhQgAyAANgIMQQAhAgyiAgsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYsCIANB2QE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILIAMoAgQhACADQQA2AgQgAyAAIAEQLiIARQ2JAiADQdoBNgIcIAMgATYCFCADIAA2AgwMoAILQb8BIQIMhQILQQAhAAJAIAMoAjgiAkUNACACKAI8IgJFDQAgAyACEQAAIQALAkAgAARAIABBFUYNASADQQA2AhwgAyABNgIUIANBnA02AhAgA0EhNgIMQQAhAgygAgtBvgEhAgyFAgsgA0HXATYCHCADIAE2AhQgA0HWGTYCECADQRU2AgxBACECDJ4CCyABIARGBEBB1wEhAgyeAgsCQCABLQAAQSBGBEAgA0EAOwE0IAFBAWohAQwBCyADQQA2AhwgAyABNgIUIANB6xA2AhAgA0EJNgIMQQAhAgyeAgtBvQEhAgyDAgsgASAERgRAQdYBIQIMnQILAkAgAS0AAEEwa0H/AXEiAkEKSQRAIAFBAWohAQJAIAMvATQiAEGZM0sNACADIABBCmwiADsBNCAAQf7/A3EgAkH//wNzSw0AIAMgACACajsBNAwCC0EAIQIgA0EANgIcIAMgATYCFCADQYAdNgIQIANBDTYCDAyeAgsgA0EANgIcIAMgATYCFCADQYAdNgIQIANBDTYCDEEAIQIMnQILQbwBIQIMggILIAEgBEYEQEHVASECDJwCCwJAIAEtAABBMGtB/wFxIgJBCkkEQCABQQFqIQECQCADLwE0IgBBmTNLDQAgAyAAQQpsIgA7ATQgAEH+/wNxIAJB//8Dc0sNACADIAAgAmo7ATQMAgtBACECIANBADYCHCADIAE2AhQgA0GAHTYCECADQQ02AgwMnQILIANBADYCHCADIAE2AhQgA0GAHTYCECADQQ02AgxBACECDJwCC0G7ASECDIECCyABIARGBEBB1AEhAgybAgsCQCABLQAAQTBrQf8BcSICQQpJBEAgAUEBaiEBAkAgAy8BNCIAQZkzSw0AIAMgAEEKbCIAOwE0IABB/v8DcSACQf//A3NLDQAgAyAAIAJqOwE0DAILQQAhAiADQQA2AhwgAyABNgIUIANBgB02AhAgA0ENNgIMDJwCCyADQQA2AhwgAyABNgIUIANBgB02AhAgA0ENNgIMQQAhAgybAgtBugEhAgyAAgsgASAERgRAQdMBIQIMmgILAkACQAJAAkAgAS0AAEEKaw4XAgMDAAMDAwMDAwMDAwMDAwMDAwMDAwEDCyABQQFqDAULIAFBAWohAUG5ASECDIECCyABQQFqIQEgA0Evai0AAEEBcQ0IIANBADYCHCADIAE2AhQgA0GFCzYCECADQQ02AgxBACECDJoCCyADQQA2AhwgAyABNgIUIANBhQs2AhAgA0ENNgIMQQAhAgyZAgsgASAERwRAIANBDjYCCCADIAE2AgRBASECDP8BC0HSASECDJgCCwJAAkADQAJAIAEtAABBCmsOBAIAAAMACyAEIAFBAWoiAUcNAAtB0QEhAgyZAgsgAygCBCEAIANBADYCBCADIAAgARAsIgBFBEAgAUEBaiEBDAQLIANB0AE2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMmAILIAMoAgQhACADQQA2AgQgAyAAIAEQLCIADQEgAUEBagshAUG3ASECDPwBCyADQc8BNgIcIAMgADYCDCADIAFBAWo2AhRBACECDJUCC0G4ASECDPoBCyADQS9qLQAAQQFxDQEgA0EANgIcIAMgATYCFCADQc8bNgIQIANBGTYCDEEAIQIMkwILIAEgBEYEQEHPASECDJMCCwJAAkACQCABLQAAQQprDgQBAgIAAgsgAUEBaiEBDAILIAFBAWohAQwBCyADLQAuQcAAcUUNAQtBACEAAkAgAygCOCICRQ0AIAIoAjQiAkUNACADIAIRAAAhAAsgAEUNlgEgAEEVRgRAIANB2QA2AhwgAyABNgIUIANBvRk2AhAgA0EVNgIMQQAhAgySAgsgA0EANgIcIAMgATYCFCADQfgMNgIQIANBGzYCDEEAIQIMkQILIANBADYCHCADIAE2AhQgA0HHJzYCECADQQI2AgxBACECDJACCyABIARHBEAgA0EMNgIIIAMgATYCBEG1ASECDPYBC0HOASECDI8CCyABIARGBEBBzQEhAgyPAgsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBwQBrDhUAAQIDWgQFBlpaWgcICQoLDA0ODxBaCyABQQFqIQFB8QAhAgyEAgsgAUEBaiEBQfIAIQIMgwILIAFBAWohAUH3ACECDIICCyABQQFqIQFB+wAhAgyBAgsgAUEBaiEBQfwAIQIMgAILIAFBAWohAUH/ACECDP8BCyABQQFqIQFBgAEhAgz+AQsgAUEBaiEBQYMBIQIM/QELIAFBAWohAUGMASECDPwBCyABQQFqIQFBjQEhAgz7AQsgAUEBaiEBQY4BIQIM+gELIAFBAWohAUGbASECDPkBCyABQQFqIQFBnAEhAgz4AQsgAUEBaiEBQaIBIQIM9wELIAFBAWohAUGqASECDPYBCyABQQFqIQFBrQEhAgz1AQsgAUEBaiEBQbQBIQIM9AELIAEgBEYEQEHMASECDI4CCyABLQAAQc4ARw1IIAFBAWohAUGzASECDPMBCyABIARGBEBBywEhAgyNAgsCQAJAAkAgAS0AAEHCAGsOEgBKSkpKSkpKSkoBSkpKSkpKAkoLIAFBAWohAUGuASECDPQBCyABQQFqIQFBsQEhAgzzAQsgAUEBaiEBQbIBIQIM8gELQcoBIQIgASAERg2LAiADKAIAIgAgBCABa2ohBSABIABrQQdqIQYCQANAIAEtAAAgAEHo0wBqLQAARw1FIABBB0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyMAgsgA0EANgIAIAZBAWohAUEbDEULIAEgBEYEQEHJASECDIsCCwJAAkAgAS0AAEHJAGsOBwBHR0dHRwFHCyABQQFqIQFBrwEhAgzxAQsgAUEBaiEBQbABIQIM8AELQcgBIQIgASAERg2JAiADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHm0wBqLQAARw1DIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyKAgsgA0EANgIAIAZBAWohAUEPDEMLQccBIQIgASAERg2IAiADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHk0wBqLQAARw1CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyJAgsgA0EANgIAIAZBAWohAUEgDEILQcYBIQIgASAERg2HAiADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHh0wBqLQAARw1BIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyIAgsgA0EANgIAIAZBAWohAUESDEELIAEgBEYEQEHFASECDIcCCwJAAkAgAS0AAEHFAGsODgBDQ0NDQ0NDQ0NDQ0MBQwsgAUEBaiEBQasBIQIM7QELIAFBAWohAUGsASECDOwBC0HEASECIAEgBEYNhQIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB3tMAai0AAEcNPyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhgILIANBADYCACAGQQFqIQFBBww/C0HDASECIAEgBEYNhAIgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABB2NMAai0AAEcNPiAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhQILIANBADYCACAGQQFqIQFBKAw+CyABIARGBEBBwgEhAgyEAgsCQAJAAkAgAS0AAEHFAGsOEQBBQUFBQUFBQUEBQUFBQUECQQsgAUEBaiEBQacBIQIM6wELIAFBAWohAUGoASECDOoBCyABQQFqIQFBqQEhAgzpAQtBwQEhAiABIARGDYICIAMoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQdHTAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADIMCCyADQQA2AgAgBkEBaiEBQRoMPAtBwAEhAiABIARGDYECIAMoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQc3TAGotAABHDTsgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADIICCyADQQA2AgAgBkEBaiEBQSEMOwsgASAERgRAQb8BIQIMgQILAkACQCABLQAAQcEAaw4UAD09PT09PT09PT09PT09PT09PQE9CyABQQFqIQFBowEhAgznAQsgAUEBaiEBQaYBIQIM5gELIAEgBEYEQEG+ASECDIACCwJAAkAgAS0AAEHVAGsOCwA8PDw8PDw8PDwBPAsgAUEBaiEBQaQBIQIM5gELIAFBAWohAUGlASECDOUBC0G9ASECIAEgBEYN/gEgAygCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABBxNMAai0AAEcNOCAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM/wELIANBADYCACAGQQFqIQFBKgw4CyABIARGBEBBvAEhAgz+AQsgAS0AAEHQAEcNOCABQQFqIQFBJQw3C0G7ASECIAEgBEYN/AEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBwdMAai0AAEcNNiAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM/QELIANBADYCACAGQQFqIQFBDgw2CyABIARGBEBBugEhAgz8AQsgAS0AAEHFAEcNNiABQQFqIQFBoQEhAgzhAQsgASAERgRAQbkBIQIM+wELAkACQAJAAkAgAS0AAEHCAGsODwABAjk5OTk5OTk5OTk5AzkLIAFBAWohAUGdASECDOMBCyABQQFqIQFBngEhAgziAQsgAUEBaiEBQZ8BIQIM4QELIAFBAWohAUGgASECDOABC0G4ASECIAEgBEYN+QEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBvtMAai0AAEcNMyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+gELIANBADYCACAGQQFqIQFBFAwzC0G3ASECIAEgBEYN+AEgAygCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBudMAai0AAEcNMiAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+QELIANBADYCACAGQQFqIQFBKwwyC0G2ASECIAEgBEYN9wEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBttMAai0AAEcNMSAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+AELIANBADYCACAGQQFqIQFBLAwxC0G1ASECIAEgBEYN9gEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB4dMAai0AAEcNMCAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM9wELIANBADYCACAGQQFqIQFBEQwwC0G0ASECIAEgBEYN9QEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBstMAai0AAEcNLyAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM9gELIANBADYCACAGQQFqIQFBLgwvCyABIARGBEBBswEhAgz1AQsCQAJAAkACQAJAIAEtAABBwQBrDhUANDQ0NDQ0NDQ0NAE0NAI0NAM0NAQ0CyABQQFqIQFBkQEhAgzeAQsgAUEBaiEBQZIBIQIM3QELIAFBAWohAUGTASECDNwBCyABQQFqIQFBmAEhAgzbAQsgAUEBaiEBQZoBIQIM2gELIAEgBEYEQEGyASECDPQBCwJAAkAgAS0AAEHSAGsOAwAwATALIAFBAWohAUGZASECDNoBCyABQQFqIQFBBAwtC0GxASECIAEgBEYN8gEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBsNMAai0AAEcNLCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM8wELIANBADYCACAGQQFqIQFBHQwsCyABIARGBEBBsAEhAgzyAQsCQAJAIAEtAABByQBrDgcBLi4uLi4ALgsgAUEBaiEBQZcBIQIM2AELIAFBAWohAUEiDCsLIAEgBEYEQEGvASECDPEBCyABLQAAQdAARw0rIAFBAWohAUGWASECDNYBCyABIARGBEBBrgEhAgzwAQsCQAJAIAEtAABBxgBrDgsALCwsLCwsLCwsASwLIAFBAWohAUGUASECDNYBCyABQQFqIQFBlQEhAgzVAQtBrQEhAiABIARGDe4BIAMoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQazTAGotAABHDSggAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO8BCyADQQA2AgAgBkEBaiEBQQ0MKAtBrAEhAiABIARGDe0BIAMoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQeHTAGotAABHDScgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO4BCyADQQA2AgAgBkEBaiEBQQwMJwtBqwEhAiABIARGDewBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQarTAGotAABHDSYgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO0BCyADQQA2AgAgBkEBaiEBQQMMJgtBqgEhAiABIARGDesBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQajTAGotAABHDSUgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADOwBCyADQQA2AgAgBkEBaiEBQSYMJQsgASAERgRAQakBIQIM6wELAkACQCABLQAAQdQAaw4CAAEnCyABQQFqIQFBjwEhAgzRAQsgAUEBaiEBQZABIQIM0AELQagBIQIgASAERg3pASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGm0wBqLQAARw0jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzqAQsgA0EANgIAIAZBAWohAUEnDCMLQacBIQIgASAERg3oASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGk0wBqLQAARw0iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzpAQsgA0EANgIAIAZBAWohAUEcDCILQaYBIQIgASAERg3nASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGe0wBqLQAARw0hIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzoAQsgA0EANgIAIAZBAWohAUEGDCELQaUBIQIgASAERg3mASADKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEGZ0wBqLQAARw0gIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAznAQsgA0EANgIAIAZBAWohAUEZDCALIAEgBEYEQEGkASECDOYBCwJAAkACQAJAIAEtAABBLWsOIwAkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJAEkJCQkJAIkJCQDJAsgAUEBaiEBQYQBIQIMzgELIAFBAWohAUGFASECDM0BCyABQQFqIQFBigEhAgzMAQsgAUEBaiEBQYsBIQIMywELQaMBIQIgASAERg3kASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGX0wBqLQAARw0eIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzlAQsgA0EANgIAIAZBAWohAUELDB4LIAEgBEYEQEGiASECDOQBCwJAAkAgAS0AAEHBAGsOAwAgASALIAFBAWohAUGGASECDMoBCyABQQFqIQFBiQEhAgzJAQsgASAERgRAQaEBIQIM4wELAkACQCABLQAAQcEAaw4PAB8fHx8fHx8fHx8fHx8BHwsgAUEBaiEBQYcBIQIMyQELIAFBAWohAUGIASECDMgBCyABIARGBEBBoAEhAgziAQsgAS0AAEHMAEcNHCABQQFqIQFBCgwbC0GfASECIAEgBEYN4AEgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBkdMAai0AAEcNGiAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM4QELIANBADYCACAGQQFqIQFBHgwaC0GeASECIAEgBEYN3wEgAygCACIAIAQgAWtqIQUgASAAa0EGaiEGAkADQCABLQAAIABBitMAai0AAEcNGSAAQQZGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM4AELIANBADYCACAGQQFqIQFBFQwZC0GdASECIAEgBEYN3gEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBh9MAai0AAEcNGCAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3wELIANBADYCACAGQQFqIQFBFwwYC0GcASECIAEgBEYN3QEgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBgdMAai0AAEcNFyAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3gELIANBADYCACAGQQFqIQFBGAwXCyABIARGBEBBmwEhAgzdAQsCQAJAIAEtAABByQBrDgcAGRkZGRkBGQsgAUEBaiEBQYEBIQIMwwELIAFBAWohAUGCASECDMIBC0GaASECIAEgBEYN2wEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB5tMAai0AAEcNFSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3AELIANBADYCACAGQQFqIQFBCQwVC0GZASECIAEgBEYN2gEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB5NMAai0AAEcNFCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM2wELIANBADYCACAGQQFqIQFBHwwUC0GYASECIAEgBEYN2QEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB/tIAai0AAEcNEyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM2gELIANBADYCACAGQQFqIQFBAgwTC0GXASECIAEgBEYN2AEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGA0AgAS0AACAAQfzSAGotAABHDREgAEEBRg0CIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADNgBCyABIARGBEBBlgEhAgzYAQtBASABLQAAQd8ARw0RGiABQQFqIQFB/QAhAgy9AQsgA0EANgIAIAZBAWohAUH+ACECDLwBC0GVASECIAEgBEYN1QEgAygCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABBxNMAai0AAEcNDyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM1gELIANBADYCACAGQQFqIQFBKQwPC0GUASECIAEgBEYN1AEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABB+NIAai0AAEcNDiAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM1QELIANBADYCACAGQQFqIQFBLQwOCyABIARGBEBBkwEhAgzUAQsgAS0AAEHFAEcNDiABQQFqIQFB+gAhAgy5AQsgASAERgRAQZIBIQIM0wELAkACQCABLQAAQcwAaw4IAA8PDw8PDwEPCyABQQFqIQFB+AAhAgy5AQsgAUEBaiEBQfkAIQIMuAELQZEBIQIgASAERg3RASADKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHz0gBqLQAARw0LIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzSAQsgA0EANgIAIAZBAWohAUEjDAsLQZABIQIgASAERg3QASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHw0gBqLQAARw0KIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzRAQsgA0EANgIAIAZBAWohAUEADAoLIAEgBEYEQEGPASECDNABCwJAAkAgAS0AAEHIAGsOCAAMDAwMDAwBDAsgAUEBaiEBQfMAIQIMtgELIAFBAWohAUH2ACECDLUBCyABIARGBEBBjgEhAgzPAQsCQAJAIAEtAABBzgBrDgMACwELCyABQQFqIQFB9AAhAgy1AQsgAUEBaiEBQfUAIQIMtAELIAEgBEYEQEGNASECDM4BCyABLQAAQdkARw0IIAFBAWohAUEIDAcLQYwBIQIgASAERg3MASADKAIAIgAgBCABa2ohBSABIABrQQNqIQYCQANAIAEtAAAgAEHs0gBqLQAARw0GIABBA0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzNAQsgA0EANgIAIAZBAWohAUEFDAYLQYsBIQIgASAERg3LASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHm0gBqLQAARw0FIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzMAQsgA0EANgIAIAZBAWohAUEWDAULQYoBIQIgASAERg3KASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHh0wBqLQAARw0EIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzLAQsgA0EANgIAIAZBAWohAUEQDAQLIAEgBEYEQEGJASECDMoBCwJAAkAgAS0AAEHDAGsODAAGBgYGBgYGBgYGAQYLIAFBAWohAUHvACECDLABCyABQQFqIQFB8AAhAgyvAQtBiAEhAiABIARGDcgBIAMoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQeDSAGotAABHDQIgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADMkBCyADQQA2AgAgBkEBaiEBQSQMAgsgA0EANgIADAILIAEgBEYEQEGHASECDMcBCyABLQAAQcwARw0BIAFBAWohAUETCzoAKSADKAIEIQAgA0EANgIEIAMgACABEC0iAA0CDAELQQAhAiADQQA2AhwgAyABNgIUIANB6R42AhAgA0EGNgIMDMQBC0HuACECDKkBCyADQYYBNgIcIAMgATYCFCADIAA2AgxBACECDMIBC0EAIQACQCADKAI4IgJFDQAgAigCOCICRQ0AIAMgAhEAACEACyAARQ0AIABBFUYNASADQQA2AhwgAyABNgIUIANB1A42AhAgA0EgNgIMQQAhAgzBAQtB7QAhAgymAQsgA0GFATYCHCADIAE2AhQgA0HXGjYCECADQRU2AgxBACECDL8BCyABIARGBEBBhQEhAgy/AQsCQCABLQAAQSBGBEAgAUEBaiEBDAELIANBADYCHCADIAE2AhQgA0GGHjYCECADQQY2AgxBACECDL8BC0ECIQIMpAELA0AgAS0AAEEgRw0CIAQgAUEBaiIBRw0AC0GEASECDL0BCyABIARGBEBBgwEhAgy9AQsCQCABLQAAQQlrDgRAAABAAAtB6wAhAgyiAQsgAy0AKUEFRgRAQewAIQIMogELQeoAIQIMoQELIAEgBEYEQEGCASECDLsBCyADQQ82AgggAyABNgIEDAoLIAEgBEYEQEGBASECDLoBCwJAIAEtAABBCWsOBD0AAD0AC0HpACECDJ8BCyABIARHBEAgA0EPNgIIIAMgATYCBEHnACECDJ8BC0GAASECDLgBCwJAIAEgBEcEQANAIAEtAABB4M4Aai0AACIAQQNHBEACQCAAQQFrDgI/AAQLQeYAIQIMoQELIAQgAUEBaiIBRw0AC0H+ACECDLkBC0H+ACECDLgBCyADQQA2AhwgAyABNgIUIANBxh82AhAgA0EHNgIMQQAhAgy3AQsgASAERgRAQf8AIQIMtwELAkACQAJAIAEtAABB4NAAai0AAEEBaw4DPAIAAQtB6AAhAgyeAQsgA0EANgIcIAMgATYCFCADQYYSNgIQIANBBzYCDEEAIQIMtwELQeAAIQIMnAELIAEgBEcEQCABQQFqIQFB5QAhAgycAQtB/QAhAgy1AQsgBCABIgBGBEBB/AAhAgy1AQsgAC0AACIBQS9GBEAgAEEBaiEBQeQAIQIMmwELIAFBCWsiAkEXSw0BIAAhAUEBIAJ0QZuAgARxDTcMAQsgBCABIgBGBEBB+wAhAgy0AQsgAC0AAEEvRw0AIABBAWohAQwDC0EAIQIgA0EANgIcIAMgADYCFCADQcYfNgIQIANBBzYCDAyyAQsCQAJAAkACQAJAA0AgAS0AAEHgzABqLQAAIgBBBUcEQAJAAkAgAEEBaw4IPQUGBwgABAEIC0HhACECDJ8BCyABQQFqIQFB4wAhAgyeAQsgBCABQQFqIgFHDQALQfoAIQIMtgELIAFBAWoMFAsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgy0AQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyzAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyyAQsgA0EANgIcIAMgATYCFCADQcsPNgIQIANBBzYCDEEAIQIMsQELIAEgBEYEQEH5ACECDLEBCwJAIAEtAABB4MwAai0AAEEBaw4INAQFBgAIAgMHCyABQQFqIQELQQMhAgyVAQsgAUEBagwNC0EAIQIgA0EANgIcIANBoxI2AhAgA0EHNgIMIAMgAUEBajYCFAytAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgysAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyrAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyqAQsgA0EANgIcIAMgATYCFCADQcsPNgIQIANBBzYCDEEAIQIMqQELQeIAIQIMjgELIAEgBEYEQEH4ACECDKgBCyABQQFqDAILIAEgBEYEQEH3ACECDKcBCyABQQFqDAELIAEgBEYNASABQQFqCyEBQQQhAgyKAQtB9gAhAgyjAQsDQCABLQAAQeDKAGotAAAiAEECRwRAIABBAUcEQEHfACECDIsBCwwnCyAEIAFBAWoiAUcNAAtB9QAhAgyiAQsgASAERgRAQfQAIQIMogELAkAgAS0AAEEJaw43JQMGJQQGBgYGBgYGBgYGBgYGBgYGBgYFBgYCBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGAAYLIAFBAWoLIQFBBSECDIYBCyABQQFqDAYLIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB2wA2AhwgAyABNgIUIAMgADYCDEEAIQIMngELIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB3QA2AhwgAyABNgIUIAMgADYCDEEAIQIMnQELIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB8AA2AhwgAyABNgIUIAMgADYCDEEAIQIMnAELIANBADYCHCADIAE2AhQgA0G8EzYCECADQQc2AgxBACECDJsBCwJAAkACQAJAA0AgAS0AAEHgyABqLQAAIgBBBUcEQAJAIABBAWsOBiQDBAUGAAYLQd4AIQIMhgELIAQgAUEBaiIBRw0AC0HzACECDJ4BCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQdsANgIcIAMgATYCFCADIAA2AgxBACECDJ0BCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQd0ANgIcIAMgATYCFCADIAA2AgxBACECDJwBCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQfAANgIcIAMgATYCFCADIAA2AgxBACECDJsBCyADQQA2AhwgAyABNgIUIANB3Ag2AhAgA0EHNgIMQQAhAgyaAQsgASAERg0BIAFBAWoLIQFBBiECDH4LQfIAIQIMlwELAkACQAJAAkADQCABLQAAQeDGAGotAAAiAEEFRwRAIABBAWsOBB8CAwQFCyAEIAFBAWoiAUcNAAtB8QAhAgyaAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgyZAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyYAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyXAQsgA0EANgIcIAMgATYCFCADQbQKNgIQIANBBzYCDEEAIQIMlgELQc4AIQIMewtB0AAhAgx6C0HdACECDHkLIAEgBEYEQEHwACECDJMBCwJAIAEtAABBCWsOBBYAABYACyABQQFqIQFB3AAhAgx4CyABIARGBEBB7wAhAgySAQsCQCABLQAAQQlrDgQVAAAVAAtBACEAAkAgAygCOCICRQ0AIAIoAjAiAkUNACADIAIRAAAhAAsgAEUEQEHTASECDHgLIABBFUcEQCADQQA2AhwgAyABNgIUIANBwQ02AhAgA0EaNgIMQQAhAgySAQsgA0HuADYCHCADIAE2AhQgA0HwGTYCECADQRU2AgxBACECDJEBC0HtACECIAEgBEYNkAEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABB18YAai0AAEcNBCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMkQELIANBADYCACAGQQFqIQEgAy0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACECIANBADYCHCADIAE2AhQgA0HlCTYCECADQQg2AgwMkAELQewAIQIgASAERg2PASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHUxgBqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyQAQsgA0EANgIAIAZBAWohASADLQApQSFGDQMgA0EANgIcIAMgATYCFCADQYkKNgIQIANBCDYCDEEAIQIMjwELQesAIQIgASAERg2OASADKAIAIgAgBCABa2ohBSABIABrQQNqIQYCQANAIAEtAAAgAEHQxgBqLQAARw0CIABBA0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyPAQsgA0EANgIAIAZBAWohASADLQApIgBBI0kNAiAAQS5GDQIgA0EANgIcIAMgATYCFCADQcEJNgIQIANBCDYCDEEAIQIMjgELIANBADYCAAtBACECIANBADYCHCADIAE2AhQgA0GENzYCECADQQg2AgwMjAELQdgAIQIMcQsgASAERwRAIANBDTYCCCADIAE2AgRB1wAhAgxxC0HqACECDIoBCyABIARGBEBB6QAhAgyKAQsgAS0AAEEwayIAQf8BcUEKSQRAIAMgADoAKiABQQFqIQFB1gAhAgxwCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdCADQegANgIcIAMgATYCFCADIAA2AgxBACECDIkBCyABIARGBEBB5wAhAgyJAQsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAMoAgQhACADQQA2AgQgAyAAIAEQLiIARQ11IANB5gA2AhwgAyABNgIUIAMgADYCDEEAIQIMiQELQdUAIQIMbgsgASAERgRAQeUAIQIMiAELQQAhAEEBIQVBASEHQQAhAgJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAEtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyECQQAhBUEAIQcMAgtBCSECQQEhAEEAIQVBACEHDAELQQAhBUEBIQILIAMgAjoAKyABQQFqIQECQAJAIAMtAC5BEHENAAJAAkACQCADLQAqDgMBAAIECyAHRQ0DDAILIAANAQwCCyAFRQ0BCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNAiADQeIANgIcIAMgATYCFCADIAA2AgxBACECDIoBCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdyADQeMANgIcIAMgATYCFCADIAA2AgxBACECDIkBCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdSADQeQANgIcIAMgATYCFCADIAA2AgwMiAELQdMAIQIMbQsgAy0AKUEiRg2AAUHSACECDGwLQQAhAAJAIAMoAjgiAkUNACACKAI8IgJFDQAgAyACEQAAIQALIABFBEBB1AAhAgxsCyAAQRVHBEAgA0EANgIcIAMgATYCFCADQZwNNgIQIANBITYCDEEAIQIMhgELIANB4QA2AhwgAyABNgIUIANB1hk2AhAgA0EVNgIMQQAhAgyFAQsgASAERgRAQeAAIQIMhQELAkACQAJAAkACQCABLQAAQQprDgQBBAQABAsgAUEBaiEBDAELIAFBAWohASADQS9qLQAAQQFxRQ0BC0HRACECDGwLIANBADYCHCADIAE2AhQgA0GIETYCECADQQk2AgxBACECDIUBCyADQQA2AhwgAyABNgIUIANBiBE2AhAgA0EJNgIMQQAhAgyEAQsgASAERgRAQd8AIQIMhAELIAEtAABBCkYEQCABQQFqIQEMCQsgAy0ALkHAAHENCCADQQA2AhwgAyABNgIUIANBiBE2AhAgA0ECNgIMQQAhAgyDAQsgASAERgRAQd0AIQIMgwELIAEtAAAiAkENRgRAIAFBAWohAUHPACECDGkLIAEhACACQQlrDgQFAQEFAQsgBCABIgBGBEBB3AAhAgyCAQsgAC0AAEEKRw0AIABBAWoMAgtBACECIANBADYCHCADIAA2AhQgA0G1LDYCECADQQc2AgwMgAELIAEgBEYEQEHbACECDIABCwJAIAEtAABBCWsOBAMAAAMACyABQQFqCyEBQc0AIQIMZAsgASAERgRAQdoAIQIMfgsgAS0AAEEJaw4EAAEBAAELQQAhAiADQQA2AhwgA0HsETYCECADQQc2AgwgAyABQQFqNgIUDHwLIANBgBI7ASpBACEAAkAgAygCOCICRQ0AIAIoAjAiAkUNACADIAIRAAAhAAsgAEUNACAAQRVHDQEgA0HZADYCHCADIAE2AhQgA0HwGTYCECADQRU2AgxBACECDHsLQcwAIQIMYAsgA0EANgIcIAMgATYCFCADQcENNgIQIANBGjYCDEEAIQIMeQsgASAERgRAQdkAIQIMeQsgAS0AAEEgRw06IAFBAWohASADLQAuQQFxDTogA0EANgIcIAMgATYCFCADQa0bNgIQIANBHjYCDEEAIQIMeAsgASAERgRAQdgAIQIMeAsCQAJAAkACQAJAIAEtAAAiAEEKaw4EAgMDAAELIAFBAWohAUErIQIMYQsgAEE6Rw0BIANBADYCHCADIAE2AhQgA0G5ETYCECADQQo2AgxBACECDHoLIAFBAWohASADQS9qLQAAQQFxRQ1tIAMtADJBgAFxRQRAIANBMmohAiADEDRBACEAAkAgAygCOCIGRQ0AIAYoAiQiBkUNACADIAYRAAAhAAsCQAJAIAAOFkpJSAEBAQEBAQEBAQEBAQEBAQEBAQABCyADQSk2AhwgAyABNgIUIANBshg2AhAgA0EVNgIMQQAhAgx7CyADQQA2AhwgAyABNgIUIANB3Qs2AhAgA0ERNgIMQQAhAgx6C0EAIQACQCADKAI4IgJFDQAgAigCVCICRQ0AIAMgAhEAACEACyAARQ1VIABBFUcNASADQQU2AhwgAyABNgIUIANBhho2AhAgA0EVNgIMQQAhAgx5C0HKACECDF4LQQAhAiADQQA2AhwgAyABNgIUIANB4g02AhAgA0EUNgIMDHcLIAMgAy8BMkGAAXI7ATIMOAsgASAERwRAIANBEDYCCCADIAE2AgRByQAhAgxcC0HXACECDHULIAEgBEYEQEHWACECDHULAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAPT09PT09PT09PT09AT09PQIDPQsgAUEBaiEBQcUAIQIMXQsgAUEBaiEBQcYAIQIMXAsgAUEBaiEBQccAIQIMWwsgAUEBaiEBQcgAIQIMWgtB1QAhAiAEIAEiAEYNcyAEIAFrIAMoAgAiAWohBiAAIAFrQQVqIQcDQCABQcDGAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQhBBCABQQVGDQoaIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADHMLQdQAIQIgBCABIgBGDXIgBCABayADKAIAIgFqIQYgACABa0EPaiEHA0AgAUGwxgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0HQQMgAUEPRg0JGiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxyC0HTACECIAQgASIARg1xIAQgAWsgAygCACIBaiEGIAAgAWtBDmohBwNAIAFBksYAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNBiABQQ5GDQcgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMcQtB0gAhAiAEIAEiAEYNcCAEIAFrIAMoAgAiAWohBSAAIAFrQQFqIQYDQCABQZDGAGotAAAgAC0AACIHQSByIAcgB0HBAGtB/wFxQRpJG0H/AXFHDQUgAUEBRg0CIAFBAWohASAEIABBAWoiAEcNAAsgAyAFNgIADHALIAEgBEYEQEHRACECDHALAkACQCABLQAAIgBBIHIgACAAQcEAa0H/AXFBGkkbQf8BcUHuAGsOBwA2NjY2NgE2CyABQQFqIQFBwgAhAgxWCyABQQFqIQFBwwAhAgxVCyADQQA2AgAgBkEBaiEBQcQAIQIMVAtB0AAhAiAEIAEiAEYNbSAEIAFrIAMoAgAiAWohBiAAIAFrQQlqIQcDQCABQYbGAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQJBAiABQQlGDQQaIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADG0LQc8AIQIgBCABIgBGDWwgBCABayADKAIAIgFqIQYgACABa0EFaiEHA0AgAUGAxgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYNAiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxsCyAAIQEgA0EANgIADDALQQELOgAsIANBADYCACAHQQFqIQELQSwhAgxOCwJAA0AgAS0AAEGAxABqLQAAQQFHDQEgBCABQQFqIgFHDQALQc0AIQIMaAtBwQAhAgxNCyABIARGBEBBzAAhAgxnCyABLQAAQTpGBEAgAygCBCEAIANBADYCBCADIAAgARAvIgBFDTAgA0HLADYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxnCyADQQA2AhwgAyABNgIUIANBuRE2AhAgA0EKNgIMQQAhAgxmCwJAAkAgAy0ALEECaw4CAAEkCyADQTNqLQAAQQJxRQ0jIAMtAC5BAnENIyADQQA2AhwgAyABNgIUIANB1RM2AhAgA0ELNgIMQQAhAgxmCyADLQAyQSBxRQ0iIAMtAC5BAnENIiADQQA2AhwgAyABNgIUIANB7BI2AhAgA0EPNgIMQQAhAgxlC0EAIQACQCADKAI4IgJFDQAgAigCQCICRQ0AIAMgAhEAACEACyAARQRAQcAAIQIMSwsgAEEVRwRAIANBADYCHCADIAE2AhQgA0H4DjYCECADQRw2AgxBACECDGULIANBygA2AhwgAyABNgIUIANB8Bo2AhAgA0EVNgIMQQAhAgxkCyABIARHBEADQCABLQAAQfA/ai0AAEEBRw0XIAQgAUEBaiIBRw0AC0HEACECDGQLQcQAIQIMYwsgASAERwRAA0ACQCABLQAAIgBBIHIgACAAQcEAa0H/AXFBGkkbQf8BcSIAQQlGDQAgAEEgRg0AAkACQAJAAkAgAEHjAGsOEwADAwMDAwMDAQMDAwMDAwMDAwIDCyABQQFqIQFBNSECDE4LIAFBAWohAUE2IQIMTQsgAUEBaiEBQTchAgxMCwwVCyAEIAFBAWoiAUcNAAtBPCECDGMLQTwhAgxiCyABIARGBEBByAAhAgxiCyADQRE2AgggAyABNgIEAkACQAJAAkACQCADLQAsQQFrDgQUAAECCQsgAy0AMkEgcQ0DQdEBIQIMSwsCQCADLwEyIgBBCHFFDQAgAy0AKEEBRw0AIAMtAC5BCHFFDQILIAMgAEH3+wNxQYAEcjsBMgwLCyADIAMvATJBEHI7ATIMBAsgA0EANgIEIAMgASABEDAiAARAIANBwQA2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMYwsgAUEBaiEBDFILIANBADYCHCADIAE2AhQgA0GjEzYCECADQQQ2AgxBACECDGELQccAIQIgASAERg1gIAMoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEHwwwBqLQAAIAEtAABBIHJHDQEgAEEGRg1GIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADGELIANBADYCAAwFCwJAIAEgBEcEQANAIAEtAABB8MEAai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBxQAhAgxhC0HFACECDGALCyADQQA6ACwMAQtBCyECDEMLQT4hAgxCCwJAAkADQCABLQAAIgBBIEcEQAJAIABBCmsOBAMFBQMACyAAQSxGDQMMBAsgBCABQQFqIgFHDQALQcYAIQIMXQsgA0EIOgAsDA4LIAMtAChBAUcNAiADLQAuQQhxDQIgAygCBCEAIANBADYCBCADIAAgARAwIgAEQCADQcIANgIcIAMgADYCDCADIAFBAWo2AhRBACECDFwLIAFBAWohAQxKC0E6IQIMQAsCQANAIAEtAAAiAEEgRyAAQQlHcQ0BIAQgAUEBaiIBRw0AC0HDACECDFoLC0E7IQIMPgsCQAJAIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBAMEBAMECyAEIAFBAWoiAUcNAAtBPyECDFoLQT8hAgxZCyADIAMvATJBIHI7ATIMCgsgAygCBCEAIANBADYCBCADIAAgARAwIgBFDUggA0E+NgIcIAMgATYCFCADIAA2AgxBACECDFcLAkAgASAERwRAA0AgAS0AAEHwwQBqLQAAIgBBAUcEQCAAQQJGDQMMDAsgBCABQQFqIgFHDQALQTchAgxYC0E3IQIMVwsgAUEBaiEBDAQLQTshAiAEIAEiAEYNVSAEIAFrIAMoAgAiAWohBiAAIAFrQQVqIQcCQANAIAFBwMYAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNASABQQVGBEBBByEBDDsLIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADFYLIANBADYCACAAIQEMBQtBOiECIAQgASIARg1UIAQgAWsgAygCACIBaiEGIAAgAWtBCGohBwJAA0AgAUHkP2otAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAUEIRgRAQQUhAQw6CyABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxVCyADQQA2AgAgACEBDAQLQTkhAiAEIAEiAEYNUyAEIAFrIAMoAgAiAWohBiAAIAFrQQNqIQcCQANAIAFB4D9qLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBA0YEQEEGIQEMOQsgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMVAsgA0EANgIAIAAhAQwDCwJAA0AgAS0AACIAQSBHBEAgAEEKaw4EBwQEBwILIAQgAUEBaiIBRw0AC0E4IQIMUwsgAEEsRw0BIAFBAWohAEEBIQECQAJAAkACQAJAIAMtACxBBWsOBAMBAgQACyAAIQEMBAtBAiEBDAELQQQhAQsgA0EBOgAsIAMgAy8BMiABcjsBMiAAIQEMAQsgAyADLwEyQQhyOwEyIAAhAQtBPSECDDcLIANBADoALAtBOCECDDULIAEgBEYEQEE2IQIMTwsCQAJAAkACQAJAIAEtAABBCmsOBAACAgECCyADKAIEIQAgA0EANgIEIAMgACABEDAiAEUNAiADQTM2AhwgAyABNgIUIAMgADYCDEEAIQIMUgsgAygCBCEAIANBADYCBCADIAAgARAwIgBFBEAgAUEBaiEBDAYLIANBMjYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxRCyADLQAuQQFxBEBB0AEhAgw3CyADKAIEIQAgA0EANgIEIAMgACABEDAiAA0BDEMLQTMhAgw1CyADQTU2AhwgAyABNgIUIAMgADYCDEEAIQIMTgtBNCECDDMLIANBL2otAABBAXENACADQQA2AhwgAyABNgIUIANB8RU2AhAgA0EZNgIMQQAhAgxMC0EyIQIMMQsgASAERgRAQTIhAgxLCwJAIAEtAABBCkYEQCABQQFqIQEMAQsgA0EANgIcIAMgATYCFCADQZgWNgIQIANBAzYCDEEAIQIMSwtBMSECDDALIAEgBEYEQEExIQIMSgsgAS0AACIAQQlHIABBIEdxDQEgAy0ALEEIRw0AIANBADoALAtBPCECDC4LQQEhAgJAAkACQAJAIAMtACxBBWsOBAMBAgAKCyADIAMvATJBCHI7ATIMCQtBAiECDAELQQQhAgsgA0EBOgAsIAMgAy8BMiACcjsBMgwGCyABIARGBEBBMCECDEcLIAEtAABBCkYEQCABQQFqIQEMAQsgAy0ALkEBcQ0AIANBADYCHCADIAE2AhQgA0HHJzYCECADQQI2AgxBACECDEYLQS8hAgwrCyABQQFqIQFBMCECDCoLIAEgBEYEQEEvIQIMRAsgAS0AACIAQQlHIABBIEdxRQRAIAFBAWohASADLQAuQQFxDQEgA0EANgIcIAMgATYCFCADQekPNgIQIANBCjYCDEEAIQIMRAtBASECAkACQAJAAkACQAJAIAMtACxBAmsOBwUEBAMBAgAECyADIAMvATJBCHI7ATIMAwtBAiECDAELQQQhAgsgA0EBOgAsIAMgAy8BMiACcjsBMgtBLiECDCoLIANBADYCHCADIAE2AhQgA0GzEjYCECADQQs2AgxBACECDEMLQdIBIQIMKAsgASAERgRAQS4hAgxCCyADQQA2AgQgA0ERNgIIIAMgASABEDAiAA0BC0EtIQIMJgsgA0EtNgIcIAMgATYCFCADIAA2AgxBACECDD8LQQAhAAJAIAMoAjgiAkUNACACKAJEIgJFDQAgAyACEQAAIQALIABFDQAgAEEVRw0BIANB2AA2AhwgAyABNgIUIANBnho2AhAgA0EVNgIMQQAhAgw+C0HLACECDCMLIANBADYCHCADIAE2AhQgA0GFDjYCECADQR02AgxBACECDDwLIAEgBEYEQEHOACECDDwLIAEtAAAiAEEgRg0CIABBOkYNAQsgA0EAOgAsQQkhAgwgCyADKAIEIQAgA0EANgIEIAMgACABEC8iAA0BDAILIAMtAC5BAXEEQEHPASECDB8LIAMoAgQhACADQQA2AgQgAyAAIAEQLyIARQ0CIANBKjYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgw4CyADQcsANgIcIAMgADYCDCADIAFBAWo2AhRBACECDDcLIAFBAWohAUE/IQIMHAsgAUEBaiEBDCkLIAEgBEYEQEErIQIMNQsCQCABLQAAQQpGBEAgAUEBaiEBDAELIAMtAC5BwABxRQ0GCyADLQAyQYABcQRAQQAhAAJAIAMoAjgiAkUNACACKAJUIgJFDQAgAyACEQAAIQALIABFDREgAEEVRgRAIANBBTYCHCADIAE2AhQgA0GGGjYCECADQRU2AgxBACECDDYLIANBADYCHCADIAE2AhQgA0HiDTYCECADQRQ2AgxBACECDDULIANBMmohAiADEDRBACEAAkAgAygCOCIGRQ0AIAYoAiQiBkUNACADIAYRAAAhAAsgAA4WAgEABAQEBAQEBAQEBAQEBAQEBAQEAwQLIANBAToAMAsgAiACLwEAQcAAcjsBAAtBKiECDBcLIANBKTYCHCADIAE2AhQgA0GyGDYCECADQRU2AgxBACECDDALIANBADYCHCADIAE2AhQgA0HdCzYCECADQRE2AgxBACECDC8LIANBADYCHCADIAE2AhQgA0GdCzYCECADQQI2AgxBACECDC4LQQEhByADLwEyIgVBCHFFBEAgAykDIEIAUiEHCwJAIAMtADAEQEEBIQAgAy0AKUEFRg0BIAVBwABxRSAHcUUNAQsCQCADLQAoIgJBAkYEQEEBIQAgAy8BNCIGQeUARg0CQQAhACAFQcAAcQ0CIAZB5ABGDQIgBkHmAGtBAkkNAiAGQcwBRg0CIAZBsAJGDQIMAQtBACEAIAVBwABxDQELQQIhACAFQQhxDQAgBUGABHEEQAJAIAJBAUcNACADLQAuQQpxDQBBBSEADAILQQQhAAwBCyAFQSBxRQRAIAMQNUEAR0ECdCEADAELQQBBAyADKQMgUBshAAsCQCAAQQFrDgUAAQYHAgMLQQAhAgJAIAMoAjgiAEUNACAAKAIsIgBFDQAgAyAAEQAAIQILIAJFDSYgAkEVRgRAIANBAzYCHCADIAE2AhQgA0G9GjYCECADQRU2AgxBACECDC4LQQAhAiADQQA2AhwgAyABNgIUIANBrw42AhAgA0ESNgIMDC0LQc4BIQIMEgtBACECIANBADYCHCADIAE2AhQgA0HkHzYCECADQQ82AgwMKwtBACEAAkAgAygCOCICRQ0AIAIoAiwiAkUNACADIAIRAAAhAAsgAA0BC0EOIQIMDwsgAEEVRgRAIANBAjYCHCADIAE2AhQgA0G9GjYCECADQRU2AgxBACECDCkLQQAhAiADQQA2AhwgAyABNgIUIANBrw42AhAgA0ESNgIMDCgLQSkhAgwNCyADQQE6ADEMJAsgASAERwRAIANBCTYCCCADIAE2AgRBKCECDAwLQSYhAgwlCyADIAMpAyAiDCAEIAFrrSIKfSILQgAgCyAMWBs3AyAgCiAMVARAQSUhAgwlCyADKAIEIQBBACECIANBADYCBCADIAAgASAMp2oiARAxIgBFDQAgA0EFNgIcIAMgATYCFCADIAA2AgwMJAtBDyECDAkLIAEgBEYEQEEjIQIMIwtCACEKAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsONxcWAAECAwQFBgcUFBQUFBQUCAkKCwwNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQODxAREhMUC0ICIQoMFgtCAyEKDBULQgQhCgwUC0IFIQoMEwtCBiEKDBILQgchCgwRC0IIIQoMEAtCCSEKDA8LQgohCgwOC0ILIQoMDQtCDCEKDAwLQg0hCgwLC0IOIQoMCgtCDyEKDAkLQgohCgwIC0ILIQoMBwtCDCEKDAYLQg0hCgwFC0IOIQoMBAtCDyEKDAMLQQAhAiADQQA2AhwgAyABNgIUIANBzhQ2AhAgA0EMNgIMDCILIAEgBEYEQEEiIQIMIgtCACEKAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQTBrDjcVFAABAgMEBQYHFhYWFhYWFggJCgsMDRYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWDg8QERITFgtCAiEKDBQLQgMhCgwTC0IEIQoMEgtCBSEKDBELQgYhCgwQC0IHIQoMDwtCCCEKDA4LQgkhCgwNC0IKIQoMDAtCCyEKDAsLQgwhCgwKC0INIQoMCQtCDiEKDAgLQg8hCgwHC0IKIQoMBgtCCyEKDAULQgwhCgwEC0INIQoMAwtCDiEKDAILQg8hCgwBC0IBIQoLIAFBAWohASADKQMgIgtC//////////8PWARAIAMgC0IEhiAKhDcDIAwCC0EAIQIgA0EANgIcIAMgATYCFCADQa0JNgIQIANBDDYCDAwfC0ElIQIMBAtBJiECDAMLIAMgAToALCADQQA2AgAgB0EBaiEBQQwhAgwCCyADQQA2AgAgBkEBaiEBQQohAgwBCyABQQFqIQFBCCECDAALAAtBACECIANBADYCHCADIAE2AhQgA0HVEDYCECADQQk2AgwMGAtBACECIANBADYCHCADIAE2AhQgA0HXCjYCECADQQk2AgwMFwtBACECIANBADYCHCADIAE2AhQgA0G/EDYCECADQQk2AgwMFgtBACECIANBADYCHCADIAE2AhQgA0GkETYCECADQQk2AgwMFQtBACECIANBADYCHCADIAE2AhQgA0HVEDYCECADQQk2AgwMFAtBACECIANBADYCHCADIAE2AhQgA0HXCjYCECADQQk2AgwMEwtBACECIANBADYCHCADIAE2AhQgA0G/EDYCECADQQk2AgwMEgtBACECIANBADYCHCADIAE2AhQgA0GkETYCECADQQk2AgwMEQtBACECIANBADYCHCADIAE2AhQgA0G/FjYCECADQQ82AgwMEAtBACECIANBADYCHCADIAE2AhQgA0G/FjYCECADQQ82AgwMDwtBACECIANBADYCHCADIAE2AhQgA0HIEjYCECADQQs2AgwMDgtBACECIANBADYCHCADIAE2AhQgA0GVCTYCECADQQs2AgwMDQtBACECIANBADYCHCADIAE2AhQgA0HpDzYCECADQQo2AgwMDAtBACECIANBADYCHCADIAE2AhQgA0GDEDYCECADQQo2AgwMCwtBACECIANBADYCHCADIAE2AhQgA0GmHDYCECADQQI2AgwMCgtBACECIANBADYCHCADIAE2AhQgA0HFFTYCECADQQI2AgwMCQtBACECIANBADYCHCADIAE2AhQgA0H/FzYCECADQQI2AgwMCAtBACECIANBADYCHCADIAE2AhQgA0HKFzYCECADQQI2AgwMBwsgA0ECNgIcIAMgATYCFCADQZQdNgIQIANBFjYCDEEAIQIMBgtB3gAhAiABIARGDQUgCUEIaiEHIAMoAgAhBQJAAkAgASAERwRAIAVBxsYAaiEIIAQgBWogAWshBiAFQX9zQQpqIgUgAWohAANAIAEtAAAgCC0AAEcEQEECIQgMAwsgBUUEQEEAIQggACEBDAMLIAVBAWshBSAIQQFqIQggBCABQQFqIgFHDQALIAYhBSAEIQELIAdBATYCACADIAU2AgAMAQsgA0EANgIAIAcgCDYCAAsgByABNgIEIAkoAgwhACAJKAIIDgMBBQIACwALIANBADYCHCADQa0dNgIQIANBFzYCDCADIABBAWo2AhRBACECDAMLIANBADYCHCADIAA2AhQgA0HCHTYCECADQQk2AgxBACECDAILIAEgBEYEQEEoIQIMAgsgA0EJNgIIIAMgATYCBEEnIQIMAQsgASAERgRAQQEhAgwBCwNAAkACQAJAIAEtAABBCmsOBAABAQABCyABQQFqIQEMAQsgAUEBaiEBIAMtAC5BIHENAEEAIQIgA0EANgIcIAMgATYCFCADQYwgNgIQIANBBTYCDAwCC0EBIQIgASAERw0ACwsgCUEQaiQAIAJFBEAgAygCDCEADAELIAMgAjYCHEEAIQAgAygCBCIBRQ0AIAMgASAEIAMoAggRAQAiAUUNACADIAQ2AhQgAyABNgIMIAEhAAsgAAu+AgECfyAAQQA6AAAgAEHcAGoiAUEBa0EAOgAAIABBADoAAiAAQQA6AAEgAUEDa0EAOgAAIAFBAmtBADoAACAAQQA6AAMgAUEEa0EAOgAAQQAgAGtBA3EiASAAaiIAQQA2AgBB3AAgAWtBfHEiAiAAaiIBQQRrQQA2AgACQCACQQlJDQAgAEEANgIIIABBADYCBCABQQhrQQA2AgAgAUEMa0EANgIAIAJBGUkNACAAQQA2AhggAEEANgIUIABBADYCECAAQQA2AgwgAUEQa0EANgIAIAFBFGtBADYCACABQRhrQQA2AgAgAUEca0EANgIAIAIgAEEEcUEYciICayIBQSBJDQAgACACaiEAA0AgAEIANwMYIABCADcDECAAQgA3AwggAEIANwMAIABBIGohACABQSBrIgFBH0sNAAsLC1YBAX8CQCAAKAIMDQACQAJAAkACQCAALQAxDgMBAAMCCyAAKAI4IgFFDQAgASgCLCIBRQ0AIAAgAREAACIBDQMLQQAPCwALIABB0Bg2AhBBDiEBCyABCxoAIAAoAgxFBEAgAEHJHjYCECAAQRU2AgwLCxQAIAAoAgxBFUYEQCAAQQA2AgwLCxQAIAAoAgxBFkYEQCAAQQA2AgwLCwcAIAAoAgwLBwAgACgCEAsJACAAIAE2AhALBwAgACgCFAsXACAAQSRPBEAACyAAQQJ0QZQ3aigCAAsXACAAQS9PBEAACyAAQQJ0QaQ4aigCAAu/CQEBf0HfLCEBAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAEHkAGsO9ANjYgABYWFhYWFhAgMEBWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWEGBwgJCgsMDQ4PYWFhYWEQYWFhYWFhYWFhYWERYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhEhMUFRYXGBkaG2FhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWEcHR4fICEiIyQlJicoKSorLC0uLzAxMjM0NTZhNzg5OmFhYWFhYWFhO2FhYTxhYWFhPT4/YWFhYWFhYWFAYWFBYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhQkNERUZHSElKS0xNTk9QUVJTYWFhYWFhYWFUVVZXWFlaW2FcXWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYV5hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFfYGELQdUrDwtBgyUPC0G/MA8LQfI1DwtBtCgPC0GfKA8LQYEsDwtB1ioPC0H0Mw8LQa0zDwtByygPC0HOIw8LQcAjDwtB2SMPC0HRJA8LQZwzDwtBojYPC0H8Mw8LQeArDwtB4SUPC0HtIA8LQcQyDwtBqScPC0G5Ng8LQbggDwtBqyAPC0GjJA8LQbYkDwtBgSMPC0HhMg8LQZ80DwtByCkPC0HAMg8LQe4yDwtB8C8PC0HGNA8LQdAhDwtBmiQPC0HrLw8LQYQ1DwtByzUPC0GWMQ8LQcgrDwtB1C8PC0GTMA8LQd81DwtBtCMPC0G+NQ8LQdIpDwtBsyIPC0HNIA8LQZs2DwtBkCEPC0H/IA8LQa01DwtBsDQPC0HxJA8LQacqDwtB3TAPC0GLIg8LQcgvDwtB6yoPC0H0KQ8LQY8lDwtB3SIPC0HsJg8LQf0wDwtB1iYPC0GUNQ8LQY0jDwtBuikPC0HHIg8LQfIlDwtBtjMPC0GiIQ8LQf8vDwtBwCEPC0GBMw8LQcklDwtBqDEPC0HGMw8LQdM2DwtBxjYPC0HkNA8LQYgmDwtB7ScPC0H4IQ8LQakwDwtBjzQPC0GGNg8LQaovDwtBoSYPC0HsNg8LQZIpDwtBryYPC0GZIg8LQeAhDwsAC0G1JSEBCyABCxcAIAAgAC8BLkH+/wNxIAFBAEdyOwEuCxoAIAAgAC8BLkH9/wNxIAFBAEdBAXRyOwEuCxoAIAAgAC8BLkH7/wNxIAFBAEdBAnRyOwEuCxoAIAAgAC8BLkH3/wNxIAFBAEdBA3RyOwEuCxoAIAAgAC8BLkHv/wNxIAFBAEdBBHRyOwEuCxoAIAAgAC8BLkHf/wNxIAFBAEdBBXRyOwEuCxoAIAAgAC8BLkG//wNxIAFBAEdBBnRyOwEuCxoAIAAgAC8BLkH//gNxIAFBAEdBB3RyOwEuCxoAIAAgAC8BLkH//QNxIAFBAEdBCHRyOwEuCxoAIAAgAC8BLkH/+wNxIAFBAEdBCXRyOwEuCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBzhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB5Ao2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB5R02AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBnRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBoh42AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7hQ2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9xs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRU2AhBBGCEECyAECzgAIAACfyAALwEyQRRxQRRGBEBBASAALQAoQQFGDQEaIAAvATRB5QBGDAELIAAtAClBBUYLOgAwC1kBAn8CQCAALQAoQQFGDQAgAC8BNCIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMiIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEyIgFBAnFFDQEMAgsgAC8BMiIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATQiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtzACAAQRBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAA/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQTBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQSBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQewBNgIcCwYAIAAQOQuaLQELfyMAQRBrIgokAEGY1AAoAgAiCUUEQEHY1wAoAgAiBUUEQEHk1wBCfzcCAEHc1wBCgICEgICAwAA3AgBB2NcAIApBCGpBcHFB2KrVqgVzIgU2AgBB7NcAQQA2AgBBvNcAQQA2AgALQcDXAEGA2AQ2AgBBkNQAQYDYBDYCAEGk1AAgBTYCAEGg1ABBfzYCAEHE1wBBgKgDNgIAA0AgAUG81ABqIAFBsNQAaiICNgIAIAIgAUGo1ABqIgM2AgAgAUG01ABqIAM2AgAgAUHE1ABqIAFBuNQAaiIDNgIAIAMgAjYCACABQczUAGogAUHA1ABqIgI2AgAgAiADNgIAIAFByNQAaiACNgIAIAFBIGoiAUGAAkcNAAtBjNgEQcGnAzYCAEGc1ABB6NcAKAIANgIAQYzUAEHApwM2AgBBmNQAQYjYBDYCAEHM/wdBODYCAEGI2AQhCQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAQewBTQRAQYDUACgCACIGQRAgAEETakFwcSAAQQtJGyIEQQN2IgB2IgFBA3EEQAJAIAFBAXEgAHJBAXMiAkEDdCIAQajUAGoiASAAQbDUAGooAgAiACgCCCIDRgRAQYDUACAGQX4gAndxNgIADAELIAEgAzYCCCADIAE2AgwLIABBCGohASAAIAJBA3QiAkEDcjYCBCAAIAJqIgAgACgCBEEBcjYCBAwRC0GI1AAoAgAiCCAETw0BIAEEQAJAQQIgAHQiAkEAIAJrciABIAB0cWgiAEEDdCICQajUAGoiASACQbDUAGooAgAiAigCCCIDRgRAQYDUACAGQX4gAHdxIgY2AgAMAQsgASADNgIIIAMgATYCDAsgAiAEQQNyNgIEIABBA3QiACAEayEFIAAgAmogBTYCACACIARqIgQgBUEBcjYCBCAIBEAgCEF4cUGo1ABqIQBBlNQAKAIAIQMCf0EBIAhBA3Z0IgEgBnFFBEBBgNQAIAEgBnI2AgAgAAwBCyAAKAIICyIBIAM2AgwgACADNgIIIAMgADYCDCADIAE2AggLIAJBCGohAUGU1AAgBDYCAEGI1AAgBTYCAAwRC0GE1AAoAgAiC0UNASALaEECdEGw1gBqKAIAIgAoAgRBeHEgBGshBSAAIQIDQAJAIAIoAhAiAUUEQCACQRRqKAIAIgFFDQELIAEoAgRBeHEgBGsiAyAFSSECIAMgBSACGyEFIAEgACACGyEAIAEhAgwBCwsgACgCGCEJIAAoAgwiAyAARwRAQZDUACgCABogAyAAKAIIIgE2AgggASADNgIMDBALIABBFGoiAigCACIBRQRAIAAoAhAiAUUNAyAAQRBqIQILA0AgAiEHIAEiA0EUaiICKAIAIgENACADQRBqIQIgAygCECIBDQALIAdBADYCAAwPC0F/IQQgAEG/f0sNACAAQRNqIgFBcHEhBEGE1AAoAgAiCEUNAEEAIARrIQUCQAJAAkACf0EAIARBgAJJDQAaQR8gBEH///8HSw0AGiAEQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qCyIGQQJ0QbDWAGooAgAiAkUEQEEAIQFBACEDDAELQQAhASAEQRkgBkEBdmtBACAGQR9HG3QhAEEAIQMDQAJAIAIoAgRBeHEgBGsiByAFTw0AIAIhAyAHIgUNAEEAIQUgAiEBDAMLIAEgAkEUaigCACIHIAcgAiAAQR12QQRxakEQaigCACICRhsgASAHGyEBIABBAXQhACACDQALCyABIANyRQRAQQAhA0ECIAZ0IgBBACAAa3IgCHEiAEUNAyAAaEECdEGw1gBqKAIAIQELIAFFDQELA0AgASgCBEF4cSAEayICIAVJIQAgAiAFIAAbIQUgASADIAAbIQMgASgCECIABH8gAAUgAUEUaigCAAsiAQ0ACwsgA0UNACAFQYjUACgCACAEa08NACADKAIYIQcgAyADKAIMIgBHBEBBkNQAKAIAGiAAIAMoAggiATYCCCABIAA2AgwMDgsgA0EUaiICKAIAIgFFBEAgAygCECIBRQ0DIANBEGohAgsDQCACIQYgASIAQRRqIgIoAgAiAQ0AIABBEGohAiAAKAIQIgENAAsgBkEANgIADA0LQYjUACgCACIDIARPBEBBlNQAKAIAIQECQCADIARrIgJBEE8EQCABIARqIgAgAkEBcjYCBCABIANqIAI2AgAgASAEQQNyNgIEDAELIAEgA0EDcjYCBCABIANqIgAgACgCBEEBcjYCBEEAIQBBACECC0GI1AAgAjYCAEGU1AAgADYCACABQQhqIQEMDwtBjNQAKAIAIgMgBEsEQCAEIAlqIgAgAyAEayIBQQFyNgIEQZjUACAANgIAQYzUACABNgIAIAkgBEEDcjYCBCAJQQhqIQEMDwtBACEBIAQCf0HY1wAoAgAEQEHg1wAoAgAMAQtB5NcAQn83AgBB3NcAQoCAhICAgMAANwIAQdjXACAKQQxqQXBxQdiq1aoFczYCAEHs1wBBADYCAEG81wBBADYCAEGAgAQLIgAgBEHHAGoiBWoiBkEAIABrIgdxIgJPBEBB8NcAQTA2AgAMDwsCQEG41wAoAgAiAUUNAEGw1wAoAgAiCCACaiEAIAAgAU0gACAIS3ENAEEAIQFB8NcAQTA2AgAMDwtBvNcALQAAQQRxDQQCQAJAIAkEQEHA1wAhAQNAIAEoAgAiACAJTQRAIAAgASgCBGogCUsNAwsgASgCCCIBDQALC0EAEDoiAEF/Rg0FIAIhBkHc1wAoAgAiAUEBayIDIABxBEAgAiAAayAAIANqQQAgAWtxaiEGCyAEIAZPDQUgBkH+////B0sNBUG41wAoAgAiAwRAQbDXACgCACIHIAZqIQEgASAHTQ0GIAEgA0sNBgsgBhA6IgEgAEcNAQwHCyAGIANrIAdxIgZB/v///wdLDQQgBhA6IQAgACABKAIAIAEoAgRqRg0DIAAhAQsCQCAGIARByABqTw0AIAFBf0YNAEHg1wAoAgAiACAFIAZrakEAIABrcSIAQf7///8HSwRAIAEhAAwHCyAAEDpBf0cEQCAAIAZqIQYgASEADAcLQQAgBmsQOhoMBAsgASIAQX9HDQUMAwtBACEDDAwLQQAhAAwKCyAAQX9HDQILQbzXAEG81wAoAgBBBHI2AgALIAJB/v///wdLDQEgAhA6IQBBABA6IQEgAEF/Rg0BIAFBf0YNASAAIAFPDQEgASAAayIGIARBOGpNDQELQbDXAEGw1wAoAgAgBmoiATYCAEG01wAoAgAgAUkEQEG01wAgATYCAAsCQAJAAkBBmNQAKAIAIgIEQEHA1wAhAQNAIAAgASgCACIDIAEoAgQiBWpGDQIgASgCCCIBDQALDAILQZDUACgCACIBQQBHIAAgAU9xRQRAQZDUACAANgIAC0EAIQFBxNcAIAY2AgBBwNcAIAA2AgBBoNQAQX82AgBBpNQAQdjXACgCADYCAEHM1wBBADYCAANAIAFBvNQAaiABQbDUAGoiAjYCACACIAFBqNQAaiIDNgIAIAFBtNQAaiADNgIAIAFBxNQAaiABQbjUAGoiAzYCACADIAI2AgAgAUHM1ABqIAFBwNQAaiICNgIAIAIgAzYCACABQcjUAGogAjYCACABQSBqIgFBgAJHDQALQXggAGtBD3EiASAAaiICIAZBOGsiAyABayIBQQFyNgIEQZzUAEHo1wAoAgA2AgBBjNQAIAE2AgBBmNQAIAI2AgAgACADakE4NgIEDAILIAAgAk0NACACIANJDQAgASgCDEEIcQ0AQXggAmtBD3EiACACaiIDQYzUACgCACAGaiIHIABrIgBBAXI2AgQgASAFIAZqNgIEQZzUAEHo1wAoAgA2AgBBjNQAIAA2AgBBmNQAIAM2AgAgAiAHakE4NgIEDAELIABBkNQAKAIASQRAQZDUACAANgIACyAAIAZqIQNBwNcAIQECQAJAAkADQCADIAEoAgBHBEAgASgCCCIBDQEMAgsLIAEtAAxBCHFFDQELQcDXACEBA0AgASgCACIDIAJNBEAgAyABKAIEaiIFIAJLDQMLIAEoAgghAQwACwALIAEgADYCACABIAEoAgQgBmo2AgQgAEF4IABrQQ9xaiIJIARBA3I2AgQgA0F4IANrQQ9xaiIGIAQgCWoiBGshASACIAZGBEBBmNQAIAQ2AgBBjNQAQYzUACgCACABaiIANgIAIAQgAEEBcjYCBAwIC0GU1AAoAgAgBkYEQEGU1AAgBDYCAEGI1ABBiNQAKAIAIAFqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwICyAGKAIEIgVBA3FBAUcNBiAFQXhxIQggBUH/AU0EQCAFQQN2IQMgBigCCCIAIAYoAgwiAkYEQEGA1ABBgNQAKAIAQX4gA3dxNgIADAcLIAIgADYCCCAAIAI2AgwMBgsgBigCGCEHIAYgBigCDCIARwRAIAAgBigCCCICNgIIIAIgADYCDAwFCyAGQRRqIgIoAgAiBUUEQCAGKAIQIgVFDQQgBkEQaiECCwNAIAIhAyAFIgBBFGoiAigCACIFDQAgAEEQaiECIAAoAhAiBQ0ACyADQQA2AgAMBAtBeCAAa0EPcSIBIABqIgcgBkE4ayIDIAFrIgFBAXI2AgQgACADakE4NgIEIAIgBUE3IAVrQQ9xakE/ayIDIAMgAkEQakkbIgNBIzYCBEGc1ABB6NcAKAIANgIAQYzUACABNgIAQZjUACAHNgIAIANBEGpByNcAKQIANwIAIANBwNcAKQIANwIIQcjXACADQQhqNgIAQcTXACAGNgIAQcDXACAANgIAQczXAEEANgIAIANBJGohAQNAIAFBBzYCACAFIAFBBGoiAUsNAAsgAiADRg0AIAMgAygCBEF+cTYCBCADIAMgAmsiBTYCACACIAVBAXI2AgQgBUH/AU0EQCAFQXhxQajUAGohAAJ/QYDUACgCACIBQQEgBUEDdnQiA3FFBEBBgNQAIAEgA3I2AgAgAAwBCyAAKAIICyIBIAI2AgwgACACNgIIIAIgADYCDCACIAE2AggMAQtBHyEBIAVB////B00EQCAFQSYgBUEIdmciAGt2QQFxIABBAXRrQT5qIQELIAIgATYCHCACQgA3AhAgAUECdEGw1gBqIQBBhNQAKAIAIgNBASABdCIGcUUEQCAAIAI2AgBBhNQAIAMgBnI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEDAkADQCADIgAoAgRBeHEgBUYNASABQR12IQMgAUEBdCEBIAAgA0EEcWpBEGoiBigCACIDDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLQYzUACgCACIBIARNDQBBmNQAKAIAIgAgBGoiAiABIARrIgFBAXI2AgRBjNQAIAE2AgBBmNQAIAI2AgAgACAEQQNyNgIEIABBCGohAQwIC0EAIQFB8NcAQTA2AgAMBwtBACEACyAHRQ0AAkAgBigCHCICQQJ0QbDWAGoiAygCACAGRgRAIAMgADYCACAADQFBhNQAQYTUACgCAEF+IAJ3cTYCAAwCCyAHQRBBFCAHKAIQIAZGG2ogADYCACAARQ0BCyAAIAc2AhggBigCECICBEAgACACNgIQIAIgADYCGAsgBkEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgCGohASAGIAhqIgYoAgQhBQsgBiAFQX5xNgIEIAEgBGogATYCACAEIAFBAXI2AgQgAUH/AU0EQCABQXhxQajUAGohAAJ/QYDUACgCACICQQEgAUEDdnQiAXFFBEBBgNQAIAEgAnI2AgAgAAwBCyAAKAIICyIBIAQ2AgwgACAENgIIIAQgADYCDCAEIAE2AggMAQtBHyEFIAFB////B00EQCABQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qIQULIAQgBTYCHCAEQgA3AhAgBUECdEGw1gBqIQBBhNQAKAIAIgJBASAFdCIDcUUEQCAAIAQ2AgBBhNQAIAIgA3I2AgAgBCAANgIYIAQgBDYCCCAEIAQ2AgwMAQsgAUEZIAVBAXZrQQAgBUEfRxt0IQUgACgCACEAAkADQCAAIgIoAgRBeHEgAUYNASAFQR12IQAgBUEBdCEFIAIgAEEEcWpBEGoiAygCACIADQALIAMgBDYCACAEIAI2AhggBCAENgIMIAQgBDYCCAwBCyACKAIIIgAgBDYCDCACIAQ2AgggBEEANgIYIAQgAjYCDCAEIAA2AggLIAlBCGohAQwCCwJAIAdFDQACQCADKAIcIgFBAnRBsNYAaiICKAIAIANGBEAgAiAANgIAIAANAUGE1AAgCEF+IAF3cSIINgIADAILIAdBEEEUIAcoAhAgA0YbaiAANgIAIABFDQELIAAgBzYCGCADKAIQIgEEQCAAIAE2AhAgASAANgIYCyADQRRqKAIAIgFFDQAgAEEUaiABNgIAIAEgADYCGAsCQCAFQQ9NBEAgAyAEIAVqIgBBA3I2AgQgACADaiIAIAAoAgRBAXI2AgQMAQsgAyAEaiICIAVBAXI2AgQgAyAEQQNyNgIEIAIgBWogBTYCACAFQf8BTQRAIAVBeHFBqNQAaiEAAn9BgNQAKAIAIgFBASAFQQN2dCIFcUUEQEGA1AAgASAFcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbDWAGohAEEBIAF0IgQgCHFFBEAgACACNgIAQYTUACAEIAhyNgIAIAIgADYCGCACIAI2AgggAiACNgIMDAELIAVBGSABQQF2a0EAIAFBH0cbdCEBIAAoAgAhBAJAA0AgBCIAKAIEQXhxIAVGDQEgAUEddiEEIAFBAXQhASAAIARBBHFqQRBqIgYoAgAiBA0ACyAGIAI2AgAgAiAANgIYIAIgAjYCDCACIAI2AggMAQsgACgCCCIBIAI2AgwgACACNgIIIAJBADYCGCACIAA2AgwgAiABNgIICyADQQhqIQEMAQsCQCAJRQ0AAkAgACgCHCIBQQJ0QbDWAGoiAigCACAARgRAIAIgAzYCACADDQFBhNQAIAtBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAARhtqIAM2AgAgA0UNAQsgAyAJNgIYIAAoAhAiAQRAIAMgATYCECABIAM2AhgLIABBFGooAgAiAUUNACADQRRqIAE2AgAgASADNgIYCwJAIAVBD00EQCAAIAQgBWoiAUEDcjYCBCAAIAFqIgEgASgCBEEBcjYCBAwBCyAAIARqIgcgBUEBcjYCBCAAIARBA3I2AgQgBSAHaiAFNgIAIAgEQCAIQXhxQajUAGohAUGU1AAoAgAhAwJ/QQEgCEEDdnQiAiAGcUUEQEGA1AAgAiAGcjYCACABDAELIAEoAggLIgIgAzYCDCABIAM2AgggAyABNgIMIAMgAjYCCAtBlNQAIAc2AgBBiNQAIAU2AgALIABBCGohAQsgCkEQaiQAIAELQwAgAEUEQD8AQRB0DwsCQCAAQf//A3ENACAAQQBIDQAgAEEQdkAAIgBBf0YEQEHw1wBBMDYCAEF/DwsgAEEQdA8LAAsL20AiAEGACAsJAQAAAAIAAAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4IxSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMARXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVycwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgAVHJhbnNmZXItRW5jb2RpbmcgY2FuJ3QgYmUgcHJlc2VudCB3aXRoIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgY2h1bmsgc2l6ZQBFeHBlY3RlZCBMRiBhZnRlciBjaHVuayBzaXplAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIENSIGFmdGVyIGhlYWRlciB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgY2h1bmsgZXh0ZW5zaW9uIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBxdW90ZWQtcGFpciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgcmVzcG9uc2UgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBNaXNzaW5nIGV4cGVjdGVkIENSIGFmdGVyIGNodW5rIGV4dGVuc2lvbiBuYW1lAEludmFsaWQgc3RhdHVzIGNvZGUAUGF1c2Ugb24gQ09OTkVDVC9VcGdyYWRlAFBhdXNlIG9uIFBSSS9VcGdyYWRlAEV4cGVjdGVkIEhUVFAvMiBDb25uZWN0aW9uIFByZWZhY2UAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9tZXRob2QARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgbWV0aG9kAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX2ZpZWxkAFBhdXNlZABJbnZhbGlkIHdvcmQgZW5jb3VudGVyZWQASW52YWxpZCBtZXRob2QgZW5jb3VudGVyZWQATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciBjaHVuayBkYXRhAEV4cGVjdGVkIExGIGFmdGVyIGNodW5rIGRhdGEAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzY2hlbWEAUmVxdWVzdCBoYXMgaW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgAERhdGEgYWZ0ZXIgYENvbm5lY3Rpb246IGNsb3NlYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAUVVFUlkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBFeHBlY3RlZCBMRiBhZnRlciBDUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAFIVAAAaFQAADxIAAOQZAACRFQAACRQAAC0ZAADkFAAA6REAAGkUAAChFAAAdhUAAEMWAABeEgAAlBcAABcWAAB9FAAAfxYAAEEXAACzEwAAwxYAAAQaAAC9GAAA0BgAAKATAADUGQAArxYAAGgWAABwFwAA2RYAAPwYAAD+EQAAWRcAAJcWAAAcFwAA9hYAAI0XAAALEgAAfxsAAC4RAACzEAAASRIAAK0SAAD2GAAAaBAAAGIVAAAQFQAAWhYAAEoZAAC1FQAAwRUAAGAVAABcGQAAWhkAAFMZAAAWFQAArREAAEIQAAC3EAAAVxgAAL8VAACJEAAAHBkAABoZAAC5FQAAURgAANwTAABbFQAAWRUAAOYYAABnFQAAERkAAO0YAADnEwAArhAAAMIXAAAAFAAAkhMAAIQTAABAEgAAJhkAAK8VAABiEABB6TkLAQEAQYA6C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAwEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQeo7CwQBAAACAEGBPAteAwQDAwMDAwAAAwMAAwMAAwMDAwMDAwMDAwAFAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAMAAwBB6j0LBAEAAAIAQYE+C14DAAMDAwMDAAADAwADAwADAwMDAwMDAwMDAAQABQAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAwADAEHgPwsNbG9zZWVlcC1hbGl2ZQBB+T8LAQEAQZDAAAvgAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5wQALAQEAQZDCAAvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBocQAC14BAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGAxgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBsMYACytyYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNClNNDQoNClRUUC9DRS9UU1AvAEHpxgALBQECAAEDAEGAxwALXwQFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFAEHpyAALBQECAAEDAEGAyQALXwQFBQYFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFAEHpygALBAEAAAEAQYHLAAteAgIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgBB6cwACwUBAgABAwBBgM0AC18EBQAABQUFBQUFBQUFBQUGBQUFBQUFBQUFBQUFAAUABwgFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUABQAFAAUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFAAAABQBB6c4ACwUBAQABAQBBgM8ACwEBAEGazwALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEHp0AALBQEBAAEBAEGA0QALAQEAQYrRAAsGAgAAAAACAEGh0QALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQeDSAAuaAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VVRVJZT1JESVJFQ1RPUlRSQ0hQQVJBTUVURVJVUkNFQlNDUklCRUFSRE9XTkFDRUlORE5LQ0tVQlNDUklCRUhUVFAvQURUUC8=";Object.defineProperty(a,"exports",{get:()=>d||(d=e.from(f,"base64"))})},35593:(a,b,c)=>{"use strict";c.d(b,{L:()=>g,i:()=>e});var d=c(61101);let e="APIError";class f extends Error{data;isOperational;isPublic;status;constructor(a,b,c,d){super(a,{cause:c}),e=this.constructor.name,this.name=this.constructor.name,this.message=a,this.status=b,this.data=c,this.isPublic=d,this.isOperational=!0,Error.captureStackTrace(this,this.constructor)}}class g extends f{constructor(a,b=d.h.INTERNAL_SERVER_ERROR,c=null,e=!1){super(a,b,c,e)}}},35811:(a,b,c)=>{"use strict";c.d(b,{Z:()=>h});var d=c(68656),e=c(51114),f=c(38200),g=c(64319);let h=async function({collection:a,joins:b,limit:c,locale:h,page:i=1,pagination:j,req:k,select:l,sort:m,where:o}){let p=this.payload.collections[a].config,q=this.tableNameMap.get(`_${f(p.slug)}${this.versionsSuffix}`),r=(0,d.c)(this.payload.config,p,!0),s=(0,e.m)({latest:{equals:!0}},o),t=await (0,g.n)({adapter:this,collectionSlug:a,fields:r,joins:b,limit:c,locale:h,page:i,pagination:j,req:k,select:l,sort:m,tableName:q,versions:!0,where:s});return{...t,docs:t.docs.map(a=>a={id:a.parent,...a.version})}}},35848:(a,b,c)=>{"use strict";c.d(b,{c:()=>x});var d=c(61101),e=c(25083),f=c(18099),g=c(51114),h=c(35593),i=c(18528),j=c(83518),k=c(20551),l=c(2431),m=c(91164),o=c(18650),p=c(57819),q=c(70366),r=c(33334),s=c(53216),t=c(32609),u=c(60500),v=c(49586),w=c(87641);let x=async a=>{let{id:b,collection:{config:c},depth:x,draft:y=!1,overrideAccess:z=!1,populate:A,req:B,req:{fallbackLocale:C,locale:D,payload:E},select:F,showHiddenFields:G}=a;try{let s=!a.disableTransaction&&await (0,r.n)(a.req);if(a.collection.config.hooks?.beforeOperation?.length)for(let b of a.collection.config.hooks.beforeOperation)a=await b({args:a,collection:a.collection.config,context:a.req.context,operation:"restoreVersion",req:a.req})||a;if(!b)throw new h.L("Missing ID of version to restore.",d.h.BAD_REQUEST);let{docs:H}=await B.payload.db.findVersions({collection:c.slug,limit:1,locale:D,pagination:!1,req:B,where:{id:{equals:b}}}),[I]=H;if(!I)throw new i.M(B.t);let{parent:J,version:K}=I,L=!!z||await (0,e.m)({id:J,req:B},c.access.update),M=(0,f.L)(L),N={collection:c.slug,locale:D,req:B,where:(0,g.m)({id:{equals:J}},L)},O=await B.payload.db.findOne(N);if(!O&&!M)throw new i.M(B.t);if(!O&&M)throw new j.c(B.t);if(c.trash&&O?.deletedAt)throw new h.L(`Cannot restore a version of a trashed document (ID: ${J}). Restore the document first.`,d.h.FORBIDDEN);let P=await (0,u.a)({id:J,config:c,payload:E,query:N,req:B}),Q=await (0,l.v)({collection:c,context:B.context,depth:0,doc:(0,q.Zt)(P),draft:y,fallbackLocale:null,global:null,locale:D,overrideAccess:!0,req:B,showHiddenFields:!0}),R=await (0,l.v)({collection:c,context:B.context,depth:0,doc:(0,q.Zt)(K),draft:y,fallbackLocale:null,global:null,locale:D,overrideAccess:!0,req:B,showHiddenFields:!0}),S=(0,q.Zt)(R);if(S=await (0,o.M)({id:J,collection:c,context:B.context,data:S,doc:Q,global:null,operation:"update",overrideAccess:z,req:B}),c.hooks?.beforeValidate?.length)for(let a of c.hooks.beforeValidate)S=await a({collection:c,context:B.context,data:S,operation:"update",originalDoc:Q,req:B})||S;if(c.hooks?.beforeChange?.length)for(let a of c.hooks.beforeChange)S=await a({collection:c,context:B.context,data:S,operation:"update",originalDoc:Q,req:B})||S;let T=await (0,m.o)({id:J,collection:c,context:B.context,data:{...S,id:J},doc:Q,docWithLocales:K,global:null,operation:"update",overrideAccess:z,req:B,skipValidation:y&&c.versions.drafts&&!c.versions.drafts.validate}),U=(0,t.Y)({fields:c.flattenedFields,forceSelect:c.forceSelect,select:F});if(T.updatedAt=new Date().toISOString(),T._status=y?"draft":T._status,T=await B.payload.db.updateOne({id:J,collection:c.slug,data:T,req:B,select:U}),T=await (0,v.U)({id:J,autosave:!1,collection:c,docWithLocales:T,draft:y,operation:"restoreVersion",payload:E,req:B,select:U}),T=await (0,l.v)({collection:c,context:B.context,depth:x,doc:T,draft:void 0,fallbackLocale:C,global:null,locale:D,overrideAccess:z,populate:A,req:B,select:U,showHiddenFields:G}),c.hooks?.afterRead?.length)for(let a of c.hooks.afterRead)T=await a({collection:c,context:B.context,doc:T,req:B})||T;if(T=await (0,k.t)({collection:c,context:B.context,data:T,doc:T,global:null,operation:"update",previousDoc:P,req:B}),c.hooks?.afterChange?.length)for(let a of c.hooks.afterChange)T=await a({collection:c,context:B.context,data:T,doc:T,operation:"update",previousDoc:P,req:B})||T;return T=await (0,w.E)({args:a,collection:c,operation:"restoreVersion",result:T}),s&&await (0,p.w)(B),T}catch(a){throw await (0,s.J)(B),a}}},35921:(a,b,c)=>{"use strict";c.d(b,{L6:()=>k});var d=c(88595),e=c(23699),f=c(71574);let g=async({jobStats:a,queueable:b,req:c})=>{let d={...a?.stats?.scheduledRuns?.queues?.[b.scheduleConfig.queue]||{}};b.taskConfig?(d.tasks??={})[b.taskConfig.slug]={lastScheduledRun:(0,f.AV)().toISOString()}:b.workflowConfig&&((d.workflows??={})[b.workflowConfig.slug]={lastScheduledRun:(0,f.AV)().toISOString()}),a?await c.payload.db.updateGlobal({slug:e.Z,data:{...a||{},stats:{...a?.stats||{},scheduledRuns:{...a?.stats?.scheduledRuns||{},queues:{...a?.stats?.scheduledRuns?.queues||{},[b.scheduleConfig.queue]:d}}},updatedAt:new Date().toISOString()},req:c,returning:!1}):await c.payload.db.createGlobal({slug:e.Z,data:{createdAt:(0,f.AV)().toISOString(),stats:{scheduledRuns:{queues:{[b.scheduleConfig.queue]:d}}}},req:c,returning:!1})};async function h({onlyScheduled:a=!1,queue:b,req:c,taskSlug:d,workflowSlug:e}){let f=[{queue:{equals:b}},{completedAt:{exists:!1}},{error:{exists:!1}}];return d?f.push({taskSlug:{equals:d}}):e&&f.push({workflowSlug:{equals:e}}),a&&f.push({"meta.scheduled":{equals:!0}}),(await c.payload.db.count({collection:"payload-jobs",req:c,where:{and:f}})).totalDocs}let i=async({queueable:a,req:b})=>({input:{},shouldSchedule:0===await h({onlyScheduled:!0,queue:a.scheduleConfig.queue,req:b,taskSlug:a.taskConfig?.slug,workflowSlug:a.workflowConfig?.slug}),waitUntil:a.waitUntil}),j=({jobsConfig:a})=>{let b=a.tasks?.filter(a=>a.schedule?.length)??[],c=a.workflows?.filter(a=>a.schedule?.length)??[],d={};for(let a of b)for(let b of a.schedule??[])(d[b.queue]??={schedules:[]}).schedules.push({scheduleConfig:b,taskConfig:a});for(let a of c)for(let b of a.schedule??[])(d[b.queue]??={schedules:[]}).schedules.push({scheduleConfig:b,workflowConfig:a});return d};async function k({allQueues:a=!1,queue:b,req:c}){let d=b??"default",f=j({jobsConfig:c.payload.config.jobs}),g=await c.payload.db.findGlobal({slug:e.Z,req:c}),h=[];for(let[b,{schedules:c}]of Object.entries(f))if(a||b===d)for(let a of c){let c=l({queue:b,scheduleConfig:a.scheduleConfig,stats:g,taskConfig:a.taskConfig,workflowConfig:a.workflowConfig});c&&h.push(c)}let i=[],k=[],o=[];for(let a of h){let{status:b}=await m({queueable:a,req:c,stats:g});switch(b){case"error":o.push(a);break;case"skipped":k.push(a);break;case"success":i.push(a)}}return{errored:o,queued:i,skipped:k}}function l({queue:a,scheduleConfig:b,stats:c,taskConfig:e,workflowConfig:f}){let g=c?.stats?.scheduledRuns?.queues?.[a],h=e?g?.tasks?.[e.slug]?.lastScheduledRun:g?.workflows?.[f?.slug??""]?.lastScheduledRun,i=new d.l4(b.cron).nextRun(h??void 0);return!!i&&{scheduleConfig:b,taskConfig:e,waitUntil:i,workflowConfig:f}}async function m({queueable:a,req:b,stats:c}){if(!a.taskConfig&&!a.workflowConfig)return{status:"error"};let d=a.scheduleConfig.hooks?.beforeSchedule,e=a.scheduleConfig.hooks?.afterSchedule;try{let f=await (d??i)({defaultBeforeSchedule:d?i:null,jobStats:c,queueable:a,req:b});if(!f.shouldSchedule)return await (e??g)({defaultAfterSchedule:e?g:null,jobStats:c,queueable:a,req:b,status:"skipped"}),{status:"skipped"};let h=await b.payload.jobs.queue({input:f.input??{},meta:{scheduled:!0},queue:a.scheduleConfig.queue,req:b,task:a?.taskConfig?.slug,waitUntil:f.waitUntil,workflow:a.workflowConfig?.slug});return await (e??g)({defaultAfterSchedule:e?g:null,job:h,jobStats:c,queueable:a,req:b,status:"success"}),{status:"success"}}catch(d){return await (e??g)({defaultAfterSchedule:e?g:null,error:d,jobStats:c,queueable:a,req:b,status:"error"}),{status:"error"}}}},35953:(a,b,c)=>{"use strict";var d=c(8791),e=c(30673),f=c(44843);a.exports=d?function(a){return d(a)}:e?function(a){if(!a||"object"!=typeof a&&"function"!=typeof a)throw TypeError("getProto: not an object");return e(a)}:f?function(a){return f(a)}:null},36004:(a,b,c)=>{"use strict";c.d(b,{s:()=>M});let d="endpoints";function e(a){return"object"!=typeof a||null==a?a:"ref"in a?`$${e(a.ref)}`:"fn"in a?`${a.fn}(${(a.argv||[]).map(e).join(", ")})`:JSON.stringify(a,null,2)}var f=c(838),g=c(65352);let h=(a,b)=>a===b,i=a=>{let b=a.split("."),c=[];for(let d of b){let b=d.indexOf("[");if(-1!==b){if(d.indexOf("]")!==d.length-1)throw new f.c(`Path: '${a}' does not end with ']'`);let e=d.slice(b+1,-1);if(Number.isNaN(parseInt(e)))throw new f.c(`Invalid array index: '${e}' in path: '${a}'`);0!==b&&c.push(d.slice(0,b)),c.push(e)}else c.push(d)}return c},j=(a,b)=>i(b).reduce((c,d)=>{if("object"!=typeof c)throw new f.c(`Index '${d}' in '${b}' not found in '${JSON.stringify(a)}'`);return Array.isArray(c)?c[parseInt(d)]:c[d]},a),k=a=>null!=a;var l=c(81795);let m=a=>!a;var o=c(80982),p=c(41426);let q={[o.U.HTTP]:80,[o.U.HTTPS]:443},r=a=>{let b=(()=>{try{if(a instanceof URL)return a;if("object"==typeof a&&"hostname"in a){let{hostname:b,port:c,protocol:d="",path:e="",query:f={}}=a,g=new URL(`${d}//${b}${c?`:${c}`:""}${e}`);return g.search=Object.entries(f).map(([a,b])=>`${a}=${b}`).join("&"),g}return new URL(a)}catch(a){return null}})();if(!b)return console.error(`Unable to parse ${JSON.stringify(a)} as a whatwg URL.`),null;let c=b.href,{host:d,hostname:e,pathname:f,protocol:g,search:h}=b;if(h)return null;let i=g.slice(0,-1);if(!Object.values(o.U).includes(i))return null;let j=(0,p.o)(e),k=c.includes(`${d}:${q[i]}`)||"string"==typeof a&&a.includes(`${d}:${q[i]}`),l=`${d}${k?`:${q[i]}`:""}`;return{scheme:i,authority:l,path:f,normalizedPath:f.endsWith("/")?f:`${f}/`,isIp:j}},s=(a,b)=>a===b,t=(a,b,c,d)=>b>=c||a.length<c?null:d?a.substring(a.length-c,a.length-b):a.substring(b,c),u=a=>encodeURIComponent(a).replace(/[!*'()]/g,a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`),v={booleanEquals:h,getAttr:j,isSet:k,isValidHostLabel:l.X,not:m,parseURL:r,stringEquals:s,substring:t,uriEncode:u},w=(a,b)=>{let c=[],d={...b.endpointParams,...b.referenceRecord},e=0;for(;e<a.length;){let b=a.indexOf("{",e);if(-1===b){c.push(a.slice(e));break}c.push(a.slice(e,b));let f=a.indexOf("}",b);if(-1===f){c.push(a.slice(b));break}"{"===a[b+1]&&"}"===a[f+1]&&(c.push(a.slice(b+1,f)),e=f+2);let g=a.substring(b+1,f);if(g.includes("#")){let[a,b]=g.split("#");c.push(j(d[a],b))}else c.push(d[g]);e=f+1}return c.join("")},x=({ref:a},b)=>({...b.endpointParams,...b.referenceRecord})[a],y=(a,b,c)=>{if("string"==typeof a)return w(a,c);if(a.fn)return A.callFunction(a,c);if(a.ref)return x(a,c);throw new f.c(`'${b}': ${String(a)} is not a string, function or reference.`)},z=({fn:a,argv:b},c)=>{let d=b.map(a=>["boolean","number"].includes(typeof a)?a:A.evaluateExpression(a,"arg",c)),e=a.split(".");return e[0]in g.m&&null!=e[1]?g.m[e[0]][e[1]](...d):v[a](...d)},A={evaluateExpression:y,callFunction:z},B=({assign:a,...b},c)=>{if(a&&a in c.referenceRecord)throw new f.c(`'${a}' is already defined in Reference Record.`);let g=z(b,c);return c.logger?.debug?.(`${d} evaluateCondition: ${e(b)} = ${e(g)}`),{result:""===g||!!g,...null!=a&&{toAssign:{name:a,value:g}}}},C=(a=[],b)=>{let c={};for(let f of a){let{result:a,toAssign:g}=B(f,{...b,referenceRecord:{...b.referenceRecord,...c}});if(!a)return{result:a};g&&(c[g.name]=g.value,b.logger?.debug?.(`${d} assign: ${g.name} := ${e(g.value)}`))}return{result:!0,referenceRecord:c}},D=(a,b)=>Object.entries(a).reduce((a,[c,d])=>({...a,[c]:d.map(a=>{let d=y(a,"Header value entry",b);if("string"!=typeof d)throw new f.c(`Header '${c}' value '${d}' is not a string`);return d})}),{}),E=(a,b)=>Object.entries(a).reduce((a,[c,d])=>({...a,[c]:G.getEndpointProperty(d,b)}),{}),F=(a,b)=>{if(Array.isArray(a))return a.map(a=>F(a,b));switch(typeof a){case"string":return w(a,b);case"object":if(null===a)throw new f.c(`Unexpected endpoint property: ${a}`);return G.getEndpointProperties(a,b);case"boolean":return a;default:throw new f.c(`Unexpected endpoint property type: ${typeof a}`)}},G={getEndpointProperty:F,getEndpointProperties:E},H=(a,b)=>{let c=y(a,"Endpoint URL",b);if("string"==typeof c)try{return new URL(c)}catch(a){throw console.error(`Failed to construct URL with ${c}`,a),a}throw new f.c(`Endpoint URL must be a string, got ${typeof c}`)},I=(a,b)=>{let{conditions:c,endpoint:f}=a,{result:g,referenceRecord:h}=C(c,b);if(!g)return;let i={...b,referenceRecord:{...b.referenceRecord,...h}},{url:j,properties:k,headers:l}=f;return b.logger?.debug?.(`${d} Resolving endpoint from template: ${e(f)}`),{...void 0!=l&&{headers:D(l,i)},...void 0!=k&&{properties:E(k,i)},url:H(j,i)}},J=(a,b)=>{let{conditions:c,error:d}=a,{result:e,referenceRecord:g}=C(c,b);if(e)throw new f.c(y(d,"Error",{...b,referenceRecord:{...b.referenceRecord,...g}}))},K=(a,b)=>{for(let c of a)if("endpoint"===c.type){let a=I(c,b);if(a)return a}else if("error"===c.type)J(c,b);else if("tree"===c.type){let a=L.evaluateTreeRule(c,b);if(a)return a}else throw new f.c(`Unknown endpoint rule: ${c}`);throw new f.c("Rules evaluation failed")},L={evaluateRules:K,evaluateTreeRule:(a,b)=>{let{conditions:c,rules:d}=a,{result:e,referenceRecord:f}=C(c,b);if(e)return L.evaluateRules(d,{...b,referenceRecord:{...b.referenceRecord,...f}})}},M=(a,b)=>{let{endpointParams:c,logger:g}=b,{parameters:h,rules:i}=a;b.logger?.debug?.(`${d} Initial EndpointParams: ${e(c)}`);let j=Object.entries(h).filter(([,a])=>null!=a.default).map(([a,b])=>[a,b.default]);if(j.length>0)for(let[a,b]of j)c[a]=c[a]??b;for(let a of Object.entries(h).filter(([,a])=>a.required).map(([a])=>a))if(null==c[a])throw new f.c(`Missing required parameter: '${a}'`);let k=K(i,{endpointParams:c,logger:g,referenceRecord:{}});return b.logger?.debug?.(`${d} Resolved endpoint: ${e(k)}`),k}},36137:(a,b,c)=>{"use strict";c.d(b,{Bz:()=>f,Ch:()=>d,KG:()=>e});let d="AWS_PROFILE",e="default",f=a=>a.profile||process.env[d]||e},36652:(a,b,c)=>{"use strict";var d,e=c(63254),f=c(16152);let g=(a,b=!1)=>{if(b){for(let b of a.split("."))if(!g(b))return!1;return!0}return!(!e.isValidHostLabel(a)||a.length<3||a.length>63||a!==a.toLowerCase()||e.isIpAddress(a))},h=":",i="/";var j={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"};let k=j,l="",m=a=>{let{partitions:b}=k;for(let c of b){let{regions:b,outputs:d}=c;for(let[c,e]of Object.entries(b))if(c===a)return{...d,...e}}for(let c of b){let{regionRegex:b,outputs:d}=c;if(new RegExp(b).test(a))return{...d}}let c=b.find(a=>"aws"===a.id);if(!c)throw Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...c.outputs}},o=(a,b="")=>{k=a,l=b},p=()=>{o(j,"")},q=()=>l,r={isVirtualHostableS3Bucket:g,parseArn:a=>{let b=a.split(h);if(b.length<6)return null;let[c,d,e,f,g,...j]=b;return"arn"!==c||""===d||""===e||""===j.join(h)?null:{partition:d,service:e,region:f,accountId:g,resourceId:j.map(a=>a.split(i)).flat()}},partition:m};e.customEndpointFunctions.aws=r;let s=a=>{if("function"!=typeof a.endpointProvider)throw Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:b}=a;return void 0===b&&(a.endpoint=async()=>t(a.endpointProvider({Region:"function"==typeof a.region?await a.region():a.region,UseDualStack:"function"==typeof a.useDualstackEndpoint?await a.useDualstackEndpoint():a.useDualstackEndpoint,UseFIPS:"function"==typeof a.useFipsEndpoint?await a.useFipsEndpoint():a.useFipsEndpoint,Endpoint:void 0},{logger:a.logger}))),a},t=a=>f.parseUrl(a.url);d={enumerable:!0,get:function(){return e.EndpointError}},d={enumerable:!0,get:function(){return e.isIpAddress}},d={enumerable:!0,get:function(){return e.resolveEndpoint}},b.UF=r,d=q,d=m,d=s,d=o,d=t,d=p},36659:(a,b,c)=>{"use strict";c.d(b,{A:()=>l});var d=c(77598),e=c.n(d);let f={randomUUID:e().randomUUID},g=new Uint8Array(256),h=g.length;function i(){return h>g.length-16&&(e().randomFillSync(g),h=0),g.slice(h,h+=16)}let j=[];for(let a=0;a<256;++a)j.push((a+256).toString(16).slice(1));function k(a,b=0){return(j[a[b+0]]+j[a[b+1]]+j[a[b+2]]+j[a[b+3]]+"-"+j[a[b+4]]+j[a[b+5]]+"-"+j[a[b+6]]+j[a[b+7]]+"-"+j[a[b+8]]+j[a[b+9]]+"-"+j[a[b+10]]+j[a[b+11]]+j[a[b+12]]+j[a[b+13]]+j[a[b+14]]+j[a[b+15]]).toLowerCase()}let l=function(a,b,c){if(f.randomUUID&&!b&&!a)return f.randomUUID();let d=(a=a||{}).random||(a.rng||i)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,b){c=c||0;for(let a=0;a<16;++a)b[c+a]=d[a];return b}return k(d)}},36738:(a,b,c)=>{"use strict";c.d(b,{B:()=>d});let d=(a,b,c)=>{let d,e,f,g=!1,h=async()=>{e||(e=a());try{d=await e,f=!0,g=!1}finally{e=void 0}return d};return void 0===b?async a=>((!f||a?.forceRefresh)&&(d=await h()),d):async a=>((!f||a?.forceRefresh)&&(d=await h()),g||(c&&!c(d)?g=!0:b(d)&&await h()),d)}},36836:(a,b,c)=>{"use strict";c.d(b,{A:()=>g,O:()=>f});var d=c(11372),e=c(96879);let f=a=>(a.sigv4aSigningRegionSet=(0,d.t)(a.sigv4aSigningRegionSet),a),g={environmentVariableSelector(a){if(a.AWS_SIGV4A_SIGNING_REGION_SET)return a.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(a=>a.trim());throw new e.m("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(a){if(a.sigv4a_signing_region_set)return(a.sigv4a_signing_region_set??"").split(",").map(a=>a.trim());throw new e.m("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}},36866:(a,b,c)=>{"use strict";c.r(b),c.d(b,{FetchHttpHandler:()=>i,keepAliveSupport:()=>h,streamCollector:()=>j.k});var d=c(42887),e=c(14822);function f(a,b){return new Request(a,b)}function g(a=0){return new Promise((b,c)=>{a&&setTimeout(()=>{let b=Error(`Request did not complete within ${a} ms`);b.name="TimeoutError",c(b)},a)})}let h={supported:void 0};class i{config;configProvider;static create(a){return"function"==typeof a?.handle?a:new i(a)}constructor(a){"function"==typeof a?this.configProvider=a().then(a=>a||{}):(this.config=a??{},this.configProvider=Promise.resolve(this.config)),void 0===h.supported&&(h.supported=!!("undefined"!=typeof Request&&"keepalive"in f("https://[::1]")))}destroy(){}async handle(a,{abortSignal:b,requestTimeout:c}={}){this.config||(this.config=await this.configProvider);let i=c??this.config.requestTimeout,j=!0===this.config.keepAlive,k=this.config.credentials;if(b?.aborted){let a=Error("Request aborted");return a.name="AbortError",Promise.reject(a)}let l=a.path,m=(0,e.buildQueryString)(a.query||{});m&&(l+=`?${m}`),a.fragment&&(l+=`#${a.fragment}`);let o="";if(null!=a.username||null!=a.password){let b=a.username??"",c=a.password??"";o=`${b}:${c}@`}let{port:p,method:q}=a,r=`${a.protocol}//${o}${a.hostname}${p?`:${p}`:""}${l}`,s="GET"===q||"HEAD"===q?void 0:a.body,t={body:s,headers:new Headers(a.headers),method:q,credentials:k};this.config?.cache&&(t.cache=this.config.cache),s&&(t.duplex="half"),"undefined"!=typeof AbortController&&(t.signal=b),h.supported&&(t.keepalive=j),"function"==typeof this.config.requestInit&&Object.assign(t,this.config.requestInit(a));let u=()=>{},v=[fetch(f(r,t)).then(a=>{let b=a.headers,c={};for(let a of b.entries())c[a[0]]=a[1];return void 0==a.body?a.blob().then(b=>({response:new d.c({headers:c,reason:a.statusText,statusCode:a.status,body:b})})):{response:new d.c({headers:c,reason:a.statusText,statusCode:a.status,body:a.body})}}),g(i)];return b&&v.push(new Promise((a,c)=>{let d=()=>{let a=Error("Request aborted");a.name="AbortError",c(a)};if("function"==typeof b.addEventListener){let a=b;a.addEventListener("abort",d,{once:!0}),u=()=>a.removeEventListener("abort",d)}else b.onabort=d})),Promise.race(v).finally(u)}updateHttpClientConfig(a,b){this.config=void 0,this.configProvider=this.configProvider.then(c=>(c[a]=b,c))}httpHandlerConfigs(){return this.config??{}}}var j=c(99083)},36995:(a,b,c)=>{"use strict";c.d(b,{G:()=>e});var d=c(2173);class e{constructor(a){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=a?.fileInfo??{},this.onClose=a?.onClose}async readToken(a,b=this.position){let c=new Uint8Array(a.len);if(await this.readBuffer(c,{position:b})<a.len)throw new d.d1;return a.get(c,0)}async peekToken(a,b=this.position){let c=new Uint8Array(a.len);if(await this.peekBuffer(c,{position:b})<a.len)throw new d.d1;return a.get(c,0)}async readNumber(a){if(await this.readBuffer(this.numBuffer,{length:a.len})<a.len)throw new d.d1;return a.get(this.numBuffer,0)}async peekNumber(a){if(await this.peekBuffer(this.numBuffer,{length:a.len})<a.len)throw new d.d1;return a.get(this.numBuffer,0)}async ignore(a){if(void 0!==this.fileInfo.size){let b=this.fileInfo.size-this.position;if(a>b)return this.position+=b,b}return this.position+=a,a}async close(){await this.onClose?.()}normalizeOptions(a,b){if(b&&void 0!==b.position&&b.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");return b?{mayBeLess:!0===b.mayBeLess,offset:b.offset?b.offset:0,length:b.length?b.length:a.length-(b.offset?b.offset:0),position:b.position?b.position:this.position}:{mayBeLess:!1,offset:0,length:a.length,position:this.position}}}},37197:(a,b,c)=>{"use strict";function d(a,b,c){a.__aws_sdk_context?a.__aws_sdk_context.features||(a.__aws_sdk_context.features={}):a.__aws_sdk_context={features:{}},a.__aws_sdk_context.features[b]=c}c.d(b,{J:()=>d})},37389:(a,b,c)=>{"use strict";var d=c(46080),e=/[\/\?<>\\:\*\|"]/g,f=/[\x00-\x1f\x80-\x9f]/g,g=/^\.+$/,h=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,i=/[\. ]+$/;function j(a,b){if("string"!=typeof a)throw Error("Input must be string");return d(a.replace(e,b).replace(f,b).replace(g,b).replace(h,b).replace(i,b),255)}a.exports=function(a,b){var c=b&&b.replacement||"",d=j(a,c);return""===c?d:j(d,"")}},37392:(a,b,c)=>{"use strict";var d;d={value:!0},Object.defineProperty(b,"M",{enumerable:!0,get:function(){return h}});let e=c(29294),f=c(63033),g=c(63690);function h(){let a="unstable_noStore()",b=e.workAsyncStorage.getStore(),c=f.workUnitAsyncStorage.getStore();if(b){if(!b.forceStatic){if(b.isUnstableNoStore=!0,c)switch(c.type){case"prerender":case"prerender-client":case"prerender-runtime":return}(0,g.markCurrentScopeAsDynamic)(b,c,a)}}}},37423:(a,b,c)=>{"use strict";var d,e=c(21820),f=c(19771),g=c(20027);let h={isCrtAvailable:!1},i=()=>h.isCrtAvailable?["md/crt-avail"]:null,j=({serviceId:a,clientVersion:b})=>async c=>{let d=[["aws-sdk-js",b],["ua","2.1"],[`os/${e.platform()}`,e.release()],["lang/js"],["md/nodejs",`${f.versions.node}`]],g=i();g&&d.push(g),a&&d.push([`api/${a}`,b]),f.env.AWS_EXECUTION_ENV&&d.push([`exec-env/${f.env.AWS_EXECUTION_ENV}`]);let h=await c?.userAgentAppId?.();return h?[...d,[`app/${h}`]]:[...d]},k=j,l="AWS_SDK_UA_APP_ID",m="sdk_ua_app_id",o="sdk-ua-app-id";b.hV={environmentVariableSelector:a=>a[l],configFileSelector:a=>a[m]??a[o],default:g.DEFAULT_UA_APP_ID},d=l,d=m,b.pf=j,d=h,d=k},37492:(a,b,c)=>{"use strict";c.d(b,{p:()=>o});let d=a=>{let b={};return Object.entries(a).forEach(([c,d])=>{if(c.startsWith("_blocks_")&&Array.isArray(d)){let e=c.replace("_blocks_",""),f=e.split("_");2===f.length&&Number.isInteger(Number(f[1]))&&(e=f[0]),d.forEach(a=>{"_path"in a&&(a._path in b||(b[a._path]=[]),a.blockType=e,b[a._path].push(a),delete a._path)}),delete a[c]}}),Object.entries(b).reduce((a,[b,c])=>(a[b]=c.sort((a,b)=>"number"==typeof a._order&&"number"==typeof b._order?a._order-b._order:0),a),{}),b},e=a=>{let b={};return Array.isArray(a)&&(b=a.reduce((a,b)=>{let c={...b};return delete c.path,a[b.path]||(a[b.path]=[]),a[b.path].push(b),a},{})),b};var f=c(27661),g=c(38200),h=c(73368),i=c(77457);let j=({field:a,locale:b,numberRows:c,ref:d,withinArrayOrBlockLocale:e})=>{let f;f=e?c.reduce((a,{locale:b,number:c})=>(b===e&&("string"==typeof c&&(c=Number(c)),a.push(c)),a),[]):c.map(({number:a})=>("string"==typeof a&&(a=Number(a)),a)),b?d[a.name][b]=f:d[a.name]=f},k=({field:a,locale:b,ref:c,textRows:d,withinArrayOrBlockLocale:e})=>{let f;f=e?d.reduce((a,{locale:b,text:c})=>(b===e&&a.push(c),a),[]):d.map(({text:a})=>a),b?c[a.name][b]=f:c[a.name]=f},l=({field:a,locale:b,ref:c,relations:d,withinArrayOrBlockLocale:e})=>{let f;if("hasMany"in a&&!1!==a.hasMany){let b=[];d.forEach(c=>{let d=!0;if(e&&(d=c.locale===e),Array.isArray(a.relationTo)){let a=Object.entries(c).find(([a,b])=>null!==b&&!["id","locale","order","parent","path"].includes(a)&&d);if(a){let c=a[0].replace("ID","");b.push({relationTo:c,value:a[1]})}}else{let e=c[`${a.relationTo}ID`];e&&d&&b.push(e)}}),f=b}else{let b=d[0];if(e&&(b=d.find(a=>a.locale===e)),b&&Array.isArray(a.relationTo)){let a=Object.entries(b).find(([a,b])=>null!==b&&!["id","locale","order","parent","path"].includes(a));a&&(f={relationTo:a[0].replace("ID",""),value:a[1]})}}b?c[a.name][b]=f:c[a.name]=f},m=({adapter:a,blocks:b,config:c,currentTableName:d,dataRef:e,deletions:o,fieldPrefix:p,fields:q,joinQuery:r,numbers:s,parentIsLocalized:t,path:u,relationships:v,table:w,tablePath:x,texts:y,topLevelTableName:z,withinArrayOrBlockLocale:A})=>{let B=u?`${u}.`:u,C=a.payload.config.localization&&a.payload.config.localization.localeCodes,D=q.reduce((e,q)=>{if((0,f.IC)(q))return e;let u=`${p||""}${q.name}`,D=w[u],E={},F=[];p&&o.push(()=>delete w[u]);let G=(0,f.Cd)({field:q,parentIsLocalized:t});if("array"===q.type){let f=a.tableNameMap.get(`${d}_${x}${g(q.name)}`);return Array.isArray(D=w[(0,h.F)({field:q,path:u,tableName:f})])&&(G?e[q.name]=D.reduce((d,e)=>{if("string"==typeof e._locale){d[e._locale]||(d[e._locale]=[]);let g=e._locale,h={};delete e._locale,e._uuid&&(e.id=e._uuid,delete e._uuid);let i=m({adapter:a,blocks:b,config:c,currentTableName:f,dataRef:h,deletions:o,fieldPrefix:"",fields:q.flattenedFields,numbers:s,parentIsLocalized:t||q.localized,path:`${B}${q.name}.${e._order-1}`,relationships:v,table:e,tablePath:"",texts:y,topLevelTableName:z,withinArrayOrBlockLocale:g});"_order"in i&&delete i._order,d[g].push(i)}return d},{}):e[q.name]=D.reduce((d,e,g)=>(e._uuid&&(e.id=e._uuid,delete e._uuid),"_order"in e&&delete e._order,(!A||A&&A===e._locale)&&(e._locale&&delete e._locale,d.push(m({adapter:a,blocks:b,config:c,currentTableName:f,dataRef:e,deletions:o,fieldPrefix:"",fields:q.flattenedFields,numbers:s,parentIsLocalized:t||q.localized,path:`${B}${q.name}.${g}`,relationships:v,table:e,tablePath:"",texts:y,topLevelTableName:z,withinArrayOrBlockLocale:A}))),d),[])),e}if("blocks"===q.type&&!a.blocksAsJSON){let d=`${B}${q.name}`,f=b[d];if(Array.isArray(f))if(G)e[q.name]={},f.forEach(a=>{a._uuid&&(a.id=a._uuid,delete a._uuid),"string"==typeof a._locale&&(e[q.name][a._locale]||(e[q.name][a._locale]=[]),e[q.name][a._locale].push(a),delete a._locale)}),Object.entries(e[q.name]).forEach(([f,h])=>{e[q.name][f]=h.map(e=>{let h=a.payload.blocks[e.blockType]??(q.blockReferences??q.blocks).find(a=>"string"!=typeof a&&a.slug===e.blockType),j=(0,i.hR)(h,a.tableNameMap.get(`${z}_blocks_${g(h.slug)}`));if(h){let g=m({adapter:a,blocks:b,config:c,currentTableName:j,dataRef:e,deletions:o,fieldPrefix:"",fields:h.flattenedFields,numbers:s,parentIsLocalized:t||q.localized,path:`${d}.${e._order-1}`,relationships:v,table:e,tablePath:"",texts:y,topLevelTableName:z,withinArrayOrBlockLocale:f});return delete g._order,g}return{}})});else{if(A&&c.localization)for(let a of c.localization.localeCodes){let b=0;for(let c=0;c<f.length;c++){let d=f[c];d._locale===a&&(d._index=b,b++)}}e[q.name]=f.reduce((e,f,h)=>{if(delete f._order,f._uuid&&(f.id=f._uuid,delete f._uuid),"string"!=typeof f.blockType)return e;let j=a.payload.blocks[f.blockType]??(q.blockReferences??q.blocks).find(a=>"string"!=typeof a&&a.slug===f.blockType);if(j){if(!A||A&&A===f._locale){f._locale&&delete f._locale,"number"==typeof f._index&&(h=f._index,delete f._index);let k=(0,i.hR)(j,a.tableNameMap.get(`${z}_blocks_${g(j.slug)}`));e.push(m({adapter:a,blocks:b,config:c,currentTableName:k,dataRef:f,deletions:o,fieldPrefix:"",fields:j.flattenedFields,numbers:s,parentIsLocalized:t||q.localized,path:`${d}.${h}`,relationships:v,table:f,tablePath:"",texts:y,topLevelTableName:z,withinArrayOrBlockLocale:A}))}}else e.push({});return e},[])}return e}if(("relationship"===q.type||"upload"===q.type)&&(Array.isArray(q.relationTo)||q.hasMany)){let a=v[`${B}${q.name}`];if(!a)return"hasMany"in q&&q.hasMany&&(G&&c.localization&&c.localization.locales?e[q.name]={[c.localization.defaultLocale]:[]}:e[q.name]=[]),e;if(G){e[q.name]={};let b={};a.forEach(a=>{"string"==typeof a.locale&&(b[a.locale]||(b[a.locale]=[]),b[a.locale].push(a))}),Object.entries(b).forEach(([a,b])=>{l({field:q,locale:a,ref:e,relations:b})})}else l({field:q,ref:e,relations:a,withinArrayOrBlockLocale:A});return e}if("join"===q.type){let b,{count:c,limit:d=q.defaultLimit??10}=r?.[`${p.replaceAll("_",".")}${q.name}`]||{};if("string"==typeof D&&(D=JSON.parse(D)),Array.isArray(D))if(G&&a.payload.config.localization)Object.keys(b=D.reduce((a,b)=>("string"==typeof b.locale&&a[b.locale].docs.push(b.id),a),a.payload.config.localization.localeCodes.reduce((a,b)=>(a[b]={docs:[],hasNextPage:!1},a),{}))).forEach(a=>{b[a].hasNextPage=b[a].docs.length>d,b[a].docs=b[a].docs.slice(0,d)});else{let a=0!==d&&D.length>d;b={docs:(a?D.slice(0,d):D).map(({id:a,relationTo:b})=>b?{relationTo:b,value:a}:{id:a}),hasNextPage:a}}if(c){let a=`${u}_count`;if(void 0!==w[a]){let c=Number(w[a]);Number.isNaN(c)&&(c=0),b.totalDocs=c}}return e[q.name]=b,e}if("text"===q.type&&q?.hasMany){let a=y[`${B}${q.name}`];if(!a)return e[q.name]=G&&C?Object.fromEntries(C.map(a=>[a,[]])):[],e;if(G){e[q.name]={};let b={};a.forEach(a=>{"string"==typeof a.locale&&(b[a.locale]||(b[a.locale]=[]),b[a.locale].push(a))}),Object.entries(b).forEach(([a,b])=>{k({field:q,locale:a,ref:e,textRows:b})})}else k({field:q,ref:e,textRows:a,withinArrayOrBlockLocale:A});return e}if("number"===q.type&&q.hasMany){let a=s[`${B}${q.name}`];if(!a)return e[q.name]=G&&C?Object.fromEntries(C.map(a=>[a,[]])):[],e;if(G){e[q.name]={};let b={};a.forEach(a=>{"string"==typeof a.locale&&(b[a.locale]||(b[a.locale]=[]),b[a.locale].push(a))}),Object.entries(b).forEach(([a,b])=>{j({field:q,locale:a,numberRows:b,ref:e})})}else j({field:q,numberRows:a,ref:e,withinArrayOrBlockLocale:A});return e}if("select"===q.type&&q.hasMany){if(Array.isArray(D))if(G)e[q.name]=D.reduce((a,b)=>("string"==typeof b.locale&&(a[b.locale]||(a[b.locale]=[]),a[b.locale].push(b.value)),a),{});else{let a=D;A&&(a=a.filter(({locale:a})=>a===A)),e[q.name]=a.map(({value:a})=>a)}return e}return G&&Array.isArray(w._locales)?(!w._locales.length&&C&&C.forEach(a=>w._locales.push({_locale:a})),w._locales.forEach(a=>{F.push({ref:E,table:{...w,...a}})})):F.push({ref:e,table:w}),F.forEach(({ref:f,table:h})=>{let i=h[`${p||""}${q.name}`],j=h?._locale,k=i;switch(q.type){case"date":"string"==typeof i&&(k=new Date(i).toISOString());break;case"group":case"tab":{let e=`${p||""}${q.name}_`,i={},j=h._locale,k=G&&j?j:q.name;G&&j&&delete h._locale,f[k]=m({adapter:a,blocks:b,config:c,currentTableName:d,dataRef:i,deletions:o,fieldPrefix:e,fields:q.flattenedFields,joinQuery:r,numbers:s,parentIsLocalized:t||q.localized,path:`${B}${q.name}`,relationships:v,table:h,tablePath:`${x}${g(q.name)}_`,texts:y,topLevelTableName:z,withinArrayOrBlockLocale:j||A});return}case"number":"string"==typeof i&&(k=Number.parseFloat(i));break;case"point":"string"==typeof i&&(k=JSON.parse(i));break;case"relationship":case"upload":k&&"string"==typeof q.relationTo&&"number"===a.payload.collections[q.relationTo].customIDType&&(k=Number(k));break;case"text":"string"==typeof i&&(k=String(i))}"string"==typeof j?f[j]=k:e[q.name]=k}),Object.keys(E).length>0&&(e[q.name]=E),e},e);return Array.isArray(w._locales)&&o.push(()=>delete w._locales),D},o=({adapter:a,config:b,data:c,fields:f,joinQuery:g,parentIsLocalized:h,tableName:i})=>{let j={},k={},l={};"_rels"in c&&(j=e(c._rels),delete c._rels),"_texts"in c&&(k=e(c._texts),delete c._texts),"_numbers"in c&&(l=e(c._numbers),delete c._numbers);let o=d(c),p=[],q=m({adapter:a,blocks:o,config:b,currentTableName:i,dataRef:{id:c.id},deletions:p,fieldPrefix:"",fields:f,joinQuery:g,numbers:l,parentIsLocalized:h,path:"",relationships:j,table:c,tablePath:"",texts:k,topLevelTableName:i});return p.forEach(a=>a()),q}},37593:(a,b,c)=>{"use strict";c.d(b,{i:()=>d,is:()=>e});let d=Symbol.for("drizzle:entityKind");function e(a,b){if(!a||"object"!=typeof a)return!1;if(a instanceof b)return!0;if(!Object.prototype.hasOwnProperty.call(b,d))throw Error(`Class "${b.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let c=Object.getPrototypeOf(a).constructor;if(c)for(;c;){if(d in c&&c[d]===b[d])return!0;c=Object.getPrototypeOf(c)}return!1}Symbol.for("drizzle:hasOwnEntityKind")},37661:(a,b,c)=>{"use strict";c.d(b,{m:()=>o});var d=c(23631),e=c(6791),f=c(6765),g=c(27661),h=c(75879),i=c(22501),j=c(78497),k=c(55694);let l=async({name:a,draft:b,fallbackLocale:c,fields:d,hasMany:e,locale:f,overrideAccess:g,ref:h,req:i,segments:j,showHiddenFields:m,siblingDoc:o})=>{let p=j.shift();if(!p)return;let q=h[p];if(void 0===q)return;if(0===j.length)return void(e?(Array.isArray(o[a])||(o[a]=[]),o[a].push(q)):o[a]=q);let r=d.find(a=>a.name===p);if(r){if("group"===r.type||"tab"===r.type){if(!q||"object"!=typeof q)return;return l({name:a,draft:b,fallbackLocale:c,fields:r.flattenedFields,locale:f,overrideAccess:g,ref:q,req:i,segments:j,showHiddenFields:m,siblingDoc:o})}if(("relationship"===r.type||"upload"===r.type)&&"string"==typeof r.relationTo){let d,h={},p=h,s=i.payload.collections[r.relationTo]?.config.flattenedFields;for(let a=0;a<j.length;a++){let b=s?.find(b=>b.name===j[a]),c=a===j.length-1||b?.type==="relationship"||b?.type==="upload";if(p[j[a]]=!!c||{},p=p[j[a]],c)break}if(r.hasMany){if(!Array.isArray(q))return;let d=q.map(a=>a?"object"==typeof a?a.id:a:null).filter(a=>"string"==typeof a||"number"==typeof a);if("id"===j[0]&&0===j.length){o[a]=d;return}let e=r.relationTo;for(let p of(await Promise.all(d.map(a=>i.payloadDataLoader.load((0,k.h)({collectionSlug:e,currentDepth:0,depth:0,docID:a,draft:b,fallbackLocale:c,locale:f,overrideAccess:g,select:h,showHiddenFields:m,transactionID:i.transactionID}))))))p&&await l({name:a,draft:b,fallbackLocale:c,fields:i.payload.collections[r.relationTo].config.flattenedFields,hasMany:!0,locale:f,overrideAccess:g,ref:p,req:i,segments:[...j],showHiddenFields:m,siblingDoc:o});return}if(d="object"==typeof q&&q?q.id:q,"id"===j[0]&&0===j.length){o[a]=d;return}if("string"!=typeof d&&"number"!=typeof d)return;let t=await i.payloadDataLoader.load((0,k.h)({collectionSlug:r.relationTo,currentDepth:0,depth:0,docID:d,draft:b,fallbackLocale:c,locale:f,overrideAccess:g,select:h,showHiddenFields:m,transactionID:i.transactionID}));if(!t)return;return l({name:a,draft:b,fallbackLocale:c,fields:i.payload.collections[r.relationTo].config.flattenedFields,hasMany:e,locale:f,overrideAccess:g,ref:t,req:i,segments:j,showHiddenFields:m,siblingDoc:o})}}},m=async({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,field:s,fieldIndex:t,fieldPromises:u,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:A,parentIsLocalized:B,parentPath:C,parentSchemaPath:D,populate:E,populationPromises:F,req:G,select:H,selectMode:I,showHiddenFields:J,siblingDoc:K,siblingFields:L,triggerAccessControl:M=!0,triggerHooks:N=!0})=>{let{indexPath:O,path:P,schemaPath:Q}=(0,i.I)({field:s,index:t,parentIndexPath:A,parentPath:C,parentSchemaPath:D}),R=(0,g.Z7)(s),S=P?P.split("."):[],T=Q?Q.split("."):[],U=O?O.split("-").filter(Boolean)?.map(Number):[],V=!1;if(R&&s.hidden&&void 0!==K[s.name]&&!J&&(V=!0,delete K[s.name]),"id"!==P&&!(0,f.e)({field:s,select:H,selectMode:I,siblingDoc:K}))return;let W=!!(w&&R&&"object"==typeof K[s.name]&&null!==K[s.name]&&(0,g.Cd)({field:s,parentIsLocalized:B})&&"all"!==y&&G.payload.config.localization);if(R&&W){let a=K[s.name][y],b=a;if(r&&r!==y){let c,d=null==a;if(Array.isArray(r))for(let a of r){let b=K[s.name]?.[a];if(null!=b&&""!==b){c=b;break}}else c=K[s.name][r];if(c)switch(s.type){case"text":case"textarea":(""===a||d)&&(b=c);break;default:d&&(b=c)}}K[s.name]=b}switch(s.type){case"group":R&&void 0===K[s.name]&&(K[s.name]={});break;case"point":{let a=K[s.name];Array.isArray(a?.coordinates)&&2===a.coordinates.length?K[s.name]=a.coordinates:K[s.name]=void 0;break}case"richText":if(!s?.editor)throw new d.X(s);if("function"==typeof s?.editor)throw Error("Attempted to access unsanitized rich text editor.");break;case"tabs":s.tabs.forEach(a=>{(0,g.pz)(a)&&(void 0===K[a.name]||null===K[a.name])&&(K[a.name]={})})}let X="all"===y&&"name"in s&&"string"==typeof s.name&&!W&&(0,g.Cd)({field:s,parentIsLocalized:B})&&"object"==typeof K[s.name];if(R){if(N&&"hooks"in s&&s.hooks?.afterRead)for(let d of s.hooks.afterRead)if(X){let e=Object.entries(K[s.name]);await Promise.all(e.map(async([e,f])=>{let g=await d({blockData:a,collection:b,context:c,currentDepth:k,data:p,depth:m,draft:q,field:s,findMany:v,global:x,indexPath:U,operation:"read",originalDoc:p,overrideAccess:z,path:S,req:G,schemaPath:T,showHiddenFields:J,siblingData:K,siblingFields:L,value:f});void 0!==g&&(K[s.name][e]=g)}))}else{let e=await d({blockData:a,collection:b,context:c,currentDepth:k,data:p,depth:m,draft:q,field:s,findMany:v,global:x,indexPath:U,operation:"read",originalDoc:p,overrideAccess:z,path:S,req:G,schemaPath:T,showHiddenFields:J,siblingData:K,siblingFields:L,value:K[s.name]});void 0!==e&&(K[s.name]=e)}"virtual"in s&&"string"==typeof s.virtual&&(!s.hidden||J)&&F.push(l({name:s.name,draft:q,fallbackLocale:r,fields:(b||x).flattenedFields,locale:y,overrideAccess:z,ref:p,req:G,segments:s.virtual.split("."),showHiddenFields:J,siblingDoc:K}));let d=!0;M&&s.access&&s.access.read&&(z||await s.access.read({id:p.id,blockData:a,data:p,doc:p,req:G,siblingData:K})||(d=!1,delete K[s.name])),!V&&d&&void 0===K[s.name]&&void 0!==s.defaultValue&&(K[s.name]=await (0,h.B)({defaultValue:s.defaultValue,locale:y,req:G,user:G.user,value:K[s.name]})),("relationship"===s.type||"upload"===s.type||"join"===s.type)&&F.push((0,j.x)({currentDepth:k,depth:m,draft:q,fallbackLocale:r,field:s,locale:y,overrideAccess:z,parentIsLocalized:B,populate:E,req:G,showHiddenFields:J,siblingDoc:K}))}switch(s.type){case"array":{let d=K[s.name],e=H?.[s.name];"include"===I&&"object"==typeof e&&(e={...e,id:!0}),Array.isArray(d)&&d.length>0?d.forEach((d,f)=>{o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:"",parentIsLocalized:B||s.localized,parentPath:P+"."+f,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,select:"object"==typeof e?e:void 0,selectMode:I,showHiddenFields:J,siblingDoc:d||{},triggerAccessControl:M,triggerHooks:N})}):W||"object"!=typeof d||null===d?W&&(!d||0===d.length)?K[s.name]=null:(!0!==s.hidden||!0===J)&&(K[s.name]=[]):Object.values(d).forEach(d=>{Array.isArray(d)&&d.forEach((d,e)=>{o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:"",parentIsLocalized:B||s.localized,parentPath:P+"."+e,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,showHiddenFields:J,siblingDoc:d||{},triggerAccessControl:M,triggerHooks:N})})});break}case"blocks":{let a=K[s.name];Array.isArray(a)&&a.length>0?a.forEach((a,d)=>{let f=a.blockType,g=G.payload.blocks[f]??(s.blockReferences??s.blocks).find(a=>"string"!=typeof a&&a.slug===f),{blockSelect:h,blockSelectMode:i}=(0,e.c)({block:g,select:H?.[s.name],selectMode:I});g&&o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:g.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:"",parentIsLocalized:B||s.localized,parentPath:P+"."+d,parentSchemaPath:Q+"."+g.slug,populate:E,populationPromises:F,req:G,select:"object"==typeof h?h:void 0,selectMode:i,showHiddenFields:J,siblingDoc:a||{},triggerAccessControl:M,triggerHooks:N})}):W||"object"!=typeof a||null===a?W&&(!a||0===a.length)?K[s.name]=null:(!0!==s.hidden||!0===J)&&(K[s.name]=[]):Object.values(a).forEach(a=>{Array.isArray(a)&&a.forEach((a,d)=>{let e=a.blockType,f=G.payload.blocks[e]??(s.blockReferences??s.blocks).find(a=>"string"!=typeof a&&a.slug===e);f&&o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:f.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:"",parentIsLocalized:B||s.localized,parentPath:P+"."+d,parentSchemaPath:Q+"."+f.slug,populate:E,populationPromises:F,req:G,showHiddenFields:J,siblingDoc:a||{},triggerAccessControl:M,triggerHooks:N})})});break}case"collapsible":case"row":o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:O,parentIsLocalized:B,parentPath:C,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,select:H,selectMode:I,showHiddenFields:J,siblingDoc:K,triggerAccessControl:M,triggerHooks:N});break;case"group":if(R){let d=K[s.name];"object"!=typeof K[s.name]&&(d={});let e=H?.[s.name];o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:"",parentIsLocalized:B||s.localized,parentPath:P,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,select:"object"==typeof e?e:void 0,selectMode:I,showHiddenFields:J,siblingDoc:d,triggerAccessControl:M,triggerHooks:N})}else o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:O,parentIsLocalized:B,parentPath:C,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,select:H,selectMode:I,showHiddenFields:J,siblingDoc:K,triggerAccessControl:M,triggerHooks:N});break;case"richText":{if(!s?.editor)throw new d.X(s);if("function"==typeof s?.editor)throw Error("Attempted to access unsanitized rich text editor.");let a=s?.editor;if(a?.hooks?.afterRead?.length)for(let d of a.hooks.afterRead)if(X){let a=Object.entries(K[s.name]);await Promise.all(a.map(async([a,e])=>{let f=await d({collection:b,context:c,currentDepth:k,data:p,depth:m,draft:q,fallbackLocale:r,field:s,fieldPromises:u,findMany:v,flattenLocales:w,global:x,indexPath:U,locale:a,operation:"read",originalDoc:p,overrideAccess:z,parentIsLocalized:B,path:S,populate:E,populationPromises:F,req:G,schemaPath:T,showHiddenFields:J,siblingData:K,triggerAccessControl:M,triggerHooks:N,value:e});void 0!==f&&(K[s.name][a]=f)}))}else{let a=await d({collection:b,context:c,currentDepth:k,data:p,depth:m,draft:q,fallbackLocale:r,field:s,fieldPromises:u,findMany:v,flattenLocales:w,global:x,indexPath:U,locale:y,operation:"read",originalDoc:p,overrideAccess:z,parentIsLocalized:B,path:S,populate:E,populationPromises:F,req:G,schemaPath:T,showHiddenFields:J,siblingData:K,triggerAccessControl:M,triggerHooks:N,value:K[s.name]});void 0!==a&&(K[s.name]=a)}break}case"tab":{let d,e=K,f=(0,g.pz)(s);f?(e=K[s.name],"object"!=typeof K[s.name]&&(e={}),"object"==typeof H?.[s.name]&&(d=H?.[s.name])):d=H,o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:f?"":O,parentIsLocalized:B||s.localized,parentPath:f?P:C,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,select:d,selectMode:I,showHiddenFields:J,siblingDoc:e,triggerAccessControl:M,triggerHooks:N});break}case"tabs":o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.tabs.map(a=>({...a,type:"tab"})),findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:O,parentIsLocalized:B,parentPath:P,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,select:H,selectMode:I,showHiddenFields:J,siblingDoc:K,triggerAccessControl:M,triggerHooks:N})}},o=({blockData:a,collection:b,context:c,currentDepth:d,depth:e,doc:f,draft:g,fallbackLocale:h,fieldPromises:i,fields:j,findMany:k,flattenLocales:l,global:o,locale:p,overrideAccess:q,parentIndexPath:r,parentIsLocalized:s,parentPath:t,parentSchemaPath:u,populate:v,populationPromises:w,req:x,select:y,selectMode:z,showHiddenFields:A,siblingDoc:B,triggerAccessControl:C=!0,triggerHooks:D=!0})=>{j.forEach((E,F)=>{i.push(m({blockData:a,collection:b,context:c,currentDepth:d,depth:e,doc:f,draft:g,fallbackLocale:h,field:E,fieldIndex:F,fieldPromises:i,findMany:k,flattenLocales:l,global:o,locale:p,overrideAccess:q,parentIndexPath:r,parentIsLocalized:s,parentPath:t,parentSchemaPath:u,populate:v,populationPromises:w,req:x,select:y,selectMode:z,showHiddenFields:A,siblingDoc:B,siblingFields:j,triggerAccessControl:C,triggerHooks:D}))})}},37696:(a,b,c)=>{"use strict";c.d(b,{O:()=>l});var d=c(55900),e=c(75423),f=c(33334),g=c(57819),h=c(53216),i=c(47449),j=c(42526),k=c(66285);async function l({forceAcceptWarning:a=!1}){let{payload:b}=this;if(!1===a){let{confirm:a}=await i({name:"confirm",type:"confirm",initial:!1,message:"WARNING: This will drop your database and run all migrations. Are you sure you want to proceed?"},{onCancel:()=>{process.exit(0)}});a||process.exit(0)}b.logger.info({msg:"Dropping database."}),await this.dropDatabase({adapter:this});let c=await (0,d.I)({payload:b});b.logger.debug({msg:`Found ${c.length} migration files.`});let l=await (0,e.M)({},b);for(let a of("createExtensions"in this&&"function"==typeof this.createExtensions&&await this.createExtensions(),c)){b.logger.info({msg:`Migrating: ${a.name}`});try{let c=Date.now();await (0,f.n)(l);let d=await (0,j.x)(this,l);await a.up({db:d,payload:b,req:l}),await b.create({collection:"payload-migrations",data:{name:a.name,batch:1},req:l}),await (0,g.w)(l),b.logger.info({msg:`Migrated:  ${a.name} (${Date.now()-c}ms)`})}catch(c){await (0,h.J)(l),b.logger.error({err:c,msg:(0,k.u)(c,`Error running migration ${a.name}. Rolling back`)}),process.exit(1)}}}},37958:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(47539);let e=function(a,b,c,e,f){let g;if(void 0!==f.crit&&e?.crit===void 0)throw new a('"crit" (Critical) Header Parameter MUST be integrity protected');if(!e||void 0===e.crit)return new Set;if(!Array.isArray(e.crit)||0===e.crit.length||e.crit.some(a=>"string"!=typeof a||0===a.length))throw new a('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let h of(g=void 0!==c?new Map([...Object.entries(c),...b.entries()]):b,e.crit)){if(!g.has(h))throw new d.T0(`Extension Header Parameter "${h}" is not recognized`);if(void 0===f[h])throw new a(`Extension Header Parameter "${h}" is missing`);if(g.get(h)&&void 0===e[h])throw new a(`Extension Header Parameter "${h}" MUST be integrity protected`)}return new Set(e.crit)}},38108:(a,b,c)=>{"use strict";c.d(b,{a:()=>e});var d=c(16152);let e=a=>"object"==typeof a?"url"in a?(0,d.parseUrl)(a.url):a:(0,d.parseUrl)(a)},38120:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{INTERCEPTION_ROUTE_MARKERS:function(){return e},extractInterceptionRouteInformation:function(){return g},isInterceptionRouteAppPath:function(){return f}});let d=c(76355),e=["(..)(..)","(.)","(..)","(...)"];function f(a){return void 0!==a.split("/").find(a=>e.find(b=>a.startsWith(b)))}function g(a){let b,c,f;for(let d of a.split("/"))if(c=e.find(a=>d.startsWith(a))){[b,f]=a.split(c,2);break}if(!b||!c||!f)throw Object.defineProperty(Error("Invalid interception route: "+a+". Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>"),"__NEXT_ERROR_CODE",{value:"E269",enumerable:!1,configurable:!0});switch(b=(0,d.normalizeAppPath)(b),c){case"(.)":f="/"===b?"/"+f:b+"/"+f;break;case"(..)":if("/"===b)throw Object.defineProperty(Error("Invalid interception route: "+a+". Cannot use (..) marker at the root level, use (.) instead."),"__NEXT_ERROR_CODE",{value:"E207",enumerable:!1,configurable:!0});f=b.split("/").slice(0,-1).concat(f).join("/");break;case"(...)":f="/"+f;break;case"(..)(..)":let g=b.split("/");if(g.length<=2)throw Object.defineProperty(Error("Invalid interception route: "+a+". Cannot use (..)(..) marker at the root level or one level up."),"__NEXT_ERROR_CODE",{value:"E486",enumerable:!1,configurable:!0});f=g.slice(0,-2).concat(f).join("/");break;default:throw Object.defineProperty(Error("Invariant: unexpected marker"),"__NEXT_ERROR_CODE",{value:"E112",enumerable:!1,configurable:!0})}return{interceptingRoute:b,interceptedRoute:f}}},38172:(a,b,c)=>{"use strict";let{Readable:d,Writable:e}=c(27910),f=c(66035),{basename:g,convertToUTF8:h,getDecoder:i,parseContentType:j,parseDisposition:k}=c(64259),l=Buffer.from("\r\n"),m=Buffer.from("\r"),o=Buffer.from("-");function p(){}let q=2e3,r=16384,s=0,t=1,u=2;class v{constructor(a){this.header=Object.create(null),this.pairCount=0,this.byteCount=0,this.state=s,this.name="",this.value="",this.crlf=0,this.cb=a}reset(){this.header=Object.create(null),this.pairCount=0,this.byteCount=0,this.state=s,this.name="",this.value="",this.crlf=0}push(a,b,c){let d=b;for(;b<c;)switch(this.state){case s:{let e=!1;for(;b<c;++b){if(this.byteCount===r)return -1;++this.byteCount;let c=a[b];if(1!==D[c]){if(58!==c||(this.name+=a.latin1Slice(d,b),0===this.name.length))return -1;++b,e=!0,this.state=t;break}}if(!e){this.name+=a.latin1Slice(d,b);break}}case t:{let e=!1;for(;b<c;++b){if(this.byteCount===r)return -1;++this.byteCount;let c=a[b];if(32!==c&&9!==c){d=b,e=!0,this.state=u;break}}if(!e)break}case u:switch(this.crlf){case 0:for(;b<c;++b){if(this.byteCount===r)return -1;++this.byteCount;let c=a[b];if(1!==E[c]){if(13!==c)return -1;++this.crlf;break}}this.value+=a.latin1Slice(d,b++);break;case 1:if(this.byteCount===r||(++this.byteCount,10!==a[b++]))return -1;++this.crlf;break;case 2:{if(this.byteCount===r)return -1;++this.byteCount;let c=a[b];32===c||9===c?(d=b,this.crlf=0):(++this.pairCount<q&&(this.name=this.name.toLowerCase(),void 0===this.header[this.name]?this.header[this.name]=[this.value]:this.header[this.name].push(this.value)),13===c?(++this.crlf,++b):(d=b,this.crlf=0,this.state=s,this.name="",this.value=""));break}case 3:{if(this.byteCount===r||(++this.byteCount,10!==a[b++]))return -1;let c=this.header;return this.reset(),this.cb(c),b}}}return b}}class w extends d{constructor(a,b){super(a),this.truncated=!1,this._readcb=null,this.once("end",()=>{if(this._read(),0==--b._fileEndsLeft&&b._finalcb){let a=b._finalcb;b._finalcb=null,process.nextTick(a)}})}_read(a){let b=this._readcb;b&&(this._readcb=null,b())}}let x={push:(a,b)=>{},destroy:()=>{}};function y(a,b){let c=a._writecb;a._writecb=null,b?a.destroy(b):c&&c()}function z(a,b){return a}class A extends e{constructor(a){let b,c,d,e,q;if(super({autoDestroy:!0,emitClose:!0,highWaterMark:"number"==typeof a.highWaterMark?a.highWaterMark:void 0}),!a.conType.params||"string"!=typeof a.conType.params.boundary)throw Error("Multipart: Boundary not found");let r=a.conType.params.boundary,s="string"==typeof a.defParamCharset&&a.defParamCharset?i(a.defParamCharset):z,t=a.defCharset||"utf8",u=a.preservePath,y={autoDestroy:!0,emitClose:!0,highWaterMark:"number"==typeof a.fileHwm?a.fileHwm:void 0},A=a.limits,B=A&&"number"==typeof A.fieldSize?A.fieldSize:1048576,C=A&&"number"==typeof A.fileSize?A.fileSize:1/0,D=A&&"number"==typeof A.files?A.files:1/0,E=A&&"number"==typeof A.fields?A.fields:1/0,F=A&&"number"==typeof A.parts?A.parts:1/0,G=-1,H=0,I=0,J=!1;this._fileEndsLeft=0,this._fileStream=void 0,this._complete=!1;let K=0,L=0,M=!1,N=!1,O=!1;this._hparser=null;let P=new v(a=>{let f;if(this._hparser=null,J=!1,e="text/plain",c=t,d="7bit",q=void 0,M=!1,!a["content-disposition"]){J=!0;return}let h=k(a["content-disposition"][0],s);if(!h||"form-data"!==h.type){J=!0;return}if(h.params&&(h.params.name&&(q=h.params.name),h.params["filename*"]?f=h.params["filename*"]:h.params.filename&&(f=h.params.filename),void 0===f||u||(f=g(f))),a["content-type"]){let b=j(a["content-type"][0]);b&&(e=`${b.type}/${b.subtype}`,b.params&&"string"==typeof b.params.charset&&(c=b.params.charset.toLowerCase()))}if(a["content-transfer-encoding"]&&(d=a["content-transfer-encoding"][0].toLowerCase()),"application/octet-stream"===e||void 0!==f){if(I===D){N||(N=!0,this.emit("filesLimit")),J=!0;return}if(++I,0===this.listenerCount("file")){J=!0;return}K=0,this._fileStream=new w(y,this),++this._fileEndsLeft,this.emit("file",q,this._fileStream,{filename:f,encoding:d,mimeType:e})}else{if(H===E){O||(O=!0,this.emit("fieldsLimit")),J=!0;return}if(++H,0===this.listenerCount("field")){J=!0;return}b=[],L=0}}),Q=0,R=(a,f,g,i,j)=>{for(;f;){if(null!==this._hparser){let a=this._hparser.push(f,g,i);if(-1===a){this._hparser=null,P.reset(),this.emit("error",Error("Malformed part header"));break}g=a}if(g===i)break;if(0!==Q){if(1===Q){switch(f[g]){case 45:Q=2,++g;break;case 13:Q=3,++g;break;default:Q=0}if(g===i)return}if(2===Q){if(Q=0,45===f[g]){this._complete=!0,this._bparser=x;return}let a=this._writecb;this._writecb=p,R(!1,o,0,1,!1),this._writecb=a}else if(3===Q){if(Q=0,10===f[g]){if(++g,G>=F||(this._hparser=P,g===i))break;continue}{let a=this._writecb;this._writecb=p,R(!1,m,0,1,!1),this._writecb=a}}}if(!J){if(this._fileStream){let a,b=Math.min(i-g,C-K);j?a=f.slice(g,g+b):(a=Buffer.allocUnsafe(b),f.copy(a,0,g,g+b)),(K+=a.length)===C?(a.length>0&&this._fileStream.push(a),this._fileStream.emit("limit"),this._fileStream.truncated=!0,J=!0):this._fileStream.push(a)||(this._writecb&&(this._fileStream._readcb=this._writecb),this._writecb=null)}else if(void 0!==b){let a,c=Math.min(i-g,B-L);j?a=f.slice(g,g+c):(a=Buffer.allocUnsafe(c),f.copy(a,0,g,g+c)),L+=c,b.push(a),L===B&&(J=!0,M=!0)}}break}if(a){if(Q=1,this._fileStream)this._fileStream.push(null),this._fileStream=null;else if(void 0!==b){let a;switch(b.length){case 0:a="";break;case 1:a=h(b[0],c,0);break;default:a=h(Buffer.concat(b,L),c,0)}b=void 0,L=0,this.emit("field",q,a,{nameTruncated:!1,valueTruncated:M,encoding:d,mimeType:e})}++G===F&&this.emit("partsLimit")}};this._bparser=new f(`\r
--${r}`,R),this._writecb=null,this._finalcb=null,this.write(l)}static detect(a){return"multipart"===a.type&&"form-data"===a.subtype}_write(a,b,c){this._writecb=c,this._bparser.push(a,0),this._writecb&&y(this)}_destroy(a,b){this._hparser=null,this._bparser=x,a||(a=C(this));let c=this._fileStream;c&&(this._fileStream=null,c.destroy(a)),b(a)}_final(a){if(this._bparser.destroy(),!this._complete)return a(Error("Unexpected end of form"));this._fileEndsLeft?this._finalcb=B.bind(null,this,a):B(this,a)}}function B(a,b,c){if(c)return b(c);b(c=C(a))}function C(a){if(a._hparser)return Error("Malformed part header");let b=a._fileStream;if(b&&(a._fileStream=null,b.destroy(Error("Unexpected end of file"))),!a._complete)return Error("Unexpected end of form")}let D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];a.exports=A},38200:(a,b,c)=>{var d=c(43796);a.exports=function a(a){return d(a).replace(/\s/g,"_")}},38324:(a,b,c)=>{"use strict";var d=c(8997);let e={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};b.getRecursionDetectionPlugin=a=>({applyToStack:a=>{a.add(d.recursionDetectionMiddleware(),e)}}),Object.keys(d).forEach(function(a){"default"===a||Object.prototype.hasOwnProperty.call(b,a)||Object.defineProperty(b,a,{enumerable:!0,get:function(){return d[a]}})})},38334:(a,b,c)=>{"use strict";c.d(b,{D:()=>e,nv:()=>f});let d=/^-?\d*(\.\d+)?$/;class e{string;type;constructor(a,b){if(this.string=a,this.type=b,!d.test(a))throw Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](a){if(!a||"object"!=typeof a)return!1;let b=a;return e.prototype.isPrototypeOf(a)||"bigDecimal"===b.type&&d.test(b.string)}}function f(a){return new e(String(a),"bigDecimal")}},38395:(a,b,c)=>{"use strict";c.d(b,{m:()=>m});var d=c(23631),e=c(81645),f=c(55414),g=c(2146),h=c(27661),i=c(22501),j=c(96959);function k(a,b){if(!b)return a;let c=b.charAt(0).toUpperCase()+b.slice(1);return a&&c?`${a} > ${c}`:c||a}let l=async({id:a,blockData:b,collection:c,context:l,data:o,doc:p,docWithLocales:q,errors:r,field:s,fieldIndex:t,fieldLabelPath:u,global:v,mergeLocaleActions:w,operation:x,overrideAccess:y,parentIndexPath:z,parentIsLocalized:A,parentPath:B,parentSchemaPath:C,req:D,siblingData:E,siblingDoc:F,siblingDocWithLocales:G,siblingFields:H,skipValidation:I})=>{let{indexPath:J,path:K,schemaPath:L}=(0,i.I)({field:s,index:t,parentIndexPath:z,parentPath:B,parentSchemaPath:C}),{localization:M}=D.payload.config,N=M?M?.defaultLocale:"en",O=D.locale||N,P=K?K.split("."):[],Q=L?L.split("."):[],R=J?J.split("-").filter(Boolean)?.map(Number):[],S=!s.admin?.condition||!!s.admin.condition(o,E,{blockData:b,operation:x,path:P,user:D.user}),T=I||!S;if((0,h.Z7)(s)){if((0,h.Cd)({field:s,parentIsLocalized:A})&&O!==N&&["array","blocks"].includes(s.type)&&null===E[s.name]&&(T=!0),"hooks"in s&&s.hooks?.beforeChange)for(let a of s.hooks.beforeChange){let d=await a({blockData:b,collection:c,context:l,data:o,field:s,global:v,indexPath:R,operation:x,originalDoc:p,path:P,previousSiblingDoc:F,previousValue:F[s.name],req:D,schemaPath:Q,siblingData:E,siblingDocWithLocales:G,siblingFields:H,value:E[s.name]});void 0!==d&&(E[s.name]=d)}if(!T&&"validate"in s&&s.validate){let d,h=E[s.name];if("json"===s.type&&"string"==typeof E[s.name])try{JSON.parse(E[s.name])}catch(a){d=a}let i=s.validate,j=await i(h,{...s,id:a,blockData:b,collectionSlug:c?.slug,data:(0,f.AG)(p,o),event:"submit",jsonError:d,operation:x,overrideAccess:y,path:P,preferences:{fields:{}},previousValue:F[s.name],req:D,siblingData:(0,f.AG)(F,E)});if("string"==typeof j){let b=!1;if("blocks"===s.type&&s.filterOptions){let c=await (0,e.XC)({id:a,data:o,filterOptions:s.filterOptions,req:D,siblingData:E,value:E[s.name]});if(c?.invalidBlockSlugs?.length){b=!0;let a=-1;for(let b of E[s.name])if(a++,c.invalidBlockSlugs.includes(b.blockType)){let c=(s.blockReferences??s.blocks).find(a=>"string"==typeof a?a===b.blockType:a.slug===b.blockType),d="string"!=typeof c?c:D.payload.config?.blocks?.[c],e=s?.label===!1?u:k(u,`${(0,g.B)(s?.label||s?.name,D.i18n)} > ${D.t("fields:block")} ${a+1} (${(0,g.B)(d?.labels?.singular||b.blockType,D.i18n)})`);r.push({label:e,message:D.t("validation:invalidBlock",{block:b.blockType}),path:`${K}.${a}.id`})}}}if(!b){let a=k(u,(0,g.B)(s?.label||s?.name,D.i18n));r.push({label:a,message:j,path:K})}}}M&&(0,h.Cd)({field:s,parentIsLocalized:A})&&w.push(()=>{let a={};for(let b of M.localeCodes){let c=b===D.locale?E[s.name]:G?.[s.name]?.[b];void 0!==c&&(a[b]=c)}Object.keys(a).length>0&&(E[s.name]=a)})}switch(s.type){case"array":{let d=E[s.name];if(Array.isArray(d)){let e=[];d.forEach((d,f)=>{e.push(m({id:a,blockData:b,collection:c,context:l,data:o,doc:p,docWithLocales:q,errors:r,fieldLabelPath:s?.label===!1?u:k(u,`${(0,g.B)(s?.label||s?.name,D.i18n)} ${f+1}`),fields:s.fields,global:v,mergeLocaleActions:w,operation:x,overrideAccess:y,parentIndexPath:"",parentIsLocalized:A||s.localized,parentPath:K+"."+f,parentSchemaPath:L,req:D,siblingData:d,siblingDoc:(0,j.G)(d,F[s.name]),siblingDocWithLocales:(0,j.G)(d,G?.[s.name]),skipValidation:T}))}),await Promise.all(e)}break}case"blocks":{let b=E[s.name];if(Array.isArray(b)){let d=[];b.forEach((b,e)=>{let f=(0,j.G)(b,F[s.name]),h=(0,j.G)(b,G?G[s.name]:{}),i=b.blockType||f.blockType,t=D.payload.blocks[i]??(s.blockReferences??s.blocks).find(a=>"string"!=typeof a&&a.slug===i),z=s?.label===!1?u:k(u,`${(0,g.B)(s?.label||s?.name,D.i18n)} > ${D.t("fields:block")} ${e+1} (${(0,g.B)(t?.labels?.singular||i,D.i18n)})`);t&&d.push(m({id:a,blockData:b,collection:c,context:l,data:o,doc:p,docWithLocales:q,errors:r,fieldLabelPath:z,fields:t.fields,global:v,mergeLocaleActions:w,operation:x,overrideAccess:y,parentIndexPath:"",parentIsLocalized:A||s.localized,parentPath:K+"."+e,parentSchemaPath:L+"."+t.slug,req:D,siblingData:b,siblingDoc:f,siblingDocWithLocales:h,skipValidation:T}))}),await Promise.all(d)}break}case"collapsible":case"row":await m({id:a,blockData:b,collection:c,context:l,data:o,doc:p,docWithLocales:q,errors:r,fieldLabelPath:"row"===s.type||s?.label===!1?u:k(u,(0,g.B)(s?.label||s?.type,D.i18n)),fields:s.fields,global:v,mergeLocaleActions:w,operation:x,overrideAccess:y,parentIndexPath:J,parentIsLocalized:A,parentPath:B,parentSchemaPath:L,req:D,siblingData:E,siblingDoc:F,siblingDocWithLocales:G,skipValidation:T});break;case"group":{let d=E,e=F,f=G,i=(0,h.Z7)(s);i&&("object"!=typeof E[s.name]&&(E[s.name]={}),"object"!=typeof F[s.name]&&(F[s.name]={}),"object"!=typeof G[s.name]&&(G[s.name]={}),"object"!=typeof E[s.name]&&(E[s.name]={}),"object"!=typeof F[s.name]&&(F[s.name]={}),"object"!=typeof G[s.name]&&(G[s.name]={}),d=E[s.name],e=F[s.name],f=G[s.name]);let j=s?.label||(i?s.name:s?.type);await m({id:a,blockData:b,collection:c,context:l,data:o,doc:p,docWithLocales:q,errors:r,fieldLabelPath:s?.label===!1?u:k(u,(0,g.B)(j,D.i18n)),fields:s.fields,global:v,mergeLocaleActions:w,operation:x,overrideAccess:y,parentIndexPath:i?"":J,parentIsLocalized:A||s.localized,parentPath:i?K:B,parentSchemaPath:L,req:D,siblingData:d,siblingDoc:e,siblingDocWithLocales:f,skipValidation:T});break}case"point":Array.isArray(E[s.name])&&null!==E[s.name][0]&&null!==E[s.name][1]&&(E[s.name]={type:"Point",coordinates:[parseFloat(E[s.name][0]),parseFloat(E[s.name][1])]});break;case"richText":{if(!s?.editor)throw new d.X(s);if("function"==typeof s?.editor)throw Error("Attempted to access unsanitized rich text editor.");let a=s?.editor;if(a?.hooks?.beforeChange?.length)for(let b of a.hooks.beforeChange){let a=await b({collection:c,context:l,data:o,docWithLocales:q,errors:r,field:s,fieldLabelPath:s?.label===!1?u:k(u,(0,g.B)(s?.label||s?.name,D.i18n)),global:v,indexPath:R,mergeLocaleActions:w,operation:x,originalDoc:p,overrideAccess:y,parentIsLocalized:A,path:P,previousSiblingDoc:F,previousValue:F[s.name],req:D,schemaPath:Q,siblingData:E,siblingDocWithLocales:G,skipValidation:I,value:E[s.name]});void 0!==a&&(E[s.name]=a)}break}case"tab":{let d=E,e=F,f=G,i=(0,h.pz)(s);i&&("object"!=typeof E[s.name]&&(E[s.name]={}),"object"!=typeof F[s.name]&&(F[s.name]={}),"object"!=typeof G[s.name]&&(G[s.name]={}),d=E[s.name],e=F[s.name],f=G[s.name]),await m({id:a,blockData:b,collection:c,context:l,data:o,doc:p,docWithLocales:q,errors:r,fieldLabelPath:s?.label===!1?u:k(u,(0,g.B)(s?.label||s.name,D.i18n)),fields:s.fields,global:v,mergeLocaleActions:w,operation:x,overrideAccess:y,parentIndexPath:i?"":J,parentIsLocalized:A||s.localized,parentPath:i?K:B,parentSchemaPath:L,req:D,siblingData:d,siblingDoc:e,siblingDocWithLocales:f,skipValidation:T});break}case"tabs":await m({id:a,blockData:b,collection:c,context:l,data:o,doc:p,docWithLocales:q,errors:r,fieldLabelPath:s?.label===!1?u:k(u,(0,g.B)(s?.label||"",D.i18n)),fields:s.tabs.map(a=>({...a,type:"tab"})),global:v,mergeLocaleActions:w,operation:x,overrideAccess:y,parentIndexPath:J,parentIsLocalized:A,parentPath:K,parentSchemaPath:L,req:D,siblingData:E,siblingDoc:F,siblingDocWithLocales:G,skipValidation:T})}},m=async({id:a,blockData:b,collection:c,context:d,data:e,doc:f,docWithLocales:g,errors:h,fieldLabelPath:i,fields:j,global:k,mergeLocaleActions:m,operation:o,overrideAccess:p,parentIndexPath:q,parentIsLocalized:r,parentPath:s,parentSchemaPath:t,req:u,siblingData:v,siblingDoc:w,siblingDocWithLocales:x,skipValidation:y})=>{let z=[];j.forEach((A,B)=>{z.push(l({id:a,blockData:b,collection:c,context:d,data:e,doc:f,docWithLocales:g,errors:h,field:A,fieldIndex:B,fieldLabelPath:i,global:k,mergeLocaleActions:m,operation:o,overrideAccess:p,parentIndexPath:q,parentIsLocalized:r,parentPath:s,parentSchemaPath:t,req:u,siblingData:v,siblingDoc:w,siblingDocWithLocales:x,siblingFields:j,skipValidation:y}))}),await Promise.all(z)}},38603:(a,b,c)=>{"use strict";a.exports={TextPrompt:c(22744),SelectPrompt:c(76903),TogglePrompt:c(64539),DatePrompt:c(41619),NumberPrompt:c(81866),MultiselectPrompt:c(58214),AutocompletePrompt:c(93603),AutocompleteMultiselectPrompt:c(40386),ConfirmPrompt:c(33695)}},38751:(a,b,c)=>{"use strict";c.r(b),c.d(b,{fromHex:()=>f,toHex:()=>g});let d={},e={};for(let a=0;a<256;a++){let b=a.toString(16).toLowerCase();1===b.length&&(b=`0${b}`),d[a]=b,e[b]=a}function f(a){if(a.length%2!=0)throw Error("Hex encoded strings must have an even number length");let b=new Uint8Array(a.length/2);for(let c=0;c<a.length;c+=2){let d=a.slice(c,c+2).toLowerCase();if(d in e)b[c/2]=e[d];else throw Error(`Cannot decode unrecognized sequence ${d} as hexadecimal`)}return b}function g(a){let b="";for(let c=0;c<a.byteLength;c++)b+=d[a[c]];return b}},38886:(a,b,c)=>{"use strict";c.d(b,{V:()=>e});var d=c(37661);let e=({context:a,currentDepth:b=0,data:c,depth:e,draft:f,fieldPromises:g,fields:h,findMany:i,flattenLocales:j,overrideAccess:k=!1,parentIsLocalized:l,populationPromises:m,req:o,showHiddenFields:p,siblingDoc:q})=>{(0,d.m)({collection:null,context:a,currentDepth:b,depth:e,doc:c,draft:f,fallbackLocale:o.fallbackLocale,fieldPromises:g,fields:h,findMany:i,flattenLocales:j,global:null,locale:o.locale,overrideAccess:k,parentIndexPath:"",parentIsLocalized:l,parentPath:"",parentSchemaPath:"",populationPromises:m,req:o,showHiddenFields:p,siblingDoc:q,triggerHooks:!1})}},39003:(a,b,c)=>{"use strict";c.d(b,{Y:()=>d});let d=async function({db:a,onConflictDoUpdate:b,tableName:c,values:d}){let e=this.tables[c];if(this.limitedBoundParameters&&Array.isArray(d)){let c=[],f=Math.max(1,Math.floor(100/Object.keys(d[0]).length));for(let g=0;g<d.length;g+=f){let h=d.slice(g,g+f),i=b?await a.insert(e).values(h).onConflictDoUpdate(b).returning():await a.insert(e).values(h).returning();c.push(...i)}return c}return b?await a.insert(e).values(d).onConflictDoUpdate(b).returning():await a.insert(e).values(d).returning()}},39014:(a,b,c)=>{"use strict";c.d(b,{M:()=>j});var d=c(92974);d.lF;let e=d.D4;var f=c(94757),g=c(70011),h=c(47539);function i(a){let b,c;if("string"!=typeof a)throw new h.Dp("JWTs must use Compact JWS serialization, JWT must be a string");let{1:d,length:i}=a.split(".");if(5===i)throw new h.Dp("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new h.Dp("Invalid JWT");if(!d)throw new h.Dp("JWTs must contain a payload");try{b=e(d)}catch{throw new h.Dp("Failed to base64url decode the payload")}try{c=JSON.parse(f.D0.decode(b))}catch{throw new h.Dp("Failed to parse the decoded payload as JSON")}if(!(0,g.A)(c))throw new h.Dp("Invalid JWT Claims Set");return c}let j=async a=>{let{collection:b,currentToken:c,depth:d,draft:e,joins:f,populate:g,req:h,select:j}=a,k={user:null};if(h.user){let{pathname:l}=h,m=l===`/api${h.payload.config.routes.graphQL}`,o=await h.payload.findByID({id:h.user.id,collection:b.config.slug,depth:m?0:d??b.config.auth.depth,draft:e,joins:f,overrideAccess:!1,populate:g,req:h,select:j,showHiddenFields:!1});if(o&&(o.collection=b.config.slug,o._strategy=h.user._strategy),h.user.collection!==b.config.slug)return{user:null};for(let c of b.config.hooks.me){let b=await c({args:a,user:o});if(b){k.user=b.user,k.exp=b.exp;break}}if(k.collection=h.user.collection,k.strategy=h.user._strategy,!k.user&&(k.user=o,c)){let a=i(c);a&&(k.exp=a.exp),b.config.auth.removeTokenFromResponses||(k.token=c)}}if(b.config.hooks?.afterMe?.length)for(let a of b.config.hooks.afterMe)k=await a({collection:b?.config,context:h.context,req:h,response:k})||k;return k}},39174:a=>{"use strict";a.exports=Object.getOwnPropertyDescriptor},39241:(a,b,c)=>{"use strict";var d,e=c(99173);class f{capacity;data=new Map;parameters=[];constructor({size:a,params:b}){this.capacity=a??50,b&&(this.parameters=b)}get(a,b){let c=this.hash(a);if(!1===c)return b();if(!this.data.has(c)){if(this.data.size>this.capacity+10){let a=this.data.keys(),b=0;for(;;){let{value:c,done:d}=a.next();if(this.data.delete(c),d||++b>10)break}}this.data.set(c,b())}return this.data.get(c)}size(){return this.data.size}hash(a){let b="",{parameters:c}=this;if(0===c.length)return!1;for(let d of c){let c=String(a[d]??"");if(c.includes("|;"))return!1;b+=c+"|;"}return b}}let g=RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),h=a=>g.test(a)||a.startsWith("[")&&a.endsWith("]"),i=RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),j=(a,b=!1)=>{if(!b)return i.test(a);for(let b of a.split("."))if(!j(b))return!1;return!0},k={},l="endpoints";function m(a){return"object"!=typeof a||null==a?a:"ref"in a?`$${m(a.ref)}`:"fn"in a?`${a.fn}(${(a.argv||[]).map(m).join(", ")})`:JSON.stringify(a,null,2)}class o extends Error{constructor(a){super(a),this.name="EndpointError"}}let p=(a,b)=>a===b,q=a=>{let b=a.split("."),c=[];for(let d of b){let b=d.indexOf("[");if(-1!==b){if(d.indexOf("]")!==d.length-1)throw new o(`Path: '${a}' does not end with ']'`);let e=d.slice(b+1,-1);if(Number.isNaN(parseInt(e)))throw new o(`Invalid array index: '${e}' in path: '${a}'`);0!==b&&c.push(d.slice(0,b)),c.push(e)}else c.push(d)}return c},r=(a,b)=>q(b).reduce((c,d)=>{if("object"!=typeof c)throw new o(`Index '${d}' in '${b}' not found in '${JSON.stringify(a)}'`);return Array.isArray(c)?c[parseInt(d)]:c[d]},a),s=a=>null!=a,t=a=>!a,u={[e.EndpointURLScheme.HTTP]:80,[e.EndpointURLScheme.HTTPS]:443},v={booleanEquals:p,getAttr:r,isSet:s,isValidHostLabel:j,not:t,parseURL:a=>{let b=(()=>{try{if(a instanceof URL)return a;if("object"==typeof a&&"hostname"in a){let{hostname:b,port:c,protocol:d="",path:e="",query:f={}}=a,g=new URL(`${d}//${b}${c?`:${c}`:""}${e}`);return g.search=Object.entries(f).map(([a,b])=>`${a}=${b}`).join("&"),g}return new URL(a)}catch(a){return null}})();if(!b)return console.error(`Unable to parse ${JSON.stringify(a)} as a whatwg URL.`),null;let c=b.href,{host:d,hostname:f,pathname:g,protocol:i,search:j}=b;if(j)return null;let k=i.slice(0,-1);if(!Object.values(e.EndpointURLScheme).includes(k))return null;let l=h(f),m=c.includes(`${d}:${u[k]}`)||"string"==typeof a&&a.includes(`${d}:${u[k]}`),o=`${d}${m?`:${u[k]}`:""}`;return{scheme:k,authority:o,path:g,normalizedPath:g.endsWith("/")?g:`${g}/`,isIp:l}},stringEquals:(a,b)=>a===b,substring:(a,b,c,d)=>b>=c||a.length<c?null:d?a.substring(a.length-c,a.length-b):a.substring(b,c),uriEncode:a=>encodeURIComponent(a).replace(/[!*'()]/g,a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`)},w=(a,b)=>{let c=[],d={...b.endpointParams,...b.referenceRecord},e=0;for(;e<a.length;){let b=a.indexOf("{",e);if(-1===b){c.push(a.slice(e));break}c.push(a.slice(e,b));let f=a.indexOf("}",b);if(-1===f){c.push(a.slice(b));break}"{"===a[b+1]&&"}"===a[f+1]&&(c.push(a.slice(b+1,f)),e=f+2);let g=a.substring(b+1,f);if(g.includes("#")){let[a,b]=g.split("#");c.push(r(d[a],b))}else c.push(d[g]);e=f+1}return c.join("")},x=({ref:a},b)=>({...b.endpointParams,...b.referenceRecord})[a],y=(a,b,c)=>{if("string"==typeof a)return w(a,c);if(a.fn)return A.callFunction(a,c);if(a.ref)return x(a,c);throw new o(`'${b}': ${String(a)} is not a string, function or reference.`)},z=({fn:a,argv:b},c)=>{let d=b.map(a=>["boolean","number"].includes(typeof a)?a:A.evaluateExpression(a,"arg",c)),e=a.split(".");return e[0]in k&&null!=e[1]?k[e[0]][e[1]](...d):v[a](...d)},A={evaluateExpression:y,callFunction:z},B=({assign:a,...b},c)=>{if(a&&a in c.referenceRecord)throw new o(`'${a}' is already defined in Reference Record.`);let d=z(b,c);return c.logger?.debug?.(`${l} evaluateCondition: ${m(b)} = ${m(d)}`),{result:""===d||!!d,...null!=a&&{toAssign:{name:a,value:d}}}},C=(a=[],b)=>{let c={};for(let d of a){let{result:a,toAssign:e}=B(d,{...b,referenceRecord:{...b.referenceRecord,...c}});if(!a)return{result:a};e&&(c[e.name]=e.value,b.logger?.debug?.(`${l} assign: ${e.name} := ${m(e.value)}`))}return{result:!0,referenceRecord:c}},D=(a,b)=>Object.entries(a).reduce((a,[c,d])=>({...a,[c]:d.map(a=>{let d=y(a,"Header value entry",b);if("string"!=typeof d)throw new o(`Header '${c}' value '${d}' is not a string`);return d})}),{}),E=(a,b)=>Object.entries(a).reduce((a,[c,d])=>({...a,[c]:G.getEndpointProperty(d,b)}),{}),F=(a,b)=>{if(Array.isArray(a))return a.map(a=>F(a,b));switch(typeof a){case"string":return w(a,b);case"object":if(null===a)throw new o(`Unexpected endpoint property: ${a}`);return G.getEndpointProperties(a,b);case"boolean":return a;default:throw new o(`Unexpected endpoint property type: ${typeof a}`)}},G={getEndpointProperty:F,getEndpointProperties:E},H=(a,b)=>{let c=y(a,"Endpoint URL",b);if("string"==typeof c)try{return new URL(c)}catch(a){throw console.error(`Failed to construct URL with ${c}`,a),a}throw new o(`Endpoint URL must be a string, got ${typeof c}`)},I=(a,b)=>{let{conditions:c,endpoint:d}=a,{result:e,referenceRecord:f}=C(c,b);if(!e)return;let g={...b,referenceRecord:{...b.referenceRecord,...f}},{url:h,properties:i,headers:j}=d;return b.logger?.debug?.(`${l} Resolving endpoint from template: ${m(d)}`),{...void 0!=j&&{headers:D(j,g)},...void 0!=i&&{properties:E(i,g)},url:H(h,g)}},J=(a,b)=>{let{conditions:c,error:d}=a,{result:e,referenceRecord:f}=C(c,b);if(e)throw new o(y(d,"Error",{...b,referenceRecord:{...b.referenceRecord,...f}}))},K=(a,b)=>{for(let c of a)if("endpoint"===c.type){let a=I(c,b);if(a)return a}else if("error"===c.type)J(c,b);else if("tree"===c.type){let a=L.evaluateTreeRule(c,b);if(a)return a}else throw new o(`Unknown endpoint rule: ${c}`);throw new o("Rules evaluation failed")},L={evaluateRules:K,evaluateTreeRule:(a,b)=>{let{conditions:c,rules:d}=a,{result:e,referenceRecord:f}=C(c,b);if(e)return L.evaluateRules(d,{...b,referenceRecord:{...b.referenceRecord,...f}})}},M=(a,b)=>{let{endpointParams:c,logger:d}=b,{parameters:e,rules:f}=a;b.logger?.debug?.(`${l} Initial EndpointParams: ${m(c)}`);let g=Object.entries(e).filter(([,a])=>null!=a.default).map(([a,b])=>[a,b.default]);if(g.length>0)for(let[a,b]of g)c[a]=c[a]??b;for(let a of Object.entries(e).filter(([,a])=>a.required).map(([a])=>a))if(null==c[a])throw new o(`Missing required parameter: '${a}'`);let h=K(f,{endpointParams:c,logger:d,referenceRecord:{}});return b.logger?.debug?.(`${l} Resolved endpoint: ${m(h)}`),h};b.kS=f,d=o,b.mw=k,d=h,d=j,b.sO=M},39492:(a,b,c)=>{"use strict";c.d(b,{d:()=>d});let d=(a,b)=>b.map(a=>a.replace("*","")).some(b=>a.startsWith(b))},39495:(a,b,c)=>{"use strict";c.d(b,{X:()=>d});let d=(0,c(50474).m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#InlineToolbarFeatureClient"},key:"toolbarInline"})},39568:(a,b,c)=>{"use strict";let{Writable:d}=c(57075),{EventEmitter:e}=c(78474),{assertCacheKey:f,assertCacheValue:g}=c(18430);class h extends e{#aX=1/0;#bw=1/0;#aW=1/0;#bx=0;#by=0;#bz=new Map;#bA=!1;constructor(a){if(super(),a){if("object"!=typeof a)throw TypeError("MemoryCacheStore options must be an object");if(void 0!==a.maxCount){if("number"!=typeof a.maxCount||!Number.isInteger(a.maxCount)||a.maxCount<0)throw TypeError("MemoryCacheStore options.maxCount must be a non-negative integer");this.#aX=a.maxCount}if(void 0!==a.maxSize){if("number"!=typeof a.maxSize||!Number.isInteger(a.maxSize)||a.maxSize<0)throw TypeError("MemoryCacheStore options.maxSize must be a non-negative integer");this.#bw=a.maxSize}if(void 0!==a.maxEntrySize){if("number"!=typeof a.maxEntrySize||!Number.isInteger(a.maxEntrySize)||a.maxEntrySize<0)throw TypeError("MemoryCacheStore options.maxEntrySize must be a non-negative integer");this.#aW=a.maxEntrySize}}}get size(){return this.#bx}isFull(){return this.#bx>=this.#bw||this.#by>=this.#aX}get(a){f(a);let b=`${a.origin}:${a.path}`,c=Date.now(),d=this.#bz.get(b),e=d?i(a,d,c):null;return null==e?void 0:{statusMessage:e.statusMessage,statusCode:e.statusCode,headers:e.headers,body:e.body,vary:e.vary?e.vary:void 0,etag:e.etag,cacheControlDirectives:e.cacheControlDirectives,cachedAt:e.cachedAt,staleAt:e.staleAt,deleteAt:e.deleteAt}}createWriteStream(a,b){f(a),g(b);let c=`${a.origin}:${a.path}`,e=this,h={...a,...b,body:[],size:0};return new d({write(a,b,c){"string"==typeof a&&(a=Buffer.from(a,b)),h.size+=a.byteLength,h.size>=e.#aW?this.destroy():h.body.push(a),c(null)},final(b){let d=e.#bz.get(c);d||(d=[],e.#bz.set(c,d));let f=i(a,d,Date.now());if(f){let a=d.indexOf(f);d.splice(a,1,h),e.#bx-=f.size}else d.push(h),e.#by+=1;if(e.#bx+=h.size,e.#bx>e.#bw||e.#by>e.#aX){for(let[a,b]of(e.#bA||(e.emit("maxSizeExceeded",{size:e.#bx,maxSize:e.#bw,count:e.#by,maxCount:e.#aX}),e.#bA=!0),e.#bz)){for(let a of b.splice(0,b.length/2))e.#bx-=a.size,e.#by-=1;0===b.length&&e.#bz.delete(a)}e.#bx<e.#bw&&e.#by<e.#aX&&(e.#bA=!1)}b(null)}})}delete(a){if("object"!=typeof a)throw TypeError(`expected key to be object, got ${typeof a}`);let b=`${a.origin}:${a.path}`;for(let a of this.#bz.get(b)??[])this.#bx-=a.size,this.#by-=1;this.#bz.delete(b)}}function i(a,b,c){return b.find(b=>b.deleteAt>c&&b.method===a.method&&(null==b.vary||Object.keys(b.vary).every(c=>null===b.vary[c]?void 0===a.headers[c]:b.vary[c]===a.headers[c])))}a.exports=h},39708:(a,b,c)=>{"use strict";c.d(b,{Gj:()=>q,UK:()=>o,eH:()=>p});let d="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",e="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",f="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",g="(\\d?\\d)",h="(\\d{4})",i=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),j=RegExp(`^${d}, ${g} ${e} ${h} ${f} GMT$`),k=RegExp(`^${d}, ${g}-${e}-(\\d\\d) ${f} GMT$`),l=RegExp(`^${d} ${e} ( [1-9]|\\d\\d) ${f} ${h}$`),m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=a=>{if(null==a)return;let b=NaN;if("number"==typeof a)b=a;else if("string"==typeof a){if(!/^-?\d*\.?\d+$/.test(a))throw TypeError("parseEpochTimestamp - numeric string invalid.");b=Number.parseFloat(a)}else"object"==typeof a&&1===a.tag&&(b=a.value);if(isNaN(b)||Math.abs(b)===1/0)throw TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(1e3*b))},p=a=>{if(null==a)return;if("string"!=typeof a)throw TypeError("RFC3339 timestamps must be strings");let b=i.exec(a);if(!b)throw TypeError(`Invalid RFC3339 timestamp format ${a}`);let[,c,d,e,f,g,h,,j,k]=b;r(d,1,12),r(e,1,31),r(f,0,23),r(g,0,59),r(h,0,60);let l=new Date;if(l.setUTCFullYear(Number(c),Number(d)-1,Number(e)),l.setUTCHours(Number(f)),l.setUTCMinutes(Number(g)),l.setUTCSeconds(Number(h)),l.setUTCMilliseconds(Number(j)?Math.round(1e3*parseFloat(`0.${j}`)):0),"Z"!=k.toUpperCase()){let[,a,b,c]=/([+-])(\d\d):(\d\d)/.exec(k)||[void 0,"+",0,0],d="-"===a?1:-1;l.setTime(l.getTime()+d*(60*Number(b)*6e4+60*Number(c)*1e3))}return l},q=a=>{let b,c,d,e,f,g,h,i;if(null!=a){if("string"!=typeof a)throw TypeError("RFC7231 timestamps must be strings.");if((i=j.exec(a))?[,b,c,d,e,f,g,h]=i:(i=k.exec(a))?([,b,c,d,e,f,g,h]=i,d=(Number(d)+1900).toString()):(i=l.exec(a))&&([,c,b,e,f,g,h,d]=i),d&&g){let a=new Date;return a.setUTCFullYear(Number(d)),a.setUTCMonth(m.indexOf(c)),r(b,1,31),a.setUTCDate(Number(b)),r(e,0,23),a.setUTCHours(Number(e)),r(f,0,59),a.setUTCMinutes(Number(f)),r(g,0,60),a.setUTCSeconds(Number(g)),a.setUTCMilliseconds(h?Math.round(1e3*parseFloat(`0.${h}`)):0),a}throw TypeError(`Invalid RFC7231 date-time value ${a}.`)}};function r(a,b,c){let d=Number(a);if(d<b||d>c)throw Error(`Value ${d} out of range [${b}, ${c}]`)}},39773:(a,b,c)=>{"use strict";c.d(b,{DV:()=>l,He:()=>k,Ll:()=>r,Lq:()=>s,XJ:()=>o,YD:()=>p,a6:()=>j,q:()=>m,su:()=>t,zN:()=>q});var d=c(23192),e=c(37593),f=c(71540),g=c(22212),h=c(56704),i=c(27685);function j(a,b,c){let g={},i=a.reduce((a,{path:i,field:j},k)=>{let l;l=(0,e.is)(j,d.V)?j:(0,e.is)(j,f.Xs)?j.decoder:j.sql.decoder;let m=a;for(let[a,f]of i.entries())if(a<i.length-1)f in m||(m[f]={}),m=m[f];else{let a=b[k],o=m[f]=null===a?null:l.mapFromDriverValue(a);if(c&&(0,e.is)(j,d.V)&&2===i.length){let a=i[0];a in g?"string"==typeof g[a]&&g[a]!==(0,h.Io)(j.table)&&(g[a]=!1):g[a]=null===o&&(0,h.Io)(j.table)}}return a},{});if(c&&Object.keys(g).length>0)for(let[a,b]of Object.entries(g))"string"!=typeof b||c[b]||(i[a]=null);return i}function k(a,b){return Object.entries(a).reduce((a,[c,g])=>{if("string"!=typeof c)return a;let i=b?[...b,c]:[c];return(0,e.is)(g,d.V)||(0,e.is)(g,f.Xs)||(0,e.is)(g,f.Xs.Aliased)?a.push({path:i,field:g}):(0,e.is)(g,h.XI)?a.push(...k(g[h.XI.Symbol.Columns],i)):a.push(...k(g,i)),a},[])}function l(a,b){let c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(let[a,b]of c.entries())if(b!==d[a])return!1;return!0}function m(a,b){let c=Object.entries(b).filter(([,a])=>void 0!==a).map(([b,c])=>(0,e.is)(c,f.Xs)||(0,e.is)(c,d.V)?[b,c]:[b,new f.Iw(c,a[h.XI.Symbol.Columns][b])]);if(0===c.length)throw Error("No values to set");return Object.fromEntries(c)}function o(a,b){for(let c of b)for(let b of Object.getOwnPropertyNames(c.prototype))"constructor"!==b&&Object.defineProperty(a.prototype,b,Object.getOwnPropertyDescriptor(c.prototype,b)||Object.create(null))}function p(a){return a[h.XI.Symbol.Columns]}function q(a){return(0,e.is)(a,g.n)?a._.alias:(0,e.is)(a,f.Ss)?a[i.n].name:(0,e.is)(a,f.Xs)?void 0:a[h.XI.Symbol.IsAlias]?a[h.XI.Symbol.Name]:a[h.XI.Symbol.BaseName]}function r(a,b){return{name:"string"==typeof a&&a.length>0?a:"",config:"object"==typeof a?a:b}}function s(a){if("object"!=typeof a||null===a||"Object"!==a.constructor.name)return!1;if("logger"in a){let b=typeof a.logger;return"boolean"===b||"object"===b&&"function"==typeof a.logger.logQuery||"undefined"===b}if("schema"in a){let b=typeof a.schema;return"object"===b||"undefined"===b}if("casing"in a){let b=typeof a.casing;return"string"===b||"undefined"===b}if("mode"in a)return"default"===a.mode&&"planetscale"===a.mode&&void 0===a.mode;if("connection"in a){let b=typeof a.connection;return"string"===b||"object"===b||"undefined"===b}if("client"in a){let b=typeof a.client;return"object"===b||"function"===b||"undefined"===b}return 0===Object.keys(a).length}let t="undefined"==typeof TextDecoder?null:new TextDecoder},39891:(a,b,c)=>{"use strict";var d=c(73069),e=c(75687),f=c(47638);let g="AWS_EXECUTION_ENV",h="AWS_REGION",i="AWS_DEFAULT_REGION",j="AWS_EC2_METADATA_DISABLED",k=["in-region","cross-region","mobile","standard","legacy"],l="/latest/meta-data/placement/region",m="AWS_DEFAULTS_MODE",o="defaults_mode",p={environmentVariableSelector:a=>a[m],configFileSelector:a=>a[o],default:"legacy"},q=async a=>{if(a){let b="function"==typeof a?await a():a,c=await r();return c?b===c?"in-region":"cross-region":"standard"}return"standard"},r=async()=>{if(process.env[g]&&(process.env[h]||process.env[i]))return process.env[h]??process.env[i];if(!process.env[j])try{let{getInstanceMetadataEndpoint:a,httpRequest:b}=await c.e(8743).then(c.bind(c,98743)),d=await a();return(await b({...d,path:l})).toString()}catch(a){}};b.I=({region:a=e.loadConfig(d.NODE_REGION_CONFIG_OPTIONS),defaultsMode:b=e.loadConfig(p)}={})=>f.memoize(async()=>{let c="function"==typeof b?await b():b;switch(c?.toLowerCase()){case"auto":return q(a);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(c?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw Error(`Invalid parameter for "defaultsMode", expect ${k.join(", ")}, got ${c}`)}})},40048:(a,b,c)=>{"use strict";c.d(b,{u:()=>d});let d=a=>{let b={};for(let c of Object.keys(a)){let d=a[c];b[c]=Array.isArray(d)?d.join(","):d}return b}},40112:(a,b,c)=>{"use strict";let{iteratorMixin:d}=c(45293),{kEnumerableProperty:e}=c(33895),{webidl:f}=c(2312),{File:g}=c(4573),h=c(57975),i=globalThis.File??g;class j{#be=[];constructor(a){if(f.util.markAsUncloneable(this),void 0!==a)throw f.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]})}append(a,b,c){f.brandCheck(this,j);let d="FormData.append";f.argumentLengthCheck(arguments,2,d),a=f.converters.USVString(a),3==arguments.length||f.is.Blob(b)?(b=f.converters.Blob(b,d,"value"),void 0!==c&&(c=f.converters.USVString(c))):b=f.converters.USVString(b);let e=m(a,b,c);this.#be.push(e)}delete(a){f.brandCheck(this,j);let b="FormData.delete";f.argumentLengthCheck(arguments,1,b),a=f.converters.USVString(a),this.#be=this.#be.filter(b=>b.name!==a)}get(a){f.brandCheck(this,j);let b="FormData.get";f.argumentLengthCheck(arguments,1,b),a=f.converters.USVString(a);let c=this.#be.findIndex(b=>b.name===a);return -1===c?null:this.#be[c].value}getAll(a){f.brandCheck(this,j);let b="FormData.getAll";return f.argumentLengthCheck(arguments,1,b),a=f.converters.USVString(a),this.#be.filter(b=>b.name===a).map(a=>a.value)}has(a){f.brandCheck(this,j);let b="FormData.has";return f.argumentLengthCheck(arguments,1,b),a=f.converters.USVString(a),-1!==this.#be.findIndex(b=>b.name===a)}set(a,b,c){f.brandCheck(this,j);let d="FormData.set";f.argumentLengthCheck(arguments,2,d),a=f.converters.USVString(a),3==arguments.length||f.is.Blob(b)?(b=f.converters.Blob(b,d,"value"),void 0!==c&&(c=f.converters.USVString(c))):b=f.converters.USVString(b);let e=m(a,b,c),g=this.#be.findIndex(b=>b.name===a);-1!==g?this.#be=[...this.#be.slice(0,g),e,...this.#be.slice(g+1).filter(b=>b.name!==a)]:this.#be.push(e)}[h.inspect.custom](a,b){let c=this.#be.reduce((a,b)=>(a[b.name]?Array.isArray(a[b.name])?a[b.name].push(b.value):a[b.name]=[a[b.name],b.value]:a[b.name]=b.value,a),{__proto__:null});b.depth??=a,b.colors??=!0;let d=h.formatWithOptions(b,c);return`FormData ${d.slice(d.indexOf("]")+2)}`}static getFormDataState(a){return a.#be}static setFormDataState(a,b){a.#be=b}}let{getFormDataState:k,setFormDataState:l}=j;function m(a,b,c){if("string"==typeof b);else if(f.is.File(b)||(b=new i([b],"blob",{type:b.type})),void 0!==c){let a={type:b.type,lastModified:b.lastModified};b=new i([b],c,a)}return{name:a,value:b}}Reflect.deleteProperty(j,"getFormDataState"),Reflect.deleteProperty(j,"setFormDataState"),d("FormData",j,k,"name","value"),Object.defineProperties(j.prototype,{append:e,delete:e,get:e,getAll:e,has:e,set:e,[Symbol.toStringTag]:{value:"FormData",configurable:!0}}),f.is.FormData=f.util.MakeTypeAssertion(j),a.exports={FormData:j,makeEntry:m,setFormDataState:l}},40234:(a,b,c)=>{"use strict";a.exports=g;let{createCopier:d}=c(46023),e=d({}),f=c(17573);function g({log:a,context:b}){let{ignoreKeys:c,includeKeys:d}=b,g=e(a);if(d){let a={};return d.forEach(b=>{a[b]=g[b]}),a}return c.forEach(a=>{f(g,a)}),g}},40286:(a,b,c)=>{"use strict";let d=c(74359);a.exports=function a({paths:a}){let b=[];var c=0;let e=a.reduce(function(a,e,f){var g=e.match(d).map(a=>a.replace(/'|"|`/g,""));let h="["===e[0],i=(g=g.map(a=>"["===a[0]?a.substr(1,a.length-2):a)).indexOf("*");if(i>-1){let a=g.slice(0,i),d=a.join("."),e=g.slice(i+1,g.length),f=e.length>0;c++,b.push({before:a,beforeStr:d,after:e,nested:f})}else a[e]={path:g,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(e),leadingBracket:h};return a},{});return{wildcards:b,wcLen:c,secret:e}}},40288:(a,b,c)=>{"use strict";c.d(b,{EI:()=>i,JV:()=>g,l3:()=>q,t_:()=>k,xE:()=>p});var d=c(51429);let e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function g(a){let b=a.getUTCFullYear(),c=a.getUTCMonth(),d=a.getUTCDay(),g=a.getUTCDate(),h=a.getUTCHours(),i=a.getUTCMinutes(),j=a.getUTCSeconds(),k=g<10?`0${g}`:`${g}`,l=h<10?`0${h}`:`${h}`,m=i<10?`0${i}`:`${i}`,o=j<10?`0${j}`:`${j}`;return`${e[d]}, ${k} ${f[c]} ${b} ${l}:${m}:${o} GMT`}let h=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),i=a=>{if(null==a)return;if("string"!=typeof a)throw TypeError("RFC-3339 date-times must be expressed as strings");let b=h.exec(a);if(!b)throw TypeError("Invalid RFC-3339 date-time value");let[c,e,f,g,i,j,k,l]=b,m=(0,d.zi)(C(e));return r(m,z(f,"month",1,12),z(g,"day",1,31),{hours:i,minutes:j,seconds:k,fractionalMilliseconds:l})},j=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),k=a=>{if(null==a)return;if("string"!=typeof a)throw TypeError("RFC-3339 date-times must be expressed as strings");let b=j.exec(a);if(!b)throw TypeError("Invalid RFC-3339 date-time value");let[c,e,f,g,h,i,k,l,m]=b,o=(0,d.zi)(C(e)),p=r(o,z(f,"month",1,12),z(g,"day",1,31),{hours:h,minutes:i,seconds:k,fractionalMilliseconds:l});return"Z"!=m.toUpperCase()&&p.setTime(p.getTime()-B(m)),p},l=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),m=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),o=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),p=a=>{if(null==a)return;if("string"!=typeof a)throw TypeError("RFC-7231 date-times must be expressed as strings");let b=l.exec(a);if(b){let[a,c,e,f,g,h,i,j]=b;return r((0,d.zi)(C(f)),v(e),z(c,"day",1,31),{hours:g,minutes:h,seconds:i,fractionalMilliseconds:j})}if(b=m.exec(a)){let[a,c,d,e,f,g,h,i]=b;return u(r(s(e),v(d),z(c,"day",1,31),{hours:f,minutes:g,seconds:h,fractionalMilliseconds:i}))}if(b=o.exec(a)){let[a,c,e,f,g,h,i,j]=b;return r((0,d.zi)(C(j)),v(c),z(e.trimLeft(),"day",1,31),{hours:f,minutes:g,seconds:h,fractionalMilliseconds:i})}throw TypeError("Invalid RFC-7231 date-time value")},q=a=>{let b;if(null!=a){if("number"==typeof a)b=a;else if("string"==typeof a)b=(0,d.OZ)(a);else if("object"==typeof a&&1===a.tag)b=a.value;else throw TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(b)||b===1/0||b===-1/0)throw TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*b))}},r=(a,b,c,d)=>{let e=b-1;return x(a,e,c),new Date(Date.UTC(a,e,c,z(d.hours,"hour",0,23),z(d.minutes,"minute",0,59),z(d.seconds,"seconds",0,60),A(d.fractionalMilliseconds)))},s=a=>{let b=new Date().getUTCFullYear(),c=100*Math.floor(b/100)+(0,d.zi)(C(a));return c<b?c+100:c},t=15768e8,u=a=>a.getTime()-new Date().getTime()>t?new Date(Date.UTC(a.getUTCFullYear()-100,a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())):a,v=a=>{let b=f.indexOf(a);if(b<0)throw TypeError(`Invalid month: ${a}`);return b+1},w=[31,28,31,30,31,30,31,31,30,31,30,31],x=(a,b,c)=>{let d=w[b];if(1===b&&y(a)&&(d=29),c>d)throw TypeError(`Invalid day for ${f[b]} in ${a}: ${c}`)},y=a=>a%4==0&&(a%100!=0||a%400==0),z=(a,b,c,e)=>{let f=(0,d.tW)(C(a));if(f<c||f>e)throw TypeError(`${b} must be between ${c} and ${e}, inclusive`);return f},A=a=>null==a?0:1e3*(0,d.UO)("0."+a),B=a=>{let b=a[0],c=1;if("+"==b)c=1;else if("-"==b)c=-1;else throw TypeError(`Offset direction, ${b}, must be "+" or "-"`);return c*(60*Number(a.substring(1,3))+Number(a.substring(4,6)))*6e4},C=a=>{let b=0;for(;b<a.length-1&&"0"===a.charAt(b);)b++;return 0===b?a:a.slice(b)}},40312:(a,b,c)=>{"use strict";let d,e=c(34589),f=c(33895),{channels:g}=c(20471),h=c(5460),{RequestContentLengthMismatchError:i,ResponseContentLengthMismatchError:j,RequestAbortedError:k,HeadersTimeoutError:l,HeadersOverflowError:m,SocketError:o,InformationalError:p,BodyTimeoutError:q,HTTPParserError:r,ResponseExceededMaxSizeError:s}=c(212),{kUrl:t,kReset:u,kClient:v,kParser:w,kBlocking:x,kRunning:y,kPending:z,kSize:A,kWriting:B,kQueue:C,kNoRef:D,kKeepAliveDefaultTimeout:E,kHostHeader:F,kPendingIdx:G,kRunningIdx:H,kError:I,kPipelining:J,kSocket:K,kKeepAliveTimeoutValue:L,kMaxHeadersSize:M,kKeepAliveMaxTimeout:N,kKeepAliveTimeoutThreshold:O,kHeadersTimeout:P,kBodyTimeout:Q,kStrictContentLength:R,kMaxRequests:S,kCounter:T,kMaxResponseSize:U,kOnError:V,kResume:W,kHTTPContext:X,kClosed:Y}=c(25394),Z=c(16725),$=Buffer.alloc(0),_=Buffer[Symbol.species],aa=f.removeAllListeners,ab=null,ac=async function(){let a,b=process.env.JEST_WORKER_ID?c(79771):void 0;try{a=await WebAssembly.compile(c(35581))}catch(d){a=await WebAssembly.compile(b||c(79771))}return await WebAssembly.instantiate(a,{env:{wasm_on_url:(a,b,c)=>0,wasm_on_status:(a,b,c)=>{e(ad.ptr===a);let d=b-ag+ae.byteOffset;return ad.onStatus(new _(ae.buffer,d,c))},wasm_on_message_begin:a=>(e(ad.ptr===a),ad.onMessageBegin()),wasm_on_header_field:(a,b,c)=>{e(ad.ptr===a);let d=b-ag+ae.byteOffset;return ad.onHeaderField(new _(ae.buffer,d,c))},wasm_on_header_value:(a,b,c)=>{e(ad.ptr===a);let d=b-ag+ae.byteOffset;return ad.onHeaderValue(new _(ae.buffer,d,c))},wasm_on_headers_complete:(a,b,c,d)=>(e(ad.ptr===a),ad.onHeadersComplete(b,1===c,1===d)),wasm_on_body:(a,b,c)=>{e(ad.ptr===a);let d=b-ag+ae.byteOffset;return ad.onBody(new _(ae.buffer,d,c))},wasm_on_message_complete:a=>(e(ad.ptr===a),ad.onMessageComplete())}})}();ac.catch();let ad=null,ae=null,af=0,ag=null,ah=1,ai=3,aj=5,ak=8;class al{constructor(a,b,{exports:c}){this.llhttp=c,this.ptr=this.llhttp.llhttp_alloc(Z.TYPE.RESPONSE),this.client=a,this.socket=b,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=0,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=a[M],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=a[U]}setTimeout(a,b){a!==this.timeoutValue||b&ah^this.timeoutType&ah?(this.timeout&&(h.clearTimeout(this.timeout),this.timeout=null),a&&(b&ah?this.timeout=h.setFastTimeout(am,a,new WeakRef(this)):(this.timeout=setTimeout(am,a,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=a):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=b}resume(){!this.socket.destroyed&&this.paused&&(e(null!=this.ptr),e(null===ad),this.llhttp.llhttp_resume(this.ptr),e(this.timeoutType===aj),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||$),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let a=this.socket.read();if(null===a)break;this.execute(a)}}execute(a){e(null===ad),e(null!=this.ptr),e(!this.paused);let{socket:b,llhttp:c}=this;a.length>af&&(ag&&c.free(ag),af=4096*Math.ceil(a.length/4096),ag=c.malloc(af)),new Uint8Array(c.memory.buffer,ag,af).set(a);try{let d;try{ae=a,ad=this,d=c.llhttp_execute(this.ptr,ag,a.length)}catch(a){throw a}finally{ad=null,ae=null}if(d!==Z.ERROR.OK){let e=a.subarray(c.llhttp_get_error_pos(this.ptr)-ag);if(d===Z.ERROR.PAUSED_UPGRADE)this.onUpgrade(e);else if(d===Z.ERROR.PAUSED)this.paused=!0,b.unshift(e);else{let a=c.llhttp_get_error_reason(this.ptr),b="";if(a){let d=new Uint8Array(c.memory.buffer,a).indexOf(0);b="Response does not match the HTTP/1.1 protocol ("+Buffer.from(c.memory.buffer,a,d).toString()+")"}throw new r(b,Z.ERROR[d],e)}}}catch(a){f.destroy(b,a)}}destroy(){e(null===ad),e(null!=this.ptr),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&h.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(a){return this.statusText=a.toString(),0}onMessageBegin(){let{socket:a,client:b}=this;if(a.destroyed)return -1;let c=b[C][b[H]];return c?(c.onResponseStarted(),0):-1}onHeaderField(a){let b=this.headers.length;return(1&b)==0?this.headers.push(a):this.headers[b-1]=Buffer.concat([this.headers[b-1],a]),this.trackHeader(a.length),0}onHeaderValue(a){let b=this.headers.length;(1&b)==1?(this.headers.push(a),b+=1):this.headers[b-1]=Buffer.concat([this.headers[b-1],a]);let c=this.headers[b-2];if(10===c.length){let b=f.bufferToLowerCasedHeaderName(c);"keep-alive"===b?this.keepAlive+=a.toString():"connection"===b&&(this.connection+=a.toString())}else 14===c.length&&"content-length"===f.bufferToLowerCasedHeaderName(c)&&(this.contentLength+=a.toString());return this.trackHeader(a.length),0}trackHeader(a){this.headersSize+=a,this.headersSize>=this.headersMaxSize&&f.destroy(this.socket,new m)}onUpgrade(a){let{upgrade:b,client:c,socket:d,headers:g,statusCode:h}=this;e(b),e(c[K]===d),e(!d.destroyed),e(!this.paused),e((1&g.length)==0);let i=c[C][c[H]];e(i),e(i.upgrade||"CONNECT"===i.method),this.statusCode=0,this.statusText="",this.shouldKeepAlive=!1,this.headers=[],this.headersSize=0,d.unshift(a),d[w].destroy(),d[w]=null,d[v]=null,d[I]=null,aa(d),c[K]=null,c[X]=null,c[C][c[H]++]=null,c.emit("disconnect",c[t],[c],new p("upgrade"));try{i.onUpgrade(h,g,d)}catch(a){f.destroy(d,a)}c[W]()}onHeadersComplete(a,b,c){let{client:d,socket:g,headers:h,statusText:i}=this;if(g.destroyed)return -1;let j=d[C][d[H]];if(!j)return -1;if(e(!this.upgrade),e(this.statusCode<200),100===a)return f.destroy(g,new o("bad response",f.getSocketInfo(g))),-1;if(b&&!j.upgrade)return f.destroy(g,new o("bad upgrade",f.getSocketInfo(g))),-1;if(e(this.timeoutType===ai),this.statusCode=a,this.shouldKeepAlive=c||"HEAD"===j.method&&!g[u]&&"keep-alive"===this.connection.toLowerCase(),this.statusCode>=200){let a=null!=j.bodyTimeout?j.bodyTimeout:d[Q];this.setTimeout(a,aj)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if("CONNECT"===j.method||b)return e(1===d[y]),this.upgrade=!0,2;if(e((1&this.headers.length)==0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&d[J]){let a=this.keepAlive?f.parseKeepAliveTimeout(this.keepAlive):null;if(null!=a){let b=Math.min(a-d[O],d[N]);b<=0?g[u]=!0:d[L]=b}else d[L]=d[E]}else g[u]=!0;let k=!1===j.onHeaders(a,h,this.resume,i);return j.aborted?-1:"HEAD"===j.method||a<200?1:(g[x]&&(g[x]=!1,d[W]()),k?Z.ERROR.PAUSED:0)}onBody(a){let{client:b,socket:c,statusCode:d,maxResponseSize:g}=this;if(c.destroyed)return -1;let h=b[C][b[H]];return(e(h),e(this.timeoutType===aj),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),e(d>=200),g>-1&&this.bytesRead+a.length>g)?(f.destroy(c,new s),-1):(this.bytesRead+=a.length,!1===h.onData(a))?Z.ERROR.PAUSED:0}onMessageComplete(){let{client:a,socket:b,statusCode:c,upgrade:d,headers:g,contentLength:h,bytesRead:i,shouldKeepAlive:k}=this;if(b.destroyed&&(!c||k))return -1;if(d)return 0;e(c>=100),e((1&this.headers.length)==0);let l=a[C][a[H]];return(e(l),this.statusCode=0,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,c<200)?0:"HEAD"!==l.method&&h&&i!==parseInt(h,10)?(f.destroy(b,new j),-1):(l.onComplete(g),a[C][a[H]++]=null,b[B])?(e(0===a[y]),f.destroy(b,new p("reset")),Z.ERROR.PAUSED):k?b[u]&&0===a[y]?(f.destroy(b,new p("reset")),Z.ERROR.PAUSED):(null==a[J]||1===a[J]?setImmediate(()=>a[W]()):a[W](),0):(f.destroy(b,new p("reset")),Z.ERROR.PAUSED)}}function am(a){let{socket:b,timeoutType:c,client:d,paused:g}=a.deref();c===ai?(!b[B]||b.writableNeedDrain||d[y]>1)&&(e(!g,"cannot be paused while waiting for headers"),f.destroy(b,new l)):c===aj?g||f.destroy(b,new q):c===ak&&(e(0===d[y]&&d[L]),f.destroy(b,new p("socket idle timeout")))}async function an(a,b){if(a[K]=b,!ab){let a=()=>{};b.on("error",a),ab=await ac,ac=null,b.off("error",a)}if(b.errored)throw b.errored;if(b.destroyed)throw new o("destroyed");return b[D]=!1,b[B]=!1,b[u]=!1,b[x]=!1,b[w]=new al(a,b,ab),f.addListener(b,"error",ao),f.addListener(b,"readable",ap),f.addListener(b,"end",aq),f.addListener(b,"close",ar),b[Y]=!1,b.on("close",as),{version:"h1",defaultPipelining:1,write:b=>av(a,b),resume(){at(a)},destroy(a,c){b[Y]?queueMicrotask(c):(b.on("close",c),b.destroy(a))},get destroyed(){return b.destroyed},busy:c=>!!(b[B]||b[u]||b[x]||c&&(a[y]>0&&!c.idempotent||a[y]>0&&(c.upgrade||"CONNECT"===c.method)||a[y]>0&&0!==f.bodyLength(c.body)&&(f.isStream(c.body)||f.isAsyncIterable(c.body)||f.isFormDataLike(c.body))))||!1}}function ao(a){e("ERR_TLS_CERT_ALTNAME_INVALID"!==a.code);let b=this[w];if("ECONNRESET"===a.code&&b.statusCode&&!b.shouldKeepAlive)return void b.onMessageComplete();this[I]=a,this[v][V](a)}function ap(){this[w]?.readMore()}function aq(){let a=this[w];if(a.statusCode&&!a.shouldKeepAlive)return void a.onMessageComplete();f.destroy(this,new o("other side closed",f.getSocketInfo(this)))}function ar(){let a=this[w];a&&(this[I]||!a.statusCode||a.shouldKeepAlive||a.onMessageComplete(),this[w].destroy(),this[w]=null);let b=this[I]||new o("closed",f.getSocketInfo(this)),c=this[v];if(c[K]=null,c[X]=null,c.destroyed){e(0===c[z]);let a=c[C].splice(c[H]);for(let d=0;d<a.length;d++){let e=a[d];f.errorRequest(c,e,b)}}else if(c[y]>0&&"UND_ERR_INFO"!==b.code){let a=c[C][c[H]];c[C][c[H]++]=null,f.errorRequest(c,a,b)}c[G]=c[H],e(0===c[y]),c.emit("disconnect",c[t],[c],b),c[W]()}function as(){this[Y]=!0}function at(a){let b=a[K];if(b&&!b.destroyed){if(0===a[A]?!b[D]&&b.unref&&(b.unref(),b[D]=!0):b[D]&&b.ref&&(b.ref(),b[D]=!1),0===a[A])b[w].timeoutType!==ak&&b[w].setTimeout(a[L],ak);else if(a[y]>0&&b[w].statusCode<200&&b[w].timeoutType!==ai){let c=a[C][a[H]],d=null!=c.headersTimeout?c.headersTimeout:a[P];b[w].setTimeout(d,ai)}}}function au(a){return"GET"!==a&&"HEAD"!==a&&"OPTIONS"!==a&&"TRACE"!==a&&"CONNECT"!==a}function av(a,b){let{method:h,path:j,host:l,upgrade:m,blocking:o,reset:q}=b,{body:r,headers:s,contentLength:t}=b,v="PUT"===h||"POST"===h||"PATCH"===h||"QUERY"===h||"PROPFIND"===h||"PROPPATCH"===h;if(f.isFormDataLike(r)){d||(d=c(41069).extractBody);let[a,e]=d(r);null==b.contentType&&s.push("content-type",e),r=a.stream,t=a.length}else f.isBlobLike(r)&&null==b.contentType&&r.type&&s.push("content-type",r.type);r&&"function"==typeof r.read&&r.read(0);let w=f.bodyLength(r);if(null===(t=w??t)&&(t=b.contentLength),0!==t||v||(t=null),au(h)&&t>0&&null!==b.contentLength&&b.contentLength!==t){if(a[R])return f.errorRequest(a,b,new i),!1;process.emitWarning(new i)}let y=a[K],z=c=>{b.aborted||b.completed||(f.errorRequest(a,b,c||new k),f.destroy(r),f.destroy(y,new p("aborted")))};try{b.onConnect(z)}catch(c){f.errorRequest(a,b,c)}if(b.aborted)return!1;"HEAD"===h&&(y[u]=!0),(m||"CONNECT"===h)&&(y[u]=!0),null!=q&&(y[u]=q),a[S]&&y[T]++>=a[S]&&(y[u]=!0),o&&(y[x]=!0);let A=`${h} ${j} HTTP/1.1\r
`;if("string"==typeof l?A+=`host: ${l}\r
`:A+=a[F],m?A+=`connection: upgrade\r
upgrade: ${m}\r
`:a[J]&&!y[u]?A+="connection: keep-alive\r\n":A+="connection: close\r\n",Array.isArray(s))for(let a=0;a<s.length;a+=2){let b=s[a+0],c=s[a+1];if(Array.isArray(c))for(let a=0;a<c.length;a++)A+=`${b}: ${c[a]}\r
`;else A+=`${b}: ${c}\r
`}return g.sendHeaders.hasSubscribers&&g.sendHeaders.publish({request:b,headers:A,socket:y}),r&&0!==w?f.isBuffer(r)?ax(z,r,a,b,y,t,A,v):f.isBlobLike(r)?"function"==typeof r.stream?az(z,r.stream(),a,b,y,t,A,v):ay(z,r,a,b,y,t,A,v):f.isStream(r)?aw(z,r,a,b,y,t,A,v):f.isIterable(r)?az(z,r,a,b,y,t,A,v):e(!1):ax(z,null,a,b,y,t,A,v),!0}function aw(a,b,c,d,g,h,i,j){e(0!==h||0===c[y],"stream body cannot be pipelined");let l=!1,m=new aA({abort:a,socket:g,request:d,contentLength:h,client:c,expectsPayload:j,header:i}),o=function(a){if(!l)try{!m.write(a)&&this.pause&&this.pause()}catch(a){f.destroy(this,a)}},p=function(){!l&&b.resume&&b.resume()},q=function(){if(queueMicrotask(()=>{b.removeListener("error",r)}),!l){let a=new k;queueMicrotask(()=>r(a))}},r=function(a){if(!l){if(l=!0,e(g.destroyed||g[B]&&c[y]<=1),g.off("drain",p).off("error",r),b.removeListener("data",o).removeListener("end",r).removeListener("close",q),!a)try{m.end()}catch(b){a=b}m.destroy(a),a&&("UND_ERR_INFO"!==a.code||"reset"!==a.message)?f.destroy(b,a):f.destroy(b)}};b.on("data",o).on("end",r).on("error",r).on("close",q),b.resume&&b.resume(),g.on("drain",p).on("error",r),b.errorEmitted??b.errored?setImmediate(()=>r(b.errored)):(b.endEmitted??b.readableEnded)&&setImmediate(()=>r(null)),(b.closeEmitted??b.closed)&&setImmediate(q)}function ax(a,b,c,d,g,h,i,j){try{b?f.isBuffer(b)&&(e(h===b.byteLength,"buffer body must have content length"),g.cork(),g.write(`${i}content-length: ${h}\r
\r
`,"latin1"),g.write(b),g.uncork(),d.onBodySent(b),j||!1===d.reset||(g[u]=!0)):0===h?g.write(`${i}content-length: 0\r
\r
`,"latin1"):(e(null===h,"no body must not have content length"),g.write(`${i}\r
`,"latin1")),d.onRequestSent(),c[W]()}catch(b){a(b)}}async function ay(a,b,c,d,f,g,h,j){e(g===b.size,"blob body must have content length");try{if(null!=g&&g!==b.size)throw new i;let a=Buffer.from(await b.arrayBuffer());f.cork(),f.write(`${h}content-length: ${g}\r
\r
`,"latin1"),f.write(a),f.uncork(),d.onBodySent(a),d.onRequestSent(),j||!1===d.reset||(f[u]=!0),c[W]()}catch(b){a(b)}}async function az(a,b,c,d,f,g,h,i){e(0!==g||0===c[y],"iterator body cannot be pipelined");let j=null;function k(){if(j){let a=j;j=null,a()}}let l=()=>new Promise((a,b)=>{e(null===j),f[I]?b(f[I]):j=a});f.on("close",k).on("drain",k);let m=new aA({abort:a,socket:f,request:d,contentLength:g,client:c,expectsPayload:i,header:h});try{for await(let a of b){if(f[I])throw f[I];m.write(a)||await l()}m.end()}catch(a){m.destroy(a)}finally{f.off("close",k).off("drain",k)}}class aA{constructor({abort:a,socket:b,request:c,contentLength:d,client:e,expectsPayload:f,header:g}){this.socket=b,this.request=c,this.contentLength=d,this.client=e,this.bytesWritten=0,this.expectsPayload=f,this.header=g,this.abort=a,b[B]=!0}write(a){let{socket:b,request:c,contentLength:d,client:e,bytesWritten:f,expectsPayload:g,header:h}=this;if(b[I])throw b[I];if(b.destroyed)return!1;let j=Buffer.byteLength(a);if(!j)return!0;if(null!==d&&f+j>d){if(e[R])throw new i;process.emitWarning(new i)}b.cork(),0===f&&(g||!1===c.reset||(b[u]=!0),null===d?b.write(`${h}transfer-encoding: chunked\r
`,"latin1"):b.write(`${h}content-length: ${d}\r
\r
`,"latin1")),null===d&&b.write(`\r
${j.toString(16)}\r
`,"latin1"),this.bytesWritten+=j;let k=b.write(a);return b.uncork(),c.onBodySent(a),!k&&b[w].timeout&&b[w].timeoutType===ai&&b[w].timeout.refresh&&b[w].timeout.refresh(),k}end(){let{socket:a,contentLength:b,client:c,bytesWritten:d,expectsPayload:e,header:f,request:g}=this;if(g.onRequestSent(),a[B]=!1,a[I])throw a[I];if(!a.destroyed){if(0===d?e?a.write(`${f}content-length: 0\r
\r
`,"latin1"):a.write(`${f}\r
`,"latin1"):null===b&&a.write("\r\n0\r\n\r\n","latin1"),null!==b&&d!==b)if(c[R])throw new i;else process.emitWarning(new i);a[w].timeout&&a[w].timeoutType===ai&&a[w].timeout.refresh&&a[w].timeout.refresh(),c[W]()}}destroy(a){let{socket:b,client:c,abort:d}=this;b[B]=!1,a&&(e(c[y]<=1,"pipeline should only contain this request"),d(a))}}a.exports=an},40353:(a,b,c)=>{"use strict";var d,e=c(20736),f=c(94169),g=c(99284),h=c(14260),i=c(78248),j=c(56810),k=c(64373),l=c(17159),m=c(92697),o=c(1055),p=c(93791),q=c(41353),r=c(27639),s=c(20693),t=c(82828),u=Function,v=function(a){try{return u('"use strict"; return ('+a+").constructor;")()}catch(a){}},w=c(22946),x=c(40823),y=function(){throw new k},z=w?function(){try{return arguments.callee,y}catch(a){try{return w(arguments,"callee").get}catch(a){return y}}}():y,A=c(66467)(),B=c(35953),C=c(30673),D=c(8791),E=c(29170),F=c(47960),G={},H="undefined"!=typeof Uint8Array&&B?B(Uint8Array):d,I={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?d:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?d:ArrayBuffer,"%ArrayIteratorPrototype%":A&&B?B([][Symbol.iterator]()):d,"%AsyncFromSyncIteratorPrototype%":d,"%AsyncFunction%":G,"%AsyncGenerator%":G,"%AsyncGeneratorFunction%":G,"%AsyncIteratorPrototype%":G,"%Atomics%":"undefined"==typeof Atomics?d:Atomics,"%BigInt%":"undefined"==typeof BigInt?d:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?d:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?d:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?d:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":f,"%eval%":eval,"%EvalError%":g,"%Float16Array%":"undefined"==typeof Float16Array?d:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?d:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?d:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?d:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":G,"%Int8Array%":"undefined"==typeof Int8Array?d:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?d:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?d:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A&&B?B(B([][Symbol.iterator]())):d,"%JSON%":"object"==typeof JSON?JSON:d,"%Map%":"undefined"==typeof Map?d:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&A&&B?B(new Map()[Symbol.iterator]()):d,"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?d:Promise,"%Proxy%":"undefined"==typeof Proxy?d:Proxy,"%RangeError%":h,"%ReferenceError%":i,"%Reflect%":"undefined"==typeof Reflect?d:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?d:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&A&&B?B(new Set()[Symbol.iterator]()):d,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?d:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A&&B?B(""[Symbol.iterator]()):d,"%Symbol%":A?Symbol:d,"%SyntaxError%":j,"%ThrowTypeError%":z,"%TypedArray%":H,"%TypeError%":k,"%Uint8Array%":"undefined"==typeof Uint8Array?d:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?d:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?d:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?d:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?d:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?d:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?d:WeakSet,"%Function.prototype.call%":F,"%Function.prototype.apply%":E,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":C,"%Math.abs%":m,"%Math.floor%":o,"%Math.max%":p,"%Math.min%":q,"%Math.pow%":r,"%Math.round%":s,"%Math.sign%":t,"%Reflect.getPrototypeOf%":D};if(B)try{null.error}catch(a){var J=B(B(a));I["%Error.prototype%"]=J}var K=function a(b){var c;if("%AsyncFunction%"===b)c=v("async function () {}");else if("%GeneratorFunction%"===b)c=v("function* () {}");else if("%AsyncGeneratorFunction%"===b)c=v("async function* () {}");else if("%AsyncGenerator%"===b){var d=a("%AsyncGeneratorFunction%");d&&(c=d.prototype)}else if("%AsyncIteratorPrototype%"===b){var e=a("%AsyncGenerator%");e&&B&&(c=B(e.prototype))}return I[b]=c,c},L={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=c(67281),N=c(69719),O=M.call(F,Array.prototype.concat),P=M.call(E,Array.prototype.splice),Q=M.call(F,String.prototype.replace),R=M.call(F,String.prototype.slice),S=M.call(F,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U=/\\(\\)?/g,V=function(a){var b=R(a,0,1),c=R(a,-1);if("%"===b&&"%"!==c)throw new j("invalid intrinsic syntax, expected closing `%`");if("%"===c&&"%"!==b)throw new j("invalid intrinsic syntax, expected opening `%`");var d=[];return Q(a,T,function(a,b,c,e){d[d.length]=c?Q(e,U,"$1"):b||a}),d},W=function(a,b){var c,d=a;if(N(L,d)&&(d="%"+(c=L[d])[0]+"%"),N(I,d)){var e=I[d];if(e===G&&(e=K(d)),void 0===e&&!b)throw new k("intrinsic "+a+" exists, but is not available. Please file an issue!");return{alias:c,name:d,value:e}}throw new j("intrinsic "+a+" does not exist!")};a.exports=function(a,b){if("string"!=typeof a||0===a.length)throw new k("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof b)throw new k('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/,a))throw new j("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var c=V(a),d=c.length>0?c[0]:"",e=W("%"+d+"%",b),f=e.name,g=e.value,h=!1,i=e.alias;i&&(d=i[0],P(c,O([0,1],i)));for(var l=1,m=!0;l<c.length;l+=1){var o=c[l],p=R(o,0,1),q=R(o,-1);if(('"'===p||"'"===p||"`"===p||'"'===q||"'"===q||"`"===q)&&p!==q)throw new j("property names with quotes must have matching quotes");if("constructor"!==o&&m||(h=!0),d+="."+o,N(I,f="%"+d+"%"))g=I[f];else if(null!=g){if(!(o in g)){if(!b)throw new k("base intrinsic for "+a+" exists, but the property is not available.");return}if(w&&l+1>=c.length){var r=w(g,o);g=(m=!!r)&&"get"in r&&!("originalValue"in r.get)?r.get:g[o]}else m=N(g,o),g=g[o];m&&!h&&(I[f]=g)}}return g}},40386:(a,b,c)=>{"use strict";let d=c(90165),{cursor:e}=c(1298),f=c(58214),{clear:g,style:h,figures:i}=c(67406);class j extends f{constructor(a={}){a.overrideRender=!0,super(a),this.inputValue="",this.clear=g("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let a=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(a=>!this.inputValue||!!("string"==typeof a.title&&a.title.toLowerCase().includes(this.inputValue.toLowerCase())||"string"==typeof a.value&&a.value.toLowerCase().includes(this.inputValue.toLowerCase())));let b=this.filteredOptions.findIndex(b=>b===a);this.cursor=b<0?0:b,this.render()}handleSpaceToggle(){let a=this.filteredOptions[this.cursor];if(a.selected)a.selected=!1,this.render();else{if(a.disabled||this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();a.selected=!0,this.render()}}handleInputChange(a){this.inputValue=this.inputValue+a,this.updateFilteredOptions()}_(a,b){" "===a?this.handleSpaceToggle():this.handleInputChange(a)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${i.arrowUp}/${i.arrowDown}: Highlight option
    ${i.arrowLeft}/${i.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:d.gray("Enter something to filter")}
`}renderOption(a,b,c){let e;return e=b.disabled?a===c?d.gray().underline(b.title):d.strikethrough().gray(b.title):a===c?d.cyan().underline(b.title):b.title,(b.selected?d.green(i.radioOn):i.radioOff)+"  "+e}renderDoneOrInstructions(){if(this.done)return this.value.filter(a=>a.selected).map(a=>a.title).join(", ");let a=[d.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&a.push(d.yellow(this.warn)),a.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let a=[h.symbol(this.done,this.aborted),d.bold(this.msg),h.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(a+=d.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),a+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+a),this.clear=g(a,this.out.columns)}}a.exports=j},40424:a=>{"use strict";function b(a){for(let b=0;b<a.length;++b){let c=a.charCodeAt(b);if(c>=0&&c<=8||c>=10&&c<=31||127===c)return!0}return!1}function c(a){for(let b=0;b<a.length;++b){let c=a.charCodeAt(b);if(c<33||c>126||34===c||40===c||41===c||60===c||62===c||64===c||44===c||59===c||58===c||92===c||47===c||91===c||93===c||63===c||61===c||123===c||125===c)throw Error("Invalid cookie name")}}function d(a){let b=a.length,c=0;if('"'===a[0]){if(1===b||'"'!==a[b-1])throw Error("Invalid cookie value");--b,++c}for(;c<b;){let b=a.charCodeAt(c++);if(b<33||b>126||34===b||44===b||59===b||92===b)throw Error("Invalid cookie value")}}function e(a){for(let b=0;b<a.length;++b){let c=a.charCodeAt(b);if(c<32||127===c||59===c)throw Error("Invalid cookie path")}}function f(a){if(a.startsWith("-")||a.endsWith(".")||a.endsWith("-"))throw Error("Invalid cookie domain")}let g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=Array(61).fill(0).map((a,b)=>b.toString().padStart(2,"0"));function j(a){return"number"==typeof a&&(a=new Date(a)),`${g[a.getUTCDay()]}, ${i[a.getUTCDate()]} ${h[a.getUTCMonth()]} ${a.getUTCFullYear()} ${i[a.getUTCHours()]}:${i[a.getUTCMinutes()]}:${i[a.getUTCSeconds()]} GMT`}function k(a){if(a<0)throw Error("Invalid cookie max-age")}function l(a){if(0===a.name.length)return null;c(a.name),d(a.value);let b=[`${a.name}=${a.value}`];for(let c of(a.name.startsWith("__Secure-")&&(a.secure=!0),a.name.startsWith("__Host-")&&(a.secure=!0,a.domain=null,a.path="/"),a.secure&&b.push("Secure"),a.httpOnly&&b.push("HttpOnly"),"number"==typeof a.maxAge&&(k(a.maxAge),b.push(`Max-Age=${a.maxAge}`)),a.domain&&(f(a.domain),b.push(`Domain=${a.domain}`)),a.path&&(e(a.path),b.push(`Path=${a.path}`)),a.expires&&"Invalid Date"!==a.expires.toString()&&b.push(`Expires=${j(a.expires)}`),a.sameSite&&b.push(`SameSite=${a.sameSite}`),a.unparsed)){if(!c.includes("="))throw Error("Invalid unparsed");let[a,...d]=c.split("=");b.push(`${a.trim()}=${d.join("=")}`)}return b.join("; ")}a.exports={isCTLExcludingHtab:b,validateCookieName:c,validateCookiePath:e,validateCookieValue:d,toIMFDate:j,stringify:l}},40517:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"isDynamicRoute",{enumerable:!0,get:function(){return g}});let d=c(38120),e=/\/[^/]*\[[^/]+\][^/]*(?=\/|$)/,f=/\/\[[^/]+\](?=\/|$)/;function g(a,b){return(void 0===b&&(b=!0),(0,d.isInterceptionRouteAppPath)(a)&&(a=(0,d.extractInterceptionRouteInformation)(a).interceptedRoute),b)?f.test(a):e.test(a)}},40581:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.callRef=b.getValidate=void 0;let d=c(3235),e=c(55613),f=c(86397),g=c(13491),h=c(55711),i=c(49943),j={keyword:"$ref",schemaType:"string",code(a){let{gen:b,schema:c,it:e}=a,{baseId:g,schemaEnv:i,validateName:j,opts:m,self:o}=e,{root:p}=i;if(("#"===c||"#/"===c)&&g===p.baseId)return r();let q=h.resolveRef.call(o,p,g,c);if(void 0===q)throw new d.default(e.opts.uriResolver,g,c);if(q instanceof h.SchemaEnv)return s(q);return t(q);function r(){if(i===p)return l(a,j,i,i.$async);let c=b.scopeValue("root",{ref:p});return l(a,(0,f._)`${c}.validate`,p,p.$async)}function s(b){let c=k(a,b);l(a,c,b,b.$async)}function t(d){let e=b.scopeValue("schema",!0===m.code.source?{ref:d,code:(0,f.stringify)(d)}:{ref:d}),g=b.name("valid"),h=a.subschema({schema:d,dataTypes:[],schemaPath:f.nil,topSchemaRef:e,errSchemaPath:c},g);a.mergeEvaluated(h),a.ok(g)}}};function k(a,b){let{gen:c}=a;return b.validate?c.scopeValue("validate",{ref:b.validate}):(0,f._)`${c.scopeValue("wrapper",{ref:b})}.validate`}function l(a,b,c,d){let{gen:h,it:j}=a,{allErrors:k,schemaEnv:l,opts:m}=j,o=m.passContext?g.default.this:f.nil;function p(){if(!l.$async)throw Error("async schema referenced by sync schema");let c=h.let("valid");h.try(()=>{h.code((0,f._)`await ${(0,e.callValidateCode)(a,b,o)}`),s(b),k||h.assign(c,!0)},a=>{h.if((0,f._)`!(${a} instanceof ${j.ValidationError})`,()=>h.throw(a)),r(a),k||h.assign(c,!1)}),a.ok(c)}function q(){a.result((0,e.callValidateCode)(a,b,o),()=>s(b),()=>r(b))}function r(a){let b=(0,f._)`${a}.errors`;h.assign(g.default.vErrors,(0,f._)`${g.default.vErrors} === null ? ${b} : ${g.default.vErrors}.concat(${b})`),h.assign(g.default.errors,(0,f._)`${g.default.vErrors}.length`)}function s(a){var b;if(!j.opts.unevaluated)return;let d=null==(b=null==c?void 0:c.validate)?void 0:b.evaluated;if(!0!==j.props)if(d&&!d.dynamicProps)void 0!==d.props&&(j.props=i.mergeEvaluated.props(h,d.props,j.props));else{let b=h.var("props",(0,f._)`${a}.evaluated.props`);j.props=i.mergeEvaluated.props(h,b,j.props,f.Name)}if(!0!==j.items)if(d&&!d.dynamicItems)void 0!==d.items&&(j.items=i.mergeEvaluated.items(h,d.items,j.items));else{let b=h.var("items",(0,f._)`${a}.evaluated.items`);j.items=i.mergeEvaluated.items(h,b,j.items,f.Name)}}d?p():q()}b.getValidate=k,b.callRef=l,b.default=j},40639:a=>{"use strict";class b{constructor({token:a,date:b,parts:c,locales:d}){this.token=a,this.date=b||new Date,this.parts=c||[this],this.locales=d||{}}up(){}down(){}next(){let a=this.parts.indexOf(this);return this.parts.find((c,d)=>d>a&&c instanceof b)}setTo(a){}prev(){let a=[].concat(this.parts).reverse(),c=a.indexOf(this);return a.find((a,d)=>d>c&&a instanceof b)}toString(){return String(this.date)}}a.exports=b},40705:(a,b,c)=>{"use strict";c.d(b,{CG:()=>f,Y2:()=>e,cJ:()=>g});var d=c(6432);let e=(a,b)=>(0,d.w)(a,b).then(a=>{if(a.length)try{return JSON.parse(a)}catch(b){throw b?.name==="SyntaxError"&&Object.defineProperty(b,"$responseBodyText",{value:a}),b}return{}}),f=async(a,b)=>{let c=await e(a,b);return c.message=c.message??c.Message,c},g=(a,b)=>{let c=(a,b)=>Object.keys(a).find(a=>a.toLowerCase()===b.toLowerCase()),d=a=>{let b=a;return"number"==typeof b&&(b=b.toString()),b.indexOf(",")>=0&&(b=b.split(",")[0]),b.indexOf(":")>=0&&(b=b.split(":")[0]),b.indexOf("#")>=0&&(b=b.split("#")[1]),b},e=c(a.headers,"x-amzn-errortype");if(void 0!==e)return d(a.headers[e]);if(b&&"object"==typeof b){let a=c(b,"code");if(a&&void 0!==b[a])return d(b[a]);if(void 0!==b.__type)return d(b.__type)}}},40741:(a,b,c)=>{"use strict";c.d(b,{j:()=>i});var d=c(38200),e=c(8615),f=c(84670),g=c(42788),h=c(42526);let i=async function({collection:a,data:b,joins:c,limit:i,locale:j,req:k,returning:l,select:m,sort:o,where:p}){let q=await (0,h.x)(this,k),r=this.payload.collections[a].config,s=this.tableNameMap.get(d(r.slug)),t=null!=o?o:r.defaultSort,{joins:u,orderBy:v,selectFields:w,where:x}=(0,e.Z)({adapter:this,fields:r.flattenedFields,locale:j,sort:t,tableName:s,where:p}),y=[],z=await (0,f.t)({adapter:this,db:q,joins:u,query:({query:a})=>v?a.orderBy(()=>v.map(({column:a,order:b})=>b(a))):a,selectFields:w,tableName:s,where:x});if(z?.[0]?.id)y=z?.map(a=>a.id);else if(p&&!u.length){let a=q,b=this.tables[s],c=a.select({id:b.id}).from(b).where(x).$dynamic();"number"==typeof i&&i>0&&(c=c.limit(i)),v&&(c=c.orderBy(()=>v.map(({column:a,order:b})=>b(a))));let d=await c;y=d?.map(a=>a.id)}if(!y.length)return[];let A=[];for(let a of y){let d=await (0,g.q)({id:a,adapter:this,data:b,db:q,fields:r.flattenedFields,ignoreResult:!1===l,joinQuery:c,operation:"update",req:k,select:m,tableName:s});A.push(d)}return!1===l?null:A}},40823:a=>{"use strict";var b=Object.defineProperty||!1;if(b)try{b({},"a",{value:1})}catch(a){b=!1}a.exports=b},40896:(a,b,c)=>{"use strict";c.d(b,{u:()=>h});var d=c(788),e=c(55900),f=c(83038),g=c(86586);async function h(){let{payload:a}=this,b=await (0,e.I)({payload:a});a.logger.debug({msg:`Found ${b.length} migration files.`});let c=[];if(await (0,g.r)(this)&&({existingMigrations:c}=await (0,f.A)({payload:a})),!b.length)return void a.logger.info({msg:"No migrations found."});let h=b.map(a=>{let b=c.find(b=>b.name===a.name);return{Name:a.name,Batch:b?.batch,Ran:b?"Yes":"No"}}),i=new d.Table;h.forEach(a=>{i.addRow(a,{color:"Yes"===a.Ran?"green":"red"})}),i.printTable()}},41069:(a,b,c)=>{"use strict";let d,e,f=c(33895),{ReadableStreamFrom:g,readableStreamClose:h,createDeferredPromise:i,fullyReadBody:j,extractMimeType:k,utf8DecodeBytes:l}=c(45293),{FormData:m,setFormDataState:o}=c(40112),{webidl:p}=c(2312),{Blob:q}=c(4573),r=c(34589),{isErrored:s,isDisturbed:t}=c(57075),{isArrayBuffer:u}=c(73429),{serializeAMimeType:v}=c(86541),{multipartFormDataParser:w}=c(14995);try{let a=c(77598);d=b=>a.randomInt(0,b)}catch{d=a=>Math.floor(Math.random()*a)}let x=new TextEncoder;function y(){}let z=globalThis.FinalizationRegistry&&0!==process.version.indexOf("v18");function A(a,b=!1){let c=null;c=p.is.ReadableStream(a)?a:p.is.Blob(a)?a.stream():new ReadableStream({async pull(a){let b="string"==typeof i?x.encode(i):i;b.byteLength&&a.enqueue(b),queueMicrotask(()=>h(a))},start(){},type:"bytes"}),r(p.is.ReadableStream(c));let e=null,i=null,j=null,k=null;if("string"==typeof a)i=a,k="text/plain;charset=UTF-8";else if(p.is.URLSearchParams(a))i=a.toString(),k="application/x-www-form-urlencoded;charset=UTF-8";else if(u(a))i=new Uint8Array(a.slice());else if(ArrayBuffer.isView(a))i=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength));else if(p.is.FormData(a)){let b=`----formdata-undici-0${`${d(1e11)}`.padStart(11,"0")}`,c=`--${b}\r
Content-Disposition: form-data`,f=a=>a.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),g=a=>a.replace(/\r?\n|\r/g,"\r\n"),h=[],l=new Uint8Array([13,10]);j=0;let m=!1;for(let[b,d]of a)if("string"==typeof d){let a=x.encode(c+`; name="${f(g(b))}"`+`\r
\r
${g(d)}\r
`);h.push(a),j+=a.byteLength}else{let a=x.encode(`${c}; name="${f(g(b))}"`+(d.name?`; filename="${f(d.name)}"`:"")+"\r\n"+`Content-Type: ${d.type||"application/octet-stream"}\r
\r
`);h.push(a,d,l),"number"==typeof d.size?j+=a.byteLength+d.size+l.byteLength:m=!0}let o=x.encode(`--${b}--\r
`);h.push(o),j+=o.byteLength,m&&(j=null),i=a,e=async function*(){for(let a of h)a.stream?yield*a.stream():yield a},k=`multipart/form-data; boundary=${b}`}else if(p.is.Blob(a))i=a,j=a.size,a.type&&(k=a.type);else if("function"==typeof a[Symbol.asyncIterator]){if(b)throw TypeError("keepalive");if(f.isDisturbed(a)||a.locked)throw TypeError("Response body object should not be disturbed or locked");c=p.is.ReadableStream(a)?a:g(a)}if(("string"==typeof i||f.isBuffer(i))&&(j=Buffer.byteLength(i)),null!=e){let b;c=new ReadableStream({async start(){b=e(a)[Symbol.asyncIterator]()},async pull(a){let{value:d,done:e}=await b.next();if(e)queueMicrotask(()=>{a.close(),a.byobRequest?.respond(0)});else if(!s(c)){let b=new Uint8Array(d);b.byteLength&&a.enqueue(b)}return a.desiredSize>0},async cancel(a){await b.return()},type:"bytes"})}return[{stream:c,source:i,length:j},k]}function B(a,b=!1){return p.is.ReadableStream(a)&&(r(!f.isDisturbed(a),"The body has already been consumed."),r(!a.locked,"The stream is locked.")),A(a,b)}function C(a){if(a.aborted)throw new DOMException("The operation was aborted.","AbortError")}function D(a,b){return{blob(){return E(this,a=>{let c=H(b(this));return null===c?c="":c&&(c=v(c)),new q([a],{type:c})},a,b)},arrayBuffer(){return E(this,a=>new Uint8Array(a).buffer,a,b)},text(){return E(this,l,a,b)},json(){return E(this,G,a,b)},formData(){return E(this,a=>{let c=H(b(this));if(null!==c)switch(c.essence){case"multipart/form-data":{let b=w(a,c),d=new m;return o(d,b),d}case"application/x-www-form-urlencoded":{let b=new URLSearchParams(a.toString()),c=new m;for(let[a,d]of b)c.append(a,d);return c}}throw TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},a,b)},bytes(){return E(this,a=>new Uint8Array(a),a,b)}}}async function E(a,b,c,d){p.brandCheck(a,c);let e=d(a);if(F(e))throw TypeError("Body is unusable: Body has already been read");C(e);let f=i(),g=a=>f.reject(a),h=a=>{try{f.resolve(b(a))}catch(a){g(a)}};return null==e.body?h(Buffer.allocUnsafe(0)):j(e.body,h,g),f.promise}function F(a){let b=a.body;return null!=b&&(b.stream.locked||f.isDisturbed(b.stream))}function G(a){return JSON.parse(l(a))}function H(a){let b=k(a.headersList);return"failure"===b?null:b}z&&(e=new FinalizationRegistry(a=>{let b=a.deref();!b||b.locked||t(b)||s(b)||b.cancel("Response object has been garbage collected").catch(y)})),a.exports={extractBody:A,safelyExtractBody:B,cloneBody:function(a,b){let[c,d]=b.stream.tee();return z&&e.register(a,new WeakRef(c)),b.stream=c,{stream:d,length:b.length,source:b.source}},mixinBody:function(a,b){Object.assign(a.prototype,D(a,b))},streamRegistry:e,hasFinalizationRegistry:z,bodyUnusable:F}},41098:(a,b,c)=>{"use strict";function d(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=e(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,f=function(){};return{s:f,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:f}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g,h=!0,i=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return h=a.done,a},e:function(a){i=!0,g=a},f:function(){try{h||null==c.return||c.return()}finally{if(i)throw g}}}}function e(a,b){if(a){if("string"==typeof a)return f(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return f(a,b)}}function f(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}let g=c(31121),h=c(1298),i=h.erase,j=h.cursor,k=a=>[...g(a)].length;a.exports=function(a,b){if(!b)return i.line+j.to(0);let c=0;var e,f=d(a.split(/\r?\n/));try{for(f.s();!(e=f.n()).done;){let a=e.value;c+=1+Math.floor(Math.max(k(a)-1,0)/b)}}catch(a){f.e(a)}finally{f.f()}return i.lines(c)}},41154:(a,b,c)=>{"use strict";c.d(b,{K:()=>e});let d=({fields:a,sort:b})=>{let c=b,d=!1;for(let e of(0===b.indexOf("-")&&(d=!0,c=c.substring(1)),c.split("."))){let b=a.find(a=>a.name===e);if(!b)break;if("fields"in b){a=b.flattenedFields;continue}if("virtual"in b&&"string"==typeof b.virtual)return`${d?"-":""}${b.virtual}`}return b},e=({fields:a,sort:b})=>{if(b)return Array.isArray(b)?b.map(b=>d({fields:a,sort:b})):d({fields:a,sort:b})}},41211:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ByteArrayCollector=void 0;class c{allocByteArray;byteLength=0;byteArrays=[];constructor(a){this.allocByteArray=a}push(a){this.byteArrays.push(a),this.byteLength+=a.byteLength}flush(){if(1===this.byteArrays.length){let a=this.byteArrays[0];return this.reset(),a}let a=this.allocByteArray(this.byteLength),b=0;for(let c=0;c<this.byteArrays.length;++c){let d=this.byteArrays[c];a.set(d,b),b+=d.byteLength}return this.reset(),a}reset(){this.byteArrays=[],this.byteLength=0}}b.ByteArrayCollector=c},41353:a=>{"use strict";a.exports=Math.min},41426:(a,b,c)=>{"use strict";c.d(b,{o:()=>e});let d=RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),e=a=>d.test(a)||a.startsWith("[")&&a.endsWith("]")},41490:(a,b,c)=>{"use strict";c.d(b,{l:()=>d});let d=a=>{switch(a){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}}},41575:(a,b)=>{"use strict";async function c(a){return"function"==typeof a.stream&&(a=a.stream()),a.tee()}Object.defineProperty(b,"__esModule",{value:!0}),b.splitStream=c},41617:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(86397);b.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,d.str)`must match format "${a}"`,params:({schemaCode:a})=>(0,d._)`{format: ${a}}`},code(a,b){let{gen:c,data:e,$data:f,schema:g,schemaCode:h,it:i}=a,{opts:j,errSchemaPath:k,schemaEnv:l,self:m}=i;function o(){let f=c.scopeValue("formats",{ref:m.formats,code:j.code.formats}),g=c.const("fDef",(0,d._)`${f}[${h}]`),i=c.let("fType"),k=c.let("format");function o(){return!1===j.strictSchema?d.nil:(0,d._)`${h} && !${k}`}function p(){let a=l.$async?(0,d._)`(${g}.async ? await ${k}(${e}) : ${k}(${e}))`:(0,d._)`${k}(${e})`,c=(0,d._)`(typeof ${k} == "function" ? ${a} : ${k}.test(${e}))`;return(0,d._)`${k} && ${k} !== true && ${i} === ${b} && !${c}`}c.if((0,d._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>c.assign(i,(0,d._)`${g}.type || "string"`).assign(k,(0,d._)`${g}.validate`),()=>c.assign(i,(0,d._)`"string"`).assign(k,g)),a.fail$data((0,d.or)(o(),p()))}function p(){let f=m.formats[g];if(!f)return void p();if(!0===f)return;let[h,i,o]=q(f);function p(){if(!1===j.strictSchema)return void m.logger.warn(a());throw Error(a());function a(){return`unknown format "${g}" ignored in schema at path "${k}"`}}function q(a){let b=a instanceof RegExp?(0,d.regexpCode)(a):j.code.formats?(0,d._)`${j.code.formats}${(0,d.getProperty)(g)}`:void 0,e=c.scopeValue("formats",{key:g,ref:a,code:b});return"object"!=typeof a||a instanceof RegExp?["string",a,e]:[a.type||"string",a.validate,(0,d._)`${e}.validate`]}function r(){if("object"==typeof f&&!(f instanceof RegExp)&&f.async){if(!l.$async)throw Error("async format in sync schema");return(0,d._)`await ${o}(${e})`}return"function"==typeof i?(0,d._)`${o}(${e})`:(0,d._)`${o}.test(${e})`}h===b&&a.pass(r())}j.validateFormats&&(f?o():p())}}},41619:(a,b,c)=>{"use strict";let d=c(90165),e=c(32741),{style:f,clear:g,figures:h}=c(67406),{erase:i,cursor:j}=c(1298),{DatePart:k,Meridiem:l,Day:m,Hours:o,Milliseconds:p,Minutes:q,Month:r,Seconds:s,Year:t}=c(92844),u=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,v={1:({token:a})=>a.replace(/\\(.)/g,"$1"),2:a=>new m(a),3:a=>new r(a),4:a=>new t(a),5:a=>new l(a),6:a=>new o(a),7:a=>new q(a),8:a=>new s(a),9:a=>new p(a)},w={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class x extends e{constructor(a={}){super(a),this.msg=a.message,this.cursor=0,this.typed="",this.locales=Object.assign(w,a.locales),this._date=a.initial||new Date,this.errorMsg=a.error||"Please Enter A Valid Value",this.validator=a.validate||(()=>!0),this.mask=a.mask||"YYYY-MM-DD HH:mm:ss",this.clear=g("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(a){a&&this._date.setTime(a.getTime())}set mask(a){let b;for(this.parts=[];b=u.exec(a);){let a=b.shift(),c=b.findIndex(a=>null!=a);this.parts.push(c in v?v[c]({token:b[c]||a,date:this.date,parts:this.parts,locales:this.locales}):b[c]||a)}let c=this.parts.reduce((a,b)=>("string"==typeof b&&"string"==typeof a[a.length-1]?a[a.length-1]+=b:a.push(b),a),[]);this.parts.splice(0),this.parts.push(...c),this.reset()}moveCursor(a){this.typed="",this.cursor=a,this.fire()}reset(){this.moveCursor(this.parts.findIndex(a=>a instanceof k)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let a=await this.validator(this.value);"string"==typeof a&&(this.errorMsg=a,a=!1),this.error=!a}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let a=this.parts[this.cursor].prev();if(null==a)return this.bell();this.moveCursor(this.parts.indexOf(a)),this.render()}right(){let a=this.parts[this.cursor].next();if(null==a)return this.bell();this.moveCursor(this.parts.indexOf(a)),this.render()}next(){let a=this.parts[this.cursor].next();this.moveCursor(a?this.parts.indexOf(a):this.parts.findIndex(a=>a instanceof k)),this.render()}_(a){/\d/.test(a)&&(this.typed+=a,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(j.hide):this.out.write(g(this.outputText,this.out.columns)),super.render(),this.outputText=[f.symbol(this.done,this.aborted),d.bold(this.msg),f.delimiter(!1),this.parts.reduce((a,b,c)=>a.concat(c!==this.cursor||this.done?b:d.cyan().underline(b.toString())),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce((a,b,c)=>a+`
${c?" ":h.pointerSmall} ${d.red().italic(b)}`,"")),this.out.write(i.line+j.to(0)+this.outputText))}}a.exports=x},41640:(a,b,c)=>{"use strict";c.d(b,{T:()=>f,r:()=>e});var d=c(23073);function e(a){let{data:b,payload:{config:c}}=a;if(b){let d,e,g=a.locale,h=a.fallbackLocale;if(!g&&b?.locale&&"string"==typeof b.locale&&(d=b.locale),!h&&(b?.["fallback-locale"]&&"string"==typeof b?.["fallback-locale"]&&(e=b["fallback-locale"]),b?.fallbackLocale&&"string"==typeof b?.fallbackLocale&&(e=b.fallbackLocale)),!g||!h){let{fallbackLocale:b,locale:g}=f({fallbackLocale:e,locale:d,localization:c.localization});d&&(a.locale=g),e&&(a.fallbackLocale=b)}}}let f=({fallbackLocale:a,locale:b,localization:c})=>(c&&(a=(0,d.m)({fallbackLocale:a,locale:b,localization:c})),["*","all"].includes(b)?b="all":c&&!c.localeCodes.includes(b)&&c.fallback&&(b=c.defaultLocale),{fallbackLocale:a,locale:b})},41842:(a,b,c)=>{"use strict";function d(a){let b=!!a?.root?.children?.length,c=!1;if(a?.root?.children?.length===1&&a?.root?.children[0]?.type==="paragraph"){let b=a?.root?.children[0];if(b?.children&&b?.children?.length!==0){if(b?.children?.length===1){let a=b?.children[0];a?.type!=="text"||a?.text?.length||(c=!0)}}else c=!0}return!!b&&!c}c.d(b,{I:()=>d})},42012:a=>{"use strict";a.exports=function a({input:a,ident:b="    ",eol:c="\n"}){let d=a.split(/\r?\n/);for(let a=1;a<d.length;a+=1)d[a]=b+d[a];return d.join(c)}},42039:a=>{"use strict";a.exports=(a,b={})=>{let c=Number.isSafeInteger(parseInt(b.margin))?Array(parseInt(b.margin)).fill(" ").join(""):b.margin||"",d=b.width;return(a||"").split(/\r?\n/g).map(a=>a.split(/\s+/g).reduce((a,b)=>(b.length+c.length>=d||a[a.length-1].length+b.length+1<d?a[a.length-1]+=` ${b}`:a.push(`${c}${b}`),a),[c]).join("\n")).join("\n")}},42314:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.biggestWordInSentence=b.textWithPadding=b.splitTextIntoTextsOfMinLen=void 0;let d=c(22362);b.splitTextIntoTextsOfMinLen=(a,b,c)=>{let e=[];return a.split(/[\n\r]/).forEach(a=>{let f=a.split(" "),g=[],h=0;f.forEach(a=>{let f=(0,d.findWidthInConsole)(a,c);h+f<=b?(h+=f+1,g.push(a)):(g.length>0&&e.push(g.join(" ")),g=[a],h=f+1)}),e.push(g.join(" "))}),e};let e=(a,c,e,f)=>{let g=(0,d.findWidthInConsole)(a,f),h=Math.floor((e-g)/2),i=e-h-g;if(e<g){let d=(0,b.splitTextIntoTextsOfMinLen)(a,e);return 1===d.length?a:d.map(a=>(0,b.textWithPadding)(a,c,e,f)).join("\n")}switch(c){case"left":return a.concat(" ".repeat(e-g));case"center":return" ".repeat(h).concat(a).concat(" ".repeat(i));default:return" ".repeat(e-g).concat(a)}};b.textWithPadding=e,b.biggestWordInSentence=(a,b)=>a.split(" ").reduce((a,c)=>Math.max(a,(0,d.findWidthInConsole)(c,b)),0)},42349:(a,b,c)=>{"use strict";a.exports=r;let d=c(78946),e=c(46755),f=c(77258),g=c(59969),h=c(49564),i=c(6850),j=c(21036),k=c(76102),l=c(40234),{LEVELS:m,LEVEL_KEY:o,LEVEL_NAMES:p}=c(3612),q=a=>{try{return{value:d.parse(a,{protoAction:"remove"})}}catch(a){return{err:a}}};function r(a){let b;if(e(a))b=a;else{let c=q(a);if(c.err||!e(c.value))return a+this.EOL;b=c.value}if(this.minimumLevel){let a,c;if((c=(a=this.useOnlyCustomProps?this.customLevels:void 0!==this.customLevelNames[this.minimumLevel])?this.customLevelNames[this.minimumLevel]:p[this.minimumLevel])||(c="string"==typeof this.minimumLevel?p[this.minimumLevel]:p[m[this.minimumLevel].toLowerCase()]),b[void 0===this.levelKey?o:this.levelKey]<c)return}let c=h({log:b,context:this.context});(this.ignoreKeys||this.includeKeys)&&(b=l({log:b,context:this.context}));let d=g({log:b,context:{...this.context,...this.context.customProperties}}),r=i({log:b,context:this.context}),s=k({log:b,context:this.context}),t="";if(this.levelFirst&&d&&(t=`${d}`),s&&""===t?t=`${s}`:s&&(t=`${t} ${s}`),!this.levelFirst&&d&&(t=t.length>0?`${t} ${d}`:d),r&&(t=t.length>0?`${t} ${r}:`:r),!1===t.endsWith(":")&&""!==t&&(t+=":"),void 0!==c&&(t=t.length>0?`${t} ${c}`:c),t.length>0&&!this.singleLine&&(t+=this.EOL),"Error"===b.type&&"string"==typeof b.stack){let a=f({log:b,context:this.context});this.singleLine&&(t+=this.EOL),t+=a}else if(!1===this.hideObject){let a=[this.messageKey,this.levelKey,this.timestampKey].map(a=>a.replaceAll(/\\/g,"")).filter(a=>"string"==typeof b[a]||"number"==typeof b[a]||"boolean"==typeof b[a]),c=j({log:b,skipKeys:a,context:this.context});this.singleLine&&!/^\s$/.test(c)&&(t+=" "),t+=c}return t}},42370:(a,b,c)=>{"use strict";let d=c(34589),{Readable:e}=c(57075),{RequestAbortedError:f,NotSupportedError:g,InvalidArgumentError:h,AbortError:i}=c(212),j=c(33895),{ReadableStreamFrom:k}=c(33895),l=Symbol("kConsume"),m=Symbol("kReading"),o=Symbol("kBody"),p=Symbol("kAbort"),q=Symbol("kContentType"),r=Symbol("kContentLength"),s=Symbol("kUsed"),t=Symbol("kBytesRead"),u=()=>{};class v extends e{constructor({resume:a,abort:b,contentType:c="",contentLength:d,highWaterMark:e=65536}){super({autoDestroy:!0,read:a,highWaterMark:e}),this._readableState.dataEmitted=!1,this[p]=b,this[l]=null,this[t]=0,this[o]=null,this[s]=!1,this[q]=c,this[r]=Number.isFinite(d)?d:null,this[m]=!1}_destroy(a,b){a||this._readableState.endEmitted||(a=new f),a&&this[p](),this[s]?b(a):setImmediate(()=>{b(a)})}on(a,b){return("data"===a||"readable"===a)&&(this[m]=!0,this[s]=!0),super.on(a,b)}addListener(a,b){return this.on(a,b)}off(a,b){let c=super.off(a,b);return("data"===a||"readable"===a)&&(this[m]=this.listenerCount("data")>0||this.listenerCount("readable")>0),c}removeListener(a,b){return this.off(a,b)}push(a){return(this[t]+=a?a.length:0,this[l]&&null!==a)?(D(this[l],a),!this[m]||super.push(a)):super.push(a)}text(){return y(this,"text")}json(){return y(this,"json")}blob(){return y(this,"blob")}bytes(){return y(this,"bytes")}arrayBuffer(){return y(this,"arrayBuffer")}async formData(){throw new g}get bodyUsed(){return j.isDisturbed(this)}get body(){return!this[o]&&(this[o]=k(this),this[l]&&(this[o].getReader(),d(this[o].locked))),this[o]}async dump(a){let b=a?.signal;if(null!=b&&("object"!=typeof b||!("aborted"in b)))throw new h("signal must be an AbortSignal");let c=a?.limit&&Number.isFinite(a.limit)?a.limit:131072;return(b?.throwIfAborted(),this._readableState.closeEmitted)?null:await new Promise((a,d)=>{if((this[r]&&this[r]>c||this[t]>c)&&this.destroy(new i),b){let c=()=>{this.destroy(b.reason??new i)};b.addEventListener("abort",c),this.on("close",function(){b.removeEventListener("abort",c),b.aborted?d(b.reason??new i):a(null)})}else this.on("close",a);this.on("error",u).on("data",()=>{this[t]>c&&this.destroy()}).resume()})}setEncoding(a){return Buffer.isEncoding(a)&&(this._readableState.encoding=a),this}}function w(a){return a[o]?.locked===!0||null!==a[l]}function x(a){return j.isDisturbed(a)||w(a)}function y(a,b){return d(!a[l]),new Promise((c,d)=>{if(x(a)){let b=a._readableState;b.destroyed&&!1===b.closeEmitted?a.on("error",a=>{d(a)}).on("close",()=>{d(TypeError("unusable"))}):d(b.errored??TypeError("unusable"))}else queueMicrotask(()=>{a[l]={type:b,stream:a,resolve:c,reject:d,length:0,body:[]},a.on("error",function(a){E(this[l],a)}).on("close",function(){null!==this[l].body&&E(this[l],new f)}),z(a[l])})})}function z(a){if(null===a.body)return;let{_readableState:b}=a.stream;if(b.bufferIndex){let c=b.bufferIndex,d=b.buffer.length;for(let e=c;e<d;e++)D(a,b.buffer[e])}else for(let c of b.buffer)D(a,c);for(b.endEmitted?C(this[l],this._readableState.encoding):a.stream.on("end",function(){C(this[l],this._readableState.encoding)}),a.stream.resume();null!=a.stream.read(););}function A(a,b,c){if(0===a.length||0===b)return"";let d=1===a.length?a[0]:Buffer.concat(a,b),e=d.length,f=3*(e>2&&239===d[0]&&187===d[1]&&191===d[2]);return c&&"utf8"!==c&&"utf-8"!==c?d.subarray(f,e).toString(c):d.utf8Slice(f,e)}function B(a,b){if(0===a.length||0===b)return new Uint8Array(0);if(1===a.length)return new Uint8Array(a[0]);let c=new Uint8Array(Buffer.allocUnsafeSlow(b).buffer),d=0;for(let b=0;b<a.length;++b){let e=a[b];c.set(e,d),d+=e.length}return c}function C(a,b){let{type:c,body:d,resolve:e,stream:f,length:g}=a;try{"text"===c?e(A(d,g,b)):"json"===c?e(JSON.parse(A(d,g,b))):"arrayBuffer"===c?e(B(d,g).buffer):"blob"===c?e(new Blob(d,{type:f[q]})):"bytes"===c&&e(B(d,g)),E(a)}catch(a){f.destroy(a)}}function D(a,b){a.length+=b.length,a.body.push(b)}function E(a,b){null!==a.body&&(b?a.reject(b):a.resolve(),a.type=null,a.stream=null,a.resolve=null,a.reject=null,a.length=0,a.body=null)}a.exports={Readable:v,chunksDecode:A}},42402:(a,b,c)=>{"use strict";let{createRequire:d}=c(8086),e=c(44),{join:f,isAbsolute:g,sep:h}=c(76760),i=c(91916),j=c(47512),k=c(49939);function l(a){j.register(a,o),j.registerBeforeExit(a,p),a.on("close",function(){j.unregister(a)})}function m(a,b,c,d){let e=new k({filename:a,workerData:b,workerOpts:c,sync:d});function f(){process.removeListener("exit",g),e.unref(),!1!==c.autoEnd&&l(e)}function g(){e.closed||(e.flushSync(),i(100),e.end())}return e.on("ready",f),e.on("close",function(){process.removeListener("exit",g)}),process.on("exit",g),e}function o(a){a.ref(),a.flushSync(),a.end(),a.once("close",function(){a.unref()})}function p(a){a.flushSync()}a.exports=function(a){let{pipeline:b,targets:c,levels:i,dedupe:j,worker:k={},caller:l=e(),sync:o=!1}=a,p={...a.options},q="string"==typeof l?[l]:l,r="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},s=a.target;if(s&&c)throw Error("only one of target or targets can be specified");return c?(s=r["pino-worker"]||f(__dirname,"worker.js"),p.targets=c.filter(a=>a.target).map(a=>({...a,target:t(a.target)})),p.pipelines=c.filter(a=>a.pipeline).map(a=>a.pipeline.map(b=>({...b,level:a.level,target:t(b.target)})))):b&&(s=r["pino-worker"]||f(__dirname,"worker.js"),p.pipelines=[b.map(a=>({...a,target:t(a.target)}))]),i&&(p.levels=i),j&&(p.dedupe=j),p.pinoWillSendConfig=!0,m(t(s),p,k,o);function t(a){let b;if(g(a=r[a]||a)||0===a.indexOf("file://"))return a;if("pino/file"===a)return f(__dirname,"..","file.js");for(let c of q)try{let e="node:repl"===c?process.cwd()+h:c;b=d(e).resolve(a);break}catch(a){continue}if(!b)throw Error(`unable to determine transport target for "${a}"`);return b}}},42526:(a,b,c)=>{"use strict";c.d(b,{x:()=>d});let d=async(a,b)=>b?.transactionID&&a.sessions[await b.transactionID]?.db||a.drizzle},42703:(a,b,c)=>{"use strict";c.r(b),c.d(b,{AdaptiveRetryStrategy:()=>d.Y,ConfiguredRetryStrategy:()=>g,DEFAULT_MAX_ATTEMPTS:()=>i.Gz,DEFAULT_RETRY_DELAY_BASE:()=>e.bp,DEFAULT_RETRY_MODE:()=>i.L0,DefaultRateLimiter:()=>h.Q,INITIAL_RETRY_TOKENS:()=>e.Df,INVOCATION_ID_HEADER:()=>e.l5,MAXIMUM_RETRY_DELAY:()=>e.G8,NO_RETRY_INCREMENT:()=>e.XP,REQUEST_HEADER:()=>e.ok,RETRY_COST:()=>e.XS,RETRY_MODES:()=>i.cm,StandardRetryStrategy:()=>f.r,THROTTLING_RETRY_DELAY_BASE:()=>e.jh,TIMEOUT_RETRY_COST:()=>e.Rn});var d=c(34673),e=c(29317),f=c(43311);class g extends f.r{computeNextBackoffDelay;constructor(a,b=e.bp){super("function"==typeof a?a:async()=>a),"number"==typeof b?this.computeNextBackoffDelay=()=>b:this.computeNextBackoffDelay=b}async refreshRetryTokenForRetry(a,b){let c=await super.refreshRetryTokenForRetry(a,b);return c.getRetryDelay=()=>this.computeNextBackoffDelay(c.getRetryCount()),c}}var h=c(66151),i=c(78476)},42735:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=(a,b,c)=>{let d,e=0,f=c;if(a<b[0].first||a>b[f].last)return 0;for(;f>=e;)if(a>b[d=Math.floor((e+f)/2)].last)e=d+1;else{if(!(a<b[d].first))return 1;f=d-1}return 0}},42788:(a,b,c)=>{"use strict";c.d(b,{q:()=>B});var d=c(65029),e=c(4315),f=c(47624),g=c(76770),h=c(37492),i=c(71540),j=c(35593),k=c(27661),l=c(38200);function m(a){return Array.isArray(a)}var o=c(77457);let p=({adapter:a,arrayTableName:b,baseTableName:c,blocks:d,blocksToDelete:e,data:f,field:g,locale:h,numbers:i,numbersToDelete:j,parentIsLocalized:l,path:o,relationships:p,relationshipsToDelete:q,selects:r,texts:s,textsToDelete:t,withinArrayOrBlockLocale:u})=>{let w=[],x=a.tables[b]._uuid;return m(f)&&f.forEach((f,m)=>{let y={arrays:{},arraysToPush:{},locales:{},row:{_order:m+1}};x&&(y.row._uuid=f.id,delete f.id),h&&(y.locales[h]={_locale:h}),(0,k.Cd)({field:g,parentIsLocalized:l})&&h&&(y.row._locale=h),u&&(y.row._locale=u),v({adapter:a,arrays:y.arrays,arraysToPush:y.arraysToPush,baseTableName:c,blocks:d,blocksToDelete:e,columnPrefix:"",data:f,fieldPrefix:"",fields:g.flattenedFields,insideArrayOrBlock:!0,locales:y.locales,numbers:i,numbersToDelete:j,parentIsLocalized:l||g.localized,parentTableName:b,path:`${o||""}${g.name}.${m}.`,relationships:p,relationshipsToAppend:[],relationshipsToDelete:q,row:y.row,selects:r,texts:s,textsToDelete:t,withinArrayOrBlockLocale:u}),w.push(y)}),w},q=({adapter:a,baseTableName:b,blocks:c,blocksToDelete:d,data:e,field:f,locale:g,numbers:h,numbersToDelete:i,parentIsLocalized:j,path:m,relationships:p,relationshipsToDelete:q,selects:r,texts:s,textsToDelete:t,withinArrayOrBlockLocale:u})=>{e.forEach((e,w)=>{if("string"!=typeof e.blockType)return;let x=a.payload.blocks[e.blockType]??(f.blockReferences??f.blocks).find(a=>"string"!=typeof a&&a.slug===e.blockType);if(!x)return;let y=l(e.blockType),z={arrays:{},arraysToPush:{},locales:{},row:{_order:w+1,_path:`${m}${f.name}`}};(0,k.Cd)({field:f,parentIsLocalized:j})&&g&&(z.row._locale=g),u&&(z.row._locale=u);let A=(0,o.hR)(x,a.tableNameMap.get(`${b}_blocks_${y}`));c[A]||(c[A]=[]),a.tables[A]._uuid&&(z.row._uuid=e.id,delete e.id),v({adapter:a,arrays:z.arrays,arraysToPush:z.arraysToPush,baseTableName:b,blocks:c,blocksToDelete:d,columnPrefix:"",data:e,fieldPrefix:"",fields:x.flattenedFields,insideArrayOrBlock:!0,locales:z.locales,numbers:h,numbersToDelete:i,parentIsLocalized:j||f.localized,parentTableName:A,path:`${m||""}${f.name}.${w}.`,relationships:p,relationshipsToAppend:[],relationshipsToDelete:q,row:z.row,selects:r,texts:s,textsToDelete:t,withinArrayOrBlockLocale:u}),c[A].push(z)})},r=({baseRow:a,data:b,numbers:c})=>{b.forEach((b,d)=>{c.push({...a,number:b,order:d+1})})},s=({baseRow:a,data:b,field:c,relationships:d})=>{(Array.isArray(b)?b:[b]).forEach((b,e)=>{if(b){let f={...a};"hasMany"in c&&c.hasMany&&(f.order=e+1),Array.isArray(c.relationTo)&&(0,k.b_)(b)?(f[`${b.relationTo}ID`]=b.value,d.push(f)):"string"==typeof c.relationTo&&(f[`${c.relationTo}ID`]=b,b&&d.push(f))}})},t=({id:a,data:b,locale:c})=>{let d=[];return m(b)&&b.forEach((b,e)=>{let f={order:e+1,parent:a,value:b};c&&(f.locale=c),d.push(f)}),d},u=({baseRow:a,data:b,texts:c})=>{b.forEach((b,d)=>{c.push({...a,order:d+1,text:b})})},v=({adapter:a,arrays:b,arraysToPush:c,baseTableName:d,blocks:e,blocksToDelete:f,columnPrefix:g,data:h,enableAtomicWrites:w,existingLocales:x,fieldPrefix:y,fields:z,forcedLocale:A,insideArrayOrBlock:B=!1,locales:C,numbers:D,numbersToDelete:E,parentIsLocalized:F,parentTableName:G,path:H,relationships:I,relationshipsToAppend:J,relationshipsToDelete:K,row:L,selects:M,texts:N,textsToDelete:O,withinArrayOrBlockLocale:P})=>{let Q=!1;L._uuid&&(h._uuid=L._uuid),z.forEach(z=>{let R,S="",T="";if((0,k.IC)(z))return;void 0!==h[z.name]&&(Q=!0),S=`${g||""}${l(z.name)}`,T=`${y||""}${z.name}`,R=h[z.name];let U=(0,k.Cd)({field:z,parentIsLocalized:F});if("array"===z.type){let g=a.tableNameMap.get(`${G}_${S}`);if(U){let i=h[z.name];"object"==typeof i&&null!==i&&Object.entries(i).forEach(([h,i])=>{let j=i,k=!1;if(i&&"object"==typeof i&&"$push"in i&&(j=i.$push,k=!0,Array.isArray(j)||(j=[j])),Array.isArray(j)){let i=p({adapter:a,arrayTableName:g,baseTableName:d,blocks:e,blocksToDelete:f,data:j,field:z,locale:h,numbers:D,numbersToDelete:E,parentIsLocalized:F||z.localized,path:H,relationships:I,relationshipsToDelete:K,selects:M,texts:N,textsToDelete:O,withinArrayOrBlockLocale:h});k?(c[g]||(c[g]=[]),c[g]=c[g].concat(i)):(b[g]||(b[g]=[]),b[g]=b[g].concat(i))}})}else{let i=h[z.name],j=!1;"object"==typeof i&&"$push"in i&&(i=Array.isArray(i.$push)?i.$push:[i.$push],j=!0);let k=p({adapter:a,arrayTableName:g,baseTableName:d,blocks:e,blocksToDelete:f,data:i,field:z,numbers:D,numbersToDelete:E,parentIsLocalized:F||z.localized,path:H,relationships:I,relationshipsToDelete:K,selects:M,texts:N,textsToDelete:O,withinArrayOrBlockLocale:P});j?(c[g]||(c[g]=[]),c[g]=c[g].concat(k)):(b[g]||(b[g]=[]),b[g]=b[g].concat(k))}return}if("blocks"===z.type&&!a.blocksAsJSON){(z.blockReferences??z.blocks).forEach(b=>{let c="string"==typeof b?a.payload.config.blocks.find(a=>a.slug===b):b;f.add((0,o.hR)(c,a.tableNameMap.get(`${d}_blocks_${l(c.slug)}`)))}),U?"object"==typeof h[z.name]&&null!==h[z.name]&&Object.entries(h[z.name]).forEach(([b,c])=>{Array.isArray(c)&&q({adapter:a,baseTableName:d,blocks:e,blocksToDelete:f,data:c,field:z,locale:b,numbers:D,numbersToDelete:E,parentIsLocalized:F||z.localized,path:H,relationships:I,relationshipsToDelete:K,selects:M,texts:N,textsToDelete:O,withinArrayOrBlockLocale:b})}):m(R)&&q({adapter:a,baseTableName:d,blocks:e,blocksToDelete:f,data:R,field:z,numbers:D,numbersToDelete:E,parentIsLocalized:F||z.localized,path:H,relationships:I,relationshipsToDelete:K,selects:M,texts:N,textsToDelete:O,withinArrayOrBlockLocale:P});return}if("group"===z.type||"tab"===z.type){if("object"==typeof h[z.name]&&null!==h[z.name])if(U)Object.entries(h[z.name]).forEach(([g,i])=>{i._uuid=h.id||h._uuid,v({adapter:a,arrays:b,arraysToPush:c,baseTableName:d,blocks:e,blocksToDelete:f,columnPrefix:`${S}_`,data:i,enableAtomicWrites:w,existingLocales:x,fieldPrefix:`${T}_`,fields:z.flattenedFields,forcedLocale:g,insideArrayOrBlock:B,locales:C,numbers:D,numbersToDelete:E,parentIsLocalized:F||z.localized,parentTableName:G,path:`${H||""}${z.name}.`,relationships:I,relationshipsToAppend:J,relationshipsToDelete:K,row:L,selects:M,texts:N,textsToDelete:O,withinArrayOrBlockLocale:g})});else{let g=h[z.name];g._uuid=h.id||h._uuid,v({adapter:a,arrays:b,arraysToPush:c,baseTableName:d,blocks:e,blocksToDelete:f,columnPrefix:`${S}_`,data:g,existingLocales:x,fieldPrefix:`${T}_`,fields:z.flattenedFields,insideArrayOrBlock:B,locales:C,numbers:D,numbersToDelete:E,parentIsLocalized:F||z.localized,parentTableName:G,path:`${H||""}${z.name}.`,relationships:I,relationshipsToAppend:J,relationshipsToDelete:K,row:L,selects:M,texts:N,textsToDelete:O,withinArrayOrBlockLocale:P})}return}if("relationship"===z.type||"upload"===z.type){let a=`${H||""}${z.name}`;if(R&&"object"==typeof R&&"hasMany"in z&&z.hasMany&&("$push"in R||z.localized&&Object.values(R).some(a=>a&&"object"==typeof a&&"$push"in a))){if(z.localized){let b=!1;Object.entries(R).forEach(([c,d])=>{if(d&&"object"==typeof d&&"$push"in d){b=!0;let e=d.$push;(Array.isArray(e)?e:[e]).forEach(b=>{let d={locale:c,path:a,value:b};Array.isArray(z.relationTo)&&b&&"object"==typeof b&&"relationTo"in b?(d.relationTo=b.relationTo,d.value=b.value):"string"==typeof z.relationTo&&(d.relationTo=z.relationTo,d.value=b),J.push(d)})}})}else(Array.isArray(R.$push)?R.$push:[R.$push]).forEach(b=>{let c={locale:U?P:void 0,path:a,value:b};Array.isArray(z.relationTo)&&b&&"object"==typeof b&&"relationTo"in b&&"value"in b?(c.relationTo=b.relationTo,c.value=b.value):"string"==typeof z.relationTo&&(c.relationTo=z.relationTo,c.value=b),J.push(c)});return}if(R&&"object"==typeof R&&"hasMany"in z&&z.hasMany&&("$remove"in R||z.localized&&Object.values(R).some(a=>a&&"object"==typeof a&&"$remove"in a))){if(z.localized){let b=!1;Object.entries(R).forEach(([c,d])=>{if(d&&"object"==typeof d&&"$remove"in d){b=!0;let e=d.$remove;(Array.isArray(e)?e:[e]).forEach(b=>{let d={itemToRemove:b,locale:c,path:a};"string"==typeof z.relationTo&&(d.relationTo=z.relationTo),K.push(d)})}})}else(Array.isArray(R.$remove)?R.$remove:[R.$remove]).forEach(b=>{let c={itemToRemove:b,locale:U?P:void 0,path:a};"string"==typeof z.relationTo&&(c.relationTo=z.relationTo),K.push(c)});return}if(U&&(Array.isArray(z.relationTo)||"hasMany"in z&&z.hasMany)){"object"==typeof R&&Object.entries(R).forEach(([b,c])=>{if(null===c)return void K.push({locale:b,path:a});s({baseRow:{locale:b,path:a},data:c,field:z,relationships:I})});return}if(Array.isArray(z.relationTo)||"hasMany"in z&&z.hasMany)return null===R||Array.isArray(R)&&0===R.length?void K.push({path:a}):void s({baseRow:{locale:P,path:a},data:R,field:z,relationships:I});!U&&R&&"object"==typeof R&&"id"in R&&R?.id?R=R.id:U&&"object"==typeof R&&Object.entries(R).forEach(([a,b])=>{"object"==typeof b?b&&"id"in b&&b?.id&&(R[a]=b.id):R[a]=b})}if("text"===z.type&&z.hasMany){let a=`${H||""}${z.name}`;if(U)"object"==typeof R&&Object.entries(R).forEach(([b,c])=>{if(Array.isArray(c)){if(!c.length)return void O.push({locale:b,path:a});u({baseRow:{locale:b,path:a},data:c,texts:N})}});else if(Array.isArray(R)){if(!R.length)return void O.push({locale:P,path:a});u({baseRow:{locale:P,path:a},data:R,texts:N})}return}if("number"===z.type&&z.hasMany){let a=`${H||""}${z.name}`;if(U)"object"==typeof R&&Object.entries(R).forEach(([b,c])=>{if(Array.isArray(c)){if(!c.length)return void E.push({locale:b,path:a});r({baseRow:{locale:b,path:a},data:c,numbers:D})}});else if(Array.isArray(R)){if(!R.length)return void E.push({locale:P,path:a});r({baseRow:{locale:P,path:a},data:R,numbers:D})}return}if("select"===z.type&&z.hasMany){let b=a.tableNameMap.get(`${G}_${S}`);if(M[b]||(M[b]=[]),U)"object"==typeof h[z.name]&&null!==h[z.name]&&Object.entries(h[z.name]).forEach(([a,c])=>{if(Array.isArray(c)){let d=t({id:B?h._uuid||h.id:void 0,data:c,locale:a});M[b]=M[b].concat(d)}});else if(Array.isArray(h[z.name])){let a=t({id:B?h._uuid||h.id:void 0,data:h[z.name],locale:P});M[b]=M[b].concat(a)}return}let V=[];if(U)"object"==typeof R&&null!==R&&Object.entries(R).forEach(([a,b])=>{C[a]||(C[a]={}),V.push({localeKey:a,ref:C,value:b})});else{let a=L;A&&(C[A]||(C[A]={}),a=C[A]),V.push({ref:a,value:R})}V.forEach(({localeKey:b,ref:c,value:d})=>{let e=d;if("date"===z.type&&("updatedAt"===T&&void 0===e?e=new Date().toISOString():"number"!=typeof d||Number.isNaN(d)?d instanceof Date&&(e=d.toISOString()):e=new Date(d).toISOString()),void 0!==d&&(d&&"point"===z.type&&"sqlite"!==a.name&&(e=(0,i.ll)`ST_GeomFromGeoJSON(${JSON.stringify(d)})`),"text"===z.type&&d&&"string"!=typeof d&&(e=JSON.stringify(d)),"number"===z.type&&d&&"object"==typeof d&&"$inc"in d&&"number"==typeof d.$inc)){if(!w)throw new j.L("The passed data must not contain any nested fields for atomic writes");e=i.ll.raw(`${S} + ${d.$inc}`)}void 0!==e&&(b?c[b][T]=e:c[T]=e)})}),Q||Object.keys(h).forEach(i=>{if(i.includes(".")){let j=i.indexOf("."),k=i.substring(0,j),l=i.substring(j+1);h[k]||(h[k]={}),h[k][l]=h[i],delete h[i],v({adapter:a,arrays:b,arraysToPush:c,baseTableName:d,blocks:e,blocksToDelete:f,columnPrefix:g,data:h,enableAtomicWrites:w,existingLocales:x,fieldPrefix:y,fields:z,forcedLocale:A,insideArrayOrBlock:B,locales:C,numbers:D,numbersToDelete:E,parentIsLocalized:F,parentTableName:G,path:H,relationships:I,relationshipsToAppend:J,relationshipsToDelete:K,row:L,selects:M,texts:N,textsToDelete:O,withinArrayOrBlockLocale:P})}})},w=({adapter:a,data:b,enableAtomicWrites:c,fields:d,parentIsLocalized:e,path:f="",tableName:g})=>{let h={arrays:{},arraysToPush:{},blocks:{},blocksToDelete:new Set,locales:{},numbers:[],numbersToDelete:[],relationships:[],relationshipsToAppend:[],relationshipsToDelete:[],row:{},selects:{},texts:[],textsToDelete:[]};return v({adapter:a,arrays:h.arrays,arraysToPush:h.arraysToPush,baseTableName:g,blocks:h.blocks,blocksToDelete:h.blocksToDelete,columnPrefix:"",data:b,enableAtomicWrites:c,fieldPrefix:"",fields:d,locales:h.locales,numbers:h.numbers,numbersToDelete:h.numbersToDelete,parentIsLocalized:e,parentTableName:g,path:f,relationships:h.relationships,relationshipsToAppend:h.relationshipsToAppend,relationshipsToDelete:h.relationshipsToDelete,row:h.row,selects:h.selects,texts:h.texts,textsToDelete:h.textsToDelete}),h},x=async({adapter:a,db:b,parentID:c,tableName:e})=>{let f=a.tables[e],g=[(0,d.eq)(f._parentID,c)];await a.deleteWhere({db:b,tableName:e,where:(0,d.Uo)(...g)})},y=async({adapter:a,db:b,localeColumnName:c="_locale",parentColumnName:e="_parentID",parentID:f,pathColumnName:g="_path",rows:h,tableName:i})=>{let j=new Set,k=new Set,l=a.tables[i];if(h.forEach(a=>{let b=a[g],d=a[c];"string"==typeof b&&("string"==typeof d?j.add(b):k.add(b))}),j.size>0){let c=[(0,d.eq)(l[e],f)];g&&c.push((0,d.RV)(l[g],Array.from(j))),await a.deleteWhere({db:b,tableName:i,where:(0,d.Uo)(...c)})}if(k.size>0){let c=[(0,d.eq)(l[e],f)];g&&c.push((0,d.RV)(l[g],Array.from(k))),await a.deleteWhere({db:b,tableName:i,where:(0,d.Uo)(...c)})}},z=async({adapter:a,arrays:b,db:c,parentRows:d,uuidMap:e={}})=>{let f={};for(let[g,h]of(b.forEach((a,b)=>{a&&0!==Object.keys(a).length&&Object.entries(a).forEach(([a,c])=>{f[a]||(f[a]={arrays:[],locales:[],rows:[]});let e=d[b].id;c.forEach(b=>{Object.keys(b.arrays).length>0&&f[a].arrays.push(b.arrays),b.row._parentID=e,f[a].rows.push(b.row),Object.entries(b.locales).forEach(([c,d])=>{d._parentID=b.row.id,d._locale=c,f[a].locales.push(d),b.row.id||(d._getParentID=a=>{let{id:c}=a.find(a=>a._uuid===b.row._uuid);return c})})})})}),Object.entries(f))){let b;h.rows.length>0&&(b=await a.insert({db:c,tableName:g,values:h.rows})).forEach(a=>{"string"==typeof a._uuid&&("string"==typeof a.id||"number"==typeof a.id)&&(e[a._uuid]=a.id)}),a.tables[`${g}${a.localesSuffix}`]&&h.locales.length>0&&(h.locales[0]._parentID||(h.locales=h.locales.map(a=>("function"==typeof a._getParentID&&(a._parentID=a._getParentID(b),delete a._getParentID),a))),await a.insert({db:c,tableName:`${g}${a.localesSuffix}`,values:h.locales})),h.arrays.length>0&&await z({adapter:a,arrays:h.arrays,db:c,parentRows:b})}};var A=c(32173);let B=async({id:a,adapter:b,data:c,db:i,fields:j,ignoreResult:k,joinQuery:l,operation:m,path:o="",req:p,select:q,tableName:r,upsertTarget:s,where:t})=>{"create"!==m||c.createdAt||(c.createdAt=new Date().toISOString());let u={id:a};if(a&&(0,A.j)({data:c,fields:j})){let e=w({adapter:b,data:c,enableAtomicWrites:!0,fields:j,tableName:r}),{row:f}=e,{arraysToPush:l}=e,m=i;l&&Object.keys(l)?.length&&await z({adapter:b,arrays:[l],db:i,parentRows:[u],uuidMap:{}}),(void 0===f.updatedAt||null===f.updatedAt)&&delete f.updatedAt;let o=f&&Object.keys(f)?.length;if(k)return o&&await m.update(b.tables[r]).set(f).where((0,d.eq)(b.tables[r].id,a)),"idOnly"===k?{id:a}:null;let p=(0,g.c)({adapter:b,depth:0,fields:j,joinQuery:!1,select:q,tableName:r}),s=Object.keys(p).length,t=Object.keys(p.columns||{}).length>0;if(!o){p.where=(0,d.eq)(b.tables[r].id,u.id);let a=await i.query[r].findFirst(p);return(0,h.p)({adapter:b,config:b.payload.config,data:a,fields:j,joinQuery:!1,tableName:r})}if(0===s||t){let c={};if(t)for(let[a,d]of Object.entries(p.columns))d&&(c[a]=b.tables[r][a]);let e=await m.update(b.tables[r]).set(f).where((0,d.eq)(b.tables[r].id,a)).returning(Object.keys(c).length?c:void 0);return(0,h.p)({adapter:b,config:b.payload.config,data:e[0],fields:j,joinQuery:!1,tableName:r})}await m.update(b.tables[r]).set(f).where((0,d.eq)(b.tables[r].id,a)),p.where=(0,d.eq)(b.tables[r].id,u.id);let v=await i.query[r].findFirst(p);return(0,h.p)({adapter:b,config:b.payload.config,data:v,fields:j,joinQuery:!1,tableName:r})}let v=w({adapter:b,data:c,enableAtomicWrites:!1,fields:j,path:o,tableName:r});try{if("update"===m){let c=s||b.tables[r].id,d=Object.keys(v.row);d.length>0&&!d.every(a=>"updatedAt"===a||"createdAt"===a)?a?(v.row.id=a,[u]=await b.insert({db:i,onConflictDoUpdate:{set:v.row,target:c},tableName:r,values:v.row})):[u]=await b.insert({db:i,onConflictDoUpdate:{set:v.row,target:c,where:t},tableName:r,values:v.row}):u={id:a}}else b.allowIDOnCreate&&c.id&&(v.row.id=c.id),[u]=await b.insert({db:i,tableName:r,values:v.row});let f=[],g=[],h=[],j=[],k={},l={};if(Object.keys(v.locales).length>0&&Object.entries(v.locales).forEach(([a,b])=>{b._parentID=u.id,b._locale=a,f.push(b)}),v.relationships.length>0&&v.relationships.forEach(a=>{a.parent=u.id,g.push(a)}),v.texts.length>0&&v.texts.forEach(a=>{a.parent=u.id,h.push(a)}),v.numbers.length>0&&v.numbers.forEach(a=>{a.parent=u.id,j.push(a)}),Object.keys(v.selects).length>0&&Object.entries(v.selects).forEach(([a,b])=>{l[a]=[],b.forEach(b=>{void 0===b.parent&&(b.parent=u.id),l[a].push(b)})}),Object.keys(v.blocks).forEach(a=>{v.blocks[a].forEach(b=>{b.row._parentID=u.id,k[a]||(k[a]=[]),b.row.uuid&&delete b.row.uuid,k[a].push(b)})}),f.length>0){let a=`${r}${b.localesSuffix}`,c=b.tables[`${r}${b.localesSuffix}`];"update"===m&&await b.deleteWhere({db:i,tableName:a,where:(0,d.eq)(c._parentID,u.id)}),await b.insert({db:i,tableName:a,values:f})}let o=`${r}${b.relationshipsSuffix}`;if("update"===m){let a=v.relationshipsToDelete.filter(a=>!("itemToRemove"in a));await y({adapter:b,db:i,localeColumnName:"locale",parentColumnName:"parent",parentID:u.id,pathColumnName:"path",rows:[...g,...a],tableName:o})}if(g.length>0&&await b.insert({db:i,tableName:o,values:g}),v.relationshipsToAppend.length>0){let c=v.relationshipsToAppend.map(c=>{let d={parent:a||u.id,path:c.path},e=b.rawTables[o];return c.locale&&e&&e.columns.locale&&(d.locale=c.locale),c.relationTo&&(d[`${c.relationTo}ID`]=c.value),d});if(c.length>0){let f=b.tables[o];if(f){if(0===c.length)return;let g=c.map(a=>{let b=[(0,d.eq)(f.parent,a.parent),(0,d.eq)(f.path,a.path)];for(let[c,e]of(void 0!==a.locale&&f.locale?b.push((0,d.eq)(f.locale,a.locale)):f.locale&&b.push((0,d.kZ)(f.locale)),Object.entries(a)))if(c.endsWith("ID")&&null!=e){let a=f[c];a&&"object"==typeof a&&b.push((0,d.eq)(a,e))}return(0,d.Uo)(...b)}),h=[],j=0;g.length>0&&(h=await i.select().from(f).where((0,d.or)(...g)));let k=a||u.id,l=await i.select({maxOrder:f.order}).from(f).where((0,d.eq)(f.parent,k)).orderBy((0,e.i)(f.order)).limit(1);l.length>0&&l[0].maxOrder&&(j=l[0].maxOrder),c.forEach((a,b)=>{a.order=j+b+1});let m=c.filter(a=>!h.some(b=>{let c=b.parent===a.parent&&b.path===a.path;for(let d of(void 0!==a.locale&&(c=c&&b.locale===a.locale),Object.keys(a)))d.endsWith("ID")&&(c=c&&b[d]===a[d]);return c}));m.length>0&&await b.insert({db:i,tableName:o,values:m})}}}if(v.relationshipsToDelete.some(a=>"itemToRemove"in a)){let c=b.tables[o];if(c){for(let e of v.relationshipsToDelete)if("itemToRemove"in e&&e.itemToRemove){let f=e.itemToRemove,g=a||u.id,h=[(0,d.eq)(c.parent,g),(0,d.eq)(c.path,e.path)];if(b.rawTables[o]?.columns.locale&&(e.locale?h.push((0,d.eq)(c.locale,e.locale)):h.push((0,d.kZ)(c.locale))),"object"==typeof f&&"relationTo"in f){let a=`${f.relationTo}ID`;c[a]&&h.push((0,d.eq)(c[a],f.value))}else if(e.relationTo){let a=`${e.relationTo}ID`;c[a]&&h.push((0,d.eq)(c[a],f))}await b.deleteWhere({db:i,tableName:o,where:(0,d.Uo)(...h)})}}}let p=`${r}_texts`;"update"===m&&await y({adapter:b,db:i,localeColumnName:"locale",parentColumnName:"parent",parentID:u.id,pathColumnName:"path",rows:[...h,...v.textsToDelete],tableName:p}),h.length>0&&await b.insert({db:i,tableName:p,values:h});let q=`${r}_numbers`;"update"===m&&await y({adapter:b,db:i,localeColumnName:"locale",parentColumnName:"parent",parentID:u.id,pathColumnName:"path",rows:[...j,...v.numbersToDelete],tableName:q}),j.length>0&&await b.insert({db:i,tableName:q,values:j});let w={};if("update"===m)for(let a of v.blocksToDelete){let c=b.tables[a];await b.deleteWhere({db:i,tableName:a,where:(0,d.eq)(c._parentID,u.id)})}let A={};for(let[a,c]of Object.entries(k)){w[a]=await b.insert({db:i,tableName:a,values:c.map(({row:a})=>a)}),w[a].forEach((a,b)=>{c[b].row=a,"string"==typeof a._uuid&&("string"==typeof a.id||"number"==typeof a.id)&&(A[a._uuid]=a.id)});let d=[],e=c.reduce((a,b,c)=>(Object.entries(b.locales).length>0&&Object.entries(b.locales).forEach(([e,f])=>{Object.keys(f).length>0&&(f._parentID=b.row.id,f._locale=e,a.push(f),d.push(c))}),a),[]);e.length>0&&await b.insert({db:i,tableName:`${a}${b.localesSuffix}`,values:e}),await z({adapter:b,arrays:c.map(({arrays:a})=>a),db:i,parentRows:w[a],uuidMap:A})}if("update"===m)for(let a of Object.keys(v.arrays))await x({adapter:b,db:i,parentID:u.id,tableName:a});for(let[a,c]of(await z({adapter:b,arrays:[v.arrays,v.arraysToPush],db:i,parentRows:[u,u],uuidMap:A}),Object.entries(l))){let e=b.tables[a];"update"===m&&await b.deleteWhere({db:i,tableName:a,where:(0,d.eq)(e.parent,u.id)}),Object.keys(A).length>0&&c.forEach(a=>{a.parent in A&&(a.parent=A[a.parent])}),c.length&&await b.insert({db:i,tableName:a,values:c})}}catch(d){let c=d;if("object"==typeof d&&"cause"in d&&(c=d.cause),"23505"===c.code||"SQLITE_CONSTRAINT_UNIQUE"===c.code){let d=null;if("23505"===c.code){if(b.fieldConstraints?.[r]?.[c.constraint])d=b.fieldConstraints[r]?.[c.constraint];else{let a=`${r}_`;if(c.constraint.includes(a)){let e=c.constraint.replace(a,"");e&&b.fieldConstraints[r]?.[e]&&(d=b.fieldConstraints[r][e])}}if(!d){let a=c.detail,b=/Key \(([^)]+)\)=\(([^)]+)\)/,e=a.match(b);e&&e[1]&&(d=e[1])}}else if("SQLITE_CONSTRAINT_UNIQUE"===c.code){let a=/UNIQUE constraint failed: ([^.]+)\.([^.]+)/,e=c.message.match(a);e&&e[2]&&(b.fieldConstraints[r]&&(d=b.fieldConstraints[r][`${e[2]}_idx`]),d||(d=e[2]))}throw new f.y({id:a,errors:[{message:p?.t?p.t("error:valueMustBeUnique"):"Value must be unique",path:d}],req:p},p?.t)}throw c}if("idOnly"===k)return{id:u.id};if(k)return c;let B=(0,g.c)({adapter:b,depth:0,fields:j,joinQuery:!1,select:q,tableName:r});B.where=(0,d.eq)(b.tables[r].id,u.id);let C=await i.query[r].findFirst(B);return(0,h.p)({adapter:b,config:b.payload.config,data:C,fields:j,joinQuery:!1,tableName:r})}},42887:(a,b,c)=>{"use strict";c.d(b,{c:()=>d});class d{statusCode;reason;headers;body;constructor(a){this.statusCode=a.statusCode,this.reason=a.reason,this.headers=a.headers||{},this.body=a.body}static isInstance(a){if(!a)return!1;let b=a;return"number"==typeof b.statusCode&&"object"==typeof b.headers}}},43008:(a,b,c)=>{"use strict";let{InvalidArgumentError:d}=c(212),{kClients:e,kRunning:f,kClose:g,kDestroy:h,kDispatch:i,kUrl:j}=c(25394),k=c(68056),l=c(56327),m=c(76450),o=c(33895),p=Symbol("onConnect"),q=Symbol("onDisconnect"),r=Symbol("onConnectionError"),s=Symbol("onDrain"),t=Symbol("factory"),u=Symbol("options");function v(a,b){return b&&1===b.connections?new m(a,b):new l(a,b)}class w extends k{constructor({factory:a=v,connect:b,...c}={}){if("function"!=typeof a)throw new d("factory must be a function.");if(null!=b&&"function"!=typeof b&&"object"!=typeof b)throw new d("connect must be a function or an object");super(),b&&"function"!=typeof b&&(b={...b}),this[u]={...o.deepClone(c),connect:b},this[t]=a,this[e]=new Map,this[s]=(a,b)=>{this.emit("drain",a,[this,...b])},this[p]=(a,b)=>{let c=this[e].get(a);c&&(c.count+=1),this.emit("connect",a,[this,...b])},this[q]=(a,b,c)=>{let d=this[e].get(a);d&&(d.count-=1,d.count<=0&&(this[e].delete(a),d.dispatcher.destroy())),this.emit("disconnect",a,[this,...b],c)},this[r]=(a,b,c)=>{this.emit("connectionError",a,[this,...b],c)}}get[f](){let a=0;for(let{dispatcher:b}of this[e].values())a+=b[f];return a}[i](a,b){let c;if(a.origin&&("string"==typeof a.origin||a.origin instanceof URL))c=String(a.origin);else throw new d("opts.origin must be a non-empty string or URL.");let f=this[e].get(c),g=f&&f.dispatcher;return g||(g=this[t](a.origin,this[u]).on("drain",this[s]).on("connect",this[p]).on("disconnect",this[q]).on("connectionError",this[r]),this[e].set(c,{count:0,dispatcher:g})),g.dispatch(a,b)}async [g](){let a=[];for(let{dispatcher:b}of this[e].values())a.push(b.close());this[e].clear(),await Promise.all(a)}async [h](a){let b=[];for(let{dispatcher:c}of this[e].values())b.push(c.destroy(a));this[e].clear(),await Promise.all(b)}get stats(){let a={};for(let{dispatcher:b}of this[e].values())b.stats&&(a[b[j].origin]=b.stats);return a}}a.exports=w},43269:(a,b)=>{b.L=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,o=a[b+l];for(l+=m,f=o&(1<<-k)-1,o>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(o?-1:1);g+=Math.pow(2,d),f-=j}return(o?-1:1)*g*Math.pow(2,f-d)},b.M=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=5960464477539062e-23*(23===e),o=d?0:f-1,p=d?1:-1,q=+(b<0||0===b&&1/b<0);for(isNaN(b=Math.abs(b))||b===1/0?(h=+!!isNaN(b),g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),g+l>=1?b+=m/i:b+=m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+o]=255&h,o+=p,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+o]=255&g,o+=p,g/=256,j-=8);a[c+o-p]|=128*q}},43272:a=>{"use strict";a.exports=function(a,b){let c=a.length,d=0;for(let e=0;e<c;++e)d|=a[e]^b[e];return 0===d}},43311:(a,b,c)=>{"use strict";c.d(b,{r:()=>h});var d=c(78476),e=c(29317);let f=()=>{let a=e.bp;return{computeNextBackoffDelay:b=>Math.floor(Math.min(e.G8,Math.random()*2**b*a)),setDelayBase:b=>{a=b}}},g=({retryDelay:a,retryCount:b,retryCost:c})=>({getRetryCount:()=>b,getRetryDelay:()=>Math.min(e.G8,a),getRetryCost:()=>c});class h{maxAttempts;mode=d.cm.STANDARD;capacity=e.Df;retryBackoffStrategy=f();maxAttemptsProvider;constructor(a){this.maxAttempts=a,this.maxAttemptsProvider="function"==typeof a?a:async()=>a}async acquireInitialRetryToken(a){return g({retryDelay:e.bp,retryCount:0})}async refreshRetryTokenForRetry(a,b){let c=await this.getMaxAttempts();if(this.shouldRetry(a,b,c)){let c=b.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===c?e.jh:e.bp);let d=this.retryBackoffStrategy.computeNextBackoffDelay(a.getRetryCount()),f=b.retryAfterHint?Math.max(b.retryAfterHint.getTime()-Date.now()||0,d):d,h=this.getCapacityCost(c);return this.capacity-=h,g({retryDelay:f,retryCount:a.getRetryCount()+1,retryCost:h})}throw Error("No retry token available")}recordSuccess(a){this.capacity=Math.max(e.Df,this.capacity+(a.getRetryCost()??e.XP))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(a){return console.warn(`Max attempts provider could not resolve. Using default of ${d.Gz}`),d.Gz}}shouldRetry(a,b,c){return a.getRetryCount()+1<c&&this.capacity>=this.getCapacityCost(b.errorType)&&this.isRetryableError(b.errorType)}getCapacityCost(a){return"TRANSIENT"===a?e.Rn:e.XS}isRetryableError(a){return"THROTTLING"===a||"TRANSIENT"===a}}},43595:(a,b,c)=>{"use strict";c.d(b,{M:()=>aN});var d=c(64554),e=c(65099);let f=/^(\d+(?:\.\d+)?)px$/,g={BOTH:3,NO_STATUS:0,ROW:1};class h extends e.fGB{static getType(){return"tablecell"}static clone(a){return new h(a.__headerState,a.__colSpan,a.__width,a.__key)}afterCloneFrom(a){super.afterCloneFrom(a),this.__rowSpan=a.__rowSpan,this.__backgroundColor=a.__backgroundColor,this.__verticalAlign=a.__verticalAlign}static importDOM(){return{td:a=>({conversion:j,priority:0}),th:a=>({conversion:j,priority:0})}}static importJSON(a){return k().updateFromJSON(a)}updateFromJSON(a){return super.updateFromJSON(a).setHeaderStyles(a.headerState).setColSpan(a.colSpan||1).setRowSpan(a.rowSpan||1).setWidth(a.width||void 0).setBackgroundColor(a.backgroundColor||null).setVerticalAlign(a.verticalAlign||void 0)}constructor(a=g.NO_STATUS,b=1,c,d){super(d),this.__colSpan=b,this.__rowSpan=1,this.__headerState=a,this.__width=c,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(a){let b=document.createElement(this.getTag());return this.__width&&(b.style.width=`${this.__width}px`),this.__colSpan>1&&(b.colSpan=this.__colSpan),this.__rowSpan>1&&(b.rowSpan=this.__rowSpan),null!==this.__backgroundColor&&(b.style.backgroundColor=this.__backgroundColor),i(this.__verticalAlign)&&(b.style.verticalAlign=this.__verticalAlign),(0,d.ZB)(b,a.theme.tableCell,this.hasHeader()&&a.theme.tableCellHeader),b}exportDOM(a){let b=super.exportDOM(a);if((0,e.sby)(b.element)){let a=b.element;a.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),a.style.border="1px solid black",this.__colSpan>1&&(a.colSpan=this.__colSpan),this.__rowSpan>1&&(a.rowSpan=this.__rowSpan),a.style.width=`${this.getWidth()||75}px`,a.style.verticalAlign=this.getVerticalAlign()||"top",a.style.textAlign="start",null===this.__backgroundColor&&this.hasHeader()&&(a.style.backgroundColor="#f2f3f5")}return b}exportJSON(){return{...super.exportJSON(),...i(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(a){let b=this.getWritable();return b.__colSpan=a,b}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(a){let b=this.getWritable();return b.__rowSpan=a,b}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(a,b=g.BOTH){let c=this.getWritable();return c.__headerState=a&b|c.__headerState&~b,c}getHeaderStyles(){return this.getLatest().__headerState}setWidth(a){let b=this.getWritable();return b.__width=a,b}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(a){let b=this.getWritable();return b.__backgroundColor=a,b}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(a){let b=this.getWritable();return b.__verticalAlign=a||void 0,b}toggleHeaderStyle(a){let b=this.getWritable();return(b.__headerState&a)===a?b.__headerState-=a:b.__headerState+=a,b}hasHeaderState(a){return(this.getHeaderStyles()&a)===a}hasHeader(){return this.getLatest().__headerState!==g.NO_STATUS}updateDOM(a){return a.__headerState!==this.__headerState||a.__width!==this.__width||a.__colSpan!==this.__colSpan||a.__rowSpan!==this.__rowSpan||a.__backgroundColor!==this.__backgroundColor||a.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function i(a){return"middle"===a||"bottom"===a}function j(a){let b,c=a,d=a.nodeName.toLowerCase();f.test(c.style.width)&&(b=parseFloat(c.style.width));let h=k("th"===d?g.ROW:g.NO_STATUS,c.colSpan,b);h.__rowSpan=c.rowSpan;let j=c.style.backgroundColor;""!==j&&(h.__backgroundColor=j);let l=c.style.verticalAlign;i(l)&&(h.__verticalAlign=l);let m=c.style,o=(m&&m.textDecoration||"").split(" "),p="700"===m.fontWeight||"bold"===m.fontWeight,q=o.includes("line-through"),r="italic"===m.fontStyle,s=o.includes("underline");return{after:a=>{let b=[],c=null,d=()=>{if(c){let a=c.getFirstChild();(0,e.wH$)(a)&&1===c.getChildrenSize()&&a.remove()}};for(let f of a)(0,e.Gew)(f)||(0,e.kFe)(f)||(0,e.wH$)(f)?((0,e.kFe)(f)&&(p&&f.toggleFormat("bold"),q&&f.toggleFormat("strikethrough"),r&&f.toggleFormat("italic"),s&&f.toggleFormat("underline")),c?c.append(f):(c=(0,e.lJ7)().append(f),b.push(c))):(b.push(f),d(),c=null);return d(),0===b.length&&b.push((0,e.lJ7)()),b},node:h}}function k(a=g.NO_STATUS,b=1,c){return(0,e.pTq)(new h(a,b,c))}function l(a){return a instanceof h}function m(a,...b){let c=new URL("https://lexical.dev/docs/error"),d=new URLSearchParams;for(let c of(d.append("code",a),b))d.append("v",c);throw c.search=d.toString(),Error(`Minified Lexical error #${a}; visit ${c.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(0,e.guI)("INSERT_TABLE_COMMAND");class o extends e.fGB{static getType(){return"tablerow"}static clone(a){return new o(a.__height,a.__key)}static importDOM(){return{tr:a=>({conversion:p,priority:0})}}static importJSON(a){return q().updateFromJSON(a)}updateFromJSON(a){return super.updateFromJSON(a).setHeight(a.height)}constructor(a,b){super(b),this.__height=a}exportJSON(){let a=this.getHeight();return{...super.exportJSON(),...void 0===a?void 0:{height:a}}}createDOM(a){let b=document.createElement("tr");return this.__height&&(b.style.height=`${this.__height}px`),(0,d.ZB)(b,a.theme.tableRow),b}extractWithChild(a,b,c){return"html"===c}isShadowRoot(){return!0}setHeight(a){let b=this.getWritable();return b.__height=a,b}getHeight(){return this.getLatest().__height}updateDOM(a){return a.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function p(a){let b,c=a;return f.test(c.style.height)&&(b=parseFloat(c.style.height)),{after:a=>(0,d.cE)(a,l),node:q(b)}}function q(a){return(0,e.pTq)(new o(a))}function r(a){return a instanceof o}let s="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,t=s&&"documentMode"in document?document.documentMode:null;function u(a,b,c){let d=[],e=null,f=null;function g(a){let b=d[a];return void 0===b&&(d[a]=b=[]),b}let h=a.getChildren();for(let a=0;a<h.length;a++){let d=h[a];r(d)||m(209);let i=g(a);for(let j=d.getFirstChild(),k=0;null!=j;j=j.getNextSibling()){for(l(j)||m(147);void 0!==i[k];)k++;let d={cell:j,startColumn:k,startRow:a},{__rowSpan:o,__colSpan:p}=j;for(let b=0;b<o&&!(a+b>=h.length);b++){let c=g(a+b);for(let a=0;a<p;a++)c[k+a]=d}null!==b&&null===e&&b.is(j)&&(e=d),null!==c&&null===f&&c.is(j)&&(f=d)}}return[d,e,f]}function v(a){return(0,e.sby)(a)&&"TABLE"===a.nodeName}function w(a,b){for(let c=b,d=null;null!==c;c=c.getParent()){if(a.is(c))return d;l(c)&&(d=c)}return null}function x(a,b,c){return w(a,(0,e.xL4)(b,c))}function y(a,b,c){if(!b.theme.tableAlignment)return;let e=[],f=[];for(let a of["center","right"]){let d=b.theme.tableAlignment[a];d&&(a===c?f:e).push(d)}(0,d.HE)(a,...e),(0,d.ZB)(a,...f)}s&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),s&&"InputEvent"in window&&!t&&new window.InputEvent("input"),e.bbF,e.UDz,e.AX0,e.JM3,e.hi0,e.viC,e.WuB,e.gCZ,e.w$Z;let z=new WeakSet;function A(a=(0,e.i0_)()){return z.has(a)}class B extends e.fGB{static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(a){let b=this.getWritable();return b.__colWidths=a,b}static clone(a){return new B(a.__key)}afterCloneFrom(a){super.afterCloneFrom(a),this.__colWidths=a.__colWidths,this.__rowStriping=a.__rowStriping,this.__frozenColumnCount=a.__frozenColumnCount,this.__frozenRowCount=a.__frozenRowCount}static importDOM(){return{table:a=>({conversion:C,priority:1})}}static importJSON(a){return D().updateFromJSON(a)}updateFromJSON(a){return super.updateFromJSON(a).setRowStriping(a.rowStriping||!1).setFrozenColumns(a.frozenColumnCount||0).setFrozenRows(a.frozenRowCount||0).setColWidths(a.colWidths)}constructor(a){super(a),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(a,b,c){return"html"===c}getDOMSlot(a){let b=v(a)?a:a.querySelector("table");return v(b)||m(229),super.getDOMSlot(a).withElement(b).withAfter(b.querySelector("colgroup"))}createDOM(a,b){let c=document.createElement("table");this.__style&&(c.style.cssText=this.__style);let f=document.createElement("colgroup");if(c.appendChild(f),(0,e.pd8)(f),(0,d.ZB)(c,a.theme.table),this.updateTableElement(null,c,a),A(b)){let b=document.createElement("div"),e=a.theme.tableScrollableWrapper;return e?(0,d.ZB)(b,e):b.style.cssText="overflow-x: auto;",b.appendChild(c),this.updateTableWrapper(null,b,c,a),b}return c}updateTableWrapper(a,b,c,e){this.__frozenColumnCount!==(a?a.__frozenColumnCount:0)&&function(a,b,c,e){e>0?((0,d.ZB)(a,c.theme.tableFrozenColumn),b.setAttribute("data-lexical-frozen-column","true")):((0,d.HE)(a,c.theme.tableFrozenColumn),b.removeAttribute("data-lexical-frozen-column"))}(b,c,e,this.__frozenColumnCount),this.__frozenRowCount!==(a?a.__frozenRowCount:0)&&function(a,b,c,e){e>0?((0,d.ZB)(a,c.theme.tableFrozenRow),b.setAttribute("data-lexical-frozen-row","true")):((0,d.HE)(a,c.theme.tableFrozenRow),b.removeAttribute("data-lexical-frozen-row"))}(b,c,e,this.__frozenRowCount)}updateTableElement(a,b,c){this.__style!==(a?a.__style:"")&&(b.style.cssText=this.__style),this.__rowStriping!==(!!a&&a.__rowStriping)&&function(a,b,c){c?((0,d.ZB)(a,b.theme.tableRowStriping),a.setAttribute("data-lexical-row-striping","true")):((0,d.HE)(a,b.theme.tableRowStriping),a.removeAttribute("data-lexical-row-striping"))}(b,c,this.__rowStriping),function(a,b,c,d){let e=a.querySelector("colgroup");if(!e)return;let f=[];for(let a=0;a<c;a++){let b=document.createElement("col"),c=d&&d[a];c&&(b.style.width=`${c}px`),f.push(b)}e.replaceChildren(...f)}(b,0,this.getColumnCount(),this.getColWidths()),y(b,c,this.getFormatType())}updateDOM(a,b,c){var d;let f=this.getDOMSlot(b).element;return b===f===A()||((0,e.sby)(d=b)&&"DIV"===d.nodeName&&this.updateTableWrapper(a,b,f,c),this.updateTableElement(a,f,c),!1)}exportDOM(a){let b=super.exportDOM(a),{element:c}=b;return{after:c=>{if(b.after&&(c=b.after(c)),!v(c)&&(0,e.sby)(c)&&(c=c.querySelector("table")),!v(c))return null;y(c,a._config,this.getFormatType());let[d]=u(this,null,null),f=new Map;for(let a of d)for(let b of a){let a=b.cell.getKey();f.has(a)||f.set(a,{colSpan:b.cell.getColSpan(),startColumn:b.startColumn})}let g=new Set;for(let a of c.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){let b=a.getAttribute("data-temporary-table-cell-lexical-key");if(b){let c=f.get(b);if(a.removeAttribute("data-temporary-table-cell-lexical-key"),c){f.delete(b);for(let a=0;a<c.colSpan;a++)g.add(a+c.startColumn)}}}let h=c.querySelector(":scope > colgroup");if(h){let a=Array.from(c.querySelectorAll(":scope > colgroup > col")).filter((a,b)=>g.has(b));h.replaceChildren(...a)}let i=c.querySelectorAll(":scope > tr");if(i.length>0){let a=document.createElement("tbody");for(let b of i)a.appendChild(b);c.append(a)}return c},element:!v(c)&&(0,e.sby)(c)?c.querySelector("table"):c}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(a,b){let{rows:c,domRows:d}=b;for(let b=0;b<c;b++){let c=d[b];if(null!=c)for(let d=0;d<c.length;d++){let e=c[d];if(null==e)continue;let{elem:f}=e,g=x(this,f);if(null!==g&&a.is(g))return{x:d,y:b}}}throw Error("Cell not found in table.")}getDOMCellFromCords(a,b,c){let{domRows:d}=c,e=d[b];if(null==e)return null;let f=e[a<e.length?a:e.length-1];return null==f?null:f}getDOMCellFromCordsOrThrow(a,b,c){let d=this.getDOMCellFromCords(a,b,c);if(!d)throw Error("Cell not found at cords.");return d}getCellNodeFromCords(a,b,c){let d=this.getDOMCellFromCords(a,b,c);if(null==d)return null;let f=(0,e.xL4)(d.elem);return l(f)?f:null}getCellNodeFromCordsOrThrow(a,b,c){let d=this.getCellNodeFromCords(a,b,c);if(!d)throw Error("Node at cords not TableCellNode.");return d}getRowStriping(){return!!this.getLatest().__rowStriping}setRowStriping(a){let b=this.getWritable();return b.__rowStriping=a,b}setFrozenColumns(a){let b=this.getWritable();return b.__frozenColumnCount=a,b}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(a){let b=this.getWritable();return b.__frozenRowCount=a,b}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){let a=this.getFirstChild();if(!a)return 0;let b=0;return a.getChildren().forEach(a=>{l(a)&&(b+=a.getColSpan())}),b}}function C(a){let b=D();a.hasAttribute("data-lexical-row-striping")&&b.setRowStriping(!0),a.hasAttribute("data-lexical-frozen-column")&&b.setFrozenColumns(1),a.hasAttribute("data-lexical-frozen-row")&&b.setFrozenRows(1);let c=a.querySelector(":scope > colgroup");if(c){let a=[];for(let b of c.querySelectorAll(":scope > col")){let c=b.style.width||"";if(!f.test(c)&&(c=b.getAttribute("width")||"",!/^\d+$/.test(c))){a=void 0;break}a.push(parseFloat(c))}a&&b.setColWidths(a)}return{after:a=>(0,d.cE)(a,r),node:b}}function D(){return(0,e.pTq)(new B)}function E(a){return a instanceof B}var F=c(58725),G=c(50474),H=c(78690),I=c(58328),J=c(56753),K=c(26132);let L={markdownFormatKind:null,regEx:/(?:)/,regExForAutoFormatting:/(?:)/,requiresParagraphStart:!1},M={...L,requiresParagraphStart:!0};function N(a){return(b,c)=>(0,K.Pi)(b)&&b.getTag()==="h"+a?"#".repeat(a)+" "+c(b):null}N(1),N(2),N(3),N(4),N(5),N(6);function O(a,b){let c={};for(let d of a){let a=b(d);a&&(c[a]?c[a].push(d):c[a]=[d])}return c}function P(a){let b=O(a,a=>a.type);return{element:b.element||[],multilineElement:b["multiline-element"]||[],textFormat:b["text-format"]||[],textMatch:b["text-match"]||[]}}let Q=/[!-/:-@[-`{-~\s]/,R=/^\s{0,3}$/;function S(a){if(!(0,e.bSg)(a))return!1;let b=a.getFirstChild();return null==b||1===a.getChildrenSize()&&(0,e.kFe)(b)&&R.test(b.getTextContent())}function T(a,b=!1){let c=P(a),d=[...c.multilineElement,...c.element],f=!b,g=c.textFormat.filter(a=>1===a.format.length).sort((a,b)=>a.format.includes("code")&&!b.format.includes("code")?1:!a.format.includes("code")&&b.format.includes("code")?-1:0);return a=>{let b=[],h=(a||(0,e.NiT)()).getChildren();return h.forEach((a,e)=>{let i=U(a,d,g,c.textMatch);null!=i&&b.push(f&&e>0&&!S(a)&&!S(h[e-1])?"\n".concat(i):i)}),b.join("\n")}}function U(a,b,c,d){for(let e of b){if(!e.export)continue;let b=e.export(a,a=>V(a,c,d));if(null!=b)return b}return(0,e.ff4)(a)?V(a,c,d):(0,e.Cyw)(a)?a.getTextContent():null}function V(a,b,c,d,f){let g=[],h=a.getChildren();d||(d=[]),f||(f=[]);a:for(let a of h){for(let e of c){if(!e.export)continue;let h=e.export(a,a=>V(a,b,c,d,[...f,...d]),(a,c)=>W(a,c,b,d,f));if(null!=h){g.push(h);continue a}}(0,e.wH$)(a)?g.push("\n"):(0,e.kFe)(a)?g.push(W(a,a.getTextContent(),b,d,f)):(0,e.ff4)(a)?g.push(V(a,b,c,d,f)):(0,e.Cyw)(a)&&g.push(a.getTextContent())}return g.join("")}function W(a,b,c,d,e){let f=b.trim(),g=f;a.hasFormat("code")||(g=g.replace(/([*_`~\\])/g,"\\$1"));let h="",i="",j="",k=X(a,!0),l=X(a,!1),m=new Set;for(let b of c){let c=b.format[0],e=b.tag;Y(a,c)&&!m.has(c)&&(m.add(c),Y(k,c)&&d.find(a=>a.tag===e)||(d.push({format:c,tag:e}),h+=e))}for(let b=0;b<d.length;b++){let c=d[b],f=Y(a,c.format),g=Y(l,c.format);if(f&&g)continue;let h=[...d];for(;h.length>b;){let a=h.pop();e&&a&&e.find(b=>b.tag===a.tag)||(a&&"string"==typeof a.tag&&(f?g||(j+=a.tag):i+=a.tag),d.pop())}break}return g=h+g+j,i+b.replace(f,()=>g)}function X(a,b){let c=b?a.getPreviousSibling():a.getNextSibling();if(!c){let d=a.getParentOrThrow();d.isInline()&&(c=b?d.getPreviousSibling():d.getNextSibling())}for(;c;){if((0,e.ff4)(c)){if(!c.isInline())break;let a=b?c.getLastDescendant():c.getFirstDescendant();if((0,e.kFe)(a))return a;c=b?c.getPreviousSibling():c.getNextSibling()}if((0,e.kFe)(c))return c;if(!(0,e.ff4)(c))break}return null}function Y(a,b){return(0,e.kFe)(a)&&a.hasFormat(b)}function Z(a,b){let c=$(a.getTextContent(),b);if(!c)return null;let d=c.index||0,e=d+c[0].length,f=b.transformersByTag[c[1]];return{endIndex:e,match:c,startIndex:d,transformer:f}}function $(a,b){let c=a.match(b.openTagsRegExp);if(null==c)return null;for(let d of c){let c=d.replace(/^\s/,""),e=b.fullMatchRegExpByTag[c];if(null==e)continue;let f=a.match(e),g=b.transformersByTag[c];if(null!=f&&null!=g){if(!1!==g.intraword)return f;let{index:b=0}=f,c=a[b-1],d=a[b+f[0].length];if((!c||Q.test(c))&&(!d||Q.test(d)))return f}}return null}function _(a,b,c,d,e){let f,g,h,i=a.getTextContent();if(e[0]===i?h=a:0===b?[h,f]=a.splitText(c):[g,h,f]=a.splitText(b,c),h.setTextContent(e[2]),d)for(let a of d.format)h.hasFormat(a)||h.toggleFormat(a);return{nodeAfter:f,nodeBefore:g,transformedNode:h}}function aa(a,b){let c,d,e,f,g=a;for(let a of b){if(!a.replace||!a.importRegExp)continue;let b=g.getTextContent().match(a.importRegExp);if(!b)continue;let h=b.index||0,i=a.getEndIndex?a.getEndIndex(g,b):h+b[0].length;!1!==i&&(void 0===c||void 0===d||h<c&&i>d)&&(c=h,d=i,e=a,f=b)}return void 0===c||void 0===d||void 0===e||void 0===f?null:{endIndex:d,match:f,startIndex:c,transformer:e}}function ab(a,b,c,d,e){let f,g,h;return(0===b?[h,f]=a.splitText(c):[g,h,f]=a.splitText(b,c),d.replace)?{nodeAfter:f,nodeBefore:g,transformedNode:(h?d.replace(h,e):void 0)||void 0}:null}function ac(a,b,c){let d=Z(a,b),f=aa(a,c);if(d&&f&&(d.startIndex<=f.startIndex&&d.endIndex>=f.endIndex?f=null:d=null),d){let f=_(a,d.startIndex,d.endIndex,d.transformer,d.match);f.nodeAfter&&(0,e.kFe)(f.nodeAfter)&&!f.nodeAfter.hasFormat("code")&&ac(f.nodeAfter,b,c),f.nodeBefore&&(0,e.kFe)(f.nodeBefore)&&!f.nodeBefore.hasFormat("code")&&ac(f.nodeBefore,b,c),f.transformedNode&&(0,e.kFe)(f.transformedNode)&&!f.transformedNode.hasFormat("code")&&ac(f.transformedNode,b,c)}else if(f){let d=ab(a,f.startIndex,f.endIndex,f.transformer,f.match);if(!d)return;d.nodeAfter&&(0,e.kFe)(d.nodeAfter)&&!d.nodeAfter.hasFormat("code")&&ac(d.nodeAfter,b,c),d.nodeBefore&&(0,e.kFe)(d.nodeBefore)&&!d.nodeBefore.hasFormat("code")&&ac(d.nodeBefore,b,c),d.transformedNode&&(0,e.kFe)(d.transformedNode)&&!d.transformedNode.hasFormat("code")&&ac(d.transformedNode,b,c)}let g=a.getTextContent().replace(/\\([*_`~])/g,"$1");a.setTextContent(g)}function ad(a,b=!1){let c=P(a),d=ag(c.textFormat);return(a,f)=>{let g=a.split("\n"),h=g.length,i=f||(0,e.NiT)();i.clear();for(let a=0;a<h;a++){let b=g[a],[e,f]=ae(g,a,c.multilineElement,i);if(e){a=f;continue}af(b,i,c.element,d,c.textMatch)}for(let a of i.getChildren())!b&&S(a)&&i.getChildrenSize()>1&&a.remove();null!==(0,e.vJq)()&&i.selectStart()}}function ae(a,b,c,d){for(let e of c){let{handleImportAfterStartMatch:c,regExpEnd:f,regExpStart:g,replace:h}=e,i=a[b]?.match(g);if(!i)continue;if(c){let f=c({lines:a,rootNode:d,startLineIndex:b,startMatch:i,transformer:e});if(null===f)continue;if(f)return f}let j="object"==typeof f&&"regExp"in f?f.regExp:f,k=f&&"object"==typeof f&&"optional"in f?f.optional:!f,l=b,m=a.length;for(;l<m;){let c=j?a[l]?.match(j):null;if(!c&&(!k||k&&l<m-1)||c&&b===l&&c.index===i.index){l++;continue}let e=[];if(c&&b===l)e.push(a[b].slice(i[0].length,-c[0].length));else for(let d=b;d<=l;d++){let f=a[d];if(d===b){let a=f.slice(i[0].length);e.push(a)}else if(d===l&&c){let a=f.slice(0,-c[0].length);e.push(a)}else e.push(f)}if(!1!==h(d,null,i,c,e,!0))return[!0,l];break}}return[!1,b]}function af(a,b,c,f,g){let h=(0,e.sTu)(a),i=(0,e.lJ7)();for(let{regExp:d,replace:e}of(i.append(h),b.append(i),c)){let b=a.match(d);if(b&&(h.setTextContent(a.slice(b[0].length)),!1!==e(i,[h],b,!0)))break}if(ac(h,f,g),i.isAttached()&&a.length>0){let a=i.getPreviousSibling();if((0,e.bSg)(a)||(0,K.jd)(a)||(0,J.HY)(a)){let b=a;if((0,J.HY)(a)){let c=a.getLastDescendant();b=null==c?null:(0,d.Bt)(c,J.Mz)}null!=b&&b.getTextContentSize()>0&&(b.splice(b.getChildrenSize(),0,[(0,e.WKo)(),...i.getChildren()]),i.remove())}}}function ag(a){let b={},c={},d=[],e="(?<![\\\\])";for(let e of a){let{tag:a}=e;b[a]=e;let f=a.replace(/([*^+])/g,"\\$1");d.push(f),1===a.length?c[a]=RegExp(`(?<![\\\\${f}])(${f})((\\\\${f})?.*?[^${f}\\s](\\\\${f})?)((?<!\\\\)|(?<=\\\\\\\\))(${f})(?![\\\\${f}])`):c[a]=RegExp(`(?<!\\\\)(${f})((\\\\${f})?.*?[^\\s](\\\\${f})?)((?<!\\\\)|(?<=\\\\\\\\))(${f})(?!\\\\)`)}return{fullMatchRegExpByTag:c,openTagsRegExp:RegExp(`${e}(${d.join("|")})`,"g"),transformersByTag:b}}let ah=/^[\t ]*$/,ai=/^(\s*)(\d+)\.\s/,aj=/^(\s*)[-*+]\s/,ak=/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,al=/^(#{1,6})\s/,am=/^>\s/,an=/^[ \t]*(\\`\\`\\`|```)(\w+)?/,ao=/[ \t]*(\\`\\`\\`|```)$/,ap=/^[ \t]*```[^`]+(?:(?:`{1,2}|`{4,})[^`]+)*```(?:[^`]|$)/,aq=/^\|(.+)\|\s?$/,ar=/^(\| ?:?-*:? ?)+\|\s?$/,as=/^[ \t]*<[a-z_][\w-]*(?:\s[^<>]*)?\/?>/i,at=/^[ \t]*<\/[a-z_][\w-]*\s*>/i,au=a=>(b,c,d)=>{let e=a(d);e.append(...c),b.replace(e),e.select(0,0)},av=4;function aw(a){let b=a.match(/\t/g),c=a.match(/ /g),d=0;return b&&(d+=b.length),c&&(d+=Math.floor(c.length/av)),d}let ax=a=>(b,c,d)=>{let e=b.getPreviousSibling(),f=b.getNextSibling(),g=(0,J.i)("check"===a?"x"===d[3]:void 0);if((0,J.HY)(f)&&f.getListType()===a){let a=f.getFirstChild();null!==a?a.insertBefore(g):f.append(g),b.remove()}else if((0,J.HY)(e)&&e.getListType()===a)e.append(g),b.remove();else{let c=(0,J.DE)(a,"number"===a?Number(d[2]):void 0);c.append(g),b.replace(c)}g.append(...c),g.select(0,0);let h=aw(d[1]);h&&g.setIndent(h)},ay=(a,b,c)=>{let d=[],e=a.getChildren(),f=0;for(let g of e)if((0,J.Mz)(g)){if(1===g.getChildrenSize()){let a=g.getFirstChild();if((0,J.HY)(a)){d.push(ay(a,b,c+1));continue}}let e=" ".repeat(c*av),h=a.getListType(),i="number"===h?`${a.getStart()+f}. `:"check"===h?`- [${g.getChecked()?"x":" "}] `:"- ";d.push(e+i+b(g)),f++}return d.join("\n")},az={type:"element",dependencies:[K.jL],export:(a,b)=>{if(!(0,K.Pi)(a))return null;let c=Number(a.getTag().slice(1));return"#".repeat(c)+" "+b(a)},regExp:al,replace:au(a=>{let b="h"+a[1].length;return(0,K.fi)(b)})},aA={type:"element",dependencies:[K.dJ],export:(a,b)=>{if(!(0,K.jd)(a))return null;let c=b(a).split("\n"),d=[];for(let a of c)d.push("> "+a);return d.join("\n")},regExp:am,replace:(a,b,c,d)=>{if(d){let c=a.getPreviousSibling();if((0,K.jd)(c)){c.splice(c.getChildrenSize(),0,[(0,e.WKo)(),...b]),c.select(0,0),a.remove();return}}let f=(0,K.xi)();f.append(...b),a.replace(f),f.select(0,0)}},aB={type:"element",dependencies:[J.v5,J.YW],export:(a,b)=>(0,J.HY)(a)?ay(a,b,0):null,regExp:aj,replace:ax("bullet")};function aC(a,b){let c=a.split("\n"),d=!1,e=[],f=0;for(let a=0;a<c.length;a++){let g=c[a],h=e[e.length-1];if(ap.test(g)){e.push(g);continue}if(ao.test(g)){0===f&&(d=!0),1===f&&(d=!1),f>0&&f--,e.push(g);continue}if(an.test(g)){d=!0,f++,e.push(g);continue}if(d){e.push(g);continue}ah.test(g)||ah.test(h)||!h||al.test(h)||al.test(g)||am.test(g)||ai.test(g)||aj.test(g)||ak.test(g)||aq.test(g)||ar.test(g)||!b||as.test(g)||at.test(g)||as.test(h)||at.test(h)||ao.test(h)?e.push(g):e[e.length-1]=h+" "+g.trim()}return e.join("\n")}J.v5,J.YW,ax("check");let aD=[az,aA,aB,{type:"element",dependencies:[J.v5,J.YW],export:(a,b)=>(0,J.HY)(a)?ay(a,b,0):null,regExp:ai,replace:ax("number")},{type:"text-format",format:["code"],tag:"`"},{type:"text-format",format:["bold","italic"],tag:"***"},{type:"text-format",format:["bold","italic"],intraword:!1,tag:"___"},{type:"text-format",format:["bold"],tag:"**"},{type:"text-format",format:["bold"],intraword:!1,tag:"__"},{type:"text-format",format:["highlight"],tag:"=="},{type:"text-format",format:["italic"],tag:"*"},{type:"text-format",format:["italic"],intraword:!1,tag:"_"},{type:"text-format",format:["strikethrough"],tag:"~~"}];function aE(a,b=aD,c,d=!1,e=!0){let f=d?a:aC(a,e);return ad(b,d)(f,c)}function aF(a=aD,b,c=!1){return T(a,c)(b)}let aG=/^\|(.+)\|\s?$/,aH=/^(\| ?:?-*:? ?)+\|\s?$/,aI=({allTransformers:a})=>({type:"element",dependencies:[B,o,h],export:b=>{if(!E(b))return null;let c=[];for(let d of b.getChildren()){let b=[];if(!r(d))continue;let e=!1;for(let c of d.getChildren())l(c)&&(b.push(aF(a,c).replace(/\n/g,"\\n").trim()),c.__headerState===g.ROW&&(e=!0));c.push(`| ${b.join(" | ")} |`),e&&c.push(`| ${b.map(a=>"---").join(" | ")} |`)}return c.join("\n")},regExp:aG,replace:(b,c,d)=>{let f=d[0];if(!f)return;if(aH.test(f)){let a=b.getPreviousSibling();if(!a||!E(a))return;let c=a.getChildren(),d=c[c.length-1];if(!d||!r(d))return;d.getChildren().forEach(a=>{l(a)&&a.setHeaderStyles(g.ROW,g.ROW)}),b.remove();return}let h=aL(f,a);if(null==h)return;let i=[h],j=b.getPreviousSibling(),k=h.length;for(;j&&(0,e.bSg)(j)&&1===j.getChildrenSize();){let b=j.getFirstChild();if(!(0,e.kFe)(b))break;let c=aL(b.getTextContent(),a);if(null==c)break;k=Math.max(k,c.length),i.unshift(c);let d=j.getPreviousSibling();j.remove(),j=d}let m=D();for(let b of i){let c=q();m.append(c);for(let d=0;d<k;d++)c.append(d<b.length?b[d]:aK("",a))}let o=b.getPreviousSibling();E(o)&&aJ(o)===k?(o.append(...m.getChildren()),b.remove()):b.replace(m),m.selectEnd()}});function aJ(a){let b=a.getFirstChild();return r(b)?b.getChildrenSize():0}let aK=(a,b)=>{a=a.replace(/\\n/g,"\n");let c=k(g.NO_STATUS);return aE(a,b,c),c},aL=(a,b)=>{let c=a.match(aG);return c&&c[1]?c[1].split("|").map(a=>aK(a,b)):null},aM=[{name:"rows",type:"number",defaultValue:5,required:!0},{name:"columns",type:"number",defaultValue:5,required:!0}],aN=(0,G.m)({feature:async({config:a,isRoot:b,parentIsLocalized:c})=>{let d=a.collections.map(a=>a.slug)||[],e=await (0,F.b)({config:a,fields:aM,parentIsLocalized:c,requireFieldLevelRichTextEditor:b,validRelationships:d});return{ClientFeature:"@payloadcms/richtext-lexical/client#TableFeatureClient",generateSchemaMap:()=>{let a=new Map;return a.set("fields",{fields:e}),a},markdownTransformers:[aI],nodes:[(0,I.R)({converters:{html:{converter:async({converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:f,parent:g,req:h,showHiddenFields:i})=>{let j=await (0,H.D)({converters:a,currentDepth:b,depth:c,draft:d,lexicalNodes:e.children,overrideAccess:f,parent:{...e,parent:g},req:h,showHiddenFields:i});return`<div class="lexical-table-container"><table class="lexical-table" style="border-collapse: collapse;">${j}</table></div>`},nodeTypes:[B.getType()]}},node:B}),(0,I.R)({converters:{html:{converter:async({converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:f,parent:g,req:h,showHiddenFields:i})=>{let j=await (0,H.D)({converters:a,currentDepth:b,depth:c,draft:d,lexicalNodes:e.children,overrideAccess:f,parent:{...e,parent:g},req:h,showHiddenFields:i}),k=e.headerState>0?"th":"td",l=`lexical-table-cell-header-${e.headerState}`,m=e.backgroundColor?`background-color: ${e.backgroundColor};`:"",o=e.colSpan&&e.colSpan>1?`colspan="${e.colSpan}"`:"",p=e.rowSpan&&e.rowSpan>1?`rowspan="${e.rowSpan}"`:"";return`<${k} class="lexical-table-cell ${l}" style="border: 1px solid #ccc; padding: 8px; ${m}" ${o} ${p}>${j}</${k}>`},nodeTypes:[h.getType()]}},node:h}),(0,I.R)({converters:{html:{converter:async({converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:f,parent:g,req:h,showHiddenFields:i})=>{let j=await (0,H.D)({converters:a,currentDepth:b,depth:c,draft:d,lexicalNodes:e.children,overrideAccess:f,parent:{...e,parent:g},req:h,showHiddenFields:i});return`<tr class="lexical-table-row">${j}</tr>`},nodeTypes:[o.getType()]}},node:o})]}},key:"experimental_table"})},43796:(a,b,c)=>{var d=c(81958);a.exports=function a(a){return d(a).replace(/[\W_]+(.|$)/g,function(a,b){return b?" "+b:""}).trim()}},43982:(a,b,c)=>{"use strict";c.d(b,{v:()=>d});let d=({deletedAtPath:a="deletedAt",enableTrash:b,trash:c,where:d})=>{if(!b||c)return d;let e={[a]:{exists:!1}};return d?.and?{...d,and:[...d.and,e]}:{and:[e,...d?[d]:[]]}}},44019:a=>{a.exports=b;function b(a,c){if(a&&c)return b(a)(c);if("function"!=typeof a)throw TypeError("need wrapper function");return Object.keys(a).forEach(function(b){d[b]=a[b]}),d;function d(){for(var b=Array(arguments.length),c=0;c<b.length;c++)b[c]=arguments[c];var d=a.apply(this,b),e=b[b.length-1];return"function"==typeof d&&d!==e&&Object.keys(e).forEach(function(a){d[a]=e[a]}),d}}},44674:(a,b,c)=>{"use strict";c.d(b,{EI:()=>j,h6:()=>i,x4:()=>h});var d=c(55199);let{isPlural:e,singular:f}=d,g=a=>a.charAt(0).toUpperCase()+a.slice(1),h=(a,b=!1)=>{let c=(a||"").trim().split(/[\s-]/),d=[];return c.forEach(a=>{if(""!==a){let b=a.split(/(?=[A-Z])/).join(" ");d.push(g(b))}}),b?d.join("").replace(/\s/g,""):d.join(" ")},i=a=>{let b=h(a);return e(a)?{plural:b,singular:f(b)}:{plural:d(b),singular:b}},j=a=>{let b=h(a,!0);return e(a)?{plural:b,singular:f(b)}:{plural:d(b),singular:b}}},44677:(a,b,c)=>{"use strict";let{webidl:d}=c(2312),{kEnumerableProperty:e}=c(33895),{kConstruct:f}=c(25394);class g extends Event{#bB;constructor(a,b={}){if(a===f){super(arguments[1],arguments[2]),d.util.markAsUncloneable(this);return}let c="MessageEvent constructor";d.argumentLengthCheck(arguments,1,c),super(a=d.converters.DOMString(a,c,"type"),b=d.converters.MessageEventInit(b,c,"eventInitDict")),this.#bB=b,d.util.markAsUncloneable(this)}get data(){return d.brandCheck(this,g),this.#bB.data}get origin(){return d.brandCheck(this,g),this.#bB.origin}get lastEventId(){return d.brandCheck(this,g),this.#bB.lastEventId}get source(){return d.brandCheck(this,g),this.#bB.source}get ports(){return d.brandCheck(this,g),Object.isFrozen(this.#bB.ports)||Object.freeze(this.#bB.ports),this.#bB.ports}initMessageEvent(a,b=!1,c=!1,e=null,f="",h="",i=null,j=[]){return d.brandCheck(this,g),d.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new g(a,{bubbles:b,cancelable:c,data:e,origin:f,lastEventId:h,source:i,ports:j})}static createFastMessageEvent(a,b){let c=new g(f,a,b);return c.#bB=b,c.#bB.data??=null,c.#bB.origin??="",c.#bB.lastEventId??="",c.#bB.source??=null,c.#bB.ports??=[],c}}let{createFastMessageEvent:h}=g;delete g.createFastMessageEvent;class i extends Event{#bB;constructor(a,b={}){let c="CloseEvent constructor";d.argumentLengthCheck(arguments,1,c),super(a=d.converters.DOMString(a,c,"type"),b=d.converters.CloseEventInit(b)),this.#bB=b,d.util.markAsUncloneable(this)}get wasClean(){return d.brandCheck(this,i),this.#bB.wasClean}get code(){return d.brandCheck(this,i),this.#bB.code}get reason(){return d.brandCheck(this,i),this.#bB.reason}}class j extends Event{#bB;constructor(a,b){let c="ErrorEvent constructor";d.argumentLengthCheck(arguments,1,c),super(a,b),d.util.markAsUncloneable(this),a=d.converters.DOMString(a,c,"type"),b=d.converters.ErrorEventInit(b??{}),this.#bB=b}get message(){return d.brandCheck(this,j),this.#bB.message}get filename(){return d.brandCheck(this,j),this.#bB.filename}get lineno(){return d.brandCheck(this,j),this.#bB.lineno}get colno(){return d.brandCheck(this,j),this.#bB.colno}get error(){return d.brandCheck(this,j),this.#bB.error}}Object.defineProperties(g.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:e,origin:e,lastEventId:e,source:e,ports:e,initMessageEvent:e}),Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:e,code:e,wasClean:e}),Object.defineProperties(j.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:e,filename:e,lineno:e,colno:e,error:e}),d.converters.MessagePort=d.interfaceConverter(d.is.MessagePort,"MessagePort"),d.converters["sequence<MessagePort>"]=d.sequenceConverter(d.converters.MessagePort);let k=[{key:"bubbles",converter:d.converters.boolean,defaultValue:()=>!1},{key:"cancelable",converter:d.converters.boolean,defaultValue:()=>!1},{key:"composed",converter:d.converters.boolean,defaultValue:()=>!1}];d.converters.MessageEventInit=d.dictionaryConverter([...k,{key:"data",converter:d.converters.any,defaultValue:()=>null},{key:"origin",converter:d.converters.USVString,defaultValue:()=>""},{key:"lastEventId",converter:d.converters.DOMString,defaultValue:()=>""},{key:"source",converter:d.nullableConverter(d.converters.MessagePort),defaultValue:()=>null},{key:"ports",converter:d.converters["sequence<MessagePort>"],defaultValue:()=>[]}]),d.converters.CloseEventInit=d.dictionaryConverter([...k,{key:"wasClean",converter:d.converters.boolean,defaultValue:()=>!1},{key:"code",converter:d.converters["unsigned short"],defaultValue:()=>0},{key:"reason",converter:d.converters.USVString,defaultValue:()=>""}]),d.converters.ErrorEventInit=d.dictionaryConverter([...k,{key:"message",converter:d.converters.DOMString,defaultValue:()=>""},{key:"filename",converter:d.converters.USVString,defaultValue:()=>""},{key:"lineno",converter:d.converters["unsigned long"],defaultValue:()=>0},{key:"colno",converter:d.converters["unsigned long"],defaultValue:()=>0},{key:"error",converter:d.converters.any}]),a.exports={MessageEvent:g,CloseEvent:i,ErrorEvent:j,createFastMessageEvent:h}},44837:(a,b)=>{"use strict";function c(a){let b,c=a.length,d=0,e=0;for(;e<c;)d++,(b=a.charCodeAt(e++))>=55296&&b<=56319&&e<c&&(64512&(b=a.charCodeAt(e)))==56320&&e++;return d}Object.defineProperty(b,"__esModule",{value:!0}),b.default=c,c.code='require("ajv/dist/runtime/ucs2length").default'},44843:(a,b,c)=>{"use strict";var d,e=c(95958),f=c(22946);try{d=[].__proto__===Array.prototype}catch(a){if(!a||"object"!=typeof a||!("code"in a)||"ERR_PROTO_ACCESS"!==a.code)throw a}var g=!!d&&f&&f(Object.prototype,"__proto__"),h=Object,i=h.getPrototypeOf;a.exports=g&&"function"==typeof g.get?e([g.get]):"function"==typeof i&&function(a){return i(null==a?a:h(a))}},44968:a=>{"use strict";a.exports=a=>{let b=RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))","g");return"string"==typeof a?a.replace(b,""):a}},45139:(a,b,c)=>{"use strict";c.d(b,{p:()=>e});var d=c(87917);let e=(a,b,c)=>{let e=[{name:"version",type:"group",fields:b.fields,...c&&{flattenedFields:b.flattenedFields}},{name:"createdAt",type:"date",admin:{disabled:!0},index:!0},{name:"updatedAt",type:"date",admin:{disabled:!0},index:!0}];return b?.versions?.drafts&&(a.localization&&(e.push(d.FU),e.push({name:"publishedLocale",type:"select",admin:{disableBulkEdit:!0,disabled:!0},index:!0,options:a.localization.locales.map(a=>"string"==typeof a?a:a.code)})),e.push({name:"latest",type:"checkbox",admin:{disabled:!0},index:!0}),b?.versions?.drafts?.autosave&&e.push({name:"autosave",type:"checkbox",index:!0})),e}},45213:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(55613),e=c(86397),f=c(49943),g=c(49943);b.default={keyword:"patternProperties",type:"object",schemaType:"object",code(a){let{gen:b,schema:c,data:h,parentSchema:i,it:j}=a,{opts:k}=j,l=(0,d.allSchemaProperties)(c),m=l.filter(a=>(0,f.alwaysValidSchema)(j,c[a]));if(0===l.length||m.length===l.length&&(!j.opts.unevaluated||!0===j.props))return;let o=k.strictSchema&&!k.allowMatchingProperties&&i.properties,p=b.name("valid");!0===j.props||j.props instanceof e.Name||(j.props=(0,g.evaluatedPropsToName)(b,j.props));let{props:q}=j;function r(a){for(let b in o)new RegExp(a).test(b)&&(0,f.checkStrictMode)(j,`property ${b} matches pattern ${a} (use allowMatchingProperties)`)}function s(c){b.forIn("key",h,f=>{b.if((0,e._)`${(0,d.usePattern)(a,c)}.test(${f})`,()=>{let d=m.includes(c);d||a.subschema({keyword:"patternProperties",schemaProp:c,dataProp:f,dataPropType:g.Type.Str},p),j.opts.unevaluated&&!0!==q?b.assign((0,e._)`${q}[${f}]`,!0):d||j.allErrors||b.if((0,e.not)(p),()=>b.break())})})}(function a(){for(let a of l)o&&r(a),j.allErrors?s(a):(b.var(p,!0),s(a),b.if(p))})()}}},45287:(a,b,c)=>{"use strict";var d,e=c(29204),f=c(47638),g=c(71347);let h="AWS_EC2_METADATA_DISABLED",i=async a=>{let{ENV_CMDS_FULL_URI:b,ENV_CMDS_RELATIVE_URI:d,fromContainerMetadata:e,fromInstanceMetadata:g}=await c.e(8743).then(c.bind(c,98743));if(process.env[d]||process.env[b]){a.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:b}=await c.e(9068).then(c.bind(c,69068));return f.chain(b(a),e(a))}return process.env[h]&&"false"!==process.env[h]?async()=>{throw new f.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:a.logger})}:(a.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),g(a))},j=!1,k=(a={})=>f.memoize(f.chain(async()=>{if(a.profile??process.env[g.ENV_PROFILE])throw process.env[e.ENV_KEY]&&process.env[e.ENV_SECRET]&&!j&&((a.logger?.warn&&a.logger?.constructor?.name!=="NoOpLogger"?a.logger.warn.bind(a.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),j=!0),new f.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:a.logger,tryNextLink:!0});return a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),e.fromEnv(a)()},async()=>{a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:b,ssoAccountId:d,ssoRegion:e,ssoRoleName:g,ssoSession:h}=a;if(!b&&!d&&!e&&!g&&!h)throw new f.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:a.logger});let{fromSSO:i}=await c.e(9895).then(c.bind(c,99895));return i(a)()},async()=>{a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:b}=await c.e(6304).then(c.bind(c,76304));return b(a)()},async()=>{a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:b}=await c.e(3468).then(c.bind(c,43468));return b(a)()},async()=>{a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:b}=await c.e(3437).then(c.bind(c,33437));return b(a)()},async()=>(a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await i(a))()),async()=>{throw new f.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:a.logger})}),m,l),l=a=>a?.expiration!==void 0,m=a=>a?.expiration!==void 0&&a.expiration.getTime()-Date.now()<3e5;d=m,d=l,b.v6=k},45293:(a,b,c)=>{"use strict";let d,{Transform:e}=c(57075),f=c(38522),{redirectStatusSet:g,referrerPolicyTokens:h,badPortsSet:i}=c(1852),{getGlobalOrigin:j}=c(17710),{collectASequenceOfCodePoints:k,collectAnHTTPQuotedString:l,removeChars:m,parseMIMEType:o}=c(86541),{performance:p}=c(643),{ReadableStreamFrom:q,isValidHTTPToken:r,normalizedMethodRecordsBase:s}=c(33895),t=c(34589),{isUint8Array:u}=c(73429),{webidl:v}=c(2312),w=[];try{d=c(77598);let a=["sha256","sha384","sha512"];w=d.getHashes().filter(b=>a.includes(b))}catch{}function x(a){let b=a.urlList,c=b.length;return 0===c?null:b[c-1].toString()}function y(a,b){if(!g.has(a.status))return null;let c=a.headersList.get("location",!0);return null!==c&&G(c)&&(z(c)||(c=A(c)),c=new URL(c,x(a))),c&&!c.hash&&(c.hash=b),c}function z(a){for(let b=0;b<a.length;++b){let c=a.charCodeAt(b);if(c>126||c<32)return!1}return!0}function A(a){return Buffer.from(a,"binary").toString("utf8")}function B(a){return a.urlList[a.urlList.length-1]}function C(a){let b=B(a);return aw(b)&&i.has(b.port)?"blocked":"allowed"}function D(a){return a instanceof Error||a?.constructor?.name==="Error"||a?.constructor?.name==="DOMException"}function E(a){for(let b=0;b<a.length;++b){let c=a.charCodeAt(b);if(!(9===c||c>=32&&c<=126||c>=128&&c<=255))return!1}return!0}let F=r;function G(a){return!1===("	"===a[0]||" "===a[0]||"	"===a[a.length-1]||" "===a[a.length-1]||a.includes("\n")||a.includes("\r")||a.includes("\0"))}function H(a){let b=(a.headersList.get("referrer-policy",!0)??"").split(","),c="";if(b.length)for(let a=b.length;0!==a;a--){let d=b[a-1].trim();if(h.has(d)){c=d;break}}return c}function I(a,b){let c=H(b);""!==c&&(a.referrerPolicy=c)}function J(){return"allowed"}function K(){return"success"}function L(){return"success"}function M(a){let b=null;b=a.mode,a.headersList.set("sec-fetch-mode",b,!0)}function N(a){let b=a.origin;if("client"!==b&&void 0!==b){if("cors"===a.responseTainting||"websocket"===a.mode)a.headersList.append("origin",b,!0);else if("GET"!==a.method&&"HEAD"!==a.method){switch(a.referrerPolicy){case"no-referrer":b=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":a.origin&&av(a.origin)&&!av(B(a))&&(b=null);break;case"same-origin":ag(a,B(a))||(b=null)}a.headersList.append("origin",b,!0)}}}function O(a,b){return a}function P(a,b,c){return!a?.startTime||a.startTime<b?{domainLookupStartTime:b,domainLookupEndTime:b,connectionStartTime:b,connectionEndTime:b,secureConnectionStartTime:b,ALPNNegotiatedProtocol:a?.ALPNNegotiatedProtocol}:{domainLookupStartTime:O(a.domainLookupStartTime,c),domainLookupEndTime:O(a.domainLookupEndTime,c),connectionStartTime:O(a.connectionStartTime,c),connectionEndTime:O(a.connectionEndTime,c),secureConnectionStartTime:O(a.secureConnectionStartTime,c),ALPNNegotiatedProtocol:a.ALPNNegotiatedProtocol}}function Q(a){return O(p.now(),a)}function R(a){return{startTime:a.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:a.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function S(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function T(a){return{referrerPolicy:a.referrerPolicy}}function U(a){let b=a.referrerPolicy;t(b);let c=null;if("client"===a.referrer){let a=j();if(!a||"null"===a.origin)return"no-referrer";c=new URL(a)}else v.is.URL(a.referrer)&&(c=a.referrer);let d=V(c),e=V(c,!0);switch(d.toString().length>4096&&(d=e),b){case"no-referrer":return"no-referrer";case"origin":if(null!=e)return e;return V(c,!0);case"unsafe-url":return d;case"strict-origin":case"no-referrer-when-downgrade":{let b=B(a);if($(d)&&!$(b))return"no-referrer";return e}case"strict-origin-when-cross-origin":{let b=B(a);if(ag(d,b))return d;if($(d)&&!$(b))return"no-referrer";return e}case"same-origin":if(ag(a,d))return d;return"no-referrer";case"origin-when-cross-origin":if(ag(a,d))return d;return e}}function V(a,b=!1){return(t(v.is.URL(a)),au(a=new URL(a)))?"no-referrer":(a.username="",a.password="",a.hash="",!0===b&&(a.pathname="",a.search=""),a)}let W=RegExp("^(?:(?:127\\.)(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){2}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[1-9]))$"),X=RegExp("^(?:(?:(?:0{1,4}):){7}(?:(?:0{0,3}1))|(?:(?:0{1,4}):){1,6}(?::(?:0{0,3}1))|(?:::(?:0{0,3}1))|)$");function Y(a){return a.includes(":")?("["===a[0]&&"]"===a[a.length-1]&&(a=a.slice(1,-1)),X.test(a)):W.test(a)}function Z(a){return null!=a&&"null"!==a&&(!!("https:"===(a=new URL(a)).protocol||"wss:"===a.protocol||Y(a.hostname)||"localhost"===a.hostname||"localhost."===a.hostname||a.hostname.endsWith(".localhost")||a.hostname.endsWith(".localhost."))||"file:"===a.protocol)}function $(a){return!!v.is.URL(a)&&("about:blank"===a.href||"about:srcdoc"===a.href||"data:"===a.protocol||"blob:"===a.protocol||Z(a.origin))}function _(a,b){if(void 0===d)return!0;let c=ab(b);if("no metadata"===c||0===c.length)return!0;let e=ac(c);for(let b of ad(c,e)){let c=b.algo,e=b.hash,f=d.createHash(c).update(a).digest("base64");if("="===f[f.length-1]&&(f="="===f[f.length-2]?f.slice(0,-2):f.slice(0,-1)),ae(f,e))return!0}return!1}let aa=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function ab(a){let b=[],c=!0;for(let d of a.split(" ")){c=!1;let a=aa.exec(d);if(null===a||void 0===a.groups||void 0===a.groups.algo)continue;let e=a.groups.algo.toLowerCase();w.includes(e)&&b.push(a.groups)}return!0===c?"no metadata":b}function ac(a){let b=a[0].algo;if("5"===b[3])return b;for(let c=1;c<a.length;++c){let d=a[c];if("5"===d.algo[3]){b="sha512";break}"3"!==b[3]&&"3"===d.algo[3]&&(b="sha384")}return b}function ad(a,b){if(1===a.length)return a;let c=0;for(let d=0;d<a.length;++d)a[d].algo===b&&(a[c++]=a[d]);return a.length=c,a}function ae(a,b){if(a.length!==b.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==b[c]){if("+"===a[c]&&"-"===b[c]||"/"===a[c]&&"_"===b[c])continue;return!1}return!0}function af(a){}function ag(a,b){return a.origin===b.origin&&"null"===a.origin||a.protocol===b.protocol&&a.hostname===b.hostname&&a.port===b.port}function ah(){let a,b;return{promise:new Promise((c,d)=>{a=c,b=d}),resolve:a,reject:b}}function ai(a){return"aborted"===a.controller.state}function aj(a){return"aborted"===a.controller.state||"terminated"===a.controller.state}function ak(a){return s[a.toLowerCase()]??a}function al(a){let b=JSON.stringify(a);if(void 0===b)throw TypeError("Value is not JSON serializable");return t("string"==typeof b),b}let am=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function an(a,b,c=0,d=1){class e{#bC;#bD;#bE;constructor(a,b){this.#bC=a,this.#bD=b,this.#bE=0}next(){let e;if("object"!=typeof this||this===null||!(#bC in this))throw TypeError(`'next' called on an object that does not implement interface ${a} Iterator.`);let f=this.#bE,g=b(this.#bC);if(f>=g.length)return{value:void 0,done:!0};let{[c]:h,[d]:i}=g[f];switch(this.#bE=f+1,this.#bD){case"key":e=h;break;case"value":e=i;break;case"key+value":e=[h,i]}return{value:e,done:!1}}}return delete e.prototype.constructor,Object.setPrototypeOf(e.prototype,am),Object.defineProperties(e.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${a} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(a,b){return new e(a,b)}}function ao(a,b,c,d=0,e=1){let f=an(a,c,d,e),g={keys:{writable:!0,enumerable:!0,configurable:!0,value:function(){return v.brandCheck(this,b),f(this,"key")}},values:{writable:!0,enumerable:!0,configurable:!0,value:function(){return v.brandCheck(this,b),f(this,"value")}},entries:{writable:!0,enumerable:!0,configurable:!0,value:function(){return v.brandCheck(this,b),f(this,"key+value")}},forEach:{writable:!0,enumerable:!0,configurable:!0,value:function(c,d=globalThis){if(v.brandCheck(this,b),v.argumentLengthCheck(arguments,1,`${a}.forEach`),"function"!=typeof c)throw TypeError(`Failed to execute 'forEach' on '${a}': parameter 1 is not of type 'Function'.`);for(let{0:a,1:b}of f(this,"key+value"))c.call(d,b,a,this)}}};return Object.defineProperties(b.prototype,{...g,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:g.entries.value}})}function ap(a,b,c){let d,e=b,f=c;try{d=a.stream.getReader()}catch(a){f(a);return}at(d,e,f)}function aq(a){try{a.close(),a.byobRequest?.respond(0)}catch(a){if(!a.message.includes("Controller is already closed")&&!a.message.includes("ReadableStream is already closed"))throw a}}let ar=/[^\x00-\xFF]/;function as(a){return t(!ar.test(a)),a}async function at(a,b,c){let d=[],e=0;try{for(;;){let{done:f,value:g}=await a.read();if(f)return void b(Buffer.concat(d,e));if(!u(g))return void c(TypeError("Received non-Uint8Array chunk"));d.push(g),e+=g.length}}catch(a){c(a)}}function au(a){t("protocol"in a);let b=a.protocol;return"about:"===b||"blob:"===b||"data:"===b}function av(a){return"string"==typeof a&&":"===a[5]&&"h"===a[0]&&"t"===a[1]&&"t"===a[2]&&"p"===a[3]&&"s"===a[4]||"https:"===a.protocol}function aw(a){t("protocol"in a);let b=a.protocol;return"http:"===b||"https:"===b}function ax(a,b){let c=a;if(!c.startsWith("bytes"))return"failure";let d={position:5};if(b&&k(a=>"	"===a||" "===a,c,d),61!==c.charCodeAt(d.position))return"failure";d.position++,b&&k(a=>"	"===a||" "===a,c,d);let e=k(a=>{let b=a.charCodeAt(0);return b>=48&&b<=57},c,d),f=e.length?Number(e):null;if(b&&k(a=>"	"===a||" "===a,c,d),45!==c.charCodeAt(d.position))return"failure";d.position++,b&&k(a=>"	"===a||" "===a,c,d);let g=k(a=>{let b=a.charCodeAt(0);return b>=48&&b<=57},c,d),h=g.length?Number(g):null;return d.position<c.length||null===h&&null===f||f>h?"failure":{rangeStartValue:f,rangeEndValue:h}}function ay(a,b,c){let d="bytes ";return d+=as(`${a}`),d+="-",d+=as(`${b}`),d+="/",d+=as(`${c}`)}class az extends e{#bF;constructor(a){super(),this.#bF=a}_transform(a,b,c){if(!this._inflateStream){if(0===a.length)return void c();this._inflateStream=(15&a[0])==8?f.createInflate(this.#bF):f.createInflateRaw(this.#bF),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",a=>this.destroy(a))}this._inflateStream.write(a,b,c)}_final(a){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),a()}}function aA(a){return new az(a)}function aB(a){let b=null,c=null,d=null,e=aD("content-type",a);if(null===e)return"failure";for(let a of e){let e=o(a);"failure"!==e&&"*/*"!==e.essence&&((d=e).essence!==c?(b=null,d.parameters.has("charset")&&(b=d.parameters.get("charset")),c=d.essence):d.parameters.has("charset")||null===b||d.parameters.set("charset",b))}return null==d?"failure":d}function aC(a){let b=a,c={position:0},d=[],e="";for(;c.position<b.length;){if(e+=k(a=>'"'!==a&&","!==a,b,c),c.position<b.length)if(34===b.charCodeAt(c.position)){if(e+=l(b,c),c.position<b.length)continue}else t(44===b.charCodeAt(c.position)),c.position++;e=m(e,!0,!0,a=>9===a||32===a),d.push(e),e=""}return d}function aD(a,b){let c=b.get(a,!0);return null===c?null:aC(c)}let aE=new TextDecoder;function aF(a){return 0===a.length?"":(239===a[0]&&187===a[1]&&191===a[2]&&(a=a.subarray(3)),aE.decode(a))}class aG{get baseUrl(){return j()}get origin(){return this.baseUrl?.origin}policyContainer=S()}class aH{settingsObject=new aG}a.exports={isAborted:ai,isCancelled:aj,isValidEncodedURL:z,createDeferredPromise:ah,ReadableStreamFrom:q,tryUpgradeRequestToAPotentiallyTrustworthyURL:af,clampAndCoarsenConnectionTimingInfo:P,coarsenedSharedCurrentTime:Q,determineRequestsReferrer:U,makePolicyContainer:S,clonePolicyContainer:T,appendFetchMetadata:M,appendRequestOriginHeader:N,TAOCheck:L,corsCheck:K,crossOriginResourcePolicyCheck:J,createOpaqueTimingInfo:R,setRequestReferrerPolicyOnRedirect:I,isValidHTTPToken:r,requestBadPort:C,requestCurrentURL:B,responseURL:x,responseLocationURL:y,isURLPotentiallyTrustworthy:$,isValidReasonPhrase:E,sameOrigin:ag,normalizeMethod:ak,serializeJavascriptValueToJSONString:al,iteratorMixin:ao,createIterator:an,isValidHeaderName:F,isValidHeaderValue:G,isErrorLike:D,fullyReadBody:ap,bytesMatch:_,readableStreamClose:aq,isomorphicEncode:as,urlIsLocal:au,urlHasHttpsScheme:av,urlIsHttpHttpsScheme:aw,readAllBytes:at,simpleRangeHeaderValue:ax,buildContentRange:ay,parseMetadata:ab,createInflate:aA,extractMimeType:aB,getDecodeSplit:aD,utf8DecodeBytes:aF,environmentSettingsObject:new aH,isOriginIPPotentiallyTrustworthy:Y}},45307:(a,b,c)=>{"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}let f=c(90165),g=c(67858),h=c(1298),i=h.erase,j=h.cursor,k=c(90439),l=k.style,m=k.clear,o=k.lines,p=k.figures;class q extends g{constructor(a={}){super(a),this.transform=l.render(a.style),this.scale=this.transform.scale,this.msg=a.message,this.initial=a.initial||"",this.validator=a.validate||(()=>!0),this.value="",this.errorMsg=a.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=m("",this.out.columns),this.render()}set value(a){!a&&this.initial?(this.placeholder=!0,this.rendered=f.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(a)),this._value=a,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var a=this;return e(function*(){let b=yield a.validator(a.value);"string"==typeof b&&(a.errorMsg=b,b=!1),a.error=!b})()}submit(){var a=this;return e(function*(){if(a.value=a.value||a.initial,a.cursorOffset=0,a.cursor=a.rendered.length,yield a.validate(),a.error){a.red=!0,a.fire(),a.render();return}a.done=!0,a.aborted=!1,a.fire(),a.render(),a.out.write("\n"),a.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(a){this.placeholder||(this.cursor=this.cursor+a,this.cursorOffset+=a)}_(a,b){let c=this.value.slice(0,this.cursor),d=this.value.slice(this.cursor);this.value=`${c}${a}${d}`,this.red=!1,this.cursor=this.placeholder?0:c.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let a=this.value.slice(0,this.cursor-1),b=this.value.slice(this.cursor);this.value=`${a}${b}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let a=this.value.slice(0,this.cursor),b=this.value.slice(this.cursor+1);this.value=`${a}${b}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(j.down(o(this.outputError,this.out.columns)-1)+m(this.outputError,this.out.columns)),this.out.write(m(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),f.bold(this.msg),l.delimiter(this.done),this.red?f.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((a,b,c)=>a+`
${c?" ":p.pointerSmall} ${f.red().italic(b)}`,"")),this.out.write(i.line+j.to(0)+this.outputText+j.save+this.outputError+j.restore+j.move(this.cursorOffset,0)))}}a.exports=q},45579:(a,b,c)=>{"use strict";c.d(b,{$:()=>h});let d=a=>"string"==typeof a&&a.length>0?a.split(",").map(a=>a.trim()):[];var e=c(15318);let f="AWS_AUTH_SCHEME_PREFERENCE",g="auth_scheme_preference",h={environmentVariableSelector:(a,b)=>b?.signingName&&(0,e.R)(b.signingName)in a?["httpBearerAuth"]:f in a?d(a[f]):void 0,configFileSelector:a=>{if(g in a)return d(a[g])},default:[]}},45720:(a,b,c)=>{"use strict";c.d(b,{D:()=>d});let d=(a={})=>Object.entries(a).reduce((a,[b,c])=>["AND","and","OR","or"].includes(b)&&Array.isArray(c)?{...a,[b.toLowerCase()]:c.map(a=>d(a))}:"id"!==b?{...a,[`version.${b}`]:c}:{...a,parent:c},{})},45721:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(11624),e=c(86397),f=c(49943),g=c(8358);b.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:a,j:b}})=>(0,e.str)`must NOT have duplicate items (items ## ${b} and ${a} are identical)`,params:({params:{i:a,j:b}})=>(0,e._)`{i: ${a}, j: ${b}}`},code(a){let{gen:b,data:c,$data:h,schema:i,parentSchema:j,schemaCode:k,it:l}=a;if(!h&&!i)return;let m=b.let("valid"),o=j.items?(0,d.getSchemaTypes)(j.items):[];function p(){let d=b.let("i",(0,e._)`${c}.length`),f=b.let("j");a.setParams({i:d,j:f}),b.assign(m,!0),b.if((0,e._)`${d} > 1`,()=>(q()?r:s)(d,f))}function q(){return o.length>0&&!o.some(a=>"object"===a||"array"===a)}function r(f,g){let h=b.name("item"),i=(0,d.checkDataTypes)(o,h,l.opts.strictNumbers,d.DataType.Wrong),j=b.const("indices",(0,e._)`{}`);b.for((0,e._)`;${f}--;`,()=>{b.let(h,(0,e._)`${c}[${f}]`),b.if(i,(0,e._)`continue`),o.length>1&&b.if((0,e._)`typeof ${h} == "string"`,(0,e._)`${h} += "_"`),b.if((0,e._)`typeof ${j}[${h}] == "number"`,()=>{b.assign(g,(0,e._)`${j}[${h}]`),a.error(),b.assign(m,!1).break()}).code((0,e._)`${j}[${h}] = ${f}`)})}function s(d,h){let i=(0,f.useFunc)(b,g.default),j=b.name("outer");b.label(j).for((0,e._)`;${d}--;`,()=>b.for((0,e._)`${h} = ${d}; ${h}--;`,()=>b.if((0,e._)`${i}(${c}[${d}], ${c}[${h}])`,()=>{a.error(),b.assign(m,!1).break(j)})))}a.block$data(m,p,(0,e._)`${k} === false`),a.ok(m)}}},45728:(a,b,c)=>{"use strict";let d=c(89583),{mapHttpRequest:e,mapHttpResponse:f}=c(65950),g=c(1689),h=c(47512),{lsCacheSym:i,chindingsSym:j,writeSym:k,serializersSym:l,formatOptsSym:m,endSym:o,stringifiersSym:p,stringifySym:q,stringifySafeSym:r,wildcardFirstSym:s,nestedKeySym:t,formattersSym:u,messageKeySym:v,errorKeySym:w,nestedKeyStrSym:x,msgPrefixSym:y}=c(25258),{isMainThread:z}=c(73566),A=c(42402);function B(){}function C(a,b){if(!b)return c;return function(...d){b.call(this,d,c,a)};function c(b,...g){if("object"==typeof b){let c,h=b;null!==b&&(b.method&&b.headers&&b.socket?b=e(b):"function"==typeof b.setHeader&&(b=f(b))),null===h&&0===g.length?c=[null]:(h=g.shift(),c=g),"string"==typeof this[y]&&null!=h&&(h=this[y]+h),this[k](b,d(h,c,this[m]),a)}else{let c=void 0===b?g.shift():b;"string"==typeof this[y]&&null!=c&&(c=this[y]+c),this[k](null,d(c,g,this[m]),a)}}}function D(a){let b="",c=0,d=!1,e=255,f=a.length;if(f>100)return JSON.stringify(a);for(var g=0;g<f&&e>=32;g++)(34===(e=a.charCodeAt(g))||92===e)&&(b+=a.slice(c,g)+"\\",c=g,d=!0);return d?b+=a.slice(c):b=a,e<32?JSON.stringify(a):'"'+b+'"'}function E(a,b,c,d){let e,f=this[q],g=this[r],h=this[p],k=this[o],m=this[j],y=this[l],z=this[u],A=this[v],B=this[w],C=this[i][c]+d;C+=m,z.log&&(a=z.log(a));let E=h[s],F="";for(let b in a)if(e=a[b],Object.prototype.hasOwnProperty.call(a,b)&&void 0!==e){y[b]?e=y[b](e):b===B&&y.err&&(e=y.err(e));let a=h[b]||E;switch(typeof e){case"undefined":case"function":continue;case"number":!1===Number.isFinite(e)&&(e=null);case"boolean":a&&(e=a(e));break;case"string":e=(a||D)(e);break;default:e=(a||f)(e,g)}if(void 0===e)continue;F+=","+D(b)+":"+e}let G="";if(void 0!==b){e=y[A]?y[A](b):b;let a=h[A]||E;switch(typeof e){case"function":break;case"number":!1===Number.isFinite(e)&&(e=null);case"boolean":a&&(e=a(e)),G=',"'+A+'":'+e;break;case"string":G=',"'+A+'":'+(e=(a||D)(e));break;default:G=',"'+A+'":'+(e=(a||f)(e,g))}}return this[t]&&F?C+this[x]+F.slice(1)+"}"+G+k:C+F+G+k}function F(a,b){let c,d=a[j],e=a[q],f=a[r],g=a[p],h=g[s],i=a[l];for(let j in b=(0,a[u].bindings)(b))if(c=b[j],!0===("level"!==j&&"serializers"!==j&&"formatters"!==j&&"customLevels"!==j&&b.hasOwnProperty(j)&&void 0!==c)){if(c=i[j]?i[j](c):c,void 0===(c=(g[j]||h||e)(c,f)))continue;d+=',"'+j+'":'+c}return d}function G(a){return a.write!==a.constructor.prototype.write}let H=process.env.NODE_V8_COVERAGE||process.env.V8_COVERAGE;function I(a){let b=new g(a);return b.on("error",c),H||a.sync||!z||(h.register(b,J),b.on("close",function(){h.unregister(b)})),b;function c(a){if("EPIPE"===a.code){b.write=B,b.end=B,b.flushSync=B,b.destroy=B;return}b.removeListener("error",c),b.emit("error",a)}}function J(a,b){a.destroyed||("beforeExit"===b?(a.flush(),a.on("drain",function(){a.end()})):a.flushSync())}function K(a){return function(b,c,d={},e){if("string"==typeof d)e=I({dest:d}),d={};else if("string"==typeof e){if(d&&d.transport)throw Error("only one of option.transport or stream can be specified");e=I({dest:e})}else if(d instanceof g||d.writable||d._writableState)e=d,d={};else if(d.transport){let a;if(d.transport instanceof g||d.transport.writable||d.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(d.transport.targets&&d.transport.targets.length&&d.formatters&&"function"==typeof d.formatters.level)throw Error("option.transport.targets do not allow custom level formatters");d.customLevels&&(a=d.useOnlyCustomLevels?d.customLevels:Object.assign({},d.levels,d.customLevels)),e=A({caller:c,...d.transport,levels:a})}if((d=Object.assign({},a,d)).serializers=Object.assign({},a.serializers,d.serializers),d.formatters=Object.assign({},a.formatters,d.formatters),d.prettyPrint)throw Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:f,onChild:h}=d;return!1===f&&(d.level="silent"),h||(d.onChild=B),e||(e=G(process.stdout)?process.stdout:I({fd:process.stdout.fd||1})),{opts:d,stream:e}}}a.exports={noop:B,buildSafeSonicBoom:I,asChindings:F,asJson:E,genLog:C,createArgsNormalizer:K,stringify:function(a,b){try{return JSON.stringify(a)}catch(c){try{return(b||this[r])(a)}catch(a){return'"[unable to serialize, circular reference is too complex to analyze]"'}}},buildFormatters:function(a,b,c){return{level:a,bindings:b,log:c}},normalizeDestFileDescriptor:function(a){let b=Number(a);return"string"==typeof a&&Number.isFinite(b)?b:void 0===a?1:a}}},46006:(a,b,c)=>{"use strict";c.d(b,{A:()=>y});var d=c(83518),e=c(4619),f=c(82222);class g extends Error{args;constructor(a){super(a.message),this.args=a}}class h extends Error{args;constructor(a){super(a.message),this.args=a}}class i extends Error{args;constructor(a){super(`Job ${a.job.id} was cancelled`),this.args=a}}var j=c(71574),k=c(16783);function l(a,b){return async c=>{let d=await (0,k.l)({id:a.id,data:c,depth:b.payload.config.jobs.depth,disableTransaction:!0,req:b});if(!d)return a;for(let b in d)if("log"===b)for(let b of d?.log??[])a.log&&a.log.some(a=>a.id===b.id)||(a.log??=[]).push(b);else a[b]=d[b];if(d?.error?.cancelled)throw new i({job:a});return d}}var m=c(12338),o=c(67405);function p({retriesConfig:a,totalTried:b}){let c=(0,j.AV)();if("object"==typeof a&&a.backoff){if("fixed"===a.backoff.type)c=a.backoff.delay?new Date((0,j.AV)().getTime()+a.backoff.delay):(0,j.AV)();else if("exponential"===a.backoff.type){let d=a.backoff.delay?a.backoff.delay:0;c=new Date((0,j.AV)().getTime()+Math.pow(2,b)*d)}}return c}function q({job:a,retriesConfig:b}){let c="object"==typeof b?b.attempts:b;return null!=c&&a.totalTried>=c?{hasFinalError:!0,maxWorkflowRetries:c}:b?{hasFinalError:!1,maxWorkflowRetries:c,waitUntil:p({retriesConfig:b,totalTried:a.totalTried??0})}:{hasFinalError:!1,maxWorkflowRetries:void 0,waitUntil:void 0}}let r="default"in o?o.default:o;async function s({error:a,req:b,silent:c=!1,updateJob:d}){let{executedAt:e,input:f,job:g,output:h,parent:i,retriesConfig:k,taskConfig:l,taskID:m,taskSlug:o,taskStatus:s,workflowConfig:t}=a.args;l?.onFail&&await l.onFail({input:f,job:g,req:b,taskStatus:s});let u={name:a.name,cancelled:!!("cancelled"in a&&a.cancelled),message:a.message,stack:a.stack},v=(0,j.AV)();g.waitUntil&&new Date(g.waitUntil)<v&&delete g.waitUntil;let w=0;w=k?.attempts===void 0||k?.attempts===null?void 0!==t.retries&&null!==t.retries?"object"==typeof t.retries?"number"==typeof t.retries.attempts?t.retries.attempts:0:t.retries:0:k.attempts;let x={id:new r().toHexString(),completedAt:v.toISOString(),error:u,executedAt:e.toISOString(),input:f,output:h??{},parent:b.payload.config.jobs.addParentToTaskLog?i:void 0,state:"failed",taskID:m,taskSlug:o};if(!s?.complete&&(s?.totalTried??0)>=w)return await d({error:u,hasError:!0,log:{$push:x},processing:!1,totalTried:(g.totalTried??0)+1,waitUntil:g.waitUntil}),c&&("object"!=typeof c||c.error)||b.payload.logger.error({err:a,job:g,msg:`Error running task ${m}. Attempt ${g.totalTried} - max retries reached`,taskSlug:o}),{hasFinalError:!0};let y=p({retriesConfig:k,totalTried:s?.totalTried??0});(!g.waitUntil||y>new Date(g.waitUntil))&&(g.waitUntil=y.toISOString());let{hasFinalError:z,maxWorkflowRetries:A,waitUntil:B}=q({job:g,retriesConfig:t.retries});return c&&("object"!=typeof c||c.error)||b.payload.logger.error({err:a,job:g,msg:`Error running task ${m}. Attempt ${g.totalTried+1}${void 0!==A?"/"+(A+1):""}`,taskSlug:o}),B&&(!g.waitUntil||B>new Date(g.waitUntil))&&(g.waitUntil=B.toISOString()),await d({error:z?u:void 0,hasError:z,log:{$push:x},processing:!1,totalTried:(g.totalTried??0)+1,waitUntil:g.waitUntil}),{hasFinalError:z}}async function t({error:a,req:b,silent:c=!1,updateJob:d}){let{job:e,workflowConfig:f}=a.args,g={name:a.name,cancelled:!!("cancelled"in a&&a.cancelled),message:a.message,stack:a.stack},{hasFinalError:h,maxWorkflowRetries:i,waitUntil:k}=q({job:e,retriesConfig:f.retries});!h&&(e.waitUntil&&new Date(e.waitUntil)<(0,j.AV)()&&delete e.waitUntil,k&&(!e.waitUntil||k>new Date(e.waitUntil))&&(e.waitUntil=k.toISOString()));let l=e.workflowSlug||`Task: ${e.taskSlug}`;return c&&("object"!=typeof c||c.error)||b.payload.logger.error({err:a,msg:`Error running job ${l} id: ${e.id} attempt ${e.totalTried+1}${void 0!==i?"/"+(i+1):""}`}),await d({error:g,hasError:h,processing:!1,totalTried:(e.totalTried??0)+1,waitUntil:e.waitUntil}),{hasFinalError:h}}let u="default"in o?o.default:o,v=(a,b,c,d,e,f)=>{let h=c.payload.config.jobs,i=i=>async(k,{input:l,retries:o,task:p})=>{let q,r,s=(0,j.AV)();if(!d&&!(q=h.tasks?.length&&h.tasks.find(a=>a.slug===i)))throw Error(`Task ${i} not found in workflow ${a.workflowSlug}`);let t=void 0==o||null==o?{}:"number"==typeof o?{attempts:o}:o,w={...q?"number"==typeof q.retries?{attempts:q.retries}:q.retries:{},...t},x=a?.taskStatus?.[i]?a.taskStatus[i][k]:null;if(x&&!0===x.complete){let b=!0;if(w?.shouldRestore===!1?b=!1:"function"==typeof w?.shouldRestore&&(b=await w.shouldRestore({input:l,job:a,req:c,taskStatus:x})),b)return x.output}let y=d?p:await (0,m.s)(q);if(!y||"function"!=typeof y)throw new g({executedAt:s,input:l,job:a,message:d?`Inline task with ID ${k} does not have a valid handler.`:`Task with slug ${i} in workflow ${a.workflowSlug} does not have a valid handler.`,parent:f,retriesConfig:w,taskConfig:q,taskID:k,taskSlug:i,taskStatus:x,workflowConfig:b});let z={};try{r=await y({inlineTask:v(a,b,c,!0,e,{taskID:k,taskSlug:i}),input:l,job:a,req:c,tasks:v(a,b,c,!1,e,{taskID:k,taskSlug:i})})}catch(c){throw new g({executedAt:s,input:l,job:a,message:c.message||"Task handler threw an error",output:z,parent:f,retriesConfig:w,taskConfig:q,taskID:k,taskSlug:i,taskStatus:x,workflowConfig:b})}if("failed"===r.state)throw new g({executedAt:s,input:l,job:a,message:r.errorMessage??"Task handler returned a failed state",output:z,parent:f,retriesConfig:w,taskConfig:q,taskID:k,taskSlug:i,taskStatus:x,workflowConfig:b});z=r.output,q?.onSuccess&&await q.onSuccess({input:l,job:a,req:c,taskStatus:x});let A={id:new u().toHexString(),completedAt:(0,j.AV)().toISOString(),executedAt:s.toISOString(),input:l,output:z,parent:h.addParentToTaskLog?f:void 0,state:"succeeded",taskID:k,taskSlug:i};return await e({log:{$push:A},updatedAt:null}),z};if(d)return i("inline");{let a={};for(let b of h.tasks??[])a[b.slug]=i(b.slug);return a}},w=async({job:a,req:b,silent:c,updateJob:d,workflowConfig:e,workflowHandler:f})=>{try{await f({inlineTask:v(a,e,b,!0,d),job:a,req:b,tasks:v(a,e,b,!1,d)})}catch(j){if(j instanceof i)throw j;if(j instanceof g){let{hasFinalError:a}=await s({error:j,req:b,silent:c,updateJob:d});return{status:a?"error-reached-max-retries":"error"}}let{hasFinalError:f}=await t({error:j instanceof h?j:new h({job:a,message:"object"==typeof j&&j&&"message"in j?j.message:"An unhandled error occurred",workflowConfig:e}),req:b,silent:c,updateJob:d});return{status:f?"error-reached-max-retries":"error"}}return await d({completedAt:(0,j.AV)().toISOString(),processing:!1,totalTried:(a.totalTried??0)+1}),{status:"success"}},x=async({job:a,req:b,silent:c=!1,updateJob:d,workflowConfig:e,workflowHandler:f})=>{let g=[];for(let b of f){if("task"in b){if(a?.taskStatus?.[b.task]?.[b.id]?.complete)continue}else if(a?.taskStatus?.inline?.[b.id]?.complete)continue;(!b.condition||b.condition({job:a}))&&g.push(b)}let i=v(a,e,b,!1,d),k=v(a,e,b,!0,d);try{await Promise.all(g.map(async b=>{"task"in b?await i[b.task](b.id,{input:b.input?b.input({job:a}):{},retries:b.retries}):await k(b.id,{retries:b.retries,task:b.inlineTask})}))}catch(g){let{hasFinalError:f}=await t({error:g instanceof h?g:new h({job:a,message:"object"==typeof g&&g&&"message"in g?g.message:"An unhandled error occurred",workflowConfig:e}),silent:c,req:b,updateJob:d});return{status:f?"error-reached-max-retries":"error"}}let l=!1;for(let[b,c]of Object.entries(a.taskStatus))for(let[a,d]of Object.entries(c))if(d.complete){let c=f.find(c=>"task"in c?c.task===b&&c.id===a:c.id===a&&"inline"===b);if(c?.completesJob){l=!0;break}}return l?(await d({completedAt:(0,j.AV)().toISOString(),processing:!1,totalTried:(a.totalTried??0)+1}),{status:"success"}):await x({job:a,req:b,updateJob:d,workflowConfig:e,workflowHandler:f})},y=async a=>{let{id:b,allQueues:c=!1,limit:g=10,overrideAccess:h,processingOrder:o,queue:p="default",req:q,req:{payload:r,payload:{config:{jobs:s}}},sequential:t,silent:u=!1,where:v}=a;if(!h){let a=s?.access?.run??(()=>!0);if(!await a({req:q}))throw new d.c(q.t)}let y=[{completedAt:{exists:!1}},{hasError:{not_equals:!0}},{processing:{equals:!1}},{or:[{waitUntil:{exists:!1}},{waitUntil:{less_than:(0,j.AV)().toISOString()}}]}];!0!==c&&y.push({queue:{equals:p??"default"}}),v&&y.push(v);let z=[];if(b){let a=await (0,k.l)({id:b,data:{processing:!0},depth:s.depth,disableTransaction:!0,req:q,returning:!0});a&&(z=[a])}else{let b=r.collections[f.SJ]?.config.defaultSort??"createdAt",d=s.processingOrder;"function"==typeof d?b=await d(a):"object"!=typeof d||Array.isArray(d)?"string"==typeof d&&(b=d):!c&&p&&d.queues&&d.queues[p]?b=d.queues[p]:d.default&&(b=d.default);let e=await (0,k.Y)({data:{processing:!0},depth:s.depth,disableTransaction:!0,limit:g,req:q,returning:!0,sort:o??b,where:{and:y}});e&&(z=e)}let{existingJobs:A,newJobs:B}=z.reduce((a,b)=>(b.totalTried>0?a.existingJobs.push(b):a.newJobs.push(b),a),{existingJobs:[],newJobs:[]});if(!z.length)return{noJobsRemaining:!0,remainingJobsFromQueried:0};u&&("object"!=typeof u||u.info)||r.logger.info({msg:`Running ${z.length} jobs.`,new:B?.length,retrying:A?.length});let C=[],D=async a=>{if(!a.workflowSlug&&!a.taskSlug)throw Error("Job must have either a workflowSlug or a taskSlug");let b=(0,e.i)(q,"transactionID"),c=a.workflowSlug&&s.workflows?.length?s.workflows.find(({slug:b})=>b===a.workflowSlug):{slug:"singleTask",handler:async({job:a,tasks:b})=>{await b[a.taskSlug]("1",{input:a.input})}};if(!c)return{id:a.id,result:{status:"error"}};try{let d,e=l(a,b);if("function"==typeof c.handler||"object"==typeof c.handler&&Array.isArray(c.handler))d=c.handler;else if(!(d=await (0,m.Z)(c.handler))){let b=a.workflowSlug||`Task: ${a.taskSlug}`,d=`Can't find runner while importing with the path ${c.handler} in job type ${b}.`;return u&&("object"!=typeof u||u.error)||r.logger.error(d),await e({error:{error:d},hasError:!0,processing:!1}),{id:a.id,result:{status:"error-reached-max-retries"}}}if("function"==typeof d){let f=await w({job:a,req:b,silent:u,updateJob:e,workflowConfig:c,workflowHandler:d});return"success"===f.status&&C.push(a.id),{id:a.id,result:f}}{let f=await x({job:a,req:b,silent:u,updateJob:e,workflowConfig:c,workflowHandler:d});return"success"===f.status&&C.push(a.id),{id:a.id,result:f}}}catch(b){if(b instanceof i)return{id:a.id,result:{status:"error-reached-max-retries"}};throw b}},E=[];if(t)for(let a of z){let b=await D(a);b&&E.push(b)}else{let a=z.map(D);E=await Promise.all(a)}if(s.deleteJobOnComplete&&C.length)try{s.runHooks?await r.delete({collection:f.SJ,depth:0,disableTransaction:!0,where:{id:{in:C}}}):await r.db.deleteMany({collection:f.SJ,where:{id:{in:C}}})}catch(a){u&&("object"!=typeof u||u.error)||r.logger.error({err:a,msg:`Failed to delete jobs ${C.join(", ")} on complete`})}let F=E.reduce((a,b)=>(null!==b&&(a[b.id]=b.result),a),{}),G=0;for(let a in F){let b=F[a];b?.status==="error"&&G++}return{jobStatus:F,remainingJobsFromQueried:G}}},46023:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=Function.prototype.toString,d=Object.create,e=Object.prototype.toString,f=function(){function a(){this._keys=[],this._values=[]}return a.prototype.has=function(a){return!!~this._keys.indexOf(a)},a.prototype.get=function(a){return this._values[this._keys.indexOf(a)]},a.prototype.set=function(a,b){this._keys.push(a),this._values.push(b)},a}();function g(){return new f}function h(){return new WeakMap}var i="undefined"!=typeof WeakMap?h:g;function j(a){if(!a)return d(null);var b=a.constructor;if(b===Object)return a===Object.prototype?{}:d(a);if(b&&~c.call(b).indexOf("[native code]"))try{return new b}catch(a){}return d(a)}function k(a){var b="";return a.global&&(b+="g"),a.ignoreCase&&(b+="i"),a.multiline&&(b+="m"),a.unicode&&(b+="u"),a.sticky&&(b+="y"),b}function l(a){return a.flags}var m="g"===/test/g.flags?l:k;function o(a){var b=e.call(a);return b.substring(8,b.length-1)}function p(a){return a[Symbol.toStringTag]||o(a)}var q="undefined"!=typeof Symbol?p:o,r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,v=Object.prototype,w=v.hasOwnProperty,x=v.propertyIsEnumerable,y="function"==typeof u;function z(a){return t(a).concat(u(a))}var A=y?z:t;function B(a,b,c){for(var d=A(a),e=0,f=d.length,g=void 0,h=void 0;e<f;++e)if("callee"!==(g=d[e])&&"caller"!==g){if(h=s(a,g),!h){b[g]=c.copier(a[g],c);continue}h.get||h.set||(h.value=c.copier(h.value,c));try{r(b,g,h)}catch(a){b[g]=h.value}}return b}function C(a,b){return a.slice(0)}function D(a,b){return new b.Constructor(C(a.buffer))}function E(a,b){var c=new b.Constructor;return b.cache.set(a,c),a.forEach(function(a,d){c.set(d,b.copier(a,b))}),c}function F(a,b){return B(a,E(a,b),b)}function G(a,b){var c=j(b.prototype);for(var d in b.cache.set(a,c),a)w.call(a,d)&&(c[d]=b.copier(a[d],b));return c}function H(a,b){var c=j(b.prototype);for(var d in b.cache.set(a,c),a)w.call(a,d)&&(c[d]=b.copier(a[d],b));for(var e=u(a),f=0,g=e.length,h=void 0;f<g;++f)h=e[f],x.call(a,h)&&(c[h]=b.copier(a[h],b));return c}function I(a,b){return new b.Constructor(a.valueOf())}function J(a,b){return a}function K(a,b){var c=new b.Constructor;return b.cache.set(a,c),a.forEach(function(a){c.add(b.copier(a,b))}),c}function L(a,b){return B(a,K(a,b),b)}var M=Array.isArray,N=Object.assign,O=Object.getPrototypeOf||function(a){return a.__proto__},P={array:function(a,b){var c=new b.Constructor;b.cache.set(a,c);for(var d=0,e=a.length;d<e;++d)c[d]=b.copier(a[d],b);return c},arrayBuffer:C,blob:function(a,b){return a.slice(0,a.size,a.type)},dataView:D,date:function(a,b){return new b.Constructor(a.getTime())},error:J,map:E,object:y?H:G,regExp:function(a,b){var c=new b.Constructor(a.source,m(a));return c.lastIndex=a.lastIndex,c},set:K},Q=N({},P,{array:function(a,b){var c=new b.Constructor;return b.cache.set(a,c),B(a,c,b)},map:F,object:function(a,b){var c=j(b.prototype);return b.cache.set(a,c),B(a,c,b)},set:L});function R(a){return{Arguments:a.object,Array:a.array,ArrayBuffer:a.arrayBuffer,Blob:a.blob,Boolean:I,DataView:a.dataView,Date:a.date,Error:a.error,Float32Array:a.arrayBuffer,Float64Array:a.arrayBuffer,Int8Array:a.arrayBuffer,Int16Array:a.arrayBuffer,Int32Array:a.arrayBuffer,Map:a.map,Number:I,Object:a.object,Promise:J,RegExp:a.regExp,Set:a.set,String:I,WeakMap:J,WeakSet:J,Uint8Array:a.arrayBuffer,Uint8ClampedArray:a.arrayBuffer,Uint16Array:a.arrayBuffer,Uint32Array:a.arrayBuffer,Uint64Array:a.arrayBuffer}}function S(a){var b=R(N({},P,a)),c=b.Array,d=b.Object;function e(a,e){if(e.prototype=e.Constructor=void 0,!a||"object"!=typeof a)return a;if(e.cache.has(a))return e.cache.get(a);if(e.prototype=O(a),e.Constructor=e.prototype&&e.prototype.constructor,!e.Constructor||e.Constructor===Object)return d(a,e);if(M(a))return c(a,e);var f=b[q(a)];return f?f(a,e):"function"==typeof a.then?a:d(a,e)}return function(a){return e(a,{Constructor:void 0,cache:i(),copier:e,prototype:void 0})}}function T(a){return S(N({},Q,a))}var U=T({}),V=S({});b.copyStrict=U,b.createCopier=S,b.createStrictCopier=T,b.default=V},46080:(a,b,c)=>{"use strict";var d=c(2816),e=Buffer.byteLength.bind(Buffer);a.exports=d.bind(null,e)},46112:(a,b,c)=>{"use strict";let{BalancedPoolMissingUpstreamError:d,InvalidArgumentError:e}=c(212),{PoolBase:f,kClients:g,kNeedDrain:h,kAddClient:i,kRemoveClient:j,kGetDispatcher:k}=c(7281),l=c(56327),{kUrl:m}=c(25394),{parseOrigin:o}=c(33895),p=Symbol("factory"),q=Symbol("options"),r=Symbol("kGreatestCommonDivisor"),s=Symbol("kCurrentWeight"),t=Symbol("kIndex"),u=Symbol("kWeight"),v=Symbol("kMaxWeightPerServer"),w=Symbol("kErrorPenalty");function x(a,b){if(0===a)return b;for(;0!==b;){let c=b;b=a%b,a=c}return a}function y(a,b){return new l(a,b)}class z extends f{constructor(a=[],{factory:b=y,...c}={}){if("function"!=typeof b)throw new e("factory must be a function.");for(let d of(super(),this[q]=c,this[t]=-1,this[s]=0,this[v]=this[q].maxWeightPerServer||100,this[w]=this[q].errorPenalty||15,Array.isArray(a)||(a=[a]),this[p]=b,a))this.addUpstream(d);this._updateBalancedPoolStats()}addUpstream(a){let b=o(a).origin;if(this[g].find(a=>a[m].origin===b&&!0!==a.closed&&!0!==a.destroyed))return this;let c=this[p](b,Object.assign({},this[q]));for(let a of(this[i](c),c.on("connect",()=>{c[u]=Math.min(this[v],c[u]+this[w])}),c.on("connectionError",()=>{c[u]=Math.max(1,c[u]-this[w]),this._updateBalancedPoolStats()}),c.on("disconnect",(...a)=>{let b=a[2];b&&"UND_ERR_SOCKET"===b.code&&(c[u]=Math.max(1,c[u]-this[w]),this._updateBalancedPoolStats())}),this[g]))a[u]=this[v];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let a=0;for(let b=0;b<this[g].length;b++)a=x(this[g][b][u],a);this[r]=a}removeUpstream(a){let b=o(a).origin,c=this[g].find(a=>a[m].origin===b&&!0!==a.closed&&!0!==a.destroyed);return c&&this[j](c),this}get upstreams(){return this[g].filter(a=>!0!==a.closed&&!0!==a.destroyed).map(a=>a[m].origin)}[k](){if(0===this[g].length)throw new d;if(!this[g].find(a=>!a[h]&&!0!==a.closed&&!0!==a.destroyed)||this[g].map(a=>a[h]).reduce((a,b)=>a&&b,!0))return;let a=0,b=this[g].findIndex(a=>!a[h]);for(;a++<this[g].length;){this[t]=(this[t]+1)%this[g].length;let a=this[g][this[t]];if(a[u]>this[g][b][u]&&!a[h]&&(b=this[t]),0===this[t]&&(this[s]=this[s]-this[r],this[s]<=0&&(this[s]=this[v])),a[u]>=this[s]&&!a[h])return a}return this[s]=this[g][b][u],this[t]=b,this[g][b]}}a.exports=z},46152:(a,b,c)=>{"use strict";var d,e=c(84642);function f(a){return a}let g=a=>b=>async c=>{if(!e.HttpRequest.isInstance(c.request))return b(c);let{request:d}=c,{handlerProtocol:f=""}=a.requestHandler.metadata||{};if(f.indexOf("h2")>=0&&!d.headers[":authority"])delete d.headers.host,d.headers[":authority"]=d.hostname+(d.port?":"+d.port:"");else if(!d.headers.host){let a=d.hostname;null!=d.port&&(a+=`:${d.port}`),d.headers.host=a}return b(c)},h={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0};b.TC=a=>({applyToStack:b=>{b.add(g(a),h)}}),d=g,d=h,b.OV=f},46550:(a,b,c)=>{"use strict";c.d(b,{J:()=>e});var d=c(96879);class e extends d.m{name="TokenProviderError";constructor(a,b=!0){super(a,b),Object.setPrototypeOf(this,e.prototype)}}},46674:(a,b,c)=>{"use strict";c.d(b,{J:()=>d});let d=(a,b)=>(c,d)=>async e=>{let f=a,g=d.endpointV2?.url&&f.urlParser?async()=>f.urlParser(d.endpointV2.url):f.endpoint;if(!g)throw Error("No valid endpoint provider available.");let h=await b(e.input,{...a,endpoint:g});return c({...e,request:h})}},46755:a=>{"use strict";a.exports=function a(a){return"[object Object]"===Object.prototype.toString.apply(a)}},46789:(a,b,c)=>{"use strict";c.d(b,{L:()=>q});var d=c(61101),e=c(25083),f=c(51114),g=c(35593),h=c(18528),i=c(83518),j=c(2431),k=c(43982),l=c(53216),m=c(32609),o=c(68656),p=c(22128);let q=async a=>{let{id:b,collection:{config:c},currentDepth:q,depth:r,disableErrors:s,overrideAccess:t,populate:u,req:{fallbackLocale:v,locale:w,payload:x},req:y,select:z,showHiddenFields:A,trash:B=!1}=a;if(!b)throw new g.L("Missing ID of version.",d.h.BAD_REQUEST);try{let a=!!t||await (0,e.m)({id:b,disableErrors:s,req:y},c.access.readVersions);if(!1===a)return null;let d="object"==typeof a,g={id:{equals:b}},l=(0,f.m)(g,a);l=(0,k.v)({deletedAtPath:"version.deletedAt",enableTrash:c.trash,trash:B,where:l});let C=(0,m.Y)({fields:(0,o.c)(x.config,c,!0),forceSelect:(0,p.V)({select:c.forceSelect}),select:z,versions:!0}),D=(await x.db.findVersions({collection:c.slug,limit:1,locale:w,pagination:!1,req:y,select:C,where:l})).docs[0];if(!D){if(!s){if(!d)throw new h.M(y.t);if(d)throw new i.c(y.t)}return null}if(D.version||(D.version={}),c.hooks?.beforeRead?.length)for(let a of c.hooks.beforeRead)D.version=await a({collection:c,context:y.context,doc:D.version,query:l,req:y})||D.version;if(D.version=await (0,j.v)({collection:c,context:y.context,currentDepth:q,depth:r,doc:D.version,draft:void 0,fallbackLocale:v,global:null,locale:w,overrideAccess:t,populate:u,req:y,select:"object"==typeof C?.version?C.version:void 0,showHiddenFields:A}),c.hooks?.afterRead?.length)for(let a of c.hooks.afterRead)D.version=await a({collection:c,context:y.context,doc:D.version,query:l,req:y})||D.version;return D}catch(a){throw await (0,l.J)(y),a}}},46985:(a,b,c)=>{"use strict";c.d(b,{Q:()=>e});var d=c(55511);let e=(a,b)=>{let c=(0,d.createHash)("sha256");return c.update(b),c.update(a),c.digest("hex")}},46999:(a,b,c)=>{"use strict";var d,e=c(2697),f=c(90632);let g={CrtSignerV4:null};class h{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return"function"==typeof g.CrtSignerV4?"crt":"function"==typeof f.signatureV4aContainer.SignatureV4a?"js":"none"}constructor(a){this.sigv4Signer=new e.SignatureV4S3Express(a),this.signerOptions=a}async sign(a,b={}){return"*"===b.signingRegion?this.getSigv4aSigner().sign(a,b):this.sigv4Signer.sign(a,b)}async signWithCredentials(a,b,c={}){if("*"===c.signingRegion){let d=this.getSigv4aSigner(),e=g.CrtSignerV4;if(e&&d instanceof e)return d.signWithCredentials(a,b,c);throw Error('signWithCredentials with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt')}return this.sigv4Signer.signWithCredentials(a,b,c)}async presign(a,b={}){if("*"===b.signingRegion){let c=this.getSigv4aSigner(),d=g.CrtSignerV4;if(d&&c instanceof d)return c.presign(a,b);throw Error('presign with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt')}return this.sigv4Signer.presign(a,b)}async presignWithCredentials(a,b,c={}){if("*"===c.signingRegion)throw Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(a,b,c)}getSigv4aSigner(){if(!this.sigv4aSigner){let a=g.CrtSignerV4,b=f.signatureV4aContainer.SignatureV4a;if("node"===this.signerOptions.runtime){if(!a&&!b)throw Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(a&&"function"==typeof a)this.sigv4aSigner=new a({...this.signerOptions,signingAlgorithm:1});else if(b&&"function"==typeof b)this.sigv4aSigner=new b({...this.signerOptions});else throw Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!b||"function"!=typeof b)throw Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new b({...this.signerOptions})}}return this.sigv4aSigner}}b.W=h,d=g},47046:(a,b,c)=>{"use strict";c.d(b,{cf:()=>N});var d=c(3120),e=c(11471);let f=({customerOnlyFieldAccess:a})=>async({data:b,req:c})=>{let d=await a({req:c});c.user&&d&&(b.customer=c.user.id)},g=a=>{let{access:{adminOrCustomerOwner:b,authenticatedOnly:c,customerOnlyFieldAccess:d},addressFields:g,customersSlug:h="users"}=a||{},{supportedCountries:i}=a||{},j=i||e.i,k=j&&1===j.length;return{...{slug:"addresses",access:{create:c,delete:b,read:b,update:b},admin:{description:({t:a})=>a("plugin-ecommerce:addressesCollectionDescription"),group:"Ecommerce",hidden:!0,useAsTitle:"createdAt"},fields:[{name:"customer",type:"relationship",admin:{position:"sidebar"},label:({t:a})=>a("plugin-ecommerce:customer"),relationTo:h},...g.map(a=>"name"in a&&"country"===a.name?{name:"country",type:"select",label:({t:a})=>a("plugin-ecommerce:addressCountry"),options:j||e.i,required:!0,...j&&j?.[0]&&k?{defaultValue:j?.[0].value}:{}}:a)],hooks:{beforeChange:[f({customerOnlyFieldAccess:d})]},labels:{plural:({t:a})=>a("plugin-ecommerce:addresses"),singular:({t:a})=>a("plugin-ecommerce:address")},timestamps:!0}}},h=({currenciesConfig:a,currency:b,overrides:c})=>({name:"amount",type:"number",label:({t:a})=>a("plugin-ecommerce:amount"),...c,admin:{components:{Cell:{clientProps:{currenciesConfig:a,currency:b},path:"@payloadcms/plugin-ecommerce/client#PriceCell"},Field:{clientProps:{currenciesConfig:a,currency:b},path:"@payloadcms/plugin-ecommerce/rsc#PriceInput"},...c?.admin?.components},...c?.admin}}),i=({currenciesConfig:a,overrides:b})=>{let c=a.supportedCurrencies.map(a=>({label:a.label?`${a.label} (${a.code})`:a.code,value:a.code})),d=a.defaultCurrency??1===a.supportedCurrencies.length?a.supportedCurrencies[0]?.code:void 0;return{name:"currency",type:"select",label:({t:a})=>a("plugin-ecommerce:currency"),...d&&{defaultValue:d},options:c,...b,admin:{readOnly:1===a.supportedCurrencies.length,...b?.admin}}},j=a=>{let{currenciesConfig:b,enableVariants:c=!1,individualPrices:d,overrides:e,productsSlug:f="products",variantsSlug:g="variants"}=a||{};return{name:"items",type:"array",admin:{initCollapsed:!0},fields:[{name:"product",type:"relationship",label:({t:a})=>a("plugin-ecommerce:product"),relationTo:f},...c?[{name:"variant",type:"relationship",label:({t:a})=>a("plugin-ecommerce:variant"),relationTo:g}]:[],{name:"quantity",type:"number",defaultValue:1,label:({t:a})=>a("plugin-ecommerce:quantity"),min:1,required:!0},...b&&d?[h({currenciesConfig:b})]:[],...b?[i({currenciesConfig:b})]:[]],label:({t:a})=>a("plugin-ecommerce:cart"),...e}},k=({productsSlug:a,variantsSlug:b})=>async({data:c,req:d})=>{if(c.items&&Array.isArray(c.items)){let e=`priceIn${c.currency}`,f=0;for(let g of c.items)if(g.variant){let a="object"==typeof g.variant?g.variant.id:g.variant;f+=(await d.payload.findByID({id:a,collection:b,depth:0,select:{[e]:!0}}))[e]*g.quantity}else{let b="object"==typeof g.product?g.product.id:g.product;f+=(await d.payload.findByID({id:b,collection:a,depth:0,select:{[e]:!0}}))[e]*g.quantity}c.subtotal=f}else c.subtotal=0},l=({data:a})=>{if(a?.purchasedAt)return"purchased";if(a?.createdAt){let b=new Date().getTime();if(b-new Date(a.createdAt).getTime()<6048e5)return"active"}return"abandoned"},m=a=>{let{access:{adminOrCustomerOwner:b,publicAccess:c},currenciesConfig:d,customersSlug:e="users",enableVariants:f=!1,productsSlug:g="products",variantsSlug:m="variants"}=a||{};return{...{slug:"carts",access:{create:c,delete:b,read:b,update:b},admin:{description:({t:a})=>a("plugin-ecommerce:cartsCollectionDescription"),group:"Ecommerce",useAsTitle:"createdAt"},fields:[j({enableVariants:f,overrides:{label:({t:a})=>a("plugin-ecommerce:items"),labels:{plural:({t:a})=>a("plugin-ecommerce:items"),singular:({t:a})=>a("plugin-ecommerce:item")}},productsSlug:g,variantsSlug:m}),{name:"customer",type:"relationship",admin:{position:"sidebar"},label:({t:a})=>a("plugin-ecommerce:customer"),relationTo:e},{name:"purchasedAt",type:"date",admin:{date:{pickerAppearance:"dayAndTime"},position:"sidebar"},label:({t:a})=>a("plugin-ecommerce:purchasedAt")},{name:"status",type:"select",admin:{position:"sidebar",readOnly:!0},hooks:{afterRead:[l]},label:({t:a})=>a("plugin-ecommerce:status"),options:[{label:({t:a})=>a("plugin-ecommerce:active"),value:"active"},{label:({t:a})=>a("plugin-ecommerce:purchased"),value:"purchased"},{label:({t:a})=>a("plugin-ecommerce:abandoned"),value:"abandoned"}],virtual:!0},...d?[{type:"row",admin:{position:"sidebar"},fields:[h({currenciesConfig:d,overrides:{name:"subtotal",label:({t:a})=>a("plugin-ecommerce:subtotal")}}),i({currenciesConfig:d})]}]:[]],hooks:{beforeChange:[k({productsSlug:g,variantsSlug:m})]},labels:{plural:({t:a})=>a("plugin-ecommerce:carts"),singular:({t:a})=>a("plugin-ecommerce:cart")},timestamps:!0}}},o=a=>{let{access:{adminOnly:b,adminOnlyFieldAccess:c,adminOrCustomerOwner:d},addressFields:e,currenciesConfig:f,customersSlug:g="users",enableVariants:k=!1,productsSlug:l="products",transactionsSlug:m="transactions",variantsSlug:o="variants"}=a||{};return{...{slug:"orders",access:{create:b,delete:b,read:d,update:b},admin:{description:({t:a})=>a("plugin-ecommerce:ordersCollectionDescription"),group:"Ecommerce",useAsTitle:"createdAt"},fields:[{type:"tabs",tabs:[{fields:[j({enableVariants:k,overrides:{name:"items",label:({t:a})=>a("plugin-ecommerce:items"),labels:{plural:({t:a})=>a("plugin-ecommerce:items"),singular:({t:a})=>a("plugin-ecommerce:item")}},productsSlug:l,variantsSlug:o})],label:({t:a})=>a("plugin-ecommerce:orderDetails")},{fields:[...e?[{name:"shippingAddress",type:"group",fields:e,label:({t:a})=>a("plugin-ecommerce:shippingAddress")}]:[]],label:({t:a})=>a("plugin-ecommerce:shipping")}]},{name:"customer",type:"relationship",admin:{position:"sidebar"},label:({t:a})=>a("plugin-ecommerce:customer"),relationTo:g},{name:"customerEmail",type:"email",admin:{position:"sidebar"},label:({t:a})=>a("plugin-ecommerce:customerEmail")},{name:"transactions",type:"relationship",access:{create:c,read:c,update:c},admin:{position:"sidebar"},hasMany:!0,label:({t:a})=>a("plugin-ecommerce:transactions"),relationTo:m},{name:"status",type:"select",admin:{position:"sidebar"},defaultValue:"processing",interfaceName:"OrderStatus",label:({t:a})=>a("plugin-ecommerce:status"),options:[{label:({t:a})=>a("plugin-ecommerce:processing"),value:"processing"},{label:({t:a})=>a("plugin-ecommerce:completed"),value:"completed"},{label:({t:a})=>a("plugin-ecommerce:cancelled"),value:"cancelled"},{label:({t:a})=>a("plugin-ecommerce:refunded"),value:"refunded"}]},...f?[{type:"row",admin:{position:"sidebar"},fields:[h({currenciesConfig:f}),i({currenciesConfig:f})]}]:[]],labels:{plural:({t:a})=>a("plugin-ecommerce:orders"),singular:({t:a})=>a("plugin-ecommerce:order")},timestamps:!0}}},p=a=>{let{overrides:b}=a||{};return{name:"inventory",type:"number",defaultValue:0,label:({t:a})=>a("plugin-ecommerce:inventory"),min:0,...b||{}}},q=({conditionalPath:a,currenciesConfig:b})=>b.supportedCurrencies.map(c=>{let d=`priceIn${c.code}`,e=a?`${a}.${d}Enabled`:`${d}Enabled`;return{type:"group",admin:{description:"Prices for this product in different currencies."},fields:[{type:"row",fields:[{name:`${d}Enabled`,type:"checkbox",admin:{style:{alignSelf:"baseline",flex:"0 0 auto"}},label:({t:a})=>a("plugin-ecommerce:enableCurrencyPrice",{currency:c.code})},h({currenciesConfig:b,currency:c,overrides:{name:d,admin:{condition:(a,b)=>!!b?.[e],description:({t:a})=>a("plugin-ecommerce:productPriceDescription")},label:({t:a})=>a("plugin-ecommerce:priceIn",{currency:c.code})}})]}]}}),r=({variantsSlug:a="variants",variantTypesSlug:b="variantTypes"})=>[{name:"enableVariants",type:"checkbox",label:({t:a})=>a("plugin-ecommerce:enableVariants")},{name:"variantTypes",type:"relationship",admin:{condition:({enableVariants:a})=>!!a},hasMany:!0,label:({t:a})=>a("plugin-ecommerce:variantTypes"),relationTo:b},{name:"variants",type:"join",admin:{condition:({enableVariants:a,variantTypes:b})=>{let c=!!a,d=Array.isArray(b)&&b.length>0;return c&&d},defaultColumns:["title","options","inventory","prices","_status"],disableListColumn:!0},collection:a,label:({t:a})=>a("plugin-ecommerce:availableVariants"),maxDepth:2,on:"product"}],s=a=>{let{access:{adminOnly:b,adminOrPublishedStatus:c},currenciesConfig:d,enableVariants:e=!1,inventory:f=!0,variantsSlug:g="variants",variantTypesSlug:h="variantTypes"}=a||{},i=[...f?[p({overrides:{admin:{condition:({enableVariants:a})=>!a}}})]:[],...e?r({variantsSlug:g,variantTypesSlug:h}):[],...d?[...q({currenciesConfig:d})]:[]];return{slug:"products",access:{create:b,delete:b,read:c,update:b},admin:{defaultColumns:[...d?["prices"]:[],...e?["variants"]:[]],group:"Ecommerce"},fields:i,labels:{plural:({t:a})=>a("plugin-ecommerce:products"),singular:({t:a})=>a("plugin-ecommerce:product")},trash:!0,versions:{drafts:{autosave:!0}}}},t=[{label:({t:a})=>a("plugin-ecommerce:pending"),value:"pending"},{label:({t:a})=>a("plugin-ecommerce:succeeded"),value:"succeeded"},{label:({t:a})=>a("plugin-ecommerce:failed"),value:"failed"},{label:({t:a})=>a("plugin-ecommerce:cancelled"),value:"cancelled"},{label:({t:a})=>a("plugin-ecommerce:expired"),value:"expired"},{label:({t:a})=>a("plugin-ecommerce:refunded"),value:"refunded"}],u=a=>{let{overrides:b}=a||{};return{name:"status",type:"select",defaultValue:"pending",label:({t:a})=>a("plugin-ecommerce:status"),options:t,required:!0,...b}},v=a=>{let{access:{adminOnly:b},addressFields:c,cartsSlug:d="carts",currenciesConfig:e,customersSlug:f="users",enableVariants:g=!1,ordersSlug:k="orders",paymentMethods:l,productsSlug:m="products",variantsSlug:o="variants"}=a||{};return{...{slug:"transactions",access:{create:b,delete:b,read:b,update:b},admin:{defaultColumns:["createdAt","customer","order","amount","status"],description:({t:a})=>a("plugin-ecommerce:transactionsCollectionDescription"),group:"Ecommerce"},fields:[{type:"tabs",tabs:[{fields:[j({enableVariants:g,overrides:{name:"items",label:({t:a})=>a("plugin-ecommerce:items"),labels:{plural:({t:a})=>a("plugin-ecommerce:items"),singular:({t:a})=>a("plugin-ecommerce:item")}},productsSlug:m,variantsSlug:o}),...l?.length&&l.length>0?[{name:"paymentMethod",type:"select",label:({t:a})=>a("plugin-ecommerce:paymentMethod"),options:l.map(a=>({label:a.label??a.name,value:a.name}))},...l.map(a=>a.group)||[]]:[]],label:({t:a})=>a("plugin-ecommerce:transactionDetails")},{fields:[...c?[{name:"billingAddress",type:"group",fields:c,label:({t:a})=>a("plugin-ecommerce:billingAddress")}]:[]],label:({t:a})=>a("plugin-ecommerce:billing")}]},u({overrides:{admin:{position:"sidebar"}}}),{name:"customer",type:"relationship",admin:{position:"sidebar"},label:({t:a})=>a("plugin-ecommerce:customer"),relationTo:f},{name:"customerEmail",type:"email",admin:{position:"sidebar"},label:({t:a})=>a("plugin-ecommerce:customerEmail")},{name:"order",type:"relationship",admin:{position:"sidebar"},label:({t:a})=>a("plugin-ecommerce:order"),relationTo:k},{name:"cart",type:"relationship",admin:{position:"sidebar"},relationTo:d},...e?[{type:"row",admin:{position:"sidebar"},fields:[h({currenciesConfig:e}),i({currenciesConfig:e})]}]:[]],labels:{plural:({t:a})=>a("plugin-ecommerce:transactions"),singular:({t:a})=>a("plugin-ecommerce:transaction")}}}},w=a=>{let{access:{adminOnly:b,publicAccess:c},variantTypesSlug:d="variantTypes"}=a||{};return{slug:"variantOptions",access:{create:b,delete:b,read:c,update:b},admin:{group:!1,useAsTitle:"label"},fields:[{name:"variantType",type:"relationship",admin:{readOnly:!0},relationTo:d,required:!0},{name:"label",type:"text",required:!0},{name:"value",type:"text",admin:{description:"should be defaulted or dynamic based on label"},required:!0}],labels:{plural:({t:a})=>a("plugin-ecommerce:variantOptions"),singular:({t:a})=>a("plugin-ecommerce:variantOption")},trash:!0}},x=({productsSlug:a,variantOptionsSlug:b})=>async({data:c,req:d})=>{if(c?.options?.length&&c.options.length>0){let e=[],f=c.product,g=await d.payload.findByID({id:f,collection:a,depth:0,select:{title:!0,variantTypes:!0}});for(let a of(g.title&&"string"==typeof g.title&&e.push(g.title),c.options)){let c=await d.payload.findByID({id:a,collection:b,depth:0,select:{label:!0}});c&&c.label&&"string"==typeof c.label&&e.push(c.label)}c.title=e.join(" — ")}return c},y=a=>async(b,{data:c,req:d})=>{let{productsCollectionSlug:e="products"}=a||{},{t:f}=d;if(!b||0===b.length)return f("ecommerce:variantOptionsRequired");let g=c.product;if(!g)return f("ecommerce:productRequired");let h=await d.payload.findByID({id:g,collection:e,depth:1,joins:{variants:{where:{...c.id&&{id:{not_equals:c.id}}}}},select:{variants:!0,variantTypes:!0},user:d.user}),i=h.variants?.docs??[];if(b.length<h?.variantTypes?.length)return f("ecommerce:variantOptionsRequiredAll");if(i.length>0){let a=[];if(i.forEach(b=>{a.push(b.options)}),a.some(a=>a.length===b.length&&a.every(a=>b.includes(a))))return f("ecommerce:variantOptionsAlreadyExists")}return!0},z=a=>{let{access:{adminOnly:b,adminOrPublishedStatus:c},currenciesConfig:d,inventory:e=!0,productsSlug:f="products",variantOptionsSlug:g="variantOptions"}=a||{},{supportedCurrencies:h}=d||{},i=[{name:"title",type:"text",admin:{description:"Used for administrative purposes, not shown to customers. This is populated by default."}},{name:"product",type:"relationship",admin:{position:"sidebar",readOnly:!0},relationTo:f,required:!0},{name:"options",type:"relationship",admin:{components:{Field:{path:"@payloadcms/plugin-ecommerce/rsc#VariantOptionsSelector"}}},hasMany:!0,label:"Variant options",relationTo:g,required:!0,validate:y()},...e?[p()]:[]];if(h?.length&&h.length>0){let a=[];h.forEach(b=>{a.push(b.code)}),d&&i.push(...q({currenciesConfig:d}))}return{slug:"variants",access:{create:b,delete:b,read:c,update:b},admin:{description:({t:a})=>a("plugin-ecommerce:variantsCollectionDescription"),group:!1,useAsTitle:"title"},fields:i,hooks:{beforeChange:[x({productsSlug:f,variantOptionsSlug:g})]},labels:{plural:({t:a})=>a("plugin-ecommerce:variants"),singular:({t:a})=>a("plugin-ecommerce:variant")},trash:!0,versions:{drafts:{autosave:!0}}}},A=a=>{let{access:{adminOnly:b,publicAccess:c},variantOptionsSlug:d="variantOptions"}=a||{};return{slug:"variantTypes",access:{create:b,delete:b,read:c,update:b},admin:{group:!1,useAsTitle:"label"},fields:[{name:"label",type:"text",required:!0},{name:"name",type:"text",required:!0},{name:"options",type:"join",collection:d,maxDepth:2,on:"variantType",orderable:!0}],labels:{plural:({t:a})=>a("plugin-ecommerce:variantTypes"),singular:({t:a})=>a("plugin-ecommerce:variantType")},trash:!0}};var B=c(7177);let C=({cartsSlug:a="carts",currenciesConfig:b,customersSlug:c="users",ordersSlug:d="orders",paymentMethod:e,productsSlug:f="products",productsValidation:g,transactionsSlug:h="transactions",variantsSlug:i="variants"})=>async g=>{let j;await (0,B.z)(g);let k=g.data,l=g.payload,m=g.user,o=b.defaultCurrency,p=k?.cartID,q=m?.email??"";if(m)m.cart?.docs&&Array.isArray(m.cart.docs)&&m.cart.docs.length>0&&!p&&m.cart.docs[0]&&("object"==typeof m.cart.docs[0]?(p=m.cart.docs[0].id,j=m.cart.docs[0]):p=m.cart.docs[0]);else{if(!k?.customerEmail||"string"!=typeof k.customerEmail)return Response.json({message:"A customer email is required to make a purchase."},{status:400});q=k.customerEmail}if(!j){if(!p)return Response.json({message:"Cart ID is required."},{status:400});else if(!(j=await l.findByID({id:p,collection:a,depth:2,overrideAccess:!1,select:{id:!0,currency:!0,customerEmail:!0,items:!0,subtotal:!0},user:m})))return Response.json({message:`Cart with ID ${p} not found.`},{status:404})}if(j.currency&&"string"==typeof j.currency&&(o=j.currency),!o)return Response.json({message:"Currency is required."},{status:400});try{let a=await e.confirmOrder({customersSlug:c,data:{...k,customerEmail:q},ordersSlug:d,req:g,transactionsSlug:h});if(a.transactionID){let b=await l.findByID({id:a.transactionID,collection:h,depth:0,select:{id:!0,items:!0}});if(b&&Array.isArray(b.items)&&b.items.length>0){for(let a of b.items)if(a.variant){let b="object"==typeof a.variant?a.variant.id:a.variant;await l.db.updateOne({id:b,collection:i,data:{inventory:{$inc:-1*a.quantity}}})}else if(a.product){let b="object"==typeof a.product?a.product.id:a.product;await l.db.updateOne({id:b,collection:f,data:{inventory:{$inc:-1*a.quantity}}})}}}return"paymentResponse.transactionID"in a&&a.transactionID&&delete a.transactionID,Response.json(a)}catch(a){return l.logger.error(a,"Error confirming order."),Response.json({message:"Error confirming order."},{status:500})}},D="MissingPrice",E="OutOfStock",F=({currenciesConfig:a,currency:b,product:c,quantity:d=1,variant:e})=>{if(!b)throw Error("Currency must be provided for product validation.");let f=`priceIn${b.toUpperCase()}`;if(e){if(!e[f])throw Error(`Variant with ID ${e.id} does not have a price in ${b}.`);if(0===e.inventory||e.inventory&&e.inventory<d)throw Error(`Variant with ID ${e.id} is out of stock or does not have enough inventory.`)}else if(c){if(!c[f])throw Error("Product does not have a price in.",{cause:{code:D,codes:[c.id,b]}});if(0===c.inventory||c.inventory&&c.inventory<d)throw Error("Product is out of stock or does not have enough inventory.",{cause:{code:E,codes:[c.id]}})}},G=({cartsSlug:a="carts",currenciesConfig:b,customersSlug:c="users",paymentMethod:d,productsSlug:e="products",productsValidation:f,transactionsSlug:g="transactions",variantsSlug:h="variants"})=>async i=>{let j;await (0,B.z)(i);let k=i.data,l=i.payload,m=i.user,o=b.defaultCurrency,p=k?.cartID,q=k?.billingAddress,r=k?.shippingAddress,s=m?.email??"";if(m)m.cart?.docs&&Array.isArray(m.cart.docs)&&m.cart.docs.length>0&&!p&&m.cart.docs[0]&&("object"==typeof m.cart.docs[0]?(p=m.cart.docs[0].id,j=m.cart.docs[0]):p=m.cart.docs[0]);else{if(!k?.customerEmail||"string"!=typeof k.customerEmail)return Response.json({message:"A customer email is required to make a purchase."},{status:400});s=k.customerEmail}if(!j){if(!p)return Response.json({message:"Cart ID is required."},{status:400});else if(!(j=await l.findByID({id:p,collection:a,depth:2,overrideAccess:!1,select:{id:!0,currency:!0,customerEmail:!0,items:!0,subtotal:!0},user:m})))return Response.json({message:`Cart with ID ${p} not found.`},{status:404})}if(j.currency&&"string"==typeof j.currency&&(o=j.currency),!o)return Response.json({message:"Currency is required."},{status:400});if(!b.supportedCurrencies.find(a=>a.code.toLocaleLowerCase()===o.toLocaleLowerCase()))return Response.json({message:`Currency ${o} is not supported.`},{status:400});if(!j||!j.items||!Array.isArray(j.items)||0===j.items.length)return Response.json({message:"Cart is required and must contain at least one item."},{status:400});for(let a of j.items){let c=`priceIn${o.toUpperCase()}`,d=a.quantity||1;if(a.product&&!a.variant){let g="object"==typeof a.product?a.product.id:a.product,i=await l.findByID({id:g,collection:e,depth:0,select:{inventory:!0,[c]:!0}});if(!i)return Response.json({message:`Product with ID ${a.product} not found.`},{status:404});try{f?await f({currenciesConfig:b,currency:o,product:i,quantity:d}):await F({currenciesConfig:b,currency:o,product:i,quantity:d})}catch(a){return l.logger.error(a,"Error validating product or variant during payment initiation."),Response.json({message:a,...a instanceof Error?{cause:a.cause}:{}},{status:400})}if(a.variant){let e="object"==typeof a.variant?a.variant.id:a.variant,g=await l.findByID({id:e,collection:h,depth:0,select:{inventory:!0,[c]:!0}});if(!g)return Response.json({message:`Variant with ID ${a.variant} not found.`},{status:404});try{f?await f({currenciesConfig:b,currency:o,product:a.product,quantity:d,variant:g}):await F({currenciesConfig:b,currency:o,product:a.product,quantity:d,variant:g})}catch(a){return l.logger.error(a,"Error validating product or variant during payment initiation."),Response.json({message:a},{status:400})}}}}try{let a=await d.initiatePayment({customersSlug:c,data:{billingAddress:q,cart:j,currency:o,customerEmail:s,shippingAddress:r},req:i,transactionsSlug:g});return Response.json(a)}catch(a){return l.logger.error(a,"Error initiating payment."),Response.json({message:"Error initiating payment."},{status:500})}},H={en:{$schema:"./translation-schema.json","plugin-ecommerce":{abandoned:"Abandoned",active:"Active",address:"Address",addressCity:"City",addressCompany:"Company",addressCountry:"Country",addresses:"Addresses",addressesCollectionDescription:"Addresses are associated with customers are used to prefill shipping and billing when placing orders.",addressFirstName:"First name",addressLastName:"Last name",addressLine1:"Address 1",addressLine2:"Address 2",addressPhone:"Phone",addressPostalCode:"Postal code",addressState:"State",addressTitle:"Title",amount:"Amount",availableVariants:"Available variants",billing:"Billing",billingAddress:"Billing address",cancelled:"Cancelled",cart:"Cart",carts:"Carts",cartsCollectionDescription:"Carts represent a customer's selection of products they intend to purchase. They are related to a customer where possible and guest users do not have a customer attached.",completed:"Completed",currency:"Currency",currencyNotSet:"Currency not set.",customer:"Customer",customerEmail:"Customer email",customers:"Customers",enableCurrencyPrice:"Enable {{currency}} price",enableVariants:"Enable variants",expired:"Expired",failed:"Failed",inventory:"Inventory",item:"Item",items:"Items",open:"Open",order:"Order",orderDetails:"Order Details",orders:"Orders",ordersCollectionDescription:"Orders represent a customer's intent to purchase products from your store. They include details such as the products ordered, quantities, prices, customer information, and order status.",paymentMethod:"Payment method",paymentMethods:"Payment methods",pending:"Pending",price:"Price",priceIn:"Price ({{currency}})",priceNotSet:"Price not set.",prices:"Prices",priceSetInVariants:"Price set in variants.",processing:"Processing",product:"Product",productPriceDescription:"This price will also be used for sorting and filtering products. If you have variants enabled then you can enter the lowest or average price to help with search and filtering, but this price will not be used for checkout.",productRequired:"A product is required.",products:"Products",purchased:"Purchased",purchasedAt:"Purchased at",quantity:"Quantity",refunded:"Refunded",shipping:"Shipping",shippingAddress:"Shipping address",status:"Status",subtotal:"Subtotal",succeeded:"Succeeded",transaction:"Transaction",transactionDetails:"Transaction Details",transactions:"Transactions",transactionsCollectionDescription:"Transactions represent payment attempts made for an order. An order can have multiple transactions associated with it, such as an initial payment attempt and subsequent refunds or adjustments.",variant:"Variant",variantOption:"Variant Option",variantOptions:"Variant Options",variantOptionsAlreadyExists:"This variant combo is already in use by another variant. Please select different options.",variantOptionsCollectionDescription:"Variant options define the options a variant type can have, such as red or white for colors.",variantOptionsRequired:"Variant options are required.",variantOptionsRequiredAll:"All variant options are required.",variants:"Variants",variantsCollectionDescription:"Product variants allow you to offer different versions of a product, such as size or color variations. They refrence a product's variant options based on the variant types approved.",variantType:"Variant Type",variantTypes:"Variant Types",variantTypesCollectionDescription:"Variant types are used to define the different types of variants your products can have, such as size or color. Each variant type can have multiple options associated with it."}}},I=({sanitizedPluginConfig:a})=>{let b={addresses:"addresses",carts:"carts",customers:"users",orders:"orders",products:"products",transactions:"transactions",variantOptions:"variantOptions",variants:"variants",variantTypes:"variantTypes"};return"object"==typeof a.customers&&a.customers.slug&&(b.customers=a.customers.slug),{...b,...a.slugMap||{}}},J=({collectionSlugMap:a,jsonSchema:b})=>{b.properties||(b.properties={}),Array.isArray(b.required)&&b.required.push("ecommerce");let c=[],d=new Map;return Object.entries(a).forEach(([a,b])=>{d.set(a,{$ref:`#/definitions/${b}`}),c.push(b)}),b.properties.ecommerce={type:"object",additionalProperties:!1,description:"Generated by the Payload Ecommerce plugin",properties:{collections:{type:"object",additionalProperties:!1,properties:{...Object.fromEntries(d)},required:c}},required:["collections"]},b},K=()=>[{name:"title",type:"text",label:({t:a})=>a("plugin-ecommerce:addressTitle")},{name:"firstName",type:"text",label:({t:a})=>a("plugin-ecommerce:addressFirstName")},{name:"lastName",type:"text",label:({t:a})=>a("plugin-ecommerce:addressLastName")},{name:"company",type:"text",label:({t:a})=>a("plugin-ecommerce:addressCompany")},{name:"addressLine1",type:"text",label:({t:a})=>a("plugin-ecommerce:addressLine1")},{name:"addressLine2",type:"text",label:({t:a})=>a("plugin-ecommerce:addressLine2")},{name:"city",type:"text",label:({t:a})=>a("plugin-ecommerce:addressCity")},{name:"state",type:"text",label:({t:a})=>a("plugin-ecommerce:addressState")},{name:"postalCode",type:"text",label:({t:a})=>a("plugin-ecommerce:addressPostalCode")},{name:"country",type:"text",label:({t:a})=>a("plugin-ecommerce:addressCountry")},{name:"phone",type:"text",label:({t:a})=>a("plugin-ecommerce:addressPhone")}];var L=c(27689);let M=({pluginConfig:a})=>{let b={...a};if(void 0===b.customers&&(b.customers={slug:"users"}),void 0===b.addresses||"boolean"==typeof b.addresses&&!0===b.addresses)b.addresses={addressFields:K()};else{let c="object"==typeof a.addresses&&"function"==typeof a.addresses.addressFields&&a.addresses.addressFields({defaultFields:K()})||K();b.addresses={...b.addresses,addressFields:c}}return b.currencies||(b.currencies={defaultCurrency:"USD",supportedCurrencies:[L.B3]}),(void 0===b.inventory||"boolean"==typeof b.inventory&&!0===b.inventory)&&(b.inventory={fieldName:"inventory"}),void 0===b.carts&&(b.carts=!0),void 0===b.orders&&(b.orders=!0),void 0===b.transactions&&(b.transactions=!0),void 0===b.payments?b.payments={paymentMethods:[]}:b.payments.paymentMethods||(b.payments.paymentMethods=[]),b.products&&"object"==typeof b.products&&void 0===b.products.variants&&(b.products.variants=!0),b.access={authenticatedOnly:({req:{user:a}})=>!!a,publicAccess:()=>!0,...a.access},b},N=a=>async b=>{let c;if(!a)return b;let e=M({pluginConfig:a}),f=I({sanitizedPluginConfig:e}),h=e.access;b.collections||(b.collections=[]);let i=!1,j=e.currencies;if(e.addresses){c=e.addresses.addressFields;let a=e.addresses.supportedCountries,d=g({access:{adminOrCustomerOwner:h.adminOrCustomerOwner,authenticatedOnly:h.authenticatedOnly,customerOnlyFieldAccess:h.customerOnlyFieldAccess},addressFields:c,customersSlug:f.customers,supportedCountries:a}),i=e.addresses&&"object"==typeof e.addresses&&"addressesCollectionOverride"in e.addresses&&e.addresses.addressesCollectionOverride?await e.addresses.addressesCollectionOverride({defaultCollection:d}):d;b.collections.push(i)}if(e.products){let a="boolean"==typeof e.products?{variants:!0}:e.products;if(i=!!a.variants,a.variants){let c="boolean"==typeof a.variants?void 0:a.variants,d=z({access:{adminOnly:h.adminOnly,adminOrPublishedStatus:h.adminOrPublishedStatus},currenciesConfig:j,inventory:e.inventory,productsSlug:f.products,variantOptionsSlug:f.variantOptions}),g=c&&"object"==typeof c&&"variantsCollectionOverride"in c&&c.variantsCollectionOverride?await c.variantsCollectionOverride({defaultCollection:d}):d,i=A({access:{adminOnly:h.adminOnly,publicAccess:h.publicAccess},variantOptionsSlug:f.variantOptions}),k=c&&"object"==typeof c&&"variantTypesCollectionOverride"in c&&c.variantTypesCollectionOverride?await c.variantTypesCollectionOverride({defaultCollection:i}):i,l=w({access:{adminOnly:h.adminOnly,publicAccess:h.publicAccess},variantTypesSlug:f.variantTypes}),m=c&&"object"==typeof c&&"variantOptionsCollectionOverride"in c&&c.variantOptionsCollectionOverride?await c.variantOptionsCollectionOverride({defaultCollection:l}):l;b.collections.push(g,k,m)}let c=s({access:{adminOnly:h.adminOnly,adminOrPublishedStatus:h.adminOrPublishedStatus},currenciesConfig:j,enableVariants:i,inventory:e.inventory,variantsSlug:f.variants,variantTypesSlug:f.variantTypes}),d=a&&"productsCollectionOverride"in a&&a.productsCollectionOverride?await a.productsCollectionOverride({defaultCollection:c}):c;if(b.collections.push(d),e.carts){let c=m({access:{adminOrCustomerOwner:h.adminOrCustomerOwner,publicAccess:h.publicAccess},currenciesConfig:j,customersSlug:f.customers,enableVariants:!!a.variants,productsSlug:f.products,variantsSlug:f.variants}),d=e.carts&&"object"==typeof e.carts&&"cartsCollectionOverride"in e.carts&&e.carts.cartsCollectionOverride?await e.carts.cartsCollectionOverride({defaultCollection:c}):c;b.collections.push(d)}}if(e.orders){let a=o({access:{adminOnly:h.adminOnly,adminOnlyFieldAccess:h.adminOnlyFieldAccess,adminOrCustomerOwner:h.adminOrCustomerOwner},addressFields:c,currenciesConfig:j,customersSlug:f.customers,enableVariants:i,productsSlug:f.products,variantsSlug:f.variants}),d=e.orders&&"object"==typeof e.orders&&"ordersCollectionOverride"in e.orders&&e.orders.ordersCollectionOverride?await e.orders.ordersCollectionOverride({defaultCollection:a}):a;b.collections.push(d)}let k=e.payments.paymentMethods;if(e.payments&&k.length){Array.isArray(b.endpoints)||(b.endpoints=[]);let a="object"==typeof e.products&&e.products.validation||void 0;k.forEach(c=>{let d=`/payments/${c.name}`,g=[],h={handler:G({currenciesConfig:j,inventory:e.inventory,paymentMethod:c,productsSlug:f.products,productsValidation:a,transactionsSlug:f.transactions,variantsSlug:f.variants}),method:"post",path:`${d}/initiate`},i={handler:C({cartsSlug:f.carts,currenciesConfig:j,ordersSlug:f.orders,paymentMethod:c,productsValidation:a,transactionsSlug:f.transactions}),method:"post",path:`${d}/confirm-order`};if(g.push(h,i),c.endpoints&&c.endpoints.length>0){let a=c.endpoints.map(a=>{let b=a.path.startsWith("/")?a.path:`/${a.path}`;return{...a,path:`${d}${b}`}});g.push(...a)}b.endpoints.push(...g)})}if(e.transactions){let a=v({access:{adminOnly:h.adminOnly},addressFields:c,cartsSlug:f.carts,currenciesConfig:j,customersSlug:f.customers,enableVariants:i,ordersSlug:f.orders,paymentMethods:k,productsSlug:f.products,variantsSlug:f.variants}),d=e.transactions&&"object"==typeof e.transactions&&"transactionsCollectionOverride"in e.transactions&&e.transactions.transactionsCollectionOverride?await e.transactions.transactionsCollectionOverride({defaultCollection:a}):a;b.collections.push(d)}return b.i18n||(b.i18n={}),b.i18n?.translations||(b.i18n.translations={}),b.i18n.translations=(0,d.p)(H,b.i18n?.translations),b.typescript||(b.typescript={}),b.typescript.schema||(b.typescript.schema=[]),b.typescript.schema.push(a=>J({...a,collectionSlugMap:f,sanitizedPluginConfig:e})),b}},47138:(a,b,c)=>{"use strict";var d,e=c(84642);function f(a){return b=>async c=>{let{request:d}=c;return e.HttpRequest.isInstance(d)&&d.body&&"node"===a.runtime&&a.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(d.headers={...d.headers,Expect:"100-continue"}),b({...c,request:d})}}let g={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},h=a=>({applyToStack:b=>{b.add(f(a),g)}});d=f,d=g,b.DD=h},47314:(a,b,c)=>{"use strict";c.d(b,{Y:()=>i});var d=c(38200),e=c(64319),f=c(42788),g=c(32173),h=c(42526);let i=async function({id:a,data:b,limit:c,req:i,returning:j,sort:k,where:l}){b?.log?.length||b.log&&"object"==typeof b.log&&"$push"in b.log||delete b.log;let m=a?{id:{equals:a}}:l,o=a?1:c,p=await (0,h.x)(this,i),q=this.payload.collections["payload-jobs"].config,r=this.tableNameMap.get(d(q.slug)),s=null!=k?k:q.defaultSort,t=(0,g.j)({data:b,fields:q.flattenedFields});if(t&&a){let c=await (0,f.q)({id:a,adapter:this,data:b,db:p,fields:q.flattenedFields,ignoreResult:!1===j,operation:"update",req:i,tableName:r});return!1===j?null:[c]}let u=await (0,e.n)({adapter:this,collectionSlug:"payload-jobs",fields:q.flattenedFields,limit:a?1:o,pagination:!1,req:i,sort:s,tableName:r,where:m});if(!u.docs.length)return[];let v=[];for(let a of u.docs){let c=t?b:{...a,...b},d=await (0,f.q)({id:a.id,adapter:this,data:c,db:p,fields:q.flattenedFields,ignoreResult:!1===j,operation:"update",req:i,tableName:r});v.push(d)}return!1===j?null:v}},47383:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(55613),e=c(86397),f=c(49943);b.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,e.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,e._)`{missingProperty: ${a}}`},code(a){let{gen:b,schema:c,schemaCode:g,data:h,$data:i,it:j}=a,{opts:k}=j;if(!i&&0===c.length)return;let l=c.length>=k.loopRequired;if(j.allErrors?m():o(),k.strictRequired){let b=a.parentSchema.properties,{definedProperties:d}=a.it;for(let a of c)if((null==b?void 0:b[a])===void 0&&!d.has(a)){let b=j.schemaEnv.baseId+j.errSchemaPath,c=`required property "${a}" is not defined at "${b}" (strictRequired)`;(0,f.checkStrictMode)(j,c,j.opts.strictRequired)}}function m(){if(l||i)a.block$data(e.nil,p);else for(let b of c)(0,d.checkReportMissingProp)(a,b)}function o(){let e=b.let("missing");if(l||i){let c=b.let("valid",!0);a.block$data(c,()=>q(e,c)),a.ok(c)}else b.if((0,d.checkMissingProp)(a,c,e)),(0,d.reportMissingProp)(a,e),b.else()}function p(){b.forOf("prop",g,c=>{a.setParams({missingProperty:c}),b.if((0,d.noPropertyInData)(b,h,c,k.ownProperties),()=>a.error())})}function q(c,f){a.setParams({missingProperty:c}),b.forOf(c,g,()=>{b.assign(f,(0,d.propertyInData)(b,h,c,k.ownProperties)),b.if((0,e.not)(f),()=>{a.error(),b.break()})},e.nil)}}}},47449:(a,b,c)=>{a.exports=c(!function(a){a=(Array.isArray(a)?a:a.split(".")).map(Number);let b=0,c=process.versions.node.split(".").map(Number);for(;b<a.length&&!(c[b]>a[b]);b++)if(a[b]>c[b])return!0;return!1}("8.6.0")?2817:60974)},47512:a=>{"use strict";let b,c={exit:[],beforeExit:[]},d={exit:h,beforeExit:i};function e(){void 0===b&&(b=new FinalizationRegistry(k))}function f(a){c[a].length>0||process.on(a,d[a])}function g(a){c[a].length>0||(process.removeListener(a,d[a]),0===c.exit.length&&0===c.beforeExit.length&&(b=void 0))}function h(){j("exit")}function i(){j("beforeExit")}function j(a){for(let b of c[a]){let c=b.deref(),d=b.fn;void 0!==c&&d(c,a)}c[a]=[]}function k(a){for(let b of["exit","beforeExit"]){let d=c[b].indexOf(a);c[b].splice(d,d+1),g(b)}}function l(a,d,g){if(void 0===d)throw Error("the object can't be undefined");f(a);let h=new WeakRef(d);h.fn=g,e(),b.register(d,h),c[a].push(h)}a.exports={register:function(a,b){l("exit",a,b)},registerBeforeExit:function(a,b){l("beforeExit",a,b)},unregister:function(a){if(void 0!==b)for(let d of(b.unregister(a),["exit","beforeExit"]))c[d]=c[d].filter(b=>{let c=b.deref();return c&&c!==a}),g(d)}}},47532:(a,b,c)=>{"use strict";c.d(b,{S:()=>g});var d=c(579),e=c(99507),f=c(62763);class g extends f.f2{async sign(a,b,c){if(!d.K.isInstance(a))throw Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:g,signer:h,signingRegion:i,signingRegionSet:j,signingName:k}=await (0,f.pz)(c),l=(await g.sigv4aSigningRegionSet?.()??j??[i]).join(",");return await h.sign(a,{signingDate:(0,e.C)(g.systemClockOffset),signingRegion:l,signingService:k})}}},47539:(a,b,c)=>{"use strict";c.d(b,{Dp:()=>j,Rb:()=>g,T0:()=>h,Ye:()=>i,h2:()=>l,ie:()=>e,n:()=>f});class d extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(a,b){super(a,b),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class e extends d{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class f extends d{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class g extends d{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class h extends d{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class i extends d{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class j extends d{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class k extends d{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(a="multiple matching keys found in the JSON Web Key Set",b){super(a,b)}}class l extends d{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(a="signature verification failed",b){super(a,b)}}},47590:(a,b,c)=>{"use strict";c.r(b),c.d(b,{fromBase64:()=>d.E,toBase64:()=>e.n});var d=c(77915),e=c(23430)},47624:(a,b,c)=>{"use strict";c.d(b,{h:()=>g,y:()=>h});var d=c(12820),e=c(61101),f=c(35593);let g="ValidationError";class h extends f.L{constructor(a,b){let c=b?b("error:followingFieldsInvalid",{count:a.errors.length}):1===a.errors.length?d.en.translations.error.followingFieldsInvalid_one:d.en.translations.error.followingFieldsInvalid_other,f=a.req;delete a.req,super(`${c} ${a.errors.map(a=>{if(a.label)return"function"==typeof a.label?f&&f.i18n&&f.t?a.label({i18n:f.i18n,t:f.t}):a.path:"object"==typeof a.label?f?.i18n?.language?a.label[f.i18n.language]:a.label[Object.keys(a.label)[0]]:a.label;return a.path}).join(", ")}`,e.h.BAD_REQUEST,a),g=this.constructor.name}}},47638:(a,b,c)=>{"use strict";c.r(b),c.d(b,{CredentialsProviderError:()=>d.C,ProviderError:()=>e.m,TokenProviderError:()=>f.J,chain:()=>g.c,fromStatic:()=>h.V,memoize:()=>i.B});var d=c(16111),e=c(96879),f=c(46550),g=c(20411),h=c(64746),i=c(36738)},47800:(a,b,c)=>{"use strict";c.d(b,{s:()=>f});var d=c(61101),e=c(35593);class f extends e.L{constructor(a){super(a,d.h.INTERNAL_SERVER_ERROR)}}},47895:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(86397),e=c(49943),f=c(8358);b.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,d._)`{allowedValues: ${a}}`},code(a){let b,c,{gen:g,data:h,$data:i,schema:j,schemaCode:k,it:l}=a;if(!i&&0===j.length)throw Error("enum must have non-empty array");let m=j.length>=l.opts.loopEnum,o=()=>null!=b?b:b=(0,e.useFunc)(g,f.default);if(m||i)c=g.let("valid"),a.block$data(c,p);else{if(!Array.isArray(j))throw Error("ajv implementation error");let a=g.const("vSchema",k);c=(0,d.or)(...j.map((b,c)=>q(a,c)))}function p(){g.assign(c,!1),g.forOf("v",k,a=>g.if((0,d._)`${o()}(${h}, ${a})`,()=>g.assign(c,!0).break()))}function q(a,b){let c=j[b];return"object"==typeof c&&null!==c?(0,d._)`${o()}(${h}, ${a}[${b}])`:(0,d._)`${h} === ${c}`}a.pass(c)}}},47960:a=>{"use strict";a.exports=Function.prototype.call},48037:(a,b,c)=>{"use strict";c.d(b,{N:()=>w});var d=c(61101),e=c(25083),f=c(51114),g=c(71292),h=c(87747),i=c(35593),j=c(2431),k=c(26488),l=c(30073),m=c(43982),o=c(61281),p=c(57819),q=c(33334),r=c(53216),s=c(32609),t=c(30791),u=c(80044),v=c(87641);let w=async a=>{let b=a;try{let a,c=!b.disableTransaction&&await (0,q.n)(b.req);if(b.collection.config.hooks?.beforeOperation?.length)for(let a of b.collection.config.hooks.beforeOperation)b=await a({args:b,collection:b.collection.config,context:b.req.context,operation:"delete",req:b.req})||b;let{collection:{config:r},depth:w,overrideAccess:x,overrideLock:y,populate:z,req:{fallbackLocale:A,locale:B,payload:{config:C},payload:D},req:E,select:F,showHiddenFields:G,trash:H=!1,where:I}=b;if(!I)throw new i.L("Missing 'where' query of documents to delete.",d.h.BAD_REQUEST);x||(a=await (0,e.m)({req:E},r.access.delete)),await (0,g.d)({collectionConfig:r,overrideAccess:x,req:E,where:I});let J=(0,f.m)(I,a);J=(0,m.v)({enableTrash:r.trash,trash:H,where:J}),(0,h.D)({fields:r.flattenedFields,payload:D,where:J});let K=(0,s.Y)({fields:r.flattenedFields,forceSelect:r.forceSelect,select:F}),{docs:L}=await D.db.find({collection:r.slug,locale:B,req:E,select:K,where:J}),M=[],N=L.map(async a=>{let b,{id:c}=a;try{if(await (0,o.B)({id:c,collectionSlug:r.slug,lockErrorMessage:`Document with ID ${c} is currently locked and cannot be deleted.`,overrideLock:y,req:E}),r.hooks?.beforeDelete?.length)for(let a of r.hooks.beforeDelete)await a({id:c,collection:r,context:E.context,req:E});if(await (0,l.F)({collectionConfig:r,config:C,doc:a,overrideDelete:!0,req:E}),r.versions&&await (0,t.H)({id:c,slug:r.slug,payload:D,req:E}),r.versions?.drafts&&r.versions.drafts.schedulePublish&&await (0,u.y)({id:c,slug:r.slug,payload:D,req:E}),await D.db.deleteOne({collection:r.slug,req:E,returning:!1,where:{id:{equals:c}}}),b=await (0,j.v)({collection:r,context:E.context,depth:w,doc:b||a,draft:void 0,fallbackLocale:A,global:null,locale:B,overrideAccess:x,populate:z,req:E,select:K,showHiddenFields:G}),r.hooks?.afterRead?.length)for(let c of r.hooks.afterRead)b=await c({collection:r,context:E.context,doc:b||a,req:E})||b;if(r.hooks?.afterDelete?.length)for(let a of r.hooks.afterDelete)b=await a({id:c,collection:r,context:E.context,doc:b,req:E})||b;return b}catch(b){M.push({id:a.id,message:b instanceof Error?b.message:"Unknown error"})}return null}),O=await Promise.all(N);await (0,k.j)({collectionConfig:r,ids:L.map(({id:a})=>a),payload:D,req:E});let P={docs:O.filter(Boolean),errors:M};return P=await (0,v.E)({args:b,collection:r,operation:"delete",result:P}),c&&await (0,p.w)(E),P}catch(a){throw await (0,r.J)(b.req),a}}},48148:(a,b,c)=>{"use strict";c.d(b,{A:()=>f,g:()=>g});var d=c(19729),e=c(13160);let f=a=>(0,e.A)(a)||(0,d.R)(a),g=["KeyObject"];(globalThis.CryptoKey||d.A?.CryptoKey)&&g.push("CryptoKey")},48329:(a,b,c)=>{"use strict";c.d(b,{$:()=>k});var d=c(65029),e=c(45139),f=c(68656),g=c(35593),h=c(38200),i=c(64319),j=c(42526);let k=async function({collection:a,globalSlug:b,locale:c,req:k,where:l}){let m,o,p=await (0,j.x)(this,k);if(b){let a=this.payload.globals.config.find(({slug:a})=>a===b);m=this.tableNameMap.get(`_${h(b)}${this.versionsSuffix}`),o=(0,e.p)(this.payload.config,a,!0)}else if(a){let b=this.payload.collections[a].config;m=this.tableNameMap.get(`_${h(b.slug)}${this.versionsSuffix}`),o=(0,f.c)(this.payload.config,b,!0)}else throw new g.L("Either collection or globalSlug must be passed.");let{docs:q}=await (0,i.n)({adapter:this,fields:o,joins:!1,limit:0,locale:c,page:1,pagination:!1,req:k,tableName:m,where:l}),r=[];return q.forEach(a=>{r.push(a.id)}),r.length>0&&await this.deleteWhere({db:p,tableName:m,where:(0,d.RV)(this.tables[m].id,r)}),q}},48475:(a,b,c)=>{"use strict";c.d(b,{Z:()=>z});var d=c(82222);let e=async function({id:a,data:b,limit:c,req:e,returning:f,where:g}){let h=[],i=(a?[await this.findOne({collection:d.SJ,req:e,where:{id:{equals:a}}})]:(await this.find({collection:d.SJ,limit:c,pagination:!1,req:e,where:g})).docs).filter(Boolean);if(!i)return null;for(let a of i){let c={...a,...b},g=await this.updateOne({id:a.id,collection:d.SJ,data:c,req:e,returning:f});h.push(g)}return h};var f=c(29021),g=c(62853);let h=`
import {
  MigrateUpArgs,
  MigrateDownArgs,
} from "@payloadcms/db-mongodb";

export async function up({ payload, req }: MigrateUpArgs): Promise<void> {
  // Migration code
};

export async function down({ payload, req }: MigrateDownArgs): Promise<void> {
  // Migration code
};
`,i=function({migrationName:a,payload:b}){let c=b.db.migrationDir;f.existsSync(c)||f.mkdirSync(c);let[d,e]=new Date().toISOString().split("T"),i=d.replace(/\D/g,""),j=e.split(".")[0].replace(/\D/g,""),k=`${i}_${j}`,l=a.replace(/\W/g,"_"),m=`${k}_${l}.ts`,o=`${c}/${m}`;f.writeFileSync(o,h),(0,g.U)({migrationsDir:b.db.migrationDir}),b.logger.info({msg:`Migration created at ${o}`})};var j=c(57819),k=c(75423),l=c(33334),m=c(53216),o=c(83038),p=c(55900);let q=async function(a){let{payload:b}=this,c=a?.migrations||await (0,p.I)({payload:b}),{existingMigrations:d,latestBatch:e}=await (0,o.A)({payload:b}),f=e+1;for(let a of c){if(d.find(b=>b.name===a.name))continue;let c=Date.now(),e=await (0,k.M)({},b);b.logger.info({msg:`Migrating: ${a.name}`});try{await (0,l.n)(e);let d=b.db.sessions?.[await e.transactionID];await a.up({payload:b,req:e,session:d}),b.logger.info({msg:`Migrated:  ${a.name} (${Date.now()-c}ms)`}),await b.create({collection:"payload-migrations",data:{name:a.name,batch:f},req:e}),await (0,j.w)(e)}catch(c){throw await (0,m.J)(e),b.logger.error({err:c,msg:`Error running migration ${a.name}`}),c}}};async function r(){let{payload:a}=this,b=await (0,p.I)({payload:a}),{existingMigrations:c,latestBatch:d}=await (0,o.A)({payload:a});if(!c?.length)return void a.logger.info({msg:"No migrations to rollback."});for(let e of(a.logger.info({msg:`Rolling back batch ${d} consisting of ${c.length} migration(s).`}),c.filter(({batch:a})=>a===d))){let c=b.find(a=>a.name===e.name);if(!c)throw Error(`Migration ${e.name} not found locally.`);let d=Date.now(),f=await (0,k.M)({},a);try{a.logger.info({msg:`Migrating down: ${c.name}`}),await (0,l.n)(f);let b=a.db.sessions?.[await f.transactionID];await c.down({payload:a,req:f,session:b}),a.logger.info({msg:`Migrated down:  ${c.name} (${Date.now()-d}ms)`}),await a.delete({id:e.id,collection:"payload-migrations",req:f}),await (0,j.w)(f)}catch(b){await (0,m.J)(f),a.logger.error({err:b,msg:`Error running migration ${c.name}`}),process.exit(1)}}}async function s(){let{payload:a}=this,b=await (0,p.I)({payload:a}),{existingMigrations:c}=await (0,o.A)({payload:a}),d=await (0,k.M)({},a);if(c?.length)for(let e of(a.logger.info({msg:`Rolling back all ${c.length} migration(s).`}),c.reverse(),c))try{let c=b.find(a=>a.name===e.name);if(!c)throw Error(`Migration ${e.name} not found locally.`);a.logger.info({msg:`Migrating down: ${e.name}`});let f=Date.now();await (0,l.n)(d);let g=a.db.sessions?.[await d.transactionID];await c.down({payload:a,req:d,session:g}),a.logger.info({msg:`Migrated down:  ${e.name} (${Date.now()-f}ms)`}),await a.delete({collection:"payload-migrations",req:d,where:{name:{equals:e.name}}})}catch(c){await (0,m.J)(d);let b=`Error running migration ${e.name}. Rolling back.`;c instanceof Error&&(b+=` ${c.message}`),a.logger.error({err:c,msg:b}),process.exit(1)}else a.logger.info({msg:"No migrations to rollback."});for(let c of b){a.logger.info({msg:`Migrating: ${c.name}`});try{let b=Date.now();await (0,l.n)(d),await c.up({payload:a,req:d}),await a.create({collection:"payload-migrations",data:{name:c.name,executed:!0},req:d}),await (0,j.w)(d),a.logger.info({msg:`Migrated:  ${c.name} (${Date.now()-b}ms)`})}catch(e){await (0,m.J)(d);let b=`Error running migration ${c.name}. Rolling back.`;e instanceof Error&&(b+=` ${e.message}`),a.logger.error({err:e,msg:b}),process.exit(1)}}}async function t(){let{payload:a}=this,b=await (0,p.I)({payload:a}),{existingMigrations:c}=await (0,o.A)({payload:a});if(!c?.length)return void a.logger.info({msg:"No migrations to reset."});let d=await (0,k.M)({},a);for(let e of(b.reverse(),b)){let b=c.find(a=>a.name===e.name);if(b){a.logger.info({msg:`Migrating down: ${e.name}`});try{let c=Date.now();await (0,l.n)(d);let f=a.db.sessions?.[await d.transactionID];await e.down({payload:a,req:d,session:f}),await a.delete({collection:"payload-migrations",req:d,where:{id:{equals:b.id}}}),await (0,j.w)(d),a.logger.info({msg:`Migrated down:  ${e.name} (${Date.now()-c}ms)`})}catch(b){throw await (0,m.J)(d),a.logger.error({err:b,msg:`Error running migration ${e.name}`}),b}}}try{await a.delete({collection:"payload-migrations",where:{batch:{equals:-1}}})}catch(b){a.logger.error({err:b,msg:"Error deleting dev migration"})}}var u=c(788);async function v(){let{payload:a}=this,b=await (0,p.I)({payload:a});a.logger.debug({msg:`Found ${b.length} migration files.`});let{existingMigrations:c}=await (0,o.A)({payload:a});if(!b.length)return void a.logger.info({msg:"No migrations found."});let d=b.map(a=>{let b=c.find(b=>b.name===a.name);return{Name:a.name,Batch:b?.batch,Ran:b?"Yes":"No"}}),e=new u.Table;d.forEach(a=>{e.addRow(a,{color:"Yes"===a.Ran?"green":"red"})}),e.printTable()}let w=()=>Promise.resolve(null),x=()=>Promise.resolve(null),y=()=>Promise.resolve(null);function z(a){return{beginTransaction:w,commitTransaction:y,createMigration:i,migrate:q,migrateDown:r,migrateFresh:()=>Promise.resolve(null),migrateRefresh:s,migrateReset:t,migrateStatus:v,rollbackTransaction:x,updateJobs:e,...a,migrationDir:a.migrationDir||"migrations"}}},48478:(a,b,c)=>{"use strict";c.d(b,{Z:()=>d});let d=async({collection:a,doc:b,payload:c,req:d})=>{("lockUntil"in b&&"string"==typeof b.lockUntil||"loginAttempts"in b&&0!==b.loginAttempts)&&await c.db.updateOne({id:b.id,collection:a.slug,data:{lockUntil:null,loginAttempts:0},req:d,returning:!1})}},48796:(a,b,c)=>{"use strict";let{createDeferredPromise:d,environmentSettingsObject:e}=c(45293),{states:f,opcodes:g,sentCloseFrameState:h}=c(51787),{webidl:i}=c(2312),{getURLRecord:j,isValidSubprotocol:k,isEstablished:l,utf8Decode:m}=c(56664),{establishWebSocketConnection:o,failWebsocketConnection:p,closeWebSocketConnection:q}=c(94772),{types:r}=c(57975),{channels:s}=c(20471),{WebsocketFrameSend:t}=c(64119),{ByteParser:u}=c(96645),{WebSocketError:v,createUnvalidatedWebSocketError:w}=c(74796),{utf8DecodeBytes:x}=c(45293),{kEnumerableProperty:y}=c(33895),z=!1;class A{#aG;#bG;#bH;#bI;#bJ;#bK;#bL=!1;#a={onConnectionEstablished:(a,b)=>this.#bk(a,b),onFail:(a,b)=>{},onMessage:(a,b)=>this.#bm(a,b),onParserError:a=>p(this.#a,null,a.message),onParserDrain:()=>this.#a.socket.resume(),onSocketData:a=>{this.#bo.write(a)||this.#a.socket.pause()},onSocketError:a=>{this.#a.readyState=f.CLOSING,s.socketError.hasSubscribers&&s.socketError.publish(a),this.#a.socket.destroy()},onSocketClose:()=>this.#ai(),readyState:f.CONNECTING,socket:null,closeState:new Set,controller:null,wasEverConnected:!1};#bo;constructor(a,b){z||(process.emitWarning("WebSocketStream is experimental! Expect it to change at any time.",{code:"UNDICI-WSS"}),z=!0),i.argumentLengthCheck(arguments,1,"WebSocket"),a=i.converters.USVString(a),null!==b&&(b=i.converters.WebSocketStreamOptions(b));let c=j(a,e.settingsObject.baseUrl),g=b.protocols;if(g.length!==new Set(g.map(a=>a.toLowerCase())).size||g.length>0&&!g.every(a=>k(a)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(this.#aG=c.toString(),this.#bG=d(),this.#bH=d(),null!=b.signal){let a=b.signal;if(a.aborted){this.#bG.reject(a.reason),this.#bH.reject(a.reason);return}a.addEventListener("abort",()=>{l(this.#a.readyState)||(p(this.#a),this.#a.readyState=f.CLOSING,this.#bG.reject(a.reason),this.#bH.reject(a.reason),this.#bL=!0)},{once:!0})}let h=e.settingsObject;this.#a.controller=o(c,g,h,this.#a,b)}get url(){return this.#aG.toString()}get opened(){return this.#bG.promise}get closed(){return this.#bH.promise}close(a){null!==a&&(a=i.converters.WebSocketCloseInfo(a));let b=a.closeCode??null,c=a.reason;q(this.#a,b,c,!0)}#bM(a){let b=d(),c=null,e=null;if(ArrayBuffer.isView(a)||r.isArrayBuffer(a))c=new Uint8Array(ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a),e=g.BINARY;else{let d;try{d=i.converters.DOMString(a)}catch(a){b.reject(a);return}c=new TextEncoder().encode(d),e=g.TEXT}if(!this.#a.closeState.has(h.SENT)&&!this.#a.closeState.has(h.RECEIVED)){let a=new t(c);this.#a.socket.write(a.createFrame(e),()=>{b.resolve(void 0)})}return b}#bk(a,b){this.#a.socket=a.socket;let c=new u(this.#a,b);c.on("drain",()=>this.#a.onParserDrain()),c.on("error",a=>this.#a.onParserError(a)),this.#bo=c,this.#a.readyState=f.OPEN;let d=b??"",e=a.headersList.get("sec-websocket-protocol")??"",g=new ReadableStream({start:a=>{this.#bJ=a},pull(b){let c;for(;b.desiredSize>0&&null!==(c=a.socket.read());)b.enqueue(c)},cancel:a=>this.#bN(a)}),h=new WritableStream({write:a=>this.#bM(a),close:()=>q(this.#a,null,null),abort:a=>this.#bO(a)});this.#bI=g,this.#bK=h,this.#bG.resolve({extensions:d,protocol:e,readable:g,writable:h})}#bm(a,b){let c;if(this.#a.readyState===f.OPEN){if(a===g.TEXT)try{c=m(b)}catch{p(this.#a,"Received invalid UTF-8 in text frame.");return}else a===g.BINARY&&(c=new Uint8Array(b.buffer,b.byteOffset,b.byteLength));this.#bJ.enqueue(c)}}#ai(){let a=this.#a.closeState.has(h.SENT)&&this.#a.closeState.has(h.RECEIVED);if(this.#a.readyState=f.CLOSED,this.#bL)return;this.#a.wasEverConnected||this.#bG.reject(new v("Socket never opened"));let b=this.#bo.closingInfo,c=b?.code??1005;this.#a.closeState.has(h.SENT)||this.#a.closeState.has(h.RECEIVED)||(c=1006);let d=b?.reason==null?"":x(Buffer.from(b.reason));if(a)this.#bI.cancel().catch(()=>{}),this.#bK.locked||this.#bK.abort(new DOMException("A closed WebSocketStream cannot be written to","InvalidStateError")),this.#bH.resolve({closeCode:c,reason:d});else{let a=w("unclean close",c,d);this.#bJ.error(a),this.#bK.abort(a),this.#bH.reject(a)}}#bO(a){let b=null,c="";i.is.WebSocketError(a)&&(b=a.closeCode,c=a.reason),q(this.#a,b,c)}#bN(a){this.#bO(a)}}Object.defineProperties(A.prototype,{url:y,opened:y,closed:y,close:y,[Symbol.toStringTag]:{value:"WebSocketStream",writable:!1,enumerable:!1,configurable:!0}}),i.converters.WebSocketStreamOptions=i.dictionaryConverter([{key:"protocols",converter:i.sequenceConverter(i.converters.USVString),defaultValue:()=>[]},{key:"signal",converter:i.nullableConverter(i.converters.AbortSignal),defaultValue:()=>null}]),i.converters.WebSocketCloseInfo=i.dictionaryConverter([{key:"closeCode",converter:a=>i.converters["unsigned short"](a,{enforceRange:!0})},{key:"reason",converter:i.converters.USVString,defaultValue:()=>""}]),a.exports={WebSocketStream:A}},49045:(a,b,c)=>{"use strict";let d=c(12266);class e extends d{constructor(a={}){super(a)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(a){this.date.setMilliseconds(parseInt(a.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}a.exports=e},49102:a=>{"use strict";a.exports=function a(b,c){if(b===c)return!0;if(b&&c&&"object"==typeof b&&"object"==typeof c){if(b.constructor!==c.constructor)return!1;if(Array.isArray(b)){if((d=b.length)!=c.length)return!1;for(e=d;0!=e--;)if(!a(b[e],c[e]))return!1;return!0}if(b.constructor===RegExp)return b.source===c.source&&b.flags===c.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===c.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===c.toString();if((d=(f=Object.keys(b)).length)!==Object.keys(c).length)return!1;for(e=d;0!=e--;)if(!Object.prototype.hasOwnProperty.call(c,f[e]))return!1;for(e=d;0!=e--;){var d,e,f,g=f[e];if(!a(b[g],c[g]))return!1}return!0}return b!=b&&c!=c}},49454:(a,b,c)=>{"use strict";c.d(b,{Y:()=>m});var d=c(55900),e=c(83038),f=c(75423),g=c(33334),h=c(57819),i=c(53216),j=c(42526),k=c(86586),l=c(66285);async function m(){let{payload:a}=this,b=await (0,d.I)({payload:a}),{existingMigrations:c,latestBatch:m}=await (0,e.A)({payload:a});if(!c?.length)return void a.logger.info({msg:"No migrations to rollback."});for(let d of(a.logger.info({msg:`Rolling back batch ${m} consisting of ${c.length} migration(s).`}),c.filter(({batch:a})=>a===m))){let c=b.find(a=>a.name===d.name);if(!c)throw Error(`Migration ${d.name} not found locally.`);let e=Date.now(),m=await (0,f.M)({},a);try{a.logger.info({msg:`Migrating down: ${c.name}`}),await (0,g.n)(m);let b=await (0,j.x)(this,m);await c.down({db:b,payload:a,req:m}),a.logger.info({msg:`Migrated down:  ${c.name} (${Date.now()-e}ms)`}),await (0,k.r)(this,b)&&await a.delete({id:d.id,collection:"payload-migrations",req:m}),await (0,h.w)(m)}catch(b){await (0,i.J)(m),a.logger.error({err:b,msg:(0,l.u)(b,`Error migrating down ${c.name}. Rolling back.`)}),process.exit(1)}}}},49564:(a,b,c)=>{"use strict";a.exports=g;let{LEVELS:d}=c(3612),e=c(5873),f=c(5986);function g({log:a,context:b}){let{colorizer:c,customLevels:g,levelKey:h,levelLabel:i,messageFormat:j,messageKey:k,useOnlyCustomProps:l}=b;if(j&&"string"==typeof j){let b=String(f(j,a)).replace(/{([^{}]+)}/g,function(b,c){let f;return c===i&&void 0!==(f=e(a,h))?(l?void 0===g:void 0===g[f])?d[f]:g[f]:e(a,c)||""});return c.message(b)}if(j&&"function"==typeof j){let b=j(a,k,i,{colors:c.colors});return c.message(b)}if(k in a!=!1&&("string"==typeof a[k]||"number"==typeof a[k]||"boolean"==typeof a[k]))return c.message(a[k])}},49586:(a,b,c)=>{"use strict";c.d(b,{U:()=>h});var d=c(70366),e=c(22477),f=c(22128);let g=async({id:a,collection:b,global:c,max:d,payload:e,req:f})=>{let g=b?"collection":"global",h=b?b.slug:c?.slug;try{let g,i={};if(b){i.parent={equals:a};let c=await e.db.findVersions({collection:b.slug,limit:1,pagination:!1,req:f,skip:d,sort:"-updatedAt",where:i});[g]=c.docs}else if(c){let a=await e.db.findGlobalVersions({global:c.slug,limit:1,pagination:!1,req:f,skip:d,sort:"-updatedAt",where:i});[g]=a.docs}if(g?.updatedAt){let d={updatedAt:{less_than_equal:g.updatedAt}};b&&(d.parent={equals:a});let i={req:f,where:d};c?i.globalSlug=h:i.collection=h,await e.db.deleteVersions(i)}}catch(a){e.logger.error(a),e.logger.error(`There was an error cleaning up old versions for the ${g} ${h}`)}},h=async({id:a,autosave:b,collection:c,docWithLocales:h,draft:i,global:j,operation:k,payload:l,publishSpecificLocale:m,req:o,select:p,snapshot:q})=>{let r,s=!0,t=new Date().toISOString(),u=(0,d.Zt)(h);i&&(u._status="draft"),c?.timestamps&&i&&(u.updatedAt=t),u._id&&delete u._id;try{if(b){let b,d={limit:1,pagination:!1,req:o,sort:"-updatedAt"};c?{docs:b}=await l.db.findVersions({...d,collection:c.slug,limit:1,pagination:!1,req:o,where:{parent:{equals:a}}}):{docs:b}=await l.db.findGlobalVersions({...d,global:j.slug,limit:1,pagination:!1,req:o});let[e]=b;if(e&&"autosave"in e&&!0===e.autosave){s=!1;let b={createdAt:new Date(e.createdAt).toISOString(),latest:!0,parent:a,updatedAt:t,version:{...u}},d={id:e.id,req:o,versionData:b};r=c?await l.db.updateVersion({...d,collection:c.slug,req:o}):await l.db.updateGlobalVersion({...d,global:j.slug,req:o})}}if(s){let e={autosave:!!b,collectionSlug:void 0,createdAt:"restoreVersion"===k?u.createdAt:t,globalSlug:void 0,parent:c?a:void 0,publishedLocale:m||void 0,req:o,select:(0,f.V)({select:p}),updatedAt:t,versionData:u};if(c&&(e.collectionSlug=c.slug,r=await l.db.createVersion(e)),j&&(e.globalSlug=j.slug,r=await l.db.createGlobalVersion(e)),m&&q){let a=(0,d.Zt)(q);a._id&&delete a._id,a._status="draft";let b=new Date().toISOString(),f={...e,createdAt:b,returning:!1,snapshot:!0,updatedAt:b,versionData:a};c&&await l.db.createVersion(f),j&&await l.db.createGlobalVersion(f)}}}catch(d){let b;c&&(b=`There was an error while saving a version for the ${"string"==typeof c.labels.singular?c.labels.singular:c.slug} with ID ${a}.`),j&&(b=`There was an error while saving a version for the global ${"string"==typeof j.label?j.label:j.slug}.`),l.logger.error({err:d,msg:b});return}let v=c?c.versions.maxPerDoc:j.versions.max;s&&v>0&&await g({id:a,collection:c,global:j,max:v,payload:l,req:o});let w=r.version;return(w=(0,e.E)(w)).id=r.parent,w}},49897:(a,b,c)=>{"use strict";c.d(b,{t:()=>g});var d=c(68656),e=c(38200),f=c(64319);let g=async function({collection:a,limit:b,locale:c,page:g,pagination:h,req:i,select:j,skip:k,sort:l,where:m}){let o=this.payload.collections[a].config,p=null!=l?l:o.defaultSort,q=this.tableNameMap.get(`_${e(o.slug)}${this.versionsSuffix}`),r=(0,d.c)(this.payload.config,o,!0);return(0,f.n)({adapter:this,fields:r,joins:!1,limit:b,locale:c,page:g,pagination:h,req:i,select:j,skip:k,sort:p,tableName:q,where:m})}},49932:(a,b,c)=>{"use strict";let d=c(90165),e=c(67858),f=c(90439),g=f.style,h=f.clear,i=f.figures,j=f.wrap,k=f.entriesToDisplay,l=c(1298).cursor;class m extends e{constructor(a={}){super(a),this.msg=a.message,this.hint=a.hint||"- Use arrow-keys. Return to submit.",this.warn=a.warn||"- This option is disabled",this.cursor=a.initial||0,this.choices=a.choices.map((a,b)=>("string"==typeof a&&(a={title:a,value:b}),{title:a&&(a.title||a.value||a),value:a&&(void 0===a.value?b:a.value),description:a&&a.description,selected:a&&a.selected,disabled:a&&a.disabled})),this.optionsPerPage=a.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=h("",this.out.columns),this.render()}moveCursor(a){this.cursor=a,this.value=this.choices[a].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(a,b){if(" "===a)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(l.hide):this.out.write(h(this.outputText,this.out.columns)),super.render();let a=k(this.cursor,this.choices.length,this.optionsPerPage),b=a.startIndex,c=a.endIndex;if(this.outputText=[g.symbol(this.done,this.aborted),d.bold(this.msg),g.delimiter(!1),this.done?this.selection.title:this.selection.disabled?d.yellow(this.warn):d.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let a=b;a<c;a++){let e,f,g="",h=this.choices[a];f=a===b&&b>0?i.arrowUp:a===c-1&&c<this.choices.length?i.arrowDown:" ",h.disabled?(e=this.cursor===a?d.gray().underline(h.title):d.strikethrough().gray(h.title),f=(this.cursor===a?d.bold().gray(i.pointer)+" ":"  ")+f):(e=this.cursor===a?d.cyan().underline(h.title):h.title,f=(this.cursor===a?d.cyan(i.pointer)+" ":"  ")+f,h.description&&this.cursor===a&&(g=` - ${h.description}`,(f.length+e.length+g.length>=this.out.columns||h.description.split(/\r?\n/).length>1)&&(g="\n"+j(h.description,{margin:3,width:this.out.columns})))),this.outputText+=`${f} ${e}${d.gray(g)}
`}}this.out.write(this.outputText)}}a.exports=m},49939:(a,b,c)=>{"use strict";let{version:d}=c(52790),{EventEmitter:e}=c(94735),{Worker:f}=c(73566),{join:g}=c(33873),{pathToFileURL:h}=c(79551),{wait:i}=c(29666),{WRITE_INDEX:j,READ_INDEX:k}=c(26223),l=c(57047),m=c(12412),o=Symbol("kImpl"),p=l.constants.MAX_STRING_LENGTH;class q{constructor(a){this._value=a}deref(){return this._value}}class r{register(){}unregister(){}}let s=process.env.NODE_V8_COVERAGE?r:global.FinalizationRegistry||r,t=process.env.NODE_V8_COVERAGE?q:global.WeakRef||q,u=new s(a=>{a.exited||a.terminate()});function v(a,b){let{filename:c,workerData:e}=b,i=new f(("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||g(__dirname,"lib","worker.js"),{...b.workerOpts,trackUnmanagedFds:!1,workerData:{filename:0===c.indexOf("file://")?c:h(c).href,dataBuf:a[o].dataBuf,stateBuf:a[o].stateBuf,workerData:{$context:{threadStreamVersion:d},...e}}});return i.stream=new q(a),i.on("message",y),i.on("exit",z),u.register(a,i),i}function w(a){m(!a[o].sync),a[o].needDrain&&(a[o].needDrain=!1,a.emit("drain"))}function x(a){let b=Atomics.load(a[o].state,j),c=a[o].data.length-b;if(c>0){if(0===a[o].buf.length){a[o].flushing=!1,a[o].ending?E(a):a[o].needDrain&&process.nextTick(w,a);return}let b=a[o].buf.slice(0,c),d=Buffer.byteLength(b);d<=c?(a[o].buf=a[o].buf.slice(c),D(a,b,x.bind(null,a))):a.flush(()=>{if(!a.destroyed){for(Atomics.store(a[o].state,k,0),Atomics.store(a[o].state,j,0);d>a[o].data.length;)c/=2,b=a[o].buf.slice(0,c),d=Buffer.byteLength(b);a[o].buf=a[o].buf.slice(c),D(a,b,x.bind(null,a))}})}else if(0===c){if(0===b&&0===a[o].buf.length)return;a.flush(()=>{Atomics.store(a[o].state,k,0),Atomics.store(a[o].state,j,0),x(a)})}else C(a,Error("overwritten"))}function y(a){let b=this.stream.deref();if(void 0===b){this.exited=!0,this.terminate();return}switch(a.code){case"READY":this.stream=new t(b),b.flush(()=>{b[o].ready=!0,b.emit("ready")});break;case"ERROR":C(b,a.err);break;case"EVENT":Array.isArray(a.args)?b.emit(a.name,...a.args):b.emit(a.name,a.args);break;case"WARNING":process.emitWarning(a.err);break;default:C(b,Error("this should not happen: "+a.code))}}function z(a){let b=this.stream.deref();void 0!==b&&(u.unregister(b),b.worker.exited=!0,b.worker.off("exit",z),C(b,0!==a?Error("the worker thread exited"):null))}class A extends e{constructor(a={}){if(super(),a.bufferSize<4)throw Error("bufferSize must at least fit a 4-byte utf-8 char");this[o]={},this[o].stateBuf=new SharedArrayBuffer(128),this[o].state=new Int32Array(this[o].stateBuf),this[o].dataBuf=new SharedArrayBuffer(a.bufferSize||4194304),this[o].data=Buffer.from(this[o].dataBuf),this[o].sync=a.sync||!1,this[o].ending=!1,this[o].ended=!1,this[o].needDrain=!1,this[o].destroyed=!1,this[o].flushing=!1,this[o].ready=!1,this[o].finished=!1,this[o].errored=null,this[o].closed=!1,this[o].buf="",this.worker=v(this,a),this.on("message",(a,b)=>{this.worker.postMessage(a,b)})}write(a){if(this[o].destroyed)return B(this,Error("the worker has exited")),!1;if(this[o].ending)return B(this,Error("the worker is ending")),!1;if(this[o].flushing&&this[o].buf.length+a.length>=p)try{F(this),this[o].flushing=!0}catch(a){return C(this,a),!1}if(this[o].buf+=a,this[o].sync)try{return F(this),!0}catch(a){return C(this,a),!1}return this[o].flushing||(this[o].flushing=!0,setImmediate(x,this)),this[o].needDrain=this[o].data.length-this[o].buf.length-Atomics.load(this[o].state,j)<=0,!this[o].needDrain}end(){this[o].destroyed||(this[o].ending=!0,E(this))}flush(a){if(this[o].destroyed){"function"==typeof a&&process.nextTick(a,Error("the worker has exited"));return}let b=Atomics.load(this[o].state,j);i(this[o].state,k,b,1/0,(b,c)=>{if(b){C(this,b),process.nextTick(a,b);return}if("not-equal"===c)return void this.flush(a);process.nextTick(a)})}flushSync(){this[o].destroyed||(F(this),G(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[o].ready}get destroyed(){return this[o].destroyed}get closed(){return this[o].closed}get writable(){return!this[o].destroyed&&!this[o].ending}get writableEnded(){return this[o].ending}get writableFinished(){return this[o].finished}get writableNeedDrain(){return this[o].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[o].errored}}function B(a,b){setImmediate(()=>{a.emit("error",b)})}function C(a,b){a[o].destroyed||(a[o].destroyed=!0,b&&(a[o].errored=b,B(a,b)),a.worker.exited?setImmediate(()=>{a[o].closed=!0,a.emit("close")}):a.worker.terminate().catch(()=>{}).then(()=>{a[o].closed=!0,a.emit("close")}))}function D(a,b,c){let d=Atomics.load(a[o].state,j),e=Buffer.byteLength(b);return a[o].data.write(b,d),Atomics.store(a[o].state,j,d+e),Atomics.notify(a[o].state,j),c(),!0}function E(a){if(!a[o].ended&&a[o].ending&&!a[o].flushing){a[o].ended=!0;try{a.flushSync();let b=Atomics.load(a[o].state,k);Atomics.store(a[o].state,j,-1),Atomics.notify(a[o].state,j);let c=0;for(;-1!==b;){if(Atomics.wait(a[o].state,k,b,1e3),b=Atomics.load(a[o].state,k),-2===b)return void C(a,Error("end() failed"));if(10==++c)return void C(a,Error("end() took too long (10s)"))}process.nextTick(()=>{a[o].finished=!0,a.emit("finish")})}catch(b){C(a,b)}}}function F(a){let b=()=>{a[o].ending?E(a):a[o].needDrain&&process.nextTick(w,a)};for(a[o].flushing=!1;0!==a[o].buf.length;){let c=Atomics.load(a[o].state,j),d=a[o].data.length-c;if(0===d){G(a),Atomics.store(a[o].state,k,0),Atomics.store(a[o].state,j,0);continue}if(d<0)throw Error("overwritten");let e=a[o].buf.slice(0,d),f=Buffer.byteLength(e);if(f<=d)a[o].buf=a[o].buf.slice(d),D(a,e,b);else{for(G(a),Atomics.store(a[o].state,k,0),Atomics.store(a[o].state,j,0);f>a[o].buf.length;)d/=2,e=a[o].buf.slice(0,d),f=Buffer.byteLength(e);a[o].buf=a[o].buf.slice(d),D(a,e,b)}}}function G(a){if(a[o].flushing)throw Error("unable to flush while flushing");let b=Atomics.load(a[o].state,j),c=0;for(;;){let d=Atomics.load(a[o].state,k);if(-2===d)throw Error("_flushSync failed");if(d!==b)Atomics.wait(a[o].state,k,d,1e3);else break;if(10==++c)throw Error("_flushSync took too long (10s)")}}a.exports=A},49942:(a,b,c)=>{"use strict";let d,e=c(74075),f=c(28253),g=c(81388),{kStatusCode:h}=c(99753),i=Buffer[Symbol.species],j=Buffer.from([0,0,255,255]),k=Symbol("permessage-deflate"),l=Symbol("total-length"),m=Symbol("callback"),o=Symbol("buffers"),p=Symbol("error");class q{constructor(a,b,c){this._maxPayload=0|c,this._options=a||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!b,this._deflate=null,this._inflate=null,this.params=null,d||(d=new g(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let a={};return this._options.serverNoContextTakeover&&(a.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(a.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(a.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?a.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(a.client_max_window_bits=!0),a}accept(a){return a=this.normalizeParams(a),this.params=this._isServer?this.acceptAsServer(a):this.acceptAsClient(a),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let a=this._deflate[m];this._deflate.close(),this._deflate=null,a&&a(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(a){let b=this._options,c=a.find(a=>(!1!==b.serverNoContextTakeover||!a.server_no_context_takeover)&&(!a.server_max_window_bits||!1!==b.serverMaxWindowBits&&("number"!=typeof b.serverMaxWindowBits||!(b.serverMaxWindowBits>a.server_max_window_bits)))&&("number"!=typeof b.clientMaxWindowBits||!!a.client_max_window_bits));if(!c)throw Error("None of the extension offers can be accepted");return b.serverNoContextTakeover&&(c.server_no_context_takeover=!0),b.clientNoContextTakeover&&(c.client_no_context_takeover=!0),"number"==typeof b.serverMaxWindowBits&&(c.server_max_window_bits=b.serverMaxWindowBits),"number"==typeof b.clientMaxWindowBits?c.client_max_window_bits=b.clientMaxWindowBits:(!0===c.client_max_window_bits||!1===b.clientMaxWindowBits)&&delete c.client_max_window_bits,c}acceptAsClient(a){let b=a[0];if(!1===this._options.clientNoContextTakeover&&b.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(b.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&b.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(b.client_max_window_bits=this._options.clientMaxWindowBits);return b}normalizeParams(a){return a.forEach(a=>{Object.keys(a).forEach(b=>{let c=a[b];if(c.length>1)throw Error(`Parameter "${b}" must have only a single value`);if(c=c[0],"client_max_window_bits"===b){if(!0!==c){let a=+c;if(!Number.isInteger(a)||a<8||a>15)throw TypeError(`Invalid value for parameter "${b}": ${c}`);c=a}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${b}": ${c}`)}else if("server_max_window_bits"===b){let a=+c;if(!Number.isInteger(a)||a<8||a>15)throw TypeError(`Invalid value for parameter "${b}": ${c}`);c=a}else if("client_no_context_takeover"===b||"server_no_context_takeover"===b){if(!0!==c)throw TypeError(`Invalid value for parameter "${b}": ${c}`)}else throw Error(`Unknown parameter "${b}"`);a[b]=c})}),a}decompress(a,b,c){d.add(d=>{this._decompress(a,b,(a,b)=>{d(),c(a,b)})})}compress(a,b,c){d.add(d=>{this._compress(a,b,(a,b)=>{d(),c(a,b)})})}_decompress(a,b,c){let d=this._isServer?"client":"server";if(!this._inflate){let a=`${d}_max_window_bits`,b="number"!=typeof this.params[a]?e.Z_DEFAULT_WINDOWBITS:this.params[a];this._inflate=e.createInflateRaw({...this._options.zlibInflateOptions,windowBits:b}),this._inflate[k]=this,this._inflate[l]=0,this._inflate[o]=[],this._inflate.on("error",t),this._inflate.on("data",s)}this._inflate[m]=c,this._inflate.write(a),b&&this._inflate.write(j),this._inflate.flush(()=>{let a=this._inflate[p];if(a){this._inflate.close(),this._inflate=null,c(a);return}let e=f.concat(this._inflate[o],this._inflate[l]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[o]=[],b&&this.params[`${d}_no_context_takeover`]&&this._inflate.reset()),c(null,e)})}_compress(a,b,c){let d=this._isServer?"server":"client";if(!this._deflate){let a=`${d}_max_window_bits`,b="number"!=typeof this.params[a]?e.Z_DEFAULT_WINDOWBITS:this.params[a];this._deflate=e.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:b}),this._deflate[l]=0,this._deflate[o]=[],this._deflate.on("data",r)}this._deflate[m]=c,this._deflate.write(a),this._deflate.flush(e.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let a=f.concat(this._deflate[o],this._deflate[l]);b&&(a=new i(a.buffer,a.byteOffset,a.length-4)),this._deflate[m]=null,this._deflate[l]=0,this._deflate[o]=[],b&&this.params[`${d}_no_context_takeover`]&&this._deflate.reset(),c(null,a)})}}function r(a){this[o].push(a),this[l]+=a.length}function s(a){if(this[l]+=a.length,this[k]._maxPayload<1||this[l]<=this[k]._maxPayload)return void this[o].push(a);this[p]=RangeError("Max payload size exceeded"),this[p].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[p][h]=1009,this.removeListener("data",s),this.reset()}function t(a){if(this[k]._inflate=null,this[p])return void this[m](this[p]);a[h]=1007,this[m](a)}a.exports=q},49943:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.checkStrictMode=b.getErrorPath=b.Type=b.useFunc=b.setEvaluated=b.evaluatedPropsToName=b.mergeEvaluated=b.eachItem=b.unescapeJsonPointer=b.escapeJsonPointer=b.escapeFragment=b.unescapeFragment=b.schemaRefOrVal=b.schemaHasRulesButRef=b.schemaHasRules=b.checkUnknownRules=b.alwaysValidSchema=b.toHash=void 0;let e=c(86397),f=c(82888);function g(a,b=a.schema){let{opts:c,self:d}=a;if(!c.strictSchema||"boolean"==typeof b)return;let e=d.RULES.keywords;for(let c in b)e[c]||p(a,`unknown keyword: "${c}"`)}function h(a,b){if("boolean"==typeof a)return!a;for(let c in a)if(b[c])return!0;return!1}function i(a){return"number"==typeof a?`${a}`:a.replace(/~/g,"~0").replace(/\//g,"~1")}function j(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}function k({mergeNames:a,mergeToName:b,mergeValues:c,resultToName:d}){return(f,g,h,i)=>{let j=void 0===h?g:h instanceof e.Name?(g instanceof e.Name?a(f,g,h):b(f,g,h),h):g instanceof e.Name?(b(f,h,g),g):c(g,h);return i!==e.Name||j instanceof e.Name?j:d(f,j)}}function l(a,b){if(!0===b)return a.var("props",!0);let c=a.var("props",(0,e._)`{}`);return void 0!==b&&m(a,c,b),c}function m(a,b,c){Object.keys(c).forEach(c=>a.assign((0,e._)`${b}${(0,e.getProperty)(c)}`,!0))}b.toHash=function(a){let b={};for(let c of a)b[c]=!0;return b},b.alwaysValidSchema=function(a,b){return"boolean"==typeof b?b:0===Object.keys(b).length||(g(a,b),!h(b,a.self.RULES.all))},b.checkUnknownRules=g,b.schemaHasRules=h,b.schemaHasRulesButRef=function(a,b){if("boolean"==typeof a)return!a;for(let c in a)if("$ref"!==c&&b.all[c])return!0;return!1},b.schemaRefOrVal=function({topSchemaRef:a,schemaPath:b},c,d,f){if(!f){if("number"==typeof c||"boolean"==typeof c)return c;if("string"==typeof c)return(0,e._)`${c}`}return(0,e._)`${a}${b}${(0,e.getProperty)(d)}`},b.unescapeFragment=function(a){return j(decodeURIComponent(a))},b.escapeFragment=function(a){return encodeURIComponent(i(a))},b.escapeJsonPointer=i,b.unescapeJsonPointer=j,b.eachItem=function(a,b){if(Array.isArray(a))for(let c of a)b(c);else b(a)},b.mergeEvaluated={props:k({mergeNames:(a,b,c)=>a.if((0,e._)`${c} !== true && ${b} !== undefined`,()=>{a.if((0,e._)`${b} === true`,()=>a.assign(c,!0),()=>a.assign(c,(0,e._)`${c} || {}`).code((0,e._)`Object.assign(${c}, ${b})`))}),mergeToName:(a,b,c)=>a.if((0,e._)`${c} !== true`,()=>{!0===b?a.assign(c,!0):(a.assign(c,(0,e._)`${c} || {}`),m(a,c,b))}),mergeValues:(a,b)=>!0===a||{...a,...b},resultToName:l}),items:k({mergeNames:(a,b,c)=>a.if((0,e._)`${c} !== true && ${b} !== undefined`,()=>a.assign(c,(0,e._)`${b} === true ? true : ${c} > ${b} ? ${c} : ${b}`)),mergeToName:(a,b,c)=>a.if((0,e._)`${c} !== true`,()=>a.assign(c,!0===b||(0,e._)`${c} > ${b} ? ${c} : ${b}`)),mergeValues:(a,b)=>!0===a||Math.max(a,b),resultToName:(a,b)=>a.var("items",b)})},b.evaluatedPropsToName=l,b.setEvaluated=m;let o={};function p(a,b,c=a.opts.strictSchema){if(c){if(b=`strict mode: ${b}`,!0===c)throw Error(b);a.self.logger.warn(b)}}b.useFunc=function(a,b){return a.scopeValue("func",{ref:b,code:o[b.code]||(o[b.code]=new f._Code(b.code))})},function(a){a[a.Num=0]="Num",a[a.Str=1]="Str"}(d||(b.Type=d={})),b.getErrorPath=function(a,b,c){if(a instanceof e.Name){let f=b===d.Num;return c?f?(0,e._)`"[" + ${a} + "]"`:(0,e._)`"['" + ${a} + "']"`:f?(0,e._)`"/" + ${a}`:(0,e._)`"/" + ${a}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return c?(0,e.getProperty)(a).toString():"/"+i(a)},b.checkStrictMode=p},49959:a=>{"use strict";a.exports=function a(b={}){let{ERR_PATHS_MUST_BE_STRINGS:c=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:d=a=>`fast-redact – Invalid path (${a})`}=b;return function({paths:a}){a.forEach(a=>{if("string"!=typeof a)throw Error(c());try{if(/〇/.test(a))throw Error();let b=("["===a[0]?"":".")+a.replace(/^\*/,"〇").replace(/\.\*/g,".〇").replace(/\[\*\]/g,"[〇]");if(/\n|\r|;/.test(b)||/\/\*/.test(b))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const 〇 = null;
            o${b}
            if ([o${b}].length !== 1) throw Error()`)()}catch(b){throw Error(d(a))}})}}},50474:(a,b,c)=>{"use strict";c.d(b,{m:()=>d});let d=({dependencies:a,dependenciesPriority:b,dependenciesSoft:c,feature:d,key:e})=>f=>{let g={dependencies:a,dependenciesPriority:b,dependenciesSoft:c,key:e,serverFeatureProps:f};if("function"==typeof d)g.feature=async({config:a,featureProviderMap:b,isRoot:c,parentIsLocalized:e,resolvedFeatures:g,unSanitizedEditorConfig:h})=>{let i=await d({config:a,featureProviderMap:b,isRoot:c,parentIsLocalized:e,props:f,resolvedFeatures:g,unSanitizedEditorConfig:h});return null===i.sanitizedServerFeatureProps&&(i.sanitizedServerFeatureProps=f),i};else{let a={...d};a.sanitizedServerFeatureProps=f,g.feature=a}return g}},50531:(a,b,c)=>{"use strict";c.d(b,{l:()=>f,u:()=>i});var d=c(11830),e=c(7402);class f{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=f.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(a,b){this.ref=a,this.memberName=b;let c=[],g=a,j=a;for(this._isMemberSchema=!1;h(g);)c.push(g[1]),g=g[0],j=(0,d.L)(g),this._isMemberSchema=!0;if(c.length>0){this.memberTraits={};for(let a=c.length-1;a>=0;--a){let b=c[a];Object.assign(this.memberTraits,(0,e.c)(b))}}else this.memberTraits=0;if(j instanceof f){let a=this.memberTraits;Object.assign(this,j),this.memberTraits=Object.assign({},a,j.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=b??j.memberName;return}if(this.schema=(0,d.L)(j),i(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(j),this.traits=0),this._isMemberSchema&&!b)throw Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](a){let b=this.prototype.isPrototypeOf(a);return b||"object"!=typeof a||null===a?b:a.symbol===this.symbol}static of(a){let b=(0,d.L)(a);if(b instanceof f)return b;if(h(b)){let[c,d]=b;if(c instanceof f)return Object.assign(c.getMergedTraits(),(0,e.c)(d)),c;throw Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(a,null,2)}.`)}return new f(b)}getSchema(){let a=this.schema;return 0===a[0]?a[4]:a}getName(a=!1){let{name:b}=this;return!a&&b&&b.includes("#")?b.split("#")[1]:b||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let a=this.getSchema();return"number"==typeof a?a>=64&&a<128:1===a[0]}isMapSchema(){let a=this.getSchema();return"number"==typeof a?a>=128&&a<=255:2===a[0]}isStructSchema(){let a=this.getSchema();return 3===a[0]||-3===a[0]}isBlobSchema(){let a=this.getSchema();return 21===a||42===a}isTimestampSchema(){let a=this.getSchema();return"number"==typeof a&&a>=4&&a<=7}isUnitSchema(){return"unit"===this.getSchema()}isDocumentSchema(){return 15===this.getSchema()}isStringSchema(){return 0===this.getSchema()}isBooleanSchema(){return 2===this.getSchema()}isNumericSchema(){return 1===this.getSchema()}isBigIntegerSchema(){return 17===this.getSchema()}isBigDecimalSchema(){return 19===this.getSchema()}isStreaming(){let{streaming:a}=this.getMergedTraits();return!!a||42===this.getSchema()}isIdempotencyToken(){let a=a=>(4&a)==4||!!a?.idempotencyToken,{normalizedTraits:b,traits:c,memberTraits:d}=this;return a(b)||a(c)||a(d)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return(0,e.c)(this.memberTraits)}getOwnTraits(){return(0,e.c)(this.traits)}getKeySchema(){let[a,b]=[this.isDocumentSchema(),this.isMapSchema()];if(!a&&!b)throw Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let c=this.getSchema();return g([a?15:c[4]??0,0],"key")}getValueSchema(){let a=this.getSchema(),[b,c,d]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],e="number"==typeof a?63&a:a&&"object"==typeof a&&(c||d)?a[3+a[0]]:b?15:void 0;if(null!=e)return g([e,0],c?"value":"member");throw Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(a){let b=this.getSchema();if(this.isStructSchema()&&b[4].includes(a)){let c=b[4].indexOf(a),d=b[5][c];return g(h(d)?d:[d,0],a)}if(this.isDocumentSchema())return g([15,0],a);throw Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${a}.`)}getMemberSchemas(){let a={};try{for(let[b,c]of this.structIterator())a[b]=c}catch(a){}return a}getEventStreamMember(){if(this.isStructSchema()){for(let[a,b]of this.structIterator())if(b.isStreaming()&&b.isStructSchema())return a}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw Error("@smithy/core/schema - cannot iterate non-struct schema.");let a=this.getSchema();for(let b=0;b<a[4].length;++b)yield[a[4][b],g([a[5][b],0],a[4][b])]}}function g(a,b){return a instanceof f?Object.assign(a,{memberName:b,_isMemberSchema:!0}):new f(a,b)}let h=a=>Array.isArray(a)&&2===a.length,i=a=>Array.isArray(a)&&a.length>=5},50573:(a,b,c)=>{"use strict";c.d(b,{p:()=>h});var d=c(68656),e=c(38200),f=c(8615),g=c(42526);let h=async function({collection:a,locale:b,req:c,where:h}){let i=this.payload.collections[a].config,j=this.tableNameMap.get(`_${e(i.slug)}${this.versionsSuffix}`),k=await (0,g.x)(this,c),l=(0,d.c)(this.payload.config,i,!0),{joins:m,where:o}=(0,f.Z)({adapter:this,fields:l,locale:b,tableName:j,where:h});return{totalDocs:await this.countDistinct({db:k,joins:m,tableName:j,where:o})}}},50579:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{getSortedRouteObjects:function(){return e},getSortedRoutes:function(){return d}});class c{insert(a){this._insert(a.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(a){void 0===a&&(a="/");let b=[...this.children.keys()].sort();null!==this.slugName&&b.splice(b.indexOf("[]"),1),null!==this.restSlugName&&b.splice(b.indexOf("[...]"),1),null!==this.optionalRestSlugName&&b.splice(b.indexOf("[[...]]"),1);let c=b.map(b=>this.children.get(b)._smoosh(""+a+b+"/")).reduce((a,b)=>[...a,...b],[]);if(null!==this.slugName&&c.push(...this.children.get("[]")._smoosh(a+"["+this.slugName+"]/")),!this.placeholder){let b="/"===a?"/":a.slice(0,-1);if(null!=this.optionalRestSlugName)throw Object.defineProperty(Error('You cannot define a route with the same specificity as a optional catch-all route ("'+b+'" and "'+b+"[[..."+this.optionalRestSlugName+']]").'),"__NEXT_ERROR_CODE",{value:"E458",enumerable:!1,configurable:!0});c.unshift(b)}return null!==this.restSlugName&&c.push(...this.children.get("[...]")._smoosh(a+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&c.push(...this.children.get("[[...]]")._smoosh(a+"[[..."+this.optionalRestSlugName+"]]/")),c}_insert(a,b,d){if(0===a.length){this.placeholder=!1;return}if(d)throw Object.defineProperty(Error("Catch-all must be the last part of the URL."),"__NEXT_ERROR_CODE",{value:"E392",enumerable:!1,configurable:!0});let e=a[0];if(e.startsWith("[")&&e.endsWith("]")){let c=e.slice(1,-1),g=!1;if(c.startsWith("[")&&c.endsWith("]")&&(c=c.slice(1,-1),g=!0),c.startsWith("…"))throw Object.defineProperty(Error("Detected a three-dot character ('…') at ('"+c+"'). Did you mean ('...')?"),"__NEXT_ERROR_CODE",{value:"E147",enumerable:!1,configurable:!0});if(c.startsWith("...")&&(c=c.substring(3),d=!0),c.startsWith("[")||c.endsWith("]"))throw Object.defineProperty(Error("Segment names may not start or end with extra brackets ('"+c+"')."),"__NEXT_ERROR_CODE",{value:"E421",enumerable:!1,configurable:!0});if(c.startsWith("."))throw Object.defineProperty(Error("Segment names may not start with erroneous periods ('"+c+"')."),"__NEXT_ERROR_CODE",{value:"E288",enumerable:!1,configurable:!0});function f(a,c){if(null!==a&&a!==c)throw Object.defineProperty(Error("You cannot use different slug names for the same dynamic path ('"+a+"' !== '"+c+"')."),"__NEXT_ERROR_CODE",{value:"E337",enumerable:!1,configurable:!0});b.forEach(a=>{if(a===c)throw Object.defineProperty(Error('You cannot have the same slug name "'+c+'" repeat within a single dynamic path'),"__NEXT_ERROR_CODE",{value:"E247",enumerable:!1,configurable:!0});if(a.replace(/\W/g,"")===e.replace(/\W/g,""))throw Object.defineProperty(Error('You cannot have the slug names "'+a+'" and "'+c+'" differ only by non-word symbols within a single dynamic path'),"__NEXT_ERROR_CODE",{value:"E499",enumerable:!1,configurable:!0})}),b.push(c)}if(d)if(g){if(null!=this.restSlugName)throw Object.defineProperty(Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+a[0]+'" ).'),"__NEXT_ERROR_CODE",{value:"E299",enumerable:!1,configurable:!0});f(this.optionalRestSlugName,c),this.optionalRestSlugName=c,e="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Object.defineProperty(Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+a[0]+'").'),"__NEXT_ERROR_CODE",{value:"E300",enumerable:!1,configurable:!0});f(this.restSlugName,c),this.restSlugName=c,e="[...]"}else{if(g)throw Object.defineProperty(Error('Optional route parameters are not yet supported ("'+a[0]+'").'),"__NEXT_ERROR_CODE",{value:"E435",enumerable:!1,configurable:!0});f(this.slugName,c),this.slugName=c,e="[]"}}this.children.has(e)||this.children.set(e,new c),this.children.get(e)._insert(a.slice(1),b,d)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function d(a){let b=new c;return a.forEach(a=>b.insert(a)),b.smoosh()}function e(a,b){let c={},e=[];for(let d=0;d<a.length;d++){let f=b(a[d]);c[f]=d,e[d]=f}return d(e).map(b=>a[c[b]])}},50643:(a,b,c)=>{"use strict";let d=c(94735),e=c(81630),{Duplex:f}=c(27910),{createHash:g}=c(55511),h=c(35441),i=c(49942),j=c(246),k=c(10103),{GUID:l,kWebSocket:m}=c(99753),o=/^[+/0-9A-Za-z]{22}==$/,p=0,q=1,r=2;class s extends d{constructor(a,b){if(super(),null==(a={allowSynchronousEvents:!0,autoPong:!0,maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:k,...a}).port&&!a.server&&!a.noServer||null!=a.port&&(a.server||a.noServer)||a.server&&a.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=a.port?(this._server=e.createServer((a,b)=>{let c=e.STATUS_CODES[426];b.writeHead(426,{"Content-Length":c.length,"Content-Type":"text/plain"}),b.end(c)}),this._server.listen(a.port,a.host,a.backlog,b)):a.server&&(this._server=a.server),this._server){let a=this.emit.bind(this,"connection");this._removeListeners=t(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(b,c,d)=>{this.handleUpgrade(b,c,d,a)}})}!0===a.perMessageDeflate&&(a.perMessageDeflate={}),a.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=a,this._state=p}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(a){if(this._state===r){a&&this.once("close",()=>{a(Error("The server is not running"))}),process.nextTick(u,this);return}if(a&&this.once("close",a),this._state!==q)if(this._state=q,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(u,this);else{let a=this._server;this._removeListeners(),this._removeListeners=this._server=null,a.close(()=>{u(this)})}}shouldHandle(a){if(this.options.path){let b=a.url.indexOf("?");if((-1!==b?a.url.slice(0,b):a.url)!==this.options.path)return!1}return!0}handleUpgrade(a,b,c,d){b.on("error",v);let e=a.headers["sec-websocket-key"],f=a.headers.upgrade,g=+a.headers["sec-websocket-version"];if("GET"!==a.method)return void x(this,a,b,405,"Invalid HTTP method");if(void 0===f||"websocket"!==f.toLowerCase())return void x(this,a,b,400,"Invalid Upgrade header");if(void 0===e||!o.test(e))return void x(this,a,b,400,"Missing or invalid Sec-WebSocket-Key header");if(13!==g&&8!==g)return void x(this,a,b,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});if(!this.shouldHandle(a))return void w(b,400);let k=a.headers["sec-websocket-protocol"],l=new Set;if(void 0!==k)try{l=j.parse(k)}catch(c){x(this,a,b,400,"Invalid Sec-WebSocket-Protocol header");return}let m=a.headers["sec-websocket-extensions"],p={};if(this.options.perMessageDeflate&&void 0!==m){let c=new i(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let a=h.parse(m);a[i.extensionName]&&(c.accept(a[i.extensionName]),p[i.extensionName]=c)}catch(c){x(this,a,b,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let f={origin:a.headers[`${8===g?"sec-websocket-origin":"origin"}`],secure:!!(a.socket.authorized||a.socket.encrypted),req:a};if(2===this.options.verifyClient.length)return void this.options.verifyClient(f,(f,g,h,i)=>{if(!f)return w(b,g||401,h,i);this.completeUpgrade(p,e,l,a,b,c,d)});if(!this.options.verifyClient(f))return w(b,401)}this.completeUpgrade(p,e,l,a,b,c,d)}completeUpgrade(a,b,c,d,e,f,j){if(!e.readable||!e.writable)return e.destroy();if(e[m])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>p)return w(e,503);let k=g("sha1").update(b+l).digest("base64"),o=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${k}`],q=new this.options.WebSocket(null,void 0,this.options);if(c.size){let a=this.options.handleProtocols?this.options.handleProtocols(c,d):c.values().next().value;a&&(o.push(`Sec-WebSocket-Protocol: ${a}`),q._protocol=a)}if(a[i.extensionName]){let b=a[i.extensionName].params,c=h.format({[i.extensionName]:[b]});o.push(`Sec-WebSocket-Extensions: ${c}`),q._extensions=a}this.emit("headers",o,d),e.write(o.concat("\r\n").join("\r\n")),e.removeListener("error",v),q.setSocket(e,f,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(q),q.on("close",()=>{this.clients.delete(q),this._shouldEmitClose&&!this.clients.size&&process.nextTick(u,this)})),j(q,d)}}function t(a,b){for(let c of Object.keys(b))a.on(c,b[c]);return function(){for(let c of Object.keys(b))a.removeListener(c,b[c])}}function u(a){a._state=r,a.emit("close")}function v(){this.destroy()}function w(a,b,c,d){c=c||e.STATUS_CODES[b],d={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(c),...d},a.once("finish",a.destroy),a.end(`HTTP/1.1 ${b} ${e.STATUS_CODES[b]}\r
`+Object.keys(d).map(a=>`${a}: ${d[a]}`).join("\r\n")+"\r\n\r\n"+c)}function x(a,b,c,d,e,f){if(a.listenerCount("wsClientError")){let d=Error(e);Error.captureStackTrace(d,x),a.emit("wsClientError",d,c,b)}else w(c,d,e,f)}a.exports=s},50695:(a,b,c)=>{"use strict";c.d(b,{Th:()=>f,h1:()=>g});var d=c(37593);class e{static [d.i]="Cache"}class f extends e{strategy(){return"all"}static [d.i]="NoopCache";async get(a){}async put(a,b,c,d){}async onMutate(a){}}async function g(a,b){let c=`${a}-${JSON.stringify(b)}`,d=new TextEncoder().encode(c);return[...new Uint8Array(await crypto.subtle.digest("SHA-256",d))].map(a=>a.toString(16).padStart(2,"0")).join("")}},50788:(a,b,c)=>{"use strict";var d,e=c(83166),f=c(64682),g=c(84642);let h="AWS_S3_DISABLE_MULTIREGION_ACCESS_POINTS",i="s3_disable_multiregion_access_points",j="AWS_S3_USE_ARN_REGION",k="s3_use_arn_region",l={environmentVariableSelector:a=>e.booleanSelector(a,j,e.SelectorType.ENV),configFileSelector:a=>e.booleanSelector(a,k,e.SelectorType.CONFIG),default:void 0},m=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,o=/(\d+\.){3}\d+/,p=/\.\./,q=/\./,r=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,s=/^s3(-external-1)?\.amazonaws\.com$/,t="amazonaws.com",u=a=>"string"==typeof a.bucketName,v=a=>m.test(a)&&!o.test(a)&&!p.test(a),w=a=>{let b=a.match(r);return[b[4],a.replace(RegExp(`^${b[0]}`),"")]},x=a=>s.test(a)?["us-east-1",t]:w(a),y=a=>s.test(a)?[a.replace(`.${t}`,""),t]:w(a),z=a=>{if(a.pathStyleEndpoint)throw Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(a.accelerateEndpoint)throw Error("Accelerate endpoint is not supported when bucket is an ARN");if(!a.tlsCompatible)throw Error("HTTPS is required when bucket is an ARN")},A=a=>{if("s3"!==a&&"s3-outposts"!==a&&"s3-object-lambda"!==a)throw Error("Expect 's3' or 's3-outposts' or 's3-object-lambda' in ARN service component")},B=a=>{if("s3"!==a)throw Error("Expect 's3' in Accesspoint ARN service component")},C=a=>{if("s3-outposts"!==a)throw Error("Expect 's3-posts' in Outpost ARN service component")},D=(a,b)=>{if(a!==b.clientPartition)throw Error(`Partition in ARN is incompatible, got "${a}" but expected "${b.clientPartition}"`)},E=(a,b)=>{},F=a=>{if(["s3-external-1","aws-global"].includes(a))throw Error(`Client region ${a} is not regional`)},G=a=>{if(!/[0-9]{12}/.exec(a))throw Error("Access point ARN accountID does not match regex '[0-9]{12}'")},H=(a,b={tlsCompatible:!0})=>{if(a.length>=64||!/^[a-z0-9][a-z0-9.-]*[a-z0-9]$/.test(a)||/(\d+\.){3}\d+/.test(a)||/[.-]{2}/.test(a)||b?.tlsCompatible&&q.test(a))throw Error(`Invalid DNS label ${a}`)},I=a=>{if(a.isCustomEndpoint){if(a.dualstackEndpoint)throw Error("Dualstack endpoint is not supported with custom endpoint");if(a.accelerateEndpoint)throw Error("Accelerate endpoint is not supported with custom endpoint")}},J=a=>{let b=a.includes(":")?":":"/",[c,...d]=a.split(b);if("accesspoint"===c){if(1!==d.length||""===d[0])throw Error(`Access Point ARN should have one resource accesspoint${b}{accesspointname}`);return{accesspointName:d[0]}}if("outpost"===c){if(!d[0]||"accesspoint"!==d[1]||!d[2]||3!==d.length)throw Error(`Outpost ARN should have resource outpost${b}{outpostId}${b}accesspoint${b}{accesspointName}`);let[a,c,e]=d;return{outpostId:a,accesspointName:e}}throw Error(`ARN resource should begin with 'accesspoint${b}' or 'outpost${b}'`)},K=a=>{},L=a=>{if(a)throw Error("FIPS region is not supported with Outpost.")},M=a=>{try{a.split(".").forEach(a=>{H(a)})}catch(b){throw Error(`"${a}" is not a DNS compatible name.`)}},N=a=>(I(a),u(a)?O(a):P(a)),O=({accelerateEndpoint:a=!1,clientRegion:b,baseHostname:c,bucketName:d,dualstackEndpoint:e=!1,fipsEndpoint:f=!1,pathStyleEndpoint:g=!1,tlsCompatible:h=!0,isCustomEndpoint:i=!1})=>{let[j,k]=i?[b,c]:x(c);return g||!v(d)||h&&q.test(d)?{bucketEndpoint:!1,hostname:e?`s3.dualstack.${j}.${k}`:c}:(a?c=`s3-accelerate${e?".dualstack":""}.${k}`:e&&(c=`s3.dualstack.${j}.${k}`),{bucketEndpoint:!0,hostname:`${d}.${c}`})},P=a=>{let{isCustomEndpoint:b,baseHostname:c,clientRegion:d}=a,e=b?c:y(c)[1],{pathStyleEndpoint:f,accelerateEndpoint:g=!1,fipsEndpoint:h=!1,tlsCompatible:i=!0,bucketName:j,clientPartition:k="aws"}=a;z({pathStyleEndpoint:f,accelerateEndpoint:g,tlsCompatible:i});let{service:l,partition:m,accountId:o,region:p,resource:q}=j;A(l),D(m,{clientPartition:k}),G(o);let{accesspointName:r,outpostId:s}=J(q);return"s3-object-lambda"===l?Q({...a,tlsCompatible:i,bucketName:j,accesspointName:r,hostnameSuffix:e}):""===p?R({...a,mrapAlias:r,hostnameSuffix:e}):s?S({...a,clientRegion:d,outpostId:s,accesspointName:r,hostnameSuffix:e}):T({...a,clientRegion:d,accesspointName:r,hostnameSuffix:e})},Q=({dualstackEndpoint:a=!1,fipsEndpoint:b=!1,tlsCompatible:c=!0,useArnRegion:d,clientRegion:e,clientSigningRegion:f=e,accesspointName:g,bucketName:h,hostnameSuffix:i})=>{let{accountId:j,region:k,service:l}=h;F(e);let m=`${g}-${j}`;H(m,{tlsCompatible:c});let o=d?k:e;return{bucketEndpoint:!0,hostname:`${m}.${l}${b?"-fips":""}.${o}.${i}`,signingRegion:d?k:f,signingService:l}},R=({disableMultiregionAccessPoints:a,dualstackEndpoint:b=!1,isCustomEndpoint:c,mrapAlias:d,hostnameSuffix:e})=>{if(!0===a)throw Error("SDK is attempting to use a MRAP ARN. Please enable to feature.");return M(d),{bucketEndpoint:!0,hostname:`${d}${c?"":".accesspoint.s3-global"}.${e}`,signingRegion:"*"}},S=({useArnRegion:a,clientRegion:b,clientSigningRegion:c=b,bucketName:d,outpostId:e,dualstackEndpoint:f=!1,fipsEndpoint:g=!1,tlsCompatible:h=!0,accesspointName:i,isCustomEndpoint:j,hostnameSuffix:k})=>{F(b);let l=`${i}-${d.accountId}`;H(l,{tlsCompatible:h});let m=a?d.region:b,o=a?d.region:c;C(d.service),H(e,{tlsCompatible:h}),L(g);let p=`${l}.${e}`;return{bucketEndpoint:!0,hostname:`${p}${j?"":`.s3-outposts.${m}`}.${k}`,signingRegion:o,signingService:"s3-outposts"}},T=({useArnRegion:a,clientRegion:b,clientSigningRegion:c=b,bucketName:d,dualstackEndpoint:e=!1,fipsEndpoint:f=!1,tlsCompatible:g=!0,accesspointName:h,isCustomEndpoint:i,hostnameSuffix:j})=>{F(b);let k=`${h}-${d.accountId}`;H(k,{tlsCompatible:g});let l=a?d.region:b,m=a?d.region:c;return B(d.service),{bucketEndpoint:!0,hostname:`${k}${i?"":`.s3-accesspoint${f?"-fips":""}${e?".dualstack":""}.${l}`}.${j}`,signingRegion:m}},U=a=>(b,c)=>async d=>{let{Bucket:e}=d.input,h=a.bucketEndpoint,i=d.request;if(g.HttpRequest.isInstance(i)){if(a.bucketEndpoint)i.hostname=e;else if(f.validate(e)){let b=f.parse(e),d=await a.region(),g=await a.useDualstackEndpoint(),j=await a.useFipsEndpoint(),{partition:k,signingRegion:l=d}=await a.regionInfoProvider(d,{useDualstackEndpoint:g,useFipsEndpoint:j})||{},m=await a.useArnRegion(),{hostname:o,bucketEndpoint:p,signingRegion:q,signingService:r}=N({bucketName:b,baseHostname:i.hostname,accelerateEndpoint:a.useAccelerateEndpoint,dualstackEndpoint:g,fipsEndpoint:j,pathStyleEndpoint:a.forcePathStyle,tlsCompatible:"https:"===i.protocol,useArnRegion:m,clientPartition:k,clientSigningRegion:l,clientRegion:d,isCustomEndpoint:a.isCustomEndpoint,disableMultiregionAccessPoints:await a.disableMultiregionAccessPoints()});q&&q!==l&&(c.signing_region=q),r&&"s3"!==r&&(c.signing_service=r),i.hostname=o,h=p}else{let b=await a.region(),c=await a.useDualstackEndpoint(),d=await a.useFipsEndpoint(),{hostname:f,bucketEndpoint:g}=N({bucketName:e,clientRegion:b,baseHostname:i.hostname,accelerateEndpoint:a.useAccelerateEndpoint,dualstackEndpoint:c,fipsEndpoint:d,pathStyleEndpoint:a.forcePathStyle,tlsCompatible:"https:"===i.protocol,isCustomEndpoint:a.isCustomEndpoint});i.hostname=f,h=g}h&&(i.path=i.path.replace(/^(\/)?[^\/]+/,""),""===i.path&&(i.path="/"))}return b({...d,request:i})},V={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},W=a=>({applyToStack:b=>{b.addRelativeTo(U(a),V)}});function X(a){let{bucketEndpoint:b=!1,forcePathStyle:c=!1,useAccelerateEndpoint:d=!1,useArnRegion:e,disableMultiregionAccessPoints:f=!1}=a;return Object.assign(a,{bucketEndpoint:b,forcePathStyle:c,useAccelerateEndpoint:d,useArnRegion:"function"==typeof e?e:()=>Promise.resolve(e),disableMultiregionAccessPoints:"function"==typeof f?f:()=>Promise.resolve(f)})}d={environmentVariableSelector:a=>e.booleanSelector(a,h,e.SelectorType.ENV),configFileSelector:a=>e.booleanSelector(a,i,e.SelectorType.CONFIG),default:!1},d=h,d=i,b.KU=l,d=j,d=k,d=U,d=V,d=N,d=J,d=W,d=y,d=X,d=G,d=H,d=K,d=L,d=C,d=D,d=E},50848:(a,b,c)=>{"use strict";c.d(b,{PK:()=>g,U_:()=>f});var d=c(71540);function e(a,b){return"sqlite"===a.name?(0,d.ll)`coalesce(json_group_array(${b}), '[]')`:(0,d.ll)`coalesce(json_agg(${b}), '[]'::json)`}function f(a,b){let c=[];return(Object.entries(b).forEach(([a,b])=>{c.length>0&&c.push(d.ll.raw(",")),c.push(d.ll.raw(`'${a}',`)),c.push((0,d.ll)`${b}`)}),"sqlite"===a.name)?(0,d.ll)`json_object(${d.ll.join(c)})`:(0,d.ll)`json_build_object(${d.ll.join(c)})`}let g=(a,b)=>e(a,f(a,b))},50889:(a,b,c)=>{"use strict";let d,e,f=c(34589),{pipeline:g}=c(57075),h=c(33895),{RequestContentLengthMismatchError:i,RequestAbortedError:j,SocketError:k,InformationalError:l}=c(212),{kUrl:m,kReset:o,kClient:p,kRunning:q,kPending:r,kQueue:s,kPendingIdx:t,kRunningIdx:u,kError:v,kSocket:w,kStrictContentLength:x,kOnError:y,kMaxConcurrentStreams:z,kHTTP2Session:A,kResume:B,kSize:C,kHTTPContext:D,kClosed:E,kBodyTimeout:F}=c(25394),{channels:G}=c(20471),H=Symbol("open streams");try{e=c(32467)}catch{e={constants:{}}}let{constants:{HTTP2_HEADER_AUTHORITY:I,HTTP2_HEADER_METHOD:J,HTTP2_HEADER_PATH:K,HTTP2_HEADER_SCHEME:L,HTTP2_HEADER_CONTENT_LENGTH:M,HTTP2_HEADER_EXPECT:N,HTTP2_HEADER_STATUS:O}}=e;function P(a){let b=[];for(let[c,d]of Object.entries(a))if(Array.isArray(d))for(let a of d)b.push(Buffer.from(c),Buffer.from(a));else b.push(Buffer.from(c),Buffer.from(d));return b}function Q(a){let b=a[w];b?.destroyed===!1&&(0===a[C]||0===a[z]?(b.unref(),a[A].unref()):(b.ref(),a[A].ref()))}function R(a){f("ERR_TLS_CERT_ALTNAME_INVALID"!==a.code),this[w][v]=a,this[p][y](a)}function S(a,b,c){if(0===c){let c=new l(`HTTP/2: "frameError" received - type ${a}, code ${b}`);this[w][v]=c,this[p][y](c)}}function T(){let a=new k("other side closed",h.getSocketInfo(this[w]));this.destroy(a),h.destroy(this[w],a)}function U(a){let b=this[v]||new k(`HTTP/2: "GOAWAY" frame received with code ${a}`,h.getSocketInfo(this[w])),c=this[p];if(c[w]=null,c[D]=null,this.close(),this[A]=null,h.destroy(this[w],b),c[u]<c[s].length){let a=c[s][c[u]];c[s][c[u]++]=null,h.errorRequest(c,a,b),c[t]=c[u]}f(0===c[q]),c.emit("disconnect",c[m],[c],b),c.emit("connectionError",c[m],[c],b),c[B]()}function V(){let{[p]:a}=this,{[w]:b}=a,c=this[w][v]||this[v]||new k("closed",h.getSocketInfo(b));if(a[w]=null,a[D]=null,a.destroyed){f(0===a[r]);let b=a[s].splice(a[u]);for(let d=0;d<b.length;d++){let e=b[d];h.errorRequest(a,e,c)}}}function W(){let a=this[v]||new k("closed",h.getSocketInfo(this)),b=this[A][p];b[w]=null,b[D]=null,null!==this[A]&&this[A].destroy(a),b[t]=b[u],f(0===b[q]),b.emit("disconnect",b[m],[b],a),b[B]()}function X(a){f("ERR_TLS_CERT_ALTNAME_INVALID"!==a.code),this[v]=a,this[p][y](a)}function Y(){h.destroy(this,new k("other side closed",h.getSocketInfo(this)))}function Z(){this[E]=!0}function $(a){return"GET"!==a&&"HEAD"!==a&&"OPTIONS"!==a&&"TRACE"!==a&&"CONNECT"!==a}function _(a,b){let e=b.bodyTimeout??a[F],g=a[A],{method:k,path:o,host:p,upgrade:q,expectContinue:r,signal:v,headers:z}=b,{body:C}=b;if(q)return h.errorRequest(a,b,Error("Upgrade not supported for H2")),!1;let D={};for(let a=0;a<z.length;a+=2){let b=z[a+0],c=z[a+1];if(Array.isArray(c))for(let a=0;a<c.length;a++)D[b]?D[b]+=`, ${c[a]}`:D[b]=c[a];else D[b]?D[b]+=`, ${c}`:D[b]=c}let E=null,{hostname:Q,port:R}=a[m];D[I]=p||`${Q}${R?`:${R}`:""}`,D[J]=k;let S=c=>{b.aborted||b.completed||(c=c||new j,h.errorRequest(a,b,c),null!=E&&(E.removeAllListeners("data"),E.close(),a[y](c),a[B]()),h.destroy(C,c))};try{b.onConnect(S)}catch(c){h.errorRequest(a,b,c)}if(b.aborted)return!1;if("CONNECT"===k)return g.ref(),(E=g.request(D,{endStream:!1,signal:v})).pending?E.once("ready",()=>{b.onUpgrade(null,null,E),++g[H],a[s][a[u]++]=null}):(b.onUpgrade(null,null,E),++g[H],a[s][a[u]++]=null),E.once("close",()=>{g[H]-=1,0===g[H]&&g.unref()}),E.setTimeout(e),!0;D[K]=o,D[L]="https";let T="PUT"===k||"POST"===k||"PATCH"===k;C&&"function"==typeof C.read&&C.read(0);let U=h.bodyLength(C);if(h.isFormDataLike(C)){let[a,b]=(d??=c(41069).extractBody)(C);D["content-type"]=b,C=a.stream,U=a.length}if(null==U&&(U=b.contentLength),0!==U&&T||(U=null),$(k)&&U>0&&null!=b.contentLength&&b.contentLength!==U){if(a[x])return h.errorRequest(a,b,new i),!1;process.emitWarning(new i)}if(null!=U&&(f(C,"no body must not have content length"),D[M]=`${U}`),g.ref(),G.sendHeaders.hasSubscribers){let a="";for(let b in D)a+=`${b}: ${D[b]}\r
`;G.sendHeaders.publish({request:b,headers:a,socket:g[w]})}let V="GET"===k||"HEAD"===k||null===C;return r?(D[N]="100-continue",(E=g.request(D,{endStream:V,signal:v})).once("continue",W)):(E=g.request(D,{endStream:V,signal:v}),W()),++g[H],E.setTimeout(e),E.once("response",a=>{let{[O]:c,...d}=a;if(b.onResponseStarted(),b.aborted)return void E.removeAllListeners("data");!1===b.onHeaders(Number(c),P(d),E.resume.bind(E),"")&&E.pause()}),E.on("data",a=>{!1===b.onData(a)&&E.pause()}),E.once("end",c=>{E.removeAllListeners("data"),E.state?.state==null||E.state.state<6?(b.aborted||b.completed||b.onComplete({}),a[s][a[u]++]=null):(--g[H],0===g[H]&&g.unref(),S(c??new l("HTTP/2: stream half-closed (remote)")),a[s][a[u]++]=null,a[t]=a[u]),a[B]()}),E.once("close",()=>{E.removeAllListeners("data"),g[H]-=1,0===g[H]&&g.unref()}),E.once("error",function(a){E.removeAllListeners("data"),S(a)}),E.once("frameError",(a,b)=>{E.removeAllListeners("data"),S(new l(`HTTP/2: "frameError" received - type ${a}, code ${b}`))}),E.on("aborted",()=>{E.removeAllListeners("data")}),E.on("timeout",()=>{let a=new l(`HTTP/2: "stream timeout after ${e}"`);E.removeAllListeners("data"),g[H]-=1,0===g[H]&&g.unref(),S(a)}),E.once("trailers",a=>{b.aborted||b.completed||b.onComplete(a)}),!0;function W(){C&&0!==U?h.isBuffer(C)?aa(S,E,C,a,b,a[w],U,T):h.isBlobLike(C)?"function"==typeof C.stream?ad(S,E,C.stream(),a,b,a[w],U,T):ac(S,E,C,a,b,a[w],U,T):h.isStream(C)?ab(S,a[w],T,E,C,a,b,U):h.isIterable(C)?ad(S,E,C,a,b,a[w],U,T):f(!1):aa(S,E,null,a,b,a[w],U,T)}}function aa(a,b,c,d,e,g,i,j){try{null!=c&&h.isBuffer(c)&&(f(i===c.byteLength,"buffer body must have content length"),b.cork(),b.write(c),b.uncork(),b.end(),e.onBodySent(c)),j||(g[o]=!0),e.onRequestSent(),d[B]()}catch(b){a(b)}}function ab(a,b,c,d,e,i,j,k){f(0!==k||0===i[q],"stream body cannot be pipelined");let l=g(e,d,d=>{d?(h.destroy(l,d),a(d)):(h.removeAllListeners(l),j.onRequestSent(),c||(b[o]=!0),i[B]())});function m(a){j.onBodySent(a)}h.addListener(l,"data",m)}async function ac(a,b,c,d,e,g,h,j){f(h===c.size,"blob body must have content length");try{if(null!=h&&h!==c.size)throw new i;let a=Buffer.from(await c.arrayBuffer());b.cork(),b.write(a),b.uncork(),b.end(),e.onBodySent(a),e.onRequestSent(),j||(g[o]=!0),d[B]()}catch(b){a(b)}}async function ad(a,b,c,d,e,g,h,i){f(0!==h||0===d[q],"iterator body cannot be pipelined");let j=null;function k(){if(j){let a=j;j=null,a()}}let l=()=>new Promise((a,b)=>{f(null===j),g[v]?b(g[v]):j=a});b.on("close",k).on("drain",k);try{for await(let a of c){if(g[v])throw g[v];let c=b.write(a);e.onBodySent(a),c||await l()}b.end(),e.onRequestSent(),i||(g[o]=!0),d[B]()}catch(b){a(b)}finally{b.off("close",k).off("drain",k)}}a.exports=async function(a,b){a[w]=b;let c=e.connect(a[m],{createConnection:()=>b,peerMaxConcurrentStreams:a[z],settings:{enablePush:!1}});return c[H]=0,c[p]=a,c[w]=b,c[A]=null,h.addListener(c,"error",R),h.addListener(c,"frameError",S),h.addListener(c,"end",T),h.addListener(c,"goaway",U),h.addListener(c,"close",V),c.unref(),a[A]=c,b[A]=c,h.addListener(b,"error",X),h.addListener(b,"end",Y),h.addListener(b,"close",W),b[E]=!1,b.on("close",Z),{version:"h2",defaultPipelining:1/0,write:b=>_(a,b),resume(){Q(a)},destroy(a,c){b[E]?queueMicrotask(c):b.destroy(a).on("close",c)},get destroyed(){return b.destroyed},busy:()=>!1}}},50956:(a,b,c)=>{"use strict";c.d(b,{N:()=>O});var d=c(37593),e=c(89656),f=c(23192),g=c(71540),h=c(22212),i=c(27685);class j{static [d.i]="SelectionProxyHandler";config;constructor(a){this.config={...a}}get(a,b){if("_"===b)return{...a._,selectedFields:new Proxy(a._.selectedFields,this)};if(b===i.n)return{...a[i.n],selectedFields:new Proxy(a[i.n].selectedFields,this)};if("symbol"==typeof b)return a[b];let c=((0,d.is)(a,h.n)?a._.selectedFields:(0,d.is)(a,g.Ss)?a[i.n].selectedFields:a)[b];if((0,d.is)(c,g.Xs.Aliased)){if("sql"===this.config.sqlAliasedBehavior&&!c.isSelectionField)return c.sql;let a=c.clone();return a.isSelectionField=!0,a}if((0,d.is)(c,g.Xs)){if("sql"===this.config.sqlBehavior)return c;throw Error(`You tried to reference "${b}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return(0,d.is)(c,f.V)?this.config.alias?new Proxy(c,new e.Ht(new Proxy(c.table,new e.h_(this.config.alias,this.config.replaceOriginalName??!1)))):c:"object"!=typeof c||null===c?c:new Proxy(c,new j(this.config))}}var k=c(22712);class l{static [d.i]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}var m=c(30204),o=c(56704),p=c(39773),q=c(94441);function r(a){return(0,d.is)(a,q.jo)?[`${a[o.XI.Symbol.BaseName]}`]:(0,d.is)(a,h.n)?a._.usedTables??[]:(0,d.is)(a,g.Xs)?a.usedTables??[]:[]}var s=c(29090);class t{static [d.i]="SQLiteSelectBuilder";fields;session;dialect;withList;distinct;constructor(a){this.fields=a.fields,this.session=a.session,this.dialect=a.dialect,this.withList=a.withList,this.distinct=a.distinct}from(a){let b,c=!!this.fields;return b=this.fields?this.fields:(0,d.is)(a,h.n)?Object.fromEntries(Object.keys(a._.selectedFields).map(b=>[b,a[b]])):(0,d.is)(a,s.V)?a[i.n].selectedFields:(0,d.is)(a,g.Xs)?{}:(0,p.YD)(a),new v({table:a,fields:b,isPartialSelect:c,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct})}}class u extends l{static [d.i]="SQLiteSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:a,fields:b,isPartialSelect:c,session:d,dialect:e,withList:f,distinct:g}){for(let h of(super(),this.config={withList:f,table:a,fields:{...b},distinct:g,setOperators:[]},this.isPartialSelect=c,this.session=d,this.dialect=e,this._={selectedFields:b,config:this.config},this.tableName=(0,p.zN)(a),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{},r(a)))this.usedTables.add(h)}getUsedTables(){return[...this.usedTables]}createJoin(a){return(b,c)=>{let e=this.tableName,f=(0,p.zN)(b);for(let a of r(b))this.usedTables.add(a);if("string"==typeof f&&this.config.joins?.some(a=>a.alias===f))throw Error(`Alias "${f}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof e&&(this.config.fields={[e]:this.config.fields}),"string"==typeof f&&!(0,d.is)(b,g.Xs))){let a=(0,d.is)(b,h.n)?b._.selectedFields:(0,d.is)(b,g.Ss)?b[i.n].selectedFields:b[o.XI.Symbol.Columns];this.config.fields[f]=a}if("function"==typeof c&&(c=c(new Proxy(this.config.fields,new j({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:c,table:b,joinType:a,alias:f}),"string"==typeof f)switch(a){case"left":this.joinsNotNullableMap[f]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[f]=!0;break;case"cross":case"inner":this.joinsNotNullableMap[f]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[f]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");crossJoin=this.createJoin("cross");createSetOperator(a,b){return c=>{let d="function"==typeof c?c(x()):c;if(!(0,p.DV)(this.getSelectedFields(),d.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:a,isAll:b,rightSelect:d}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);except=this.createSetOperator("except",!1);addSetOperators(a){return this.config.setOperators.push(...a),this}where(a){return"function"==typeof a&&(a=a(new Proxy(this.config.fields,new j({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=a,this}having(a){return"function"==typeof a&&(a=a(new Proxy(this.config.fields,new j({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=a,this}groupBy(...a){if("function"==typeof a[0]){let b=a[0](new Proxy(this.config.fields,new j({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(b)?b:[b]}else this.config.groupBy=a;return this}orderBy(...a){if("function"==typeof a[0]){let b=a[0](new Proxy(this.config.fields,new j({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),c=Array.isArray(b)?b:[b];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=c:this.config.orderBy=c}else{let b=a;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=b:this.config.orderBy=b}return this}limit(a){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=a:this.config.limit=a,this}offset(a){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=a:this.config.offset=a,this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:a,...b}=this.dialect.sqlToQuery(this.getSQL());return b}as(a){let b=[];if(b.push(...r(this.config.table)),this.config.joins)for(let a of this.config.joins)b.push(...r(a.table));return new Proxy(new h.n(this.getSQL(),this.config.fields,a,!1,[...new Set(b)]),new j({alias:a,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new j({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}class v extends u{static [d.i]="SQLiteSelect";_prepare(a=!0){if(!this.session)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");let b=(0,p.He)(this.config.fields),c=this.session[a?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),b,"all",!0,void 0,{type:"select",tables:[...this.usedTables]},this.cacheConfig);return c.joinsNotNullableMap=this.joinsNotNullableMap,c}$withCache(a){return this.cacheConfig=void 0===a?{config:{},enable:!0,autoInvalidate:!0}:!1===a?{enable:!1}:{enable:!0,autoInvalidate:!0,...a},this}prepare(){return this._prepare(!1)}run=a=>this._prepare().run(a);all=a=>this._prepare().all(a);get=a=>this._prepare().get(a);values=a=>this._prepare().values(a);async execute(){return this.all()}}function w(a,b){return(c,d,...e)=>{let f=[d,...e].map(c=>({type:a,isAll:b,rightSelect:c}));for(let a of f)if(!(0,p.DV)(c.getSelectedFields(),a.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return c.addSetOperators(f)}}(0,p.XJ)(v,[m.k]);let x=()=>({union:y,unionAll:z,intersect:A,except:B}),y=w("union",!1),z=w("union",!0),A=w("intersect",!1),B=w("except",!1);class C{static [d.i]="SQLiteQueryBuilder";dialect;dialectConfig;constructor(a){this.dialect=(0,d.is)(a,k.vV)?a:void 0,this.dialectConfig=(0,d.is)(a,k.vV)?void 0:a}$with=(a,b)=>{let c=this;return{as:d=>("function"==typeof d&&(d=d(c)),new Proxy(new h.J(d.getSQL(),b??("getSelectedFields"in d?d.getSelectedFields()??{}:{}),a,!0),new j({alias:a,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...a){let b=this;return{select:function(c){return new t({fields:c??void 0,session:void 0,dialect:b.getDialect(),withList:a})},selectDistinct:function(c){return new t({fields:c??void 0,session:void 0,dialect:b.getDialect(),withList:a,distinct:!0})}}}select(a){return new t({fields:a??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(a){return new t({fields:a??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}getDialect(){return this.dialect||(this.dialect=new k._K(this.dialectConfig)),this.dialect}}class D{constructor(a,b,c,d){this.table=a,this.session=b,this.dialect=c,this.withList=d}static [d.i]="SQLiteUpdateBuilder";set(a){return new E(this.table,(0,p.q)(this.table,a),this.session,this.dialect,this.withList)}}class E extends m.k{constructor(a,b,c,d,e){super(),this.session=c,this.dialect=d,this.config={set:b,table:a,withList:e,joins:[]}}static [d.i]="SQLiteUpdate";config;from(a){return this.config.from=a,this}createJoin(a){return(b,c)=>{let e=(0,p.zN)(b);if("string"==typeof e&&this.config.joins.some(a=>a.alias===e))throw Error(`Alias "${e}" is already used in this query`);if("function"==typeof c){let a=this.config.from?(0,d.is)(b,q.jo)?b[o.XI.Symbol.Columns]:(0,d.is)(b,h.n)?b._.selectedFields:(0,d.is)(b,s.V)?b[i.n].selectedFields:void 0:void 0;c=c(new Proxy(this.config.table[o.XI.Symbol.Columns],new j({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),a&&new Proxy(a,new j({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}return this.config.joins.push({on:c,table:b,joinType:a,alias:e}),this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(a){return this.config.where=a,this}orderBy(...a){if("function"==typeof a[0]){let b=a[0](new Proxy(this.config.table[o.XI.Symbol.Columns],new j({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),c=Array.isArray(b)?b:[b];this.config.orderBy=c}else{let b=a;this.config.orderBy=b}return this}limit(a){return this.config.limit=a,this}returning(a=this.config.table[q.jo.Symbol.Columns]){return this.config.returning=(0,p.He)(a),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:a,...b}=this.dialect.sqlToQuery(this.getSQL());return b}_prepare(a=!0){return this.session[a?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:r(this.config.table)})}prepare(){return this._prepare(!1)}run=a=>this._prepare().run(a);all=a=>this._prepare().all(a);get=a=>this._prepare().get(a);values=a=>this._prepare().values(a);async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}class F{constructor(a,b,c,d){this.table=a,this.session=b,this.dialect=c,this.withList=d}static [d.i]="SQLiteInsertBuilder";values(a){if(0===(a=Array.isArray(a)?a:[a]).length)throw Error("values() must be called with at least one value");let b=a.map(a=>{let b={},c=this.table[o.XI.Symbol.Columns];for(let e of Object.keys(a)){let f=a[e];b[e]=(0,d.is)(f,g.Xs)?f:new g.Iw(f,c[e])}return b});return new G(this.table,b,this.session,this.dialect,this.withList)}select(a){let b="function"==typeof a?a(new C):a;if(!(0,d.is)(b,g.Xs)&&!(0,p.DV)(this.table[o.e],b._.selectedFields))throw Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new G(this.table,b,this.session,this.dialect,this.withList,!0)}}class G extends m.k{constructor(a,b,c,d,e,f){super(),this.session=c,this.dialect=d,this.config={table:a,values:b,withList:e,select:f}}static [d.i]="SQLiteInsert";config;returning(a=this.config.table[q.jo.Symbol.Columns]){return this.config.returning=(0,p.He)(a),this}onConflictDoNothing(a={}){if(this.config.onConflict||(this.config.onConflict=[]),void 0===a.target)this.config.onConflict.push((0,g.ll)` on conflict do nothing`);else{let b=Array.isArray(a.target)?(0,g.ll)`${a.target}`:(0,g.ll)`${[a.target]}`,c=a.where?(0,g.ll)` where ${a.where}`:(0,g.ll)``;this.config.onConflict.push((0,g.ll)` on conflict ${b} do nothing${c}`)}return this}onConflictDoUpdate(a){if(a.where&&(a.targetWhere||a.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');this.config.onConflict||(this.config.onConflict=[]);let b=a.where?(0,g.ll)` where ${a.where}`:void 0,c=a.targetWhere?(0,g.ll)` where ${a.targetWhere}`:void 0,d=a.setWhere?(0,g.ll)` where ${a.setWhere}`:void 0,e=Array.isArray(a.target)?(0,g.ll)`${a.target}`:(0,g.ll)`${[a.target]}`,f=this.dialect.buildUpdateSet(this.config.table,(0,p.q)(this.config.table,a.set));return this.config.onConflict.push((0,g.ll)` on conflict ${e}${c} do update set ${f}${b}${d}`),this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:a,...b}=this.dialect.sqlToQuery(this.getSQL());return b}_prepare(a=!0){return this.session[a?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:r(this.config.table)})}prepare(){return this._prepare(!1)}run=a=>this._prepare().run(a);all=a=>this._prepare().all(a);get=a=>this._prepare().get(a);values=a=>this._prepare().values(a);async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}class H extends m.k{constructor(a,b,c,d){super(),this.table=a,this.session=b,this.dialect=c,this.config={table:a,withList:d}}static [d.i]="SQLiteDelete";config;where(a){return this.config.where=a,this}orderBy(...a){if("function"==typeof a[0]){let b=a[0](new Proxy(this.config.table[o.XI.Symbol.Columns],new j({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),c=Array.isArray(b)?b:[b];this.config.orderBy=c}else{let b=a;this.config.orderBy=b}return this}limit(a){return this.config.limit=a,this}returning(a=this.table[q.jo.Symbol.Columns]){return this.config.returning=(0,p.He)(a),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:a,...b}=this.dialect.sqlToQuery(this.getSQL());return b}_prepare(a=!0){return this.session[a?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"delete",tables:r(this.config.table)})}prepare(){return this._prepare(!1)}run=a=>this._prepare().run(a);all=a=>this._prepare().all(a);get=a=>this._prepare().get(a);values=a=>this._prepare().values(a);async execute(a){return this._prepare().execute(a)}$dynamic(){return this}}class I extends g.Xs{constructor(a){super(I.buildEmbeddedCount(a.source,a.filters).queryChunks),this.params=a,this.session=a.session,this.sql=I.buildCount(a.source,a.filters)}sql;static [d.i]="SQLiteCountBuilderAsync";[Symbol.toStringTag]="SQLiteCountBuilderAsync";session;static buildEmbeddedCount(a,b){return(0,g.ll)`(select count(*) from ${a}${g.ll.raw(" where ").if(b)}${b})`}static buildCount(a,b){return(0,g.ll)`select count(*) from ${a}${g.ll.raw(" where ").if(b)}${b}`}then(a,b){return Promise.resolve(this.session.count(this.sql)).then(a,b)}catch(a){return this.then(void 0,a)}finally(a){return this.then(b=>(a?.(),b),b=>{throw a?.(),b})}}var J=c(60302);class K{constructor(a,b,c,d,e,f,g,h){this.mode=a,this.fullSchema=b,this.schema=c,this.tableNamesMap=d,this.table=e,this.tableConfig=f,this.dialect=g,this.session=h}static [d.i]="SQLiteAsyncRelationalQueryBuilder";findMany(a){return"sync"===this.mode?new M(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,a||{},"many"):new L(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,a||{},"many")}findFirst(a){return"sync"===this.mode?new M(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,a?{...a,limit:1}:{limit:1},"first"):new L(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,a?{...a,limit:1}:{limit:1},"first")}}class L extends m.k{constructor(a,b,c,d,e,f,g,h,i){super(),this.fullSchema=a,this.schema=b,this.tableNamesMap=c,this.table=d,this.tableConfig=e,this.dialect=f,this.session=g,this.config=h,this.mode=i}static [d.i]="SQLiteAsyncRelationalQuery";mode;getSQL(){return this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}).sql}_prepare(a=!1){let{query:b,builtQuery:c}=this._toSQL();return this.session[a?"prepareOneTimeQuery":"prepareQuery"](c,void 0,"first"===this.mode?"get":"all",!0,(a,c)=>{let d=a.map(a=>(0,J.I$)(this.schema,this.tableConfig,a,b.selection,c));return"first"===this.mode?d[0]:d})}prepare(){return this._prepare(!1)}_toSQL(){let a=this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}),b=this.dialect.sqlToQuery(a.sql);return{query:a,builtQuery:b}}toSQL(){return this._toSQL().builtQuery}executeRaw(){return"first"===this.mode?this._prepare(!1).get():this._prepare(!1).all()}async execute(){return this.executeRaw()}}class M extends L{static [d.i]="SQLiteSyncRelationalQuery";sync(){return this.executeRaw()}}class N extends m.k{constructor(a,b,c,d,e){super(),this.execute=a,this.getSQL=b,this.dialect=d,this.mapBatchResult=e,this.config={action:c}}static [d.i]="SQLiteRaw";config;getQuery(){return{...this.dialect.sqlToQuery(this.getSQL()),method:this.config.action}}mapResult(a,b){return b?this.mapBatchResult(a):a}_prepare(){return this}isResponseInArrayMode(){return!1}}class O{constructor(a,b,c,d){this.resultKind=a,this.dialect=b,this.session=c,this._=d?{schema:d.schema,fullSchema:d.fullSchema,tableNamesMap:d.tableNamesMap}:{schema:void 0,fullSchema:{},tableNamesMap:{}},this.query={};let e=this.query;if(this._.schema)for(let[f,g]of Object.entries(this._.schema))e[f]=new K(a,d.fullSchema,this._.schema,this._.tableNamesMap,d.fullSchema[f],g,b,c);this.$cache={invalidate:async a=>{}}}static [d.i]="BaseSQLiteDatabase";query;$with=(a,b)=>{let c=this;return{as:d=>("function"==typeof d&&(d=d(new C(c.dialect))),new Proxy(new h.J(d.getSQL(),b??("getSelectedFields"in d?d.getSelectedFields()??{}:{}),a,!0),new j({alias:a,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(a,b){return new I({source:a,filters:b,session:this.session})}with(...a){let b=this;return{select:function(c){return new t({fields:c??void 0,session:b.session,dialect:b.dialect,withList:a})},selectDistinct:function(c){return new t({fields:c??void 0,session:b.session,dialect:b.dialect,withList:a,distinct:!0})},update:function(c){return new D(c,b.session,b.dialect,a)},insert:function(c){return new F(c,b.session,b.dialect,a)},delete:function(c){return new H(c,b.session,b.dialect,a)}}}select(a){return new t({fields:a??void 0,session:this.session,dialect:this.dialect})}selectDistinct(a){return new t({fields:a??void 0,session:this.session,dialect:this.dialect,distinct:!0})}update(a){return new D(a,this.session,this.dialect)}$cache;insert(a){return new F(a,this.session,this.dialect)}delete(a){return new H(a,this.session,this.dialect)}run(a){let b="string"==typeof a?g.ll.raw(a):a.getSQL();return"async"===this.resultKind?new N(async()=>this.session.run(b),()=>b,"run",this.dialect,this.session.extractRawRunValueFromBatchResult.bind(this.session)):this.session.run(b)}all(a){let b="string"==typeof a?g.ll.raw(a):a.getSQL();return"async"===this.resultKind?new N(async()=>this.session.all(b),()=>b,"all",this.dialect,this.session.extractRawAllValueFromBatchResult.bind(this.session)):this.session.all(b)}get(a){let b="string"==typeof a?g.ll.raw(a):a.getSQL();return"async"===this.resultKind?new N(async()=>this.session.get(b),()=>b,"get",this.dialect,this.session.extractRawGetValueFromBatchResult.bind(this.session)):this.session.get(b)}values(a){let b="string"==typeof a?g.ll.raw(a):a.getSQL();return"async"===this.resultKind?new N(async()=>this.session.values(b),()=>b,"values",this.dialect,this.session.extractRawValuesValueFromBatchResult.bind(this.session)):this.session.values(b)}transaction(a,b){return this.session.transaction(a,b)}}},51114:(a,b,c)=>{"use strict";c.d(b,{m:()=>e});var d=c(18099);let e=(a,b)=>{if(!a&&!b)return{};let c=a?[a]:[];return(0,d.L)(b)&&c.push(b),{and:c}}},51126:(a,b,c)=>{"use strict";c.d(b,{Q:()=>d});let d="."},51429:(a,b,c)=>{"use strict";c.d(b,{ET:()=>k,Gr:()=>m,JW:()=>z,Mo:()=>B,OZ:()=>u,S7:()=>l,Su:()=>F,UO:()=>w,V0:()=>E,Xk:()=>r,Y0:()=>q,Yy:()=>i,Zx:()=>C,ak:()=>e,bC:()=>h,lK:()=>s,r$:()=>f,tN:()=>t,tW:()=>I,vF:()=>K,vH:()=>j,vi:()=>v,xW:()=>G,yG:()=>d,zY:()=>A,zi:()=>H});let d=a=>{switch(a){case"true":return!0;case"false":return!1;default:throw Error(`Unable to parse boolean value "${a}"`)}},e=a=>{if(null!=a){if("number"==typeof a){if((0===a||1===a)&&K.warn(J(`Expected boolean, got ${typeof a}: ${a}`)),0===a)return!1;if(1===a)return!0}if("string"==typeof a){let b=a.toLowerCase();if(("false"===b||"true"===b)&&K.warn(J(`Expected boolean, got ${typeof a}: ${a}`)),"false"===b)return!1;if("true"===b)return!0}if("boolean"==typeof a)return a;throw TypeError(`Expected boolean, got ${typeof a}: ${a}`)}},f=a=>{if(null!=a){if("string"==typeof a){let b=parseFloat(a);if(!Number.isNaN(b))return String(b)!==String(a)&&K.warn(J(`Expected number but observed string: ${a}`)),b}if("number"==typeof a)return a;throw TypeError(`Expected number, got ${typeof a}: ${a}`)}},g=Math.ceil(17014118346046923e22*(2-11920928955078125e-23)),h=a=>{let b=f(a);if(void 0!==b&&!Number.isNaN(b)&&b!==1/0&&b!==-1/0&&Math.abs(b)>g)throw TypeError(`Expected 32-bit float, got ${a}`);return b},i=a=>{if(null!=a){if(Number.isInteger(a)&&!Number.isNaN(a))return a;throw TypeError(`Expected integer, got ${typeof a}: ${a}`)}},j=i,k=a=>o(a,32),l=a=>o(a,16),m=a=>o(a,8),o=(a,b)=>{let c=i(a);if(void 0!==c&&p(c,b)!==c)throw TypeError(`Expected ${b}-bit integer, got ${a}`);return c},p=(a,b)=>{switch(b){case 32:return Int32Array.of(a)[0];case 16:return Int16Array.of(a)[0];case 8:return Int8Array.of(a)[0]}},q=(a,b)=>{if(null==a){if(b)throw TypeError(`Expected a non-null value for ${b}`);throw TypeError("Expected a non-null value")}return a},r=a=>{if(null==a)return;if("object"==typeof a&&!Array.isArray(a))return a;let b=Array.isArray(a)?"array":typeof a;throw TypeError(`Expected object, got ${b}: ${a}`)},s=a=>{if(null!=a){if("string"==typeof a)return a;if(["boolean","number","bigint"].includes(typeof a))return K.warn(J(`Expected string, got ${typeof a}: ${a}`)),String(a);throw TypeError(`Expected string, got ${typeof a}: ${a}`)}},t=a=>{if(null==a)return;let b=r(a),c=Object.entries(b).filter(([,a])=>null!=a).map(([a])=>a);if(0===c.length)throw TypeError("Unions must have exactly one non-null member. None were found.");if(c.length>1)throw TypeError(`Unions must have exactly one non-null member. Keys ${c} were not null.`);return b},u=a=>"string"==typeof a?f(y(a)):f(a),v=u,w=a=>"string"==typeof a?h(y(a)):h(a),x=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,y=a=>{let b=a.match(x);if(null===b||b[0].length!==a.length)throw TypeError("Expected real number, got implicit NaN");return parseFloat(a)},z=a=>"string"==typeof a?D(a):f(a),A=z,B=z,C=a=>"string"==typeof a?D(a):h(a),D=a=>{switch(a){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw Error(`Unable to parse float value: ${a}`)}},E=a=>"string"==typeof a?i(y(a)):i(a),F=E,G=a=>"string"==typeof a?k(y(a)):k(a),H=a=>"string"==typeof a?l(y(a)):l(a),I=a=>"string"==typeof a?m(y(a)):m(a),J=a=>String(TypeError(a).stack||a).split("\n").slice(0,5).filter(a=>!a.includes("stackTraceWarning")).join("\n"),K={warn:console.warn}},51448:(a,b,c)=>{"use strict";let d=c(34589);class e{#bP=!1;#bQ;#a;#bR;#bS;constructor(a,b,c){if("function"!=typeof a)throw TypeError("callback must be a function");this.#bQ=a,this.#a=b,this.#bS=c}onRequestStart(a,b){this.#bP=!1,this.#bR=b}onRequestUpgrade(a,b,c,d){this.#a.onRequestUpgrade?.(a,b,c,d)}onResponseStart(a,b,c,e){if(d(null!=this.#bQ),this.#bP=304===b||this.#bS&&b>=500&&b<=504,this.#bQ(this.#bP,this.#bR),this.#bQ=null,this.#bP)return!0;this.#a.onRequestStart?.(a,this.#bR),this.#a.onResponseStart?.(a,b,c,e)}onResponseData(a,b){if(!this.#bP)return this.#a.onResponseData?.(a,b)}onResponseEnd(a,b){this.#bP||this.#a.onResponseEnd?.(a,b)}onResponseError(a,b){if(!this.#bP)if(this.#bQ&&(this.#bQ(!1),this.#bQ=null),"function"==typeof this.#a.onResponseError)this.#a.onResponseError(a,b);else throw b}}a.exports=e},51564:a=>{"use strict";var b=a.exports=function(a,b,d){"function"==typeof b&&(d=b,b={});var e="function"==typeof(d=b.cb||d)?d:d.pre||function(){};c(b,e,d.post||function(){},a,"",a)};function c(a,e,f,g,h,i,j,k,l,m){if(g&&"object"==typeof g&&!Array.isArray(g)){for(var o in e(g,h,i,j,k,l,m),g){var p=g[o];if(Array.isArray(p)){if(o in b.arrayKeywords)for(var q=0;q<p.length;q++)c(a,e,f,p[q],h+"/"+o+"/"+q,i,h,o,g,q)}else if(o in b.propsKeywords){if(p&&"object"==typeof p)for(var r in p)c(a,e,f,p[r],h+"/"+o+"/"+d(r),i,h,o,g,r)}else(o in b.keywords||a.allKeys&&!(o in b.skipKeywords))&&c(a,e,f,p,h+"/"+o,i,h,o,g)}f(g,h,i,j,k,l,m)}}function d(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}b.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},b.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},b.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},b.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},51581:(a,b,c)=>{"use strict";a.exports=k;let{messageWithCauses:d,stackWithCauses:e,isErrorLike:f}=c(63693),{pinoErrProto:g,pinoErrorSymbols:h}=c(78654),{seen:i}=h,{toString:j}=Object.prototype;function k(a){if(!f(a))return a;a[i]=void 0;let b=Object.create(g);for(let c in b.type="[object Function]"===j.call(a.constructor)?a.constructor.name:a.name,b.message=d(a),b.stack=e(a),Array.isArray(a.errors)&&(b.aggregateErrors=a.errors.map(a=>k(a))),a)if(void 0===b[c]){let d=a[c];f(d)?"cause"===c||Object.prototype.hasOwnProperty.call(d,i)||(b[c]=k(d)):b[c]=d}return delete a[i],b.raw=a,b}},51636:(a,b,c)=>{"use strict";c.d(b,{Q:()=>d});let d=(a,b,c)=>{if(b in a){if("true"===a[b])return!0;if("false"===a[b])return!1;throw Error(`Cannot load ${c} "${b}". Expected "true" or "false", got ${a[b]}.`)}}},51787:a=>{"use strict";let b="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",c={enumerable:!0,writable:!1,configurable:!1},d={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},e={SENT:1,RECEIVED:2},f={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},g=65535,h={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4};a.exports={uid:b,sentCloseFrameState:e,staticPropertyDescriptors:c,states:d,opcodes:f,maxUnsigned16Bit:g,parserStates:h,emptyBuffer:Buffer.allocUnsafe(0),sendHints:{text:1,typedArray:2,arrayBuffer:3,blob:4}}},52032:(a,b,c)=>{var d="function"==typeof Map&&Map.prototype,e=Object.getOwnPropertyDescriptor&&d?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,f=d&&e&&"function"==typeof e.get?e.get:null,g=d&&Map.prototype.forEach,h="function"==typeof Set&&Set.prototype,i=Object.getOwnPropertyDescriptor&&h?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,j=h&&i&&"function"==typeof i.get?i.get:null,k=h&&Set.prototype.forEach,l="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,m="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,o="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,q=Object.prototype.toString,r=Function.prototype.toString,s=String.prototype.match,t=String.prototype.slice,u=String.prototype.replace,v=String.prototype.toUpperCase,w=String.prototype.toLowerCase,x=RegExp.prototype.test,y=Array.prototype.concat,z=Array.prototype.join,A=Array.prototype.slice,B=Math.floor,C="function"==typeof BigInt?BigInt.prototype.valueOf:null,D=Object.getOwnPropertySymbols,E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,F="function"==typeof Symbol&&"object"==typeof Symbol.iterator,G="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===F?"object":"symbol")?Symbol.toStringTag:null,H=Object.prototype.propertyIsEnumerable,I=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(a){return a.__proto__}:null);function J(a,b){if(a===1/0||a===-1/0||a!=a||a&&a>-1e3&&a<1e3||x.call(/e/,b))return b;var c=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof a){var d=a<0?-B(-a):B(a);if(d!==a){var e=String(d),f=t.call(b,e.length+1);return u.call(e,c,"$&_")+"."+u.call(u.call(f,/([0-9]{3})/g,"$&_"),/_$/,"")}}return u.call(b,c,"$&_")}var K=c(57860),L=K.custom,M=Z(L)?L:null,N={__proto__:null,double:'"',single:"'"},O={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function P(a,b,c){var d=N[c.quoteStyle||b];return d+a+d}function Q(a){return u.call(String(a),/"/g,"&quot;")}function R(a){return!G||!("object"==typeof a&&(G in a||void 0!==a[G]))}function S(a){return"[object Array]"===ab(a)&&R(a)}function T(a){return"[object Date]"===ab(a)&&R(a)}function U(a){return"[object RegExp]"===ab(a)&&R(a)}function V(a){return"[object Error]"===ab(a)&&R(a)}function W(a){return"[object String]"===ab(a)&&R(a)}function X(a){return"[object Number]"===ab(a)&&R(a)}function Y(a){return"[object Boolean]"===ab(a)&&R(a)}function Z(a){if(F)return a&&"object"==typeof a&&a instanceof Symbol;if("symbol"==typeof a)return!0;if(!a||"object"!=typeof a||!E)return!1;try{return E.call(a),!0}catch(a){}return!1}function $(a){if(!a||"object"!=typeof a||!C)return!1;try{return C.call(a),!0}catch(a){}return!1}a.exports=function a(b,c,d,e){var h=c||{};if(aa(h,"quoteStyle")&&!aa(N,h.quoteStyle))throw TypeError('option "quoteStyle" must be "single" or "double"');if(aa(h,"maxStringLength")&&("number"==typeof h.maxStringLength?h.maxStringLength<0&&h.maxStringLength!==1/0:null!==h.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var i=!aa(h,"customInspect")||h.customInspect;if("boolean"!=typeof i&&"symbol"!==i)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(aa(h,"indent")&&null!==h.indent&&"	"!==h.indent&&!(parseInt(h.indent,10)===h.indent&&h.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(aa(h,"numericSeparator")&&"boolean"!=typeof h.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=h.numericSeparator;if(void 0===b)return"undefined";if(null===b)return"null";if("boolean"==typeof b)return b?"true":"false";if("string"==typeof b)return ak(b,h);if("number"==typeof b){if(0===b)return 1/0/b>0?"0":"-0";var m=String(b);return l?J(b,m):m}if("bigint"==typeof b){var o=String(b)+"n";return l?J(b,o):o}var q=void 0===h.depth?5:h.depth;if(void 0===d&&(d=0),d>=q&&q>0&&"object"==typeof b)return S(b)?"[Array]":"[Object]";var r=aq(h,d);if(void 0===e)e=[];else if(ad(e,b)>=0)return"[Circular]";function s(b,c,f){if(c&&(e=A.call(e)).push(c),f){var g={depth:h.depth};return aa(h,"quoteStyle")&&(g.quoteStyle=h.quoteStyle),a(b,g,d+1,e)}return a(b,h,d+1,e)}if("function"==typeof b&&!U(b)){var v=ac(b),x=as(b,s);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(x.length>0?" { "+z.call(x,", ")+" }":"")}if(Z(b)){var B=F?u.call(String(b),/^(Symbol\(.*\))_[^)]*$/,"$1"):E.call(b);return"object"!=typeof b||F?B:am(B)}if(aj(b)){for(var D="<"+w.call(String(b.nodeName)),L=b.attributes||[],O=0;O<L.length;O++)D+=" "+L[O].name+"="+P(Q(L[O].value),"double",h);return D+=">",b.childNodes&&b.childNodes.length&&(D+="..."),D+="</"+w.call(String(b.nodeName))+">"}if(S(b)){if(0===b.length)return"[]";var R=as(b,s);return r&&!ap(R)?"["+ar(R,r)+"]":"[ "+z.call(R,", ")+" ]"}if(V(b)){var _=as(b,s);return"cause"in Error.prototype||!("cause"in b)||H.call(b,"cause")?0===_.length?"["+String(b)+"]":"{ ["+String(b)+"] "+z.call(_,", ")+" }":"{ ["+String(b)+"] "+z.call(y.call("[cause]: "+s(b.cause),_),", ")+" }"}if("object"==typeof b&&i){if(M&&"function"==typeof b[M]&&K)return K(b,{depth:q-d});else if("symbol"!==i&&"function"==typeof b.inspect)return b.inspect()}if(ae(b)){var al=[];return g&&g.call(b,function(a,c){al.push(s(c,b,!0)+" => "+s(a,b))}),ao("Map",f.call(b),al,r)}if(ah(b)){var at=[];return k&&k.call(b,function(a){at.push(s(a,b))}),ao("Set",j.call(b),at,r)}if(af(b))return an("WeakMap");if(ai(b))return an("WeakSet");if(ag(b))return an("WeakRef");if(X(b))return am(s(Number(b)));if($(b))return am(s(C.call(b)));if(Y(b))return am(p.call(b));if(W(b))return am(s(String(b)));if("undefined"!=typeof window&&b===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&b===globalThis||"undefined"!=typeof global&&b===global)return"{ [object globalThis] }";if(!T(b)&&!U(b)){var au=as(b,s),av=I?I(b)===Object.prototype:b instanceof Object||b.constructor===Object,aw=b instanceof Object?"":"null prototype",ax=!av&&G&&Object(b)===b&&G in b?t.call(ab(b),8,-1):aw?"Object":"",ay=(av||"function"!=typeof b.constructor?"":b.constructor.name?b.constructor.name+" ":"")+(ax||aw?"["+z.call(y.call([],ax||[],aw||[]),": ")+"] ":"");return 0===au.length?ay+"{}":r?ay+"{"+ar(au,r)+"}":ay+"{ "+z.call(au,", ")+" }"}return String(b)};var _=Object.prototype.hasOwnProperty||function(a){return a in this};function aa(a,b){return _.call(a,b)}function ab(a){return q.call(a)}function ac(a){if(a.name)return a.name;var b=s.call(r.call(a),/^function\s*([\w$]+)/);return b?b[1]:null}function ad(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return -1}function ae(a){if(!f||!a||"object"!=typeof a)return!1;try{f.call(a);try{j.call(a)}catch(a){return!0}return a instanceof Map}catch(a){}return!1}function af(a){if(!l||!a||"object"!=typeof a)return!1;try{l.call(a,l);try{m.call(a,m)}catch(a){return!0}return a instanceof WeakMap}catch(a){}return!1}function ag(a){if(!o||!a||"object"!=typeof a)return!1;try{return o.call(a),!0}catch(a){}return!1}function ah(a){if(!j||!a||"object"!=typeof a)return!1;try{j.call(a);try{f.call(a)}catch(a){return!0}return a instanceof Set}catch(a){}return!1}function ai(a){if(!m||!a||"object"!=typeof a)return!1;try{m.call(a,m);try{l.call(a,l)}catch(a){return!0}return a instanceof WeakSet}catch(a){}return!1}function aj(a){return!!a&&"object"==typeof a&&(!!("undefined"!=typeof HTMLElement&&a instanceof HTMLElement)||"string"==typeof a.nodeName&&"function"==typeof a.getAttribute)}function ak(a,b){if(a.length>b.maxStringLength){var c=a.length-b.maxStringLength,d="... "+c+" more character"+(c>1?"s":"");return ak(t.call(a,0,b.maxStringLength),b)+d}var e=O[b.quoteStyle||"single"];return e.lastIndex=0,P(u.call(u.call(a,e,"\\$1"),/[\x00-\x1f]/g,al),"single",b)}function al(a){var b=a.charCodeAt(0),c={8:"b",9:"t",10:"n",12:"f",13:"r"}[b];return c?"\\"+c:"\\x"+(b<16?"0":"")+v.call(b.toString(16))}function am(a){return"Object("+a+")"}function an(a){return a+" { ? }"}function ao(a,b,c,d){return a+" ("+b+") {"+(d?ar(c,d):z.call(c,", "))+"}"}function ap(a){for(var b=0;b<a.length;b++)if(ad(a[b],"\n")>=0)return!1;return!0}function aq(a,b){var c;if("	"===a.indent)c="	";else{if("number"!=typeof a.indent||!(a.indent>0))return null;c=z.call(Array(a.indent+1)," ")}return{base:c,prev:z.call(Array(b+1),c)}}function ar(a,b){if(0===a.length)return"";var c="\n"+b.prev+b.base;return c+z.call(a,","+c)+"\n"+b.prev}function as(a,b){var c,d=S(a),e=[];if(d){e.length=a.length;for(var f=0;f<a.length;f++)e[f]=aa(a,f)?b(a[f],a):""}var g="function"==typeof D?D(a):[];if(F){c={};for(var h=0;h<g.length;h++)c["$"+g[h]]=g[h]}for(var i in a)if(aa(a,i)&&(!d||String(Number(i))!==i||!(i<a.length)))if(F&&c["$"+i]instanceof Symbol)continue;else x.call(/[^\w$]/,i)?e.push(b(i,a)+": "+b(a[i],a)):e.push(i+": "+b(a[i],a));if("function"==typeof D)for(var j=0;j<g.length;j++)H.call(a,g[j])&&e.push("["+b(g[j])+"]: "+b(a[g[j]],a));return e}},52263:(a,b,c)=>{"use strict";c.d(b,{R:()=>k});var d=c(25083),e=c(51114),f=c(71292),g=c(87747),h=c(43982),i=c(53216),j=c(87641);let k=async a=>{let b=a;try{let a,c;if(b.collection.config.hooks?.beforeOperation?.length)for(let a of b.collection.config.hooks.beforeOperation)b=await a({args:b,collection:b.collection.config,context:b.req.context,operation:"count",req:b.req})||b;let{collection:{config:i},disableErrors:k,overrideAccess:l,req:m,trash:o=!1,where:p}=b,{payload:q}=m;if(!l&&(a=await (0,d.m)({disableErrors:k,req:m},i.access.read),!1===a))return{totalDocs:0};let r=(0,e.m)(p,a);return(0,g.D)({fields:i.flattenedFields,payload:q,where:r}),r=(0,h.v)({enableTrash:i.trash,trash:o,where:r}),await (0,f.d)({collectionConfig:i,overrideAccess:l,req:m,where:p}),c=await q.db.count({collection:i.slug,req:m,where:r}),c=await (0,j.E)({args:b,collection:i,operation:"count",result:c})}catch(a){throw await (0,i.J)(b.req),a}}},52385:(a,b,c)=>{"use strict";function d(a,b){return null!=a&&Object.prototype.hasOwnProperty.call(a,b)}c.d(b,{J:()=>f});let e=["Cell","Description","Field","Filter"];function f({addToImportMap:a,baseDir:b,config:c,fields:g,importMap:h,imports:i}){for(let j of g){if("fields"in j)f({addToImportMap:a,baseDir:b,config:c,fields:j.fields,importMap:h,imports:i});else if("blocks"===j.type)f({addToImportMap:a,baseDir:b,config:c,fields:j.blocks.filter(a=>"string"!=typeof a),importMap:h,imports:i});else if("tabs"===j.type)f({addToImportMap:a,baseDir:b,config:c,fields:j.tabs,importMap:h,imports:i});else if("richText"===j.type)j?.editor&&"object"==typeof j.editor&&j.editor.generateImportMap&&"function"==typeof j.editor.generateImportMap&&j.editor.generateImportMap({addToImportMap:a,baseDir:b,config:c,importMap:h,imports:i});else if("ui"===j.type&&j?.admin?.components)for(let b in j.admin.components)b in e||a(j.admin.components[b]);d(j?.admin,"jsx")&&a(j.admin.jsx),d(j?.admin?.components,"Label")&&a(j.admin.components.Label),d(j?.admin?.components,"Block")&&a(j.admin.components.Block),d(j?.admin?.components,"Cell")&&a(j?.admin?.components?.Cell),d(j?.admin?.components,"Description")&&a(j?.admin?.components?.Description),d(j?.admin?.components,"Field")&&a(j?.admin?.components?.Field),d(j?.admin?.components,"Filter")&&a(j?.admin?.components?.Filter),d(j?.admin?.components,"Error")&&a(j?.admin?.components?.Error),d(j?.admin?.components,"afterInput")&&a(j?.admin?.components?.afterInput),d(j?.admin?.components,"beforeInput")&&a(j?.admin?.components?.beforeInput),d(j?.admin?.components,"RowLabel")&&a(j?.admin?.components?.RowLabel),d(j?.admin?.components,"Diff")&&a(j?.admin?.components?.Diff)}}},52401:(a,b,c)=>{"use strict";c.d(b,{N:()=>f});let d=({isRoot:a,operator:b,pathSegments:c,table:d,treatAsArray:e,value:g})=>{let h=c.slice(1),i=`${c[+!a]}_alias_${h.length}`;return`EXISTS (
    SELECT 1
    FROM json_each(${d}.${c[0]}) AS ${i}
    WHERE ${f({operator:b,pathSegments:h,table:i,treatAsArray:e,value:g})}
  )`},e=({alias:a,operator:b,pathSegments:c,value:d})=>{let e=`${c[0]}_alias_${c.length-1}`;if("exists"===b&&!1===d?(b="not_exists",d=!0):"not_exists"===b&&!1===d&&(b="exists",d=!0),"exists"===b)return 1===c.length?`EXISTS (SELECT 1 FROM json_each("${c[0]}") AS ${e})`:`EXISTS (
      SELECT 1
      FROM json_each(${a}.value -> '${c[0]}') AS ${e}
      WHERE ${e}.key = '${c[1]}'
    )`;if("not_exists"===b)return 1===c.length?`NOT EXISTS (SELECT 1 FROM json_each("${c[0]}") AS ${e})`:`NOT EXISTS (
      SELECT 1
      FROM json_each(${a}.value -> '${c[0]}') AS ${e}
      WHERE ${e}.key = '${c[1]}'
    )`;let f=d,g=b;return(["contains","like"].includes(b)?(g="like",f=`%${d}%`):["not_like","notlike"].includes(b)?(g="not like",f=`%${d}%`):"equals"===b&&(g="="),1===c.length)?`EXISTS (SELECT 1 FROM json_each("${c[0]}") AS ${e} WHERE ${e}.value ${g} '${f}')`:`EXISTS (
  SELECT 1
  FROM json_each(${a}.value -> '${c[0]}') AS ${e}
  WHERE COALESCE(${e}.value ->> '${c[1]}', '') ${g} '${f}'
  )`},f=({column:a,operator:b,pathSegments:c,rawColumn:g,table:h,treatAsArray:i,treatRootAsArray:j,value:k})=>{if(("in"===b||"not_in"===b)&&Array.isArray(k)){let d="";for(let[e,l]of k.entries())d=`${d}${f({column:a,operator:"in"===b?"equals":"not_equals",pathSegments:c,rawColumn:g,table:h,treatAsArray:i,treatRootAsArray:j,value:l})} ${e===k.length-1?"":` ${"in"===b?"OR":"AND"} `}`;return d}return i?.includes(c[1])&&h?d({operator:b,pathSegments:c,table:h,treatAsArray:i,value:k}):e({alias:h,operator:b,pathSegments:c,treatAsArray:i,value:k})}},52522:(a,b,c)=>{"use strict";c.d(b,{r:()=>d});let d=async(a,b)=>{let{relationTo:c}=b,d=Array.isArray(c)?c:[c],e={};return void 0!==a&&await Promise.all(d.map(async c=>{e[c]="function"==typeof a?await a({...b,relationTo:c}):a,!0===e[c]&&(e[c]={}),!1===e[c]&&(e[c]={id:{exists:!1}})})),e}},52578:(a,b)=>{"use strict";function c(a){return a.startsWith("/")?a:"/"+a}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"ensureLeadingSlash",{enumerable:!0,get:function(){return c}})},52691:(a,b,c)=>{"use strict";c.d(b,{h:()=>f});var d=c(29021),e=c(33873);function f(a){let b=process.cwd(),c=e.resolve(b,"src/migrations"),f=e.resolve(b,"dist/migrations"),g=e.resolve(b,"migrations");return a||(d.existsSync(c)?c:d.existsSync(f)?f:d.existsSync(g)?g:c)}},52732:(a,b,c)=>{"use strict";c.d(b,{x:()=>k});var d=c(3120),e=c(89807),f=c(31288),g=c(90947),h=c(29869),i=c(13490);let j={ar:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"قريبًا",autoGenerate:"توليد تلقائي",bestPractices:"أفضل الممارسات",characterCount:"{{current}}/{{minLength}}-{{maxLength}} أحرف، ",charactersLeftOver:"{{characters}} متبقية",charactersToGo:"{{characters}} للمضي قدمًا",charactersTooMany:"{{characters}} أكثر من اللازم",checksPassing:"{{current}}/{{max}} التحقق تم بنجاح",good:"جيد",imageAutoGenerationTip:"سيقوم التوليد التلقائي باسترجاع الصورة الرئيسية المحددة.",lengthTipDescription:"يجب أن يتراوح هذا بين {{minLength}} و{{maxLength}} حرفًا. للحصول على مساعدة في كتابة أوصاف ميتا ذات جودة، راجع ",lengthTipTitle:"يجب أن يتراوح هذا بين {{minLength}} و{{maxLength}} حرفًا. للحصول على مساعدة في كتابة عناوين ميتا ذات جودة، راجع ",missing:"مفقود",noImage:"لا توجد صورة",preview:"معاينة",previewDescription:"قد تختلف النتائج الدقيقة بناءً على المحتوى وملاءمة البحث.",tooLong:"طويل جدًا",tooShort:"قصير جدًا"}},az:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Demək olar ki, \xe7atdıq",autoGenerate:"Avtomatik yaradılacaq",bestPractices:"ən yaxşı təcr\xfcbələr",characterCount:"{{current}}/{{minLength}}-{{maxLength}} simvol, ",charactersLeftOver:"{{characters}} qalan",charactersToGo:"{{characters}} qalan",charactersTooMany:"{{characters}} \xe7ox",checksPassing:"{{current}}/{{max}} yoxlamalar uğurla ke\xe7di",good:"Yaxşı",imageAutoGenerationTip:"Avtomatik yaradılma se\xe7ilən başlıq şəkilini əldə edəcək.",lengthTipDescription:"Bu, {{minLength}} ilə {{maxLength}} simvol arasında olmalıdır. Keyfiyyətli meta təsvirləri yazmaq \xfc\xe7\xfcn k\xf6mək \xfc\xe7\xfcn baxın ",lengthTipTitle:"Bu, {{minLength}} ilə {{maxLength}} simvol arasında olmalıdır. Keyfiyyətli meta başlıqları yazmaq \xfc\xe7\xfcn k\xf6mək \xfc\xe7\xfcn baxın ",missing:"Yoxdur",noImage:"Şəkil yoxdur",preview:"\xd6nizləmə",previewDescription:"Dəqiq nəticələr, məzmun və axtarış uyğunluğuna g\xf6rə dəyişə bilər.",tooLong:"\xc7ox uzun",tooShort:"\xc7ox qısa"}},bg:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Почти стигнахме",autoGenerate:"Автоматично генериране",bestPractices:"най-добри практики",characterCount:"{{current}}/{{minLength}}-{{maxLength}} знака, ",charactersLeftOver:"{{characters}} оставащи",charactersToGo:"{{characters}} за въвеждане",charactersTooMany:"{{characters}} твърде много",checksPassing:"{{current}}/{{max}} проверки преминали успешно",good:"Добре",imageAutoGenerationTip:"Автоматичното генериране ще извлече избраното основно изображение.",lengthTipDescription:"Това трябва да бъде между {{minLength}} и {{maxLength}} знака. За помощ при писането на качествени мета описания, вижте ",lengthTipTitle:"Това трябва да бъде между {{minLength}} и {{maxLength}} знака. За помощ при писането на качествени мета заглавия, вижте ",missing:"Липсва",noImage:"Няма изображение",preview:"Предварителен преглед",previewDescription:"Точните резултати може да варират в зависимост от съдържанието и релевантността на търсенето.",tooLong:"Твърде дълго",tooShort:"Твърде късо"}},ca:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Quasi hi som",autoGenerate:"Generar autom\xe0ticament",bestPractices:"bones pr\xe0ctiques",characterCount:"{{current}}/{{minLength}}-{{maxLength}} car\xe0cters, ",charactersLeftOver:"{{characters}} restants",charactersToGo:"{{characters}} per escriure",charactersTooMany:"{{characters}} massa",checksPassing:"{{current}}/{{max}} comprovacions aprovades",good:"B\xe9",imageAutoGenerationTip:"La generaci\xf3 autom\xe0tica recuperar\xe0 la imatge destacada seleccionada.",lengthTipDescription:"Aix\xf2 hauria de ser entre {{minLength}} i {{maxLength}} car\xe0cters. Per obtenir ajuda per escriure descripcions meta de qualitat, consulta ",lengthTipTitle:"Aix\xf2 hauria de ser entre {{minLength}} i {{maxLength}} car\xe0cters. Per obtenir ajuda per escriure t\xedtols meta de qualitat, consulta ",missing:"Falta",noImage:"Sense imatge",preview:"Previsualitzaci\xf3",previewDescription:"Els resultats exactes poden variar segons el contingut i la rellev\xe0ncia de la cerca.",tooLong:"Massa llarg",tooShort:"Massa curt"}},cs:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Skoro hotovo",autoGenerate:"Generovat automaticky",bestPractices:"osvědčen\xe9 postupy",characterCount:"{{current}}/{{minLength}}-{{maxLength}} znaků, ",charactersLeftOver:"{{characters}} zb\xfdv\xe1",charactersToGo:"{{characters}} zb\xfdv\xe1",charactersTooMany:"{{characters}} nav\xedc",checksPassing:"{{current}}/{{max}} kontrol \xfaspěšně splněno",good:"Dobr\xe9",imageAutoGenerationTip:"Automatick\xe1 generace načte vybran\xfd hero obr\xe1zek.",lengthTipDescription:"Toto by mělo m\xedt mezi {{minLength}} a {{maxLength}} znaky. Pomoc při psan\xed kvalitn\xedch meta popisů navštivte ",lengthTipTitle:"Toto by mělo m\xedt mezi {{minLength}} a {{maxLength}} znaky. Pomoc při psan\xed kvalitn\xedch meta titulů navštivte ",missing:"Chyb\xed",noImage:"Bez obr\xe1zku",preview:"N\xe1hled",previewDescription:"Přesn\xfd v\xfdsledek se může lišit v z\xe1vislosti na obsahu a relevanci vyhled\xe1v\xe1n\xed.",tooLong:"Př\xedliš dlouh\xe9",tooShort:"Př\xedliš kr\xe1tk\xe9"}},da:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"N\xe6sten der",autoGenerate:"Automatisk generering",bestPractices:"bedste praksis",characterCount:"{{current}}/{{minLength}}-{{maxLength}} tegn, ",charactersLeftOver:"{{characters}} tilbage",charactersToGo:"{{characters}} tilbage at skrive",charactersTooMany:"{{characters}} for mange",checksPassing:"{{current}}/{{max}} kontroller er best\xe5et",good:"God",imageAutoGenerationTip:"Automatisk generering vil hente det valgte hero-billede.",lengthTipDescription:"Dette b\xf8r v\xe6re mellem {{minLength}} og {{maxLength}} tegn. For hj\xe6lp til at skrive kvalitetsmeta-beskrivelser, se ",lengthTipTitle:"Dette b\xf8r v\xe6re mellem {{minLength}} og {{maxLength}} tegn. For hj\xe6lp til at skrive kvalitetsmeta-titler, se ",missing:"Manglende",noImage:"Ingen billede",preview:"Forh\xe5ndsvisning",previewDescription:"De pr\xe6cise resultater kan variere afh\xe6ngigt af indhold og s\xf8ge relevans.",tooLong:"For lang",tooShort:"For kort"}},de:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Fast da",autoGenerate:"Automatisch generieren",bestPractices:"Best Practices",characterCount:"{{current}}/{{minLength}}-{{maxLength}} Zeichen, ",charactersLeftOver:"{{characters}} verbleiben",charactersToGo:"{{characters}} \xfcbrig",charactersTooMany:"{{characters}} zu viel",checksPassing:"{{current}}/{{max}} Kontrollen erfolgreich",good:"Gut",imageAutoGenerationTip:"Die automatische Generierung ruft das ausgew\xe4hlte Hauptbild ab.",lengthTipDescription:"Diese sollte zwischen {{minLength}} und {{maxLength}} Zeichen lang sein. F\xfcr Hilfe beim Schreiben von qualitativ hochwertigen Meta-Beschreibungen siehe ",lengthTipTitle:"Dieser sollte zwischen {{minLength}} und {{maxLength}} Zeichen lang sein. F\xfcr Hilfe beim Schreiben von qualitativ hochwertigen Meta-Titeln siehe ",missing:"Fehlt",noImage:"Kein Bild",preview:"Vorschau",previewDescription:"Die genauen Ergebnislisten k\xf6nnen je nach Inhalt und Suchrelevanz variieren.",tooLong:"Zu lang",tooShort:"Zu kurz"}},en:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Almost there",autoGenerate:"Auto-generate",bestPractices:"best practices",characterCount:"{{current}}/{{minLength}}-{{maxLength}} chars, ",charactersLeftOver:"{{characters}} left over",charactersToGo:"{{characters}} to go",charactersTooMany:"{{characters}} too many",checksPassing:"{{current}}/{{max}} checks are passing",good:"Good",imageAutoGenerationTip:"Auto-generation will retrieve the selected hero image.",lengthTipDescription:"This should be between {{minLength}} and {{maxLength}} characters. For help in writing quality meta descriptions, see ",lengthTipTitle:"This should be between {{minLength}} and {{maxLength}} characters. For help in writing quality meta titles, see ",missing:"Missing",noImage:"No image",preview:"Preview",previewDescription:"Exact result listings may vary based on content and search relevancy.",tooLong:"Too long",tooShort:"Too short"}},es:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Ya casi est\xe1",autoGenerate:"Generar autom\xe1ticamente",bestPractices:"Mejores pr\xe1cticas",characterCount:"{{current}}/{{minLength}}-{{maxLength}} caracteres, ",charactersLeftOver:"{{characters}} restantes",charactersToGo:"{{characters}} por completar",charactersTooMany:"{{characters}} de m\xe1s",checksPassing:"{{current}}/{{max}} comprobaciones correctas",good:"Bien",imageAutoGenerationTip:"La generaci\xf3n autom\xe1tica recuperar\xe1 la imagen de h\xe9roe seleccionada",lengthTipDescription:"Debe tener entre {{minLength}} y {{maxLength}} caracteres. Para obtener ayuda sobre c\xf3mo escribir meta descripciones de calidad, consulte ",lengthTipTitle:"Debe tener entre {{minLength}} y {{maxLength}} caracteres. Para obtener ayuda sobre c\xf3mo escribir meta t\xedtulos de calidad, consulte ",missing:"Faltante",noImage:"Sin imagen",preview:"Vista previa",previewDescription:"Las resultados exactos pueden variar en funci\xf3n del contenido y la relevancia de la b\xfasqueda.",tooLong:"Demasiado largo",tooShort:"Demasiado corto"}},et:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Peaaegu kohal",autoGenerate:"Automaatne genereerimine",bestPractices:"parimad tavad",characterCount:"{{current}}/{{minLength}}-{{maxLength}} t\xe4hem\xe4rki, ",charactersLeftOver:"{{characters}} alles",charactersToGo:"{{characters}} kirjutada",charactersTooMany:"{{characters}} liiga palju",checksPassing:"{{current}}/{{max}} kontrolli on l\xe4bitud",good:"Hea",imageAutoGenerationTip:"Automaatne genereerimine toob valitud kangelaspildi.",lengthTipDescription:"See peaks olema vahemikus {{minLength}} ja {{maxLength}} t\xe4hem\xe4rki. Kvaliteetsete meta-kirjelduste kirjutamiseks vaata ",lengthTipTitle:"See peaks olema vahemikus {{minLength}} ja {{maxLength}} t\xe4hem\xe4rki. Kvaliteetsete meta-pealkirjade kirjutamiseks vaata ",missing:"Puudub",noImage:"Pilt puudub",preview:"Eelvaade",previewDescription:"T\xe4psed tulemused v\xf5ivad varieeruda s\xf5ltuvalt sisust ja otsingu asjakohasusest.",tooLong:"Liiga pikk",tooShort:"Liiga l\xfchike"}},fa:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"چیزیی باقی نمونده",autoGenerate:"تولید خودکار",bestPractices:"آموزش بیشتر",characterCount:"{{current}}/{{minLength}}-{{maxLength}} کلمه، ",charactersLeftOver:"{{characters}} باقی مانده",charactersToGo:"{{characters}} باقی مانده",charactersTooMany:"{{characters}} بیش از حد",checksPassing:"{{current}}/{{max}} بررسی‌ها با موفقیت انجام شده است",good:"خوب",imageAutoGenerationTip:"این قابلیت، تصویر فعلی بارگذاری شده در مجموعه محتوای شما را بازیابی می‌کند",lengthTipDescription:"این باید بین {{minLength}} و {{maxLength}} کلمه باشد. برای کمک در نوشتن توضیحات متا با کیفیت، مراجعه کنید به ",lengthTipTitle:"این باید بین {{minLength}} و {{maxLength}} کلمه باشد. برای کمک در نوشتن عناوین متا با کیفیت، مراجعه کنید به ",missing:"ناقص",noImage:"بدون تصویر",preview:"پیش‌نمایش",previewDescription:"فهرست نتایج ممکن است بر اساس محتوا و متناسب با کلمه کلیدی جستجو شده باشند",tooLong:"خیلی طولانی",tooShort:"خیلی کوتاه"}},fr:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"On y est presque",autoGenerate:"Auto-g\xe9n\xe9rer",bestPractices:"bonnes pratiques",characterCount:"{{current}}/{{minLength}}-{{maxLength}} caract\xe8res, ",charactersLeftOver:"{{characters}} restants",charactersToGo:"{{characters}} \xe0 ajouter",charactersTooMany:"{{characters}} en trop",checksPassing:"{{current}}/{{max}} v\xe9rifications r\xe9ussies",good:"Bien",imageAutoGenerationTip:"L'auto-g\xe9n\xe9ration r\xe9cup\xe9rera l'image principale s\xe9lectionn\xe9e.",lengthTipDescription:"Ceci devrait contenir entre {{minLength}} et {{maxLength}} caract\xe8res. Pour obtenir de l'aide pour r\xe9diger des descriptions meta de qualit\xe9, consultez les ",lengthTipTitle:"Ceci devrait contenir entre {{minLength}} et {{maxLength}} caract\xe8res. Pour obtenir de l'aide pour r\xe9diger des titres meta de qualit\xe9, consultez les ",missing:"Manquant",noImage:"Pas d'image",preview:"Aper\xe7u",previewDescription:"Les r\xe9sultats exacts peuvent varier en fonction du contenu et de la pertinence de la recherche.",tooLong:"Trop long",tooShort:"Trop court"}},he:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"כמעט שם",autoGenerate:"הפקה אוטומטית",bestPractices:"הצעות טובות",characterCount:"{{current}}/{{minLength}}-{{maxLength}} תו, ",charactersLeftOver:"{{characters}} נותרו",charactersToGo:"{{characters}} להקליד",charactersTooMany:"{{characters}} יותר מידי",checksPassing:"{{current}}/{{max}} בדיקות עברו בהצלחה",good:"טוב",imageAutoGenerationTip:"ההפקה האוטומטית תמשוך את התמונה הראשית שנבחרה.",lengthTipDescription:"זה צריך להיות בין {{minLength}} ו{{maxLength}} תו. לעזרה בכתיבת תיאורי מטא איכותיים, עיין ב-",lengthTipTitle:"זה צריך להיות בין {{minLength}} ו{{maxLength}} תו. לעזרה בכתיבת כותרות מטא איכותיות, עיין ב-",missing:"חסר",noImage:"אין תמונה",preview:"תצוגה מקדימה",previewDescription:"תוצאות מדויקות עשויות להשתנות בהתאם לתוכן ולרלוונטיות של החיפוש.",tooLong:"ארוך מידי",tooShort:"קצר מידי"}},hr:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Gotovi smo skoro",autoGenerate:"Automatsko generiranje",bestPractices:"najbolje prakse",characterCount:"{{current}}/{{minLength}}-{{maxLength}} znakova, ",charactersLeftOver:"{{characters}} preostalo",charactersToGo:"{{characters}} preostalo za unijeti",charactersTooMany:"{{characters}} previše",checksPassing:"{{current}}/{{max}} provjera prošlo",good:"Dobro",imageAutoGenerationTip:"Automatsko generiranje će preuzeti odabranu sliku heroja.",lengthTipDescription:"Ovo bi trebalo biti između {{minLength}} i {{maxLength}} znakova. Za pomoć u pisanju kvalitetnih meta opisa, pogledajte ",lengthTipTitle:"Ovo bi trebalo biti između {{minLength}} i {{maxLength}} znakova. Za pomoć u pisanju kvalitetnih meta naslova, pogledajte ",missing:"Nedostaje",noImage:"Nema slike",preview:"Pregled",previewDescription:"Točni rezultati mogu varirati ovisno o sadržaju i relevantnosti pretrage.",tooLong:"Predugačko",tooShort:"Prekratko"}},hu:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Majdnem k\xe9sz",autoGenerate:"Automatikus gener\xe1l\xe1s",bestPractices:"legjobb gyakorlatok",characterCount:"{{current}}/{{minLength}}-{{maxLength}} karakter, ",charactersLeftOver:"{{characters}} h\xe1tra van",charactersToGo:"{{characters}} h\xe1tra van a be\xedr\xe1shoz",charactersTooMany:"{{characters}} t\xfal sok",checksPassing:"{{current}}/{{max}} ellenőrz\xe9s sikeres",good:"J\xf3",imageAutoGenerationTip:"Az automatikus gener\xe1l\xe1s a kiv\xe1lasztott hős k\xe9pet fogja lek\xe9rni.",lengthTipDescription:"Ez legyen {{minLength}} \xe9s {{maxLength}} karakter k\xf6z\xf6tt. Seg\xedts\xe9g a minős\xe9gi meta le\xedr\xe1sok \xedr\xe1s\xe1hoz, n\xe9zd meg ",lengthTipTitle:"Ez legyen {{minLength}} \xe9s {{maxLength}} karakter k\xf6z\xf6tt. Seg\xedts\xe9g a minős\xe9gi meta c\xedmek \xedr\xe1s\xe1hoz, n\xe9zd meg ",missing:"Hi\xe1nyzik",noImage:"Nincs k\xe9p",preview:"Előn\xe9zet",previewDescription:"A pontos eredm\xe9nyek v\xe1ltozhatnak a tartalom \xe9s a keres\xe9si relevancia alapj\xe1n.",tooLong:"T\xfal hossz\xfa",tooShort:"T\xfal r\xf6vid"}},is:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"N\xe6stum komi\xf0",autoGenerate:"Mynda sj\xe1lfkrafa",bestPractices:"bestu venjur",characterCount:"{{current}}/{{minLength}}-{{maxLength}} stafir, ",charactersLeftOver:"{{characters}} eftir",charactersToGo:"{{characters}} eftir",charactersTooMany:"{{characters}} of miki\xf0",checksPassing:"{{current}}/{{max}} athuganir standast",good:"Gott",imageAutoGenerationTip:"Sj\xe1lfvirk myndun mun s\xe6kja valda hetjumynd.",lengthTipDescription:"\xdeetta \xe6tti a\xf0 vera \xe1 milli {{minLength}} og {{maxLength}} stafir. Fyrir hj\xe1lp me\xf0 a\xf0 skrifa g\xf3\xf0a l\xfdsingu, sj\xe1\xf0u ",lengthTipTitle:"\xdeetta \xe6tti a\xf0 vera \xe1 milli {{minLength}} og {{maxLength}} stafir. Fyrir hj\xe1lp me\xf0 a\xf0 skrifa g\xf3\xf0an titil, sj\xe1\xf0u ",missing:"Vantar",noImage:"Engin mynd",preview:"Forsko\xf0un",previewDescription:"N\xe1kv\xe6mar ni\xf0urst\xf6\xf0ur geta veri\xf0 mismunandi eftir efni og vi\xf0eigandi leitar.",tooLong:"Of langt",tooShort:"Of stutt"}},it:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Ci siamo quasi",autoGenerate:"Generazione automatica",bestPractices:"migliori pratiche",characterCount:"{{current}}/{{minLength}}-{{maxLength}} caratteri, ",charactersLeftOver:"{{characters}} rimasti",charactersToGo:"{{characters}} mancanti",charactersTooMany:"{{characters}} in pi\xf9",checksPassing:"{{current}}/{{max}} controlli superati",good:"Bene",imageAutoGenerationTip:"La generazione automatica recuperer\xe0 l'immagine selezionata per l'hero",lengthTipDescription:"Dovrebbe essere compreso tra {{minLength}} e {{maxLength}} caratteri. Per assistenza nella scrittura di meta descrizioni di qualit\xe0, vedere ",lengthTipTitle:"Dovrebbe essere compreso tra {{minLength}} e {{maxLength}} caratteri. Per assistenza nella scrittura di meta titoli di qualit\xe0, vedere ",missing:"Mancante",noImage:"Nessuna Immagine",preview:"Anteprima",previewDescription:"I risultati esatti possono variare in base al contenuto e alla pertinenza della ricerca.",tooLong:"Troppo lungo",tooShort:"Troppo corto"}},ja:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"もう少しで完了",autoGenerate:"自動生成",bestPractices:"ベストプラクティス",characterCount:"{{current}}/{{minLength}}-{{maxLength}} 文字, ",charactersLeftOver:"{{characters}} 文字残り",charactersToGo:"{{characters}} 文字入力する必要があります",charactersTooMany:"{{characters}} 文字多すぎ",checksPassing:"{{current}}/{{max}} のチェックが合格しています",good:"良い",imageAutoGenerationTip:"自動生成は、選択されたヒーロー画像を取得します。",lengthTipDescription:"これは {{minLength}} と {{maxLength}} 文字の間である必要があります。質の高いメタディスクリプションを書くためのヘルプについては、こちらを参照してください ",lengthTipTitle:"これは {{minLength}} と {{maxLength}} 文字の間である必要があります。質の高いメタタイトルを書くためのヘルプについては、こちらを参照してください ",missing:"不足",noImage:"画像なし",preview:"プレビュー",previewDescription:"正確な結果は、コンテンツおよび検索の関連性に基づいて異なる場合があります。",tooLong:"長すぎる",tooShort:"短すぎる"}},ko:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"거의 완료",autoGenerate:"자동 생성",bestPractices:"모범 사례",characterCount:"{{current}}/{{minLength}}-{{maxLength}} 자, ",charactersLeftOver:"{{characters}} 자 초과",charactersToGo:"{{characters}} 자 남음",charactersTooMany:"{{characters}} 자 초과",checksPassing:"{{current}}/{{max}}개의 검사를 통과했습니다",good:"좋음",imageAutoGenerationTip:"자동 생성은 선택한 대표 이미지를 가져옵니다.",lengthTipDescription:"이 값은 {{minLength}}자에서 {{maxLength}}자 사이여야 합니다. 품질 높은 메타 설명 작성에 대한 도움말은 ",lengthTipTitle:"이 값은 {{minLength}}자에서 {{maxLength}}자 사이여야 합니다. 품질 높은 메타 제목 작성에 대한 도움말은 ",missing:"누락됨",noImage:"이미지 없음",preview:"미리 보기",previewDescription:"정확한 검색 결과 목록은 콘텐츠 및 검색 적합성에 따라 달라질 수 있습니다.",tooLong:"너무 김",tooShort:"너무 짧음"}},lt:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Beveik baigta",autoGenerate:"Automatinis generavimas",bestPractices:"geriausios praktikos",characterCount:"{{current}}/{{minLength}}-{{maxLength}} simbolių, ",charactersLeftOver:"{{characters}} likusių simbolių",charactersToGo:"{{characters}} simbolių liko",charactersTooMany:"{{characters}} per daug simbolių",checksPassing:"{{current}}/{{max}} tikrinimų sėkmingi",good:"Gerai",imageAutoGenerationTip:"Automatinis generavimas paims pasirinktą pagrindinį vaizdą.",lengthTipDescription:"Šis tekstas turi būti tarp {{minLength}} ir {{maxLength}} simbolių. Norėdami gauti pagalbos rašant kokybiškus meta aprašus, žiūrėkite ",lengthTipTitle:"Šis tekstas turi būti tarp {{minLength}} ir {{maxLength}} simbolių. Norėdami gauti pagalbos rašant kokybiškus meta pavadinimus, žiūrėkite ",missing:"Trūksta",noImage:"Nėra vaizdo",preview:"Peržiūra",previewDescription:"Tikrųjų paieškos rezultatų gali skirtis priklausomai nuo turinio ir paieškos svarbos.",tooLong:"Per ilgas",tooShort:"Per trumpas"}},my:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"နည်းနည်းပဲကျန်သေးသည်",autoGenerate:"အလိုအလျောက်ထုတ်လုပ်မည်",bestPractices:"အကောင်းဆုံးအကဲဖြတ်မှုများ",characterCount:"{{current}}/{{minLength}}-{{maxLength}} လုံး, ",charactersLeftOver:"{{characters}} လုံးကျော်နေသည်",charactersToGo:"{{characters}} လုံးလိုသေးသည်",charactersTooMany:"{{characters}} လုံးများသွားသည်",checksPassing:"{{current}}/{{max}} စစ်ဆေးမှုအောင်မြင်ခဲ့သည်",good:"ကောင်းမွန်သည်",imageAutoGenerationTip:"အလိုအလျောက်ထုတ်လုပ်မှုသည် ရွေးချယ်ထားသော ဟီးရိုးပုံကိုယူမည်။",lengthTipDescription:"ဤအကြောင်းအရာသည် {{minLength}} နှင့် {{maxLength}} အကြားရှိသင့်သည်။ အရည်အသွေးမြင့် meta ဖော်ပြချက်ရေးသားရန်အတွက်အကြံဉာဏ်များကို ကြည့်ရန် ",lengthTipTitle:"ဤအကြောင်းအရာသည် {{minLength}} နှင့် {{maxLength}} အကြားရှိသင့်သည်။ အရည်အသွေးမြင့် meta ခေါင်းစဉ်ရေးသားရန်အတွက်အကြံဉာဏ်များကို ကြည့်ရန် ",missing:"ပျောက်နေသည်",noImage:"ပုံမရှိပါ",preview:"မကြိုတင်ကြည့်ရှုနိုင်ပါ",previewDescription:"တိကျသော ရှာဖွေမှုရလဒ်များသည် အကြောင်းအရာနှင့် ရှာဖွေရေးအသင့်တော်မှုပေါ်မူတည်၍ မတူကွဲပြားနိုင်သည်။",tooLong:"တော်တော်ကြာသည်",tooShort:"တော်တော်တိုသည်"}},nb:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Nesten der",autoGenerate:"Auto-generer",bestPractices:"beste praksis",characterCount:"{{current}}/{{minLength}}-{{maxLength}} tegn, ",charactersLeftOver:"{{characters}} til overs",charactersToGo:"{{characters}} igjen",charactersTooMany:"{{characters}} for mange",checksPassing:"{{current}}/{{max}} sjekker best\xe5tt",good:"Bra",imageAutoGenerationTip:"Auto-generering vil hente det valgte hero-bildet.",lengthTipDescription:"Dette b\xf8r v\xe6re mellom {{minLength}} og {{maxLength}} tegn. For hjelp til \xe5 skrive beskrivelser av god kvalitet, se ",lengthTipTitle:"Dette b\xf8r v\xe6re mellom {{minLength}} og {{maxLength}} tegn. For hjelp til \xe5 skrive metatitler av god kvalitet, se ",missing:"Mangler",noImage:"Bilde mangler",preview:"Forh\xe5ndsvisning",previewDescription:"Eksakte resultatoppf\xf8ringer kan variere basert p\xe5 innhold og s\xf8ke relevans.",tooLong:"For lang",tooShort:"For kort"}},nl:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Bijna klaar",autoGenerate:"Automatisch genereren",bestPractices:"best practices",characterCount:"{{current}}/{{minLength}}-{{maxLength}} tekens, ",charactersLeftOver:"{{characters}} tekens over",charactersToGo:"{{characters}} tekens te gaan",charactersTooMany:"{{characters}} tekens te veel",checksPassing:"{{current}}/{{max}} controles geslaagd",good:"Goed",imageAutoGenerationTip:"Automatische generatie haalt de geselecteerde hero-afbeelding op.",lengthTipDescription:"Dit moet tussen {{minLength}} en {{maxLength}} tekens lang zijn. Voor hulp bij het schrijven van kwalitatieve metabeschrijvingen, zie ",lengthTipTitle:"Dit moet tussen {{minLength}} en {{maxLength}} tekens lang zijn. Voor hulp bij het schrijven van kwalitatieve metatitels, zie ",missing:"Ontbreekt",noImage:"Geen afbeelding",preview:"Voorbeeld",previewDescription:"Exacte zoekresultaten kunnen vari\xebren op basis van inhoud en zoekrelevantie.",tooLong:"Te lang",tooShort:"Te kort"}},pl:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Prawie gotowe",autoGenerate:"Wygeneruj automatycznie",bestPractices:"najlepsze praktyki",characterCount:"{{current}}/{{minLength}}-{{maxLength}} znak\xf3w, ",charactersLeftOver:"zostało {{characters}} znak\xf3w",charactersToGo:"pozostało {{characters}} znak\xf3w",charactersTooMany:"{{characters}} znak\xf3w za dużo",checksPassing:"{{current}}/{{max}} test\xf3w zakończonych pomyślnie",good:"Dobrze",imageAutoGenerationTip:"Automatyczne generowanie pobierze wybrany gł\xf3wny obraz.",lengthTipDescription:"Długość powinna wynosić od {{minLength}} do {{maxLength}} znak\xf3w. Po porady dotyczące pisania wysokiej jakości meta opis\xf3w zobacz ",lengthTipTitle:"Długość powinna wynosić od {{minLength}} do {{maxLength}} znak\xf3w. Po porady dotyczące pisania wysokiej jakości meta tytuł\xf3w zobacz ",missing:"Brakuje",noImage:"Brak obrazu",preview:"Podgląd",previewDescription:"Dokładne wyniki listowania mogą się r\xf3żnić w zależności od treści i zgodności z kryteriami wyszukiwania.",tooLong:"Zbyt długie",tooShort:"Zbyt kr\xf3tkie"}},pt:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Quase l\xe1",autoGenerate:"Gerar automaticamente",bestPractices:"melhores pr\xe1ticas",characterCount:"{{current}}/{{minLength}}-{{maxLength}} caracteres, ",charactersLeftOver:"{{characters}} caracteres a mais",charactersToGo:"{{characters}} caracteres restantes",charactersTooMany:"{{characters}} caracteres em excesso",checksPassing:"{{current}}/{{max}} verifica\xe7\xf5es aprovadas",good:"Bom",imageAutoGenerationTip:"A gera\xe7\xe3o autom\xe1tica buscar\xe1 a imagem destacada selecionada.",lengthTipDescription:"Isso deve ter entre {{minLength}} e {{maxLength}} caracteres. Para obter ajuda na escrita de descri\xe7\xf5es meta de qualidade, veja ",lengthTipTitle:"Isso deve ter entre {{minLength}} e {{maxLength}} caracteres. Para obter ajuda na escrita de t\xedtulos meta de qualidade, veja ",missing:"Ausente",noImage:"Nenhuma imagem",preview:"Pr\xe9-visualiza\xe7\xe3o",previewDescription:"Os resultados exatos podem variar com base no conte\xfado e na relev\xe2ncia da pesquisa.",tooLong:"Muito longo",tooShort:"Muito curto"}},ro:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Aproape gata",autoGenerate:"Generare automată",bestPractices:"bune practici",characterCount:"{{current}}/{{minLength}}-{{maxLength}} caractere, ",charactersLeftOver:"{{characters}} caractere \xeen plus",charactersToGo:"{{characters}} caractere rămase",charactersTooMany:"{{characters}} caractere prea multe",checksPassing:"{{current}}/{{max}} verificări trecute",good:"Bun",imageAutoGenerationTip:"Generarea automată va prelua imaginea reprezentativă selectată.",lengthTipDescription:"Aceasta ar trebui să aibă \xeentre {{minLength}} și {{maxLength}} caractere. Pentru ajutor \xeen redactarea descrierilor meta de calitate, vezi ",lengthTipTitle:"Aceasta ar trebui să aibă \xeentre {{minLength}} și {{maxLength}} caractere. Pentru ajutor \xeen redactarea titlurilor meta de calitate, vezi ",missing:"Lipsește",noImage:"Nicio imagine",preview:"Previzualizare",previewDescription:"Rezultatele exacte pot varia \xeen funcție de conținut și relevanța căutării.",tooLong:"Prea lung",tooShort:"Prea scurt"}},rs:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Скоро готово",autoGenerate:"Аутоматски генериши",bestPractices:"најбоље праксе",characterCount:"{{current}}/{{minLength}}-{{maxLength}} карактера, ",charactersLeftOver:"{{characters}} карактера вишка",charactersToGo:"{{characters}} карактера преостало",charactersTooMany:"{{characters}} карактера превише",checksPassing:"{{current}}/{{max}} провера успешно прошло",good:"Добро",imageAutoGenerationTip:"Аутоматско генерисање ће преузети изабрану херо слику.",lengthTipDescription:"Ово треба да има између {{minLength}} и {{maxLength}} карактера. За помоћ у писању квалитетних мета описа, погледајте ",lengthTipTitle:"Ово треба да има између {{minLength}} и {{maxLength}} карактера. За помоћ у писању квалитетних мета наслова, погледајте ",missing:"Недостаје",noImage:"Нема слике",preview:"Преглед",previewDescription:"Тачни резултати претраге могу варирати у зависности од садржаја и релевантности претраге.",tooLong:"Предугачко",tooShort:"Прекратко"}},"rs-latin":{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Skoro gotovo",autoGenerate:"Automatski generiši",bestPractices:"najbolje prakse",characterCount:"{{current}}/{{minLength}}-{{maxLength}} karaktera, ",charactersLeftOver:"{{characters}} karaktera viška",charactersToGo:"{{characters}} karaktera preostalo",charactersTooMany:"{{characters}} karaktera previše",checksPassing:"{{current}}/{{max}} provera uspešno prošlo",good:"Dobro",imageAutoGenerationTip:"Automatsko generisanje će preuzeti izabranu hero sliku.",lengthTipDescription:"Ovo treba da ima između {{minLength}} i {{maxLength}} karaktera. Za pomoć u pisanju kvalitetnih meta opisa, pogledajte ",lengthTipTitle:"Ovo treba da ima između {{minLength}} i {{maxLength}} karaktera. Za pomoć u pisanju kvalitetnih meta naslova, pogledajte ",missing:"Nedostaje",noImage:"Nema slike",preview:"Pregled",previewDescription:"Tačni rezultati pretrage mogu varirati u zavisnosti od sadržaja i relevantnosti pretrage.",tooLong:"Predugačko",tooShort:"Prekratko"}},ru:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Почти готово",autoGenerate:"Сгенерировать автоматически",bestPractices:"лучшие практики",characterCount:"{{current}}/{{minLength}}-{{maxLength}} символов, ",charactersLeftOver:"осталось {{characters}} символов",charactersToGo:"на {{characters}} символов меньше",charactersTooMany:"на {{characters}} символов больше",checksPassing:"{{current}}/{{max}} проверок пройдено",good:"Хорошо",imageAutoGenerationTip:"Автогенерация использует выбранное главное изображение.",lengthTipDescription:"Должно быть от {{minLength}} до {{maxLength}} символов. Для помощи в написании качественных метаописаний см.",lengthTipTitle:"Должно быть от {{minLength}} до {{maxLength}} символов. Для помощи в написании качественных метазаголовков см.",missing:"Отсутствует",noImage:"Нет изображения",preview:"Предварительный просмотр",previewDescription:"Фактические результаты могут отличаться в зависимости от контента и релевантности поиска.",tooLong:"Слишком длинно",tooShort:"Слишком коротко"}},sk:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Takmer hotovo",autoGenerate:"Automaticky generovať",bestPractices:"najlepšie postupy",characterCount:"{{current}}/{{minLength}}-{{maxLength}} znakov, ",charactersLeftOver:"{{characters}} znakov navyše",charactersToGo:"Ešte {{characters}} znakov",charactersTooMany:"{{characters}} znakov navyše",checksPassing:"{{current}}/{{max}} kontrol prešlo",good:"Dobre",imageAutoGenerationTip:"Automatick\xe9 generovanie nač\xedta vybran\xfd hlavn\xfd obr\xe1zok.",lengthTipDescription:"Tento text by mal mať medzi {{minLength}} a {{maxLength}} znakmi. Ak potrebujete pomoc s p\xedsan\xedm kvalitn\xfdch meta popisov, pozrite si ",lengthTipTitle:"Tento text by mal mať medzi {{minLength}} a {{maxLength}} znakmi. Ak potrebujete pomoc s p\xedsan\xedm kvalitn\xfdch meta nadpisov, pozrite si ",missing:"Ch\xfdba",noImage:"Žiadny obr\xe1zok",preview:"N\xe1hľad",previewDescription:"Presn\xe9 v\xfdsledky vyhľad\xe1vania sa m\xf4žu l\xedšiť v z\xe1vislosti od obsahu a relevantnosti vyhľad\xe1vania.",tooLong:"Pr\xedliš dlh\xe9",tooShort:"Pr\xedliš kr\xe1tke"}},sl:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Skoraj končano",autoGenerate:"Samodejno generiranje",bestPractices:"najboljše prakse",characterCount:"{{current}}/{{minLength}}-{{maxLength}} znakov, ",charactersLeftOver:"{{characters}} znakov preveč",charactersToGo:"{{characters}} znakov preostalo",charactersTooMany:"{{characters}} znakov preveč",checksPassing:"{{current}}/{{max}} preverjanj je uspelo",good:"Dobro",imageAutoGenerationTip:"Samodejno generiranje bo preneslo izbrano glavno sliko.",lengthTipDescription:"To naj bo dolgo med {{minLength}} in {{maxLength}} znakov. Za pomoč pri pisanju kakovostnih meta opisov si oglejte ",lengthTipTitle:"To naj bo dolgo med {{minLength}} in {{maxLength}} znakov. Za pomoč pri pisanju kakovostnih meta naslovov si oglejte ",missing:"Manjkajoče",noImage:"Brez slike",preview:"Predogled",previewDescription:"Natančni rezultati iskanja se lahko razlikujejo glede na vsebino in relevantnost iskanja.",tooLong:"Presega dovoljeno dolžino",tooShort:"Prekratka dolžina"}},sv:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"N\xe4stan klar",autoGenerate:"Skapa automatiskt",bestPractices:"b\xe4sta praxis",characterCount:"{{current}}/{{minLength}}-{{maxLength}} tecken, ",charactersLeftOver:"{{characters}} tecken blir \xf6ver",charactersToGo:"{{characters}} tecken kvar",charactersTooMany:"{{characters}} tecken f\xf6r mycket",checksPassing:"{{current}}/{{max}} kontroller \xe4r godk\xe4nda",good:"Bra",imageAutoGenerationTip:"Den automatiska processen kommer att v\xe4lja en hero-bild.",lengthTipDescription:"B\xf6r vara mellan {{minLength}} och {{maxLength}} tecken. F\xf6r hj\xe4lp med att skriva bra metabeskrivningar, se ",lengthTipTitle:"B\xf6r vara mellan {{minLength}} och {{maxLength}} tecken. F\xf6r hj\xe4lp med att skriva bra metatitlar, se ",missing:"Saknas",noImage:"Ingen bild",preview:"F\xf6rhandsgranska",previewDescription:"Exakta resultatlistningar kan variera baserat p\xe5 inneh\xe5ll och s\xf6krelevans.",tooLong:"F\xf6r l\xe5ng",tooShort:"F\xf6r kort"}},ta:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"கிட்டத்தட்ட முடிந்துவிட்டது",autoGenerate:"தானாக உருவாக்கு",bestPractices:"சிறந்த நடைமுறைகள்",characterCount:"{{current}}/{{minLength}}-{{maxLength}} எழுத்துகள், ",charactersLeftOver:"{{characters}} மீதம் உள்ளது",charactersToGo:"{{characters}} எழுத வேண்டும்",charactersTooMany:"{{characters}} அதிகமாக உள்ளது",checksPassing:"{{current}}/{{max}} சோதனைகள் வெற்றி",good:"நன்று",imageAutoGenerationTip:"தானியங்கு உருவாக்கம் தேர்ந்தெடுக்கப்பட்ட முக்கியப் படத்தை எடுக்கும்.",lengthTipDescription:"இது {{minLength}} மற்றும் {{maxLength}} எழுத்துகளுக்கு இடையில் இருக்க வேண்டும். தரமான மெட்டா விளக்கங்களை எழுத உதவிக்கு பார்க்கவும் ",lengthTipTitle:"இது {{minLength}} மற்றும் {{maxLength}} எழுத்துகளுக்கு இடையில் இருக்க வேண்டும். தரமான மெட்டா தலைப்புகளை எழுத உதவிக்கு பார்க்கவும் ",missing:"இல்லை",noImage:"படம் இல்லை",preview:"முன்னோட்டம்",previewDescription:"சரியான முடிவு பட்டியல்கள் உள்ளடக்கம் மற்றும் தேடல் தொடர்புக்கு ஏற்ப மாறலாம்.",tooLong:"மிக நீளம்",tooShort:"மிகக் குறைவு"}},th:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"เกือบเสร็จแล้ว",autoGenerate:"สร้างอัตโนมัติ",bestPractices:"แนวปฏิบัติที่ดีที่สุด",characterCount:"{{current}}/{{minLength}}-{{maxLength}} ตัวอักษร, ",charactersLeftOver:"{{characters}} ตัวอักษรที่เหลือ",charactersToGo:"{{characters}} ตัวอักษรที่ต้องการ",charactersTooMany:"{{characters}} ตัวอักษรเกินไป",checksPassing:"{{current}}/{{max}} การตรวจสอบสำเร็จ",good:"ดี",imageAutoGenerationTip:"การสร้างอัตโนมัติจะดึงภาพหลักที่เลือก",lengthTipDescription:"ข้อความนี้ควรมีระหว่าง {{minLength}} และ {{maxLength}} ตัวอักษร สำหรับคำแนะนำในการเขียนคำอธิบายเมตาคุณภาพสูง โปรดดูที่ ",lengthTipTitle:"ข้อความนี้ควรมีระหว่าง {{minLength}} และ {{maxLength}} ตัวอักษร สำหรับคำแนะนำในการเขียนหัวข้อเมตาคุณภาพสูง โปรดดูที่ ",missing:"ขาดหายไป",noImage:"ไม่มีภาพ",preview:"ตัวอย่าง",previewDescription:"ผลลัพธ์การค้นหาที่แท้จริงอาจแตกต่างกันไปตามเนื้อหาและความเกี่ยวข้องของการค้นหา",tooLong:"ยาวเกินไป",tooShort:"สั้นเกินไป"}},tr:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Neredeyse tamam",autoGenerate:"Otomatik oluştur",bestPractices:"en iyi uygulamalar",characterCount:"{{current}}/{{minLength}}-{{maxLength}} karakter, ",charactersLeftOver:"{{characters}} karakter kaldı",charactersToGo:"{{characters}} karakter kaldı",charactersTooMany:"{{characters}} karakter fazla",checksPassing:"{{current}}/{{max}} kontrol başarılı",good:"İyi",imageAutoGenerationTip:"Otomatik oluşturma, se\xe7ilen ana g\xf6rseli alacaktır.",lengthTipDescription:"{{minLength}} ile {{maxLength}} karakter arasında olmalıdır. Kaliteli meta a\xe7ıklamaları yazmak i\xe7in yardım almak i\xe7in bkz. ",lengthTipTitle:"{{minLength}} ile {{maxLength}} karakter arasında olmalıdır. Kaliteli meta başlıkları yazmak i\xe7in yardım almak i\xe7in bkz. ",missing:"Eksik",noImage:"G\xf6rsel yok",preview:"\xd6nizleme",previewDescription:"Kesin sonu\xe7 listeleri i\xe7eriğe ve arama al\xe2kasına g\xf6re değişebilir.",tooLong:"\xc7ok uzun",tooShort:"\xc7ok kısa"}},uk:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Ще трошки",autoGenerate:"Згенерувати",bestPractices:"найкращі практики",characterCount:"{{current}}/{{minLength}}-{{maxLength}} символів, ",charactersLeftOver:"залишилось {{characters}} символів",charactersToGo:" на {{characters}} символів коротше",charactersTooMany:"на {{characters}} символів довше",checksPassing:"{{current}}/{{max}} перевірок пройдено",good:"Чудово",imageAutoGenerationTip:"Автоматична генерація використає зображення з головного блоку",lengthTipDescription:"Має бути від {{minLength}} до {{maxLength}} символів. Щоб дізнатися, як писати якісні метаописи — перегляньте ",lengthTipTitle:"Має бути від {{minLength}} до {{maxLength}} символів. Щоб дізнатися, як писати якісні метазаголовки — перегляньте ",missing:"Відсутнє",noImage:"Немає зображення",preview:"Попередній перегляд",previewDescription:"Реальне відображення може відрізнятися в залежності від вмісту та релевантності пошуку.",tooLong:"Задовгий",tooShort:"Закороткий"}},vi:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Gần đạt",autoGenerate:"Tự động tạo",bestPractices:"c\xe1c phương ph\xe1p hay nhất",characterCount:"{{current}}/{{minLength}}-{{maxLength}} k\xed tự, ",charactersLeftOver:"c\xf2n lại {{characters}}",charactersToGo:"C\xf2n {{characters}} k\xfd tự nữa",charactersTooMany:"vượt qu\xe1 {{characters}} k\xfd tự",checksPassing:"{{current}}/{{max}} đ\xe3 đạt",good:"Tốt",imageAutoGenerationTip:"T\xednh năng tự động tạo sẽ lấy ảnh đầu ti\xean được chọn.",lengthTipDescription:"Độ d\xe0i n\xean từ {{minLength}}-{{maxLength}} k\xed tự. Để được hướng dẫn viết m\xf4 tả meta chất lượng, h\xe3y xem ",lengthTipTitle:"Độ d\xe0i n\xean từ {{minLength}}-{{maxLength}} k\xed tự. Để được hướng dẫn viết m\xf4 tả meta chất lượng, h\xe3y xem ",missing:"Kh\xf4ng đạt",noImage:"Chưa c\xf3 ảnh",preview:"Xem trước",previewDescription:"Kết quả hiển thị c\xf3 thể thay đổi tuỳ theo nội dung v\xe0 c\xf4ng cụ t\xecm kiếm.",tooLong:"Qu\xe1 d\xe0i",tooShort:"Qu\xe1 ngắn"}},zh:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"快完成了",autoGenerate:"自动生成",bestPractices:"最佳实践",characterCount:"{{current}}/{{minLength}}-{{maxLength}} 字符, ",charactersLeftOver:"{{characters}} 字符剩余",charactersToGo:"{{characters}} 字符待输入",charactersTooMany:"{{characters}} 字符太多",checksPassing:"{{current}}/{{max}} 检查通过",good:"好",imageAutoGenerationTip:"自动生成将获取选定的主图像。",lengthTipDescription:"此文本应介于 {{minLength}} 和 {{maxLength}} 个字符之间。如需有关编写高质量 meta 描述的帮助，请参见 ",lengthTipTitle:"此文本应介于 {{minLength}} 和 {{maxLength}} 个字符之间。如需有关编写高质量 meta 标题的帮助，请参见 ",missing:"缺失",noImage:"没有图片",preview:"预览",previewDescription:"实际搜索结果可能会根据内容和搜索相关性有所不同。",tooLong:"太长",tooShort:"太短"}},"zh-TW":{$schema:"./translation-schema.json","plugin-seo":{almostThere:"快完成了",autoGenerate:"自動產生",bestPractices:"最佳做法",characterCount:"{{current}}/{{minLength}}-{{maxLength}} 字元，",charactersLeftOver:"多出 {{characters}} 個字元",charactersToGo:"還差 {{characters}} 個字元",charactersTooMany:"超出 {{characters}} 個字元",checksPassing:"{{current}} 項檢查通過，共 {{max}} 項",good:"良好",imageAutoGenerationTip:"系統會自動擷取選取的主圖。",lengthTipDescription:"長度應介於 {{minLength}} 到 {{maxLength}} 個字元。若需撰寫高品質後設資料描述的協助，請參閱",lengthTipTitle:"長度應介於 {{minLength}} 到 {{maxLength}} 個字元。若需撰寫高品質後設資料標題的協助，請參閱",missing:"尚未設定",noImage:"沒有圖片",preview:"預覽",previewDescription:"實際搜尋結果可能會因內容與關聯性而有所不同。",tooLong:"過長",tooShort:"過短"}}},k=a=>b=>{let c=[(0,h.E)({}),(0,g.W)({hasGenerateFn:"function"==typeof a?.generateTitle}),(0,e.k)({hasGenerateFn:"function"==typeof a?.generateDescription}),...a?.uploadsCollection?[(0,f.z)({hasGenerateFn:"function"==typeof a?.generateImage,relationTo:a.uploadsCollection})]:[],(0,i.r)({hasGenerateFn:"function"==typeof a?.generateURL})],k=[{name:"meta",type:"group",fields:[...a?.fields&&"function"==typeof a.fields?a.fields({defaultFields:c}):c],interfaceName:a.interfaceName,label:"SEO"}];return{...b,collections:b.collections?.map(b=>{let{slug:c}=b;if(a?.collections?.includes(c)){if(a?.tabbedUI){let a=b.auth&&!("object"==typeof b.auth&&b.auth.disableLocalStrategy)&&b.fields?.find(a=>"name"in a&&"email"===a.name),c=b.fields?.length===1&&a?[{type:"tabs",tabs:[{fields:k,label:"SEO"}]}]:[{type:"tabs",tabs:[...b?.fields?.[0]?.type==="tabs"&&b?.fields?.[0]?.tabs?b.fields[0].tabs:[{fields:[...a?b.fields.filter(a=>"name"in a&&"email"!==a.name):b.fields],label:b?.labels?.singular||"Content"}],{fields:k,label:"SEO"}]}];return{...b,fields:[...a?[a]:[],...c,...b?.fields?.[0]?.type==="tabs"?b.fields.slice(1):[]]}}return{...b,fields:[...b?.fields||[],...k]}}return b})||[],endpoints:[...b.endpoints??[],{handler:async c=>{let d=await c.json?.(),e=d??c.data;return new Response(JSON.stringify({result:a.generateTitle?await a.generateTitle({...d,collectionConfig:b.collections?.find(a=>a.slug===e.collectionSlug),globalConfig:b.globals?.find(a=>a.slug===e.globalSlug),req:c}):""}),{status:200})},method:"post",path:"/plugin-seo/generate-title"},{handler:async c=>{let d=await c.json?.(),e=d??c.data;return new Response(JSON.stringify({result:a.generateDescription?await a.generateDescription({...d,collectionConfig:b.collections?.find(a=>a.slug===e.collectionSlug),globalConfig:b.globals?.find(a=>a.slug===e.globalSlug),req:c}):""}),{status:200})},method:"post",path:"/plugin-seo/generate-description"},{handler:async c=>{let d=await c.json?.(),e=d??c.data;return new Response(JSON.stringify({result:a.generateURL?await a.generateURL({...d,collectionConfig:b.collections?.find(a=>a.slug===e.collectionSlug),globalConfig:b.globals?.find(a=>a.slug===e.globalSlug),req:c}):""}),{status:200})},method:"post",path:"/plugin-seo/generate-url"},{handler:async c=>{let d=await c.json?.(),e=d??c.data;return new Response(JSON.stringify({result:a.generateImage?await a.generateImage({...d,collectionConfig:b.collections?.find(a=>a.slug===e.collectionSlug),globalConfig:b.globals?.find(a=>a.slug===e.globalSlug),req:c}):""}),{status:200})},method:"post",path:"/plugin-seo/generate-image"}],globals:b.globals?.map(b=>{let{slug:c}=b;if(a?.globals?.includes(c)){if(a?.tabbedUI){let a=[{type:"tabs",tabs:[...b?.fields?.[0]?.type==="tabs"&&b?.fields?.[0].tabs?b.fields[0].tabs:[{fields:[...b?.fields||[]],label:b?.label||"Content"}],{fields:k,label:"SEO"}]}];return{...b,fields:[...a,...b?.fields?.[0]?.type==="tabs"?b.fields.slice(1):[]]}}return{...b,fields:[...b?.fields||[],...k]}}return b})||[],i18n:{...b.i18n,translations:(0,d.p)(j,b.i18n?.translations??{})}}}},52790:a=>{"use strict";a.exports=JSON.parse('{"name":"thread-stream","version":"3.1.0","description":"A streaming way to send data to a Node.js Worker Thread","main":"index.js","types":"index.d.ts","dependencies":{"real-require":"^0.2.0"},"devDependencies":{"@types/node":"^20.1.0","@types/tap":"^15.0.0","@yao-pkg/pkg":"^5.11.5","desm":"^1.3.0","fastbench":"^1.0.1","husky":"^9.0.6","pino-elasticsearch":"^8.0.0","sonic-boom":"^4.0.1","standard":"^17.0.0","tap":"^16.2.0","ts-node":"^10.8.0","typescript":"^5.3.2","why-is-node-running":"^2.2.2"},"scripts":{"build":"tsc --noEmit","test":"standard && npm run build && npm run transpile && tap \\"test/**/*.test.*js\\" && tap --ts test/*.test.*ts","test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":"tap --no-check-coverage --timeout=120 --coverage-report=lcovonly \\"test/**/*.test.*js\\"","test:ci:ts":"tap --ts --no-check-coverage --coverage-report=lcovonly \\"test/**/*.test.*ts\\"","test:yarn":"npm run transpile && tap \\"test/**/*.test.js\\" --no-check-coverage","transpile":"sh ./test/ts/transpile.sh","prepare":"husky install"},"standard":{"ignore":["test/ts/**/*","test/syntax-error.mjs"]},"repository":{"type":"git","url":"git+https://github.com/mcollina/thread-stream.git"},"keywords":["worker","thread","threads","stream"],"author":"Matteo Collina <hello@matteocollina.com>","license":"MIT","bugs":{"url":"https://github.com/mcollina/thread-stream/issues"},"homepage":"https://github.com/mcollina/thread-stream#readme"}')},52911:(a,b,c)=>{"use strict";let d=c(90165),e=c(88275),f=Object.freeze({password:{scale:1,render:a=>"*".repeat(a.length)},emoji:{scale:2,render:a=>"\uD83D\uDE03".repeat(a.length)},invisible:{scale:0,render:a=>""},default:{scale:1,render:a=>`${a}`}}),g=a=>f[a]||f.default,h=Object.freeze({aborted:d.red(e.cross),done:d.green(e.tick),exited:d.yellow(e.cross),default:d.cyan("?")}),i=(a,b,c)=>b?h.aborted:c?h.exited:a?h.done:h.default;a.exports={styles:f,render:g,symbols:h,symbol:i,delimiter:a=>d.gray(a?e.ellipsis:e.pointerSmall),item:(a,b)=>d.gray(a?b?e.pointerSmall:"+":e.line)}},53140:(a,b,c)=>{"use strict";let{lsCacheSym:d,levelValSym:e,useOnlyCustomLevelsSym:f,streamSym:g,formattersSym:h,hooksSym:i,levelCompSym:j}=c(25258),{noop:k,genLog:l}=c(45728),{DEFAULT_LEVELS:m,SORTING_ORDER:o}=c(17306),p={fatal:a=>{let b=l(m.fatal,a);return function(...a){let c=this[g];if(b.call(this,...a),"function"==typeof c.flushSync)try{c.flushSync()}catch(a){}}},error:a=>l(m.error,a),warn:a=>l(m.warn,a),info:a=>l(m.info,a),debug:a=>l(m.debug,a),trace:a=>l(m.trace,a)},q=Object.keys(m).reduce((a,b)=>(a[m[b]]=b,a),{});function r(a){let b=a[h].level,{labels:c}=a.levels,e={};for(let a in c){let d=b(c[a],Number(a));e[a]=JSON.stringify(d).slice(0,-1)}return a[d]=e,a}function s(a,b){if(b)return!1;switch(a){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function t(a){let{labels:b,values:c}=this.levels;if("number"==typeof a){if(void 0===b[a])throw Error("unknown level value"+a);a=b[a]}if(void 0===c[a])throw Error("unknown level "+a);let d=this[e],g=this[e]=c[a],h=this[f],m=this[j],o=this[i].logMethod;for(let a in c){if(!1===m(c[a],g)){this[a]=k;continue}this[a]=s(a,h)?p[a](o):l(c[a],o)}this.emit("level-change",a,g,b[d],d,this)}function u(a){let{levels:b,levelVal:c}=this;return b&&b.labels?b.labels[c]:""}function v(a){let{values:b}=this.levels,c=b[a];return void 0!==c&&this[j](c,this[e])}function w(a,b,c){return a===o.DESC?b<=c:b>=c}function x(a){return"string"==typeof a?w.bind(null,a):a}function y(a=null,b=!1){let c=a?Object.keys(a).reduce((b,c)=>(b[a[c]]=c,b),{}):null;return{labels:Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),b?null:q,c),values:Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),b?null:m,a)}}function z(a,b,c){if("number"==typeof a){if(![].concat(Object.keys(b||{}).map(a=>b[a]),c?[]:Object.keys(q).map(a=>+a),1/0).includes(a))throw Error(`default level:${a} must be included in custom levels`);return}if(!(a in Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),c?null:m,b)))throw Error(`default level:${a} must be included in custom levels`)}function A(a,b){let{labels:c,values:d}=a;for(let a in b){if(a in d)throw Error("levels cannot be overridden");if(b[a]in c)throw Error("pre-existing level values cannot be used for new levels")}}function B(a){if("function"!=typeof a&&!("string"==typeof a&&Object.values(o).includes(a)))throw Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}a.exports={initialLsCache:Object.keys(q).reduce((a,b)=>(a[b]='{"level":'+Number(b),a),{}),genLsCache:r,levelMethods:p,getLevel:u,setLevel:t,isLevelEnabled:v,mappings:y,assertNoLevelCollisions:A,assertDefaultLevelFound:z,genLevelComparison:x,assertLevelComparison:B}},53216:(a,b,c)=>{"use strict";async function d(a){let{payload:b,transactionID:c}=a;if(c&&!(c instanceof Promise)){try{await b.db.rollbackTransaction(a.transactionID)}catch(a){}delete a.transactionID}}c.d(b,{J:()=>d})},53298:a=>{"use strict";a.exports={isValidLastEventId:function(a){return -1===a.indexOf("\0")},isASCIINumber:function(a){if(0===a.length)return!1;for(let b=0;b<a.length;b++)if(48>a.charCodeAt(b)||a.charCodeAt(b)>57)return!1;return!0},delay:function(a){return new Promise(b=>{setTimeout(b,a).unref()})}}},53306:(a,b,c)=>{"use strict";function d(a,b){return"ordered"===a?!b.has("unorderedList"):"checklist"===a&&!b.has("unorderedList")&&!b.has("orderedList")}c.d(b,{Z:()=>d})},53349:(a,b,c)=>{"use strict";c.d(b,{o:()=>d});let d=a=>encodeURIComponent(a).replace(/[!'()*]/g,e),e=a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`},53389:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});class c extends Error{constructor(a){super("validation failed"),this.errors=a,this.ajv=this.validation=!0}}b.default=c},53400:(a,b,c)=>{"use strict";var d,e=c(84642);let f="content-length";function g(a){return b=>async c=>{let d=c.request;if(e.HttpRequest.isInstance(d)){let{body:b,headers:c}=d;if(b&&-1===Object.keys(c).map(a=>a.toLowerCase()).indexOf(f))try{let c=a(b);d.headers={...d.headers,[f]:String(c)}}catch(a){}}return b({...c,request:d})}}let h={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},i=a=>({applyToStack:b=>{b.add(g(a.bodyLengthChecker),h)}});d=g,d=h,b.vK=i},53462:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.wcswidth=b.wcwidth=void 0,b.wcswidth=d(c(60890)).default,b.wcwidth=d(c(93313)).default},53471:(a,b,c)=>{"use strict";let{Writable:d}=c(27910),{getDecoder:e}=c(64259);class f extends d{constructor(a){super({autoDestroy:!0,emitClose:!0,highWaterMark:"number"==typeof a.highWaterMark?a.highWaterMark:void 0});let b=a.defCharset||"utf8";a.conType.params&&"string"==typeof a.conType.params.charset&&(b=a.conType.params.charset),this.charset=b;let c=a.limits;this.fieldSizeLimit=c&&"number"==typeof c.fieldSize?c.fieldSize:1048576,this.fieldsLimit=c&&"number"==typeof c.fields?c.fields:1/0,this.fieldNameSizeLimit=c&&"number"==typeof c.fieldNameSize?c.fieldNameSize:100,this._inKey=!0,this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,this._fields=0,this._key="",this._val="",this._byte=-2,this._lastPos=0,this._encode=0,this._decoder=e(b)}static detect(a){return"application"===a.type&&"x-www-form-urlencoded"===a.subtype}_write(a,b,c){if(this._fields>=this.fieldsLimit)return c();let d=0,e=a.length;if(this._lastPos=0,-2!==this._byte){if(-1===(d=g(this,a,d,e)))return c(Error("Malformed urlencoded form"));if(d>=e)return c();this._inKey?++this._bytesKey:++this._bytesVal}b:for(;d<e;)if(this._inKey){for(d=h(this,a,d,e);d<e;){switch(a[d]){case 61:this._lastPos<d&&(this._key+=a.latin1Slice(this._lastPos,d)),this._lastPos=++d,this._key=this._decoder(this._key,this._encode),this._encode=0,this._inKey=!1;continue b;case 38:if(this._lastPos<d&&(this._key+=a.latin1Slice(this._lastPos,d)),this._lastPos=++d,this._key=this._decoder(this._key,this._encode),this._encode=0,this._bytesKey>0&&this.emit("field",this._key,"",{nameTruncated:this._keyTrunc,valueTruncated:!1,encoding:this.charset,mimeType:"text/plain"}),this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,++this._fields>=this.fieldsLimit)return this.emit("fieldsLimit"),c();continue;case 43:this._lastPos<d&&(this._key+=a.latin1Slice(this._lastPos,d)),this._key+=" ",this._lastPos=d+1;break;case 37:if(0===this._encode&&(this._encode=1),this._lastPos<d&&(this._key+=a.latin1Slice(this._lastPos,d)),this._lastPos=d+1,this._byte=-1,-1===(d=g(this,a,d+1,e)))return c(Error("Malformed urlencoded form"));if(d>=e)return c();++this._bytesKey,d=h(this,a,d,e);continue}++d,++this._bytesKey,d=h(this,a,d,e)}this._lastPos<d&&(this._key+=a.latin1Slice(this._lastPos,d))}else{for(d=i(this,a,d,e);d<e;){switch(a[d]){case 38:if(this._lastPos<d&&(this._val+=a.latin1Slice(this._lastPos,d)),this._lastPos=++d,this._inKey=!0,this._val=this._decoder(this._val,this._encode),this._encode=0,(this._bytesKey>0||this._bytesVal>0)&&this.emit("field",this._key,this._val,{nameTruncated:this._keyTrunc,valueTruncated:this._valTrunc,encoding:this.charset,mimeType:"text/plain"}),this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,++this._fields>=this.fieldsLimit)return this.emit("fieldsLimit"),c();continue b;case 43:this._lastPos<d&&(this._val+=a.latin1Slice(this._lastPos,d)),this._val+=" ",this._lastPos=d+1;break;case 37:if(0===this._encode&&(this._encode=1),this._lastPos<d&&(this._val+=a.latin1Slice(this._lastPos,d)),this._lastPos=d+1,this._byte=-1,-1===(d=g(this,a,d+1,e)))return c(Error("Malformed urlencoded form"));if(d>=e)return c();++this._bytesVal,d=i(this,a,d,e);continue}++d,++this._bytesVal,d=i(this,a,d,e)}this._lastPos<d&&(this._val+=a.latin1Slice(this._lastPos,d))}c()}_final(a){if(-2!==this._byte)return a(Error("Malformed urlencoded form"));(!this._inKey||this._bytesKey>0||this._bytesVal>0)&&(this._inKey?this._key=this._decoder(this._key,this._encode):this._val=this._decoder(this._val,this._encode),this.emit("field",this._key,this._val,{nameTruncated:this._keyTrunc,valueTruncated:this._valTrunc,encoding:this.charset,mimeType:"text/plain"})),a()}}function g(a,b,c,d){if(c>=d)return d;if(-1===a._byte){let e=j[b[c++]];if(-1===e)return -1;if(e>=8&&(a._encode=2),c<d){let d=j[b[c++]];if(-1===d)return -1;a._inKey?a._key+=String.fromCharCode((e<<4)+d):a._val+=String.fromCharCode((e<<4)+d),a._byte=-2,a._lastPos=c}else a._byte=e}else{let d=j[b[c++]];if(-1===d)return -1;a._inKey?a._key+=String.fromCharCode((a._byte<<4)+d):a._val+=String.fromCharCode((a._byte<<4)+d),a._byte=-2,a._lastPos=c}return c}function h(a,b,c,d){if(a._bytesKey>a.fieldNameSizeLimit){for(!a._keyTrunc&&a._lastPos<c&&(a._key+=b.latin1Slice(a._lastPos,c-1)),a._keyTrunc=!0;c<d;++c){let d=b[c];if(61===d||38===d)break;++a._bytesKey}a._lastPos=c}return c}function i(a,b,c,d){if(a._bytesVal>a.fieldSizeLimit){for(!a._valTrunc&&a._lastPos<c&&(a._val+=b.latin1Slice(a._lastPos,c-1)),a._valTrunc=!0;c<d&&38!==b[c];++c)++a._bytesVal;a._lastPos=c}return c}let j=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];a.exports=f},53849:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:c(55613).validateUnion,error:{message:"must match a schema in anyOf"}}},53977:(a,b,c)=>{"use strict";let d,e,f=c(77030),g=c(34589),h=c(33895),{InvalidArgumentError:i}=c(212);e=global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?class{constructor(a){this._maxCachedSessions=a,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(a=>{if(this._sessionCache.size<this._maxCachedSessions)return;let b=this._sessionCache.get(a);void 0!==b&&void 0===b.deref()&&this._sessionCache.delete(a)})}get(a){let b=this._sessionCache.get(a);return b?b.deref():null}set(a,b){0!==this._maxCachedSessions&&(this._sessionCache.set(a,new WeakRef(b)),this._sessionRegistry.register(b,a))}}:class{constructor(a){this._maxCachedSessions=a,this._sessionCache=new Map}get(a){return this._sessionCache.get(a)}set(a,b){if(0!==this._maxCachedSessions){if(this._sessionCache.size>=this._maxCachedSessions){let{value:a}=this._sessionCache.keys().next();this._sessionCache.delete(a)}this._sessionCache.set(a,b)}}},a.exports=function({allowH2:a,maxCachedSessions:b,socketPath:j,timeout:k,session:l,...m}){if(null!=b&&(!Number.isInteger(b)||b<0))throw new i("maxCachedSessions must be a positive integer or zero");let o={path:j,...m},p=new e(null==b?100:b);return k=null==k?1e4:k,a=null!=a&&a,function({hostname:b,host:e,protocol:i,port:j,servername:m,localAddress:q,httpSocket:r},s){let t;if("https:"===i){d||(d=c(41692));let f=(m=m||o.servername||h.getServerName(e)||null)||b;g(f);let i=l||p.get(f)||null;j=j||443,(t=d.connect({highWaterMark:16384,...o,servername:m,session:i,localAddress:q,ALPNProtocols:a?["http/1.1","h2"]:["http/1.1"],socket:r,port:j,host:b})).on("session",function(a){p.set(f,a)})}else g(!r,"httpSocket can only be sent on TLS update"),j=j||80,t=f.connect({highWaterMark:65536,...o,localAddress:q,port:j,host:b});if(null==o.keepAlive||o.keepAlive){let a=void 0===o.keepAliveInitialDelay?6e4:o.keepAliveInitialDelay;t.setKeepAlive(!0,a)}let u=h.setupConnectTimeout(new WeakRef(t),{timeout:k,hostname:b,port:j});return t.setNoDelay(!0).once("https:"===i?"secureConnect":"connect",function(){if(queueMicrotask(u),s){let a=s;s=null,a(null,this)}}).on("error",function(a){if(queueMicrotask(u),s){let b=s;s=null,b(a)}}),t}}},54321:(a,b,c)=>{"use strict";c.d(b,{s:()=>m});var d=c(25083),e=c(51114),f=c(71292),g=c(2431),h=c(53216),i=c(22477),j=c(32609),k=c(45139),l=c(22128);let m=async a=>{let{depth:b,globalConfig:c,limit:m,overrideAccess:o,page:p,pagination:q=!0,populate:r,select:s,showHiddenFields:t,sort:u,where:v}=a,w=a.req,{fallbackLocale:x,locale:y,payload:z}=w,A=(0,k.p)(z.config,c,!0);try{let a=!!o||await (0,d.m)({req:w},c.access.readVersions);await (0,f.d)({globalConfig:c,overrideAccess:o,req:w,versionFields:A,where:v});let h=(0,e.m)(v,a),B=(0,j.Y)({fields:(0,k.p)(z.config,c,!0),forceSelect:(0,l.V)({select:c.forceSelect}),select:s,versions:!0}),C=q&&0!==m,D=m??10*!!C,E=p||1,F=await z.db.findGlobalVersions({global:c.slug,limit:D,locale:y,page:E,pagination:q,req:w,select:B,sort:u,where:h}),G={...F,docs:await Promise.all(F.docs.map(async a=>(a.version||(a.version={}),{...a,version:await (0,g.v)({collection:null,context:w.context,depth:b,doc:{...a.version,globalType:c.slug},draft:void 0,fallbackLocale:x,findMany:!0,global:c,locale:y,overrideAccess:o,populate:r,req:w,select:B,showHiddenFields:t})})))};return c.hooks?.afterRead?.length&&(G.docs=await Promise.all(G.docs.map(async a=>{let b=a;for(let d of c.hooks.afterRead)b.version=await d({context:w.context,doc:a.version,findMany:!0,global:c,query:h,req:w})||a.version;return b}))),G={...G,docs:G.docs.map(a=>(0,i.E)(a))}}catch(a){throw await (0,h.J)(w),a}}},54510:(a,b,c)=>{"use strict";c.d(b,{$:()=>i});var d=c(55511),e=c(47624),f=c(81645);function g(){return new Promise((a,b)=>d.randomBytes(32,(c,d)=>c?b(c):a(d)))}function h(a,b){return new Promise((c,e)=>d.pbkdf2(a,b,25e3,512,"sha256",(a,b)=>a?e(a):c(b)))}let i=async({collection:a,password:b,req:c})=>{let d=(0,f.wJ)(b,{name:"password",type:"text",blockData:{},data:{},event:"submit",path:["password"],preferences:{fields:{}},req:c,required:!0,siblingData:{}});if("string"==typeof d)throw new e.y({collection:a?.slug,errors:[{message:d,path:"password"}]});let i=(await g()).toString("hex");return{hash:(await h(b,i)).toString("hex"),salt:i}}},54605:(a,b,c)=>{"use strict";c.d(b,{Kl:()=>u,pe:()=>t});var d=c(89178),e=c(23192),f=c(37593),g=c(86075);class h{static [f.i]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(a,b){this.reference=()=>{let{name:b,columns:c,foreignColumns:d}=a();return{name:b,columns:c,foreignTable:d[0].table,foreignColumns:d}},b&&(this._onUpdate=b.onUpdate,this._onDelete=b.onDelete)}onUpdate(a){return this._onUpdate=void 0===a?"no action":a,this}onDelete(a){return this._onDelete=void 0===a?"no action":a,this}build(a){return new i(a,this)}}class i{constructor(a,b){this.table=a,this.reference=b.reference,this.onUpdate=b._onUpdate,this.onDelete=b._onDelete}static [f.i]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:a,columns:b,foreignColumns:c}=this.reference(),d=b.map(a=>a.name),e=c.map(a=>a.name),f=[this.table[g.E],...d,c[0].table[g.E],...e];return a??`${f.join("_")}_fk`}}var j=c(8946);function k(a,b){return`${a[g.E]}_${b.join("_")}_unique`}class l{constructor(a,b){this.name=b,this.columns=a}static [f.i]=null;columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(a){return new o(a,this.columns,this.nullsNotDistinctConfig,this.name)}}class m{static [f.i]=null;name;constructor(a){this.name=a}on(...a){return new l(a,this.name)}}class o{constructor(a,b,c,d){this.table=a,this.columns=b,this.name=d??k(this.table,this.columns.map(a=>a.name)),this.nullsNotDistinct=c}static [f.i]=null;columns;name;nullsNotDistinct=!1;getName(){return this.name}}function p(a,b,c){for(let d=b;d<a.length;d++){let e=a[d];if("\\"===e){d++;continue}if('"'===e)return[a.slice(b,d).replace(/\\/g,""),d+1];if(!c&&(","===e||"}"===e))return[a.slice(b,d).replace(/\\/g,""),d]}return[a.slice(b).replace(/\\/g,""),a.length]}function q(a,b=0){let c=[],d=b,e=!1;for(;d<a.length;){let f=a[d];if(","===f){(e||d===b)&&c.push(""),e=!0,d++;continue}if(e=!1,"\\"===f){d+=2;continue}if('"'===f){let[b,e]=p(a,d+1,!0);c.push(b),d=e;continue}if("}"===f)return[c,d+1];if("{"===f){let[b,e]=q(a,d+1);c.push(b),d=e;continue}let[g,h]=p(a,d,!1);c.push(g),d=h}return[c,d]}function r(a){let[b]=q(a,1);return b}function s(a){return`{${a.map(a=>Array.isArray(a)?s(a):"string"==typeof a?`"${a.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${a}`).join(",")}}`}class t extends d.Q{foreignKeyConfigs=[];static [f.i]="PgColumnBuilder";array(a){return new x(this.config.name,this,a)}references(a,b={}){return this.foreignKeyConfigs.push({ref:a,actions:b}),this}unique(a,b){return this.config.isUnique=!0,this.config.uniqueName=a,this.config.uniqueType=b?.nulls,this}generatedAlwaysAs(a){return this.config.generated={as:a,type:"always",mode:"stored"},this}buildForeignKeys(a,b){return this.foreignKeyConfigs.map(({ref:c,actions:d})=>(0,j.i)((c,d)=>{let e=new h(()=>({columns:[a],foreignColumns:[c()]}));return d.onUpdate&&e.onUpdate(d.onUpdate),d.onDelete&&e.onDelete(d.onDelete),e.build(b)},c,d))}buildExtraConfigColumn(a){return new v(a,this.config)}}class u extends e.V{constructor(a,b){b.uniqueName||(b.uniqueName=k(a,[b.name])),super(a,b),this.table=a}static [f.i]="PgColumn"}class v extends u{static [f.i]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(a){return this.indexConfig.opClass=a,this}}class w{static [f.i]=null;constructor(a,b,c,d){this.name=a,this.keyAsName=b,this.type=c,this.indexConfig=d}name;keyAsName;type;indexConfig}class x extends t{static [f.i]="PgArrayBuilder";constructor(a,b,c){super(a,"array","PgArray"),this.config.baseBuilder=b,this.config.size=c}build(a){let b=this.config.baseBuilder.build(a);return new y(a,this.config,b)}}class y extends u{constructor(a,b,c,d){super(a,b),this.baseColumn=c,this.range=d,this.size=b.size}size;static [f.i]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(a){return"string"==typeof a&&(a=r(a)),a.map(a=>this.baseColumn.mapFromDriverValue(a))}mapToDriverValue(a,b=!1){let c=a.map(a=>null===a?null:(0,f.is)(this.baseColumn,y)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return b?c:s(c)}}},54653:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(13334),e=c(55613),f=c(49943),g=c(93940);b.default={keyword:"properties",type:"object",schemaType:"object",code(a){let{gen:b,schema:c,parentSchema:h,data:i,it:j}=a;"all"===j.opts.removeAdditional&&void 0===h.additionalProperties&&g.default.code(new d.KeywordCxt(j,g.default,"additionalProperties"));let k=(0,e.allSchemaProperties)(c);for(let a of k)j.definedProperties.add(a);j.opts.unevaluated&&k.length&&!0!==j.props&&(j.props=f.mergeEvaluated.props(b,(0,f.toHash)(k),j.props));let l=k.filter(a=>!(0,f.alwaysValidSchema)(j,c[a]));if(0===l.length)return;let m=b.name("valid");for(let c of l)o(c)?p(c):(b.if((0,e.propertyInData)(b,i,c,j.opts.ownProperties)),p(c),j.allErrors||b.else().var(m,!0),b.endIf()),a.it.definedProperties.add(c),a.ok(m);function o(a){return j.opts.useDefaults&&!j.compositeRule&&void 0!==c[a].default}function p(b){a.subschema({keyword:"properties",schemaProp:b,dataProp:b},m)}}}},54872:(a,b,c)=>{"use strict";a.exports=e;let d=c(24797);function e(a){let b=new Date(a);return d(b)?b:b=new Date(+a)}},55079:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(49943);b.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(a){let{gen:b,schema:c,it:e}=a;if((0,d.alwaysValidSchema)(e,c))return void a.fail();let f=b.name("valid");a.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},f),a.failResult(f,()=>a.reset(),()=>a.error())},error:{message:"must NOT be valid"}}},55153:(a,b,c)=>{"use strict";let d=c(32911);a.exports=a=>b=>function(c,e){return b(c,new d({...c,retryOptions:{...a,...c.retryOptions}},{handler:e,dispatch:b}))}},55199:function(a){!function(b,c){a.exports=c()}(0,function(){var a=[],b=[],c={},d={},e={};function f(a){return"string"==typeof a?RegExp("^"+a+"$","i"):a}function g(a,b){return a===b?b:a===a.toLowerCase()?b.toLowerCase():a===a.toUpperCase()?b.toUpperCase():a[0]===a[0].toUpperCase()?b.charAt(0).toUpperCase()+b.substr(1).toLowerCase():b.toLowerCase()}function h(a,b){return a.replace(/\$(\d{1,2})/g,function(a,c){return b[c]||""})}function i(a,b){return a.replace(b[0],function(c,d){var e=h(b[1],arguments);return""===c?g(a[d-1],e):g(c,e)})}function j(a,b,d){if(!a.length||c.hasOwnProperty(a))return b;for(var e=d.length;e--;){var f=d[e];if(f[0].test(b))return i(b,f)}return b}function k(a,b,c){return function(d){var e=d.toLowerCase();return b.hasOwnProperty(e)?g(d,e):a.hasOwnProperty(e)?g(d,a[e]):j(e,d,c)}}function l(a,b,c,d){return function(d){var e=d.toLowerCase();return!!b.hasOwnProperty(e)||!a.hasOwnProperty(e)&&j(e,e,c)===e}}function m(a,b,c){var d=1===b?m.singular(a):m.plural(a);return(c?b+" ":"")+d}return m.plural=k(e,d,a),m.isPlural=l(e,d,a),m.singular=k(d,e,b),m.isSingular=l(d,e,b),m.addPluralRule=function(b,c){a.push([f(b),c])},m.addSingularRule=function(a,c){b.push([f(a),c])},m.addUncountableRule=function(a){if("string"==typeof a){c[a.toLowerCase()]=!0;return}m.addPluralRule(a,"$0"),m.addSingularRule(a,"$0")},m.addIrregularRule=function(a,b){b=b.toLowerCase(),e[a=a.toLowerCase()]=b,d[b]=a},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(a){return m.addIrregularRule(a[0],a[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(a){return m.addPluralRule(a[0],a[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(a){return m.addSingularRule(a[0],a[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(m.addUncountableRule),m})},55334:(a,b,c)=>{"use strict";c.d(b,{Z:()=>f});var d=c(67405);let e="default"in d?d.default:d,f={name:"id",type:"text",admin:{hidden:!0},defaultValue:()=>new e().toHexString(),hooks:{beforeChange:[({value:a})=>a||new e().toHexString()],beforeDuplicate:[()=>new e().toHexString()]},label:"ID"}},55414:(a,b,c)=>{"use strict";c.d(b,{AG:()=>f,ct:()=>g});var d=c(22464),e=c(75515);function f(a,b){return d(a,b,{arrayMerge:(a,b)=>b})}function g(a,b){return d(a,b,{isMergeableObject:e.Q})}},55467:a=>{"use strict";a.exports=function a(a){return a?"string"==typeof a?a.split(",").reduce((a,b,c)=>{let[d,e=c]=b.split(":");return a[d.toLowerCase()]=e,a},{}):"[object Object]"===Object.prototype.toString.call(a)?Object.keys(a).reduce((b,c)=>(b[c.toLowerCase()]=a[c],b),{}):{}:{}}},55613:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateUnion=b.validateArray=b.usePattern=b.callValidateCode=b.schemaProperties=b.allSchemaProperties=b.noPropertyInData=b.propertyInData=b.isOwnProperty=b.hasPropFunc=b.reportMissingProp=b.checkMissingProp=b.checkReportMissingProp=void 0;let d=c(86397),e=c(49943),f=c(13491),g=c(49943);function h(a){return a.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,d._)`Object.prototype.hasOwnProperty`})}function i(a,b,c){return(0,d._)`${h(a)}.call(${b}, ${c})`}function j(a,b,c,e){let f=(0,d._)`${b}${(0,d.getProperty)(c)} === undefined`;return e?(0,d.or)(f,(0,d.not)(i(a,b,c))):f}function k(a){return a?Object.keys(a).filter(a=>"__proto__"!==a):[]}b.checkReportMissingProp=function(a,b){let{gen:c,data:e,it:f}=a;c.if(j(c,e,b,f.opts.ownProperties),()=>{a.setParams({missingProperty:(0,d._)`${b}`},!0),a.error()})},b.checkMissingProp=function({gen:a,data:b,it:{opts:c}},e,f){return(0,d.or)(...e.map(e=>(0,d.and)(j(a,b,e,c.ownProperties),(0,d._)`${f} = ${e}`)))},b.reportMissingProp=function(a,b){a.setParams({missingProperty:b},!0),a.error()},b.hasPropFunc=h,b.isOwnProperty=i,b.propertyInData=function(a,b,c,e){let f=(0,d._)`${b}${(0,d.getProperty)(c)} !== undefined`;return e?(0,d._)`${f} && ${i(a,b,c)}`:f},b.noPropertyInData=j,b.allSchemaProperties=k,b.schemaProperties=function(a,b){return k(b).filter(c=>!(0,e.alwaysValidSchema)(a,b[c]))},b.callValidateCode=function({schemaCode:a,data:b,it:{gen:c,topSchemaRef:e,schemaPath:g,errorPath:h},it:i},j,k,l){let m=l?(0,d._)`${a}, ${b}, ${e}${g}`:b,o=[[f.default.instancePath,(0,d.strConcat)(f.default.instancePath,h)],[f.default.parentData,i.parentData],[f.default.parentDataProperty,i.parentDataProperty],[f.default.rootData,f.default.rootData]];i.opts.dynamicRef&&o.push([f.default.dynamicAnchors,f.default.dynamicAnchors]);let p=(0,d._)`${m}, ${c.object(...o)}`;return k!==d.nil?(0,d._)`${j}.call(${k}, ${p})`:(0,d._)`${j}(${p})`};let l=(0,d._)`new RegExp`;b.usePattern=function({gen:a,it:{opts:b}},c){let e=b.unicodeRegExp?"u":"",{regExp:f}=b.code,h=f(c,e);return a.scopeValue("pattern",{key:h.toString(),ref:h,code:(0,d._)`${"new RegExp"===f.code?l:(0,g.useFunc)(a,f)}(${c}, ${e})`})},b.validateArray=function(a){let{gen:b,data:c,keyword:f,it:g}=a,h=b.name("valid");if(g.allErrors){let a=b.let("valid",!0);return i(()=>b.assign(a,!1)),a}return b.var(h,!0),i(()=>b.break()),h;function i(g){let i=b.const("len",(0,d._)`${c}.length`);b.forRange("i",0,i,c=>{a.subschema({keyword:f,dataProp:c,dataPropType:e.Type.Num},h),b.if((0,d.not)(h),g)})}},b.validateUnion=function(a){let{gen:b,schema:c,keyword:f,it:g}=a;if(!Array.isArray(c))throw Error("ajv implementation error");if(c.some(a=>(0,e.alwaysValidSchema)(g,a))&&!g.opts.unevaluated)return;let h=b.let("valid",!1),i=b.name("_valid");b.block(()=>c.forEach((c,e)=>{let g=a.subschema({keyword:f,schemaProp:e,compositeRule:!0},i);b.assign(h,(0,d._)`${h} || ${i}`),a.mergeValidEvaluated(g,i)||b.if((0,d.not)(h))})),a.result(h,()=>a.reset(),()=>a.error(!0))}},55651:(a,b,c)=>{"use strict";let d=c(91177),e=process.env;function f(a){return"string"==typeof a?!!e[a]:"env"in a?e[a.env]&&e[a.env].includes(a.includes):"any"in a?a.any.some(function(a){return!!e[a]}):Object.keys(a).every(function(b){return e[b]===a[b]})}function g(a){switch(typeof a.pr){case"string":return!!e[a.pr];case"object":if("env"in a.pr)if("any"in a.pr)return a.pr.any.some(function(b){return e[a.pr.env]===b});else return a.pr.env in e&&e[a.pr.env]!==a.pr.ne;if("any"in a.pr)return a.pr.any.some(function(a){return!!e[a]});return f(a.pr);default:return null}}Object.defineProperty(b,"_vendors",{value:d.map(function(a){return a.constant})}),b.name=null,b.isPR=null,b.id=null,"false"!==e.CI&&d.forEach(function(a){let c=(Array.isArray(a.env)?a.env:[a.env]).every(function(a){return f(a)});b[a.constant]=c,c&&(b.name=a.name,b.isPR=g(a),b.id=a.constant)}),b.isCI=!!("false"!==e.CI&&(e.BUILD_ID||e.BUILD_NUMBER||e.CI||e.CI_APP_ID||e.CI_BUILD_ID||e.CI_BUILD_NUMBER||e.CI_NAME||e.CONTINUOUS_INTEGRATION||e.RUN_ID||b.name))},55682:(a,b,c)=>{"use strict";c.d(b,{Z:()=>k});var d=c(29021),e=c(33873),f=c(73213),g=c(62853),h=c(47449);let i=a=>a.split("\n").map(a=>`  ${a}`).join("\n"),j=({downSQL:a,imports:b,packageName:c,upSQL:d})=>`import { MigrateUpArgs, MigrateDownArgs, sql } from '${c}'
${b?`${b}
`:""}
export async function up({ db, payload, req }: MigrateUpArgs): Promise<void> {
${i(d)}
}

export async function down({ db, payload, req }: MigrateDownArgs): Promise<void> {
${i(a)}
}
`,k=({executeMethod:a,filename:b,sanitizeStatements:c})=>{let i=e.dirname(b);return async function({file:b,forceAcceptWarning:e,migrationName:k,payload:l,skipEmpty:m}){let o,p,q=l.db.migrationDir;d.existsSync(q)||d.mkdirSync(q);let{generateDrizzleJson:r,generateMigration:s,upSnapshot:t}=this.requireDrizzleKit(),u=await r(this.schema),[v,w]=new Date().toISOString().split("T"),x=v.replace(/\D/g,""),y=w.split(".")[0].replace(/\D/g,""),z="";({downSQL:o,imports:z,upSQL:p}=await (0,f.F)({dirname:i,file:b,migrationName:k,payload:l}));let A=`${x}_${y}`,B=k||b?.split("/").slice(2).join("/"),C=`${A}${B?`_${B.replace(/\W/g,"_")}`:""}`,D=`${q}/${C}`,E=this.defaultDrizzleSnapshot;if(this.schemaName&&(E.schemas={[this.schemaName]:this.schemaName}),!p){let b=d.readdirSync(q).filter(a=>a.endsWith(".json")).sort().reverse()?.[0];b&&(E=JSON.parse(d.readFileSync(`${q}/${b}`,"utf8")),t&&E.version<u.version&&(E=t(E)));let f=await s(E,u),g=await s(u,E),i=`await db.${a}(sql\``;if(f?.length&&(p=c({sqlExecute:i,statements:f})),g?.length&&(o=c({sqlExecute:i,statements:g})),!p?.length&&!o?.length&&!e){m&&process.exit(0);let{confirm:a}=await h({name:"confirm",type:"confirm",initial:!1,message:"No schema changes detected. Would you like to create a blank migration file?"},{onCancel:()=>{process.exit(0)}});a||process.exit(0)}d.writeFileSync(`${D}.json`,JSON.stringify(u,null,2))}let F=j({downSQL:o||"  // Migration code",imports:z,packageName:l.db.packageName,upSQL:p||"  // Migration code"}),G=`${D}.ts`;d.writeFileSync(G,F),(0,g.U)({migrationsDir:l.db.migrationDir}),l.logger.info({msg:`Migration created at ${G}`})}}},55694:(a,b,c)=>{"use strict";c.d(b,{Y:()=>g,h:()=>i});var d=c(95582),e=c(88283);let f=a=>async b=>{let{payload:c}=a,d=b.map(()=>null),f={};for(let a of b){let[b,d,g,h,i,j,k,l,m,o,p,q]=JSON.parse(a),r=JSON.stringify([b,d,h,i,j,k,l,m,o,p,q]),s=c.collections?.[d]?.customIDType||c.db.defaultIDType,t="number"===s?parseFloat(g):g;(0,e.m)(t,s)&&(f[r]=[...f[r]||[],t])}for(let[e,g]of Object.entries(f)){let[f,h,j,k,l,m,o,p,q,r,s]=JSON.parse(e);for(let e of(a.transactionID=f,(await c.find({collection:h,currentDepth:k,depth:j,disableErrors:!0,draft:q,fallbackLocale:m,locale:l,overrideAccess:!!o,pagination:!1,populate:s,req:a,select:r,showHiddenFields:!!p,where:{id:{in:g}}})).docs)){let c=i({collectionSlug:h,currentDepth:k,depth:j,docID:e.id,draft:q,fallbackLocale:m,locale:l,overrideAccess:o,populate:s,select:r,showHiddenFields:p,transactionID:a.transactionID}),f=b.findIndex(a=>a===c);f>-1&&(d[f]=e)}}return d},g=a=>{let b=new Map,c=new d(f(a));return c.find=c=>{let d=h(c),e=b.get(d);if(e)return e;let f=a.payload.find(c);return b.set(d,f),f},c},h=({collection:a,currentDepth:b,depth:c,disableErrors:d,draft:e,includeLockStatus:f,joins:g,limit:h,overrideAccess:i,page:j,pagination:k,populate:l,req:m,select:o,showHiddenFields:p,sort:q,where:r})=>JSON.stringify([a,b,c,d,e,f,g,h,i,j,k,l,m?.locale,m?.fallbackLocale,m?.user?.id,m?.transactionID,o,p,q,r]),i=({collectionSlug:a,currentDepth:b,depth:c,docID:d,draft:e,fallbackLocale:f,locale:g,overrideAccess:h,populate:i,select:j,showHiddenFields:k,transactionID:l})=>JSON.stringify([l,a,d,c,b,g,f,h,k,e,j,i])},55711:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.resolveSchema=b.getCompilingSchema=b.resolveRef=b.compileSchema=b.SchemaEnv=void 0;let d=c(86397),e=c(53389),f=c(13491),g=c(56863),h=c(49943),i=c(13334);class j{constructor(a){var b;let c;this.refs={},this.dynamicAnchors={},"object"==typeof a.schema&&(c=a.schema),this.schema=a.schema,this.schemaId=a.schemaId,this.root=a.root||this,this.baseId=null!=(b=a.baseId)?b:(0,g.normalizeId)(null==c?void 0:c[a.schemaId||"$id"]),this.schemaPath=a.schemaPath,this.localRefs=a.localRefs,this.meta=a.meta,this.$async=null==c?void 0:c.$async,this.refs={}}}function k(a){let b,c,h=m.call(this,a);if(h)return h;let j=(0,g.getFullPath)(this.opts.uriResolver,a.root.baseId),{es5:k,lines:l}=this.opts.code,{ownProperties:o}=this.opts,p=new d.CodeGen(this.scope,{es5:k,lines:l,ownProperties:o});a.$async&&(b=p.scopeValue("Error",{ref:e.default,code:(0,d._)`require("ajv/dist/runtime/validation_error").default`}));let q=p.scopeName("validate");a.validateName=q;let r={gen:p,allErrors:this.opts.allErrors,data:f.default.data,parentData:f.default.parentData,parentDataProperty:f.default.parentDataProperty,dataNames:[f.default.data],dataPathArr:[d.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:p.scopeValue("schema",!0===this.opts.code.source?{ref:a.schema,code:(0,d.stringify)(a.schema)}:{ref:a.schema}),validateName:q,ValidationError:b,schema:a.schema,schemaEnv:a,rootId:j,baseId:a.baseId||j,schemaPath:d.nil,errSchemaPath:a.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,d._)`""`,opts:this.opts,self:this};try{this._compilations.add(a),(0,i.validateFunctionCode)(r),p.optimize(this.opts.code.optimize);let b=p.toString();c=`${p.scopeRefs(f.default.scope)}return ${b}`,this.opts.code.process&&(c=this.opts.code.process(c,a));let e=Function(`${f.default.self}`,`${f.default.scope}`,c)(this,this.scope.get());if(this.scope.value(q,{ref:e}),e.errors=null,e.schema=a.schema,e.schemaEnv=a,a.$async&&(e.$async=!0),!0===this.opts.code.source&&(e.source={validateName:q,validateCode:b,scopeValues:p._values}),this.opts.unevaluated){let{props:a,items:b}=r;e.evaluated={props:a instanceof d.Name?void 0:a,items:b instanceof d.Name?void 0:b,dynamicProps:a instanceof d.Name,dynamicItems:b instanceof d.Name},e.source&&(e.source.evaluated=(0,d.stringify)(e.evaluated))}return a.validate=e,a}catch(b){throw delete a.validate,delete a.validateName,c&&this.logger.error("Error compiling schema, function code:",c),b}finally{this._compilations.delete(a)}}function l(a){return(0,g.inlineRef)(a.schema,this.opts.inlineRefs)?a.schema:a.validate?a:k.call(this,a)}function m(a){for(let b of this._compilations)if(o(b,a))return b}function o(a,b){return a.schema===b.schema&&a.root===b.root&&a.baseId===b.baseId}function p(a,b){let c;for(;"string"==typeof(c=this.refs[b]);)b=c;return c||this.schemas[b]||q.call(this,a,b)}function q(a,b){let c=this.opts.uriResolver.parse(b),d=(0,g._getFullPath)(this.opts.uriResolver,c),e=(0,g.getFullPath)(this.opts.uriResolver,a.baseId,void 0);if(Object.keys(a.schema).length>0&&d===e)return s.call(this,c,a);let f=(0,g.normalizeId)(d),h=this.refs[f]||this.schemas[f];if("string"==typeof h){let b=q.call(this,a,h);if("object"!=typeof(null==b?void 0:b.schema))return;return s.call(this,c,b)}if("object"==typeof(null==h?void 0:h.schema)){if(h.validate||k.call(this,h),f===(0,g.normalizeId)(b)){let{schema:b}=h,{schemaId:c}=this.opts,d=b[c];return d&&(e=(0,g.resolveUrl)(this.opts.uriResolver,e,d)),new j({schema:b,schemaId:c,root:a,baseId:e})}return s.call(this,c,h)}}b.SchemaEnv=j,b.compileSchema=k,b.resolveRef=function(a,b,c){var d;c=(0,g.resolveUrl)(this.opts.uriResolver,b,c);let e=a.refs[c];if(e)return e;let f=p.call(this,a,c);if(void 0===f){let e=null==(d=a.localRefs)?void 0:d[c],{schemaId:g}=this.opts;e&&(f=new j({schema:e,schemaId:g,root:a,baseId:b}))}if(void 0!==f)return a.refs[c]=l.call(this,f)},b.getCompilingSchema=m,b.resolveSchema=q;let r=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function s(a,{baseId:b,schema:c,root:d}){var e;let f;if((null==(e=a.fragment)?void 0:e[0])!=="/")return;for(let d of a.fragment.slice(1).split("/")){if("boolean"==typeof c)return;let a=c[(0,h.unescapeFragment)(d)];if(void 0===a)return;let e="object"==typeof(c=a)&&c[this.opts.schemaId];!r.has(d)&&e&&(b=(0,g.resolveUrl)(this.opts.uriResolver,b,e))}if("boolean"!=typeof c&&c.$ref&&!(0,h.schemaHasRulesButRef)(c,this.RULES)){let a=(0,g.resolveUrl)(this.opts.uriResolver,b,c.$ref);f=q.call(this,d,a)}let{schemaId:i}=this.opts;if((f=f||new j({schema:c,schemaId:i,root:d,baseId:b})).schema!==f.root.schema)return f}},55755:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getAwsChunkedEncodingStream=void 0;let d=c(27910);b.getAwsChunkedEncodingStream=(a,b)=>{let{base64Encoder:c,bodyLengthChecker:e,checksumAlgorithmFn:f,checksumLocationName:g,streamHasher:h}=b,i=void 0!==c&&void 0!==f&&void 0!==g&&void 0!==h,j=i?h(f,a):void 0,k=new d.Readable({read:()=>{}});return a.on("data",a=>{let b=e(a)||0;k.push(`${b.toString(16)}\r
`),k.push(a),k.push("\r\n")}),a.on("end",async()=>{if(k.push(`0\r
`),i){let a=c(await j);k.push(`${g}:${a}\r
`),k.push(`\r
`)}k.push(null)}),k}},55900:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>readMigrationFiles});var fs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(29021),node_url__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(73136),path__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(33873);let readMigrationFiles=async({payload})=>{if(!fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(payload.db.migrationDir))return payload.logger.error({msg:`No migration directory found at ${payload.db.migrationDir}`}),[];payload.logger.info({msg:`Reading migration files from ${payload.db.migrationDir}`});let files=fs__WEBPACK_IMPORTED_MODULE_0__.readdirSync(payload.db.migrationDir).sort().filter(a=>(a.endsWith(".ts")||a.endsWith(".js"))&&"index.js"!==a&&"index.ts"!==a).map(a=>path__WEBPACK_IMPORTED_MODULE_2__.resolve(payload.db.migrationDir,a));return Promise.all(files.map(async filePath=>{let migration="function"==typeof require?await eval(`require('${filePath.replaceAll("\\","/")}')`):await eval(`import('${(0,node_url__WEBPACK_IMPORTED_MODULE_1__.pathToFileURL)(filePath).href}')`);"default"in migration&&(migration=migration.default);let result={name:path__WEBPACK_IMPORTED_MODULE_2__.basename(filePath).split(".")[0],down:migration.down,up:migration.up};return result}))}},56090:(a,b,c)=>{"use strict";let d=c(90165),e=c(19110),f=Object.freeze({password:{scale:1,render:a=>"*".repeat(a.length)},emoji:{scale:2,render:a=>"\uD83D\uDE03".repeat(a.length)},invisible:{scale:0,render:a=>""},default:{scale:1,render:a=>`${a}`}}),g=a=>f[a]||f.default,h=Object.freeze({aborted:d.red(e.cross),done:d.green(e.tick),exited:d.yellow(e.cross),default:d.cyan("?")}),i=(a,b,c)=>b?h.aborted:c?h.exited:a?h.done:h.default;a.exports={styles:f,render:g,symbols:h,symbol:i,delimiter:a=>d.gray(a?e.ellipsis:e.pointerSmall),item:(a,b)=>d.gray(a?b?e.pointerSmall:"+":e.line)}},56321:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(86397),e=c(49943);b.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:a})=>(0,d._)`{propertyName: ${a.propertyName}}`},code(a){let{gen:b,schema:c,data:f,it:g}=a;if((0,e.alwaysValidSchema)(g,c))return;let h=b.name("valid");b.forIn("key",f,c=>{a.setParams({propertyName:c}),a.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},h),b.if((0,d.not)(h),()=>{a.error(!0),g.allErrors||b.break()})}),a.ok(h)}}},56327:(a,b,c)=>{"use strict";let{PoolBase:d,kClients:e,kNeedDrain:f,kAddClient:g,kGetDispatcher:h,kRemoveClient:i}=c(7281),j=c(76450),{InvalidArgumentError:k}=c(212),l=c(33895),{kUrl:m}=c(25394),o=c(53977),p=Symbol("options"),q=Symbol("connections"),r=Symbol("factory");function s(a,b){return new j(a,b)}class t extends d{constructor(a,{connections:b,factory:c=s,connect:d,connectTimeout:f,tls:g,maxCachedSessions:h,socketPath:i,autoSelectFamily:j,autoSelectFamilyAttemptTimeout:t,allowH2:u,clientTtl:v,...w}={}){if(null!=b&&(!Number.isFinite(b)||b<0))throw new k("invalid connections");if("function"!=typeof c)throw new k("factory must be a function.");if(null!=d&&"function"!=typeof d&&"object"!=typeof d)throw new k("connect must be a function or an object");super(),"function"!=typeof d&&(d=o({...g,maxCachedSessions:h,allowH2:u,socketPath:i,timeout:f,..."boolean"==typeof j?{autoSelectFamily:j,autoSelectFamilyAttemptTimeout:t}:void 0,...d})),this[q]=b||null,this[m]=l.parseOrigin(a),this[p]={...l.deepClone(w),connect:d,allowH2:u,clientTtl:v},this[p].interceptors=w.interceptors?{...w.interceptors}:void 0,this[r]=c,this.on("connect",(a,b)=>{if(null!=v&&v>0)for(let a of b)Object.assign(a,{ttl:Date.now()})}),this.on("connectionError",(a,b,c)=>{for(let a of b){let b=this[e].indexOf(a);-1!==b&&this[e].splice(b,1)}})}[h](){let a=this[p].clientTtl;for(let b of this[e])if(null!=a&&a>0&&b.ttl&&Date.now()-b.ttl>a)this[i](b);else if(!b[f])return b;if(!this[q]||this[e].length<this[q]){let a=this[r](this[m],this[p]);return this[g](a),a}}}a.exports=t},56363:(a,b,c)=>{"use strict";a.exports={DatePart:c(12266),Meridiem:c(87965),Day:c(87961),Hours:c(77968),Milliseconds:c(49045),Minutes:c(77930),Month:c(92029),Seconds:c(90214),Year:c(92546)}},56465:(a,b,c)=>{"use strict";c.d(b,{K:()=>e});var d=c(61872);class e{config;middlewareStack=(0,d.o)();initConfig;handlers;constructor(a){this.config=a}send(a,b,c){let d,e="function"!=typeof b?b:void 0,f="function"==typeof b?b:c;if(void 0===e&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);let b=this.handlers;b.has(a.constructor)?d=b.get(a.constructor):(d=a.resolveMiddleware(this.middlewareStack,this.config,e),b.set(a.constructor,d))}else delete this.handlers,d=a.resolveMiddleware(this.middlewareStack,this.config,e);if(!f)return d(a).then(a=>a.output);d(a).then(a=>f(null,a.output),a=>f(a)).catch(()=>{})}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}},56533:(a,b,c)=>{"use strict";c.d(b,{N:()=>d});let d={setTimeout:(a,b)=>setTimeout(a,b),clearTimeout:a=>clearTimeout(a)}},56664:(a,b,c)=>{"use strict";let{states:d,opcodes:e}=c(51787),{isUtf8:f}=c(4573),{collectASequenceOfCodePointsFast:g,removeHTTPWhitespace:h}=c(86541);function i(a){return a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer}function j(a){return a===e.CLOSE||a===e.PING||a===e.PONG}function k(a){return a===e.CONTINUATION}function l(a){return a===e.TEXT||a===e.BINARY}function m(a){return l(a)||k(a)||j(a)}function o(a){let b={position:0},c=new Map;for(;b.position<a.length;){let[d,e=""]=g(";",a,b).split("=",2);c.set(h(d,!0,!1),h(e,!1,!0)),b.position++}return c}function p(a){for(let b=0;b<a.length;b++){let c=a.charCodeAt(b);if(c<48||c>57)return!1}return!0}function q(a,b){let c;try{c=new URL(a,b)}catch(a){throw new DOMException(a,"SyntaxError")}if("http:"===c.protocol?c.protocol="ws:":"https:"===c.protocol&&(c.protocol="wss:"),"ws:"!==c.protocol&&"wss:"!==c.protocol)throw new DOMException("expected a ws: or wss: url","SyntaxError");if(c.hash.length||c.href.endsWith("#"))throw new DOMException("hash","SyntaxError");return c}function r(a,b){if(null!==a&&1e3!==a&&(a<3e3||a>4999))throw new DOMException("invalid code","InvalidAccessError");if(null!==b){let a=Buffer.byteLength(b);if(a>123)throw new DOMException(`Reason must be less than 123 bytes; received ${a}`,"SyntaxError")}}a.exports={isConnecting:function a(a){return a===d.CONNECTING},isEstablished:function a(a){return a===d.OPEN},isClosing:function a(a){return a===d.CLOSING},isClosed:function a(a){return a===d.CLOSED},fireEvent:function a(b,c,d=(a,b)=>new Event(a,b),e={}){let f=d(b,e);c.dispatchEvent(f)},isValidSubprotocol:function a(a){if(0===a.length)return!1;for(let b=0;b<a.length;++b){let c=a.charCodeAt(b);if(c<33||c>126||34===c||40===c||41===c||44===c||47===c||58===c||59===c||60===c||61===c||62===c||63===c||64===c||91===c||92===c||93===c||123===c||125===c)return!1}return!0},isValidStatusCode:function a(a){return a>=1e3&&a<1015?1004!==a&&1005!==a&&1006!==a:a>=3e3&&a<=4999},websocketMessageReceived:function a(a,b,c){a.onMessage(b,c)},utf8Decode:(()=>{if("string"==typeof process.versions.icu){let a=new TextDecoder("utf-8",{fatal:!0});return a.decode.bind(a)}return function(a){if(f(a))return a.toString("utf-8");throw TypeError("Invalid utf-8 received.")}})(),isControlFrame:j,isContinuationFrame:k,isTextBinaryFrame:l,isValidOpcode:m,parseExtensions:o,isValidClientWindowBits:p,toArrayBuffer:i,getURLRecord:q,validateCloseCodeAndReason:r}},56704:(a,b,c)=>{"use strict";c.d(b,{HE:()=>k,Io:()=>p,Lf:()=>q,XI:()=>o,e:()=>g});var d=c(37593),e=c(86075);let f=Symbol.for("drizzle:Schema"),g=Symbol.for("drizzle:Columns"),h=Symbol.for("drizzle:ExtraConfigColumns"),i=Symbol.for("drizzle:OriginalName"),j=Symbol.for("drizzle:BaseName"),k=Symbol.for("drizzle:IsAlias"),l=Symbol.for("drizzle:ExtraConfigBuilder"),m=Symbol.for("drizzle:IsDrizzleTable");class o{static [d.i]="Table";static Symbol={Name:e.E,Schema:f,OriginalName:i,Columns:g,ExtraConfigColumns:h,BaseName:j,IsAlias:k,ExtraConfigBuilder:l};[e.E];[i];[f];[g];[h];[j];[k]=!1;[m]=!0;[l]=void 0;constructor(a,b,c){this[e.E]=this[i]=a,this[f]=b,this[j]=c}}function p(a){return a[e.E]}function q(a){return`${a[f]??"public"}.${a[e.E]}`}},56708:(a,b,c)=>{"use strict";c.d(b,{D:()=>g,b:()=>e});var d=c(11372);let e=void 0;function f(a){return void 0===a||"string"==typeof a&&a.length<=50}function g(a){let b=(0,d.t)(a.userAgentAppId??e),{customUserAgent:c}=a;return Object.assign(a,{customUserAgent:"string"==typeof c?[[c]]:c,userAgentAppId:async()=>{let c=await b();if(!f(c)){let b=a.logger?.constructor?.name!=="NoOpLogger"&&a.logger?a.logger:console;"string"!=typeof c?b?.warn("userAgentAppId must be a string or undefined."):c.length>50&&b?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return c}})}},56753:(a,b,c)=>{"use strict";c.d(b,{i:()=>w,DE:()=>D,Mz:()=>x,HY:()=>E,YW:()=>t,v5:()=>y});var d=c(64554),e=c(65099);let f=new Map;function g(a){let b={};if(!a)return b;for(let c of a.split(";"))if(""!==c){let[a,d]=c.split(/:([^]+)/);a&&d&&(b[a.trim()]=d.trim())}return b}function h(a){let b=f.get(a);return void 0===b&&(b=g(a),f.set(a,b)),b}function i(a,...b){let c=new URL("https://lexical.dev/docs/error"),d=new URLSearchParams;for(let c of(d.append("code",a),b))d.append("v",c);throw c.search=d.toString(),Error(`Minified Lexical error #${a}; visit ${c.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function j(a){let b=1,c=a.getParent();for(;null!=c;){if(x(c)){let a=c.getParent();if(E(a)){b++,c=a.getParent();continue}i(40)}break}return b}function k(a){return x(a)&&E(a.getFirstChild())}function l(a){return w().append(a)}function m(a,b){a.splice(a.getChildrenSize(),0,b)}function o(a,b){let c=a.getLastChild(),d=b.getFirstChild();c&&d&&k(c)&&k(d)&&(o(c.getFirstChild(),d.getFirstChild()),d.remove());let e=b.getChildren();e.length>0&&a.append(...e),b.remove()}function p(a){let b="check"!==a.getListType(),c=a.getStart();for(let d of a.getChildren())x(d)&&(d.getValue()!==c&&d.setValue(c),b&&null!=d.getLatest().__checked&&d.setChecked(void 0),E(d.getFirstChild())||c++)}function q(a){let b=new Set;if(k(a)||b.has(a.getKey()))return;let c=a.getParent(),d=a.getNextSibling(),e=a.getPreviousSibling();if(k(d)&&k(e)){let c=e.getFirstChild();if(E(c)){c.append(a);let e=d.getFirstChild();E(e)&&(m(c,e.getChildren()),d.remove(),b.add(d.getKey()))}}else if(k(d)){let b=d.getFirstChild();if(E(b)){let c=b.getFirstChild();null!==c&&c.insertBefore(a)}}else if(k(e)){let b=e.getFirstChild();E(b)&&b.append(a)}else if(E(c)){let b=w().setTextFormat(a.getTextFormat()).setTextStyle(a.getTextStyle()),f=D(c.getListType()).setTextFormat(c.getTextFormat()).setTextStyle(c.getTextStyle());b.append(f),f.append(a),e?e.insertAfter(b):d?d.insertBefore(b):c.append(b)}}function r(a){if(k(a))return;let b=a.getParent(),c=b?b.getParent():void 0;if(E(c?c.getParent():void 0)&&x(c)&&E(b)){let d=b?b.getFirstChild():void 0,e=b?b.getLastChild():void 0;if(a.is(d))c.insertBefore(a),b.isEmpty()&&c.remove();else if(a.is(e))c.insertAfter(a),b.isEmpty()&&c.remove();else{let d=b.getListType(),e=w(),f=D(d);e.append(f),a.getPreviousSiblings().forEach(a=>f.append(a));let g=w(),h=D(d);g.append(h),m(h,a.getNextSiblings()),c.insertBefore(e),c.insertAfter(g),c.replace(a)}}}function s(...a){let b=[];for(let c of a)if(c&&"string"==typeof c)for(let[a]of c.matchAll(/\S+/g))b.push(a);return b}class t extends e.fGB{$config(){return this.config("listitem",{$transform:a=>{if(null==a.__checked)return;let b=a.getParent();E(b)&&"check"!==b.getListType()&&null!=a.getChecked()&&a.setChecked(void 0)},extends:e.fGB,importDOM:(0,e.kBm)({li:()=>({conversion:u,priority:0})})})}constructor(a=1,b,c){super(c),this.__value=void 0===a?1:a,this.__checked=b}afterCloneFrom(a){super.afterCloneFrom(a),this.__value=a.__value,this.__checked=a.__checked}createDOM(a){let b=document.createElement("li");return this.updateListItemDOM(null,b,a),b}updateListItemDOM(a,b,c){let e=this.getParent();E(e)&&"check"===e.getListType()&&function(a,b,c,d){E(b.getFirstChild())?(a.removeAttribute("role"),a.removeAttribute("tabIndex"),a.removeAttribute("aria-checked")):(a.setAttribute("role","checkbox"),a.setAttribute("tabIndex","-1"),c&&b.__checked===c.__checked||a.setAttribute("aria-checked",b.getChecked()?"true":"false"))}(b,this,a),b.value=this.__value,function(a,b,c){let e,f=[],g=[],h=b.list,i=h?h.listitem:void 0;if(h&&h.nested&&(e=h.nested.listitem),void 0!==i&&f.push(...s(i)),h){let a=c.getParent(),b=E(a)&&"check"===a.getListType(),d=c.getChecked();b&&!d||g.push(h.listitemUnchecked),b&&d||g.push(h.listitemChecked),b&&f.push(d?h.listitemChecked:h.listitemUnchecked)}if(void 0!==e){let a=s(e);c.getChildren().some(a=>E(a))?f.push(...a):g.push(...a)}g.length>0&&(0,d.HE)(a,...g),f.length>0&&(0,d.ZB)(a,...f)}(b,c.theme,this);let f=a?a.__style:"",g=this.__style;f!==g&&(""===g?b.removeAttribute("style"):b.style.cssText=g),function(a,b,c){let d=h(b.__textStyle);for(let b in d)a.style.setProperty(`--listitem-marker-${b}`,d[b]);if(c)for(let b in h(c.__textStyle))b in d||a.style.removeProperty(`--listitem-marker-${b}`)}(b,this,a)}updateDOM(a,b,c){let d=b;return this.updateListItemDOM(a,d,c),!1}updateFromJSON(a){return super.updateFromJSON(a).setValue(a.value).setChecked(a.checked)}exportDOM(a){let b=this.createDOM(a._config),c=this.getFormatType();c&&(b.style.textAlign=c);let d=this.getDirection();return d&&(b.dir=d),{element:b}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...a){for(let b=0;b<a.length;b++){let c=a[b];if((0,e.ff4)(c)&&this.canMergeWith(c)){let a=c.getChildren();this.append(...a),c.remove()}else super.append(c)}return this}replace(a,b){if(x(a))return super.replace(a);this.setIndent(0);let c=this.getParentOrThrow();if(!E(c))return a;if(c.__first===this.getKey())c.insertBefore(a);else if(c.__last===this.getKey())c.insertAfter(a);else{let b=D(c.getListType()),d=this.getNextSibling();for(;d;){let a=d;d=d.getNextSibling(),b.append(a)}c.insertAfter(a),a.insertAfter(b)}return b&&((0,e.ff4)(a)||i(139),this.getChildren().forEach(b=>{a.append(b)})),this.remove(),0===c.getChildrenSize()&&c.remove(),a}insertAfter(a,b=!0){let c=this.getParentOrThrow();if(E(c)||i(39),x(a))return super.insertAfter(a,b);let d=this.getNextSiblings();if(c.insertAfter(a,b),0!==d.length){let e=D(c.getListType());d.forEach(a=>e.append(a)),a.insertAfter(e,b)}return a}remove(a){let b=this.getPreviousSibling(),c=this.getNextSibling();super.remove(a),b&&c&&k(b)&&k(c)&&(o(b.getFirstChild(),c.getFirstChild()),c.remove())}insertNewAfter(a,b=!0){let c=w().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(c,b),c}collapseAtStart(a){let b=(0,e.lJ7)();this.getChildren().forEach(a=>b.append(a));let c=this.getParentOrThrow(),d=c.getParentOrThrow(),f=x(d);if(1===c.getChildrenSize())if(f)c.remove(),d.select();else{c.insertBefore(b),c.remove();let d=a.anchor,e=a.focus,f=b.getKey();"element"===d.type&&d.getNode().is(this)&&d.set(f,d.offset,"element"),"element"===e.type&&e.getNode().is(this)&&e.set(f,e.offset,"element")}else c.insertBefore(b),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(a){let b=this.getWritable();return b.__value=a,b}getChecked(){let a,b=this.getLatest(),c=this.getParent();return E(c)&&(a=c.getListType()),"check"===a?!!b.__checked:void 0}setChecked(a){let b=this.getWritable();return b.__checked=a,b}toggleChecked(){let a=this.getWritable();return a.setChecked(!a.__checked)}getIndent(){let a=this.getParent();if(null===a||!this.isAttached())return this.getLatest().__indent;let b=a.getParentOrThrow(),c=0;for(;x(b);)b=b.getParentOrThrow().getParentOrThrow(),c++;return c}setIndent(a){"number"!=typeof a&&i(117),(a=Math.floor(a))>=0||i(199);let b=this.getIndent();for(;b!==a;)b<a?(q(this),b++):(r(this),b--);return this}canInsertAfter(a){return x(a)}canReplaceWith(a){return x(a)}canMergeWith(a){return x(a)||(0,e.bSg)(a)}extractWithChild(a,b){if(!(0,e.I2P)(b))return!1;let c=b.anchor.getNode(),d=b.focus.getNode();return this.isParentOf(c)&&this.isParentOf(d)&&this.getTextContent().length===b.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return D("bullet")}canMergeWhenEmpty(){return!0}}function u(a){if(a.classList.contains("task-list-item")){for(let b of a.children)if("INPUT"===b.tagName)return v(b)}let b=a.getAttribute("aria-checked");return{node:w("true"===b||"false"!==b&&void 0)}}function v(a){return"checkbox"!==a.getAttribute("type")?{node:null}:{node:w(a.hasAttribute("checked"))}}function w(a){return(0,e.pTq)(new t(void 0,a))}function x(a){return a instanceof t}class y extends e.fGB{$config(){return this.config("list",{$transform:a=>{!function(a){let b=a.getNextSibling();E(b)&&a.getListType()===b.getListType()&&o(a,b)}(a),p(a)},extends:e.fGB,importDOM:(0,e.kBm)({ol:()=>({conversion:B,priority:0}),ul:()=>({conversion:B,priority:0})})})}constructor(a="number",b=1,c){super(c);let d=C[a]||a;this.__listType=d,this.__tag="number"===d?"ol":"ul",this.__start=b}afterCloneFrom(a){super.afterCloneFrom(a),this.__listType=a.__listType,this.__tag=a.__tag,this.__start=a.__start}getTag(){return this.getLatest().__tag}setListType(a){let b=this.getWritable();return b.__listType=a,b.__tag="number"===a?"ol":"ul",b}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(a){let b=this.getWritable();return b.__start=a,b}createDOM(a,b){let c=this.__tag,d=document.createElement(c);return 1!==this.__start&&d.setAttribute("start",String(this.__start)),d.__lexicalListType=this.__listType,z(d,a.theme,this),d}updateDOM(a,b,c){return a.__tag!==this.__tag||(z(b,c.theme,this),!1)}updateFromJSON(a){return super.updateFromJSON(a).setListType(a.listType).setStart(a.start)}exportDOM(a){let b=this.createDOM(a._config,a);return(0,e.sby)(b)&&(1!==this.__start&&b.setAttribute("start",String(this.__start)),"check"===this.__listType&&b.setAttribute("__lexicalListType","check")),{element:b}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(a,b,c){let d=c;for(let a=0;a<c.length;a++){let b=c[a];x(b)||(d===c&&(d=[...c]),d[a]=w().append(!(0,e.ff4)(b)||E(b)||b.isInline()?b:(0,e.sTu)(b.getTextContent())))}return super.splice(a,b,d)}extractWithChild(a){return x(a)}}function z(a,b,c){let e=[],f=[],g=b.list;if(void 0!==g){let a,b=g[`${c.__tag}Depth`]||[],d=j(c)-1,h=d%b.length,i=b[h],k=g[c.__tag],l=g.nested,m=g.checklist;if(void 0!==l&&l.list&&(a=l.list),void 0!==k&&e.push(k),void 0!==m&&"check"===c.__listType&&e.push(m),void 0!==i){e.push(...s(i));for(let a=0;a<b.length;a++)a!==h&&f.push(c.__tag+a)}if(void 0!==a){let b=s(a);d>1?e.push(...b):f.push(...b)}}f.length>0&&(0,d.HE)(a,...f),e.length>0&&(0,d.ZB)(a,...e)}function A(a){let b=[];for(let c=0;c<a.length;c++){let d=a[c];if(x(d)){b.push(d);let a=d.getChildren();a.length>1&&a.forEach(a=>{E(a)&&b.push(l(a))})}else b.push(l(d))}return b}function B(a){let b=a.nodeName.toLowerCase(),c=null;return"ol"===b?c=D("number",a.start):"ul"===b&&(c=!function(a){if("check"===a.getAttribute("__lexicallisttype")||a.classList.contains("contains-task-list"))return!0;for(let b of a.childNodes)if((0,e.sby)(b)&&b.hasAttribute("aria-checked"))return!0;return!1}(a)?D("bullet"):D("check")),{after:A,node:c}}let C={ol:"number",ul:"bullet"};function D(a="number",b=1){return(0,e.pTq)(new y(a,b))}function E(a){return a instanceof y}(0,e.guI)("INSERT_CHECK_LIST_COMMAND"),(0,e.guI)("UPDATE_LIST_START_COMMAND"),(0,e.guI)("INSERT_UNORDERED_LIST_COMMAND"),(0,e.guI)("INSERT_ORDERED_LIST_COMMAND"),(0,e.guI)("REMOVE_LIST_COMMAND")},56810:a=>{"use strict";a.exports=SyntaxError},56863:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getSchemaRefs=b.resolveUrl=b.normalizeId=b._getFullPath=b.getFullPath=b.inlineRef=void 0;let d=c(49943),e=c(49102),f=c(51564),g=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);b.inlineRef=function(a,b=!0){return"boolean"==typeof a||(!0===b?!i(a):!!b&&j(a)<=b)};let h=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function i(a){for(let b in a){if(h.has(b))return!0;let c=a[b];if(Array.isArray(c)&&c.some(i)||"object"==typeof c&&i(c))return!0}return!1}function j(a){let b=0;for(let c in a)if("$ref"===c||(b++,!g.has(c)&&("object"==typeof a[c]&&(0,d.eachItem)(a[c],a=>b+=j(a)),b===1/0)))return 1/0;return b}function k(a,b="",c){!1!==c&&(b=o(b));let d=a.parse(b);return l(a,d)}function l(a,b){return a.serialize(b).split("#")[0]+"#"}b.getFullPath=k,b._getFullPath=l;let m=/#\/?$/;function o(a){return a?a.replace(m,""):""}b.normalizeId=o,b.resolveUrl=function(a,b,c){return c=o(c),a.resolve(b,c)};let p=/^[a-z_][-a-z0-9._]*$/i;b.getSchemaRefs=function(a,b){if("boolean"==typeof a)return{};let{schemaId:c,uriResolver:d}=this.opts,g=o(a[c]||b),h={"":g},i=k(d,g,!1),j={},l=new Set;return f(a,{allKeys:!0},(a,b,d,e)=>{if(void 0===e)return;let f=i+b,g=h[e];function k(b){let c=this.opts.uriResolver.resolve;if(b=o(g?c(g,b):b),l.has(b))throw q(b);l.add(b);let d=this.refs[b];return"string"==typeof d&&(d=this.refs[d]),"object"==typeof d?m(a,d.schema,b):b!==o(f)&&("#"===b[0]?(m(a,j[b],b),j[b]=a):this.refs[b]=f),b}function r(a){if("string"==typeof a){if(!p.test(a))throw Error(`invalid anchor "${a}"`);k.call(this,`#${a}`)}}"string"==typeof a[c]&&(g=k.call(this,a[c])),r.call(this,a.$anchor),r.call(this,a.$dynamicAnchor),h[b]=g}),j;function m(a,b,c){if(void 0!==b&&!e(a,b))throw q(c)}function q(a){return Error(`reference "${a}" resolves to more than one schema`)}}},56998:(a,b,c)=>{"use strict";c.d(b,{v:()=>d});let d=({err:a,payload:b})=>{let c="error";if(a&&"object"==typeof a&&"name"in a&&"string"==typeof a.name&&void 0!==b.config.loggingLevels[a.name]&&(c=b.config.loggingLevels[a.name]),c){let d={};"info"===c?d.msg="object"==typeof a&&"message"in a?a.message:"Error":d.err=a,b.logger[c](d)}}},57015:a=>{"use strict";a.exports=function(){}},57378:(a,b,c)=>{"use strict";c.d(b,{k:()=>d});let d=(0,c(50474).m)({feature:({props:a})=>{let b={applyToFocusedEditor:a?.applyToFocusedEditor!==void 0&&a.applyToFocusedEditor,customGroups:a?.customGroups,disableIfParentHasFixedToolbar:a?.disableIfParentHasFixedToolbar!==void 0&&a.disableIfParentHasFixedToolbar};return{ClientFeature:"@payloadcms/richtext-lexical/client#FixedToolbarFeatureClient",clientFeatureProps:b,sanitizedServerFeatureProps:b}},key:"toolbarFixed"})},57511:(a,b,c)=>{"use strict";let d=c(34589),{AsyncResource:e}=c(16698),{InvalidArgumentError:f,SocketError:g}=c(212),h=c(33895),{addSignal:i,removeSignal:j}=c(21291);class k extends e{constructor(a,b){if(!a||"object"!=typeof a)throw new f("invalid opts");if("function"!=typeof b)throw new f("invalid callback");let{signal:c,opaque:d,responseHeaders:e}=a;if(c&&"function"!=typeof c.on&&"function"!=typeof c.addEventListener)throw new f("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=d||null,this.responseHeaders=e||null,this.callback=b,this.abort=null,i(this,c)}onConnect(a,b){if(this.reason)return void a(this.reason);d(this.callback),this.abort=a,this.context=b}onHeaders(){throw new g("bad connect",null)}onUpgrade(a,b,c){let{callback:d,opaque:e,context:f}=this;j(this),this.callback=null;let g=b;null!=g&&(g="raw"===this.responseHeaders?h.parseRawHeaders(b):h.parseHeaders(b)),this.runInAsyncScope(d,null,null,{statusCode:a,headers:g,socket:c,opaque:e,context:f})}onError(a){let{callback:b,opaque:c}=this;j(this),b&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(b,null,a,{opaque:c})}))}}function l(a,b){if(void 0===b)return new Promise((b,c)=>{l.call(this,a,(a,d)=>a?c(a):b(d))});try{let c=new k(a,b),d={...a,method:"CONNECT"};this.dispatch(d,c)}catch(d){if("function"!=typeof b)throw d;let c=a?.opaque;queueMicrotask(()=>b(d,{opaque:c}))}}a.exports=l},57801:(a,b,c)=>{"use strict";c.d(b,{BI:()=>D});var d=c(79646),e=c(55651),f=c(55511),g=c(29021),h=c(33873),i=c(79551);async function j({condition:a,dir:b,fileNames:c}){let{root:d}=h.parse(b);for(;;){if(c?.length){let e=!1;for(let d of c){let c=h.resolve(b,d);if(await k(c)){if(!a)return c;e=!0;break}}if(!e&&b!==d){b=h.dirname(b);continue}}let e=await a?.(b);if(!0===e)return b;if("string"==typeof e&&e?.length)return e;if(b===d)return null;b=h.dirname(b)}}async function k(a){try{return await g.promises.access(a),!0}catch{return!1}}var l=c(34589),m=c(73024),o=c(76760),p=c(48161),q=c(1708);let r=p.homedir(),s=p.tmpdir(),{env:t}=q,u=a=>{let b=o.join(r,"Library");return{cache:o.join(b,"Caches",a),config:o.join(b,"Preferences",a),data:o.join(b,"Application Support",a),log:o.join(b,"Logs",a),temp:o.join(s,a)}},v=a=>{let b=t.APPDATA||o.join(r,"AppData","Roaming"),c=t.LOCALAPPDATA||o.join(r,"AppData","Local");return{cache:o.join(c,a,"Cache"),config:o.join(b,a,"Config"),data:o.join(c,a,"Data"),log:o.join(c,a,"Log"),temp:o.join(s,a)}},w=a=>{let b=o.basename(r);return{cache:o.join(t.XDG_CACHE_HOME||o.join(r,".cache"),a),config:o.join(t.XDG_CONFIG_HOME||o.join(r,".config"),a),data:o.join(t.XDG_DATA_HOME||o.join(r,".local","share"),a),log:o.join(t.XDG_STATE_HOME||o.join(r,".local","state"),a),temp:o.join(s,b,a)}};function x(a,{suffix:b="nodejs"}={}){if("string"!=typeof a)throw TypeError(`Expected a string, got ${typeof a}`);return(b&&(a+=`-${b}`),"darwin"===q.platform)?u(a):"win32"===q.platform?v(a):w(a)}let y=()=>Object.create(null),z=(a,b)=>{let c=new Set(["function","symbol","undefined"]),d=typeof b;if(c.has(d))throw TypeError(`Setting a value of type \`${d}\` for key \`${a}\` is not allowed as it's not supported by JSON`)};class A{#f;_deserialize=a=>JSON.parse(a);_serialize=a=>JSON.stringify(a,void 0,"	");events;path;constructor(){let a={configFileMode:438,configName:"config",fileExtension:"json",projectSuffix:"nodejs"},b=x("payload",{suffix:a.projectSuffix}).config;this.#f=a,this.events=new EventTarget;let c=a.fileExtension?`.${a.fileExtension}`:"";this.path=o.resolve(b,`${a.configName??"config"}${c}`);let d=this.store,e=Object.assign(y(),d);try{l.deepEqual(d,e)}catch{this.store=e}}_ensureDirectory(){m.mkdirSync(o.dirname(this.path),{recursive:!0})}_write(a){let b=this._serialize(a);m.writeFileSync(this.path,b,{mode:this.#f.configFileMode})}delete(a){let{store:b}=this;delete b[a],this.store=b}get(a){let{store:b}=this;return b[a]}set(a,b){if("string"!=typeof a&&"object"!=typeof a)throw TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof a}`);if("object"!=typeof a&&void 0===b)throw TypeError("Use `delete()` to clear values");let{store:c}=this,d=(a,b)=>{z(a,b),c[a]=b};if("object"==typeof a)for(let[b,c]of Object.entries(a))d(b,c);else d(a,b);this.store=c}*[Symbol.iterator](){for(let[a,b]of Object.entries(this.store))yield[a,b]}get size(){return Object.keys(this.store).length}get store(){try{let a=m.readFileSync(this.path,"utf8"),b=this._deserialize(a);return Object.assign(y(),b)}catch(a){if(a?.code==="ENOENT")return this._ensureDirectory(),y();throw a}}set store(a){this._ensureDirectory(),this._write(a),this.events.dispatchEvent(new Event("change"))}}var B=c(46985);let C=null,D=async({event:a,payload:b})=>{try{if(!1!==b.config.telemetry){let{packageJSON:c,packageJSONPath:d}=await H();if(!C){let{projectID:a,source:d}=F(b,c);C={ciName:e.isCI?e.name:null,envID:E(),isCI:e.isCI,nodeEnv:"production",nodeVersion:process.version,payloadVersion:J(c),projectID:a,projectIDSource:d,...K(b),dbAdapter:b.db.name,emailAdapter:b.email?.name||null,uploadAdapters:b.config.upload.adapters}}if(process.env.PAYLOAD_TELEMETRY_DEBUG)return void b.logger.info({event:{...C,...a,packageJSONPath:d},msg:"Telemetry Event"});await fetch("https://telemetry.payloadcms.com/events",{body:JSON.stringify({...C,...a}),headers:{"Content-Type":"application/json"},method:"post"})}}catch(a){}},E=()=>{let a=new A,b="envID",c=a.get(b);if(c)return c;let d=(0,f.randomBytes)(32).toString("hex");return a.set(b,d),d},F=(a,b)=>{let c=G(a);if(c)return{projectID:(0,B.Q)(c,a.secret),source:"git"};let d=I(a,b);if(d)return{projectID:(0,B.Q)(d,a.secret),source:"packageJSON"};let e=a.config.serverURL;if(e)return{projectID:(0,B.Q)(e,a.secret),source:"serverURL"};let f=process.cwd();return{projectID:(0,B.Q)(f,a.secret),source:"cwd"}},G=a=>{try{let b=(0,d.execSync)("git config --local --get remote.origin.url",{stdio:"pipe",timeout:1e3});return(0,B.Q)(String(b).trim(),a.secret)}catch(a){return null}},H=async()=>{let a=h.resolve(process.cwd(),"package.json");if(!g.existsSync(a)){let b=(0,i.fileURLToPath)("file:///Users/Owner/my-project/.conductor/abuja-v1/node_modules/.pnpm/payload@3.60.0_bufferutil@4.0.9_graphql@16.11.0_typescript@5.7.2_utf-8-validate@6.0.5/node_modules/payload/dist/utilities/telemetry/index.js"),c=h.dirname(b);a=await j({dir:c,fileNames:["package.json"]})}return{packageJSON:JSON.parse(await g.promises.readFile(a,"utf-8")),packageJSONPath:a}},I=(a,b)=>(0,B.Q)(b.name,a.secret),J=a=>a?.dependencies?.payload??"",K=a=>a.config.localization?{locales:a.config.localization.localeCodes,localizationDefaultLocale:a.config.localization.defaultLocale,localizationEnabled:!0}:{locales:[],localizationDefaultLocale:null,localizationEnabled:!1}},57819:(a,b,c)=>{"use strict";async function d(a){let{payload:b,transactionID:c}=a;await b.db.commitTransaction(c),delete a.transactionID}c.d(b,{w:()=>d})},57860:(a,b,c)=>{a.exports=c(28354).inspect},58035:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.preProcessRows=b.preProcessColumns=void 0;let d=c(98667),e=a=>{a.computedColumns.length&&a.computedColumns.forEach(b=>{a.addColumn(b),a.rows.forEach(a=>{a.text[b.name]=b.function(a.text)})})},f=a=>{a.enabledColumns.length&&(a.columns=a.columns.filter(b=>a.enabledColumns.includes(b.name)))},g=a=>{a.disabledColumns.length&&(a.columns=a.columns.filter(b=>!a.disabledColumns.includes(b.name)))},h=a=>{a.columns.forEach(b=>{b.length=(0,d.findLenOfColumn)(b,a.rows,a.charLength)})};b.preProcessColumns=a=>{e(a),g(a),f(a),h(a)},b.preProcessRows=a=>{let b=a.rows.filter(b=>a.filterFunction(b.text)).sort((b,c)=>a.sortFunction(b.text,c.text));a.rows=b}},58052:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.extendErrors=b.resetErrorsCount=b.reportExtraError=b.reportError=b.keyword$DataError=b.keywordError=void 0;let d=c(86397),e=c(49943),f=c(13491);function g(a,c=b.keywordError,e,f){let{it:h}=a,{gen:k,compositeRule:m,allErrors:o}=h,p=l(a,c,e);(null!=f?f:m||o)?i(k,p):j(h,(0,d._)`[${p}]`)}function h(a,c=b.keywordError,d){let{it:e}=a,{gen:g,compositeRule:k,allErrors:m}=e;i(g,l(a,c,d)),k||m||j(e,f.default.vErrors)}function i(a,b){let c=a.const("err",b);a.if((0,d._)`${f.default.vErrors} === null`,()=>a.assign(f.default.vErrors,(0,d._)`[${c}]`),(0,d._)`${f.default.vErrors}.push(${c})`),a.code((0,d._)`${f.default.errors}++`)}function j(a,b){let{gen:c,validateName:e,schemaEnv:f}=a;f.$async?c.throw((0,d._)`new ${a.ValidationError}(${b})`):(c.assign((0,d._)`${e}.errors`,b),c.return(!1))}b.keywordError={message:({keyword:a})=>(0,d.str)`must pass "${a}" keyword validation`},b.keyword$DataError={message:({keyword:a,schemaType:b})=>b?(0,d.str)`"${a}" keyword must be ${b} ($data)`:(0,d.str)`"${a}" keyword is invalid ($data)`},b.reportError=g,b.reportExtraError=h,b.resetErrorsCount=function(a,b){a.assign(f.default.errors,b),a.if((0,d._)`${f.default.vErrors} !== null`,()=>a.if(b,()=>a.assign((0,d._)`${f.default.vErrors}.length`,b),()=>a.assign(f.default.vErrors,null)))},b.extendErrors=function({gen:a,keyword:b,schemaValue:c,data:e,errsCount:g,it:h}){if(void 0===g)throw Error("ajv implementation error");let i=a.name("err");a.forRange("i",g,f.default.errors,g=>{a.const(i,(0,d._)`${f.default.vErrors}[${g}]`),a.if((0,d._)`${i}.instancePath === undefined`,()=>a.assign((0,d._)`${i}.instancePath`,(0,d.strConcat)(f.default.instancePath,h.errorPath))),a.assign((0,d._)`${i}.schemaPath`,(0,d.str)`${h.errSchemaPath}/${b}`),h.opts.verbose&&(a.assign((0,d._)`${i}.schema`,c),a.assign((0,d._)`${i}.data`,e))})};let k={keyword:new d.Name("keyword"),schemaPath:new d.Name("schemaPath"),params:new d.Name("params"),propertyName:new d.Name("propertyName"),message:new d.Name("message"),schema:new d.Name("schema"),parentSchema:new d.Name("parentSchema")};function l(a,b,c){let{createErrors:e}=a.it;return!1===e?(0,d._)`{}`:m(a,b,c)}function m(a,b,c={}){let{gen:d,it:e}=a,f=[o(e,c),p(a,c)];return q(a,b,f),d.object(...f)}function o({errorPath:a},{instancePath:b}){let c=b?(0,d.str)`${a}${(0,e.getErrorPath)(b,e.Type.Str)}`:a;return[f.default.instancePath,(0,d.strConcat)(f.default.instancePath,c)]}function p({keyword:a,it:{errSchemaPath:b}},{schemaPath:c,parentSchema:f}){let g=f?b:(0,d.str)`${b}/${a}`;return c&&(g=(0,d.str)`${g}${(0,e.getErrorPath)(c,e.Type.Str)}`),[k.schemaPath,g]}function q(a,{params:b,message:c},e){let{keyword:g,data:h,schemaValue:i,it:j}=a,{opts:l,propertyName:m,topSchemaRef:o,schemaPath:p}=j;e.push([k.keyword,g],[k.params,"function"==typeof b?b(a):b||(0,d._)`{}`]),l.messages&&e.push([k.message,"function"==typeof c?c(a):c]),l.verbose&&e.push([k.schema,i],[k.parentSchema,(0,d._)`${o}${p}`],[f.default.data,h]),m&&e.push([k.propertyName,m])}},58179:(a,b,c)=>{"use strict";c.d(b,{h:()=>h,x:()=>i});var d=c(26146),e=c(11372),f=c(79634),g=c(19443);let h=a=>{let b,c,f=a.credentials,h=!!a.credentials;Object.defineProperty(a,"credentials",{set(c){c&&c!==f&&c!==b&&(h=!0);let e=j(a,{credentials:f=c,credentialDefaultProvider:a.credentialDefaultProvider}),g=k(a,e);h&&!g.attributed?((b=async a=>g(a).then(a=>(0,d.g)(a,"CREDENTIALS_CODE","e"))).memoized=g.memoized,b.configBound=g.configBound,b.attributed=!0):b=g},get:()=>b,enumerable:!0,configurable:!0}),a.credentials=f;let{signingEscapePath:i=!0,systemClockOffset:l=a.systemClockOffset||0,sha256:m}=a;return c=a.signer?(0,e.t)(a.signer):a.regionInfoProvider?()=>(0,e.t)(a.region)().then(async b=>[await a.regionInfoProvider(b,{useFipsEndpoint:await a.useFipsEndpoint(),useDualstackEndpoint:await a.useDualstackEndpoint()})||{},b]).then(([b,c])=>{let{signingRegion:d,signingService:e}=b;a.signingRegion=a.signingRegion||d||c,a.signingName=a.signingName||e||a.serviceId;let f={...a,credentials:a.credentials,region:a.signingRegion,service:a.signingName,sha256:m,uriEscapePath:i};return new(a.signerConstructor||g.B)(f)}):async b=>{let c=(b=Object.assign({},{name:"sigv4",signingName:a.signingName||a.defaultSigningName,signingRegion:await (0,e.t)(a.region)(),properties:{}},b)).signingRegion,d=b.signingName;a.signingRegion=a.signingRegion||c,a.signingName=a.signingName||d||a.serviceId;let f={...a,credentials:a.credentials,region:a.signingRegion,service:a.signingName,sha256:m,uriEscapePath:i};return new(a.signerConstructor||g.B)(f)},Object.assign(a,{systemClockOffset:l,signingEscapePath:i,signer:c})},i=h;function j(a,{credentials:b,credentialDefaultProvider:c}){let d;return(d=b?b?.memoized?b:(0,f.K4)(b,f.OC,f.e):c?(0,e.t)(c(Object.assign({},a,{parentClientConfig:a}))):async()=>{throw Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")}).memoized=!0,d}function k(a,b){if(b.configBound)return b;let c=async c=>b({...c,callerClientConfig:a});return c.memoized=b.memoized,c.configBound=!0,c}},58214:(a,b,c)=>{"use strict";let d=c(90165),{cursor:e}=c(1298),f=c(32741),{clear:g,figures:h,style:i,wrap:j,entriesToDisplay:k}=c(67406);class l extends f{constructor(a={}){super(a),this.msg=a.message,this.cursor=a.cursor||0,this.scrollIndex=a.cursor||0,this.hint=a.hint||"",this.warn=a.warn||"- This option is disabled -",this.minSelected=a.min,this.showMinError=!1,this.maxChoices=a.max,this.instructions=a.instructions,this.optionsPerPage=a.optionsPerPage||10,this.value=a.choices.map((a,b)=>("string"==typeof a&&(a={title:a,value:b}),{title:a&&(a.title||a.value||a),description:a&&a.description,value:a&&(void 0===a.value?b:a.value),selected:a&&a.selected,disabled:a&&a.disabled})),this.clear=g("",this.out.columns),a.overrideRender||this.render()}reset(){this.value.map(a=>!a.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(a=>a.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){let a=this.value.filter(a=>a.selected);this.minSelected&&a.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let a=this.value[this.cursor];if(a.selected)a.selected=!1,this.render();else{if(a.disabled||this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();a.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();let a=!this.value[this.cursor].selected;this.value.filter(a=>!a.disabled).forEach(b=>b.selected=a),this.render()}_(a,b){if(" "===a)this.handleSpaceToggle();else{if("a"!==a)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${h.arrowUp}/${h.arrowDown}: Highlight option
    ${h.arrowLeft}/${h.arrowRight}/[space]: Toggle selection
`+(void 0===this.maxChoices?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(a,b,c,e){let f,g,i=(b.selected?d.green(h.radioOn):h.radioOff)+" "+e+" ";return b.disabled?f=a===c?d.gray().underline(b.title):d.strikethrough().gray(b.title):(f=a===c?d.cyan().underline(b.title):b.title,a===c&&b.description&&(g=` - ${b.description}`,(i.length+f.length+g.length>=this.out.columns||b.description.split(/\r?\n/).length>1)&&(g="\n"+j(b.description,{margin:i.length,width:this.out.columns})))),i+f+d.gray(g||"")}paginateOptions(a){if(0===a.length)return d.red("No matches for this query.");let{startIndex:b,endIndex:c}=k(this.cursor,a.length,this.optionsPerPage),e,f=[];for(let d=b;d<c;d++)e=d===b&&b>0?h.arrowUp:d===c-1&&c<a.length?h.arrowDown:" ",f.push(this.renderOption(this.cursor,a[d],d,e));return"\n"+f.join("\n")}renderOptions(a){return this.done?"":this.paginateOptions(a)}renderDoneOrInstructions(){if(this.done)return this.value.filter(a=>a.selected).map(a=>a.title).join(", ");let a=[d.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&a.push(d.yellow(this.warn)),a.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let a=[i.symbol(this.done,this.aborted),d.bold(this.msg),i.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(a+=d.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),a+=this.renderOptions(this.value),this.out.write(this.clear+a),this.clear=g(a,this.out.columns)}}a.exports=l},58304:(a,b,c)=>{"use strict";let{getResponseData:d,buildKey:e,addMockDispatch:f}=c(26810),{kDispatches:g,kDispatchKey:h,kDefaultHeaders:i,kDefaultTrailers:j,kContentLength:k,kMockDispatch:l,kIgnoreTrailingSlash:m}=c(77938),{InvalidArgumentError:o}=c(212),{serializePathWithQuery:p}=c(33895);class q{constructor(a){this[l]=a}delay(a){if("number"!=typeof a||!Number.isInteger(a)||a<=0)throw new o("waitInMs must be a valid integer > 0");return this[l].delay=a,this}persist(){return this[l].persist=!0,this}times(a){if("number"!=typeof a||!Number.isInteger(a)||a<=0)throw new o("repeatTimes must be a valid integer > 0");return this[l].times=a,this}}class r{constructor(a,b){if("object"!=typeof a)throw new o("opts must be an object");if(void 0===a.path)throw new o("opts.path must be defined");if(void 0===a.method&&(a.method="GET"),"string"==typeof a.path)if(a.query)a.path=p(a.path,a.query);else{let b=new URL(a.path,"data://");a.path=b.pathname+b.search}"string"==typeof a.method&&(a.method=a.method.toUpperCase()),this[h]=e(a),this[g]=b,this[m]=a.ignoreTrailingSlash??!1,this[i]={},this[j]={},this[k]=!1}createMockScopeDispatchData({statusCode:a,data:b,responseOptions:c}){let e=d(b),f=this[k]?{"content-length":e.length}:{};return{statusCode:a,data:b,headers:{...this[i],...f,...c.headers},trailers:{...this[j],...c.trailers}}}validateReplyParameters(a){if(void 0===a.statusCode)throw new o("statusCode must be defined");if("object"!=typeof a.responseOptions||null===a.responseOptions)throw new o("responseOptions must be an object")}reply(a){if("function"==typeof a){let b=b=>{let c=a(b);if("object"!=typeof c||null===c)throw new o("reply options callback must return an object");let d={data:"",responseOptions:{},...c};return this.validateReplyParameters(d),{...this.createMockScopeDispatchData(d)}};return new q(f(this[g],this[h],b,{ignoreTrailingSlash:this[m]}))}let b={statusCode:a,data:void 0===arguments[1]?"":arguments[1],responseOptions:void 0===arguments[2]?{}:arguments[2]};this.validateReplyParameters(b);let c=this.createMockScopeDispatchData(b);return new q(f(this[g],this[h],c,{ignoreTrailingSlash:this[m]}))}replyWithError(a){if(void 0===a)throw new o("error must be defined");return new q(f(this[g],this[h],{error:a},{ignoreTrailingSlash:this[m]}))}defaultReplyHeaders(a){if(void 0===a)throw new o("headers must be defined");return this[i]=a,this}defaultReplyTrailers(a){if(void 0===a)throw new o("trailers must be defined");return this[j]=a,this}replyContentLength(){return this[k]=!0,this}}a.exports.MockInterceptor=r,a.exports.MockScope=q},58328:(a,b,c)=>{"use strict";function d(a){return a}c.d(b,{R:()=>d})},58331:(a,b,c)=>{"use strict";c.r(b),c.d(b,{fromUtf8:()=>d.a,toUint8Array:()=>e.F,toUtf8:()=>f.P});var d=c(69480),e=c(91067),f=c(28506)},58669:(a,b,c)=>{"use strict";c.d(b,{z:()=>as});var d=c(52691),e=c(20770),f=c(82384),g=c(47314),h=c(40741),i=c(21090),j=c(69066),k=c(30504),l=c(83986),m=c(50573),o=c(6779),p=c(87444),q=c(86438),r=c(55682),s=c(26111),t=c(95323),u=c(79114),v=c(48329),w=c(35297),x=c(98116),y=c(82039),z=c(31070),A=c(93226),B=c(49897),C=c(88190),D=c(49454),E=c(37696),F=c(62211),G=c(92991),H=c(40896),I=c(35811),J=c(81541),K=c(73969),L=c(79357),M=c(68756),N=c(19380),O=c(11389),P=c(82282),Q=c(8046),R=c(59447),S=c(52401),T=c(81990),U=c(97822),V=c(14525),W=c(39003),X=c(81985),Y=c(65029),Z=c(48475),$=c(32135),_=c(79551),aa=c(37593),ab=c(87262),ac=c(60302),ad=c(50956),ae=c(22712),af=c(50695),ag=c(71540),ah=c(91331),ai=c(39773);class aj extends ah.N9{constructor(a,b,c,d={}){super(b),this.client=a,this.schema=c,this.options=d,this.logger=d.logger??new ab.Pv,this.cache=d.cache??new af.Th}static [aa.i]="SQLiteD1Session";logger;cache;prepareQuery(a,b,c,d,e,f,g){return new am(this.client.prepare(a.sql),a,this.logger,this.cache,f,g,b,c,d,e)}async batch(a){let b=[],c=[];for(let d of a){let a=d._prepare(),e=a.getQuery();if(b.push(a),e.params.length>0)c.push(a.stmt.bind(...e.params));else{let b=a.getQuery();c.push(this.client.prepare(b.sql).bind(...b.params))}}return(await this.client.batch(c)).map((a,c)=>b[c].mapResult(a,!0))}extractRawAllValueFromBatchResult(a){return a.results}extractRawGetValueFromBatchResult(a){return a.results[0]}extractRawValuesValueFromBatchResult(a){return al(a.results)}async transaction(a,b){let c=new ak("async",this.dialect,this,this.schema);await this.run(ag.ll.raw(`begin${b?.behavior?" "+b.behavior:""}`));try{let b=await a(c);return await this.run((0,ag.ll)`commit`),b}catch(a){throw await this.run((0,ag.ll)`rollback`),a}}}class ak extends ah.X0{static [aa.i]="D1Transaction";async transaction(a){let b=`sp${this.nestedIndex}`,c=new ak("async",this.dialect,this.session,this.schema,this.nestedIndex+1);await this.session.run(ag.ll.raw(`savepoint ${b}`));try{let d=await a(c);return await this.session.run(ag.ll.raw(`release savepoint ${b}`)),d}catch(a){throw await this.session.run(ag.ll.raw(`rollback to savepoint ${b}`)),a}}}function al(a){let b=[];for(let c of a){let a=Object.keys(c).map(a=>c[a]);b.push(a)}return b}class am extends ah.Eb{constructor(a,b,c,d,e,f,g,h,i,j){super("async",h,b,d,e,f),this.logger=c,this._isResponseInArrayMode=i,this.customResultMapper=j,this.fields=g,this.stmt=a}static [aa.i]="D1PreparedQuery";customResultMapper;fields;stmt;async run(a){let b=(0,ag.Ct)(this.query.params,a??{});return this.logger.logQuery(this.query.sql,b),await this.queryWithCache(this.query.sql,b,async()=>this.stmt.bind(...b).run())}async all(a){let{fields:b,query:c,logger:d,stmt:e,customResultMapper:f}=this;if(!b&&!f){let b=(0,ag.Ct)(c.params,a??{});return d.logQuery(c.sql,b),await this.queryWithCache(c.sql,b,async()=>e.bind(...b).all().then(({results:a})=>this.mapAllResult(a)))}let g=await this.values(a);return this.mapAllResult(g)}mapAllResult(a,b){return(b&&(a=al(a.results)),this.fields||this.customResultMapper)?this.customResultMapper?this.customResultMapper(a):a.map(a=>(0,ai.a6)(this.fields,a,this.joinsNotNullableMap)):a}async get(a){let{fields:b,joinsNotNullableMap:c,query:d,logger:e,stmt:f,customResultMapper:g}=this;if(!b&&!g){let b=(0,ag.Ct)(d.params,a??{});return e.logQuery(d.sql,b),await this.queryWithCache(d.sql,b,async()=>f.bind(...b).all().then(({results:a})=>a[0]))}let h=await this.values(a);if(h[0])return g?g(h):(0,ai.a6)(b,h[0],c)}mapGetResult(a,b){return(b&&(a=al(a.results)[0]),this.fields||this.customResultMapper)?this.customResultMapper?this.customResultMapper([a]):(0,ai.a6)(this.fields,a,this.joinsNotNullableMap):a}async values(a){let b=(0,ag.Ct)(this.query.params,a??{});return this.logger.logQuery(this.query.sql,b),await this.queryWithCache(this.query.sql,b,async()=>this.stmt.bind(...b).raw())}isResponseInArrayMode(){return this._isResponseInArrayMode}}class an extends ad.N{static [aa.i]="D1Database";async batch(a){return this.session.batch(a)}}function ao(a,b={}){let c,d,e=new ae.ZR({casing:b.casing});if(!0===b.logger?c=new ab.w:!1!==b.logger&&(c=b.logger),b.schema){let a=(0,ac._k)(b.schema,ac.DZ);d={fullSchema:b.schema,schema:a.tables,tableNamesMap:a.tableNamesMap}}let f=new aj(a,e,d,{logger:c,cache:b.cache}),g=new an("async",e,f,d);return g.$client=a,g.$cache=b.cache,g.$cache&&(g.$cache.invalidate=b.cache?.onMutate),g}let ap=async function(a={hotReload:!1}){let{hotReload:b}=a;this.schema={...this.tables,...this.relations};try{let a=this.logger||!1,c=this.readReplicas,d=this.binding;c&&"first-primary"===c&&(d=this.binding.withSession("first-primary")),this.drizzle=ao(d,{logger:a,schema:this.schema}),this.client=this.drizzle.$client,b||"true"!==process.env.PAYLOAD_DROP_DATABASE||(this.payload.logger.info("---- DROPPING TABLES ----"),await this.dropDatabase({adapter:this}),this.payload.logger.info("---- DROPPED TABLES ----"))}catch(b){let a=b instanceof Error?b.message:String(b);this.payload.logger.error({err:b,msg:`Error: cannot connect to SQLite: ${a}`}),"function"==typeof this.rejectInitializing&&this.rejectInitializing(),console.error(b),process.exit(1)}"function"==typeof this.resolveInitializing&&this.resolveInitializing(),this.prodMigrations&&await this.migrate({migrations:this.prodMigrations})},aq=function({db:a,drizzle:b,raw:c,sql:d}){let e=a??b,f=a=>{let b=a.execute;return a.execute=async()=>{let a=await b(),c={columns:void 0,columnTypes:void 0,lastInsertRowid:BigInt(a.meta.last_row_id),rows:a.results,rowsAffected:a.meta.rows_written};return Object.assign(a,c)},a};return f(c?e.run(ag.ll.raw(c)):e.run(d))},ar=(0,_.fileURLToPath)("file:///Users/Owner/my-project/.conductor/abuja-v1/node_modules/.pnpm/@payloadcms+db-d1-sqlite@3.60.0_@libsql+client@0.14.0_bufferutil@4.0.9_utf-8-validate@6_e9f57e99770eca96943a8943740b2c2d/node_modules/@payloadcms/db-d1-sqlite/dist/index.js");function as(a){let b=a.idType||"number",c="uuid"===b?"text":"number",_=a.allowIDOnCreate??!1;function aa({payload:aa}){let ab=(0,d.h)(a.migrationDir),ac=()=>{},ad=()=>{},ae=new Promise((a,b)=>{ac=a,ad=b}),af={...e.n,contains:Y.mj,like:Y.mj,not_like:Y.RK};return(0,Z.Z)({name:"sqlite",afterSchemaInit:a.afterSchemaInit??[],allowIDOnCreate:_,autoIncrement:a.autoIncrement??!1,beforeSchemaInit:a.beforeSchemaInit??[],binding:a.binding,blocksAsJSON:a.blocksAsJSON??!1,client:void 0,defaultDrizzleSnapshot:O.g,drizzle:void 0,features:{json:!0},fieldConstraints:{},generateSchema:(0,f.d)({columnToCodeConverter:P.J,corePackageSuffix:"sqlite-core",defaultOutputFile:a.generateSchemaOutputFile,tableImport:"sqliteTable"}),idType:b,initializing:ae,limitedBoundParameters:!0,localesSuffix:a.localesSuffix||"_locales",logger:a.logger,operators:af,prodMigrations:a.prodMigrations,push:a.push,rawRelations:{},rawTables:{},readReplicas:a.readReplicas,relations:{},relationshipsSuffix:a.relationshipsSuffix||"_rels",schema:{},schemaName:a.schemaName,sessions:{},tableNameMap:new Map,tables:{},execute:aq,transactionOptions:a.transactionOptions||void 0,updateJobs:g.Y,updateMany:h.j,versionsSuffix:a.versionsSuffix||"_v",beginTransaction:a.transactionOptions?i.C:(0,$.l)(),commitTransaction:j.w,connect:ap,convertPathToJSONTraversal:Q.Y,count:k.U,countDistinct:R.I,countGlobalVersions:l.C,countVersions:m.p,create:o.v,createGlobal:p.S,createGlobalVersion:q.e,createJSONQuery:S.N,createMigration:(0,r.Z)({executeMethod:"run",filename:ar,sanitizeStatements:({sqlExecute:a,statements:b})=>b.map(b=>`${a}${b?.replaceAll("`","\\`")}\`)`).join("\n")}),createVersion:s.B,defaultIDType:c,deleteMany:t.R,deleteOne:u.o,deleteVersions:v.$,deleteWhere:T.J,destroy:w.z,dropDatabase:U.Z,find:x.I,findGlobal:y.J,findGlobalVersions:z.O,findOne:A.s,findVersions:B.t,indexes:new Set,init:V.T,insert:W.Y,migrate:C._,migrateDown:D.Y,migrateFresh:E.O,migrateRefresh:F.H,migrateReset:G.l,migrateStatus:H.u,migrationDir:ab,packageName:"@payloadcms/db-d1-sqlite",payload:aa,queryDrafts:I.Z,rejectInitializing:ad,requireDrizzleKit:X.Y,resolveInitializing:ac,rollbackTransaction:J.J,updateGlobal:K.V,updateGlobalVersion:L.N,updateOne:M.C,updateVersion:N.G,upsert:M.C})}return{name:"d1-sqlite",allowIDOnCreate:_,defaultIDType:c,init:aa}}},58725:(a,b,c)=>{"use strict";c.d(b,{b:()=>H});var d=c(3120),e=c(36659),f=c(27661),g=c(35593);class h extends g.L{constructor(a){super(`Field${(0,f.Z7)(a)?` "${a.name}"`:""} is either missing a field type or it does not match an available field type`)}}class i extends g.L{constructor(a,b){super(`Field ${a.label} has invalid name '${b}'. Field names can not include periods (.) and must be alphanumeric.`)}}class j extends g.L{constructor(a,b){super(`Field ${a.label} has invalid relationship '${b}'.`)}}class k extends g.L{constructor(a){super(`A field with the name '${a}' was found multiple times on the same level. Field names must be unique.`)}}var l=c(23631),m=c(47800);class o extends g.L{constructor(a,b){super(`Field ${a.label} has reserved name '${b}'.`)}}var p=c(93918),q=c(44674),r=c(32913),s=c(55334);let t=({name:a,defaultValue:b,options:c,required:d})=>({name:a,type:"select",admin:{hidden:!0},defaultValue:b,options:c,required:d});var u=c(64701);let v=a=>"string"==typeof a&&""!==a.trim(),w=({value:a})=>v(a)?`${a} - Copy`:void 0,x=({req:a,value:b})=>v(b)?`${b} - ${a?.t("general:copy")??"Copy"}`:void 0,y=(a,b)=>{("required"in a&&a.required||a.unique)&&"hooks"in a&&(!a.hooks?.beforeDuplicate||Array.isArray(a.hooks.beforeDuplicate)&&0===a.hooks.beforeDuplicate.length)&&a.unique&&(["email","number","point","relationship","select","upload"].includes(a.type)?a.hooks.beforeDuplicate=[()=>void 0]:["code","json","text","textarea"].includes(a.type)&&(a.hooks.beforeDuplicate=(0,f.Cd)({field:a,parentIsLocalized:b})?[x]:[w]))};var z=c(81645);let A=["salt","hash"],B=[],C=[],D=["file"];class E extends g.L{constructor(a){super(`Invalid join field ${a.name}. The config does not have a field '${a.on}' in collection '${a.collection}'.`)}}var F=c(66456);let G=({config:a,field:b,joinPath:c,joins:d,parentIsLocalized:e,polymorphicJoins:f,validateOnly:h})=>{if(void 0===d)throw new g.L("Join fields cannot be added to arrays, blocks or globals.");void 0===b.maxDepth&&(b.maxDepth=1);let i={field:b,joinPath:`${c?c+".":""}${b.name}`,parentIsLocalized:e,targetField:void 0};if(Array.isArray(b.collection)){for(let g of b.collection)G({config:a,field:{...b,collection:g},joinPath:c,joins:d,parentIsLocalized:e,polymorphicJoins:f,validateOnly:!0});Array.isArray(f)&&f.push(i);return}let j=a.collections?.find(a=>a.slug===b.collection);if(!j)throw new E(b);let k=(0,F.p)({fields:(0,p.r)({cache:!0,fields:j.fields}),path:b.on});if(!k||"relationship"!==k.field.type&&"upload"!==k.field.type)throw new E(i.field);k.pathHasLocalized&&(i.getForeignPath=({locale:a})=>k.localizedPath.replace("<locale>",a)),k.field.index||k.field.unique||(k.field.index=!0),h||(i.targetField=k.field,b.localized=k.field.localized,b.hasMany=k.field.hasMany,b.targetField=i.targetField,d[b.collection]?d[b.collection]?.push(i):d[b.collection]=[i])},H=async({collectionConfig:a,config:b,existingFieldNames:c=new Set,fields:g,globalConfig:v,isTopLevelField:w=!0,joinPath:x="",joins:E,parentIsLocalized:F,polymorphicJoins:I,requireFieldLevelRichTextEditor:J=!1,richTextSanitizationPromises:K,validRelationships:L})=>{if(!g)return[];for(let M=0;M<g.length;M++){let N=g[M];if("_sanitized"in N&&!0===N._sanitized)continue;if("_sanitized"in N&&(N._sanitized=!0),!N.type)throw new h(N);let O=(0,f.Z7)(N);if(w&&O&&N.name){if(a&&a.upload&&D.includes(N.name))throw new o(N,N.name);if(a&&a.auth&&"object"==typeof a.auth&&!a.auth.disableLocalStrategy&&(A.includes(N.name)||a.auth.verify&&(C.includes(N.name)||B.includes(N.name))))throw new o(N,N.name)}if(O&&N.name.includes("."))throw new i(N,N.name);if("name"in N&&N.name&&"object"!=typeof N.label&&"string"!=typeof N.label&&"function"!=typeof N.label&&!1!==N.label&&(N.label=(0,q.x4)(N.name)),"checkbox"===N.type&&void 0===N.defaultValue&&!0===N.required&&(N.defaultValue=!1),"join"===N.type&&G({config:b,field:N,joinPath:x,joins:E,parentIsLocalized:F,polymorphicJoins:I}),("relationship"===N.type||"upload"===N.type)&&(L&&(Array.isArray(N.relationTo)?N.relationTo:[N.relationTo]).forEach(a=>{if(!L.includes(a))throw new j(N,a)}),N.min&&!N.minRows&&(console.warn(`(payload): The "min" property is deprecated for the Relationship field "${N.name}" and will be removed in a future version. Please use "minRows" instead.`),N.minRows=N.min),N.max&&!N.maxRows&&(console.warn(`(payload): The "max" property is deprecated for the Relationship field "${N.name}" and will be removed in a future version. Please use "maxRows" instead.`),N.maxRows=N.max)),"upload"!==N.type||N.admin&&"isSortable"in N.admin||(N.admin={isSortable:!0,...N.admin}),"array"===N.type&&N.fields&&(N.fields.some(a=>"name"in a&&"id"===a.name)||N.fields.push(s.Z)),("blocks"===N.type||"array"===N.type)&&N.label&&(N.labels=N.labels||(0,q.h6)(N.name)),O){if(c.has(N.name))throw new k(N.name);if(["blockName","id"].includes(N.name)||c.add(N.name),void 0!==N.localized){let a=!b.localization;"true"!==process.env.NEXT_PUBLIC_PAYLOAD_COMPATIBILITY_allowLocalizedWithinLocalized&&F&&"true"!==process.env.PAYLOAD_DO_NOT_SANITIZE_LOCALIZED_PROPERTY&&(a=!0),a&&delete N.localized}if(void 0===N.validate){let a=z.xV[N.type];a?N.validate=(b,c)=>a(b,{...N,...c}):N.validate=()=>!0}N.hooks||(N.hooks={}),N.access||(N.access={}),y(N,F)}if(N.admin||(N.admin={}),"richText"===N.type){let a=async a=>{if(!N.editor)if(a.editor&&!J)N.editor=a.editor;else throw new l.X(N);"function"==typeof N.editor&&(N.editor=await N.editor({config:a,isRoot:J,parentIsLocalized:F||N.localized})),N.editor.i18n&&Object.keys(N.editor.i18n).length>=0&&(b.i18n.translations=(0,d.p)(b.i18n.translations,N.editor.i18n))};K?K.push(a):await a(b)}if("blocks"===N.type&&N.blocks){if(N.blockReferences&&N.blocks?.length)throw Error("You cannot have both blockReferences and blocks in the same blocks field");let c=[];for(let d of N.blockReferences??N.blocks){let e="string"==typeof d?d:d.slug;if(c.includes(e))throw new k(e);c.push(e),"string"!=typeof d&&!0!==d._sanitized&&(d._sanitized=!0,d.fields=d.fields.concat(r.s),d.labels=d.labels?d.labels:(0,q.h6)(d.slug),d.fields=await H({collectionConfig:a,config:b,existingFieldNames:new Set,fields:d.fields,isTopLevelField:!1,parentIsLocalized:F||N.localized,requireFieldLevelRichTextEditor:J,richTextSanitizationPromises:K,validRelationships:L}))}}if("fields"in N&&N.fields&&(N.fields=await H({collectionConfig:a,config:b,existingFieldNames:O?new Set:c,fields:N.fields,isTopLevelField:w&&!O,joinPath:O?`${x?x+".":""}${N.name}`:x,joins:E,parentIsLocalized:F||(0,f.Yf)(N),polymorphicJoins:I,requireFieldLevelRichTextEditor:J,richTextSanitizationPromises:K,validRelationships:L})),"tabs"===N.type)for(let d=0;d<N.tabs.length;d++){let g=N.tabs[d],h=(0,f.pz)(g);h&&void 0===g.label&&(g.label=(0,q.x4)(g.name)),"admin"in g&&g.admin?.condition&&"function"==typeof g.admin.condition&&!g.id&&(g.id=h?`${g.name}_${(0,e.A)()}`:(0,e.A)()),g.fields=await H({collectionConfig:a,config:b,existingFieldNames:h?new Set:c,fields:g.fields,isTopLevelField:w&&!h,joinPath:h?`${x?x+".":""}${g.name}`:x,joins:E,parentIsLocalized:F||h&&g.localized,polymorphicJoins:I,requireFieldLevelRichTextEditor:J,richTextSanitizationPromises:K,validRelationships:L}),N.tabs[d]=g}if("ui"===N.type&&void 0===N.admin.disableBulkEdit&&(N.admin.disableBulkEdit=!0),g[M]=N,"date"===N.type&&N.timezone){let a=N.name+"_tz",c=b.admin?.timezones?.defaultTimezone,d=b.admin?.timezones?.supportedTimezones,e=t({name:a,defaultValue:c,options:"function"==typeof d?d({defaultTimezones:u.Y}):d,required:N.required});g.splice(++M,0,e)}if("virtual"in N&&"string"==typeof N.virtual){let c=N,d=(a||v)?.fields;if(d){let e=(0,p.r)({fields:d}),f=N.virtual.split("."),g=!1;for(let[d,h]of f.entries()){let i=e.find(a=>a.name===h);if(!i)break;if("group"===i.type||"tab"===i.type||"array"===i.type)e=i.flattenedFields;else if(("relationship"===i.type||"upload"===i.type)&&d!==f.length-1&&"string"==typeof i.relationTo){if(i.hasMany&&("text"===c.type||"number"===c.type||"select"===c.type)){if(g)throw new m.s(`Virtual field ${c.name} in ${v?`global ${v.slug}`:`collection ${a?.slug}`} references 2 or more hasMany relationships on the path ${c.virtual} which is not allowed.`);g=!0,c.hasMany=!0}let d=b.collections?.find(a=>a.slug===i.relationTo);d&&(e=(0,p.r)({fields:d.fields}))}}}}}return g}},59158:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(49943);b.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:a,parentSchema:b,it:c}){void 0===b.if&&(0,d.checkStrictMode)(c,`"${a}" without "if" is ignored`)}}},59183:(a,b,c)=>{"use strict";function d(a){return["image/jpeg","image/png","image/gif","image/svg+xml","image/webp","image/avif","image/jxl"].indexOf(a)>-1}c.d(b,{w:()=>d})},59213:(a,b,c)=>{"use strict";c.r(b),c.d(b,{fromArrayBuffer:()=>f,fromString:()=>g});var d=c(65),e=c(57047);let f=(a,b=0,c=a.byteLength-b)=>{if(!(0,d.isArrayBuffer)(a))throw TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof a} (${a})`);return e.Buffer.from(a,b,c)},g=(a,b)=>{if("string"!=typeof a)throw TypeError(`The "input" argument must be of type string. Received type ${typeof a} (${a})`);return b?e.Buffer.from(a,b):e.Buffer.from(a)}},59346:(a,b,c)=>{"use strict";var d=c(59828);let e=a=>{let b;if("string"==typeof a)return e(new URL(a));let{hostname:c,pathname:f,port:g,protocol:h,search:i}=a;return i&&(b=d.parseQueryString(i)),{hostname:c,port:g?parseInt(g):void 0,protocol:h,path:f,query:b}};b.D=e},59447:(a,b,c)=>{"use strict";c.d(b,{I:()=>f});var d=c(70466),e=c(71540);let f=async function({column:a,db:b,joins:c,tableName:f,where:g}){if(0===c.length){let c=await b.select({count:a?(0,d.U9)((0,e.ll)`DISTINCT ${a}`):(0,d.U9)()}).from(this.tables[f]).where(g);return Number(c?.[0]?.count??0)}let h=b.select({count:(0,e.ll)`COUNT(1) OVER()`}).from(this.tables[f]).where(g).groupBy(a??this.tables[f].id).limit(1).$dynamic();c.forEach(({type:a,condition:b,table:c})=>{h=h[a??"leftJoin"](c,b)});let i=await h;return Number(i?.[0]?.count??0)}},59474:(a,b)=>{"use strict";var c;function d(a){return b=>async c=>{let d={...c.input};for(let b of[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}]){let c=d[b.target];if(c){let e;"string"==typeof c?f(c,a)?e=a.base64Decoder(c):(e=a.utf8Decoder(c),d[b.target]=a.base64Encoder(e)):(e=ArrayBuffer.isView(c)?new Uint8Array(c.buffer,c.byteOffset,c.byteLength):new Uint8Array(c),d[b.target]=a.base64Encoder(e));let g=new a.md5;g.update(e),d[b.hash]=a.base64Encoder(await g.digest())}}return b({...c,input:d})}}let e={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0};function f(a,b){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a))return!1;try{let c=b.base64Decoder(a);return 32===c.length}catch{return!1}}b.M6=a=>({applyToStack:b=>{b.add(d(a),e)}}),c=f,c=d,c=e},59828:(a,b,c)=>{"use strict";function d(a){let b={};if(a=a.replace(/^\?/,""))for(let c of a.split("&")){let[a,d=null]=c.split("=");a=decodeURIComponent(a),d&&(d=decodeURIComponent(d)),a in b?Array.isArray(b[a])?b[a].push(d):b[a]=[b[a],d]:b[a]=d}return b}c.r(b),c.d(b,{parseQueryString:()=>d})},59837:(a,b,c)=>{"use strict";c.d(b,{D8:()=>q,FY:()=>g,H1:()=>l,Ir:()=>v,J9:()=>o,Jp:()=>x,MS:()=>h,SG:()=>y,SN:()=>u,Uv:()=>E,VQ:()=>D,Wd:()=>r,XI:()=>d,Zs:()=>f,cR:()=>i,g5:()=>C,ku:()=>z,lP:()=>w,oB:()=>k,ot:()=>m,pj:()=>p,r1:()=>A,r2:()=>j,tI:()=>e,wE:()=>s,z8:()=>B,zX:()=>t});let d="X-Amz-Algorithm",e="X-Amz-Credential",f="X-Amz-Date",g="X-Amz-SignedHeaders",h="X-Amz-Expires",i="X-Amz-Signature",j="X-Amz-Security-Token",k="X-Amz-Region-Set",l="authorization",m=f.toLowerCase(),o="date",p=[l,m,o],q=i.toLowerCase(),r="x-amz-content-sha256",s=j.toLowerCase(),t="host",u={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},v=/^proxy-/,w=/^sec-/,x=[/^proxy-/i,/^sec-/i],y="AWS4-HMAC-SHA256",z="AWS4-ECDSA-P256-SHA256",A="AWS4-HMAC-SHA256-PAYLOAD",B="UNSIGNED-PAYLOAD",C=50,D="aws4_request",E=604800},59841:(a,b,c)=>{"use strict";c.d(b,{U:()=>f});var d=c(51114),e=c(27661);async function f(a){let b,{id:c,type:e,blockPolicies:f,entity:h,operations:i,req:j}=a,{data:k,locale:l,payload:m,user:o}=j,p=!!o,q={fields:{}};async function r({operation:a,where:b}={}){if(h.slug){if("global"===e)return m.findGlobal({slug:h.slug,depth:0,fallbackLocale:null,locale:l,overrideAccess:!0,req:j});if("collection"===e&&c){if("object"==typeof b){let e={collection:h.slug,depth:0,fallbackLocale:null,limit:1,locale:l,overrideAccess:!0,req:j};if("readVersions"===a){let a=await m.findVersions({...e,where:(0,d.m)(b,{parent:{equals:c}})});return a?.docs?.[0]||void 0}let f=await m.find({...e,pagination:!1,where:(0,d.m)(b,{id:{equals:c}})});return f?.docs?.[0]||void 0}return m.findByID({id:c,collection:h.slug,depth:0,fallbackLocale:null,locale:l,overrideAccess:!0,req:j,trash:!0})}}}let s=async({access:a,accessLevel:d,disableWhere:f=!1,operation:g,policiesObj:h})=>{let i=h;"field"===d&&void 0===b&&(b=r().then(a=>{b=a})),await b;let l=await a({id:c,data:k,doc:b,req:j});"object"!=typeof l||f?i[g]?.permission!==!1&&(i[g]={permission:!!l}):i[g]={permission:!c&&"global"!==e||!!await r({operation:g,where:l}),where:l}};for(let a of i)"function"==typeof h.access[a]?await s({access:h.access[a],accessLevel:"entity",operation:a,policiesObj:q}):q[a]={permission:p},await g({blockPolicies:f,createAccessPromise:s,entityPermission:q[a].permission,fields:h.fields,operation:a,payload:m,policiesObj:q});return q}let g=async({blockPolicies:a,createAccessPromise:b,entityPermission:c,fields:d,operation:f,payload:h,policiesObj:i})=>{let j=i.fields;"delete"!==f&&"readVersions"!==f&&"unlock"!==f&&await Promise.all(d.map(async d=>{"name"in d&&d.name?(j[d.name]||(j[d.name]={}),"access"in d&&d.access&&"function"==typeof d.access[f]?await b({access:d.access[f],accessLevel:"field",disableWhere:!0,operation:f,policiesObj:j[d.name]}):j[d.name][f]={permission:i[f]?.permission},"fields"in d&&d.fields&&(j[d.name].fields||(j[d.name].fields={}),await g({blockPolicies:a,createAccessPromise:b,entityPermission:c,fields:d.fields,operation:f,payload:h,policiesObj:j[d.name]})),("blocks"in d&&d.blocks?.length||"blockReferences"in d&&d.blockReferences?.length)&&(j[d.name]?.blocks||(j[d.name].blocks={}),await Promise.all((d.blockReferences??d.blocks).map(async e=>{let i="string"==typeof e?h.blocks[e]:e;if("string"==typeof e)if(a[e])return void("function"==typeof a[e].then?j[d.name].blocks[i.slug]=await a[e]:j[d.name].blocks[i.slug]=a[e]);else{a[e]=(async()=>(j[d.name].blocks?.[i.slug]?j[d.name].blocks[i.slug][f]||(j[d.name].blocks[i.slug][f]={permission:c}):j[d.name].blocks[i.slug]={fields:{},[f]:{permission:c}},await g({blockPolicies:a,createAccessPromise:b,entityPermission:c,fields:i.fields,operation:f,payload:h,policiesObj:j[d.name].blocks[i.slug]}),j[d.name].blocks[i.slug]))(),j[d.name].blocks[i.slug]=await a[e],a[e]=j[d.name].blocks[i.slug];return}j[d.name].blocks?.[i.slug]?j[d.name].blocks[i.slug][f]||(j[d.name].blocks[i.slug][f]={permission:c}):j[d.name].blocks[i.slug]={fields:{},[f]:{permission:c}},await g({blockPolicies:a,createAccessPromise:b,entityPermission:c,fields:i.fields,operation:f,payload:h,policiesObj:j[d.name].blocks[i.slug]})})))):"fields"in d&&d.fields?await g({blockPolicies:a,createAccessPromise:b,entityPermission:c,fields:d.fields,operation:f,payload:h,policiesObj:i}):"tabs"===d.type&&await Promise.all(d.tabs.map(async d=>{(0,e.pz)(d)?(j[d.name]?j[d.name][f]||(j[d.name][f]={permission:c}):j[d.name]={fields:{},[f]:{permission:c}},await g({blockPolicies:a,createAccessPromise:b,entityPermission:c,fields:d.fields,operation:f,payload:h,policiesObj:j[d.name]})):await g({blockPolicies:a,createAccessPromise:b,entityPermission:c,fields:d.fields,operation:f,payload:h,policiesObj:i})}))}))}},59862:(a,b,c)=>{"use strict";c.d(b,{N5:()=>f,VW:()=>h,cE:()=>g,e$:()=>i});var d=c(51636),e=c(61720);let f="AWS_USE_DUALSTACK_ENDPOINT",g="use_dualstack_endpoint",h=!1,i={environmentVariableSelector:a=>(0,d.Q)(a,f,e.c.ENV),configFileSelector:a=>(0,d.Q)(a,g,e.c.CONFIG),default:!1}},59969:(a,b,c)=>{"use strict";a.exports=e;let d=c(5873);function e({log:a,context:b}){let{colorizer:c,customLevels:e,customLevelNames:f,levelKey:g,getLevelLabelData:h}=b,i=b.customPrettifiers?.level,j=d(a,g);if(void 0===j)return;let k=c(j,{customLevels:e,customLevelNames:f});if(i){let[b]=h(j);return i(j,g,a,{label:b,labelColorized:k,colors:c.colors})}return k}},59971:(a,b,c)=>{"use strict";let{Readable:d,Duplex:e,PassThrough:f}=c(57075),g=c(34589),{AsyncResource:h}=c(16698),{InvalidArgumentError:i,InvalidReturnValueError:j,RequestAbortedError:k}=c(212),l=c(33895),{addSignal:m,removeSignal:o}=c(21291);function p(){}let q=Symbol("resume");class r extends d{constructor(){super({autoDestroy:!0}),this[q]=null}_read(){let{[q]:a}=this;a&&(this[q]=null,a())}_destroy(a,b){this._read(),b(a)}}class s extends d{constructor(a){super({autoDestroy:!0}),this[q]=a}_read(){this[q]()}_destroy(a,b){a||this._readableState.endEmitted||(a=new k),b(a)}}class t extends h{constructor(a,b){if(!a||"object"!=typeof a)throw new i("invalid opts");if("function"!=typeof b)throw new i("invalid handler");let{signal:c,method:d,opaque:f,onInfo:g,responseHeaders:h}=a;if(c&&"function"!=typeof c.on&&"function"!=typeof c.addEventListener)throw new i("signal must be an EventEmitter or EventTarget");if("CONNECT"===d)throw new i("invalid method");if(g&&"function"!=typeof g)throw new i("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=f||null,this.responseHeaders=h||null,this.handler=b,this.abort=null,this.context=null,this.onInfo=g||null,this.req=new r().on("error",p),this.ret=new e({readableObjectMode:a.objectMode,autoDestroy:!0,read:()=>{let{body:a}=this;a?.resume&&a.resume()},write:(a,b,c)=>{let{req:d}=this;d.push(a,b)||d._readableState.destroyed?c():d[q]=c},destroy:(a,b)=>{let{body:c,req:d,res:e,ret:f,abort:g}=this;a||f._readableState.endEmitted||(a=new k),g&&a&&g(),l.destroy(c,a),l.destroy(d,a),l.destroy(e,a),o(this),b(a)}}).on("prefinish",()=>{let{req:a}=this;a.push(null)}),this.res=null,m(this,c)}onConnect(a,b){let{res:c}=this;if(this.reason)return void a(this.reason);g(!c,"pipeline cannot be retried"),this.abort=a,this.context=b}onHeaders(a,b,c){let d,{opaque:e,handler:f,context:g}=this;if(a<200){if(this.onInfo){let c="raw"===this.responseHeaders?l.parseRawHeaders(b):l.parseHeaders(b);this.onInfo({statusCode:a,headers:c})}return}this.res=new s(c);try{this.handler=null;let c="raw"===this.responseHeaders?l.parseRawHeaders(b):l.parseHeaders(b);d=this.runInAsyncScope(f,null,{statusCode:a,headers:c,opaque:e,body:this.res,context:g})}catch(a){throw this.res.on("error",p),a}if(!d||"function"!=typeof d.on)throw new j("expected Readable");d.on("data",a=>{let{ret:b,body:c}=this;!b.push(a)&&c.pause&&c.pause()}).on("error",a=>{let{ret:b}=this;l.destroy(b,a)}).on("end",()=>{let{ret:a}=this;a.push(null)}).on("close",()=>{let{ret:a}=this;a._readableState.ended||l.destroy(a,new k)}),this.body=d}onData(a){let{res:b}=this;return b.push(a)}onComplete(a){let{res:b}=this;b.push(null)}onError(a){let{ret:b}=this;this.handler=null,l.destroy(b,a)}}a.exports=function(a,b){try{let c=new t(a,b);return this.dispatch({...a,body:c.req},c),c.ret}catch(a){return new f().destroy(a)}}},60117:(a,b,c)=>{"use strict";c.d(b,{B:()=>fm,g:()=>fn});var d={};c.r(d),c.d(d,{StripeAPIError:()=>ah,StripeAuthenticationError:()=>ai,StripeCardError:()=>af,StripeConnectionError:()=>al,StripeError:()=>ae,StripeIdempotencyError:()=>an,StripeInvalidGrantError:()=>ao,StripeInvalidRequestError:()=>ag,StripePermissionError:()=>aj,StripeRateLimitError:()=>ak,StripeSignatureVerificationError:()=>am,StripeUnknownError:()=>ap,TemporarySessionExpiredError:()=>aq,generateV1Error:()=>ac,generateV2Error:()=>ad});var e={};c.r(e),c.d(e,{Account:()=>c9,AccountLinks:()=>db,AccountSessions:()=>dd,Accounts:()=>c9,ApplePayDomains:()=>df,ApplicationFees:()=>dh,Apps:()=>eS,Balance:()=>dj,BalanceTransactions:()=>dl,Billing:()=>eT,BillingPortal:()=>eU,Charges:()=>dn,Checkout:()=>eV,Climate:()=>eW,ConfirmationTokens:()=>dq,CountrySpecs:()=>ds,Coupons:()=>du,CreditNotes:()=>dw,CustomerSessions:()=>dy,Customers:()=>dA,Disputes:()=>dC,Entitlements:()=>eX,EphemeralKeys:()=>dE,Events:()=>dG,ExchangeRates:()=>dI,FileLinks:()=>dK,Files:()=>dO,FinancialConnections:()=>eY,Forwarding:()=>eZ,Identity:()=>e$,InvoiceItems:()=>dQ,InvoicePayments:()=>dS,InvoiceRenderingTemplates:()=>dU,Invoices:()=>dW,Issuing:()=>e_,Mandates:()=>dY,OAuth:()=>d_,PaymentIntents:()=>d1,PaymentLinks:()=>d3,PaymentMethodConfigurations:()=>d5,PaymentMethodDomains:()=>d7,PaymentMethods:()=>d9,Payouts:()=>eb,Plans:()=>ed,Prices:()=>ef,Products:()=>eh,PromotionCodes:()=>ej,Quotes:()=>el,Radar:()=>e0,Refunds:()=>en,Reporting:()=>e1,Reviews:()=>ep,SetupAttempts:()=>er,SetupIntents:()=>et,ShippingRates:()=>ev,Sigma:()=>e2,Sources:()=>ex,SubscriptionItems:()=>ez,SubscriptionSchedules:()=>eB,Subscriptions:()=>eD,Tax:()=>e3,TaxCodes:()=>eF,TaxIds:()=>eH,TaxRates:()=>eJ,Terminal:()=>e4,TestHelpers:()=>e5,Tokens:()=>eL,Topups:()=>eN,Transfers:()=>eP,Treasury:()=>e6,V2:()=>e7,WebhookEndpoints:()=>eR});var f=c(55511),g=c(94735);class h{computeHMACSignature(a,b){throw Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(a,b){throw Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(a){throw Error("computeSHA256 not implemented.")}}class i extends Error{}class j extends h{computeHMACSignature(a,b){return f.createHmac("sha256",b).update(a,"utf8").digest("hex")}async computeHMACSignatureAsync(a,b){return await this.computeHMACSignature(a,b)}async computeSHA256Async(a){return new Uint8Array(await f.createHash("sha256").update(a).digest())}}var k=c(81630),l=c.t(k,2),m=c(55591),o=c.t(m,2);class p{getClientName(){throw Error("getClientName not implemented.")}makeRequest(a,b,c,d,e,f,g,h){throw Error("makeRequest not implemented.")}static makeTimeoutError(){let a=TypeError(p.TIMEOUT_ERROR_CODE);return a.code=p.TIMEOUT_ERROR_CODE,a}}p.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"],p.TIMEOUT_ERROR_CODE="ETIMEDOUT";class q{constructor(a,b){this._statusCode=a,this._headers=b}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw Error("getRawResponse not implemented.")}toStream(a){throw Error("toStream not implemented.")}toJSON(){throw Error("toJSON not implemented.")}}let r=k||l,s=m||o,t=new r.Agent({keepAlive:!0}),u=new s.Agent({keepAlive:!0});class v extends p{constructor(a){super(),this._agent=a}getClientName(){return"node"}makeRequest(a,b,c,d,e,f,g,h){let i="http"===g,j=this._agent;return j||(j=i?t:u),new Promise((g,k)=>{let l=(i?r:s).request({host:a,port:b,path:c,method:d,agent:j,headers:e,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});l.setTimeout(h,()=>{l.destroy(p.makeTimeoutError())}),l.on("response",a=>{g(new w(a))}),l.on("error",a=>{k(a)}),l.once("socket",a=>{a.connecting?a.once(i?"connect":"secureConnect",()=>{l.write(f),l.end()}):(l.write(f),l.end())})})}}class w extends q{constructor(a){super(a.statusCode,a.headers||{}),this._res=a}getRawResponse(){return this._res}toStream(a){return this._res.once("end",()=>a()),this._res}toJSON(){return new Promise((a,b)=>{let c="";this._res.setEncoding("utf8"),this._res.on("data",a=>{c+=a}),this._res.once("end",()=>{try{a(JSON.parse(c))}catch(a){b(a)}})})}}var x=c(9726);let y=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders","streaming"];function z(a){return a&&"object"==typeof a&&y.some(b=>Object.prototype.hasOwnProperty.call(a,b))}function A(a,b){return x.stringify(a,{serializeDate:a=>Math.floor(a.getTime()/1e3).toString(),arrayFormat:"v2"==b?"repeat":"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}let B=(()=>{let a={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return b=>{let c=b.replace(/["\n\r\u2028\u2029]/g,b=>a[b]);return a=>c.replace(/\{([\s\S]+?)\}/g,(b,c)=>{let d=a[c];return C(d)?encodeURIComponent(d):""})}})();function C(a){return["number","string","boolean"].includes(typeof a)}function D(a){let b=a.match(/\{\w+\}/g);return b?b.map(a=>a.replace(/[{}]/g,"")):[]}function E(a){if(!Array.isArray(a)||!a[0]||"object"!=typeof a[0])return{};if(!z(a[0]))return a.shift();let b=Object.keys(a[0]),c=b.filter(a=>y.includes(a));return c.length>0&&c.length!==b.length&&M(`Options found in arguments (${c.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function F(a){let b={host:null,headers:{},settings:{},streaming:!1};if(a.length>0){let c=a[a.length-1];if("string"==typeof c)b.authenticator=R(a.pop());else if(z(c)){let c=Object.assign({},a.pop()),d=Object.keys(c).filter(a=>!y.includes(a));if(d.length&&M(`Invalid options found (${d.join(", ")}); ignoring.`),c.apiKey&&(b.authenticator=R(c.apiKey)),c.idempotencyKey&&(b.headers["Idempotency-Key"]=c.idempotencyKey),c.stripeAccount&&(b.headers["Stripe-Account"]=c.stripeAccount),c.stripeContext){if(b.headers["Stripe-Account"])throw Error("Can't specify both stripeAccount and stripeContext.");b.headers["Stripe-Context"]=c.stripeContext}if(c.apiVersion&&(b.headers["Stripe-Version"]=c.apiVersion),Number.isInteger(c.maxNetworkRetries)&&(b.settings.maxNetworkRetries=c.maxNetworkRetries),Number.isInteger(c.timeout)&&(b.settings.timeout=c.timeout),c.host&&(b.host=c.host),c.authenticator){if(c.apiKey)throw Error("Can't specify both apiKey and authenticator.");if("function"!=typeof c.authenticator)throw Error("The authenticator must be a function receiving a request as the first parameter.");b.authenticator=c.authenticator}c.additionalHeaders&&(b.headers=c.additionalHeaders),c.streaming&&(b.streaming=!0)}}return b}function G(a){let b=this,c=Object.prototype.hasOwnProperty.call(a,"constructor")?a.constructor:function(...a){b.apply(this,a)};return Object.assign(c,b),c.prototype=Object.create(b.prototype),Object.assign(c.prototype,a),c}function H(a){if("object"!=typeof a)throw Error("Argument must be an object");return Object.keys(a).reduce((b,c)=>(null!=a[c]&&(b[c]=a[c]),b),{})}function I(a){return a&&"object"==typeof a?Object.keys(a).reduce((b,c)=>(b[J(c)]=a[c],b),{}):a}function J(a){return a.split("-").map(a=>a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()).join("-")}function K(a,b){return b?a.then(a=>{setTimeout(()=>{b(null,a)},0)},a=>{setTimeout(()=>{b(a,null)},0)}):a}function L(a){return"OAuth"===a?"oauth":a[0].toLowerCase()+a.substring(1)}function M(a){return"function"!=typeof process.emitWarning?console.warn(`Stripe: ${a}`):process.emitWarning(a,"Stripe")}function N(a){let b=typeof a;return("function"===b||"object"===b)&&!!a}function O(a){let b={},c=(a,d)=>{Object.entries(a).forEach(([a,e])=>{let f=d?`${d}[${a}]`:a;if(N(e))if(!(e instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(e,"data"))return c(e,f);else b[f]=e;else b[f]=String(e)})};return c(a,null),b}function P(a,b,c){if(!Number.isInteger(b))if(void 0!==c)return c;else throw Error(`${a} must be an integer`);return b}function Q(){return"undefined"==typeof process?{}:{lang_version:process.version,platform:process.platform}}function R(a){let b=b=>(b.headers.Authorization="Bearer "+a,Promise.resolve());return b._apiKey=a,b}function S(a){let b=new Uint8Array(a.reduce((a,b)=>a+b.length,0)),c=0;return a.forEach(a=>{b.set(a,c),c+=a.length}),b}function T(a,b){return this[a]instanceof Date?Math.floor(this[a].getTime()/1e3).toString():b}function U(a){return JSON.stringify(a,T)}function V(a){return a&&a.startsWith("/v2")?"v2":"v1"}function W(a){return Array.isArray(a)?a.join(", "):String(a)}function X(a){return Number(Array.isArray(a)?a[0]:a)}function Y(a){return Object.entries(a).map(([a,b])=>[a,W(b)])}class Z extends p{constructor(a){if(super(),!a){if(!globalThis.fetch)throw Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");a=globalThis.fetch}globalThis.AbortController?this._fetchFn=Z.makeFetchWithAbortTimeout(a):this._fetchFn=Z.makeFetchWithRaceTimeout(a)}static makeFetchWithRaceTimeout(a){return(b,c,d)=>{let e,f=new Promise((a,b)=>{e=setTimeout(()=>{e=null,b(p.makeTimeoutError())},d)});return Promise.race([a(b,c),f]).finally(()=>{e&&clearTimeout(e)})}}static makeFetchWithAbortTimeout(a){return async(b,c,d)=>{let e=new AbortController,f=setTimeout(()=>{f=null,e.abort(p.makeTimeoutError())},d);try{return await a(b,Object.assign(Object.assign({},c),{signal:e.signal}))}catch(a){if("AbortError"===a.name)throw p.makeTimeoutError();throw a}finally{f&&clearTimeout(f)}}}getClientName(){return"fetch"}async makeRequest(a,b,c,d,e,f,g,h){let i="http"===g,j=new URL(c,`${i?"http":"https"}://${a}`);j.port=b;let k="POST"==d||"PUT"==d||"PATCH"==d,l=f||(k?"":void 0);return new $(await this._fetchFn(j.toString(),{method:d,headers:Y(e),body:"object"==typeof l?JSON.stringify(l):l},h))}}class $ extends q{constructor(a){super(a.status,$._transformHeadersToObject(a.headers)),this._res=a}getRawResponse(){return this._res}toStream(a){return a(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(a){let b={};for(let c of a){if(!Array.isArray(c)||2!=c.length)throw Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");b[c[0]]=c[1]}return b}}class _ extends h{constructor(a){super(),this.subtleCrypto=a||crypto.subtle}computeHMACSignature(a,b){throw new i("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(a,b){let c=new TextEncoder,d=await this.subtleCrypto.importKey("raw",c.encode(b),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),e=new Uint8Array(await this.subtleCrypto.sign("hmac",d,c.encode(a))),f=Array(e.length);for(let a=0;a<e.length;a++)f[a]=aa[e[a]];return f.join("")}async computeSHA256Async(a){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",a))}}let aa=Array(256);for(let a=0;a<aa.length;a++)aa[a]=a.toString(16).padStart(2,"0");class ab{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{let b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)})}secureCompare(a,b){if(a.length!==b.length)return!1;let c=a.length,d=0;for(let e=0;e<c;++e)d|=a.charCodeAt(e)^b.charCodeAt(e);return 0===d}createEmitter(){throw Error("createEmitter not implemented.")}tryBufferData(a){throw Error("tryBufferData not implemented.")}createNodeHttpClient(a){throw Error("createNodeHttpClient not implemented.")}createFetchHttpClient(a){return new Z(a)}createDefaultHttpClient(){throw Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(a){return new _(a)}createDefaultCryptoProvider(){throw Error("createDefaultCryptoProvider not implemented.")}}let ac=a=>{switch(a.type){case"card_error":return new af(a);case"invalid_request_error":return new ag(a);case"api_error":return new ah(a);case"authentication_error":return new ai(a);case"rate_limit_error":return new ak(a);case"idempotency_error":return new an(a);case"invalid_grant":return new ao(a);default:return new ap(a)}},ad=a=>"temporary_session_expired"===a.type?new aq(a):"invalid_fields"===a.code?new ag(a):ac(a);class ae extends Error{constructor(a={},b=null){var c;super(a.message),this.type=b||this.constructor.name,this.raw=a,this.rawType=a.type,this.code=a.code,this.doc_url=a.doc_url,this.param=a.param,this.detail=a.detail,this.headers=a.headers,this.requestId=a.requestId,this.statusCode=a.statusCode,this.message=null!=(c=a.message)?c:"",this.userMessage=a.user_message,this.charge=a.charge,this.decline_code=a.decline_code,this.payment_intent=a.payment_intent,this.payment_method=a.payment_method,this.payment_method_type=a.payment_method_type,this.setup_intent=a.setup_intent,this.source=a.source}}ae.generate=ac;class af extends ae{constructor(a={}){super(a,"StripeCardError")}}class ag extends ae{constructor(a={}){super(a,"StripeInvalidRequestError")}}class ah extends ae{constructor(a={}){super(a,"StripeAPIError")}}class ai extends ae{constructor(a={}){super(a,"StripeAuthenticationError")}}class aj extends ae{constructor(a={}){super(a,"StripePermissionError")}}class ak extends ae{constructor(a={}){super(a,"StripeRateLimitError")}}class al extends ae{constructor(a={}){super(a,"StripeConnectionError")}}class am extends ae{constructor(a,b,c={}){super(c,"StripeSignatureVerificationError"),this.header=a,this.payload=b}}class an extends ae{constructor(a={}){super(a,"StripeIdempotencyError")}}class ao extends ae{constructor(a={}){super(a,"StripeInvalidGrantError")}}class ap extends ae{constructor(a={}){super(a,"StripeUnknownError")}}class aq extends ae{constructor(a={}){super(a,"TemporarySessionExpiredError")}}var ar=c(79646);class as extends ae{}class at extends ab{constructor(){super(),this._exec=ar.exec,this._UNAME_CACHE=null}uuid4(){return f.randomUUID?f.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((a,b)=>{try{this._exec("uname -a",(b,c)=>{if(b)return a(null);a(c)})}catch(b){a(null)}})),this._UNAME_CACHE}secureCompare(a,b){if(!a||!b)throw Error("secureCompare must receive two arguments");if(a.length!==b.length)return!1;if(f.timingSafeEqual){let c=new TextEncoder,d=c.encode(a),e=c.encode(b);return f.timingSafeEqual(d,e)}return super.secureCompare(a,b)}createEmitter(){return new g.EventEmitter}tryBufferData(a){if(!(a.file.data instanceof g.EventEmitter))return Promise.resolve(a);let b=[];return new Promise((c,d)=>{a.file.data.on("data",a=>{b.push(a)}).once("end",()=>{let d=Object.assign({},a);d.file.data=S(b),c(d)}).on("error",a=>{d(new as({message:"An error occurred while attempting to process the file for upload.",detail:a}))})})}createNodeHttpClient(a){return new v(a)}createDefaultHttpClient(){return new v}createNodeCryptoProvider(){return new j}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}}let au=60;class av{constructor(a,b){this._stripe=a,this._maxBufferedRequestMetric=b}_addHeadersDirectlyToObject(a,b){a.requestId=b["request-id"],a.stripeAccount=a.stripeAccount||b["stripe-account"],a.apiVersion=a.apiVersion||b["stripe-version"],a.idempotencyKey=a.idempotencyKey||b["idempotency-key"]}_makeResponseEvent(a,b,c){let d=Date.now(),e=d-a.request_start_time;return H({api_version:c["stripe-version"],account:c["stripe-account"],idempotency_key:c["idempotency-key"],method:a.method,path:a.path,status:b,request_id:this._getRequestId(c),elapsed:e,request_start_time:a.request_start_time,request_end_time:d})}_getRequestId(a){return a["request-id"]}_streamingResponseHandler(a,b,c){return d=>{let e=d.getHeaders(),f=()=>{let c=this._makeResponseEvent(a,d.getStatusCode(),e);this._stripe._emitter.emit("response",c),this._recordRequestMetrics(this._getRequestId(e),c.elapsed,b)},g=d.toStream(f);return this._addHeadersDirectlyToObject(g,e),c(null,g)}}_jsonResponseHandler(a,b,c,d){return e=>{let f=e.getHeaders(),g=this._getRequestId(f),h=e.getStatusCode(),i=this._makeResponseEvent(a,h,f);this._stripe._emitter.emit("response",i),e.toJSON().then(a=>{if(a.error){let c;throw"string"==typeof a.error&&(a.error={type:a.error,message:a.error_description}),a.error.headers=f,a.error.statusCode=h,a.error.requestId=g,c=401===h?new ai(a.error):403===h?new aj(a.error):429===h?new ak(a.error):"v2"===b?ad(a.error):ac(a.error)}return a},a=>{throw new ah({message:"Invalid JSON received from the Stripe API",exception:a,requestId:f["request-id"]})}).then(a=>{this._recordRequestMetrics(g,i.elapsed,c);let b=e.getRawResponse();this._addHeadersDirectlyToObject(b,f),Object.defineProperty(a,"lastResponse",{enumerable:!1,writable:!1,value:b}),d(null,a)},a=>d(a,null))}}static _generateConnectionErrorMessage(a){return`An error occurred with our connection to Stripe.${a>0?` Request was retried ${a} times.`:""}`}static _shouldRetry(a,b,c,d){return!!(d&&0===b&&p.CONNECTION_CLOSED_ERROR_CODES.includes(d.code))||!(b>=c)&&(!a||"false"!==a.getHeaders()["stripe-should-retry"]&&!!("true"===a.getHeaders()["stripe-should-retry"]||409===a.getStatusCode()||a.getStatusCode()>=500))}_getSleepTimeInMS(a,b=null){let c=this._stripe.getInitialNetworkRetryDelay(),d=Math.min(c*Math.pow(2,a-1),this._stripe.getMaxNetworkRetryDelay());return d*=.5*(1+Math.random()),d=Math.max(c,d),Number.isInteger(b)&&b<=au&&(d=Math.max(d,b)),1e3*d}_getMaxNetworkRetries(a={}){return void 0!==a.maxNetworkRetries&&Number.isInteger(a.maxNetworkRetries)?a.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(a,b,c){let d=this._getMaxNetworkRetries(b),e=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if("v2"===c){if("POST"===a||"DELETE"===a)return e()}else if("v1"===c&&"POST"===a&&d>0)return e();return null}_makeHeaders({contentType:a,contentLength:b,apiVersion:c,clientUserAgent:d,method:e,userSuppliedHeaders:f,userSuppliedSettings:g,stripeAccount:h,stripeContext:i,apiMode:j}){let k={Accept:"application/json","Content-Type":a,"User-Agent":this._getUserAgentString(j),"X-Stripe-Client-User-Agent":d,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":c,"Stripe-Account":h,"Stripe-Context":i,"Idempotency-Key":this._defaultIdempotencyKey(e,g,j)},l="POST"==e||"PUT"==e||"PATCH"==e;return(l||b)&&(l||M(`${e} method had non-zero contentLength but no payload is expected for this verb`),k["Content-Length"]=b),Object.assign(H(k),I(f))}_getUserAgentString(a){let b=this._stripe.getConstant("PACKAGE_VERSION"),c=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${a} NodeBindings/${b} ${c}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0)return JSON.stringify({last_request_metrics:this._stripe._prevRequestMetrics.shift()})}_recordRequestMetrics(a,b,c){if(this._stripe.getTelemetryEnabled()&&a)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)M("Request metrics buffer is full, dropping telemetry message.");else{let d={request_id:a,request_duration_ms:b};c&&c.length>0&&(d.usage=c),this._stripe._prevRequestMetrics.push(d)}}_rawRequest(a,b,c,d){return new Promise((e,f)=>{let g;try{let e=a.toUpperCase();if("POST"!==e&&c&&0!==Object.keys(c).length)throw Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");let f=[].slice.call([c,d]),h=E(f),i="POST"===e?Object.assign({},h):null,j=F(f),k=j.headers,l=j.authenticator;g={requestMethod:e,requestPath:b,bodyData:i,queryData:{},authenticator:l,headers:k,host:j.host,streaming:!!j.streaming,settings:{},usage:["raw_request"]}}catch(a){f(a);return}function h(a,b){a?f(a):e(b)}let{headers:i,settings:j}=g,k=g.authenticator;this._request(g.requestMethod,g.host,b,g.bodyData,k,{headers:i,settings:j,streaming:g.streaming},g.usage,h)})}_request(a,b,c,d,e,f,g=[],h,i=null){var j;let k;e=null!=(j=null!=e?e:this._stripe._authenticator)?j:null;let l=V(c),m=(a,b,c,d,e)=>setTimeout(a,this._getSleepTimeInMS(d,e),b,c,d+1),o=(d,i,j)=>{let q=f.settings&&f.settings.timeout&&Number.isInteger(f.settings.timeout)&&f.settings.timeout>=0?f.settings.timeout:this._stripe.getApiField("timeout"),r={host:b||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:c,method:a,headers:Object.assign({},i),body:k,protocol:this._stripe.getApiField("protocol")};e(r).then(()=>{let b=this._stripe.getApiField("httpClient").makeRequest(r.host,r.port,r.path,r.method,r.headers,r.body,r.protocol,q),e=Date.now(),k=H({api_version:d,account:W(i["Stripe-Account"]),idempotency_key:W(i["Idempotency-Key"]),method:a,path:c,request_start_time:e}),s=j||0,t=this._getMaxNetworkRetries(f.settings||{});this._stripe._emitter.emit("request",k),b.then(a=>av._shouldRetry(a,s,t)?m(o,d,i,s,X(a.getHeaders()["retry-after"])):f.streaming&&400>a.getStatusCode()?this._streamingResponseHandler(k,g,h)(a):this._jsonResponseHandler(k,l,g,h)(a)).catch(a=>av._shouldRetry(null,s,t,a)?m(o,d,i,s,null):h(new al({message:a.code&&a.code===p.TIMEOUT_ERROR_CODE?`Request aborted due to timeout being reached (${q}ms)`:av._generateConnectionErrorMessage(s),detail:a})))}).catch(a=>{throw new ae({message:"Unable to authenticate the request",exception:a})})},q=(b,c)=>{if(b)return h(b);k=c,this._stripe.getClientUserAgent(b=>{let c=this._stripe.getApiField("version"),d=this._makeHeaders({contentType:"v2"==l?"application/json":"application/x-www-form-urlencoded",contentLength:k.length,apiVersion:c,clientUserAgent:b,method:a,userSuppliedHeaders:f.headers,userSuppliedSettings:f.settings,stripeAccount:"v2"==l?null:this._stripe.getApiField("stripeAccount"),stripeContext:"v2"==l?this._stripe.getApiField("stripeContext"):null,apiMode:l});o(c,d,0)})};if(i)i(a,d,f.headers,q);else{let a;q(null,a="v2"==l?d?U(d):"":A(d||{},l))}}}class aw{constructor(a,b,c,d){this.index=0,this.pagePromise=a,this.promiseCache={currentPromise:null},this.requestArgs=b,this.spec=c,this.stripeResource=d}async iterate(a){if(!(a&&a.data&&"number"==typeof a.data.length))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let b=aJ(this.requestArgs);if(this.index<a.data.length){let c=b?a.data.length-1-this.index:this.index,d=a.data[c];return this.index+=1,{value:d,done:!1}}if(a.has_more){this.index=0,this.pagePromise=this.getNextPage(a);let b=await this.pagePromise;return this.iterate(b)}return{done:!0,value:void 0}}getNextPage(a){throw Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let a=(async()=>{let a=await this._next();return this.promiseCache.currentPromise=null,a})();return this.promiseCache.currentPromise=a,a}}class ax extends aw{getNextPage(a){let b=aJ(this.requestArgs),c=aF(a,b);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[b?"ending_before":"starting_after"]:c})}}class ay extends aw{getNextPage(a){if(!a.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:a.next_page})}}class az{constructor(a,b,c,d){this.currentPageIterator=(async()=>(await a).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await a).next_page_url||null)(),this.requestArgs=b,this.spec=c,this.stripeResource=d}async turnPage(){let a=await this.nextPageUrl;if(!a)return null;this.spec.fullPath=a;let b=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(b.next_page_url),this.currentPageIterator=Promise.resolve(b.data[Symbol.iterator]()),this.currentPageIterator}async next(){{let a=(await this.currentPageIterator).next();if(!a.done)return{done:!1,value:a.value}}let a=await this.turnPage();if(!a)return{done:!0,value:void 0};let b=a.next();return b.done?{done:!0,value:void 0}:{done:!1,value:b.value}}}let aA=(a,b,c,d)=>{let e=V(c.fullPath||c.path);return"v2"!==e&&"search"===c.methodType?aB(new ay(d,b,c,a)):"v2"!==e&&"list"===c.methodType?aB(new ax(d,b,c,a)):"v2"===e&&"list"===c.methodType?aB(new az(d,b,c,a)):null},aB=a=>{let b=aG((...b)=>a.next(...b)),c=aH(b),d={autoPagingEach:b,autoPagingToArray:c,next:()=>a.next(),return:()=>({}),[aC()]:()=>d};return d};function aC(){return"undefined"!=typeof Symbol&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function aD(a){if(a.length<2)return null;let b=a[1];if("function"!=typeof b)throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof b}`);return b}function aE(a){if(0===a.length)return;let b=a[0];if("function"!=typeof b)throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof b}`);if(2===b.length)return b;if(b.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${b}`);return function(a,c){c(b(a))}}function aF(a,b){let c=b?0:a.data.length-1,d=a.data[c],e=d&&d.id;if(!e)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return e}function aG(a){return function(){let b=[].slice.call(arguments),c=aE(b),d=aD(b);if(b.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${b}`);return K(aI(a,c),d)}}function aH(a){return function(b,c){let d=b&&b.limit;if(!d)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(d>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");return K(new Promise((b,c)=>{let e=[];a(a=>{if(e.push(a),e.length>=d)return!1}).then(()=>{b(e)}).catch(c)}),c)}}function aI(a,b){return new Promise((c,d)=>{function e(d){if(d.done)return void c();let f=d.value;return new Promise(a=>{b(f,a)}).then(b=>!1===b?e({done:!0,value:void 0}):a().then(e))}a().then(e).catch(d)})}function aJ(a){return!!E([].slice.call(a)).ending_before}function aK(a){if(void 0!==a.path&&void 0!==a.fullPath)throw Error(`Method spec specified both a 'path' (${a.path}) and a 'fullPath' (${a.fullPath}).`);return function(...b){let c="function"==typeof b[b.length-1]&&b.pop();a.urlParams=D(a.fullPath||this.createResourcePathWithSymbols(a.path||""));let d=K(this._makeRequest(b,a,{}),c);return Object.assign(d,aA(this,b,a,d)),d}}function aL(a,b){if(this._stripe=a,b)throw Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=B(this.basePath||a.getApiField("basePath")),this.resourcePath=this.path,this.path=B(this.path),this.initialize(...arguments)}function aM(a){let b={DEFAULT_TOLERANCE:300,signature:null,constructEvent(a,c,d,e,f,g){try{if(!this.signature)throw Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(a,c,d,e||b.DEFAULT_TOLERANCE,f,g)}catch(a){throw a instanceof i&&(a.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),a}return a instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(a)):JSON.parse(a)},async constructEventAsync(a,c,d,e,f,g){if(!this.signature)throw Error("ERR: missing signature helper, unable to verify");return await this.signature.verifyHeaderAsync(a,c,d,e||b.DEFAULT_TOLERANCE,f,g),a instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(a)):JSON.parse(a)},generateTestHeaderString:function(a){let b=k(a),c=b.signature||b.cryptoProvider.computeHMACSignature(b.payloadString,b.secret);return b.generateHeaderString(c)},generateTestHeaderStringAsync:async function(a){let b=k(a),c=b.signature||await b.cryptoProvider.computeHMACSignatureAsync(b.payloadString,b.secret);return b.generateHeaderString(c)}},c={EXPECTED_SCHEME:"v1",verifyHeader(a,b,c,g,h,i){let{decodedHeader:k,decodedPayload:l,details:m,suspectPayloadType:o}=e(a,b,this.EXPECTED_SCHEME),p=/\s/.test(c),q=(h=h||j()).computeHMACSignature(d(l,m),c);return f(l,k,m,q,g,o,p,i),!0},async verifyHeaderAsync(a,b,c,g,h,i){let{decodedHeader:k,decodedPayload:l,details:m,suspectPayloadType:o}=e(a,b,this.EXPECTED_SCHEME),p=/\s/.test(c);h=h||j();let q=await h.computeHMACSignatureAsync(d(l,m),c);return f(l,k,m,q,g,o,p,i)}};function d(a,b){return`${b.timestamp}.${a}`}function e(a,b,c){if(!a)throw new am(b,a,{message:"No webhook payload was provided."});let d="string"!=typeof a&&!(a instanceof Uint8Array),e=new TextDecoder("utf8"),f=a instanceof Uint8Array?e.decode(a):a;if(Array.isArray(b))throw Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(null==b||""==b)throw new am(b,a,{message:"No stripe-signature header value was provided."});let h=b instanceof Uint8Array?e.decode(b):b,i=g(h,c);if(!i||-1===i.timestamp)throw new am(h,f,{message:"Unable to extract timestamp and signatures from header"});if(!i.signatures.length)throw new am(h,f,{message:"No signatures found with expected scheme"});return{decodedPayload:f,decodedHeader:h,details:i,suspectPayloadType:d}}function f(b,c,d,e,f,g,h,i){let j=!!d.signatures.filter(a.secureCompare.bind(a,e)).length,k="\nLearn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature",l=h?"\n\nNote: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value":"";if(!j){if(g)throw new am(c,b,{message:"Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. \nSignature verification is impossible without access to the original signed material. \n"+k+"\n"+l});throw new am(c,b,{message:"No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? \n If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.\n"+k+"\n"+l})}let m=Math.floor(("number"==typeof i?i:Date.now())/1e3)-d.timestamp;if(f>0&&m>f)throw new am(c,b,{message:"Timestamp outside the tolerance zone"});return!0}function g(a,b){return"string"!=typeof a?null:a.split(",").reduce((a,c)=>{let d=c.split("=");return"t"===d[0]&&(a.timestamp=parseInt(d[1],10)),d[0]===b&&a.signatures.push(d[1]),a},{timestamp:-1,signatures:[]})}let h=null;function j(){return h||(h=a.createDefaultCryptoProvider()),h}function k(a){if(!a)throw new ae({message:"Options are required"});let b=Math.floor(a.timestamp)||Math.floor(Date.now()/1e3),d=a.scheme||c.EXPECTED_SCHEME,e=a.cryptoProvider||j(),f=`${b}.${a.payload}`,g=a=>`t=${b},${d}=${a}`;return Object.assign(Object.assign({},a),{timestamp:b,scheme:d,cryptoProvider:e,payloadString:f,generateHeaderString:g})}return b.signature=c,b}aL.extend=G,aL.method=aK,aL.MAX_BUFFERED_REQUEST_METRICS=100,aL.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(a,b){let c=[this.basePath(b),this.path(b)];if("function"==typeof a){let d=a(b);d&&c.push(d)}else c.push(a);return this._joinUrlParts(c)},createResourcePathWithSymbols(a){return a?`/${this._joinUrlParts([this.resourcePath,a])}`:`/${this.resourcePath}`},_joinUrlParts:a=>a.join("/").replace(/\/{2,}/g,"/"),_getRequestOpts(a,b,c){var d;let e=(b.method||"GET").toUpperCase(),f=b.usage||[],g=b.urlParams||[],h=b.encode||(a=>a),i=!!b.fullPath,j=B(i?b.fullPath:b.path||""),k=i?b.fullPath:this.createResourcePathWithSymbols(b.path),l=[].slice.call(a),m=g.reduce((a,b)=>{let c=l.shift();if("string"!=typeof c)throw Error(`Stripe: Argument "${b}" must be a string, but got: ${c} (on API request to \`${e} ${k}\`)`);return a[b]=c,a},{}),o=h(Object.assign({},E(l),c)),p=F(l),q=p.host||b.host,r=!!b.streaming||!!p.streaming;if(l.filter(a=>null!=a).length)throw Error(`Stripe: Unknown arguments (${l}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${e} \`${k}\`)`);let s=i?j(m):this.createFullPath(j,m),t=Object.assign(p.headers,b.headers);b.validator&&b.validator(o,{headers:t});let u="GET"===b.method||"DELETE"===b.method;return{requestMethod:e,requestPath:s,bodyData:u?null:o,queryData:u?o:{},authenticator:null!=(d=p.authenticator)?d:null,headers:t,host:null!=q?q:null,streaming:r,settings:p.settings,usage:f}},_makeRequest(a,b,c){return new Promise((d,e)=>{var f;let g;try{g=this._getRequestOpts(a,b,c)}catch(a){e(a);return}function h(a,c){a?e(a):d(b.transformResponseData?b.transformResponseData(c):c)}let i=0===Object.keys(g.queryData).length,j=[g.requestPath,i?"":"?",A(g.queryData,V(g.requestPath))].join(""),{headers:k,settings:l}=g;this._stripe._requestSender._request(g.requestMethod,g.host,j,g.bodyData,g.authenticator,{headers:k,settings:l,streaming:g.streaming},g.usage,h,null==(f=this.requestDataProcessor)?void 0:f.bind(this))})}};let aN="2025-08-27.basil";function aO(a,b){for(let c in b){if(!Object.prototype.hasOwnProperty.call(b,c))continue;let d=c[0].toLowerCase()+c.substring(1),e=new b[c](a);this[d]=e}}function aP(a,b){return function(a){return new aO(a,b)}}let aQ=aL.method,aR=aL.extend({retrieve:aQ({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:aQ({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:aQ({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:aQ({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:aQ({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:aQ({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:aQ({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})}),aS=aL.method,aT=aL.extend({retrieve:aS({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:aS({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})}),aU=aL.method,aV=aL.extend({create:aU({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:aU({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:aU({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:aU({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:aU({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:aU({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})}),aW=aL.method,aX=aL.extend({retrieve:aW({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:aW({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:aW({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:aW({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:aW({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),aY=aL.method,aZ=aL.extend({create:aY({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:aY({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:aY({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:aY({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:aY({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:aY({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:aY({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})}),a$=aL.method,a_=aL.extend({create:a$({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:a$({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:a$({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})}),a0=aL.method,a1=aL.extend({create:a0({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:a0({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:a0({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:a0({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),a2=aL.method,a3=aL.extend({create:a2({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:a2({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:a2({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:a2({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),a4=aL.method,a5=aL.extend({deliverCard:a4({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:a4({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:a4({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:a4({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:a4({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})}),a6=aL.method,a7=aL.extend({create:a6({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:a6({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:a6({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:a6({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),a8=aL.method,a9=aL.extend({create:a8({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:a8({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:a8({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:a8({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:a8({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),ba=aL.method,bb=aL.extend({create:ba({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})}),bc=aL.method,bd=aL.extend({create:bc({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),be=aL.method,bf=aL.extend({retrieve:be({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})}),bg=aL.method,bh=aL.extend({retrieve:bg({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:bg({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})}),bi=aL.method,bj=aL.extend({create:bi({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:bi({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:bi({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:bi({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:bi({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:bi({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})}),bk=aL.method,bl=aL.extend({create:bk({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:bk({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:bk({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),bm=aL.method,bn=aL.extend({fundCashBalance:bm({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),bo=aL.method,bp=aL.extend({create:bo({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:bo({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:bo({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),bq=aL.method,br=aL.extend({create:bq({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:bq({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:bq({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:bq({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:bq({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),bs=aL.method,bt=aL.extend({retrieve:bs({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:bs({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),bu=aL.method,bv=aL.extend({create:bu({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:bu({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:bu({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:bu({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:bu({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:bu({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:bu({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:bu({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})}),bw=aL.method,bx=aL.extend({retrieve(...a){return bw({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:a=>this.addFetchRelatedObjectIfNeeded(a)}).apply(this,a)},list(...a){return bw({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:a=>Object.assign(Object.assign({},a),{data:a.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,a)},addFetchRelatedObjectIfNeeded(a){return a.related_object&&a.related_object.url?Object.assign(Object.assign({},a),{fetchRelatedObject:()=>bw({method:"GET",fullPath:a.related_object.url}).apply(this,[{stripeAccount:a.context}])}):a}}),by=aL.method,bz=aL.extend({create:by({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:by({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:by({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:by({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})}),bA=aL.method,bB=aL.extend({create:bA({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:bA({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:bA({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:bA({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:bA({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:bA({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:bA({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),bC=aL.method,bD=aL.extend({fail:bC({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:bC({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:bC({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),bE=aL.method,bF=aL.extend({create:bE({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:bE({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:bE({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:bE({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),bG=aL.method,bH=aL.extend({create:bG({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:bG({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:bG({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:bG({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:bG({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),bI=aL.method,bJ=aL.extend({create:bI({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})}),bK=aL.method,bL=aL.extend({create:bK({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})}),bM=aL.method,bN=aL.extend({create:bM({method:"POST",fullPath:"/v2/billing/meter_event_session"})}),bO=aL.method,bP=aL.extend({create:bO({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})}),bQ=aL.method,bR=aL.extend({create:bQ({method:"POST",fullPath:"/v1/billing/meter_events"})}),bS=aL.method,bT=aL.extend({create:bS({method:"POST",fullPath:"/v2/billing/meter_events"})}),bU=aL.method,bV=aL.extend({create:bU({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:bU({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:bU({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:bU({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:bU({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:bU({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:bU({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})}),bW=aL.method,bX=aL.extend({create:bW({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:bW({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:bW({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:bW({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:bW({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})}),bY=aL.method,bZ=aL.extend({update:bY({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:bY({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:bY({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:bY({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),b$=aL.method,b_=aL.extend({create:b$({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:b$({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:b$({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:b$({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),b0=aL.method,b1=aL.extend({update:b0({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:b0({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:b0({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:b0({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),b2=aL.method,b3=aL.extend({create:b2({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:b2({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:b2({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:b2({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),b4=aL.method,b5=aL.extend({create:b4({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:b4({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:b4({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:b4({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})}),b6=aL.method,b7=aL.extend({activate:b6({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:b6({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:b6({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})}),b8=aL.method,b9=aL.extend({retrieve:b8({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:b8({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})}),ca=aL.method,cb=aL.extend({retrieve:ca({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:ca({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})}),cc=aL.method,cd=aL.extend({create:cc({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:cc({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:cc({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:cc({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:cc({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:cc({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),collectInputs:cc({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_inputs"}),collectPaymentMethod:cc({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_payment_method"}),confirmPaymentIntent:cc({method:"POST",fullPath:"/v1/terminal/readers/{reader}/confirm_payment_intent"}),processPaymentIntent:cc({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:cc({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:cc({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:cc({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),ce=aL.method,cf=aL.extend({presentPaymentMethod:ce({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"}),succeedInputCollection:ce({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection"}),timeoutInputCollection:ce({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection"})}),cg=aL.method,ch=aL.extend({create:cg({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),ci=aL.method,cj=aL.extend({retrieve:ci({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:ci({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),ck=aL.method,cl=aL.extend({create:ck({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),cm=aL.method,cn=aL.extend({retrieve:cm({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:cm({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),co=aL.method,cp=aL.extend({expire:co({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),cq=aL.method,cr=aL.extend({create:cq({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:cq({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:cq({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:cq({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})}),cs=aL.method,ct=aL.extend({create:cs({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:cs({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:cs({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),cu=aL.method,cv=aL.extend({retrieve:cu({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:cu({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),cw=aL.method,cx=aL.extend({create:cw({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:cw({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:cw({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})}),cy=aL.method,cz=aL.extend({retrieve:cy({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:cy({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),cA=aL.method,cB=aL.extend({create:cA({method:"POST",fullPath:"/v1/apps/secrets"}),list:cA({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:cA({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:cA({method:"GET",fullPath:"/v1/apps/secrets/find"})}),cC=aL.method,cD=aL.extend({create:cC({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),cE=aL.method,cF=aL.extend({create:cE({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:cE({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:cE({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:cE({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:cE({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:cE({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),cG=aL.method,cH=aL.extend({create:cG({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:cG({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),cI=aL.method,cJ=aL.extend({retrieve:cI({method:"GET",fullPath:"/v1/tax/settings"}),update:cI({method:"POST",fullPath:"/v1/tax/settings"})}),cK=aL.method,cL=aL.extend({retrieve:cK({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:cK({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})}),cM=aL.method,cN=aL.extend({create:cM({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:cM({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:cM({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:cM({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:cM({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),cO=aL.method,cP=aL.extend({retrieve:cO({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:cO({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:cO({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})}),cQ=aL.method,cR=aL.extend({retrieve:cQ({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:cQ({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),cS=aL.method,cT=aL.extend({retrieve:cS({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:cS({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})}),cU=aL.method,cV=aL.extend({retrieve:cU({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:cU({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:cU({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),cW=aL.method,cX=aL.extend({retrieve:cW({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:cW({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:cW({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:cW({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})}),cY=aL.method,cZ=aL.extend({createForceCapture:cY({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:cY({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:cY({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})}),c$=aL.method,c_=aL.extend({retrieve:c$({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:c$({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),c0=aL.method,c1=aL.extend({create:c0({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:c0({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:c0({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:c0({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),c2=aL.method,c3=aL.extend({create:c2({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:c2({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:c2({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:c2({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:c2({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),c4=aL.method,c5=aL.extend({retrieve:c4({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:c4({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),c6=aL.method,c7=aL.extend({create:c6({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:c6({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:c6({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:c6({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:c6({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:c6({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),c8=aL.method,c9=aL.extend({create:c8({method:"POST",fullPath:"/v1/accounts"}),retrieve(a,...b){return"string"==typeof a?c8({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[a,...b]):(null==a&&[].shift.apply([a,...b]),c8({method:"GET",fullPath:"/v1/account"}).apply(this,[a,...b]))},update:c8({method:"POST",fullPath:"/v1/accounts/{account}"}),list:c8({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:c8({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:c8({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:c8({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:c8({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:c8({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:c8({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:c8({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:c8({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:c8({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:c8({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:c8({method:"GET",fullPath:"/v1/account"}),retrieveCapability:c8({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:c8({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:c8({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:c8({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:c8({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:c8({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})}),da=aL.method,db=aL.extend({create:da({method:"POST",fullPath:"/v1/account_links"})}),dc=aL.method,dd=aL.extend({create:dc({method:"POST",fullPath:"/v1/account_sessions"})}),de=aL.method,df=aL.extend({create:de({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:de({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:de({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:de({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})}),dg=aL.method,dh=aL.extend({retrieve:dg({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:dg({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:dg({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:dg({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:dg({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:dg({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})}),di=aL.method,dj=aL.extend({retrieve:di({method:"GET",fullPath:"/v1/balance"})}),dk=aL.method,dl=aL.extend({retrieve:dk({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:dk({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})}),dm=aL.method,dn=aL.extend({create:dm({method:"POST",fullPath:"/v1/charges"}),retrieve:dm({method:"GET",fullPath:"/v1/charges/{charge}"}),update:dm({method:"POST",fullPath:"/v1/charges/{charge}"}),list:dm({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:dm({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:dm({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})}),dp=aL.method,dq=aL.extend({retrieve:dp({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})}),dr=aL.method,ds=aL.extend({retrieve:dr({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:dr({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})}),dt=aL.method,du=aL.extend({create:dt({method:"POST",fullPath:"/v1/coupons"}),retrieve:dt({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:dt({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:dt({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:dt({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})}),dv=aL.method,dw=aL.extend({create:dv({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:dv({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:dv({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:dv({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:dv({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:dv({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:dv({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:dv({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})}),dx=aL.method,dy=aL.extend({create:dx({method:"POST",fullPath:"/v1/customer_sessions"})}),dz=aL.method,dA=aL.extend({create:dz({method:"POST",fullPath:"/v1/customers"}),retrieve:dz({method:"GET",fullPath:"/v1/customers/{customer}"}),update:dz({method:"POST",fullPath:"/v1/customers/{customer}"}),list:dz({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:dz({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:dz({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:dz({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:dz({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:dz({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:dz({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:dz({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:dz({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:dz({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:dz({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:dz({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:dz({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:dz({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:dz({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:dz({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:dz({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:dz({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:dz({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:dz({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:dz({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:dz({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:dz({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:dz({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:dz({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})}),dB=aL.method,dC=aL.extend({retrieve:dB({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:dB({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:dB({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:dB({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})}),dD=aL.method,dE=aL.extend({create:dD({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(a,b)=>{if(!b.headers||!b.headers["Stripe-Version"])throw Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:dD({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})}),dF=aL.method,dG=aL.extend({retrieve:dF({method:"GET",fullPath:"/v1/events/{id}"}),list:dF({method:"GET",fullPath:"/v1/events",methodType:"list"})}),dH=aL.method,dI=aL.extend({retrieve:dH({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:dH({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})}),dJ=aL.method,dK=aL.extend({create:dJ({method:"POST",fullPath:"/v1/file_links"}),retrieve:dJ({method:"GET",fullPath:"/v1/file_links/{link}"}),update:dJ({method:"POST",fullPath:"/v1/file_links/{link}"}),list:dJ({method:"GET",fullPath:"/v1/file_links",methodType:"list"})}),dL=(a,b,c)=>{let d=(Math.round(1e16*Math.random())+Math.round(1e16*Math.random())).toString();c["Content-Type"]=`multipart/form-data; boundary=${d}`;let e=new TextEncoder,f=new Uint8Array(0),g=e.encode("\r\n");function h(a){let b=f,c=a instanceof Uint8Array?a:new Uint8Array(e.encode(a));(f=new Uint8Array(b.length+c.length+2)).set(b),f.set(c,b.length),f.set(g,f.length-2)}function i(a){return`"${a.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}let j=O(b);for(let a in j){if(!Object.prototype.hasOwnProperty.call(j,a))continue;let b=j[a];if(h(`--${d}`),Object.prototype.hasOwnProperty.call(b,"data")){let c=b;h(`Content-Disposition: form-data; name=${i(a)}; filename=${i(c.name||"blob")}`),h(`Content-Type: ${c.type||"application/octet-stream"}`),h(""),h(c.data)}else h(`Content-Disposition: form-data; name=${i(a)}`),h(""),h(b)}return h(`--${d}--`),f};function dM(a,b,c,d){if(b=b||{},"POST"!==a)return d(null,A(b));this._stripe._platformFunctions.tryBufferData(b).then(b=>d(null,dL(a,b,c))).catch(a=>d(a,null))}let dN=aL.method,dO=aL.extend({create:dN({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:dN({method:"GET",fullPath:"/v1/files/{file}"}),list:dN({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:dM}),dP=aL.method,dQ=aL.extend({create:dP({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:dP({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:dP({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:dP({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:dP({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})}),dR=aL.method,dS=aL.extend({retrieve:dR({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:dR({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})}),dT=aL.method,dU=aL.extend({retrieve:dT({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:dT({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:dT({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:dT({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})}),dV=aL.method,dW=aL.extend({create:dV({method:"POST",fullPath:"/v1/invoices"}),retrieve:dV({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:dV({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:dV({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:dV({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:dV({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),attachPayment:dV({method:"POST",fullPath:"/v1/invoices/{invoice}/attach_payment"}),createPreview:dV({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:dV({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:dV({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:dV({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:dV({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:dV({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:dV({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:dV({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:dV({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:dV({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:dV({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})}),dX=aL.method,dY=aL.extend({retrieve:dX({method:"GET",fullPath:"/v1/mandates/{mandate}"})}),dZ=aL.method,d$="connect.stripe.com",d_=aL.extend({basePath:"/",authorizeUrl(a,b){a=a||{};let c="oauth/authorize";return(b=b||{}).express&&(c=`express/${c}`),a.response_type||(a.response_type="code"),a.client_id||(a.client_id=this._stripe.getClientId()),a.scope||(a.scope="read_write"),`https://${d$}/${c}?${A(a)}`},token:dZ({method:"POST",path:"oauth/token",host:d$}),deauthorize(a,...b){return a.client_id||(a.client_id=this._stripe.getClientId()),dZ({method:"POST",path:"oauth/deauthorize",host:d$}).apply(this,[a,...b])}}),d0=aL.method,d1=aL.extend({create:d0({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:d0({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:d0({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:d0({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:d0({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:d0({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:d0({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:d0({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:d0({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),search:d0({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:d0({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})}),d2=aL.method,d3=aL.extend({create:d2({method:"POST",fullPath:"/v1/payment_links"}),retrieve:d2({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:d2({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:d2({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:d2({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})}),d4=aL.method,d5=aL.extend({create:d4({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:d4({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:d4({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:d4({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})}),d6=aL.method,d7=aL.extend({create:d6({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:d6({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:d6({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:d6({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:d6({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})}),d8=aL.method,d9=aL.extend({create:d8({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:d8({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:d8({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:d8({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:d8({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:d8({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})}),ea=aL.method,eb=aL.extend({create:ea({method:"POST",fullPath:"/v1/payouts"}),retrieve:ea({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:ea({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:ea({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:ea({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:ea({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})}),ec=aL.method,ed=aL.extend({create:ec({method:"POST",fullPath:"/v1/plans"}),retrieve:ec({method:"GET",fullPath:"/v1/plans/{plan}"}),update:ec({method:"POST",fullPath:"/v1/plans/{plan}"}),list:ec({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:ec({method:"DELETE",fullPath:"/v1/plans/{plan}"})}),ee=aL.method,ef=aL.extend({create:ee({method:"POST",fullPath:"/v1/prices"}),retrieve:ee({method:"GET",fullPath:"/v1/prices/{price}"}),update:ee({method:"POST",fullPath:"/v1/prices/{price}"}),list:ee({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:ee({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})}),eg=aL.method,eh=aL.extend({create:eg({method:"POST",fullPath:"/v1/products"}),retrieve:eg({method:"GET",fullPath:"/v1/products/{id}"}),update:eg({method:"POST",fullPath:"/v1/products/{id}"}),list:eg({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:eg({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:eg({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:eg({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:eg({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:eg({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:eg({method:"GET",fullPath:"/v1/products/search",methodType:"search"})}),ei=aL.method,ej=aL.extend({create:ei({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:ei({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:ei({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:ei({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})}),ek=aL.method,el=aL.extend({create:ek({method:"POST",fullPath:"/v1/quotes"}),retrieve:ek({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:ek({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:ek({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:ek({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:ek({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:ek({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:ek({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:ek({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:ek({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})}),em=aL.method,en=aL.extend({create:em({method:"POST",fullPath:"/v1/refunds"}),retrieve:em({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:em({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:em({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:em({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})}),eo=aL.method,ep=aL.extend({retrieve:eo({method:"GET",fullPath:"/v1/reviews/{review}"}),list:eo({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:eo({method:"POST",fullPath:"/v1/reviews/{review}/approve"})}),eq=aL.method,er=aL.extend({list:eq({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})}),es=aL.method,et=aL.extend({create:es({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:es({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:es({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:es({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:es({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:es({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:es({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})}),eu=aL.method,ev=aL.extend({create:eu({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:eu({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:eu({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:eu({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})}),ew=aL.method,ex=aL.extend({create:ew({method:"POST",fullPath:"/v1/sources"}),retrieve:ew({method:"GET",fullPath:"/v1/sources/{source}"}),update:ew({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:ew({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:ew({method:"POST",fullPath:"/v1/sources/{source}/verify"})}),ey=aL.method,ez=aL.extend({create:ey({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:ey({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:ey({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:ey({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:ey({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})}),eA=aL.method,eB=aL.extend({create:eA({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:eA({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:eA({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:eA({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:eA({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:eA({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})}),eC=aL.method,eD=aL.extend({create:eC({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:eC({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:eC({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:eC({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:eC({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:eC({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),migrate:eC({method:"POST",fullPath:"/v1/subscriptions/{subscription}/migrate"}),resume:eC({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:eC({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})}),eE=aL.method,eF=aL.extend({retrieve:eE({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:eE({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})}),eG=aL.method,eH=aL.extend({create:eG({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:eG({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:eG({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:eG({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})}),eI=aL.method,eJ=aL.extend({create:eI({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:eI({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:eI({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:eI({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})}),eK=aL.method,eL=aL.extend({create:eK({method:"POST",fullPath:"/v1/tokens"}),retrieve:eK({method:"GET",fullPath:"/v1/tokens/{token}"})}),eM=aL.method,eN=aL.extend({create:eM({method:"POST",fullPath:"/v1/topups"}),retrieve:eM({method:"GET",fullPath:"/v1/topups/{topup}"}),update:eM({method:"POST",fullPath:"/v1/topups/{topup}"}),list:eM({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:eM({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})}),eO=aL.method,eP=aL.extend({create:eO({method:"POST",fullPath:"/v1/transfers"}),retrieve:eO({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:eO({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:eO({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:eO({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:eO({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:eO({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:eO({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})}),eQ=aL.method,eR=aL.extend({create:eQ({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:eQ({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:eQ({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:eQ({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:eQ({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),eS=aP("apps",{Secrets:cB}),eT=aP("billing",{Alerts:aV,CreditBalanceSummary:bf,CreditBalanceTransactions:bh,CreditGrants:bj,MeterEventAdjustments:bJ,MeterEvents:bR,Meters:bV}),eU=aP("billingPortal",{Configurations:a7,Sessions:cD}),eV=aP("checkout",{Sessions:cF}),eW=aP("climate",{Orders:bX,Products:cb,Suppliers:cL}),eX=aP("entitlements",{ActiveEntitlements:aT,Features:bz}),eY=aP("financialConnections",{Accounts:aR,Sessions:cH,Transactions:cT}),eZ=aP("forwarding",{Requests:cx}),e$=aP("identity",{VerificationReports:c5,VerificationSessions:c7}),e_=aP("issuing",{Authorizations:aX,Cardholders:a1,Cards:a3,Disputes:br,PersonalizationDesigns:b5,PhysicalBundles:b9,Tokens:cP,Transactions:cV}),e0=aP("radar",{EarlyFraudWarnings:bt,ValueListItems:c1,ValueLists:c3}),e1=aP("reporting",{ReportRuns:ct,ReportTypes:cv}),e2=aP("sigma",{ScheduledQueryRuns:cz}),e3=aP("tax",{Calculations:a_,Registrations:cr,Settings:cJ,Transactions:cX}),e4=aP("terminal",{Configurations:a9,ConnectionTokens:bd,Locations:bH,Readers:cd}),e5=aP("testHelpers",{ConfirmationTokens:bb,Customers:bn,Refunds:cp,TestClocks:cN,Issuing:aP("issuing",{Authorizations:aZ,Cards:a5,PersonalizationDesigns:b7,Transactions:cZ}),Terminal:aP("terminal",{Readers:cf}),Treasury:aP("treasury",{InboundTransfers:bD,OutboundPayments:bZ,OutboundTransfers:b1,ReceivedCredits:ch,ReceivedDebits:cl})}),e6=aP("treasury",{CreditReversals:bl,DebitReversals:bp,FinancialAccounts:bB,InboundTransfers:bF,OutboundPayments:b_,OutboundTransfers:b3,ReceivedCredits:cj,ReceivedDebits:cn,TransactionEntries:cR,Transactions:c_}),e7=aP("v2",{Billing:aP("billing",{MeterEventAdjustments:bL,MeterEventSession:bN,MeterEventStream:bP,MeterEvents:bT}),Core:aP("core",{EventDestinations:bv,Events:bx})}),e8="api.stripe.com",e9="443",fa="/v1/",fb=aN,fc=8e4,fd=5,fe=.5,ff=["name","version","url","partner_id"],fg=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],fh=a=>new av(a,aL.MAX_BUFFERED_REQUEST_METRICS),fi=function(a,b=fh){function c(e,f={}){if(!(this instanceof c))return new c(e,f);let g=this._getPropsFromConfig(f);this._platformFunctions=a,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=c.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let h=g.httpAgent||null;this._api={host:g.host||e8,port:g.port||e9,protocol:g.protocol||"https",basePath:fa,version:g.apiVersion||fb,timeout:P("timeout",g.timeout,fc),maxNetworkRetries:P("maxNetworkRetries",g.maxNetworkRetries,2),agent:h,httpClient:g.httpClient||(h?this._platformFunctions.createNodeHttpClient(h):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:g.stripeAccount||null,stripeContext:g.stripeContext||null};let i=g.typescript||!1;i!==c.USER_AGENT.typescript&&(c.USER_AGENT.typescript=i),g.appInfo&&this._setAppInfo(g.appInfo),this._prepResources(),this._setAuthenticator(e,g.authenticator),this.errors=d,this.webhooks=c.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=!1!==g.telemetry,this._requestSender=b(this),this.StripeResource=c.StripeResource}return c.PACKAGE_VERSION="18.5.0",c.API_VERSION=aN,c.USER_AGENT=Object.assign({bindings_version:c.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},Q()),c.StripeResource=aL,c.resources=e,c.HttpClient=p,c.HttpClientResponse=q,c.CryptoProvider=h,c.webhooks=aM(a),c.errors=d,c.createNodeHttpClient=a.createNodeHttpClient,c.createFetchHttpClient=a.createFetchHttpClient,c.createNodeCryptoProvider=a.createNodeCryptoProvider,c.createSubtleCryptoProvider=a.createSubtleCryptoProvider,c.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(a,b,c,d){return this._requestSender._rawRequest(a,b,c,d)},_setAuthenticator(a,b){if(a&&b)throw Error("Can't specify both apiKey and authenticator");if(!a&&!b)throw Error("Neither apiKey nor config.authenticator provided");this._authenticator=a?R(a):b},_setAppInfo(a){if(a&&"object"!=typeof a)throw Error("AppInfo must be an object.");if(a&&!a.name)throw Error("AppInfo.name is required");a=a||{},this._appInfo=ff.reduce((b,c)=>("string"==typeof a[c]&&((b=b||{})[c]=a[c]),b),{})},_setApiField(a,b){this._api[a]=b},getApiField(a){return this._api[a]},setClientId(a){this._clientId=a},getClientId(){return this._clientId},getConstant:a=>{switch(a){case"DEFAULT_HOST":return e8;case"DEFAULT_PORT":return e9;case"DEFAULT_BASE_PATH":return fa;case"DEFAULT_API_VERSION":return fb;case"DEFAULT_TIMEOUT":return fc;case"MAX_NETWORK_RETRY_DELAY_SEC":return fd;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return fe}return c[a]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(a,b,c){let d=P(a,b,c);this._setApiField(a,d)},getMaxNetworkRetryDelay:()=>fd,getInitialNetworkRetryDelay:()=>fe,getClientUserAgent(a){return this.getClientUserAgentSeeded(c.USER_AGENT,a)},getClientUserAgentSeeded(a,b){this._platformFunctions.getUname().then(c=>{var d;let e={};for(let b in a)Object.prototype.hasOwnProperty.call(a,b)&&(e[b]=encodeURIComponent(null!=(d=a[b])?d:"null"));e.uname=encodeURIComponent(c||"UNKNOWN");let f=this.getApiField("httpClient");f&&(e.httplib=encodeURIComponent(f.getClientName())),this._appInfo&&(e.application=this._appInfo),b(JSON.stringify(e))})},getAppInfoAsString(){if(!this._appInfo)return"";let a=this._appInfo.name;return this._appInfo.version&&(a+=`/${this._appInfo.version}`),this._appInfo.url&&(a+=` (${this._appInfo.url})`),a},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&(this[L(a)]=new e[a](this))},_getPropsFromConfig(a){if(!a)return{};let b="string"==typeof a;if(!(a===Object(a)&&!Array.isArray(a))&&!b)throw Error("Config must either be an object or a string");if(b)return{apiVersion:a};if(Object.keys(a).filter(a=>!fg.includes(a)).length>0)throw Error(`Config object may only contain the following: ${fg.join(", ")}`);return a},parseThinEvent(a,b,c,d,e,f){return this.webhooks.constructEvent(a,b,c,d,e,f)}},c}(new at),fj=a=>async({data:b,ordersSlug:c="orders",req:d,transactionsSlug:e="transactions"})=>{let f=d.payload,{apiVersion:g,appInfo:h,secretKey:i}=a||{},j=b.customerEmail,k=b.paymentIntentID;if(!i)throw Error("Stripe secret key is required");if(!k)throw Error("PaymentIntent ID is required");let l=new fi(i,{apiVersion:g||"2025-03-31.basil",appInfo:h||{name:"Stripe Payload Plugin",url:"https://payloadcms.com"}});try{let a=(await l.customers.list({email:j})).data[0];a?.id||(a=await l.customers.create({email:j}));let b=await f.find({collection:e,where:{"stripe.paymentIntentID":{equals:k}}}),g=b.docs[0];if(!b.totalDocs||!g)throw Error("No transaction found for the provided PaymentIntent ID");let h=await l.paymentIntents.retrieve(k),i=h.metadata.cartID,m=h.metadata.cartItemsSnapshot?JSON.parse(h.metadata.cartItemsSnapshot):void 0,o=h.metadata.shippingAddress?JSON.parse(h.metadata.shippingAddress):void 0;if(!i)throw Error("Cart ID not found in the PaymentIntent metadata");if(!m||!Array.isArray(m))throw Error("Cart items snapshot not found or invalid in the PaymentIntent metadata");let p=await f.create({collection:c,data:{amount:h.amount,currency:h.currency.toUpperCase(),...d.user?{customer:d.user.id}:{customerEmail:j},items:m,shippingAddress:o,status:"processing",transactions:[g.id]}}),q=new Date().toISOString();return await f.update({id:i,collection:"carts",data:{purchasedAt:q}}),await f.update({id:g.id,collection:e,data:{order:p.id,status:"succeeded"}}),{message:"Payment initiated successfully",orderID:p.id,transactionID:g.id}}catch(a){throw f.logger.error(a,"Error initiating payment with Stripe"),Error(a instanceof Error?a.message:"Unknown error initiating payment")}},fk=a=>{let{apiVersion:b,appInfo:c,secretKey:d,webhooks:e,webhookSecret:f}=a||{};return{handler:async a=>{let g=200;if(f&&d&&a.text){let h=new fi(d,{apiVersion:b||"2025-03-31.basil",appInfo:c||{name:"Stripe Payload Plugin",url:"https://payloadcms.com"}}),i=await a.text(),j=a.headers.get("stripe-signature");if(j){let b;try{b=h.webhooks.constructEvent(i,j,f)}catch(c){let b=c instanceof Error?c.message:JSON.stringify(c);a.payload.logger.error(`Error constructing Stripe event: ${b}`),g=400}if("object"==typeof e&&b){let c=e[b.type];"function"==typeof c&&await c({event:b,req:a,stripe:h})}}}return Response.json({received:!0},{status:g})},method:"post",path:"/webhooks"}},fl=a=>async({data:b,req:c,transactionsSlug:d})=>{let e=c.payload,{apiVersion:f,appInfo:g,secretKey:h}=a||{},i=b.customerEmail,j=b.currency,k=b.cart,l=k.subtotal,m=b.billingAddress,o=b.shippingAddress;if(!h)throw Error("Stripe secret key is required.");if(!j)throw Error("Currency is required.");if(!k||!k.items||0===k.items.length)throw Error("Cart is empty or not provided.");if(!i||"string"!=typeof i)throw Error("A valid customer email is required to make a purchase.");if(!l||"number"!=typeof l||l<=0)throw Error("A valid amount is required to initiate a payment.");let p=new fi(h,{apiVersion:f||"2025-06-30.preview",appInfo:g||{name:"Stripe Payload Plugin",url:"https://payloadcms.com"}});try{let a=(await p.customers.list({email:i})).data[0];a?.id||(a=await p.customers.create({email:i}));let b=k.items.map(a=>{let b="object"==typeof a.product?a.product.id:a.product,c=a.variant?"object"==typeof a.variant?a.variant.id:a.variant:void 0;return{product:b,quantity:a.quantity,variant:c}}),f=JSON.stringify(o),g=await p.paymentIntents.create({amount:l,automatic_payment_methods:{enabled:!0},currency:j,customer:a.id,metadata:{cartID:k.id,cartItemsSnapshot:JSON.stringify(b),shippingAddress:f}});return await e.create({collection:d,data:{...c.user?{customer:c.user.id}:{customerEmail:i},amount:g.amount,billingAddress:m,cart:k.id,currency:g.currency.toUpperCase(),items:b,paymentMethod:"stripe",status:"pending",stripe:{customerID:a.id,paymentIntentID:g.id}}}),{clientSecret:g.client_secret||"",message:"Payment initiated successfully",paymentIntentID:g.id}}catch(a){throw e.logger.error(a,"Error initiating payment with Stripe"),Error(a instanceof Error?a.message:"Unknown error initiating payment")}},fm=a=>{let{apiVersion:b,appInfo:c,groupOverrides:d,secretKey:e,webhooks:f,webhookSecret:g}=a,h=a?.label||"Stripe",i=[{name:"customerID",type:"text",label:"Stripe Customer ID"},{name:"paymentIntentID",type:"text",label:"Stripe PaymentIntent ID"}],j={name:"stripe",type:"group",...d,admin:{condition:a=>{let b="paymentMethod";return a?.[b]==="stripe"},...d?.admin},fields:d?.fields&&"function"==typeof d?.fields?d.fields({defaultFields:i}):i};return{name:"stripe",confirmOrder:fj({apiVersion:b,appInfo:c,secretKey:e}),endpoints:[fk({apiVersion:b,appInfo:c,secretKey:e,webhooks:f,webhookSecret:g})],group:j,initiatePayment:fl({apiVersion:b,appInfo:c,secretKey:e}),label:h}},fn=a=>({name:"stripe",confirmOrder:!0,initiatePayment:!0,label:"Card"})},60168:(a,b,c)=>{"use strict";c.r(b),c.d(b,{AWSSDKSigV4Signer:()=>h.PG,AwsEc2QueryProtocol:()=>bb,AwsJson1_0Protocol:()=>aX,AwsJson1_1Protocol:()=>aY,AwsJsonRpcProtocol:()=>aW,AwsQueryProtocol:()=>ba,AwsRestJsonProtocol:()=>a0,AwsRestXmlProtocol:()=>bj,AwsSdkSigV4ASigner:()=>i.S,AwsSdkSigV4Signer:()=>h.f2,AwsSmithyRpcV2CborProtocol:()=>aG,JsonCodec:()=>aV,JsonShapeDeserializer:()=>aQ,JsonShapeSerializer:()=>aU,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>j.$,NODE_SIGV4A_CONFIG_OPTIONS:()=>k.A,XmlCodec:()=>bi,XmlShapeDeserializer:()=>a7,XmlShapeSerializer:()=>bh,_toBool:()=>aI,_toNum:()=>aJ,_toStr:()=>aH,awsExpectUnion:()=>a2,emitWarningIfUnsupportedVersion:()=>d.I,getBearerTokenEnvKey:()=>m.R,loadRestJsonErrorCode:()=>aP.cJ,loadRestXmlErrorCode:()=>bc.FZ,parseJsonBody:()=>aP.Y2,parseJsonErrorBody:()=>aP.CG,parseXmlBody:()=>bc.t_,parseXmlErrorBody:()=>bc.FI,resolveAWSSDKSigV4Config:()=>l.x,resolveAwsSdkSigV4AConfig:()=>k.O,resolveAwsSdkSigV4Config:()=>l.h,setCredentialFeature:()=>e.g,setFeature:()=>f.J,setTokenFeature:()=>g,state:()=>d.w,validateSigningProperties:()=>h.pz});var d=c(71500),e=c(26146),f=c(37197);function g(a,b,c){return a.$source||(a.$source={}),a.$source[b]=c,a}var h=c(62763),i=c(47532),j=c(45579),k=c(36836),l=c(58179),m=c(15318),o=c(31329),p=c(11830),q=c(4107),r=c(50531),s=c(23301),t=c(12436),u=c(6601),v=c(39708),w=c(77915),x=c(38334),y=c(28506);let z=0,A=1,B=2,C=3,D=4,E=5,F=6,G=7,H=20,I=21,J=22,K=23,L=24,M=25,N=26,O=27,P=31;function Q(a){return"undefined"!=typeof Buffer?Buffer.alloc(a):new Uint8Array(a)}let R=Symbol("@smithy/core/cbor::tagSymbol");function S(a){return a[R]=!0,a}let T="undefined"!=typeof TextDecoder,U="undefined"!=typeof Buffer,V=Q(0),W=new DataView(V.buffer,V.byteOffset,V.byteLength),X=T?new TextDecoder:null,Y=0;function Z(a){W=new DataView((V=a).buffer,V.byteOffset,V.byteLength)}function $(a,b){if(a>=b)throw Error("unexpected end of (decode) payload.");let c=(224&V[a])>>5,d=31&V[a];switch(c){case z:case A:case F:let e,f;if(d<24)e=d,f=1;else switch(d){case L:case M:case N:case O:let g=ab[d],h=g+1;if(f=h,b-a<h)throw Error(`countLength ${g} greater than remaining buf len.`);let i=a+1;e=1===g?V[i]:2===g?W.getUint16(i):4===g?W.getUint32(i):W.getBigUint64(i);break;default:throw Error(`unexpected minor value ${d}.`)}if(c===z)return Y=f,an(e);if(c===A){let a;return a="bigint"==typeof e?BigInt(-1)-e:-1-e,Y=f,an(a)}if(2===d||3===d){let c=ad(a+f,b),e=BigInt(0),g=a+f+Y;for(let a=g;a<g+c;++a)e=e<<BigInt(8)|BigInt(V[a]);return Y=f+Y+c,3===d?-e-BigInt(1):e}else if(4===d){let c,[d,e]=$(a+f,b),g=e<0?-1:1,h="0".repeat(Math.abs(d)+1)+String(BigInt(g)*BigInt(e)),i=e<0?"-":"";return""===(c=(c=0===d?h:h.slice(0,h.length+d)+"."+h.slice(d)).replace(/^0+/g,""))&&(c="0"),"."===c[0]&&(c="0"+c),c=i+c,Y=f+Y,(0,x.nv)(c)}else{let c=$(a+f,b);return Y=f+Y,S({tag:an(e),value:c})}case C:case E:case D:case B:if(d===P)switch(c){case C:return af(a,b);case E:return al(a,b);case D:return aj(a,b);case B:return ah(a,b)}else switch(c){case C:return ae(a,b);case E:return ak(a,b);case D:return ai(a,b);case B:return ag(a,b)}default:return am(a,b)}}function _(a,b,c){return U&&a.constructor?.name==="Buffer"?a.toString("utf-8",b,c):X?X.decode(a.subarray(b,c)):(0,y.P)(a.subarray(b,c))}function aa(a){let b=Number(a);return(b<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<b)&&console.warn(Error(`@smithy/core/cbor - truncating BigInt(${a}) to ${b} with loss of precision.`)),b}let ab={[L]:1,[M]:2,[N]:4,[O]:8};function ac(a,b){let c,d,e=a>>7,f=(124&a)>>2,g=(3&a)<<8|b,h=0===e?1:-1;if(0===f)if(0===g)return 0;else c=6103515625e-14,d=0;else if(31===f)if(0===g)return 1/0*h;else return NaN;else c=Math.pow(2,f-15),d=1;return c*(d+=g/1024)*h}function ad(a,b){let c=31&V[a];if(c<24)return Y=1,c;if(c===L||c===M||c===N||c===O){let d=ab[c];if(b-a<(Y=d+1))throw Error(`countLength ${d} greater than remaining buf len.`);let e=a+1;return 1===d?V[e]:2===d?W.getUint16(e):4===d?W.getUint32(e):aa(W.getBigUint64(e))}throw Error(`unexpected minor value ${c}.`)}function ae(a,b){let c=ad(a,b),d=Y;if(b-(a+=d)<c)throw Error(`string len ${c} greater than remaining buf len.`);let e=_(V,a,a+c);return Y=d+c,e}function af(a,b){a+=1;let c=[];for(let d=a;a<b;){if(255===V[a]){let b=Q(c.length);return b.set(c,0),Y=a-d+2,_(b,0,b.length)}let e=(224&V[a])>>5,f=31&V[a];if(e!==C)throw Error(`unexpected major type ${e} in indefinite string.`);if(f===P)throw Error("nested indefinite string.");let g=ag(a,b);a+=Y;for(let a=0;a<g.length;++a)c.push(g[a])}throw Error("expected break marker.")}function ag(a,b){let c=ad(a,b),d=Y;if(b-(a+=d)<c)throw Error(`unstructured byte string len ${c} greater than remaining buf len.`);let e=V.subarray(a,a+c);return Y=d+c,e}function ah(a,b){a+=1;let c=[];for(let d=a;a<b;){if(255===V[a]){let b=Q(c.length);return b.set(c,0),Y=a-d+2,b}let e=(224&V[a])>>5,f=31&V[a];if(e!==B)throw Error(`unexpected major type ${e} in indefinite string.`);if(f===P)throw Error("nested indefinite string.");let g=ag(a,b);a+=Y;for(let a=0;a<g.length;++a)c.push(g[a])}throw Error("expected break marker.")}function ai(a,b){let c=ad(a,b),d=Y,e=a+=d,f=Array(c);for(let d=0;d<c;++d){let c=$(a,b),e=Y;f[d]=c,a+=e}return Y=d+(a-e),f}function aj(a,b){a+=1;let c=[];for(let d=a;a<b;){if(255===V[a])return Y=a-d+2,c;let e=$(a,b);a+=Y,c.push(e)}throw Error("expected break marker.")}function ak(a,b){let c=ad(a,b),d=Y,e=a+=d,f={};for(let d=0;d<c;++d){if(a>=b)throw Error("unexpected end of map payload.");let c=(224&V[a])>>5;if(c!==C)throw Error(`unexpected major type ${c} for map key at index ${a}.`);let d=$(a,b),e=$(a+=Y,b);a+=Y,f[d]=e}return Y=d+(a-e),f}function al(a,b){let c=a+=1,d={};for(;a<b;){if(a>=b)throw Error("unexpected end of map payload.");if(255===V[a])return Y=a-c+2,d;let e=(224&V[a])>>5;if(e!==C)throw Error(`unexpected major type ${e} for map key.`);let f=$(a,b),g=$(a+=Y,b);a+=Y,d[f]=g}throw Error("expected break marker.")}function am(a,b){let c=31&V[a];switch(c){case I:case H:return Y=1,c===I;case J:case K:return Y=1,null;case M:if(b-a<3)throw Error("incomplete float16 at end of buf.");return Y=3,ac(V[a+1],V[a+2]);case N:if(b-a<5)throw Error("incomplete float32 at end of buf.");return Y=5,W.getFloat32(a+1);case O:if(b-a<9)throw Error("incomplete float64 at end of buf.");return Y=9,W.getFloat64(a+1);default:throw Error(`unexpected minor value ${c}.`)}}function an(a){if("number"==typeof a)return a;let b=Number(a);return Number.MIN_SAFE_INTEGER<=b&&b<=Number.MAX_SAFE_INTEGER?b:a}var ao=c(69480);let ap="undefined"!=typeof Buffer,aq=Q(2048),ar=new DataView(aq.buffer,aq.byteOffset,aq.byteLength),as=0;function at(a){aq.byteLength-as<a&&(as<16e6?av(Math.max(4*aq.byteLength,aq.byteLength+a)):av(aq.byteLength+a+16e6))}function au(){let a=Q(as);return a.set(aq.subarray(0,as),0),as=0,a}function av(a){let b=aq;aq=Q(a),b&&(b.copy?b.copy(aq,0,0,b.byteLength):aq.set(b,0)),ar=new DataView(aq.buffer,aq.byteOffset,aq.byteLength)}function aw(a,b){b<24?aq[as++]=a<<5|b:b<256?(aq[as++]=a<<5|24,aq[as++]=b):b<65536?(aq[as++]=a<<5|M,ar.setUint16(as,b),as+=2):b<0x100000000?(aq[as++]=a<<5|N,ar.setUint32(as,b),as+=4):(aq[as++]=a<<5|O,ar.setBigUint64(as,"bigint"==typeof b?b:BigInt(b)),as+=8)}function ax(a){let b=[a];for(;b.length;){let a=b.pop();if(at("string"==typeof a?4*a.length:64),"string"==typeof a){if(ap)aw(C,Buffer.byteLength(a)),as+=aq.write(a,as);else{let b=(0,ao.a)(a);aw(C,b.byteLength),aq.set(b,as),as+=b.byteLength}continue}if("number"==typeof a){if(Number.isInteger(a)){let b=a>=0,c=b?z:A,d=b?a:-a-1;d<24?aq[as++]=c<<5|d:d<256?(aq[as++]=c<<5|24,aq[as++]=d):d<65536?(aq[as++]=c<<5|M,aq[as++]=d>>8,aq[as++]=d):d<0x100000000?(aq[as++]=c<<5|N,ar.setUint32(as,d),as+=4):(aq[as++]=c<<5|O,ar.setBigUint64(as,BigInt(d)),as+=8);continue}aq[as++]=G<<5|O,ar.setFloat64(as,a),as+=8;continue}if("bigint"==typeof a){let b=a>=0,c=b?z:A,d=b?a:-a-BigInt(1),e=Number(d);if(e<24)aq[as++]=c<<5|e;else if(e<256)aq[as++]=c<<5|24,aq[as++]=e;else if(e<65536)aq[as++]=c<<5|M,aq[as++]=e>>8,aq[as++]=255&e;else if(e<0x100000000)aq[as++]=c<<5|N,ar.setUint32(as,e),as+=4;else if(d<BigInt("18446744073709551616"))aq[as++]=c<<5|O,ar.setBigUint64(as,d),as+=8;else{let a=new Uint8Array(Math.ceil(d.toString(2).length/8)),c=d,e=0;for(;a.byteLength-++e>=0;)a[a.byteLength-e]=Number(c&BigInt(255)),c>>=BigInt(8);at(2*a.byteLength),aq[as++]=b?194:195,ap?aw(B,Buffer.byteLength(a)):aw(B,a.byteLength),aq.set(a,as),as+=a.byteLength}continue}else if(null===a){aq[as++]=G<<5|J;continue}else if("boolean"==typeof a){aq[as++]=G<<5|(a?I:H);continue}else if(void 0===a)throw Error("@smithy/core/cbor: client may not serialize undefined value.");else if(Array.isArray(a)){for(let c=a.length-1;c>=0;--c)b.push(a[c]);aw(D,a.length);continue}else if("number"==typeof a.byteLength){at(2*a.length),aw(B,a.length),aq.set(a,as),as+=a.byteLength;continue}else if("object"==typeof a){if(a instanceof x.D){let c=a.string.indexOf("."),d=-1===c?0:c-a.string.length+1,e=BigInt(a.string.replace(".",""));aq[as++]=196,b.push(e),b.push(d),aw(D,2);continue}if(a[R])if("tag"in a&&"value"in a){b.push(a.value),aw(F,a.tag);continue}else throw Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(a));let c=Object.keys(a);for(let d=c.length-1;d>=0;--d){let e=c[d];b.push(a[e]),b.push(e)}aw(E,c.length);continue}throw Error(`data type ${a?.constructor?.name??typeof a} not compatible for encoding.`)}}let ay={deserialize:a=>(Z(a),$(0,a.length)),serialize(a){try{return ax(a),au()}catch(a){throw au(),a}},resizeEncodingBuffer(a){av(a)}},az=a=>S({tag:1,value:a.getTime()/1e3}),aA=(a,b)=>{let c=a=>{let b=a;return"number"==typeof b&&(b=b.toString()),b.indexOf(",")>=0&&(b=b.split(",")[0]),b.indexOf(":")>=0&&(b=b.split(":")[0]),b.indexOf("#")>=0&&(b=b.split("#")[1]),b};if(void 0!==b.__type)return c(b.__type);let d=Object.keys(b).find(a=>"code"===a.toLowerCase());if(d&&void 0!==b[d])return c(b[d])};class aB extends t.f{createSerializer(){let a=new aC;return a.setSerdeContext(this.serdeContext),a}createDeserializer(){let a=new aD;return a.setSerdeContext(this.serdeContext),a}}class aC extends t.f{value;write(a,b){this.value=this.serialize(a,b)}serialize(a,b){let c=r.l.of(a);if(null==b)return c.isIdempotencyToken()?(0,u.v4)():b;if(c.isBlobSchema())return"string"==typeof b?(this.serdeContext?.base64Decoder??w.E)(b):b;if(c.isTimestampSchema())return"number"==typeof b||"bigint"==typeof b?az(new Date(Number(b)/1e3|0)):az(b);if("function"==typeof b||"object"==typeof b){let a=b;if(c.isListSchema()&&Array.isArray(a)){let b=!!c.getMergedTraits().sparse,d=[],e=0;for(let f of a){let a=this.serialize(c.getValueSchema(),f);(null!=a||b)&&(d[e++]=a)}return d}if(a instanceof Date)return az(a);let d={};if(c.isMapSchema()){let b=!!c.getMergedTraits().sparse;for(let e of Object.keys(a)){let f=this.serialize(c.getValueSchema(),a[e]);(null!=f||b)&&(d[e]=f)}}else if(c.isStructSchema())for(let[b,e]of c.structIterator()){let c=this.serialize(e,a[b]);null!=c&&(d[b]=c)}else if(c.isDocumentSchema())for(let b of Object.keys(a))d[b]=this.serialize(c.getValueSchema(),a[b]);return d}return b}flush(){let a=ay.serialize(this.value);return this.value=void 0,a}}class aD extends t.f{read(a,b){let c=ay.deserialize(b);return this.readValue(a,c)}readValue(a,b){let c=r.l.of(a);if(c.isTimestampSchema()&&"number"==typeof b)return(0,v.UK)(b);if(c.isBlobSchema())return"string"==typeof b?(this.serdeContext?.base64Decoder??w.E)(b):b;if(void 0===b||"boolean"==typeof b||"number"==typeof b||"string"==typeof b||"bigint"==typeof b||"symbol"==typeof b||"function"!=typeof b&&"object"!=typeof b)return b;{if(null===b)return null;if("byteLength"in b||b instanceof Date||c.isDocumentSchema())return b;if(c.isListSchema()){let a=[],d=c.getValueSchema(),e=!!c.getMergedTraits().sparse;for(let c of b){let b=this.readValue(d,c);(null!=b||e)&&a.push(b)}return a}let a={};if(c.isMapSchema()){let d=!!c.getMergedTraits().sparse,e=c.getValueSchema();for(let c of Object.keys(b)){let f=this.readValue(e,b[c]);(null!=f||d)&&(a[c]=f)}}else if(c.isStructSchema())for(let[d,e]of c.structIterator())a[d]=this.readValue(e,b[d]);return a}}}class aE extends o.M{codec=new aB;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:a}){super({defaultNamespace:a})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(a,b,c){let d=await super.serializeRequest(a,b,c);if(Object.assign(d.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),"unit"===(0,p.L)(a.input))delete d.body,delete d.headers["content-type"];else{d.body||(this.serializer.write(15,{}),d.body=this.serializer.flush());try{d.headers["content-length"]=String(d.body.byteLength)}catch(a){}}let{service:e,operation:f}=(0,s.u)(c),g=`/service/${e}/operation/${f}`;return d.path.endsWith("/")?d.path+=g.slice(1):d.path+=g,d}async deserializeResponse(a,b,c){return super.deserializeResponse(a,b,c)}async handleError(a,b,c,d,e){let f,g=aA(c,d)??"Unknown",h=this.options.defaultNamespace;g.includes("#")&&([h]=g.split("#"));let i={$metadata:e,$response:c,$fault:c.statusCode<=500?"client":"server"},j=q.O.for(h);try{f=j.getSchema(g)}catch(c){d.Message&&(d.message=d.Message);let a=q.O.for("smithy.ts.sdk.synthetic."+h),b=a.getBaseException();if(b)throw Object.assign(new(a.getErrorCtor(b))({name:g}),i,d);throw Object.assign(Error(g),i,d)}let k=r.l.of(f),l=j.getErrorCtor(f),m=d.message??d.Message??"Unknown",o=new l(m),p={};for(let[a,b]of k.structIterator())p[a]=this.deserializer.readValue(b,d[a]);throw Object.assign(o,i,{$fault:k.getMergedTraits().error,message:m},p)}getDefaultContentType(){return"application/cbor"}}class aF{resolveRestContentType(a,b){let c=b.getMemberSchemas(),d=Object.values(c).find(a=>!!a.getMergedTraits().httpPayload);if(d){let b=d.getMergedTraits().mediaType;return b?b:d.isStringSchema()?"text/plain":d.isBlobSchema()?"application/octet-stream":a}if(!b.isUnitSchema()&&Object.values(c).find(a=>{let{httpQuery:b,httpQueryParams:c,httpHeader:d,httpLabel:e,httpPrefixHeaders:f}=a.getMergedTraits(),g=void 0===f;return!b&&!c&&!d&&!e&&g}))return a}async getErrorSchemaOrThrowBaseException(a,b,c,d,e,f){let g=b,h=a;a.includes("#")&&([g,h]=a.split("#"));let i={$metadata:e,$response:c,$fault:c.statusCode<500?"client":"server"},j=q.O.for(g);try{return{errorSchema:f?.(j,h)??j.getSchema(a),errorMetadata:i}}catch(c){d.message=d.message??d.Message??"UnknownError";let a=q.O.for("smithy.ts.sdk.synthetic."+g),b=a.getBaseException();if(b)throw Object.assign(new(a.getErrorCtor(b)??Error)({name:h}),i,d);throw Object.assign(Error(h),i,d)}}setQueryCompatError(a,b){let c=b.headers?.["x-amzn-query-error"];if(void 0!==a&&null!=c){let[b,d]=c.split(";"),e=Object.entries(a),f={Code:b,Type:d};for(let[b,c]of(Object.assign(a,f),e))f[b]=c;delete f.__type,a.Error=f}}queryCompatOutput(a,b){a.Error&&(b.Error=a.Error),a.Type&&(b.Type=a.Type),a.Code&&(b.Code=a.Code)}}class aG extends aE{awsQueryCompatible;mixin=new aF;constructor({defaultNamespace:a,awsQueryCompatible:b}){super({defaultNamespace:a}),this.awsQueryCompatible=!!b}async serializeRequest(a,b,c){let d=await super.serializeRequest(a,b,c);return this.awsQueryCompatible&&(d.headers["x-amzn-query-mode"]="true"),d}async handleError(a,b,c,d,e){this.awsQueryCompatible&&this.mixin.setQueryCompatError(d,c);let f=aA(c,d)??"Unknown",{errorSchema:g,errorMetadata:h}=await this.mixin.getErrorSchemaOrThrowBaseException(f,this.options.defaultNamespace,c,d,e),i=r.l.of(g),j=d.message??d.Message??"Unknown",k=new(q.O.for(g[1]).getErrorCtor(g)??Error)(j),l={};for(let[a,b]of i.structIterator())l[a]=this.deserializer.readValue(b,d[a]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(d,l),Object.assign(k,h,{$fault:i.getMergedTraits().error,message:j},l)}}let aH=a=>{if(null==a)return a;if("number"==typeof a||"bigint"==typeof a){let b=Error(`Received number ${a} where a string was expected.`);return b.name="Warning",console.warn(b),String(a)}if("boolean"==typeof a){let b=Error(`Received boolean ${a} where a string was expected.`);return b.name="Warning",console.warn(b),String(a)}return a},aI=a=>{if(null==a)return a;if("string"==typeof a){let b=a.toLowerCase();if(""!==a&&"false"!==b&&"true"!==b){let b=Error(`Received string "${a}" where a boolean was expected.`);b.name="Warning",console.warn(b)}return""!==a&&"false"!==b}return a},aJ=a=>{if(null==a)return a;if("string"==typeof a){let b=Number(a);if(b.toString()!==a){let b=Error(`Received string "${a}" where a number was expected.`);return b.name="Warning",console.warn(b),a}return b}return a};class aK{serdeContext;setSerdeContext(a){this.serdeContext=a}}var aL=c(94110),aM=c(3217),aN=c(40288);function aO(a,b,c){if(c?.source){let a=c.source;if("number"==typeof b&&(b>Number.MAX_SAFE_INTEGER||b<Number.MIN_SAFE_INTEGER||a!==String(b)))return a.includes(".")?new x.D(a,"bigDecimal"):BigInt(a)}return b}var aP=c(40705);class aQ extends aK{settings;constructor(a){super(),this.settings=a}async read(a,b){return this._read(a,"string"==typeof b?JSON.parse(b,aO):await (0,aP.Y2)(b,this.serdeContext))}readObject(a,b){return this._read(a,b)}_read(a,b){let c=null!==b&&"object"==typeof b,d=r.l.of(a);if(d.isListSchema()&&Array.isArray(b)){let a=d.getValueSchema(),c=[],e=!!d.getMergedTraits().sparse;for(let d of b)(e||null!=d)&&c.push(this._read(a,d));return c}if(d.isMapSchema()&&c){let a=d.getValueSchema(),c={},e=!!d.getMergedTraits().sparse;for(let[d,f]of Object.entries(b))(e||null!=f)&&(c[d]=this._read(a,f));return c}if(d.isStructSchema()&&c){let a={};for(let[c,e]of d.structIterator()){let d=this.settings.jsonName?e.getMergedTraits().jsonName??c:c,f=this._read(e,b[d]);null!=f&&(a[c]=f)}return a}if(d.isBlobSchema()&&"string"==typeof b)return(0,w.E)(b);let e=d.getMergedTraits().mediaType;if(d.isStringSchema()&&"string"==typeof b&&e&&("application/json"===e||e.endsWith("+json")))return aM.A.from(b);if(d.isTimestampSchema()&&null!=b)switch((0,aL.V)(d,this.settings)){case 5:return(0,aN.t_)(b);case 6:return(0,aN.xE)(b);case 7:return(0,aN.l3)(b);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",b),new Date(b)}if(d.isBigIntegerSchema()&&("number"==typeof b||"string"==typeof b))return BigInt(b);if(d.isBigDecimalSchema()&&void 0!=b){if(b instanceof x.D)return b;let a=b;return"bigDecimal"===a.type&&"string"in a?new x.D(a.string,a.type):new x.D(String(b),"bigDecimal")}if(d.isNumericSchema()&&"string"==typeof b)switch(b){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(d.isDocumentSchema())if(!c)return structuredClone(b);else{let a=Array.isArray(b)?[]:{};for(let[c,e]of Object.entries(b))e instanceof x.D?a[c]=e:a[c]=this._read(d,e);return a}return b}}var aR=c(23430);let aS=String.fromCharCode(925);class aT{values=new Map;counter=0;stage=0;createReplacer(){if(1===this.stage)throw Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(2===this.stage)throw Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(a,b)=>{if(b instanceof x.D){let a=`${aS+"nv"+this.counter++}_`+b.string;return this.values.set(`"${a}"`,b.string),a}if("bigint"==typeof b){let a=b.toString(),c=`${aS+"b"+this.counter++}_`+a;return this.values.set(`"${c}"`,a),c}return b}}replaceInJson(a){if(0===this.stage)throw Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(2===this.stage)throw Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,0===this.counter)return a;for(let[b,c]of this.values)a=a.replace(b,c);return a}}class aU extends aK{settings;buffer;rootSchema;constructor(a){super(),this.settings=a}write(a,b){this.rootSchema=r.l.of(a),this.buffer=this._write(this.rootSchema,b)}writeDiscriminatedDocument(a,b){this.write(a,b),"object"==typeof this.buffer&&(this.buffer.__type=r.l.of(a).getName(!0))}flush(){let{rootSchema:a}=this;if(this.rootSchema=void 0,a?.isStructSchema()||a?.isDocumentSchema()){let a=new aT;return a.replaceInJson(JSON.stringify(this.buffer,a.createReplacer(),0))}return this.buffer}_write(a,b,c){let d=null!==b&&"object"==typeof b,e=r.l.of(a);if(e.isListSchema()&&Array.isArray(b)){let a=e.getValueSchema(),c=[],d=!!e.getMergedTraits().sparse;for(let e of b)(d||null!=e)&&c.push(this._write(a,e));return c}if(e.isMapSchema()&&d){let a=e.getValueSchema(),c={},d=!!e.getMergedTraits().sparse;for(let[e,f]of Object.entries(b))(d||null!=f)&&(c[e]=this._write(a,f));return c}if(e.isStructSchema()&&d){let a={};for(let[c,d]of e.structIterator()){let f=this.settings.jsonName?d.getMergedTraits().jsonName??c:c,g=this._write(d,b[c],e);void 0!==g&&(a[f]=g)}return a}if(!(null===b&&c?.isStructSchema())){if(e.isBlobSchema()&&(b instanceof Uint8Array||"string"==typeof b)||e.isDocumentSchema()&&b instanceof Uint8Array)return e===this.rootSchema?b:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(b):(0,aR.n)(b);if((e.isTimestampSchema()||e.isDocumentSchema())&&b instanceof Date)switch((0,aL.V)(e,this.settings)){case 5:return b.toISOString().replace(".000Z","Z");case 6:return(0,aN.JV)(b);case 7:return b.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",b),b.getTime()/1e3}if(e.isNumericSchema()&&"number"==typeof b&&(Math.abs(b)===1/0||isNaN(b)))return String(b);if(e.isStringSchema()){if(void 0===b&&e.isIdempotencyToken())return(0,u.v4)();let a=e.getMergedTraits().mediaType;if(null!=b&&a&&("application/json"===a||a.endsWith("+json")))return aM.A.from(b)}if(e.isDocumentSchema())if(!d)return structuredClone(b);else{let a=Array.isArray(b)?[]:{};for(let[c,d]of Object.entries(b))d instanceof x.D?a[c]=d:a[c]=this._write(e,d);return a}return b}}}class aV extends aK{settings;constructor(a){super(),this.settings=a}createSerializer(){let a=new aU(this.settings);return a.setSerdeContext(this.serdeContext),a}createDeserializer(){let a=new aQ(this.settings);return a.setSerdeContext(this.serdeContext),a}}class aW extends o.M{serializer;deserializer;serviceTarget;codec;mixin=new aF;awsQueryCompatible;constructor({defaultNamespace:a,serviceTarget:b,awsQueryCompatible:c}){super({defaultNamespace:a}),this.serviceTarget=b,this.codec=new aV({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!c}async serializeRequest(a,b,c){let d=await super.serializeRequest(a,b,c);return d.path.endsWith("/")||(d.path+="/"),Object.assign(d.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${a.name}`}),this.awsQueryCompatible&&(d.headers["x-amzn-query-mode"]="true"),"unit"!==(0,p.L)(a.input)&&d.body||(d.body="{}"),d}getPayloadCodec(){return this.codec}async handleError(a,b,c,d,e){this.awsQueryCompatible&&this.mixin.setQueryCompatError(d,c);let f=(0,aP.cJ)(c,d)??"Unknown",{errorSchema:g,errorMetadata:h}=await this.mixin.getErrorSchemaOrThrowBaseException(f,this.options.defaultNamespace,c,d,e),i=r.l.of(g),j=d.message??d.Message??"Unknown",k=new(q.O.for(g[1]).getErrorCtor(g)??Error)(j),l={};for(let[a,b]of i.structIterator()){let c=b.getMergedTraits().jsonName??a;l[a]=this.codec.createDeserializer().readObject(b,d[c])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(d,l),Object.assign(k,h,{$fault:i.getMergedTraits().error,message:j},l)}}class aX extends aW{constructor({defaultNamespace:a,serviceTarget:b,awsQueryCompatible:c}){super({defaultNamespace:a,serviceTarget:b,awsQueryCompatible:c})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}class aY extends aW{constructor({defaultNamespace:a,serviceTarget:b,awsQueryCompatible:c}){super({defaultNamespace:a,serviceTarget:b,awsQueryCompatible:c})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}var aZ=c(70867),a$=c(97359),a_=c(82596);class a0 extends aZ.s{serializer;deserializer;codec;mixin=new aF;constructor({defaultNamespace:a}){super({defaultNamespace:a});let b={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new aV(b),this.serializer=new a$._(this.codec.createSerializer(),b),this.deserializer=new a_.z(this.codec.createDeserializer(),b)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(a){this.codec.setSerdeContext(a),super.setSerdeContext(a)}async serializeRequest(a,b,c){let d=await super.serializeRequest(a,b,c),e=r.l.of(a.input);if(!d.headers["content-type"]){let a=this.mixin.resolveRestContentType(this.getDefaultContentType(),e);a&&(d.headers["content-type"]=a)}return d.headers["content-type"]&&!d.body&&(d.body="{}"),d}async handleError(a,b,c,d,e){let f=(0,aP.cJ)(c,d)??"Unknown",{errorSchema:g,errorMetadata:h}=await this.mixin.getErrorSchemaOrThrowBaseException(f,this.options.defaultNamespace,c,d,e),i=r.l.of(g),j=d.message??d.Message??"Unknown",k=new(q.O.for(g[1]).getErrorCtor(g)??Error)(j);await this.deserializeHttpMessage(g,b,c,d);let l={};for(let[a,b]of i.structIterator()){let c=b.getMergedTraits().jsonName??a;l[a]=this.codec.createDeserializer().readObject(b,d[c])}throw Object.assign(k,h,{$fault:i.getMergedTraits().error,message:j},l)}getDefaultContentType(){return"application/json"}}var a1=c(51429);let a2=a=>{if(null!=a)return"object"==typeof a&&"__type"in a&&delete a.__type,(0,a1.tN)(a)};var a3=c(9742),a4=c(86101),a5=c(98661),a6=c(91406);class a7 extends aK{settings;stringDeserializer;constructor(a){super(),this.settings=a,this.stringDeserializer=new a5.k(a)}setSerdeContext(a){this.serdeContext=a,this.stringDeserializer.setSerdeContext(a)}read(a,b,c){let d=r.l.of(a),e=d.getMemberSchemas();if(d.isStructSchema()&&d.isMemberSchema()&&Object.values(e).find(a=>!!a.getMemberTraits().eventPayload)){let a={},c=Object.keys(e)[0];return e[c].isBlobSchema()?a[c]=b:a[c]=this.read(e[c],b),a}let f=(this.serdeContext?.utf8Encoder??y.P)(b),g=this.parseXml(f);return this.readSchema(a,c?g[c]:g)}readSchema(a,b){let c=r.l.of(a);if(c.isUnitSchema())return;let d=c.getMergedTraits();if(c.isListSchema()&&!Array.isArray(b))return this.readSchema(c,[b]);if(null==b)return b;if("object"==typeof b){let a=!!d.sparse,e=!!d.xmlFlattened;if(c.isListSchema()){let d=c.getValueSchema(),f=[],g=d.getMergedTraits().xmlName??"member",h=e?b:(b[0]??b)[g];for(let b of Array.isArray(h)?h:[h])(null!=b||a)&&f.push(this.readSchema(d,b));return f}let f={};if(c.isMapSchema()){let d,g=c.getKeySchema(),h=c.getValueSchema();d=e?Array.isArray(b)?b:[b]:Array.isArray(b.entry)?b.entry:[b.entry];let i=g.getMergedTraits().xmlName??"key",j=h.getMergedTraits().xmlName??"value";for(let b of d){let c=b[i],d=b[j];(null!=d||a)&&(f[c]=this.readSchema(h,d))}return f}if(c.isStructSchema()){for(let[a,d]of c.structIterator()){let c=d.getMergedTraits(),e=c.httpPayload?c.xmlName??d.getName():d.getMemberTraits().xmlName??a;null!=b[e]&&(f[a]=this.readSchema(d,b[e]))}return f}if(c.isDocumentSchema())return b;throw Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${c.getName(!0)}`)}return c.isListSchema()?[]:c.isMapSchema()||c.isStructSchema()?{}:this.stringDeserializer.read(c,b)}parseXml(a){if(a.length){let b;try{b=(0,a4.h)(a)}catch(b){throw b&&"object"==typeof b&&Object.defineProperty(b,"$responseBodyText",{value:a}),b}let c="#text",d=Object.keys(b)[0],e=b[d];return e[c]&&(e[d]=e[c],delete e[c]),(0,a6.r)(e)}return{}}}var a8=c(27613);class a9 extends aK{settings;buffer;constructor(a){super(),this.settings=a}write(a,b,c=""){void 0===this.buffer&&(this.buffer="");let d=r.l.of(a);if(c&&!c.endsWith(".")&&(c+="."),d.isBlobSchema())("string"==typeof b||b instanceof Uint8Array)&&(this.writeKey(c),this.writeValue((this.serdeContext?.base64Encoder??aR.n)(b)));else if(d.isBooleanSchema()||d.isNumericSchema()||d.isStringSchema())null!=b?(this.writeKey(c),this.writeValue(String(b))):d.isIdempotencyToken()&&(this.writeKey(c),this.writeValue((0,u.v4)()));else if(d.isBigIntegerSchema())null!=b&&(this.writeKey(c),this.writeValue(String(b)));else if(d.isBigDecimalSchema())null!=b&&(this.writeKey(c),this.writeValue(b instanceof x.D?b.string:String(b)));else if(d.isTimestampSchema()){if(b instanceof Date)switch(this.writeKey(c),(0,aL.V)(d,this.settings)){case 5:this.writeValue(b.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,aN.JV)(b));break;case 7:this.writeValue(String(b.getTime()/1e3))}}else if(d.isDocumentSchema())throw Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${d.getName(!0)}`);else if(d.isListSchema()){if(Array.isArray(b))if(0===b.length)this.settings.serializeEmptyLists&&(this.writeKey(c),this.writeValue(""));else{let a=d.getValueSchema(),e=this.settings.flattenLists||d.getMergedTraits().xmlFlattened,f=1;for(let d of b){if(null==d)continue;let b=this.getKey("member",a.getMergedTraits().xmlName),g=e?`${c}${f}`:`${c}${b}.${f}`;this.write(a,d,g),++f}}}else if(d.isMapSchema()){if(b&&"object"==typeof b){let a=d.getKeySchema(),e=d.getValueSchema(),f=d.getMergedTraits().xmlFlattened,g=1;for(let[d,h]of Object.entries(b)){if(null==h)continue;let b=this.getKey("key",a.getMergedTraits().xmlName),i=f?`${c}${g}.${b}`:`${c}entry.${g}.${b}`,j=this.getKey("value",e.getMergedTraits().xmlName),k=f?`${c}${g}.${j}`:`${c}entry.${g}.${j}`;this.write(a,d,i),this.write(e,h,k),++g}}}else if(d.isStructSchema()){if(b&&"object"==typeof b)for(let[a,e]of d.structIterator()){if(null==b[a]&&!e.isIdempotencyToken())continue;let d=this.getKey(a,e.getMergedTraits().xmlName),f=`${c}${d}`;this.write(e,b[a],f)}}else if(d.isUnitSchema());else throw Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${d.getName(!0)}`)}flush(){if(void 0===this.buffer)throw Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let a=this.buffer;return delete this.buffer,a}getKey(a,b){let c=b??a;return this.settings.capitalizeKeys?c[0].toUpperCase()+c.slice(1):c}writeKey(a){a.endsWith(".")&&(a=a.slice(0,a.length-1)),this.buffer+=`&${(0,a8.$)(a)}=`}writeValue(a){this.buffer+=(0,a8.$)(a)}}class ba extends o.M{options;serializer;deserializer;mixin=new aF;constructor(a){super({defaultNamespace:a.defaultNamespace}),this.options=a;let b={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:a.xmlNamespace,serviceNamespace:a.defaultNamespace,serializeEmptyLists:!0};this.serializer=new a9(b),this.deserializer=new a7(b)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(a){this.serializer.setSerdeContext(a),this.deserializer.setSerdeContext(a)}getPayloadCodec(){throw Error("AWSQuery protocol has no payload codec.")}async serializeRequest(a,b,c){let d=await super.serializeRequest(a,b,c);d.path.endsWith("/")||(d.path+="/"),Object.assign(d.headers,{"content-type":"application/x-www-form-urlencoded"}),"unit"!==(0,p.L)(a.input)&&d.body||(d.body="");let e=a.name.split("#")[1]??a.name;return d.body=`Action=${e}&Version=${this.options.version}`+d.body,d.body.endsWith("&")&&(d.body=d.body.slice(-1)),d}async deserializeResponse(a,b,c){let d=this.deserializer,e=r.l.of(a.output),f={};if(c.statusCode>=300){let e=await (0,a3.P)(c.body,b);e.byteLength>0&&Object.assign(f,await d.read(15,e)),await this.handleError(a,b,c,f,this.deserializeMetadata(c))}for(let a in c.headers){let b=c.headers[a];delete c.headers[a],c.headers[a.toLowerCase()]=b}let g=a.name.split("#")[1]??a.name,h=e.isStructSchema()&&this.useNestedResult()?g+"Result":void 0,i=await (0,a3.P)(c.body,b);return i.byteLength>0&&Object.assign(f,await d.read(e,i,h)),{$metadata:this.deserializeMetadata(c),...f}}useNestedResult(){return!0}async handleError(a,b,c,d,e){let f=this.loadQueryErrorCode(c,d)??"Unknown",g=this.loadQueryError(d),h=this.loadQueryErrorMessage(d);g.message=h,g.Error={Type:g.Type,Code:g.Code,Message:h};let{errorSchema:i,errorMetadata:j}=await this.mixin.getErrorSchemaOrThrowBaseException(f,this.options.defaultNamespace,c,g,e,(a,b)=>a.find(a=>r.l.of(a).getMergedTraits().awsQueryError?.[0]===b)),k=r.l.of(i),l=new(q.O.for(i[1]).getErrorCtor(i)??Error)(h),m={Error:g.Error};for(let[a,b]of k.structIterator()){let c=b.getMergedTraits().xmlName??a,e=g[c]??d[c];m[a]=this.deserializer.readSchema(b,e)}throw Object.assign(l,j,{$fault:k.getMergedTraits().error,message:h},m)}loadQueryErrorCode(a,b){let c=(b.Errors?.[0]?.Error??b.Errors?.Error??b.Error)?.Code;return void 0!==c?c:404==a.statusCode?"NotFound":void 0}loadQueryError(a){return a.Errors?.[0]?.Error??a.Errors?.Error??a.Error}loadQueryErrorMessage(a){let b=this.loadQueryError(a);return b?.message??b?.Message??a.message??a.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}class bb extends ba{options;constructor(a){super(a),this.options=a;let b={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,b)}useNestedResult(){return!1}}var bc=c(14355);function bd(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function be(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}class bf{value;constructor(a){this.value=a}toString(){return be(""+this.value)}}class bg{name;children;attributes={};static of(a,b,c){let d=new bg(a);return void 0!==b&&d.addChildNode(new bf(b)),void 0!==c&&d.withName(c),d}constructor(a,b=[]){this.name=a,this.children=b}withName(a){return this.name=a,this}addAttribute(a,b){return this.attributes[a]=b,this}addChildNode(a){return this.children.push(a),this}removeAttribute(a){return delete this.attributes[a],this}n(a){return this.name=a,this}c(a){return this.children.push(a),this}a(a,b){return null!=b&&(this.attributes[a]=b),this}cc(a,b,c=b){if(null!=a[b]){let d=bg.of(b,a[b]).withName(c);this.c(d)}}l(a,b,c,d){null!=a[b]&&d().map(a=>{a.withName(c),this.c(a)})}lc(a,b,c,d){if(null!=a[b]){let a=d(),b=new bg(c);a.map(a=>{b.c(a)}),this.c(b)}}toString(){let a=!!this.children.length,b=`<${this.name}`,c=this.attributes;for(let a of Object.keys(c)){let d=c[a];null!=d&&(b+=` ${a}="${bd(""+d)}"`)}return b+(a?`>${this.children.map(a=>a.toString()).join("")}</${this.name}>`:"/>")}}class bh extends aK{settings;stringBuffer;byteBuffer;buffer;constructor(a){super(),this.settings=a}write(a,b){let c=r.l.of(a);if(c.isStringSchema()&&"string"==typeof b)this.stringBuffer=b;else if(c.isBlobSchema())this.byteBuffer="byteLength"in b?b:(this.serdeContext?.base64Decoder??w.E)(b);else{this.buffer=this.writeStruct(c,b,void 0);let a=c.getMergedTraits();a.httpPayload&&!a.xmlName&&this.buffer.withName(c.getName())}}flush(){if(void 0!==this.byteBuffer){let a=this.byteBuffer;return delete this.byteBuffer,a}if(void 0!==this.stringBuffer){let a=this.stringBuffer;return delete this.stringBuffer,a}let a=this.buffer;return this.settings.xmlNamespace&&!a?.attributes?.xmlns&&a.addAttribute("xmlns",this.settings.xmlNamespace),delete this.buffer,a.toString()}writeStruct(a,b,c){let d=a.getMergedTraits(),e=a.isMemberSchema()&&!d.httpPayload?a.getMemberTraits().xmlName??a.getMemberName():d.xmlName??a.getName();if(!e||!a.isStructSchema())throw Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${a.getName(!0)}.`);let f=bg.of(e),[g,h]=this.getXmlnsAttribute(a,c);for(let[c,d]of a.structIterator()){let a=b[c];if(null!=a||d.isIdempotencyToken()){if(d.getMergedTraits().xmlAttribute){f.addAttribute(d.getMergedTraits().xmlName??c,this.writeSimple(d,a));continue}if(d.isListSchema())this.writeList(d,a,f,h);else if(d.isMapSchema())this.writeMap(d,a,f,h);else if(d.isStructSchema())f.addChildNode(this.writeStruct(d,a,h));else{let b=bg.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,a,b,h),f.addChildNode(b)}}}return h&&f.addAttribute(g,h),f}writeList(a,b,c,d){if(!a.isMemberSchema())throw Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${a.getName(!0)}`);let e=a.getMergedTraits(),f=a.getValueSchema(),g=f.getMergedTraits(),h=!!g.sparse,i=!!e.xmlFlattened,[j,k]=this.getXmlnsAttribute(a,d),l=(b,c)=>{if(f.isListSchema())this.writeList(f,Array.isArray(c)?c:[c],b,k);else if(f.isMapSchema())this.writeMap(f,c,b,k);else if(f.isStructSchema()){let d=this.writeStruct(f,c,k);b.addChildNode(d.withName(i?e.xmlName??a.getMemberName():g.xmlName??"member"))}else{let d=bg.of(i?e.xmlName??a.getMemberName():g.xmlName??"member");this.writeSimpleInto(f,c,d,k),b.addChildNode(d)}};if(i)for(let a of b)(h||null!=a)&&l(c,a);else{let d=bg.of(e.xmlName??a.getMemberName());for(let a of(k&&d.addAttribute(j,k),b))(h||null!=a)&&l(d,a);c.addChildNode(d)}}writeMap(a,b,c,d,e=!1){if(!a.isMemberSchema())throw Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${a.getName(!0)}`);let f=a.getMergedTraits(),g=a.getKeySchema(),h=g.getMergedTraits().xmlName??"key",i=a.getValueSchema(),j=i.getMergedTraits(),k=j.xmlName??"value",l=!!j.sparse,m=!!f.xmlFlattened,[o,p]=this.getXmlnsAttribute(a,d),q=(a,b,c)=>{let d=bg.of(h,b),[e,f]=this.getXmlnsAttribute(g,p);f&&d.addAttribute(e,f),a.addChildNode(d);let j=bg.of(k);i.isListSchema()?this.writeList(i,c,j,p):i.isMapSchema()?this.writeMap(i,c,j,p,!0):i.isStructSchema()?j=this.writeStruct(i,c,p):this.writeSimpleInto(i,c,j,p),a.addChildNode(j)};if(m){for(let[d,e]of Object.entries(b))if(l||null!=e){let b=bg.of(f.xmlName??a.getMemberName());q(b,d,e),c.addChildNode(b)}}else{let d;for(let[g,h]of(e||(d=bg.of(f.xmlName??a.getMemberName()),p&&d.addAttribute(o,p),c.addChildNode(d)),Object.entries(b)))if(l||null!=h){let a=bg.of("entry");q(a,g,h),(e?c:d).addChildNode(a)}}}writeSimple(a,b){if(null===b)throw Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let c=r.l.of(a),d=null;if(b&&"object"==typeof b)if(c.isBlobSchema())d=(this.serdeContext?.base64Encoder??aR.n)(b);else if(c.isTimestampSchema()&&b instanceof Date)switch((0,aL.V)(c,this.settings)){case 5:d=b.toISOString().replace(".000Z","Z");break;case 6:d=(0,aN.JV)(b);break;case 7:d=String(b.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",b),d=(0,aN.JV)(b)}else if(c.isBigDecimalSchema()&&b)return b instanceof x.D?b.string:String(b);else if(c.isMapSchema()||c.isListSchema())throw Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead.");else throw Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${c.getName(!0)}`);if((c.isBooleanSchema()||c.isNumericSchema()||c.isBigIntegerSchema()||c.isBigDecimalSchema())&&(d=String(b)),c.isStringSchema()&&(d=void 0===b&&c.isIdempotencyToken()?(0,u.v4)():String(b)),null===d)throw Error(`Unhandled schema-value pair ${c.getName(!0)}=${b}`);return d}writeSimpleInto(a,b,c,d){let e=this.writeSimple(a,b),f=r.l.of(a),g=new bf(e),[h,i]=this.getXmlnsAttribute(f,d);i&&c.addAttribute(h,i),c.addChildNode(g)}getXmlnsAttribute(a,b){let[c,d]=a.getMergedTraits().xmlNamespace??[];return d&&d!==b?[c?`xmlns:${c}`:"xmlns",d]:[void 0,void 0]}}class bi extends aK{settings;constructor(a){super(),this.settings=a}createSerializer(){let a=new bh(this.settings);return a.setSerdeContext(this.serdeContext),a}createDeserializer(){let a=new a7(this.settings);return a.setSerdeContext(this.serdeContext),a}}class bj extends aZ.s{codec;serializer;deserializer;mixin=new aF;constructor(a){super(a);let b={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:a.xmlNamespace,serviceNamespace:a.defaultNamespace};this.codec=new bi(b),this.serializer=new a$._(this.codec.createSerializer(),b),this.deserializer=new a_.z(this.codec.createDeserializer(),b)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(a,b,c){let d=await super.serializeRequest(a,b,c),e=r.l.of(a.input);if(!d.headers["content-type"]){let a=this.mixin.resolveRestContentType(this.getDefaultContentType(),e);a&&(d.headers["content-type"]=a)}return d.headers["content-type"]===this.getDefaultContentType()&&"string"==typeof d.body&&(d.body='<?xml version="1.0" encoding="UTF-8"?>'+d.body),d}async deserializeResponse(a,b,c){return super.deserializeResponse(a,b,c)}async handleError(a,b,c,d,e){let f=(0,bc.FZ)(c,d)??"Unknown",{errorSchema:g,errorMetadata:h}=await this.mixin.getErrorSchemaOrThrowBaseException(f,this.options.defaultNamespace,c,d,e),i=r.l.of(g),j=d.Error?.message??d.Error?.Message??d.message??d.Message??"Unknown",k=new(q.O.for(g[1]).getErrorCtor(g)??Error)(j);await this.deserializeHttpMessage(g,b,c,d);let l={};for(let[a,b]of i.structIterator()){let c=b.getMergedTraits().xmlName??a,e=d.Error?.[c]??d[c];l[a]=this.codec.createDeserializer().readSchema(b,e)}throw Object.assign(k,h,{$fault:i.getMergedTraits().error,message:j},l)}getDefaultContentType(){return"application/xml"}}},60200:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createChecksumStream=void 0;let d=c(47590),e=c(11939),f=c(63284);b.createChecksumStream=({expectedChecksum:a,checksum:b,source:c,checksumSourceLocation:g,base64Encoder:h})=>{if(!(0,e.isReadableStream)(c))throw Error(`@smithy/util-stream: unsupported source type ${c?.constructor?.name??c} in ChecksumStream.`);let i=h??d.toBase64;if("function"!=typeof TransformStream)throw Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let j=new TransformStream({start(){},async transform(a,c){b.update(a),c.enqueue(a)},async flush(c){let d=i(await b.digest());if(a!==d){let b=Error(`Checksum mismatch: expected "${a}" but received "${d}" in response header "${g}".`);c.error(b)}else c.terminate()}});c.pipeThrough(j);let k=j.readable;return Object.setPrototypeOf(k,f.ChecksumStream.prototype),k}},60209:(a,b,c)=>{"use strict";let{Transform:d}=c(27910),{StringDecoder:e}=c(41204),f=Symbol("last"),g=Symbol("decoder");function h(a,b,c){let d;if(this.overflow){if(1===(d=this[g].write(a).split(this.matcher)).length)return c();d.shift(),this.overflow=!1}else this[f]+=this[g].write(a),d=this[f].split(this.matcher);this[f]=d.pop();for(let a=0;a<d.length;a++)try{j(this,this.mapper(d[a]))}catch(a){return c(a)}if(this.overflow=this[f].length>this.maxLength,this.overflow&&!this.skipOverflow)return void c(Error("maximum buffer reached"));c()}function i(a){if(this[f]+=this[g].end(),this[f])try{j(this,this.mapper(this[f]))}catch(b){return a(b)}a()}function j(a,b){void 0!==b&&a.push(b)}function k(a){return a}a.exports=function(a,b,c){switch(a=a||/\r?\n/,b=b||k,c=c||{},arguments.length){case 1:"function"==typeof a?(b=a,a=/\r?\n/):"object"!=typeof a||a instanceof RegExp||a[Symbol.split]||(c=a,a=/\r?\n/);break;case 2:"function"==typeof a?(c=b,b=a,a=/\r?\n/):"object"==typeof b&&(c=b,b=k)}(c=Object.assign({},c)).autoDestroy=!0,c.transform=h,c.flush=i,c.readableObjectMode=!0;let j=new d(c);return j[f]="",j[g]=new e("utf8"),j.matcher=a,j.mapper=b,j.maxLength=c.maxLength,j.skipOverflow=c.skipOverflow||!1,j.overflow=!1,j._destroy=function(a,b){this._writableState.errorEmitted=!1,b(a)},j}},60241:(a,b,c)=>{"use strict";let{Transform:d}=c(57075),{Console:e}=c(37540),f=process.versions.icu?"✅":"Y ",g=process.versions.icu?"❌":"N ";a.exports=class{constructor({disableColors:a}={}){this.transform=new d({transform(a,b,c){c(null,a)}}),this.logger=new e({stdout:this.transform,inspectOptions:{colors:!a&&!process.env.CI}})}format(a){let b=a.map(({method:a,path:b,data:{statusCode:c},persist:d,times:e,timesInvoked:h,origin:i})=>({Method:a,Origin:i,Path:b,"Status code":c,Persistent:d?f:g,Invocations:h,Remaining:d?1/0:e-h}));return this.logger.table(b),this.transform.read().toString()}}},60302:(a,b,c)=>{"use strict";c.d(b,{iv:()=>s,pD:()=>r,DZ:()=>A,_k:()=>v,mm:()=>t,rl:()=>u,I$:()=>B,W0:()=>z,K1:()=>w});var d=c(56704),e=c(23192),f=c(37593);let g=Symbol.for("drizzle:PgInlineForeignKeys"),h=Symbol.for("drizzle:EnableRLS");class i extends d.XI{static [f.i]="PgTable";static Symbol=Object.assign({},d.XI.Symbol,{InlineForeignKeys:g,EnableRLS:h});[g]=[];[h]=!1;[d.XI.Symbol.ExtraConfigBuilder]=void 0;[d.XI.Symbol.ExtraConfigColumns]={}}class j{static [f.i]="PgPrimaryKeyBuilder";columns;name;constructor(a,b){this.columns=a,this.name=b}build(a){return new k(a,this.columns,this.name)}}class k{constructor(a,b,c){this.table=a,this.columns=b,this.name=c}static [f.i]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[i.Symbol.Name]}_${this.columns.map(a=>a.name).join("_")}_pk`}}var l=c(65029),m=c(4315),o=c(71540);class p{constructor(a,b,c){this.sourceTable=a,this.referencedTable=b,this.relationName=c,this.referencedTableName=b[d.XI.Symbol.Name]}static [f.i]="Relation";referencedTableName;fieldName}class q{constructor(a,b){this.table=a,this.config=b}static [f.i]="Relations"}class r extends p{constructor(a,b,c,d){super(a,b,c?.relationName),this.config=c,this.isNullable=d}static [f.i]="One";withFieldName(a){let b=new r(this.sourceTable,this.referencedTable,this.config,this.isNullable);return b.fieldName=a,b}}class s extends p{constructor(a,b,c){super(a,b,c?.relationName),this.config=c}static [f.i]="Many";withFieldName(a){let b=new s(this.sourceTable,this.referencedTable,this.config);return b.fieldName=a,b}}function t(){return{and:l.Uo,between:l.Tq,eq:l.eq,exists:l.t2,gt:l.gt,gte:l.RO,ilike:l.B3,inArray:l.RV,isNull:l.kZ,isNotNull:l.Pe,like:l.mj,lt:l.lt,lte:l.wJ,ne:l.ne,not:l.AU,notBetween:l.o8,notExists:l.KJ,notLike:l.RK,notIlike:l.q1,notInArray:l.KL,or:l.or,sql:o.ll}}function u(){return{sql:o.ll,asc:m.Y,desc:m.i}}function v(a,b){1===Object.keys(a).length&&"default"in a&&!(0,f.is)(a.default,d.XI)&&(a=a.default);let c={},e={},g={};for(let[h,i]of Object.entries(a))if((0,f.is)(i,d.XI)){let a=(0,d.Lf)(i),b=e[a];for(let e of(c[a]=h,g[h]={tsName:h,dbName:i[d.XI.Symbol.Name],schema:i[d.XI.Symbol.Schema],columns:i[d.XI.Symbol.Columns],relations:b?.relations??{},primaryKey:b?.primaryKey??[]},Object.values(i[d.XI.Symbol.Columns])))e.primary&&g[h].primaryKey.push(e);let k=i[d.XI.Symbol.ExtraConfigBuilder]?.(i[d.XI.Symbol.ExtraConfigColumns]);if(k)for(let a of Object.values(k))(0,f.is)(a,j)&&g[h].primaryKey.push(...a.columns)}else if((0,f.is)(i,q)){let a,f=(0,d.Lf)(i.table),h=c[f];for(let[c,d]of Object.entries(i.config(b(i.table))))if(h){let b=g[h];b.relations[c]=d,a&&b.primaryKey.push(...a)}else f in e||(e[f]={relations:{},primaryKey:a}),e[f].relations[c]=d}return{tables:g,tableNamesMap:c}}function w(a,b){return new q(a,a=>Object.fromEntries(Object.entries(b(a)).map(([a,b])=>[a,b.withFieldName(a)])))}function x(a){return function(b,c){return new r(a,b,c,c?.fields.reduce((a,b)=>a&&b.notNull,!0)??!1)}}function y(a){return function(b,c){return new s(a,b,c)}}function z(a,b,c){if((0,f.is)(c,r)&&c.config)return{fields:c.config.fields,references:c.config.references};let e=b[(0,d.Lf)(c.referencedTable)];if(!e)throw Error(`Table "${c.referencedTable[d.XI.Symbol.Name]}" not found in schema`);let g=a[e];if(!g)throw Error(`Table "${e}" not found in schema`);let h=c.sourceTable,i=b[(0,d.Lf)(h)];if(!i)throw Error(`Table "${h[d.XI.Symbol.Name]}" not found in schema`);let j=[];for(let a of Object.values(g.relations))(c.relationName&&c!==a&&a.relationName===c.relationName||!c.relationName&&a.referencedTable===c.sourceTable)&&j.push(a);if(j.length>1)throw c.relationName?Error(`There are multiple relations with name "${c.relationName}" in table "${e}"`):Error(`There are multiple relations between "${e}" and "${c.sourceTable[d.XI.Symbol.Name]}". Please specify relation name`);if(j[0]&&(0,f.is)(j[0],r)&&j[0].config)return{fields:j[0].config.references,references:j[0].config.fields};throw Error(`There is not enough information to infer relation "${i}.${c.fieldName}"`)}function A(a){return{one:x(a),many:y(a)}}function B(a,b,c,d,g=a=>a){let h={};for(let[i,j]of d.entries())if(j.isJson){let d=b.relations[j.tsKey],e=c[i],k="string"==typeof e?JSON.parse(e):e;h[j.tsKey]=(0,f.is)(d,r)?k&&B(a,a[j.relationTableTsKey],k,j.selection,g):k.map(b=>B(a,a[j.relationTableTsKey],b,j.selection,g))}else{let a,b=g(c[i]),d=j.field;a=(0,f.is)(d,e.V)?d:(0,f.is)(d,o.Xs)?d.decoder:d.sql.decoder,h[j.tsKey]=null===b?null:a.mapFromDriverValue(b)}return h}},60500:(a,b,c)=>{"use strict";c.d(b,{a:()=>f});var d=c(51114),e=c(45720);let f=async({id:a,config:b,payload:c,published:f,query:g,req:h})=>{let i,j=f?{and:[{parent:{equals:a}},{"version._status":{equals:"published"}}]}:{and:[{parent:{equals:a}},{latest:{equals:!0}}]};if(b.versions?.drafts){let{docs:a}=await c.db.findVersions({collection:b.slug,limit:1,pagination:!1,req:h,sort:"-updatedAt",where:(0,d.m)((0,e.D)(g.where),j)});i=a[0]}return i?(i.version.id=a,i.version):f?void 0:await c.db.findOne({...g,req:h})}},60592:(a,b,c)=>{"use strict";c.d(b,{e:()=>d});let d=a=>null!=a},60688:(a,b,c)=>{"use strict";c.d(b,{r:()=>f});var d=c(19443),e=c(29522);class f extends d.B{async signWithCredentials(a,b,c){let d=g(b);a.headers[e.Zl]=b.sessionToken;let f=this;return h(f,d),f.signRequest(a,c??{})}async presignWithCredentials(a,b,c){let d=g(b);delete a.headers[e.Zl],a.headers[e.Ki]=b.sessionToken,a.query=a.query??{},a.query[e.Ki]=b.sessionToken;let f=this;return h(f,d),this.presign(a,c)}}function g(a){return{accessKeyId:a.accessKeyId,secretAccessKey:a.secretAccessKey,expiration:a.expiration}}function h(a,b){let c=setTimeout(()=>{throw Error("SignatureV4S3Express credential override was created but not called.")},10),d=a.credentialProvider,e=()=>(clearTimeout(c),a.credentialProvider=d,Promise.resolve(b));a.credentialProvider=e}},60781:(a,b,c)=>{"use strict";c.d(b,{u:()=>i});var d=c(61872),e=c(99395),f=c(50531);let g="***SensitiveInformation***";function h(a,b){if(null==b)return b;let c=f.l.of(a);if(c.getMergedTraits().sensitive)return g;if(c.isListSchema()){if(c.getValueSchema().getMergedTraits().sensitive)return g}else if(c.isMapSchema()){if(c.getKeySchema().getMergedTraits().sensitive||c.getValueSchema().getMergedTraits().sensitive)return g}else if(c.isStructSchema()&&"object"==typeof b){let a=b,d={};for(let[b,e]of c.structIterator())null!=a[b]&&(d[b]=h(e,a[b]));return d}return b}class i{middlewareStack=(0,d.o)();schema;static classBuilder(){return new j}resolveMiddlewareWithContext(a,b,c,{middlewareFn:d,clientName:f,commandName:g,inputFilterSensitiveLog:h,outputFilterSensitiveLog:i,smithyContext:j,additionalContext:k,CommandCtor:l}){for(let e of d.bind(this)(l,a,b,c))this.middlewareStack.use(e);let m=a.concat(this.middlewareStack),{logger:o}=b,p={logger:o,clientName:f,commandName:g,inputFilterSensitiveLog:h,outputFilterSensitiveLog:i,[e.V]:{commandInstance:this,...j},...k},{requestHandler:q}=b;return m.resolve(a=>q.handle(a.request,c||{}),p)}}class j{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(a){this._init=a}ep(a){return this._ep=a,this}m(a){return this._middlewareFn=a,this}s(a,b,c={}){return this._smithyContext={service:a,operation:b,...c},this}c(a={}){return this._additionalContext=a,this}n(a,b){return this._clientName=a,this._commandName=b,this}f(a=a=>a,b=a=>a){return this._inputFilterSensitiveLog=a,this._outputFilterSensitiveLog=b,this}ser(a){return this._serializer=a,this}de(a){return this._deserializer=a,this}sc(a){return this._operationSchema=a,this._smithyContext.operationSchema=a,this}build(){let a,b=this;return a=class extends i{input;static getEndpointParameterInstructions(){return b._ep}constructor(...[a]){super(),this.input=a??{},b._init(this),this.schema=b._operationSchema}resolveMiddleware(c,d,e){let f=b._operationSchema,g=f?.[4]??f?.input,i=f?.[5]??f?.output;return this.resolveMiddlewareWithContext(c,d,e,{CommandCtor:a,middlewareFn:b._middlewareFn,clientName:b._clientName,commandName:b._commandName,inputFilterSensitiveLog:b._inputFilterSensitiveLog??(f?h.bind(null,g):a=>a),outputFilterSensitiveLog:b._outputFilterSensitiveLog??(f?h.bind(null,i):a=>a),smithyContext:b._smithyContext,additionalContext:b._additionalContext})}serialize=b._serializer;deserialize=b._deserializer}}}},60890:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let e=d(c(93313));b.default=a=>{let b=0;for(let c=0;c<a.length;c++){let d=a.charCodeAt(c),f=(0,e.default)(d);if(f<0)return -1;b+=f}return b}},60974:(a,b,c)=>{"use strict";function d(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function e(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?d(Object(c),!0).forEach(function(b){f(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):d(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function g(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=h(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,i=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){i=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(i)throw f}}}}function h(a,b){if(a){if("string"==typeof a)return i(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return i(a,b)}}function i(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}}let l=c(22465),m=["suggest","format","onState","validate","onRender","type"],o=()=>{};function p(){return q.apply(this,arguments)}function q(){return(q=k(function*(a=[],{onSubmit:b=o,onCancel:c=o}={}){let d,f,h,i,j,q,s={},t=p._override||{};a=[].concat(a);let u=function(){var a=k(function*(a,b,c=!1){if(c||!a.validate||!0===a.validate(b))return a.format?yield a.format(b,s):b});return function(b,c){return a.apply(this,arguments)}}();var v,w=g(a);try{for(w.s();!(v=w.n()).done;){var x=f=v.value;if(i=x.name,j=x.type,"function"==typeof j&&(j=yield j(d,e({},s),f),f.type=j),j){for(let a in f){if(m.includes(a))continue;let b=f[a];f[a]="function"==typeof b?yield b(d,e({},s),q):b}if(q=f,"string"!=typeof f.message)throw Error("prompt message is required");var y=f;if(i=y.name,j=y.type,void 0===l[j])throw Error(`prompt type (${j}) is not defined`);if(void 0!==t[f.name]&&(d=yield u(f,t[f.name]),void 0!==d)){s[i]=d;continue}try{d=p._injected?r(p._injected,f.initial):yield l[j](f),s[i]=d=yield u(f,d,!0),h=yield b(f,d,s)}catch(a){h=!(yield c(f,s))}if(h)return s}}}catch(a){w.e(a)}finally{w.f()}return s})).apply(this,arguments)}function r(a,b){let c=a.shift();if(c instanceof Error)throw c;return void 0===c?b:c}function s(a){p._injected=(p._injected||[]).concat(a)}function t(a){p._override=Object.assign({},a)}a.exports=Object.assign(p,{prompt:p,prompts:l,inject:s,override:t})},61092:(a,b,c)=>{"use strict";c.d(b,{J:()=>d});let d=a=>{let b=new Map,c=a.get("Cookie");return c&&c.split(";").forEach(a=>{let c=a.split("="),d=c.shift()?.trim(),e=c.join("=");try{let a=decodeURI(e);b.set(d,a)}catch{}}),b}},61101:(a,b,c)=>{"use strict";c.d(b,{A:()=>f,h:()=>e});var d={"1xx":"Informational","1xx_NAME":"INFORMATIONAL","1xx_MESSAGE":"Indicates an interim response for communicating connection status or request progress prior to completing the requested action and sending a final response.",INFORMATIONAL:"1xx","2xx":"Successful","2xx_NAME":"SUCCESSFUL","2xx_MESSAGE":"Indicates that the client's request was successfully received, understood, and accepted.",SUCCESSFUL:"2xx","3xx":"Redirection","3xx_NAME":"REDIRECTION","3xx_MESSAGE":"Indicates that further action needs to be taken by the user agent in order to fulfill the request.",REDIRECTION:"3xx","4xx":"Client Error","4xx_NAME":"CLIENT_ERROR","4xx_MESSAGE":"Indicates that the client seems to have erred.",CLIENT_ERROR:"4xx","5xx":"Server Error","5xx_NAME":"SERVER_ERROR","5xx_MESSAGE":"Indicates that the server is aware that it has erred or is incapable of performing the requested method.",SERVER_ERROR:"5xx"},e={classes:d,100:"Continue","100_NAME":"CONTINUE","100_MESSAGE":"The server has received the request headers and the client should proceed to send the request body.","100_CLASS":d.INFORMATIONAL,CONTINUE:100,101:"Switching Protocols","101_NAME":"SWITCHING_PROTOCOLS","101_MESSAGE":"The requester has asked the server to switch protocols and the server has agreed to do so.","101_CLASS":d.INFORMATIONAL,SWITCHING_PROTOCOLS:101,102:"Processing","102_NAME":"PROCESSING","102_MESSAGE":"A WebDAV request may contain many sub-requests involving file operations, requiring a long time to complete the request. This code indicates that the server has received and is processing the request, but no response is available yet.[7] This prevents the client from timing out and assuming the request was lost.","102_CLASS":d.INFORMATIONAL,PROCESSING:102,103:"Early Hints","103_NAME":"EARLY_HINTS","103_MESSAGE":"Used to return some response headers before final HTTP message.","103_CLASS":d.INFORMATIONAL,EARLY_HINTS:103,200:"OK","200_NAME":"OK","200_MESSAGE":"Standard response for successful HTTP requests.","200_CLASS":d.SUCCESSFUL,OK:200,201:"Created","201_NAME":"CREATED","201_MESSAGE":"The request has been fulfilled, resulting in the creation of a new resource.","201_CLASS":d.SUCCESSFUL,CREATED:201,202:"Accepted","202_NAME":"ACCEPTED","202_MESSAGE":"The request has been accepted for processing, but the processing has not been completed.","202_CLASS":d.SUCCESSFUL,ACCEPTED:202,203:"Non-Authoritative Information","203_NAME":"NON_AUTHORITATIVE_INFORMATION","203_MESSAGE":"The server is a transforming proxy (e.g. a Web accelerator) that received a 200 OK from its origin, but is returning a modified version of the origin's response.","203_CLASS":d.SUCCESSFUL,NON_AUTHORITATIVE_INFORMATION:203,204:"No Content","204_NAME":"NO_CONTENT","204_MESSAGE":"The server successfully processed the request and is not returning any content.","204_CLASS":d.SUCCESSFUL,NO_CONTENT:204,205:"Reset Content","205_NAME":"RESET_CONTENT","205_MESSAGE":"The server successfully processed the request, but is not returning any content. Unlike a 204 response, this response requires that the requester reset the document view.","205_CLASS":d.SUCCESSFUL,RESET_CONTENT:205,206:"Partial Content","206_NAME":"PARTIAL_CONTENT","206_MESSAGE":"The server is delivering only part of the resource (byte serving) due to a range header sent by the client.","206_CLASS":d.SUCCESSFUL,PARTIAL_CONTENT:206,207:"Multi Status","207_NAME":"MULTI_STATUS","207_MESSAGE":"The message body that follows is by default an XML message and can contain a number of separate response codes, depending on how many sub-requests were made.","207_CLASS":d.SUCCESSFUL,MULTI_STATUS:207,208:"Already Reported","208_NAME":"ALREADY_REPORTED","208_MESSAGE":"The members of a DAV binding have already been enumerated in a preceding part of the (multistatus) response, and are not being included again.","208_CLASS":d.SUCCESSFUL,ALREADY_REPORTED:208,226:"IM Used","226_NAME":"IM_USED","226_MESSAGE":"The server has fulfilled a request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance.","226_CLASS":d.SUCCESSFUL,IM_USED:226,300:"Multiple Choices","300_NAME":"MULTIPLE_CHOICES","300_MESSAGE":"Indicates multiple options for the resource from which the client may choose.","300_CLASS":d.REDIRECTION,MULTIPLE_CHOICES:300,301:"Moved Permanently","301_NAME":"MOVED_PERMANENTLY","301_MESSAGE":"This and all future requests should be directed to the given URI.","301_CLASS":d.REDIRECTION,MOVED_PERMANENTLY:301,302:"Found","302_NAME":"FOUND","302_MESSAGE":'This is an example of industry practice contradicting the standard. The HTTP/1.0 specification (RFC 1945) required the client to perform a temporary redirect (the original describing phrase was "Moved Temporarily"), but popular browsers implemented 302 with the functionality of a 303 See Other. Therefore, HTTP/1.1 added status codes 303 and 307 to distinguish between the two behaviours.',"302_CLASS":d.REDIRECTION,FOUND:302,303:"See Other","303_NAME":"SEE_OTHER","303_MESSAGE":"The response to the request can be found under another URI using the GET method.","303_CLASS":d.REDIRECTION,SEE_OTHER:303,304:"Not Modified","304_NAME":"NOT_MODIFIED","304_MESSAGE":"Indicates that the resource has not been modified since the version specified by the request headers If-Modified-Since or If-None-Match.","304_CLASS":d.REDIRECTION,NOT_MODIFIED:304,305:"Use Proxy","305_NAME":"USE_PROXY","305_MESSAGE":"The requested resource is available only through a proxy, the address for which is provided in the response.","305_CLASS":d.REDIRECTION,USE_PROXY:305,306:"Switch Proxy","306_NAME":"SWITCH_PROXY","306_MESSAGE":'No longer used. Originally meant "Subsequent requests should use the specified proxy.',"306_CLASS":d.REDIRECTION,SWITCH_PROXY:306,307:"Temporary Redirect","307_NAME":"TEMPORARY_REDIRECT","307_MESSAGE":"In this case, the request should be repeated with another URI; however, future requests should still use the original URI.","307_CLASS":d.REDIRECTION,TEMPORARY_REDIRECT:307,308:"Permanent Redirect","308_NAME":"PERMANENT_REDIRECT","308_MESSAGE":"The request and all future requests should be repeated using another URI.","308_CLASS":d.REDIRECTION,PERMANENT_REDIRECT:308,400:"Bad Request","400_NAME":"BAD_REQUEST","400_MESSAGE":"The server cannot or will not process the request due to an apparent client error.","400_CLASS":d.CLIENT_ERROR,BAD_REQUEST:400,401:"Unauthorized","401_NAME":"UNAUTHORIZED","401_MESSAGE":"Similar to 403 Forbidden, but specifically for use when authentication is required and has failed or has not yet been provided.","401_CLASS":d.CLIENT_ERROR,UNAUTHORIZED:401,402:"Payment Required","402_NAME":"PAYMENT_REQUIRED","402_MESSAGE":"Reserved for future use. The original intention was that this code might be used as part of some form of digital cash or micropayment scheme, as proposed for example by GNU Taler, but that has not yet happened, and this code is not usually used.","402_CLASS":d.CLIENT_ERROR,PAYMENT_REQUIRED:402,403:"Forbidden","403_NAME":"FORBIDDEN","403_MESSAGE":"The request was valid, but the server is refusing action.","403_CLASS":d.CLIENT_ERROR,FORBIDDEN:403,404:"Not Found","404_NAME":"NOT_FOUND","404_MESSAGE":"The requested resource could not be found but may be available in the future. Subsequent requests by the client are permissible.","404_CLASS":d.CLIENT_ERROR,NOT_FOUND:404,405:"Method Not Allowed","405_NAME":"METHOD_NOT_ALLOWED","405_MESSAGE":"A request method is not supported for the requested resource.","405_CLASS":d.CLIENT_ERROR,METHOD_NOT_ALLOWED:405,406:"Not Acceptable","406_NAME":"NOT_ACCEPTABLE","406_MESSAGE":"The requested resource is capable of generating only content not acceptable according to the Accept headers sent in the request.","406_CLASS":d.CLIENT_ERROR,NOT_ACCEPTABLE:406,407:"Proxy Authentication Required","407_NAME":"PROXY_AUTHENTICATION_REQUIRED","407_MESSAGE":"The client must first authenticate itself with the proxy.","407_CLASS":d.CLIENT_ERROR,PROXY_AUTHENTICATION_REQUIRED:407,408:"Request Time-out","408_NAME":"REQUEST_TIMEOUT","408_MESSAGE":"The server timed out waiting for the request.","408_CLASS":d.CLIENT_ERROR,REQUEST_TIMEOUT:408,409:"Conflict","409_NAME":"CONFLICT","409_MESSAGE":"Indicates that the request could not be processed because of conflict in the request, such as an edit conflict between multiple simultaneous updates.","409_CLASS":d.CLIENT_ERROR,CONFLICT:409,410:"Gone","410_NAME":"GONE","410_MESSAGE":"Indicates that the resource requested is no longer available and will not be available again.","410_CLASS":d.CLIENT_ERROR,GONE:410,411:"Length Required","411_NAME":"LENGTH_REQUIRED","411_MESSAGE":"The request did not specify the length of its content, which is required by the requested resource.","411_CLASS":d.CLIENT_ERROR,LENGTH_REQUIRED:411,412:"Precondition Failed","412_NAME":"PRECONDITION_FAILED","412_MESSAGE":"The server does not meet one of the preconditions that the requester put on the request.","412_CLASS":d.CLIENT_ERROR,PRECONDITION_FAILED:412,413:"Request Entity Too Large","413_NAME":"REQUEST_ENTITY_TOO_LARGE","413_MESSAGE":'The request is larger than the server is willing or able to process. Previously called "Request Entity Too Large".',"413_CLASS":d.CLIENT_ERROR,REQUEST_ENTITY_TOO_LARGE:413,414:"Request-URI Too Large","414_NAME":"REQUEST_URI_TOO_LONG","414_MESSAGE":"The URI provided was too long for the server to process.","414_CLASS":d.CLIENT_ERROR,REQUEST_URI_TOO_LONG:414,415:"Unsupported Media Type","415_NAME":"UNSUPPORTED_MEDIA_TYPE","415_MESSAGE":"The request entity has a media type which the server or resource does not support.","415_CLASS":d.CLIENT_ERROR,UNSUPPORTED_MEDIA_TYPE:415,416:"Requested Range not Satisfiable","416_NAME":"REQUESTED_RANGE_NOT_SATISFIABLE","416_MESSAGE":"The client has asked for a portion of the file (byte serving), but the server cannot supply that portion.","416_CLASS":d.CLIENT_ERROR,REQUESTED_RANGE_NOT_SATISFIABLE:416,417:"Expectation Failed","417_NAME":"EXPECTATION_FAILED","417_MESSAGE":"The server cannot meet the requirements of the Expect request-header field.","417_CLASS":d.CLIENT_ERROR,EXPECTATION_FAILED:417,418:"I'm a teapot","418_NAME":"IM_A_TEAPOT","418_MESSAGE":'Any attempt to brew coffee with a teapot should result in the error code "418 I\'m a teapot". The resulting entity body MAY be short and stout.',"418_CLASS":d.CLIENT_ERROR,IM_A_TEAPOT:418,421:"Misdirected Request","421_NAME":"MISDIRECTED_REQUEST","421_MESSAGE":"The request was directed at a server that is not able to produce a response.","421_CLASS":d.CLIENT_ERROR,MISDIRECTED_REQUEST:421,422:"Unprocessable Entity","422_NAME":"UNPROCESSABLE_ENTITY","422_MESSAGE":"The request was well-formed but was unable to be followed due to semantic errors.","422_CLASS":d.CLIENT_ERROR,UNPROCESSABLE_ENTITY:422,423:"Locked","423_NAME":"LOCKED","423_MESSAGE":"The resource that is being accessed is locked.","423_CLASS":d.CLIENT_ERROR,LOCKED:423,424:"Failed Dependency","424_NAME":"FAILED_DEPENDENCY","424_MESSAGE":"The request failed because it depended on another request and that request failed.","424_CLASS":d.CLIENT_ERROR,FAILED_DEPENDENCY:424,425:"Too Early","425_NAME":"TOO_EARLY","425_MESSAGE":"The server is unwilling to risk processing a request that might be replayed.","425_CLASS":d.CLIENT_ERROR,TOO_EARLY:425,426:"Upgrade Required","426_NAME":"UPGRADE_REQUIRED","426_MESSAGE":"The client should switch to a different protocol such as TLS/1.0, given in the Upgrade header field.","426_CLASS":d.CLIENT_ERROR,UPGRADE_REQUIRED:426,428:"Precondition Required","428_NAME":"PRECONDITION_REQUIRED","428_MESSAGE":"The origin server requires the request to be conditional.","428_CLASS":d.CLIENT_ERROR,PRECONDITION_REQUIRED:428,429:"Too Many Requests","429_NAME":"TOO_MANY_REQUESTS","429_MESSAGE":"The user has sent too many requests in a given amount of time.","429_CLASS":d.CLIENT_ERROR,TOO_MANY_REQUESTS:429,431:"Request Header Fields Too Large","431_NAME":"REQUEST_HEADER_FIELDS_TOO_LARGE","431_MESSAGE":"The server is unwilling to process the request because either an individual header field, or all the header fields collectively, are too large.","431_CLASS":d.CLIENT_ERROR,REQUEST_HEADER_FIELDS_TOO_LARGE:431,451:"Unavailable For Legal Reasons","451_NAME":"UNAVAILABLE_FOR_LEGAL_REASONS","451_MESSAGE":"A server operator has received a legal demand to deny access to a resource or to a set of resources that includes the requested resource.","451_CLASS":d.CLIENT_ERROR,UNAVAILABLE_FOR_LEGAL_REASONS:451,500:"Internal Server Error","500_NAME":"INTERNAL_SERVER_ERROR","500_MESSAGE":"A generic error message, given when an unexpected condition was encountered and no more specific message is suitable.","500_CLASS":d.SERVER_ERROR,INTERNAL_SERVER_ERROR:500,501:"Not Implemented","501_NAME":"NOT_IMPLEMENTED","501_MESSAGE":"The server either does not recognize the request method, or it lacks the ability to fulfil the request. Usually this implies future availability.","501_CLASS":d.SERVER_ERROR,NOT_IMPLEMENTED:501,502:"Bad Gateway","502_NAME":"BAD_GATEWAY","502_MESSAGE":"The server was acting as a gateway or proxy and received an invalid response from the upstream server.","502_CLASS":d.SERVER_ERROR,BAD_GATEWAY:502,503:"Service Unavailable","503_NAME":"SERVICE_UNAVAILABLE","503_MESSAGE":"The server is currently unavailable (because it is overloaded or down for maintenance). Generally, this is a temporary state.","503_CLASS":d.SERVER_ERROR,SERVICE_UNAVAILABLE:503,504:"Gateway Time-out","504_NAME":"GATEWAY_TIMEOUT","504_MESSAGE":"The server was acting as a gateway or proxy and did not receive a timely response from the upstream server.","504_CLASS":d.SERVER_ERROR,GATEWAY_TIMEOUT:504,505:"HTTP Version not Supported","505_NAME":"HTTP_VERSION_NOT_SUPPORTED","505_MESSAGE":"The server does not support the HTTP protocol version used in the request.","505_CLASS":d.SERVER_ERROR,HTTP_VERSION_NOT_SUPPORTED:505,506:"Variant Also Negotiates","506_NAME":"VARIANT_ALSO_NEGOTIATES","506_MESSAGE":"Transparent content negotiation for the request results in a circular reference.","506_CLASS":d.SERVER_ERROR,VARIANT_ALSO_NEGOTIATES:506,507:"Insufficient Storage","507_NAME":"INSUFFICIENT_STORAGE","507_MESSAGE":"The server is unable to store the representation needed to complete the request.","507_CLASS":d.SERVER_ERROR,INSUFFICIENT_STORAGE:507,508:"Loop Detected","508_NAME":"LOOP_DETECTED","508_MESSAGE":"The server detected an infinite loop while processing the request.","508_CLASS":d.SERVER_ERROR,LOOP_DETECTED:508,510:"Not Extended","510_NAME":"NOT_EXTENDED","510_MESSAGE":"Further extensions to the request are required for the server to fulfil it.","510_CLASS":d.SERVER_ERROR,NOT_EXTENDED:510,511:"Network Authentication Required","511_NAME":"NETWORK_AUTHENTICATION_REQUIRED","511_MESSAGE":"The client needs to authenticate to gain network access. Intended for use by intercepting proxies used to control access to the network.","511_CLASS":d.SERVER_ERROR,NETWORK_AUTHENTICATION_REQUIRED:511,extra:{unofficial:{103:"Checkpoint","103_NAME":"CHECKPOINT","103_MESSAGE":"Used in the resumable requests proposal to resume aborted PUT or POST requests.","103_CLASS":d.INFORMATIONAL,CHECKPOINT:103,419:"Page Expired","419_NAME":"PAGE_EXPIRED","419_MESSAGE":"Used by the Laravel Framework when a CSRF Token is missing or expired.","419_CLASS":d.CLIENT_ERROR,PAGE_EXPIRED:419,218:"This is fine","218_NAME":"THIS_IS_FINE","218_MESSAGE":"Used as a catch-all error condition for allowing response bodies to flow through Apache when ProxyErrorOverride is enabled. When ProxyErrorOverride is enabled in Apache, response bodies that contain a status code of 4xx or 5xx are automatically discarded by Apache in favor of a generic response or a custom response specified by the ErrorDocument directive.","218_CLASS":d.SUCCESSFUL,THIS_IS_FINE:218,420:"Enhance Your Calm","420_NAME":"ENHANCE_YOUR_CALM","420_MESSAGE":"Returned by version 1 of the Twitter Search and Trends API when the client is being rate limited; versions 1.1 and later use the 429 Too Many Requests response code instead.","420_CLASS":d.CLIENT_ERROR,ENHANCE_YOUR_CALM:420,450:"Blocked by Windows Parental Controls","450_NAME":"BLOCKED_BY_WINDOWS_PARENTAL_CONTROLS","450_MESSAGE":"The Microsoft extension code indicated when Windows Parental Controls are turned on and are blocking access to the requested webpage.","450_CLASS":d.CLIENT_ERROR,BLOCKED_BY_WINDOWS_PARENTAL_CONTROLS:450,498:"Invalid Token","498_NAME":"INVALID_TOKEN","498_MESSAGE":"Returned by ArcGIS for Server. Code 498 indicates an expired or otherwise invalid token.","498_CLASS":d.CLIENT_ERROR,INVALID_TOKEN:498,499:"Token Required","499_NAME":"TOKEN_REQUIRED","499_MESSAGE":"Returned by ArcGIS for Server. Code 499 indicates that a token is required but was not submitted.","499_CLASS":d.CLIENT_ERROR,TOKEN_REQUIRED:499,509:"Bandwidth Limit Exceeded","509_NAME":"BANDWIDTH_LIMIT_EXCEEDED","509_MESSAGE":"The server has exceeded the bandwidth specified by the server administrator.","509_CLASS":d.SERVER_ERROR,BANDWIDTH_LIMIT_EXCEEDED:509,530:"Site is frozen","530_NAME":"SITE_IS_FROZEN","530_MESSAGE":"Used by the Pantheon web platform to indicate a site that has been frozen due to inactivity.","530_CLASS":d.SERVER_ERROR,SITE_IS_FROZEN:530,598:"Network read timeout error","598_NAME":"NETWORK_READ_TIMEOUT_ERROR","598_MESSAGE":"Used by some HTTP proxies to signal a network read timeout behind the proxy to a client in front of the proxy.","598_CLASS":d.SERVER_ERROR,NETWORK_READ_TIMEOUT_ERROR:598},iis:{440:"Login Time-out","440_NAME":"LOGIN_TIME_OUT","440_MESSAGE":"The client's session has expired and must log in again.","440_CLASS":d.CLIENT_ERROR,LOGIN_TIME_OUT:440,449:"Retry With","449_NAME":"RETRY_WITH","449_MESSAGE":"The server cannot honour the request because the user has not provided the required information.","449_CLASS":d.CLIENT_ERROR,RETRY_WITH:449,451:"Redirect","451_NAME":"REDIRECT","451_MESSAGE":"Used in Exchange ActiveSync when either a more efficient server is available or the server cannot access the users' mailbox.","451_CLASS":d.CLIENT_ERROR,REDIRECT:451},nginx:{444:"No Response","444_NAME":"NO_RESPONSE","444_MESSAGE":"Used internally to instruct the server to return no information to the client and close the connection immediately.","444_CLASS":d.CLIENT_ERROR,NO_RESPONSE:444,494:"Request header too large","494_NAME":"REQUEST_HEADER_TOO_LARGE","494_MESSAGE":"Client sent too large request or too long header line.","494_CLASS":d.CLIENT_ERROR,REQUEST_HEADER_TOO_LARGE:494,495:"SSL Certificate Error","495_NAME":"SSL_CERTIFICATE_ERROR","495_MESSAGE":"An expansion of the 400 Bad Request response code, used when the client has provided an invalid client certificate.","495_CLASS":d.CLIENT_ERROR,SSL_CERTIFICATE_ERROR:495,496:"SSL Certificate Required","496_NAME":"SSL_CERTIFICATE_REQUIRED","496_MESSAGE":"An expansion of the 400 Bad Request response code, used when a client certificate is required but not provided.","496_CLASS":d.CLIENT_ERROR,SSL_CERTIFICATE_REQUIRED:496,497:"HTTP Request Sent to HTTPS Port","497_NAME":"HTTP_REQUEST_SENT_TO_HTTPS_PORT","497_MESSAGE":"An expansion of the 400 Bad Request response code, used when the client has made a HTTP request to a port listening for HTTPS requests.","497_CLASS":d.CLIENT_ERROR,HTTP_REQUEST_SENT_TO_HTTPS_PORT:497,499:"Client Closed Request","499_NAME":"CLIENT_CLOSED_REQUEST","499_MESSAGE":"Used when the client has closed the request before the server could send a response.","499_CLASS":d.CLIENT_ERROR,CLIENT_CLOSED_REQUEST:499},cloudflare:{520:"Unknown Error","520_NAME":"UNKNOWN_ERROR","520_MESSAGE":'The 520 error is used as a "catch-all response for when the origin server returns something unexpected", listing connection resets, large headers, and empty or invalid responses as common triggers.',"520_CLASS":d.SERVER_ERROR,UNKNOWN_ERROR:520,521:"Web Server Is Down","521_NAME":"WEB_SERVER_IS_DOWN","521_MESSAGE":"The origin server has refused the connection from Cloudflare.","521_CLASS":d.SERVER_ERROR,WEB_SERVER_IS_DOWN:521,522:"Connection Timed Out","522_NAME":"CONNECTION_TIMED_OUT","522_MESSAGE":"Cloudflare could not negotiate a TCP handshake with the origin server.","522_CLASS":d.SERVER_ERROR,CONNECTION_TIMED_OUT:522,523:"Origin Is Unreachable","523_NAME":"ORIGIN_IS_UNREACHABLE","523_MESSAGE":"Cloudflare could not reach the origin server.","523_CLASS":d.SERVER_ERROR,ORIGIN_IS_UNREACHABLE:523,524:"A Timeout Occurred","524_NAME":"A_TIMEOUT_OCCURRED","524_MESSAGE":"Cloudflare was able to complete a TCP connection to the origin server, but did not receive a timely HTTP response.","524_CLASS":d.SERVER_ERROR,A_TIMEOUT_OCCURRED:524,525:"SSL Handshake Failed","525_NAME":"SSL_HANDSHAKE_FAILED","525_MESSAGE":"Cloudflare could not negotiate a SSL/TLS handshake with the origin server.","525_CLASS":d.SERVER_ERROR,SSL_HANDSHAKE_FAILED:525,526:"Invalid SSL Certificate","526_NAME":"INVALID_SSL_CERTIFICATE","526_MESSAGE":"Cloudflare could not validate the SSL/TLS certificate that the origin server presented.","526_CLASS":d.SERVER_ERROR,INVALID_SSL_CERTIFICATE:526,527:"Railgun Error","527_NAME":"RAILGUN_ERROR","527_MESSAGE":"Error 527 indicates that the request timed out or failed after the WAN connection had been established.","527_CLASS":d.SERVER_ERROR,RAILGUN_ERROR:527}}},f=e},61102:(a,b,c)=>{"use strict";c.d(b,{b:()=>f});var d=c(79748);async function e(a,b){return Promise.all(a.map(b))}let f=async({collectionConfig:a,config:b,req:c})=>{if(b.upload?.useTempFiles&&a.upload){let{file:a}=c,b=[{file:a}];await e(b,async({file:a})=>{a?.tempFilePath&&await d.unlink(a.tempFilePath)})}}},61225:a=>{a.exports=g,g.default=g,g.stable=k,g.stableStringify=k;var b="[...]",c="[Circular]",d=[],e=[];function f(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function g(a,b,c,g){void 0===g&&(g=f()),i(a,"",0,[],void 0,0,g);try{h=0===e.length?JSON.stringify(a,b,c):JSON.stringify(a,m(b),c)}catch(a){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==d.length;){var h,j=d.pop();4===j.length?Object.defineProperty(j[0],j[1],j[3]):j[0][j[1]]=j[2]}}return h}function h(a,b,c,f){var g=Object.getOwnPropertyDescriptor(f,c);void 0!==g.get?g.configurable?(Object.defineProperty(f,c,{value:a}),d.push([f,c,b,g])):e.push([b,c,a]):(f[c]=a,d.push([f,c,b]))}function i(a,d,e,f,g,j,k){if(j+=1,"object"==typeof a&&null!==a){for(l=0;l<f.length;l++)if(f[l]===a)return void h(c,a,d,g);if(void 0!==k.depthLimit&&j>k.depthLimit||void 0!==k.edgesLimit&&e+1>k.edgesLimit)return void h(b,a,d,g);if(f.push(a),Array.isArray(a))for(l=0;l<a.length;l++)i(a[l],l,l,f,a,j,k);else{var l,m=Object.keys(a);for(l=0;l<m.length;l++){var o=m[l];i(a[o],o,l,f,a,j,k)}}f.pop()}}function j(a,b){return a<b?-1:+(a>b)}function k(a,b,c,g){void 0===g&&(g=f());var h,i=l(a,"",0,[],void 0,0,g)||a;try{h=0===e.length?JSON.stringify(i,b,c):JSON.stringify(i,m(b),c)}catch(a){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==d.length;){var j=d.pop();4===j.length?Object.defineProperty(j[0],j[1],j[3]):j[0][j[1]]=j[2]}}return h}function l(a,e,f,g,i,k,m){if(k+=1,"object"==typeof a&&null!==a){for(o=0;o<g.length;o++)if(g[o]===a)return void h(c,a,e,i);try{if("function"==typeof a.toJSON)return}catch(a){return}if(void 0!==m.depthLimit&&k>m.depthLimit||void 0!==m.edgesLimit&&f+1>m.edgesLimit)return void h(b,a,e,i);if(g.push(a),Array.isArray(a))for(o=0;o<a.length;o++)l(a[o],o,o,g,a,k,m);else{var o,p={},q=Object.keys(a).sort(j);for(o=0;o<q.length;o++){var r=q[o];l(a[r],r,o,g,a,k,m),p[r]=a[r]}if(void 0===i)return p;d.push([i,e,a]),i[e]=p}g.pop()}}function m(a){return a=void 0!==a?a:function(a,b){return b},function(b,c){if(e.length>0)for(var d=0;d<e.length;d++){var f=e[d];if(f[1]===b&&f[0]===c){c=f[2],e.splice(d,1);break}}return a.call(this,b,c)}}},61281:(a,b,c)=>{"use strict";c.d(b,{B:()=>h});var d=c(61101),e=c(35593);class f extends e.L{constructor(a){super(a,d.h.LOCKED)}}var g=c(70151);let h=async({id:a,collectionSlug:b,globalSlug:c,lockDurationDefault:d=300,lockErrorMessage:e,overrideLock:h=!0,req:i})=>{let{payload:j}=i,k=b?j.collections?.[b]?.config?.lockDocuments:j.config?.globals?.find(a=>a.slug===c)?.lockDocuments,l=!1!==k,m={};if(b)m={and:[{"document.relationTo":{equals:b}},{"document.value":{equals:a}}]};else if(c)m={globalSlug:{equals:c}};else throw Error("Either collectionSlug or globalSlug must be provided.");if(l){if(!h){let h=b?`Document with ID ${a} is currently locked by another user and cannot be modified.`:`Global document with slug "${c}" is currently locked by another user and cannot be modified.`,l=e||h,o=await j.db.find({collection:g.q,limit:1,pagination:!1,sort:"-updatedAt",where:m}),p=o?.docs[0];if(p){let a=new Date(p?.updatedAt).getTime(),b=new Date().getTime(),c=1e3*("object"==typeof k?k.duration:d),e=i.user?.id;if(p.user?.value!==e&&b-a<=c)throw new f(l)}}await j.db.deleteMany({collection:g.q,req:"mongoose"===j.db.name?void 0:i,where:m})}}},61463:(a,b,c)=>{"use strict";c.d(b,{k:()=>N});var d=c(55511),e=c(5279),f=c(25083),g=c(79551);async function h(a){let{collection:{config:b},config:c,disableEmail:d,email:e,req:f,token:h,user:i}=a;if(!d){let a=new g.URL(f.url).protocol,d=null!==c.serverURL&&""!==c.serverURL?c.serverURL:`${a}//${f.headers.get("host")}`,j=`${d}${c.routes.admin}/${b.slug}/verify/${h}`,k=`${f.t("authentication:newAccountCreated",{serverURL:c.serverURL,verificationURL:j})}`,l=b.auth.verify;"function"==typeof l.generateEmailHTML&&(k=await l.generateEmailHTML({req:f,token:h,user:i}));let m=f.t("authentication:verifyYourEmail");"function"==typeof l.generateEmailSubject&&(m=await l.generateEmailSubject({req:f,token:h,user:i})),await e.sendEmail({from:`"${e.defaultFromName}" <${e.defaultFromAddress}>`,html:k,subject:m,to:i.email})}}var i=c(47624),j=c(69815),k=c(54510);let l=async({collection:a,doc:b,password:c,payload:d,req:e})=>{let f,g=a?.auth?.loginWithUsername,{canLoginWithEmail:h,canLoginWithUsername:l}=(0,j.Y)(g);if(l?(f={or:[]},h&&b.email&&f.or?.push({email:{equals:b.email}}),b.username&&f.or?.push({username:{equals:b.username}})):f={email:{equals:b.email}},(await d.find({collection:a.slug,depth:0,limit:1,pagination:!1,req:e,where:f})).docs.length>0)throw new i.y({collection:a.slug,errors:[l?{message:e.t("error:usernameAlreadyRegistered"),path:"username"}:{message:e.t("error:userEmailAlreadyRegistered"),path:"email"}]});let{hash:m,salt:o}=await (0,k.$)({collection:a,password:c,req:e}),p={...b};return p.password&&delete p.password,d.db.create({collection:a.slug,data:{...p,hash:m,salt:o},req:e})};var m=c(18099),o=c(51114),p=c(83518),q=c(18528),r=c(2431),s=c(27661),t=c(22501);let u=async({id:a,blockData:b,collection:c,context:d,doc:e,field:f,fieldIndex:g,overrideAccess:h,parentIndexPath:i,parentIsLocalized:j,parentPath:k,parentSchemaPath:l,req:m,siblingDoc:o,siblingFields:p})=>{let{indexPath:q,path:r,schemaPath:u}=(0,t.I)({field:f,index:g,parentIndexPath:i,parentPath:k,parentSchemaPath:l}),{localization:w}=m.payload.config,x=r?r.split("."):[],y=u?u.split("."):[],z=q?q.split("-").filter(Boolean)?.map(Number):[];if((0,s.Z7)(f)){let g=o?.[f.name],i=w&&(0,s.Cd)({field:f,parentIsLocalized:j});if(Array.isArray("hooks"in f&&f.hooks?.beforeDuplicate))if(i){let a={};for(let g of w.localeCodes){let h,i={blockData:b,collection:c,context:d,data:e,field:f,global:void 0,indexPath:z,path:x,previousSiblingDoc:o,previousValue:o[f.name]?.[g],req:m,schemaPath:y,siblingData:o,siblingDocWithLocales:o,siblingFields:p,value:o[f.name]?.[g]};if("hooks"in f&&f.hooks?.beforeDuplicate)for(let a of f.hooks.beforeDuplicate)h=await a(i);void 0!==h&&(a[g]=h)}o[f.name]=a}else{let a,g={blockData:b,collection:c,context:d,data:e,field:f,global:void 0,indexPath:z,path:x,previousSiblingDoc:o,previousValue:o[f.name],req:m,schemaPath:y,siblingData:o,siblingDocWithLocales:o,siblingFields:p,value:o[f.name]};if("hooks"in f&&f.hooks?.beforeDuplicate)for(let b of f.hooks.beforeDuplicate)a=await b(g);void 0!==a&&(o[f.name]=a)}if(i){("object"!=typeof g||null===g)&&(o[f.name]={},g=o[f.name]);let i=[];w.localeCodes.forEach(k=>{if(g[k])switch(f.type){case"array":{let i=g[k];if(Array.isArray(i)){let g=[];i.forEach((i,k)=>{g.push(v({id:a,blockData:b,collection:c,context:d,doc:e,fields:f.fields,overrideAccess:h,parentIndexPath:"",parentIsLocalized:j||f.localized,parentPath:r+"."+k,parentSchemaPath:u,req:m,siblingDoc:i}))})}break}case"blocks":{let b=g[k];if(Array.isArray(b)){let g=[];b.forEach((b,i)=>{let k=b.blockType,l=m.payload.blocks[k]??(f.blockReferences??f.blocks).find(a=>"string"!=typeof a&&a.slug===k);g.push(v({id:a,blockData:b,collection:c,context:d,doc:e,fields:l.fields,overrideAccess:h,parentIndexPath:"",parentIsLocalized:j||f.localized,parentPath:r+"."+i,parentSchemaPath:u+"."+l.slug,req:m,siblingDoc:b}))})}break}case"group":case"tab":i.push(v({id:a,blockData:b,collection:c,context:d,doc:e,fields:f.fields,overrideAccess:h,parentIndexPath:"",parentIsLocalized:j||f.localized,parentPath:r,parentSchemaPath:u,req:m,siblingDoc:g[k]}))}}),await Promise.all(i)}else switch(f.type){case"array":{let g=o[f.name];if(Array.isArray(g)){let i=[];g.forEach((g,k)=>{i.push(v({id:a,blockData:b,collection:c,context:d,doc:e,fields:f.fields,overrideAccess:h,parentIndexPath:"",parentIsLocalized:j||f.localized,parentPath:r+"."+k,parentSchemaPath:u,req:m,siblingDoc:g}))}),await Promise.all(i)}break}case"blocks":{let b=o[f.name];if(Array.isArray(b)){let g=[];b.forEach((b,i)=>{let k=b.blockType,l=m.payload.blocks[k]??(f.blockReferences??f.blocks).find(a=>"string"!=typeof a&&a.slug===k);l&&(b.blockType=k,g.push(v({id:a,blockData:b,collection:c,context:d,doc:e,fields:l.fields,overrideAccess:h,parentIndexPath:"",parentIsLocalized:j||f.localized,parentPath:r+"."+i,parentSchemaPath:u+"."+l.slug,req:m,siblingDoc:b})))}),await Promise.all(g)}break}case"group":{"object"!=typeof o[f.name]&&(o[f.name]={});let g=o[f.name];await v({id:a,blockData:b,collection:c,context:d,doc:e,fields:f.fields,overrideAccess:h,parentIndexPath:"",parentIsLocalized:j||f.localized,parentPath:r,parentSchemaPath:u,req:m,siblingDoc:g});break}case"tab":{"object"!=typeof o[f.name]&&(o[f.name]={});let g=o[f.name];await v({id:a,blockData:b,collection:c,context:d,doc:e,fields:f.fields,overrideAccess:h,parentIndexPath:"",parentIsLocalized:j||f.localized,parentPath:r,parentSchemaPath:u,req:m,siblingDoc:g})}}}else switch(f.type){case"collapsible":case"group":case"row":case"tab":await v({id:a,blockData:b,collection:c,context:d,doc:e,fields:f.fields,overrideAccess:h,parentIndexPath:q,parentIsLocalized:j,parentPath:k,parentSchemaPath:u,req:m,siblingDoc:o});break;case"tabs":await v({id:a,blockData:b,collection:c,context:d,doc:e,fields:f.tabs.map(a=>({...a,type:"tab"})),overrideAccess:h,parentIndexPath:q,parentIsLocalized:j,parentPath:r,parentSchemaPath:u,req:m,siblingDoc:o})}},v=async({id:a,blockData:b,collection:c,context:d,doc:e,fields:f,overrideAccess:g,parentIndexPath:h,parentIsLocalized:i,parentPath:j,parentSchemaPath:k,req:l,siblingDoc:m})=>{let o=[];f.forEach((p,q)=>{o.push(u({id:a,blockData:b,collection:c,context:d,doc:e,field:p,fieldIndex:q,overrideAccess:g,parentIndexPath:h,parentIsLocalized:i,parentPath:j,parentSchemaPath:k,req:l,siblingDoc:m,siblingFields:f}))}),await Promise.all(o)},w=async({id:a,collection:b,context:c,doc:d,overrideAccess:e,req:f})=>(await v({id:a,collection:b,context:c,doc:d,fields:b.fields,overrideAccess:e,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",req:f,siblingDoc:d}),d);var x=c(70366),y=c(60500);let z=async({id:a,collectionConfig:b,draftArg:c,overrideAccess:d,req:e,shouldSaveDraft:g})=>{let{payload:h}=e,i=!!d||await (0,f.m)({id:a,req:e},b.access.read),j=(0,m.L)(i),k={collection:b.slug,locale:e.locale,req:e,where:(0,o.m)({id:{equals:a}},i)},l=await (0,y.a)({id:a,config:b,payload:h,query:k,req:e});if(!l&&!j)throw new q.M(e.t);if(!l&&j)throw new p.c(e.t);return"createdAt"in l&&delete l.createdAt,"id"in l&&delete l.id,l=await w({id:a,collection:b,context:e.context,doc:l,overrideAccess:d,req:e}),g&&(l._status="draft"),{duplicatedFromDoc:await (0,r.v)({collection:b,context:e.context,depth:0,doc:(0,x.Zt)(l),draft:c,fallbackLocale:null,global:null,locale:e.locale,overrideAccess:!0,req:e,showHiddenFields:!0}),duplicatedFromDocWithLocales:l}};var A=c(20551),B=c(91164),C=c(18650),D=c(77396),E=c(61102),F=c(83911),G=c(57819),H=c(33334),I=c(53216),J=c(22477),K=c(32609),L=c(49586),M=c(87641);let N=async a=>{let b=a;try{let a,c=!b.disableTransaction&&await (0,H.n)(b.req);if((0,e.q)({authOptions:b.collection.config.auth,collectionSlug:b.collection.config.slug,data:b.data,operation:"create",req:b.req}),b.collection.config.hooks.beforeOperation?.length)for(let a of b.collection.config.hooks.beforeOperation)b=await a({args:b,collection:b.collection.config,context:b.req.context,operation:"create",req:b.req})||b;b.publishSpecificLocale&&(b.req.locale=b.publishSpecificLocale);let{autosave:g=!1,collection:{config:i},collection:j,depth:k,disableVerificationEmail:m,draft:o=!1,duplicateFromID:p,overrideAccess:q,overwriteExistingFiles:s=!1,populate:t,publishSpecificLocale:u,req:{fallbackLocale:v,locale:w,payload:x,payload:{config:y}},req:I,select:N,showHiddenFields:O}=b,{data:P}=b,Q=!!(o&&i.versions.drafts),R={},S={};if(p){let a=await z({id:p,collectionConfig:i,draftArg:Q,overrideAccess:q,req:I,shouldSaveDraft:Q});S=a.duplicatedFromDoc,R=a.duplicatedFromDocWithLocales}q||await (0,f.m)({data:P,req:I},i.access.create);let{data:T,files:U}=await (0,D.Y)({collection:j,config:y,data:P,isDuplicating:!!p,operation:"create",originalDoc:S,overwriteExistingFiles:s,req:I,throwOnMissingFile:!Q&&!1!==j.config.upload.filesRequiredOnCreate});if(P=T,P=await (0,C.M)({collection:i,context:I.context,data:P,doc:S,global:null,operation:"create",overrideAccess:q,req:I}),i.hooks.beforeValidate?.length)for(let a of i.hooks.beforeValidate)P=await a({collection:i,context:I.context,data:P,operation:"create",originalDoc:S,req:I})||P;if(i.hooks?.beforeChange?.length)for(let a of i.hooks.beforeChange)P=await a({collection:i,context:I.context,data:P,operation:"create",originalDoc:S,req:I})||P;let V=await (0,B.o)({collection:i,context:I.context,data:P,doc:S,docWithLocales:R,global:null,operation:"create",overrideAccess:q,req:I,skipValidation:Q&&i.versions.drafts&&!i.versions.drafts.validate});i.upload.disableLocalStorage||await (0,F.Z)(x,U,I);let W=(0,K.Y)({fields:i.flattenedFields,forceSelect:i.forceSelect,select:N});i.auth&&!i.auth.disableLocalStrategy?(i.auth.verify&&(V._verified=!!V._verified,V._verificationToken=d.randomBytes(20).toString("hex")),a=await l({collection:i,doc:V,password:P.password,payload:I.payload,req:I})):a=await x.db.create({collection:i.slug,data:V,req:I});let X=a._verificationToken,Y=(0,J.E)(a);if(i.versions&&await (0,L.U)({id:Y.id,autosave:g,collection:i,docWithLocales:Y,operation:"create",payload:x,publishSpecificLocale:u,req:I}),i.auth&&i.auth.verify&&Y.email&&await h({collection:{config:i},config:x.config,disableEmail:m,email:x.email,req:I,token:X,user:Y}),Y=await (0,r.v)({collection:i,context:I.context,depth:k,doc:Y,draft:o,fallbackLocale:v,global:null,locale:w,overrideAccess:q,populate:t,req:I,select:W,showHiddenFields:O}),i.hooks?.afterRead?.length)for(let a of i.hooks.afterRead)Y=await a({collection:i,context:I.context,doc:Y,req:I})||Y;if(Y=await (0,A.t)({collection:i,context:I.context,data:P,doc:Y,global:null,operation:"create",previousDoc:{},req:I}),i.hooks?.afterChange?.length)for(let a of i.hooks.afterChange)Y=await a({collection:i,context:I.context,data:P,doc:Y,operation:"create",previousDoc:{},req:b.req})||Y;return Y=await (0,M.E)({args:b,collection:i,operation:"create",result:Y}),await (0,E.b)({collectionConfig:i,config:y,req:I}),c&&await (0,G.w)(I),Y}catch(a){throw await (0,I.J)(b.req),a}}},61644:(a,b,c)=>{"use strict";c.d(b,{r:()=>d});let d=a=>"string"==typeof a||"number"==typeof a?a:a.id},61671:(a,b,c)=>{"use strict";var d,e=c(83166),f=c(3598);let g="AWS_USE_DUALSTACK_ENDPOINT",h="use_dualstack_endpoint",i=!1,j={environmentVariableSelector:a=>e.booleanSelector(a,g,e.SelectorType.ENV),configFileSelector:a=>e.booleanSelector(a,h,e.SelectorType.CONFIG),default:!1},k="AWS_USE_FIPS_ENDPOINT",l="use_fips_endpoint",m=!1,o={environmentVariableSelector:a=>e.booleanSelector(a,k,e.SelectorType.ENV),configFileSelector:a=>e.booleanSelector(a,l,e.SelectorType.CONFIG),default:!1},p=a=>{let{tls:b,endpoint:c,urlParser:d,useDualstackEndpoint:e}=a;return Object.assign(a,{tls:b??!0,endpoint:f.normalizeProvider("string"==typeof c?d(c):c),isCustomEndpoint:!0,useDualstackEndpoint:f.normalizeProvider(e??!1)})},q=async a=>{let{tls:b=!0}=a,c=await a.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(c))throw Error("Invalid region in client config");let d=await a.useDualstackEndpoint(),e=await a.useFipsEndpoint(),{hostname:f}=await a.regionInfoProvider(c,{useDualstackEndpoint:d,useFipsEndpoint:e})??{};if(!f)throw Error("Cannot resolve hostname from client config");return a.urlParser(`${b?"https:":"http:"}//${f}`)},r=a=>{let b=f.normalizeProvider(a.useDualstackEndpoint??!1),{endpoint:c,useFipsEndpoint:d,urlParser:e,tls:g}=a;return Object.assign(a,{tls:g??!0,endpoint:c?f.normalizeProvider("string"==typeof c?e(c):c):()=>q({...a,useDualstackEndpoint:b,useFipsEndpoint:d}),isCustomEndpoint:!!c,useDualstackEndpoint:b})},s="AWS_REGION",t="region",u={environmentVariableSelector:a=>a[s],configFileSelector:a=>a[t],default:()=>{throw Error("Region is missing")}},v={preferredFile:"credentials"},w=a=>"string"==typeof a&&(a.startsWith("fips-")||a.endsWith("-fips")),x=a=>w(a)?["fips-aws-global","aws-fips"].includes(a)?"us-east-1":a.replace(/fips-(dkr-|prod-)?|-fips/,""):a,y=a=>{let{region:b,useFipsEndpoint:c}=a;if(!b)throw Error("Region is missing");return Object.assign(a,{region:async()=>"string"==typeof b?x(b):x(await b()),useFipsEndpoint:async()=>!!w("string"==typeof b?b:await b())||("function"!=typeof c?Promise.resolve(!!c):c())})},z=(a=[],{useFipsEndpoint:b,useDualstackEndpoint:c})=>a.find(({tags:a})=>b===a.includes("fips")&&c===a.includes("dualstack"))?.hostname,A=(a,{regionHostname:b,partitionHostname:c})=>b||(c?c.replace("{region}",a):void 0),B=(a,{partitionHash:b})=>Object.keys(b||{}).find(c=>b[c].regions.includes(a))??"aws",C=(a,{signingRegion:b,regionRegex:c,useFipsEndpoint:d})=>{if(b)return b;if(d){let b=c.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),d=a.match(b);if(d)return d[0].slice(1,-1)}},D=(a,{useFipsEndpoint:b=!1,useDualstackEndpoint:c=!1,signingService:d,regionHash:e,partitionHash:f})=>{let g=B(a,{partitionHash:f}),h=a in e?a:f[g]?.endpoint??a,i={useFipsEndpoint:b,useDualstackEndpoint:c},j=z(e[h]?.variants,i),k=A(h,{regionHostname:j,partitionHostname:z(f[g]?.variants,i)});if(void 0===k)throw Error(`Endpoint resolution failed for: ${{resolvedRegion:h,useFipsEndpoint:b,useDualstackEndpoint:c}}`);let l=C(k,{signingRegion:e[h]?.signingRegion,regionRegex:f[g].regionRegex,useFipsEndpoint:b});return{partition:g,signingService:d,hostname:k,...l&&{signingRegion:l},...e[h]?.signingService&&{signingService:e[h].signingService}}};d=h,d=l,d=i,d=m,d=g,d=k,b.zH=v,b.GG=u,b.e$=j,b.Ko=o,d=s,d=t,d=D,d=p,d=r,b.TD=y},61720:(a,b,c)=>{"use strict";var d;c.d(b,{c:()=>d}),function(a){a.ENV="env",a.CONFIG="shared config entry"}(d||(d={}))},61768:a=>{"use strict";a.exports=function a(a){let{secret:b,censor:c,compileRestore:d,serialize:e,groupRedact:f,nestedRedact:g,wildcards:h,wcLen:i}=a,j=[{secret:b,censor:c,compileRestore:d}];return!1!==e&&j.push({serialize:e}),i>0&&j.push({groupRedact:f,nestedRedact:g,wildcards:h,wcLen:i}),Object.assign(...j)}},61869:(a,b,c)=>{"use strict";let d=c(49959),e=c(40286),f=c(97997),g=c(95805),{groupRedact:h,nestedRedact:i}=c(16723),j=c(61768),k=c(74359),l=d(),m=a=>a;m.restore=m;let o="[REDACTED]";function p(a={}){let b=Array.from(new Set(a.paths||[])),c="serialize"in a&&(!1===a.serialize||"function"==typeof a.serialize)?a.serialize:JSON.stringify,d=a.remove;if(!0===d&&c!==JSON.stringify)throw Error("fast-redact – remove option may only be set when serializer is JSON.stringify");let k=!0===d?void 0:"censor"in a?a.censor:o,q="function"==typeof k,r=q&&k.length>1;if(0===b.length)return c||m;l({paths:b,serialize:c,censor:k});let{wildcards:s,wcLen:t,secret:u}=e({paths:b,censor:k}),v=g();return f({secret:u,wcLen:t,serialize:c,strict:!("strict"in a)||a.strict,isCensorFct:q,censorFctTakesPath:r},j({secret:u,censor:k,compileRestore:v,serialize:c,groupRedact:h,nestedRedact:i,wildcards:s,wcLen:t}))}p.rx=k,p.validator=d,a.exports=p},61872:(a,b,c)=>{"use strict";c.d(b,{o:()=>f});let d=(a,b)=>{let c=[];if(a&&c.push(a),b)for(let a of b)c.push(a);return c},e=(a,b)=>`${a||"anonymous"}${b&&b.length>0?` (a.k.a. ${b.join(",")})`:""}`,f=()=>{let a=[],b=[],c=!1,i=new Set,j=a=>a.sort((a,b)=>g[b.step]-g[a.step]||h[b.priority||"normal"]-h[a.priority||"normal"]),k=c=>{let e=!1,f=a=>{let b=d(a.name,a.aliases);if(b.includes(c)){for(let a of(e=!0,b))i.delete(a);return!1}return!0};return a=a.filter(f),b=b.filter(f),e},l=c=>{let e=!1,f=a=>{if(a.middleware===c){for(let b of(e=!0,d(a.name,a.aliases)))i.delete(b);return!1}return!0};return a=a.filter(f),b=b.filter(f),e},m=c=>(a.forEach(a=>{c.add(a.middleware,{...a})}),b.forEach(a=>{c.addRelativeTo(a.middleware,{...a})}),c.identifyOnResolve?.(q.identifyOnResolve()),c),o=a=>{let b=[];return a.before.forEach(a=>{0===a.before.length&&0===a.after.length?b.push(a):b.push(...o(a))}),b.push(a),a.after.reverse().forEach(a=>{0===a.before.length&&0===a.after.length?b.push(a):b.push(...o(a))}),b},p=(c=!1)=>{let f=[],g=[],h={};return a.forEach(a=>{let b={...a,before:[],after:[]};for(let a of d(b.name,b.aliases))h[a]=b;f.push(b)}),b.forEach(a=>{let b={...a,before:[],after:[]};for(let a of d(b.name,b.aliases))h[a]=b;g.push(b)}),g.forEach(a=>{if(a.toMiddleware){let b=h[a.toMiddleware];if(void 0===b){if(c)return;throw Error(`${a.toMiddleware} is not found when adding ${e(a.name,a.aliases)} middleware ${a.relation} ${a.toMiddleware}`)}"after"===a.relation&&b.after.push(a),"before"===a.relation&&b.before.push(a)}}),j(f).map(o).reduce((a,b)=>(a.push(...b),a),[])},q={add:(b,c={})=>{let{name:f,override:g,aliases:h}=c,j={step:"initialize",priority:"normal",middleware:b,...c},k=d(f,h);if(k.length>0){if(k.some(a=>i.has(a))){if(!g)throw Error(`Duplicate middleware name '${e(f,h)}'`);for(let b of k){let c=a.findIndex(a=>a.name===b||a.aliases?.some(a=>a===b));if(-1===c)continue;let d=a[c];if(d.step!==j.step||j.priority!==d.priority)throw Error(`"${e(d.name,d.aliases)}" middleware with ${d.priority} priority in ${d.step} step cannot be overridden by "${e(f,h)}" middleware with ${j.priority} priority in ${j.step} step.`);a.splice(c,1)}}for(let a of k)i.add(a)}a.push(j)},addRelativeTo:(a,c)=>{let{name:f,override:g,aliases:h}=c,j={middleware:a,...c},k=d(f,h);if(k.length>0){if(k.some(a=>i.has(a))){if(!g)throw Error(`Duplicate middleware name '${e(f,h)}'`);for(let a of k){let c=b.findIndex(b=>b.name===a||b.aliases?.some(b=>b===a));if(-1===c)continue;let d=b[c];if(d.toMiddleware!==j.toMiddleware||d.relation!==j.relation)throw Error(`"${e(d.name,d.aliases)}" middleware ${d.relation} "${d.toMiddleware}" middleware cannot be overridden by "${e(f,h)}" middleware ${j.relation} "${j.toMiddleware}" middleware.`);b.splice(c,1)}}for(let a of k)i.add(a)}b.push(j)},clone:()=>m(f()),use:a=>{a.applyToStack(q)},remove:a=>"string"==typeof a?k(a):l(a),removeByTag:c=>{let e=!1,f=a=>{let{tags:b,name:f,aliases:g}=a;if(b&&b.includes(c)){for(let a of d(f,g))i.delete(a);return e=!0,!1}return!0};return a=a.filter(f),b=b.filter(f),e},concat:a=>{let b=m(f());return b.use(a),b.identifyOnResolve(c||b.identifyOnResolve()||(a.identifyOnResolve?.()??!1)),b},applyToStack:m,identify:()=>p(!0).map(a=>{let b=a.step??a.relation+" "+a.toMiddleware;return e(a.name,a.aliases)+" - "+b}),identifyOnResolve:a=>("boolean"==typeof a&&(c=a),c),resolve:(a,b)=>{for(let c of p().map(a=>a.middleware).reverse())a=c(a,b);return c&&console.log(q.identify()),a}};return q},g={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},h={high:3,normal:2,low:1}},62211:(a,b,c)=>{"use strict";c.d(b,{H:()=>m});var d=c(55900),e=c(83038),f=c(75423),g=c(33334),h=c(57819),i=c(53216),j=c(42526),k=c(86586),l=c(66285);async function m(){let{payload:a}=this,b=await (0,d.I)({payload:a}),{existingMigrations:c,latestBatch:m}=await (0,e.A)({payload:a});if(!c?.length)return void a.logger.info({msg:"No migrations to rollback."});a.logger.info({msg:`Rolling back batch ${m} consisting of ${c.length} migration(s).`});let o=await (0,f.M)({},a);for(let d of(c.reverse(),c))try{let c=b.find(a=>a.name===d.name);if(!c)throw Error(`Migration ${d.name} not found locally.`);a.logger.info({msg:`Migrating down: ${d.name}`});let e=Date.now();await (0,g.n)(o);let f=await (0,j.x)(this,o);await c.down({db:f,payload:a,req:o}),a.logger.info({msg:`Migrated down:  ${d.name} (${Date.now()-e}ms)`}),await (0,k.r)(this,f)&&await a.delete({collection:"payload-migrations",req:o,where:{name:{equals:d.name}}}),await (0,h.w)(o)}catch(b){await (0,i.J)(o),a.logger.error({err:b,msg:(0,l.u)(b,`Error running migration ${d.name}. Rolling back.`)}),process.exit(1)}for(let c of b){a.logger.info({msg:`Migrating: ${c.name}`});try{let b=Date.now();await (0,g.n)(o),await c.up({payload:a,req:o}),await a.create({collection:"payload-migrations",data:{name:c.name,executed:!0},req:o}),await (0,h.w)(o),a.logger.info({msg:`Migrated:  ${c.name} (${Date.now()-b}ms)`})}catch(b){await (0,i.J)(o),a.logger.error({err:b,msg:(0,l.u)(b,`Error running migration ${c.name}. Rolling back.`)}),process.exit(1)}}}},62261:(a,b,c)=>{"use strict";c.d(b,{C:()=>g});var d=c(55511),e=c(33873),f=c(5313);let g=a=>{let b=(0,d.createHash)("sha1").update(a).digest("hex");return(0,e.join)((0,f.R)(),".aws","sso","cache",`${b}.json`)}},62451:(a,b,c)=>{"use strict";var d,e=c(42703),f=c(84642),g=c(13917),h=c(68711),i=c(3598),j=c(18864),k=c(80098);let l=(a,b)=>{let c=a,d=e.NO_RETRY_INCREMENT,f=e.RETRY_COST,g=e.TIMEOUT_RETRY_COST,h=a,i=a=>"TimeoutError"===a.name?g:f,j=a=>i(a)<=h,k=a=>{if(!j(a))throw Error("No retry token available");let b=i(a);return h-=b,b};return Object.freeze({hasRetryTokens:j,retrieveRetryTokens:k,releaseRetryTokens:a=>{h+=a??d,h=Math.min(h,c)}})},m=(a,b)=>Math.floor(Math.min(e.MAXIMUM_RETRY_DELAY,Math.random()*2**b*a)),o=a=>!!a&&(g.isRetryableByTrait(a)||g.isClockSkewError(a)||g.isThrottlingError(a)||g.isTransientError(a)),p=a=>a instanceof Error?a:a instanceof Object?Object.assign(Error(),a):"string"==typeof a?Error(a):Error(`AWS SDK error wrapper for ${a}`);class q{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=e.RETRY_MODES.STANDARD;constructor(a,b){this.maxAttemptsProvider=a,this.retryDecider=b?.retryDecider??o,this.delayDecider=b?.delayDecider??m,this.retryQuota=b?.retryQuota??l(e.INITIAL_RETRY_TOKENS)}shouldRetry(a,b,c){return b<c&&this.retryDecider(a)&&this.retryQuota.hasRetryTokens(a)}async getMaxAttempts(){let a;try{a=await this.maxAttemptsProvider()}catch(b){a=e.DEFAULT_MAX_ATTEMPTS}return a}async retry(a,b,c){let d,i=0,j=0,k=await this.getMaxAttempts(),{request:l}=b;for(f.HttpRequest.isInstance(l)&&(l.headers[e.INVOCATION_ID_HEADER]=h.v4());;)try{f.HttpRequest.isInstance(l)&&(l.headers[e.REQUEST_HEADER]=`attempt=${i+1}; max=${k}`),c?.beforeRequest&&await c.beforeRequest();let{response:g,output:h}=await a(b);return c?.afterRequest&&c.afterRequest(g),this.retryQuota.releaseRetryTokens(d),h.$metadata.attempts=i+1,h.$metadata.totalRetryDelay=j,{response:g,output:h}}catch(b){let a=p(b);if(i++,this.shouldRetry(a,i,k)){d=this.retryQuota.retrieveRetryTokens(a);let b=this.delayDecider(g.isThrottlingError(a)?e.THROTTLING_RETRY_DELAY_BASE:e.DEFAULT_RETRY_DELAY_BASE,i),c=Math.max(r(a.$response)||0,b);j+=c,await new Promise(a=>setTimeout(a,c));continue}throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=i,a.$metadata.totalRetryDelay=j,a}}}let r=a=>{if(!f.HttpResponse.isInstance(a))return;let b=Object.keys(a.headers).find(a=>"retry-after"===a.toLowerCase());if(!b)return;let c=a.headers[b],d=Number(c);return Number.isNaN(d)?new Date(c).getTime()-Date.now():1e3*d};class s extends q{rateLimiter;constructor(a,b){let{rateLimiter:c,...d}=b??{};super(a,d),this.rateLimiter=c??new e.DefaultRateLimiter,this.mode=e.RETRY_MODES.ADAPTIVE}async retry(a,b){return super.retry(a,b,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:a=>{this.rateLimiter.updateClientSendingRate(a)}})}}let t="AWS_MAX_ATTEMPTS",u="max_attempts",v={environmentVariableSelector:a=>{let b=a[t];if(!b)return;let c=parseInt(b);if(Number.isNaN(c))throw Error(`Environment variable ${t} mast be a number, got "${b}"`);return c},configFileSelector:a=>{let b=a[u];if(!b)return;let c=parseInt(b);if(Number.isNaN(c))throw Error(`Shared config file entry ${u} mast be a number, got "${b}"`);return c},default:e.DEFAULT_MAX_ATTEMPTS},w=a=>{let{retryStrategy:b,retryMode:c,maxAttempts:d}=a,f=i.normalizeProvider(d??e.DEFAULT_MAX_ATTEMPTS);return Object.assign(a,{maxAttempts:f,retryStrategy:async()=>b||(await i.normalizeProvider(c)()===e.RETRY_MODES.ADAPTIVE?new e.AdaptiveRetryStrategy(f):new e.StandardRetryStrategy(f))})},x="AWS_RETRY_MODE",y="retry_mode",z={environmentVariableSelector:a=>a[x],configFileSelector:a=>a[y],default:e.DEFAULT_RETRY_MODE},A=()=>a=>async b=>{let{request:c}=b;return f.HttpRequest.isInstance(c)&&(delete c.headers[e.INVOCATION_ID_HEADER],delete c.headers[e.REQUEST_HEADER]),a(b)},B={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},C=a=>({applyToStack:a=>{a.addRelativeTo(A(),B)}}),D=a=>(b,c)=>async d=>{let g=await a.retryStrategy(),i=await a.maxAttempts();if(!E(g))return g?.mode&&(c.userAgent=[...c.userAgent||[],["cfg/retry-mode",g.mode]]),g.retry(b,d);{let a=await g.acquireInitialRetryToken(c.partition_id),l=Error(),m=0,o=0,{request:q}=d,r=f.HttpRequest.isInstance(q);for(r&&(q.headers[e.INVOCATION_ID_HEADER]=h.v4());;)try{r&&(q.headers[e.REQUEST_HEADER]=`attempt=${m+1}; max=${i}`);let{response:c,output:f}=await b(d);return g.recordSuccess(a),f.$metadata.attempts=m+1,f.$metadata.totalRetryDelay=o,{response:c,output:f}}catch(e){let b=F(e);if(l=p(e),r&&k.isStreamingPayload(q))throw(c.logger instanceof j.NoOpLogger?console:c.logger)?.warn("An error was encountered in a non-retryable streaming request."),l;try{a=await g.refreshRetryTokenForRetry(a,b)}catch(a){throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=m+1,l.$metadata.totalRetryDelay=o,l}m=a.getRetryCount();let d=a.getRetryDelay();o+=d,await new Promise(a=>setTimeout(a,d))}}},E=a=>void 0!==a.acquireInitialRetryToken&&void 0!==a.refreshRetryTokenForRetry&&void 0!==a.recordSuccess,F=a=>{let b={error:a,errorType:G(a)},c=J(a.$response);return c&&(b.retryAfterHint=c),b},G=a=>g.isThrottlingError(a)?"THROTTLING":g.isTransientError(a)?"TRANSIENT":g.isServerError(a)?"SERVER_ERROR":"CLIENT_ERROR",H={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},I=a=>({applyToStack:b=>{b.add(D(a),H)}}),J=a=>{if(!f.HttpResponse.isInstance(a))return;let b=Object.keys(a.headers).find(a=>"retry-after"===a.toLowerCase());if(!b)return;let c=a.headers[b],d=Number(c);return new Date(Number.isNaN(d)?c:1e3*d)};d=s,d=u,d=y,d=t,d=x,b.qs=v,b.kN=z,d=q,d=m,d=o,d=C,d=J,b.ey=I,d=A,d=B,b.$z=w,d=D,d=H},62490:(a,b,c)=>{"use strict";let{parseContentType:d}=c(64259);function e(a){let b=a.headers,c=d(b["content-type"]);if(!c)throw Error("Malformed content type");for(let d of f){if(!d.detect(c))continue;let e={limits:a.limits,headers:b,conType:c,highWaterMark:void 0,fileHwm:void 0,defCharset:void 0,defParamCharset:void 0,preservePath:!1};return a.highWaterMark&&(e.highWaterMark=a.highWaterMark),a.fileHwm&&(e.fileHwm=a.fileHwm),e.defCharset=a.defCharset,e.defParamCharset=a.defParamCharset,e.preservePath=a.preservePath,new d(e)}throw Error(`Unsupported content type: ${b["content-type"]}`)}let f=[c(38172),c(53471)].filter(function(a){return"function"==typeof a.detect});a.exports=a=>{if(("object"!=typeof a||null===a)&&(a={}),"object"!=typeof a.headers||null===a.headers||"string"!=typeof a.headers["content-type"])throw Error("Missing Content-Type");return e(a)}},62569:(a,b,c)=>{"use strict";c.d(b,{Q:()=>d});let d=a=>{let{adminRoute:b,basePath:c="",path:d,serverURL:e}=a,f=d||"";if(b){if("/"!==b)return`${e||""}${c}${b}${f}`;else if(!f)return`${e||""}${c}${b}`}return`${e||""}${c}${f}`}},62763:(a,b,c)=>{"use strict";c.d(b,{PG:()=>m,f2:()=>l,pz:()=>k});var d=c(579),e=c(99507),f=c(42887);let g=a=>f.c.isInstance(a)?a.headers?.date??a.headers?.Date:void 0,h=(a,b)=>Math.abs((0,e.C)(b).getTime()-a)>=3e5,i=(a,b)=>{let c=Date.parse(a);return h(c,b)?c-Date.now():b},j=(a,b)=>{if(!b)throw Error(`Property \`${a}\` is not resolved for AWS SDK SigV4Auth`);return b},k=async a=>{let b=j("context",a.context),c=j("config",a.config),d=b.endpointV2?.properties?.authSchemes?.[0],e=j("signer",c.signer),f=await e(d),g=a?.signingRegion;return{config:c,signer:f,signingRegion:g,signingRegionSet:a?.signingRegionSet,signingName:a?.signingName}};class l{async sign(a,b,c){if(!d.K.isInstance(a))throw Error("The request is not an instance of `HttpRequest` and cannot be signed");let f=await k(c),{config:g,signer:h}=f,{signingRegion:i,signingName:j}=f,l=c.context;if(l?.authSchemes?.length){let[a,b]=l.authSchemes;a?.name==="sigv4a"&&b?.name==="sigv4"&&(i=b?.signingRegion??i,j=b?.signingName??j)}return await h.sign(a,{signingDate:(0,e.C)(g.systemClockOffset),signingRegion:i,signingService:j})}errorHandler(a){return b=>{let c=b.ServerTime??g(b.$response);if(c){let d=j("config",a.config),e=d.systemClockOffset;d.systemClockOffset=i(c,d.systemClockOffset),d.systemClockOffset!==e&&b.$metadata&&(b.$metadata.clockSkewCorrected=!0)}throw b}}successHandler(a,b){let c=g(a);if(c){let a=j("config",b.config);a.systemClockOffset=i(c,a.systemClockOffset)}}}let m=l},62821:(a,b,c)=>{"use strict";c.r(b),c.d(b,{AwsCrc32c:()=>f,Crc32c:()=>h,crc32c:()=>g});var d=c(92913),e=c(83572),f=function(){function a(){this.crc32c=new h}return a.prototype.update=function(a){(0,e.isEmptyData)(a)||this.crc32c.update((0,e.convertToBuffer)(a))},a.prototype.digest=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(a){return[2,(0,e.numToUint8)(this.crc32c.digest())]})})},a.prototype.reset=function(){this.crc32c=new h},a}();function g(a){return new h().update(a).digest()}var h=function(){function a(){this.checksum=0xffffffff}return a.prototype.update=function(a){var b,c;try{for(var e=(0,d.__values)(a),f=e.next();!f.done;f=e.next()){var g=f.value;this.checksum=this.checksum>>>8^j[(this.checksum^g)&255]}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return this},a.prototype.digest=function(){return(0xffffffff^this.checksum)>>>0},a}(),i=[0,0xf26b8303,0xe13b70f7,0x1350f3f4,0xc79a971f,0x35f1141c,0x26a1e7e8,0xd4ca64eb,0x8ad958cf,0x78b2dbcc,0x6be22838,0x9989ab3b,0x4d43cfd0,0xbf284cd3,0xac78bf27,0x5e133c24,0x105ec76f,0xe235446c,0xf165b798,0x30e349b,0xd7c45070,0x25afd373,0x36ff2087,0xc494a384,0x9a879fa0,0x68ec1ca3,0x7bbcef57,0x89d76c54,0x5d1d08bf,0xaf768bbc,0xbc267848,0x4e4dfb4b,0x20bd8ede,0xd2d60ddd,0xc186fe29,0x33ed7d2a,0xe72719c1,0x154c9ac2,0x61c6936,0xf477ea35,0xaa64d611,0x580f5512,0x4b5fa6e6,0xb93425e5,0x6dfe410e,0x9f95c20d,0x8cc531f9,0x7eaeb2fa,0x30e349b1,0xc288cab2,0xd1d83946,0x23b3ba45,0xf779deae,0x5125dad,0x1642ae59,0xe4292d5a,0xba3a117e,0x4851927d,0x5b016189,0xa96ae28a,0x7da08661,0x8fcb0562,0x9c9bf696,0x6ef07595,0x417b1dbc,0xb3109ebf,0xa0406d4b,0x522bee48,0x86e18aa3,0x748a09a0,0x67dafa54,0x95b17957,0xcba24573,0x39c9c670,0x2a993584,0xd8f2b687,0xc38d26c,0xfe53516f,0xed03a29b,0x1f682198,0x5125dad3,0xa34e59d0,0xb01eaa24,0x42752927,0x96bf4dcc,0x64d4cecf,0x77843d3b,0x85efbe38,0xdbfc821c,0x2997011f,0x3ac7f2eb,0xc8ac71e8,0x1c661503,0xee0d9600,0xfd5d65f4,0xf36e6f7,0x61c69362,0x93ad1061,0x80fde395,0x72966096,0xa65c047d,0x5437877e,0x4767748a,0xb50cf789,0xeb1fcbad,0x197448ae,0xa24bb5a,0xf84f3859,0x2c855cb2,0xdeeedfb1,0xcdbe2c45,0x3fd5af46,0x7198540d,0x83f3d70e,0x90a324fa,0x62c8a7f9,0xb602c312,0x44694011,0x5739b3e5,0xa55230e6,0xfb410cc2,0x92a8fc1,0x1a7a7c35,0xe811ff36,0x3cdb9bdd,0xceb018de,0xdde0eb2a,0x2f8b6829,0x82f63b78,0x709db87b,0x63cd4b8f,0x91a6c88c,0x456cac67,0xb7072f64,0xa457dc90,0x563c5f93,0x82f63b7,0xfa44e0b4,0xe9141340,0x1b7f9043,0xcfb5f4a8,0x3dde77ab,0x2e8e845f,0xdce5075c,0x92a8fc17,0x60c37f14,0x73938ce0,0x81f80fe3,0x55326b08,0xa759e80b,0xb4091bff,0x466298fc,0x1871a4d8,0xea1a27db,0xf94ad42f,0xb21572c,0xdfeb33c7,0x2d80b0c4,0x3ed04330,0xccbbc033,0xa24bb5a6,0x502036a5,0x4370c551,0xb11b4652,0x65d122b9,0x97baa1ba,0x84ea524e,0x7681d14d,0x2892ed69,0xdaf96e6a,0xc9a99d9e,0x3bc21e9d,0xef087a76,0x1d63f975,0xe330a81,0xfc588982,0xb21572c9,0x407ef1ca,0x532e023e,0xa145813d,0x758fe5d6,0x87e466d5,0x94b49521,0x66df1622,0x38cc2a06,0xcaa7a905,0xd9f75af1,0x2b9cd9f2,0xff56bd19,0xd3d3e1a,0x1e6dcdee,0xec064eed,0xc38d26c4,0x31e6a5c7,0x22b65633,0xd0ddd530,0x417b1db,0xf67c32d8,0xe52cc12c,0x1747422f,0x49547e0b,0xbb3ffd08,0xa86f0efc,0x5a048dff,0x8ecee914,0x7ca56a17,0x6ff599e3,0x9d9e1ae0,0xd3d3e1ab,0x21b862a8,0x32e8915c,0xc083125f,0x144976b4,0xe622f5b7,0xf5720643,0x7198540,0x590ab964,0xab613a67,0xb831c993,0x4a5a4a90,0x9e902e7b,0x6cfbad78,0x7fab5e8c,0x8dc0dd8f,0xe330a81a,0x115b2b19,0x20bd8ed,0xf0605bee,0x24aa3f05,0xd6c1bc06,0xc5914ff2,0x37faccf1,0x69e9f0d5,0x9b8273d6,0x88d28022,0x7ab90321,0xae7367ca,0x5c18e4c9,0x4f48173d,0xbd23943e,0xf36e6f75,0x105ec76,0x12551f82,0xe03e9c81,0x34f4f86a,0xc69f7b69,0xd5cf889d,0x27a40b9e,0x79b737ba,0x8bdcb4b9,0x988c474d,0x6ae7c44e,0xbe2da0a5,0x4c4623a6,0x5f16d052,0xad7d5351],j=(0,e.uint32ArrayFrom)(i)},62853:(a,b,c)=>{"use strict";c.d(b,{U:()=>aK});var d,e,f,g,h,i=c(29021),j=c(76760),k=c(73024),l=c(98995);let m=a=>null!==a&&"object"==typeof a,o=(a,b)=>Object.assign(Error(`[${a}]: ${b}`),{code:a}),p="ERR_INVALID_PACKAGE_CONFIG",q="ERR_INVALID_PACKAGE_TARGET",r="ERR_PACKAGE_PATH_NOT_EXPORTED",s=/^\d+$/,t=/^(\.{1,2}|node_modules)$/i,u=/\/|\\/;var v=(a=>(a.Export="exports",a.Import="imports",a))(v||{});let w=(a,b,c,d,e)=>{if(null==b)return[];if("string"==typeof b){let[c,...d]=b.split(u);if(".."===c||d.some(a=>t.test(a)))throw o(q,`Invalid "${a}" target "${b}" defined in the package config`);return[e?b.replace(/\*/g,e):b]}if(Array.isArray(b))return b.flatMap(b=>w(a,b,c,d,e));if(m(b)){for(let f of Object.keys(b)){if(s.test(f))throw o(p,"Cannot contain numeric property keys");if("default"===f||d.includes(f))return w(a,b[f],c,d,e)}return[]}throw o(q,`Invalid "${a}" target "${b}"`)},x="*",y=(a,b)=>{let c=a.indexOf(x),d=b.indexOf(x);return c===d?b.length>a.length:d>c};function z(a,b){let c,d;if(!b.includes(x)&&a.hasOwnProperty(b))return[b];for(let e of Object.keys(a))if(e.includes(x)){let[a,f,g]=e.split(x);if(void 0===g&&b.startsWith(a)&&b.endsWith(f)){let g=b.slice(a.length,-f.length||void 0);g&&(!c||y(c,e))&&(c=e,d=g)}}return[c,d]}let A=a=>Object.keys(a).reduce((a,b)=>{let c=""===b||"."!==b[0];if(void 0===a||a===c)return c;throw o(p,'"exports" cannot contain some keys starting with "." and some not')},void 0),B=/^\w+:/,C=(a,b,c)=>{if(!a)throw Error('"exports" is required');b=""===b?".":`./${b}`,("string"==typeof a||Array.isArray(a)||m(a)&&A(a))&&(a={".":a});let[d,e]=z(a,b),f=w(v.Export,a[d],b,c,e);if(0===f.length)throw o(r,"."===b?'No "exports" main defined':`Package subpath '${b}' is not defined by "exports"`);for(let a of f)if(!a.startsWith("./")&&!B.test(a))throw o(q,`Invalid "exports" target "${a}" defined in the package config`);return f};var D=Object.defineProperty,E=(a,b)=>D(a,"name",{value:b,configurable:!0});function F(a){return a.startsWith("\\\\?\\")?a:a.replace(/\\/g,"/")}E(F,"slash");let G=E(a=>{let b=k[a];return(c,...d)=>{let e=`${a}:${d.join(":")}`,f=null==c?void 0:c.get(e);return void 0===f&&(f=Reflect.apply(b,k,d),null==c||c.set(e,f)),f}},"cacheFs"),H=G("existsSync"),I=G("readFileSync"),J=G("statSync"),K=E((a,b,c)=>{for(;;){let d=j.posix.join(a,b);if(H(c,d))return d;let e=j.dirname(a);if(e===a)return;a=e}},"findUp"),L=/^\.{1,2}(\/.*)?$/,M=E(a=>{let b=F(a);return L.test(b)?b:`./${b}`},"normalizeRelativePath");function N(a,b=!1){let c=a.length,d=0,e="",f=0,g=16,h=0,i=0,j=0,k=0,l=0;function m(b,c){let e=0,f=0;for(;e<b||!c;){let b=a.charCodeAt(d);if(b>=48&&b<=57)f=16*f+b-48;else if(b>=65&&b<=70)f=16*f+b-65+10;else if(b>=97&&b<=102)f=16*f+b-97+10;else break;d++,e++}return e<b&&(f=-1),f}function o(a){d=a,e="",f=0,g=16,l=0}function p(){let b=d;if(48===a.charCodeAt(d))d++;else for(d++;d<a.length&&Q(a.charCodeAt(d));)d++;if(d<a.length&&46===a.charCodeAt(d))if(!(++d<a.length&&Q(a.charCodeAt(d))))return l=3,a.substring(b,d);else for(d++;d<a.length&&Q(a.charCodeAt(d));)d++;let c=d;if(d<a.length&&(69===a.charCodeAt(d)||101===a.charCodeAt(d)))if((++d<a.length&&43===a.charCodeAt(d)||45===a.charCodeAt(d))&&d++,d<a.length&&Q(a.charCodeAt(d))){for(d++;d<a.length&&Q(a.charCodeAt(d));)d++;c=d}else l=3;return a.substring(b,c)}function q(){let b="",e=d;for(;;){if(d>=c){b+=a.substring(e,d),l=2;break}let f=a.charCodeAt(d);if(34===f){b+=a.substring(e,d),d++;break}if(92===f){if(b+=a.substring(e,d),++d>=c){l=2;break}switch(a.charCodeAt(d++)){case 34:b+='"';break;case 92:b+="\\";break;case 47:b+="/";break;case 98:b+="\b";break;case 102:b+="\f";break;case 110:b+=`
`;break;case 114:b+="\r";break;case 116:b+="	";break;case 117:let f=m(4,!0);f>=0?b+=String.fromCharCode(f):l=4;break;default:l=5}e=d;continue}if(f>=0&&f<=31)if(P(f)){b+=a.substring(e,d),l=2;break}else l=6;d++}return b}function r(){if(e="",l=0,f=d,i=h,k=j,d>=c)return f=c,g=17;let b=a.charCodeAt(d);if(O(b)){do d++,e+=String.fromCharCode(b),b=a.charCodeAt(d);while(O(b));return g=15}if(P(b))return d++,e+=String.fromCharCode(b),13===b&&10===a.charCodeAt(d)&&(d++,e+=`
`),h++,j=d,g=14;switch(b){case 123:return d++,g=1;case 125:return d++,g=2;case 91:return d++,g=3;case 93:return d++,g=4;case 58:return d++,g=6;case 44:return d++,g=5;case 34:return d++,e=q(),g=10;case 47:let m=d-1;if(47===a.charCodeAt(d+1)){for(d+=2;d<c&&!P(a.charCodeAt(d));)d++;return e=a.substring(m,d),g=12}if(42===a.charCodeAt(d+1)){d+=2;let b=c-1,f=!1;for(;d<b;){let b=a.charCodeAt(d);if(42===b&&47===a.charCodeAt(d+1)){d+=2,f=!0;break}d++,P(b)&&(13===b&&10===a.charCodeAt(d)&&d++,h++,j=d)}return f||(d++,l=1),e=a.substring(m,d),g=13}return e+=String.fromCharCode(b),d++,g=16;case 45:if(e+=String.fromCharCode(b),++d===c||!Q(a.charCodeAt(d)))return g=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return e+=p(),g=11;default:for(;d<c&&s(b);)d++,b=a.charCodeAt(d);if(f!==d){switch(e=a.substring(f,d)){case"true":return g=8;case"false":return g=9;case"null":return g=7}return g=16}return e+=String.fromCharCode(b),d++,g=16}}function s(a){if(O(a)||P(a))return!1;switch(a){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function t(){let a;do a=r();while(a>=12&&a<=15);return a}return E(m,"scanHexDigits"),E(o,"setPosition"),E(p,"scanNumber"),E(q,"scanString"),E(r,"scanNext"),E(s,"isUnknownContentCharacter"),E(t,"scanNextNonTrivia"),{setPosition:o,getPosition:E(()=>d,"getPosition"),scan:b?t:r,getToken:E(()=>g,"getToken"),getTokenValue:E(()=>e,"getTokenValue"),getTokenOffset:E(()=>f,"getTokenOffset"),getTokenLength:E(()=>d-f,"getTokenLength"),getTokenStartLine:E(()=>i,"getTokenStartLine"),getTokenStartCharacter:E(()=>f-k,"getTokenStartCharacter"),getTokenError:E(()=>l,"getTokenError")}}function O(a){return 32===a||9===a}function P(a){return 10===a||13===a}function Q(a){return a>=48&&a<=57}E(N,"createScanner"),E(O,"isWhiteSpace"),E(P,"isLineBreak"),E(Q,"isDigit"),function(a){a[a.lineFeed=10]="lineFeed",a[a.carriageReturn=13]="carriageReturn",a[a.space=32]="space",a[a._0=48]="_0",a[a._1=49]="_1",a[a._2=50]="_2",a[a._3=51]="_3",a[a._4=52]="_4",a[a._5=53]="_5",a[a._6=54]="_6",a[a._7=55]="_7",a[a._8=56]="_8",a[a._9=57]="_9",a[a.a=97]="a",a[a.b=98]="b",a[a.c=99]="c",a[a.d=100]="d",a[a.e=101]="e",a[a.f=102]="f",a[a.g=103]="g",a[a.h=104]="h",a[a.i=105]="i",a[a.j=106]="j",a[a.k=107]="k",a[a.l=108]="l",a[a.m=109]="m",a[a.n=110]="n",a[a.o=111]="o",a[a.p=112]="p",a[a.q=113]="q",a[a.r=114]="r",a[a.s=115]="s",a[a.t=116]="t",a[a.u=117]="u",a[a.v=118]="v",a[a.w=119]="w",a[a.x=120]="x",a[a.y=121]="y",a[a.z=122]="z",a[a.A=65]="A",a[a.B=66]="B",a[a.C=67]="C",a[a.D=68]="D",a[a.E=69]="E",a[a.F=70]="F",a[a.G=71]="G",a[a.H=72]="H",a[a.I=73]="I",a[a.J=74]="J",a[a.K=75]="K",a[a.L=76]="L",a[a.M=77]="M",a[a.N=78]="N",a[a.O=79]="O",a[a.P=80]="P",a[a.Q=81]="Q",a[a.R=82]="R",a[a.S=83]="S",a[a.T=84]="T",a[a.U=85]="U",a[a.V=86]="V",a[a.W=87]="W",a[a.X=88]="X",a[a.Y=89]="Y",a[a.Z=90]="Z",a[a.asterisk=42]="asterisk",a[a.backslash=92]="backslash",a[a.closeBrace=125]="closeBrace",a[a.closeBracket=93]="closeBracket",a[a.colon=58]="colon",a[a.comma=44]="comma",a[a.dot=46]="dot",a[a.doubleQuote=34]="doubleQuote",a[a.minus=45]="minus",a[a.openBrace=123]="openBrace",a[a.openBracket=91]="openBracket",a[a.plus=43]="plus",a[a.slash=47]="slash",a[a.formFeed=12]="formFeed",a[a.tab=9]="tab"}(d||(d={})),Array(20).fill(0).map((a,b)=>" ".repeat(b));let R=200;function S(a,b=[],c=e.DEFAULT){let d=null,f=[],g=[];function h(a){Array.isArray(f)?f.push(a):null!==d&&(f[d]=a)}return E(h,"onValue"),T(a,{onObjectBegin:E(()=>{let a={};h(a),g.push(f),f=a,d=null},"onObjectBegin"),onObjectProperty:E(a=>{d=a},"onObjectProperty"),onObjectEnd:E(()=>{f=g.pop()},"onObjectEnd"),onArrayBegin:E(()=>{let a=[];h(a),g.push(f),f=a,d=null},"onArrayBegin"),onArrayEnd:E(()=>{f=g.pop()},"onArrayEnd"),onLiteralValue:h,onError:E((a,c,d)=>{b.push({error:a,offset:c,length:d})},"onError")},c),f[0]}function T(a,b,c=e.DEFAULT){let d=N(a,!1),f=[];function g(a){return a?()=>a(d.getTokenOffset(),d.getTokenLength(),d.getTokenStartLine(),d.getTokenStartCharacter()):()=>!0}function h(a){return a?()=>a(d.getTokenOffset(),d.getTokenLength(),d.getTokenStartLine(),d.getTokenStartCharacter(),()=>f.slice()):()=>!0}function i(a){return a?b=>a(b,d.getTokenOffset(),d.getTokenLength(),d.getTokenStartLine(),d.getTokenStartCharacter()):()=>!0}function j(a){return a?b=>a(b,d.getTokenOffset(),d.getTokenLength(),d.getTokenStartLine(),d.getTokenStartCharacter(),()=>f.slice()):()=>!0}E(g,"toNoArgVisit"),E(h,"toNoArgVisitWithPath"),E(i,"toOneArgVisit"),E(j,"toOneArgVisitWithPath");let k=h(b.onObjectBegin),l=j(b.onObjectProperty),m=g(b.onObjectEnd),o=h(b.onArrayBegin),p=g(b.onArrayEnd),q=j(b.onLiteralValue),r=i(b.onSeparator),s=g(b.onComment),t=i(b.onError),u=c&&c.disallowComments,v=c&&c.allowTrailingComma;function w(){for(;;){let a=d.scan();switch(d.getTokenError()){case 4:x(14);break;case 5:x(15);break;case 3:x(13);break;case 1:u||x(11);break;case 2:x(12);break;case 6:x(16)}switch(a){case 12:case 13:u?x(10):s();break;case 16:x(1);break;case 15:case 14:break;default:return a}}}function x(a,b=[],c=[]){if(t(a),b.length+c.length>0){let a=d.getToken();for(;17!==a;){if(-1!==b.indexOf(a)){w();break}if(-1!==c.indexOf(a))break;a=w()}}}function y(a){let b=d.getTokenValue();return a?q(b):(l(b),f.push(b)),w(),!0}function z(){switch(d.getToken()){case 11:let a=Number(d.getTokenValue());isNaN(a)&&(x(2),a=0),q(a);break;case 7:q(null);break;case 8:q(!0);break;case 9:q(!1);break;default:return!1}return w(),!0}function A(){return 10!==d.getToken()?(x(3,[],[2,5]),!1):(y(!1),6===d.getToken()?(r(":"),w(),D()||x(4,[],[2,5])):x(5,[],[2,5]),f.pop(),!0)}function B(){k(),w();let a=!1;for(;2!==d.getToken()&&17!==d.getToken();){if(5===d.getToken()){if(a||x(4,[],[]),r(","),w(),2===d.getToken()&&v)break}else a&&x(6,[],[]);A()||x(4,[],[2,5]),a=!0}return m(),2!==d.getToken()?x(7,[2],[]):w(),!0}function C(){o(),w();let a=!0,b=!1;for(;4!==d.getToken()&&17!==d.getToken();){if(5===d.getToken()){if(b||x(4,[],[]),r(","),w(),4===d.getToken()&&v)break}else b&&x(6,[],[]);a?(f.push(0),a=!1):f[f.length-1]++,D()||x(4,[],[4,5]),b=!0}return p(),a||f.pop(),4!==d.getToken()?x(8,[4],[]):w(),!0}function D(){switch(d.getToken()){case 3:return C();case 1:return B();case 10:return y(!0);default:return z()}}return E(w,"scanNext"),E(x,"handleError"),E(y,"parseString"),E(z,"parseLiteral"),E(A,"parseProperty"),E(B,"parseObject"),E(C,"parseArray"),E(D,"parseValue"),w(),17===d.getToken()?!!c.allowEmptyContent||(x(4,[],[]),!1):D()?(17!==d.getToken()&&x(9,[],[]),!0):(x(4,[],[]),!1)}Array(200).fill(0).map((a,b)=>`
`+" ".repeat(b)),Array(R).fill(0).map((a,b)=>"\r"+" ".repeat(b)),Array(R).fill(0).map((a,b)=>`\r
`+" ".repeat(b)),Array(R).fill(0).map((a,b)=>`
`+"	".repeat(b)),Array(R).fill(0).map((a,b)=>"\r"+"	".repeat(b)),Array(R).fill(0).map((a,b)=>`\r
`+"	".repeat(b)),function(a){a.DEFAULT={allowTrailingComma:!1}}(e||(e={})),E(S,"parse$1"),E(T,"visit"),function(a){a[a.None=0]="None",a[a.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",a[a.UnexpectedEndOfString=2]="UnexpectedEndOfString",a[a.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",a[a.InvalidUnicode=4]="InvalidUnicode",a[a.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",a[a.InvalidCharacter=6]="InvalidCharacter"}(f||(f={})),function(a){a[a.OpenBraceToken=1]="OpenBraceToken",a[a.CloseBraceToken=2]="CloseBraceToken",a[a.OpenBracketToken=3]="OpenBracketToken",a[a.CloseBracketToken=4]="CloseBracketToken",a[a.CommaToken=5]="CommaToken",a[a.ColonToken=6]="ColonToken",a[a.NullKeyword=7]="NullKeyword",a[a.TrueKeyword=8]="TrueKeyword",a[a.FalseKeyword=9]="FalseKeyword",a[a.StringLiteral=10]="StringLiteral",a[a.NumericLiteral=11]="NumericLiteral",a[a.LineCommentTrivia=12]="LineCommentTrivia",a[a.BlockCommentTrivia=13]="BlockCommentTrivia",a[a.LineBreakTrivia=14]="LineBreakTrivia",a[a.Trivia=15]="Trivia",a[a.Unknown=16]="Unknown",a[a.EOF=17]="EOF"}(g||(g={}));let U=S;!function(a){a[a.InvalidSymbol=1]="InvalidSymbol",a[a.InvalidNumberFormat=2]="InvalidNumberFormat",a[a.PropertyNameExpected=3]="PropertyNameExpected",a[a.ValueExpected=4]="ValueExpected",a[a.ColonExpected=5]="ColonExpected",a[a.CommaExpected=6]="CommaExpected",a[a.CloseBraceExpected=7]="CloseBraceExpected",a[a.CloseBracketExpected=8]="CloseBracketExpected",a[a.EndOfFileExpected=9]="EndOfFileExpected",a[a.InvalidCommentToken=10]="InvalidCommentToken",a[a.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",a[a.UnexpectedEndOfString=12]="UnexpectedEndOfString",a[a.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",a[a.InvalidUnicode=14]="InvalidUnicode",a[a.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",a[a.InvalidCharacter=16]="InvalidCharacter"}(h||(h={}));let V=E((a,b)=>U(I(b,a,"utf8")),"readJsonc"),W=Symbol("implicitBaseUrl"),X="${configDir}",Y=E(()=>{let{findPnpApi:a}=l;return a&&a(process.cwd())},"getPnpApi"),Z=E((a,b,c,d)=>{let e=`resolveFromPackageJsonPath:${a}:${b}:${c}`;if(null!=d&&d.has(e))return d.get(e);let f=V(a,d);if(!f)return;let g=b||"tsconfig.json";if(!c&&f.exports)try{let[a]=C(f.exports,b,["require","types"]);g=a}catch{return!1}else!b&&f.tsconfig&&(g=f.tsconfig);return g=j.join(a,"..",g),null==d||d.set(e,g),g},"resolveFromPackageJsonPath"),$="package.json",_="tsconfig.json",aa=E((a,b,c)=>{let d=a;if(".."===a&&(d=j.join(d,_)),"."===a[0]&&(d=j.resolve(b,d)),j.isAbsolute(d)){if(H(c,d)){if(J(c,d).isFile())return d}else if(!d.endsWith(".json")){let a=`${d}.json`;if(H(c,a))return a}return}let[e,...f]=a.split("/"),g="@"===e[0]?`${e}/${f.shift()}`:e,h=f.join("/"),i=Y();if(i){let{resolveRequest:d}=i;try{if(g===a){let a=d(j.join(g,$),b);if(a){let b=Z(a,h,!1,c);if(b&&H(c,b))return b}}else{let c;try{c=d(a,b,{extensions:[".json"]})}catch{c=d(j.join(a,_),b)}if(c)return c}}catch{}}let k=K(j.resolve(b),j.join("node_modules",g),c);if(!k||!J(c,k).isDirectory())return;let l=j.join(k,$);if(H(c,l)){let a=Z(l,h,!1,c);if(!1===a)return;if(a&&H(c,a)&&J(c,a).isFile())return a}let m=j.join(k,h),o=m.endsWith(".json");if(!o){let a=`${m}.json`;if(H(c,a))return a}if(H(c,m)){if(J(c,m).isDirectory()){let a=j.join(m,$);if(H(c,a)){let b=Z(a,"",!0,c);if(b&&H(c,b))return b}let b=j.join(m,_);if(H(c,b))return b}else if(o)return m}},"resolveExtendsPath"),ab=E((a,b)=>M(j.relative(a,b)),"pathRelative"),ac=["files","include","exclude"],ad=E((a,b,c,d)=>{let e=aa(a,b,d);if(!e)throw Error(`File '${a}' not found.`);if(c.has(e))throw Error(`Circularity detected while resolving configuration: ${e}`);c.add(e);let f=j.dirname(e),g=af(e,d,c);delete g.references;let{compilerOptions:h}=g;if(h){let{baseUrl:a}=h;a&&!a.startsWith(X)&&(h.baseUrl=F(j.relative(b,j.join(f,a)))||"./");let{outDir:c}=h;c&&(c.startsWith(X)||(c=j.relative(b,j.join(f,c))),h.outDir=F(c)||"./")}for(let a of ac){let c=g[a];c&&(g[a]=c.map(a=>a.startsWith(X)?a:F(j.relative(b,j.join(f,a)))))}return g},"resolveExtends"),ae=["outDir","declarationDir"],af=E((a,b,c=new Set)=>{let d;try{d=V(a,b)||{}}catch{throw Error(`Cannot resolve tsconfig at path: ${a}`)}if("object"!=typeof d)throw SyntaxError(`Failed to parse tsconfig at: ${a}`);let e=j.dirname(a);if(d.compilerOptions){let{compilerOptions:a}=d;a.paths&&!a.baseUrl&&(a[W]=e)}if(d.extends){let a=Array.isArray(d.extends)?d.extends:[d.extends];for(let f of(delete d.extends,a.reverse())){let a=ad(f,e,new Set(c),b),g={...a,...d,compilerOptions:{...a.compilerOptions,...d.compilerOptions}};a.watchOptions&&(g.watchOptions={...a.watchOptions,...d.watchOptions}),d=g}}if(d.compilerOptions){let{compilerOptions:a}=d;for(let b of["baseUrl","rootDir"]){let c=a[b];if(c&&!c.startsWith(X)){let d=j.resolve(e,c),f=ab(e,d);a[b]=f}}for(let b of ae){let c=a[b];c&&(Array.isArray(d.exclude)||(d.exclude=[]),d.exclude.includes(c)||d.exclude.push(c),c.startsWith(X)||(c=M(c)),a[b]=c)}}else d.compilerOptions={};if(d.include?(d.include=d.include.map(F),d.files&&delete d.files):d.files&&(d.files=d.files.map(a=>a.startsWith(X)?a:M(a))),d.watchOptions){let{watchOptions:a}=d;a.excludeDirectories&&(a.excludeDirectories=a.excludeDirectories.map(a=>F(j.resolve(e,a))))}return d},"_parseTsconfig"),ag=E((a,b)=>{if(a.startsWith(X))return F(j.join(b,a.slice(X.length)))},"interpolateConfigDir"),ah=["outDir","declarationDir","outFile","rootDir","baseUrl","tsBuildInfoFile"],ai=E((a,b=new Map)=>{let c=j.resolve(a),d=af(c,b),e=j.dirname(c),{compilerOptions:f}=d;if(f){for(let a of ah){let b=f[a];if(b){let c=ag(b,e);f[a]=c?ab(e,c):b}}for(let a of["rootDirs","typeRoots"]){let b=f[a];b&&(f[a]=b.map(a=>{let b=ag(a,e);return b?ab(e,b):a}))}let{paths:a}=f;if(a)for(let b of Object.keys(a))a[b]=a[b].map(a=>{var b;return null!=(b=ag(a,e))?b:a})}for(let a of ac){let b=d[a];b&&(d[a]=b.map(a=>{var b;return null!=(b=ag(a,e))?b:a}))}return d},"parseTsconfig"),aj=E((a=process.cwd(),b="tsconfig.json",c=new Map)=>{let d=K(F(a),b,c);if(!d)return null;let e=ai(d,c);return{path:d,config:e}},"getTsconfig"),ak=/\*/g,al=E((a,b)=>{let c=a.match(ak);if(c&&c.length>1)throw Error(b)},"assertStarCount"),am=E(a=>{if(a.includes("*")){let[b,c]=a.split("*");return{prefix:b,suffix:c}}return a},"parsePattern"),an=E(({prefix:a,suffix:b},c)=>c.startsWith(a)&&c.endsWith(b),"isPatternMatch"),ao=E((a,b,c)=>Object.entries(a).map(([a,d])=>(al(a,`Pattern '${a}' can have at most one '*' character.`),{pattern:am(a),substitutions:d.map(d=>{if(al(d,`Substitution '${d}' in pattern '${a}' can have at most one '*' character.`),!b&&!L.test(d))throw Error("Non-relative paths are not allowed when 'baseUrl' is not set. Did you forget a leading './'?");return j.resolve(c,d)})})),"parsePaths"),ap=(E(a=>{let{compilerOptions:b}=a.config;if(!b)return null;let{baseUrl:c,paths:d}=b;if(!c&&!d)return null;let e=W in b&&b[W],f=j.resolve(j.dirname(a.path),c||e||"."),g=d?ao(d,c,f):[];return a=>{if(L.test(a))return[];let b=[];for(let c of g){if(c.pattern===a)return c.substitutions.map(F);"string"!=typeof c.pattern&&b.push(c)}let d,e=-1;for(let c of b)an(c.pattern,a)&&c.pattern.prefix.length>e&&(e=c.pattern.prefix.length,d=c);if(!d)return c?[F(j.join(f,a))]:[];let h=a.slice(d.pattern.prefix.length,a.length-d.pattern.suffix.length);return d.substitutions.map(a=>F(a.replace("*",h)))}},"createPathsMatcher"),E(a=>{let b="";for(let c=0;c<a.length;c+=1){let d=a[c],e=d.toUpperCase();b+=d===e?d.toLowerCase():e}return b},"s")),aq=65,ar=97,as=E(()=>Math.floor(26*Math.random()),"m"),at=E(a=>Array.from({length:a},()=>String.fromCodePoint(as()+(Math.random()>.5?aq:ar))).join(""),"S"),au=E((a=i)=>{let b=process.execPath;if(a.existsSync(b))return!a.existsSync(ap(b));let c=`/${at(10)}`;a.writeFileSync(c,"");let d=!a.existsSync(ap(c));return a.unlinkSync(c),d},"l"),{join:av}=j.posix,aw={ts:[".ts",".tsx",".d.ts"],cts:[".cts",".d.cts"],mts:[".mts",".d.mts"]},ax=E(a=>{let b=[...aw.ts],c=[...aw.cts],d=[...aw.mts];return null!=a&&a.allowJs&&(b.push(".js",".jsx"),c.push(".cjs"),d.push(".mjs")),[...b,...c,...d]},"getSupportedExtensions"),ay=E(a=>{let b=[];if(!a)return b;let{outDir:c,declarationDir:d}=a;return c&&b.push(c),d&&b.push(d),b},"getDefaultExcludeSpec"),az=E(a=>a.replaceAll(/[.*+?^${}()|[\]\\]/g,String.raw`\$&`),"escapeForRegexp"),aA=["node_modules","bower_components","jspm_packages"],aB=`(?!(${aA.join("|")})(/|$))`,aC=/(?:^|\/)[^.*?]+$/,aD="**/*",aE="[^/]",aF="[^./]",aG="win32"===process.platform;E(({config:a,path:b},c=au())=>{if("extends"in a)throw Error("tsconfig#extends must be resolved. Use getTsconfig or parseTsconfig to resolve it.");if(!j.isAbsolute(b))throw Error("The tsconfig path must be absolute");aG&&(b=F(b));let d=j.dirname(b),{files:e,include:f,exclude:g,compilerOptions:h}=a,i=null==e?void 0:e.map(a=>av(d,a)),k=ax(h),l=c?"":"i",m=(g||ay(h)).map(a=>{let b=az(av(d,a)).replaceAll(String.raw`\*\*/`,"(.+/)?").replaceAll(String.raw`\*`,`${aE}*`).replaceAll(String.raw`\?`,aE);return RegExp(`^${b}($|/)`,l)}),o=e||f?f:[aD],p=o?o.map(a=>{let b=av(d,a);aC.test(b)&&(b=av(b,aD));let c=az(b).replaceAll(String.raw`/\*\*`,`(/${aB}${aF}${aE}*)*?`).replaceAll(/(\/)?\\\*/g,(a,b)=>{let c=`(${aF}|(\\.(?!min\\.js$))?)*`;return b?`/${aB}${aF}${c}`:c}).replaceAll(/(\/)?\\\?/g,(a,b)=>{let c=aE;return b?`/${aB}${c}`:c});return RegExp(`^${c}$`,l)}):void 0;return b=>{if(!j.isAbsolute(b))throw Error("filePath must be absolute");if(aG&&(b=F(b)),null!=i&&i.includes(b)||!(!k.some(a=>b.endsWith(a))||m.some(a=>a.test(b)))&&p&&p.some(a=>a.test(b)))return a}},"createFilesMatcher");var aH=c(33873);let aI=a=>i.readdirSync(a).filter(a=>(a.endsWith(".ts")||a.endsWith(".js"))&&"index.ts"!==a&&"index.js"!==a).sort(),aJ=a=>{let b=aj(),c=b?.config?.compilerOptions?.moduleResolution==="NodeNext"?".js":"",d="",e="export const migrations = [\n";return a.forEach((b,f)=>{let g=b.replace(/\.[^/.]+$/,"");d+=`import * as migration_${g} from './${g}${c}';
`,e+=`  {
    up: migration_${g}.up,
    down: migration_${g}.down,
    name: '${g}'${f!==a.length-1?",":""}
  },
`}),e+="];\n",d+"\n"+e},aK=a=>{let b=aJ(aI(a.migrationsDir));i.writeFileSync(aH.join(a.migrationsDir,"index.ts"),b)}},62879:(a,b,c)=>{var d=c(71179),e=function(){},f=global.Bare?queueMicrotask:process.nextTick.bind(process),g=function(a){return a.setHeader&&"function"==typeof a.abort},h=function(a){return a.stdio&&Array.isArray(a.stdio)&&3===a.stdio.length},i=function(a,b,c){if("function"==typeof b)return i(a,null,b);b||(b={}),c=d(c||e);var j=a._writableState,k=a._readableState,l=b.readable||!1!==b.readable&&a.readable,m=b.writable||!1!==b.writable&&a.writable,o=!1,p=function(){a.writable||q()},q=function(){m=!1,l||c.call(a)},r=function(){l=!1,m||c.call(a)},s=function(b){c.call(a,b?Error("exited with error code: "+b):null)},t=function(b){c.call(a,b)},u=function(){f(v)},v=function(){if(!o&&(l&&!(k&&k.ended&&!k.destroyed)||m&&!(j&&j.ended&&!j.destroyed)))return c.call(a,Error("premature close"))},w=function(){a.req.on("finish",q)};return g(a)?(a.on("complete",q),a.on("abort",u),a.req?w():a.on("request",w)):m&&!j&&(a.on("end",p),a.on("close",p)),h(a)&&a.on("exit",s),a.on("end",r),a.on("finish",q),!1!==b.error&&a.on("error",t),a.on("close",u),function(){o=!0,a.removeListener("complete",q),a.removeListener("abort",u),a.removeListener("request",w),a.req&&a.req.removeListener("finish",q),a.removeListener("end",p),a.removeListener("close",p),a.removeListener("finish",q),a.removeListener("exit",s),a.removeListener("end",r),a.removeListener("error",t),a.removeListener("close",u)}};a.exports=i},62918:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(86397),e=d.operators,f={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},g={message:({keyword:a,schemaCode:b})=>(0,d.str)`must be ${f[a].okStr} ${b}`,params:({keyword:a,schemaCode:b})=>(0,d._)`{comparison: ${f[a].okStr}, limit: ${b}}`};b.default={keyword:Object.keys(f),type:"number",schemaType:"number",$data:!0,error:g,code(a){let{keyword:b,data:c,schemaCode:e}=a;a.fail$data((0,d._)`${c} ${f[b].fail} ${e} || isNaN(${c})`)}}},62985:(a,b,c)=>{"use strict";c.d(b,{bN:()=>o});var d=c(37830),e=c(51455),f=c(19074),g=c(36995),h=c(2173);class i extends g.G{constructor(a,b){super(b),this.fileHandle=a}async readBuffer(a,b){let c=this.normalizeOptions(a,b);if(this.position=c.position,0===c.length)return 0;let d=await this.fileHandle.read(a,c.offset,c.length,c.position);if(this.position+=d.bytesRead,d.bytesRead<c.length&&(!b||!b.mayBeLess))throw new h.d1;return d.bytesRead}async peekBuffer(a,b){let c=this.normalizeOptions(a,b),d=await this.fileHandle.read(a,c.offset,c.length,c.position);if(!c.mayBeLess&&d.bytesRead<c.length)throw new h.d1;return d.bytesRead}async close(){return await this.fileHandle.close(),super.close()}}async function j(a){let b=await (0,e.open)(a,"r"),c=await b.stat();return new i(b,{fileInfo:{path:a,size:c.size}})}async function k(a,b){let c=b??{};if(c.fileInfo=c.fileInfo??{},a.path){let b=await (0,e.stat)(a.path);c.fileInfo.path=a.path,c.fileInfo.size=b.size}return(0,f.n7)(a,c)}var l=c(63181);class m extends l.U1{async fromStream(a){let b=await (a instanceof d.ReadableStream?f.Xx(a):k(a));try{return super.fromTokenizer(b)}finally{await b.close()}}async fromFile(a){let b=await j(a);try{return await super.fromTokenizer(b)}finally{await b.close()}}async toDetectionStream(a,b={}){let{default:d}=await Promise.resolve().then(c.t.bind(c,57075,19)),{sampleSize:e=l.rB}=b;return new Promise((b,c)=>{a.on("error",c),a.once("readable",()=>{(async()=>{try{let g=new d.PassThrough,h=d.pipeline?d.pipeline(a,g,()=>{}):a.pipe(g),i=a.read(e)??a.read()??new Uint8Array(0);try{g.fileType=await this.fromBuffer(i)}catch(a){a instanceof f.d1?g.fileType=void 0:c(a)}b(h)}catch(a){c(a)}})()})})}}async function o(a,b){return new m(b).fromFile(a,b)}},63011:(a,b,c)=>{"use strict";function d(a){if(!a)return null;let b="string"==typeof a?a:a.path,c="",d="default";return b?.includes("#")?[c,d]=b.split("#"):c=b,"object"==typeof a&&a.exportName&&(d=a.exportName),{exportName:d,path:c}}c.d(b,{R:()=>d})},63019:(a,b)=>{"use strict";function c(a,b){return b.rules.some(b=>d(a,b))}function d(a,b){var c;return void 0!==a[b.keyword]||(null==(c=b.definition.implements)?void 0:c.some(b=>void 0!==a[b]))}Object.defineProperty(b,"__esModule",{value:!0}),b.shouldUseRule=b.shouldUseGroup=b.schemaHasRulesForType=void 0,b.schemaHasRulesForType=function({schema:a,self:b},d){let e=b.RULES.types[d];return e&&!0!==e&&c(a,e)},b.shouldUseGroup=c,b.shouldUseRule=d},63090:a=>{"use strict";let b=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"],c={};Object.setPrototypeOf(c,null);let d={};function e(a){let b=d[a];return void 0===b&&(b=Buffer.from(a)),b}Object.setPrototypeOf(d,null);for(let a=0;a<b.length;++a){let d=b[a],e=d.toLowerCase();c[d]=c[e]=e}a.exports={wellknownHeaderNames:b,headerNameLowerCasedRecord:c,getHeaderNameAsBuffer:e}},63181:(a,b,c)=>{"use strict";c.d(b,{U1:()=>F,BI:()=>D,rB:()=>C}),c(43269);let d={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},e={};for(let[a,b]of Object.entries(d))e[b]=Number.parseInt(a);function f(a,b="utf-8"){switch(b.toLowerCase()){case"utf-8":case"utf8":if(void 0!==globalThis.TextDecoder)return new globalThis.TextDecoder("utf-8").decode(a);return g(a);case"utf-16le":return h(a);case"ascii":return i(a);case"latin1":case"iso-8859-1":return j(a);case"windows-1252":return k(a);default:throw RangeError(`Encoding '${b}' not supported`)}}function g(a){let b="",c=0;for(;c<a.length;){let d=a[c++];if(d<128)b+=String.fromCharCode(d);else if(d<224)b+=String.fromCharCode((31&d)<<6|63&a[c++]);else if(d<240)b+=String.fromCharCode((15&d)<<12|(63&a[c++])<<6|63&a[c++]);else{let e=63&a[c++],f=(7&d)<<18|e<<12|(63&a[c++])<<6|63&a[c++];f-=65536,b+=String.fromCharCode(55296+(f>>10&1023),56320+(1023&f))}}return b}function h(a){let b="";for(let c=0;c<a.length;c+=2)b+=String.fromCharCode(a[c]|a[c+1]<<8);return b}function i(a){return String.fromCharCode(...a.map(a=>127&a))}function j(a){return String.fromCharCode(...a)}function k(a){let b="";for(let c of a)c>=128&&c<=159&&d[c]?b+=d[c]:b+=String.fromCharCode(c);return b}function l(a){return new DataView(a.buffer,a.byteOffset)}let m={len:1,get:(a,b)=>l(a).getUint8(b),put:(a,b,c)=>(l(a).setUint8(b,c),b+1)},o={len:2,get:(a,b)=>l(a).getUint16(b,!0),put:(a,b,c)=>(l(a).setUint16(b,c,!0),b+2)},p={len:2,get:(a,b)=>l(a).getUint16(b),put:(a,b,c)=>(l(a).setUint16(b,c),b+2)},q={len:4,get:(a,b)=>l(a).getUint32(b,!0),put:(a,b,c)=>(l(a).setUint32(b,c,!0),b+4)},r={len:4,get:(a,b)=>l(a).getUint32(b),put:(a,b,c)=>(l(a).setUint32(b,c),b+4)},s={len:4,get:(a,b)=>l(a).getInt32(b),put:(a,b,c)=>(l(a).setInt32(b,c),b+4)},t={len:8,get:(a,b)=>l(a).getBigUint64(b,!0),put:(a,b,c)=>(l(a).setBigUint64(b,c,!0),b+8)};class u{constructor(a,b){this.len=a,this.encoding=b}get(a,b=0){return f(a.subarray(b,b+this.len),this.encoding)}}var v=c(19074);function w(a){let{byteLength:b}=a;return 6===b?0x100000000*a.getUint16(0)+a.getUint32(2):5===b?0x100000000*a.getUint8(0)+a.getUint32(1):4===b?a.getUint32(0):3===b?65536*a.getUint8(0)+a.getUint16(1):2===b?a.getUint16(0):1===b?a.getUint8(0):void 0}function x(a,b){let c=a.length,d=b.length;if(0===d||d>c)return -1;let e=c-d;for(let c=0;c<=e;c++){let e=!0;for(let f=0;f<d;f++)if(a[c+f]!==b[f]){e=!1;break}if(e)return c}return -1}function y(a,b){return -1!==x(a,b)}function z(a){return[...a].map(a=>a.charCodeAt(0))}function A(a,b=0){let c=Number.parseInt(new u(6).get(a,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(c))return!1;let d=256;for(let c=b;c<b+148;c++)d+=a[c];for(let c=b+156;c<b+512;c++)d+=a[c];return c===d}Object.prototype.toString,new globalThis.TextDecoder("utf8"),new globalThis.TextEncoder,Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));let B={get:(a,b)=>127&a[b+3]|a[b+2]<<7|a[b+1]<<14|a[b]<<21,len:4},C=4100;async function D(a){return new F().fromBuffer(a)}function E(a,b,c){for(let[d,e]of(c={offset:0,...c},b.entries()))if(c.mask){if(e!==(c.mask[d]&a[d+c.offset]))return!1}else if(e!==a[d+c.offset])return!1;return!0}class F{constructor(a){this.detectors=a?.customDetectors,this.fromTokenizer=this.fromTokenizer.bind(this),this.fromBuffer=this.fromBuffer.bind(this),this.parse=this.parse.bind(this)}async fromTokenizer(a){let b=a.position;for(let c of this.detectors||[]){let d=await c(a);if(d)return d;if(b!==a.position)return}return this.parse(a)}async fromBuffer(a){if(!(a instanceof Uint8Array||a instanceof ArrayBuffer))throw TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof a}\``);let b=a instanceof Uint8Array?a:new Uint8Array(a);if(b?.length>1)return this.fromTokenizer(v.vY(b))}async fromBlob(a){return this.fromStream(a.stream())}async fromStream(a){let b=await v.Xx(a);try{return await this.fromTokenizer(b)}finally{await b.close()}}check(a,b){return E(this.buffer,a,b)}checkString(a,b){return this.check(z(a),b)}async parse(a){if(this.buffer=new Uint8Array(C),void 0===a.fileInfo.size&&(a.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=a,await a.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return(await a.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14}))?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.parse(a);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await a.ignore(6);let b=await a.readToken(B);return a.position+b>a.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await a.ignore(b),this.fromTokenizer(a))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===this.buffer[0]||70===this.buffer[0])&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){try{for(;a.position+30<a.fileInfo.size;){await a.readBuffer(this.buffer,{length:30});let b=new DataView(this.buffer.buffer),c={compressedSize:b.getUint32(18,!0),uncompressedSize:b.getUint32(22,!0),filenameLength:b.getUint16(26,!0),extraFieldLength:b.getUint16(28,!0)};if(c.filename=await a.readToken(new u(c.filenameLength,"utf-8")),await a.ignore(c.extraFieldLength),"META-INF/mozilla.rsa"===c.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(c.filename.endsWith(".rels")||c.filename.endsWith(".xml"))switch(c.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};case"visio":return{ext:"vsdx",mime:"application/vnd.visio"}}if(c.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(c.filename.startsWith("3D/")&&c.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===c.filename&&c.compressedSize===c.uncompressedSize){let b=await a.readToken(new u(c.compressedSize,"utf-8"));switch(b=b.trim()){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}}if(0===c.compressedSize){let b=-1;for(;b<0&&a.position<a.fileInfo.size;)await a.peekBuffer(this.buffer,{mayBeLess:!0}),b=x(this.buffer,new Uint8Array([80,75,3,4])),await a.ignore(b>=0?b:this.buffer.length)}else await a.ignore(c.compressedSize)}}catch(a){if(!(a instanceof v.d1))throw a}return{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await a.ignore(28);let b=new Uint8Array(8);return(await a.readBuffer(b),E(b,[79,112,117,115,72,101,97,100]))?{ext:"opus",mime:"audio/opus"}:E(b,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:E(b,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:E(b,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:E(b,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:E(b,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(3===this.buffer[2]||5===this.buffer[2]||7===this.buffer[2])&&(4===this.buffer[3]||6===this.buffer[3]||8===this.buffer[3]))return{ext:"zip",mime:"application/zip"};if(this.checkString("ftyp",{offset:4})&&(96&this.buffer[8])!=0){let a=new u(4,"latin1").get(this.buffer,8).replace("\0"," ").trim();switch(a){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:if(a.startsWith("3g")){if(a.startsWith("3g2"))return{ext:"3g2",mime:"video/3gpp2"};return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF")){try{await a.ignore(1350);let b=0xa00000,c=new Uint8Array(Math.min(b,a.fileInfo.size));if(await a.readBuffer(c,{mayBeLess:!0}),y(c,new TextEncoder().encode("AIPrivateData")))return{ext:"ai",mime:"application/postscript"}}catch(a){if(!(a instanceof v.d1))throw a}return{ext:"pdf",mime:"application/pdf"}}if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){let a=await this.readTiffHeader(!1);if(a)return a}if(this.check([77,77])){let a=await this.readTiffHeader(!0);if(a)return a}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function b(){let b=await a.peekNumber(m),c=128,d=0;for(;(b&c)==0&&0!==c;)++d,c>>=1;let e=new Uint8Array(d+1);return await a.readBuffer(e),e}async function c(){let a=await b(),c=await b();c[0]^=128>>c.length-1;let d=Math.min(6,c.length),e=new DataView(a.buffer),f=new DataView(c.buffer,c.length-d,d);return{id:w(e),len:w(f)}}async function d(b){for(;b>0;){let d=await c();if(17026===d.id)return(await a.readToken(new u(d.len))).replaceAll(/\00.*$/g,"");await a.ignore(d.len),--b}}let e=await c();switch(await d(e.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(this.check([82,73,70,70])){if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1"))return{ext:"parquet",mime:"application/x-parquet"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(0===this.buffer[6]||1===this.buffer[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){let a=new u(4,"latin1").get(this.buffer,2);if(a.match("^d*")&&a>=1e3&&a<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return(await a.ignore(8),"debian-binary"===await a.readToken(new u(13,"ascii")))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.checkString("**ACE",{offset:7})&&(await a.peekBuffer(this.buffer,{length:14,mayBeLess:!0}),this.checkString("**",{offset:12})))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.check([137,80,78,71,13,10,26,10])){async function e(){return{length:await a.readToken(s),type:await a.readToken(new u(4,"latin1"))}}await a.ignore(8);do{let b=await e();if(b.length<0)return;switch(b.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await a.ignore(b.length+4)}}while(a.position+8<a.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function f(){let b=new Uint8Array(16);return await a.readBuffer(b),{id:b,size:Number(await a.readToken(t))}}for(await a.ignore(30);a.position+24<a.fileInfo.size;){let b=await f(),c=b.size-24;if(E(b.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let b=new Uint8Array(16);if(c-=await a.readBuffer(b),E(b,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(E(b,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await a.ignore(c)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await a.ignore(20),await a.readToken(new u(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await a.peekBuffer(this.buffer,{length:Math.min(256,a.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){let a=new DataView(this.buffer.buffer).getUint32(12,!0);if(a>12&&this.buffer.length>=a+16)try{let b=new TextDecoder().decode(this.buffer.slice(16,a+16));if(JSON.parse(b).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188})||this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await a.peekBuffer(this.buffer,{length:Math.min(512,a.fileInfo.size),mayBeLess:!0}),A(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(this.buffer.length>=2&&this.check([255,224],{offset:0,mask:[255,224]})){if(this.check([16],{offset:1,mask:[22]}))return this.check([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}async readTiffTag(a){let b=await this.tokenizer.readToken(a?p:o);switch(this.tokenizer.ignore(10),b){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(a){let b=await this.tokenizer.readToken(a?p:o);for(let c=0;c<b;++c){let b=await this.readTiffTag(a);if(b)return b}}async readTiffHeader(a){let b=(a?p:o).get(this.buffer,2),c=(a?r:q).get(this.buffer,4);if(42===b){if(c>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(c>=8&&(this.check([28,0,254,0],{offset:8})||this.check([31,0,11,0],{offset:8})))return{ext:"nef",mime:"image/x-nikon-nef"}}return await this.tokenizer.ignore(c),await this.readTiffIFD(a)??{ext:"tif",mime:"image/tiff"}}if(43===b)return{ext:"tif",mime:"image/tiff"}}}},63204:a=>{"use strict";a.exports=Number.isNaN||function(a){return a!=a}},63254:(a,b,c)=>{"use strict";c.r(b),c.d(b,{EndpointCache:()=>d.k,EndpointError:()=>i.c,customEndpointFunctions:()=>g.m,isIpAddress:()=>e.o,isValidHostLabel:()=>f.X,resolveEndpoint:()=>h.s});var d=c(87225),e=c(41426),f=c(81795),g=c(65352),h=c(36004),i=c(838)},63284:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ChecksumStream=void 0;let c="function"==typeof ReadableStream?ReadableStream:function(){};class d extends c{}b.ChecksumStream=d},63693:a=>{"use strict";let b=a=>a&&"string"==typeof a.message,c=a=>{if(!a)return;let c=a.cause;if("function"!=typeof c)return b(c)?c:void 0;{let c=a.cause();return b(c)?c:void 0}},d=(a,e)=>{if(!b(a))return"";let f=a.stack||"";if(e.has(a))return f+"\ncauses have become circular...";let g=c(a);return g?(e.add(a),f+"\ncaused by: "+d(g,e)):f},e=(a,d,f)=>{if(!b(a))return"";let g=f?"":a.message||"";if(d.has(a))return g+": ...";let h=c(a);if(!h)return g;{d.add(a);let b="function"==typeof a.cause;return g+(b?"":": ")+e(h,d,b)}};a.exports={isErrorLike:b,getErrorCause:c,stackWithCauses:a=>d(a,new Set),messageWithCauses:a=>e(a,new Set)}},63779:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.boolOrEmptySchema=b.topBoolOrEmptySchema=void 0;let d=c(58052),e=c(86397),f=c(13491),g={message:"boolean schema is false"};function h(a,b){let{gen:c,data:e}=a,f={gen:c,keyword:"false schema",data:e,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,d.reportError)(f,g,void 0,b)}b.topBoolOrEmptySchema=function(a){let{gen:b,schema:c,validateName:d}=a;!1===c?h(a,!1):"object"==typeof c&&!0===c.$async?b.return(f.default.data):(b.assign((0,e._)`${d}.errors`,null),b.return(!0))},b.boolOrEmptySchema=function(a,b){let{gen:c,schema:d}=a;!1===d?(c.var(b,!1),h(a)):c.var(b,!0)}},63780:(a,b,c)=>{"use strict";let d=c(78474),e=c(17795),f=a=>(b,c)=>a(b,e.wrap(c));class g extends d{dispatch(){throw Error("not implemented")}close(){throw Error("not implemented")}destroy(){throw Error("not implemented")}compose(...a){let b=Array.isArray(a[0])?a[0]:a,c=this.dispatch.bind(this);for(let a of b)if(null!=a){if("function"!=typeof a)throw TypeError(`invalid interceptor, expected function received ${typeof a}`);if(c=a(c),c=f(c),null==c||"function"!=typeof c||2!==c.length)throw TypeError("invalid interceptor")}return new Proxy(this,{get:(a,b)=>"dispatch"===b?c:a[b]})}}a.exports=g},64119:(a,b,c)=>{"use strict";let d,{maxUnsigned16Bit:e,opcodes:f}=c(51787),g=8192,h=null,i=8192;try{d=c(77598)}catch{d={randomFillSync:function(a,b,c){for(let b=0;b<a.length;++b)a[b]=255*Math.random()|0;return a}}}function j(){return i===g&&(i=0,d.randomFillSync(h??=Buffer.allocUnsafeSlow(g),0,g)),[h[i++],h[i++],h[i++],h[i++]]}class k{constructor(a){this.frameData=a}createFrame(a){let b=this.frameData,c=j(),d=b?.byteLength??0,f=d,g=6;d>e?(g+=8,f=127):d>125&&(g+=2,f=126);let h=Buffer.allocUnsafe(d+g);h[0]=h[1]=0,h[0]|=128,h[0]=(240&h[0])+a,h[g-4]=c[0],h[g-3]=c[1],h[g-2]=c[2],h[g-1]=c[3],h[1]=f,126===f?h.writeUInt16BE(d,2):127===f&&(h[2]=h[3]=0,h.writeUIntBE(d,4,6)),h[1]|=128;for(let a=0;a<d;++a)h[g+a]=b[a]^c[3&a];return h}static createFastTextFrame(a){let b=j(),c=a.length;for(let d=0;d<c;++d)a[d]^=b[3&d];let d=c,g=6;c>e?(g+=8,d=127):c>125&&(g+=2,d=126);let h=Buffer.allocUnsafeSlow(g);return h[0]=128|f.TEXT,h[1]=128|d,h[g-4]=b[0],h[g-3]=b[1],h[g-2]=b[2],h[g-1]=b[3],126===d?h.writeUInt16BE(c,2):127===d&&(h[2]=h[3]=0,h.writeUIntBE(c,4,6)),[h,a]}}a.exports={WebsocketFrameSend:k}},64208:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=a=>Math.floor(a.getTime()/1e3)},64259:function(a){"use strict";function b(a,b,c){for(;b<a.length;){let d,e;for(;b<a.length;++b){let c=a.charCodeAt(b);if(32!==c&&9!==c)break}if(b===a.length)break;if(59!==a.charCodeAt(b++))return;for(;b<a.length;++b){let c=a.charCodeAt(b);if(32!==c&&9!==c)break}if(b===a.length)return;let f=b;for(;b<a.length;++b){let c=a.charCodeAt(b);if(1!==g[c]){if(61!==c)return;break}}if(b===a.length||(d=a.slice(f,b),++b===a.length))return;let i="";if(34===a.charCodeAt(b)){e=++b;let c=!1;for(;b<a.length;++b){let d=a.charCodeAt(b);if(92===d){c?(e=b,c=!1):(i+=a.slice(e,b),c=!0);continue}if(34===d){if(c){e=b,c=!1;continue}i+=a.slice(e,b);break}if(c&&(e=b-1,c=!1),1!==h[d])return}if(b===a.length)return;++b}else{for(e=b;b<a.length;++b)if(1!==g[a.charCodeAt(b)]){if(b===e)return;break}i=a.slice(e,b)}void 0===c[d=d.toLowerCase()]&&(c[d]=i)}return c}function c(a,b,c,d){for(;b<a.length;){let e,l,m;for(;b<a.length;++b){let c=a.charCodeAt(b);if(32!==c&&9!==c)break}if(b===a.length)break;if(59!==a.charCodeAt(b++))return;for(;b<a.length;++b){let c=a.charCodeAt(b);if(32!==c&&9!==c)break}if(b===a.length)return;let o=b;for(;b<a.length;++b){let c=a.charCodeAt(b);if(1!==g[c]){if(61===c)break;return}}if(b===a.length)return;let p="";if(42===(e=a.slice(o,b)).charCodeAt(e.length-1)){let c=++b;for(;b<a.length;++b){let c=a.charCodeAt(b);if(1!==i[c]){if(39!==c)return;break}}if(b===a.length)return;for(m=a.slice(c,b),++b;b<a.length&&39!==a.charCodeAt(b);++b);if(b===a.length||++b===a.length)return;l=b;let d=0;for(;b<a.length;++b){let c=a.charCodeAt(b);if(1!==j[c]){if(37===c){let c,e;if(b+2<a.length&&-1!==(c=k[a.charCodeAt(b+1)])&&-1!==(e=k[a.charCodeAt(b+2)])){let f=(c<<4)+e;p+=a.slice(l,b),p+=String.fromCharCode(f),b+=2,l=b+1,f>=128?d=2:0===d&&(d=1);continue}return}break}}if(p+=a.slice(l,b),void 0===(p=f(p,m,d)))return}else{if(++b===a.length)return;if(34===a.charCodeAt(b)){l=++b;let c=!1;for(;b<a.length;++b){let d=a.charCodeAt(b);if(92===d){c?(l=b,c=!1):(p+=a.slice(l,b),c=!0);continue}if(34===d){if(c){l=b,c=!1;continue}p+=a.slice(l,b);break}if(c&&(l=b-1,c=!1),1!==h[d])return}if(b===a.length)return;++b}else{for(l=b;b<a.length;++b)if(1!==g[a.charCodeAt(b)]){if(b===l)return;break}p=a.slice(l,b)}if(void 0===(p=d(p,2)))return}void 0===c[e=e.toLowerCase()]&&(c[e]=p)}return c}function d(a){let b;for(;;)switch(a){case"utf-8":case"utf8":return e.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return e.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return e.utf16le;case"base64":return e.base64;default:if(void 0===b){b=!0,a=a.toLowerCase();continue}return e.other.bind(a)}}let e={utf8:(a,b)=>{if(0===a.length)return"";if("string"==typeof a){if(b<2)return a;a=Buffer.from(a,"latin1")}return a.utf8Slice(0,a.length)},latin1:(a,b)=>0===a.length?"":"string"==typeof a?a:a.latin1Slice(0,a.length),utf16le:(a,b)=>0===a.length?"":("string"==typeof a&&(a=Buffer.from(a,"latin1")),a.ucs2Slice(0,a.length)),base64:(a,b)=>0===a.length?"":("string"==typeof a&&(a=Buffer.from(a,"latin1")),a.base64Slice(0,a.length)),other:(a,b)=>{if(0===a.length)return"";"string"==typeof a&&(a=Buffer.from(a,"latin1"));try{return new TextDecoder(this).decode(a)}catch{}}};function f(a,b,c){let e=d(b);if(e)return e(a,c)}let g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,0,0,0,0,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];a.exports={basename:function(a){if("string"!=typeof a)return"";for(let b=a.length-1;b>=0;--b)switch(a.charCodeAt(b)){case 47:case 92:return".."===(a=a.slice(b+1))||"."===a?"":a}return".."===a||"."===a?"":a},convertToUTF8:f,getDecoder:d,parseContentType:function(a){if(0===a.length)return;let c=Object.create(null),d=0;for(;d<a.length;++d){let b=a.charCodeAt(d);if(1!==g[b]){if(47!==b||0===d)return;break}}if(d===a.length)return;let e=a.slice(0,d).toLowerCase(),f=++d;for(;d<a.length;++d)if(1!==g[a.charCodeAt(d)]){if(d===f||void 0===b(a,d,c))return;break}if(d!==f)return{type:e,subtype:a.slice(f,d).toLowerCase(),params:c}},parseDisposition:function(a,b){if(0===a.length)return;let d=Object.create(null),e=0;for(;e<a.length;++e)if(1!==g[a.charCodeAt(e)]){if(void 0===c(a,e,d,b))return;break}return{type:a.slice(0,e).toLowerCase(),params:d}}}},64275:(a,b,c)=>{"use strict";c.d(b,{I:()=>e});let d=!1,e=a=>{a&&!d&&16>parseInt(a.substring(1,a.indexOf(".")))&&(d=!0)}},64319:(a,b,c)=>{"use strict";c.d(b,{n:()=>k});var d=c(65029),e=c(8615),f=c(84670),g=c(37492),h=c(2617),i=c(42526),j=c(76770);let k=async function({adapter:a,collectionSlug:b,draftsEnabled:c,fields:k,joins:l,limit:m,locale:o,page:p=1,pagination:q,req:r,select:s,skip:t,sort:u,tableName:v,versions:w,where:x}){let y,z,A,B,C,D,E=await (0,i.x)(a,r),F=m,G=t||(p-1)*F;0===F&&(q=!1,F=void 0);let{joins:H,orderBy:I,selectFields:J,where:K}=(0,e.Z)({adapter:a,fields:k,locale:o,sort:u,tableName:v,where:x}),L={},M=(0,j.c)({adapter:a,collectionSlug:b,depth:0,draftsEnabled:c,fields:k,joinQuery:l,joins:H,locale:o,select:s,tableName:v,versions:w});if(I)for(let a in J){let b=J[a];b&&!b.primary&&(I.some(a=>a.column.name===b.name&&(0,h.y)(a.column.table)===(0,h.y)(b.table))||delete J[a])}let N=await (0,f.t)({adapter:a,db:E,joins:H,query:({query:a})=>(I&&(a=a.orderBy(()=>I.map(({column:a,order:b})=>b(a)))),a.offset(G).limit(F)),selectFields:J,tableName:v,where:K});if(N)if(0===N.length)return{docs:[],hasNextPage:!1,hasPrevPage:!1,limit:F,nextPage:null,page:1,pagingCounter:0,prevPage:null,totalDocs:0,totalPages:0};else N.forEach(({id:a},b)=>{L[a]=b}),D=Object.keys(L),M.where=(0,d.RV)(a.tables[v].id,D);else M.limit=F,M.offset=G,M.orderBy=()=>I.map(({column:a,order:b})=>b(a)),K&&(M.where=K);let O=E.query[v].findMany(M);!1!==q&&(!D||D?.length<=F)&&(y=await a.countDistinct({db:E,joins:H,tableName:v,where:K}),z="number"==typeof F&&0!==F?Math.ceil(y/F):1,A=p>1,B=z>p,C=(p-1)*F+1);let P=await O;return Object.keys(L).length>0&&P.sort((a,b)=>L[a.id]-L[b.id]),!1!==q&&y||(y=P.length,z=1,C=1,A=!1,B=!1),{docs:P.map(b=>(0,g.p)({adapter:a,config:a.payload.config,data:b,fields:k,joinQuery:l,tableName:v})),hasNextPage:B,hasPrevPage:A,limit:m,nextPage:B?p+1:null,page:p,pagingCounter:C,prevPage:A?p-1:null,totalDocs:y,totalPages:z}}},64373:a=>{"use strict";a.exports=TypeError},64539:(a,b,c)=>{let d=c(90165),e=c(32741),{style:f,clear:g}=c(67406),{cursor:h,erase:i}=c(1298);class j extends e{constructor(a={}){super(a),this.msg=a.message,this.value=!!a.initial,this.active=a.active||"on",this.inactive=a.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(a,b){if(" "===a)this.value=!this.value;else if("1"===a)this.value=!0;else{if("0"!==a)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(h.hide):this.out.write(g(this.outputText,this.out.columns)),super.render(),this.outputText=[f.symbol(this.done,this.aborted),d.bold(this.msg),f.delimiter(this.done),this.value?this.inactive:d.cyan().underline(this.inactive),d.gray("/"),this.value?d.cyan().underline(this.active):this.active].join(" "),this.out.write(i.line+h.to(0)+this.outputText))}}a.exports=j},64554:(a,b,c)=>{"use strict";c.d(b,{Bt:()=>k,HE:()=>j,ZB:()=>i,cE:()=>l});var d=c(65099);let e="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,f=e&&"documentMode"in document?document.documentMode:null,g=(e&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),e&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent));function h(...a){let b=[];for(let c of a)if(c&&"string"==typeof c)for(let[a]of c.matchAll(/\S+/g))b.push(a);return b}e&&"InputEvent"in window&&!f&&new window.InputEvent("input"),e&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),e&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,e&&/Android/.test(navigator.userAgent),e&&/^(?=.*Chrome).*/i.test(navigator.userAgent),e&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);function i(a,...b){let c=h(...b);c.length>0&&a.classList.add(...c)}function j(a,...b){let c=h(...b);c.length>0&&a.classList.remove(...c)}let k=(a,b)=>{let c=a;for(;c!==(0,d.NiT)()&&null!=c;){if(b(c))return c;c=c.getParent()}return null};function l(a,b){let c=[],e=Array.from(a).reverse();for(let a=e.pop();void 0!==a;a=e.pop())if(b(a))c.push(a);else if((0,d.ff4)(a))for(let b of m(a))e.push(b);return c}function m(a){return o((0,d.uwZ)(a,"previous"))}function o(a){return(0,d.Bts)({hasNext:d.OpE,initial:a.getAdjacentCaret(),map:a=>a.origin.getLatest(),step:a=>a.getAdjacentCaret()})}},64682:(a,b,c)=>{"use strict";c.r(b),c.d(b,{build:()=>f,parse:()=>e,validate:()=>d});let d=a=>"string"==typeof a&&0===a.indexOf("arn:")&&a.split(":").length>=6,e=a=>{let b=a.split(":");if(b.length<6||"arn"!==b[0])throw Error("Malformed ARN");let[,c,d,e,f,...g]=b;return{partition:c,service:d,region:e,accountId:f,resource:g.join(":")}},f=a=>{let{partition:b="aws",service:c,region:d,accountId:e,resource:f}=a;if([c,d,e,f].some(a=>"string"!=typeof a))throw Error("Input ARN object is invalid");return`arn:${b}:${c}:${d}:${e}:${f}`}},64701:(a,b,c)=>{"use strict";c.d(b,{Y:()=>d});let d=[{label:"(UTC-11:00) Midway Island, Samoa",value:"Pacific/Midway"},{label:"(UTC-11:00) Niue",value:"Pacific/Niue"},{label:"(UTC-10:00) Hawaii",value:"Pacific/Honolulu"},{label:"(UTC-10:00) Cook Islands",value:"Pacific/Rarotonga"},{label:"(UTC-09:00) Alaska",value:"America/Anchorage"},{label:"(UTC-09:00) Gambier Islands",value:"Pacific/Gambier"},{label:"(UTC-08:00) Pacific Time (US & Canada)",value:"America/Los_Angeles"},{label:"(UTC-08:00) Tijuana, Baja California",value:"America/Tijuana"},{label:"(UTC-07:00) Mountain Time (US & Canada)",value:"America/Denver"},{label:"(UTC-07:00) Arizona (No DST)",value:"America/Phoenix"},{label:"(UTC-06:00) Central Time (US & Canada)",value:"America/Chicago"},{label:"(UTC-06:00) Central America",value:"America/Guatemala"},{label:"(UTC-05:00) Eastern Time (US & Canada)",value:"America/New_York"},{label:"(UTC-05:00) Bogota, Lima, Quito",value:"America/Bogota"},{label:"(UTC-04:00) Caracas",value:"America/Caracas"},{label:"(UTC-04:00) Santiago",value:"America/Santiago"},{label:"(UTC-03:00) Buenos Aires",value:"America/Buenos_Aires"},{label:"(UTC-03:00) Brasilia",value:"America/Sao_Paulo"},{label:"(UTC-02:00) South Georgia",value:"Atlantic/South_Georgia"},{label:"(UTC-01:00) Azores",value:"Atlantic/Azores"},{label:"(UTC-01:00) Cape Verde",value:"Atlantic/Cape_Verde"},{label:"(UTC+00:00) London (GMT)",value:"Europe/London"},{label:"(UTC+01:00) Berlin, Paris",value:"Europe/Berlin"},{label:"(UTC+01:00) Lagos",value:"Africa/Lagos"},{label:"(UTC+02:00) Athens, Bucharest",value:"Europe/Athens"},{label:"(UTC+02:00) Cairo",value:"Africa/Cairo"},{label:"(UTC+03:00) Moscow, St. Petersburg",value:"Europe/Moscow"},{label:"(UTC+03:00) Riyadh",value:"Asia/Riyadh"},{label:"(UTC+04:00) Dubai",value:"Asia/Dubai"},{label:"(UTC+04:00) Baku",value:"Asia/Baku"},{label:"(UTC+05:00) Islamabad, Karachi",value:"Asia/Karachi"},{label:"(UTC+05:00) Tashkent",value:"Asia/Tashkent"},{label:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",value:"Asia/Calcutta"},{label:"(UTC+06:00) Dhaka",value:"Asia/Dhaka"},{label:"(UTC+06:00) Almaty",value:"Asia/Almaty"},{label:"(UTC+07:00) Jakarta",value:"Asia/Jakarta"},{label:"(UTC+07:00) Bangkok",value:"Asia/Bangkok"},{label:"(UTC+08:00) Beijing, Shanghai",value:"Asia/Shanghai"},{label:"(UTC+08:00) Singapore",value:"Asia/Singapore"},{label:"(UTC+09:00) Tokyo, Osaka, Sapporo",value:"Asia/Tokyo"},{label:"(UTC+09:00) Seoul",value:"Asia/Seoul"},{label:"(UTC+10:00) Brisbane",value:"Australia/Brisbane"},{label:"(UTC+10:00) Sydney, Melbourne",value:"Australia/Sydney"},{label:"(UTC+10:00) Guam, Port Moresby",value:"Pacific/Guam"},{label:"(UTC+11:00) New Caledonia",value:"Pacific/Noumea"},{label:"(UTC+12:00) Auckland, Wellington",value:"Pacific/Auckland"},{label:"(UTC+12:00) Fiji",value:"Pacific/Fiji"}]},64746:(a,b,c)=>{"use strict";c.d(b,{V:()=>d});let d=a=>()=>Promise.resolve(a)},64960:(a,b,c)=>{"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}let f=c(90165),g=c(67858),h=c(90439),i=h.style,j=h.clear,k=h.figures,l=c(1298),m=l.erase,o=l.cursor,p=c(56363),q=p.DatePart,r=p.Meridiem,s=p.Day,t=p.Hours,u=p.Milliseconds,v=p.Minutes,w=p.Month,x=p.Seconds,y=p.Year,z=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,A={1:({token:a})=>a.replace(/\\(.)/g,"$1"),2:a=>new s(a),3:a=>new w(a),4:a=>new y(a),5:a=>new r(a),6:a=>new t(a),7:a=>new v(a),8:a=>new x(a),9:a=>new u(a)},B={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class C extends g{constructor(a={}){super(a),this.msg=a.message,this.cursor=0,this.typed="",this.locales=Object.assign(B,a.locales),this._date=a.initial||new Date,this.errorMsg=a.error||"Please Enter A Valid Value",this.validator=a.validate||(()=>!0),this.mask=a.mask||"YYYY-MM-DD HH:mm:ss",this.clear=j("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(a){a&&this._date.setTime(a.getTime())}set mask(a){let b;for(this.parts=[];b=z.exec(a);){let a=b.shift(),c=b.findIndex(a=>null!=a);this.parts.push(c in A?A[c]({token:b[c]||a,date:this.date,parts:this.parts,locales:this.locales}):b[c]||a)}let c=this.parts.reduce((a,b)=>("string"==typeof b&&"string"==typeof a[a.length-1]?a[a.length-1]+=b:a.push(b),a),[]);this.parts.splice(0),this.parts.push(...c),this.reset()}moveCursor(a){this.typed="",this.cursor=a,this.fire()}reset(){this.moveCursor(this.parts.findIndex(a=>a instanceof q)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var a=this;return e(function*(){let b=yield a.validator(a.value);"string"==typeof b&&(a.errorMsg=b,b=!1),a.error=!b})()}submit(){var a=this;return e(function*(){if(yield a.validate(),a.error){a.color="red",a.fire(),a.render();return}a.done=!0,a.aborted=!1,a.fire(),a.render(),a.out.write("\n"),a.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let a=this.parts[this.cursor].prev();if(null==a)return this.bell();this.moveCursor(this.parts.indexOf(a)),this.render()}right(){let a=this.parts[this.cursor].next();if(null==a)return this.bell();this.moveCursor(this.parts.indexOf(a)),this.render()}next(){let a=this.parts[this.cursor].next();this.moveCursor(a?this.parts.indexOf(a):this.parts.findIndex(a=>a instanceof q)),this.render()}_(a){/\d/.test(a)&&(this.typed+=a,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(o.hide):this.out.write(j(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),f.bold(this.msg),i.delimiter(!1),this.parts.reduce((a,b,c)=>a.concat(c!==this.cursor||this.done?b:f.cyan().underline(b.toString())),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce((a,b,c)=>a+`
${c?" ":k.pointerSmall} ${f.red().italic(b)}`,"")),this.out.write(m.line+o.to(0)+this.outputText))}}a.exports=C},64996:(a,b,c)=>{"use strict";c.d(b,{r_:()=>e,yd:()=>f});let d=Symbol.for("react.client.reference");function e(a){return"function"==typeof a&&a.$$typeof!==d}function f(a){return"function"==typeof a}},65029:(a,b,c)=>{"use strict";c.d(b,{AU:()=>m,B3:()=>C,KJ:()=>x,KL:()=>t,Pe:()=>v,RK:()=>B,RO:()=>p,RV:()=>s,Tq:()=>y,Uo:()=>k,eq:()=>i,gt:()=>o,kZ:()=>u,lt:()=>q,mj:()=>A,ne:()=>j,o8:()=>z,or:()=>l,q1:()=>D,t2:()=>w,wJ:()=>r});var d=c(23192),e=c(37593),f=c(56704),g=c(71540);function h(a,b){return!(0,g.eG)(b)||(0,g.qt)(a)||(0,e.is)(a,g.Iw)||(0,e.is)(a,g.Or)||(0,e.is)(a,d.V)||(0,e.is)(a,f.XI)||(0,e.is)(a,g.Ss)?a:new g.Iw(a,b)}let i=(a,b)=>(0,g.ll)`${a} = ${h(b,a)}`,j=(a,b)=>(0,g.ll)`${a} <> ${h(b,a)}`;function k(...a){let b=a.filter(a=>void 0!==a);if(0!==b.length)return new g.Xs(1===b.length?b:[new g.DJ("("),g.ll.join(b,new g.DJ(" and ")),new g.DJ(")")])}function l(...a){let b=a.filter(a=>void 0!==a);if(0!==b.length)return new g.Xs(1===b.length?b:[new g.DJ("("),g.ll.join(b,new g.DJ(" or ")),new g.DJ(")")])}function m(a){return(0,g.ll)`not ${a}`}let o=(a,b)=>(0,g.ll)`${a} > ${h(b,a)}`,p=(a,b)=>(0,g.ll)`${a} >= ${h(b,a)}`,q=(a,b)=>(0,g.ll)`${a} < ${h(b,a)}`,r=(a,b)=>(0,g.ll)`${a} <= ${h(b,a)}`;function s(a,b){return Array.isArray(b)?0===b.length?(0,g.ll)`false`:(0,g.ll)`${a} in ${b.map(b=>h(b,a))}`:(0,g.ll)`${a} in ${h(b,a)}`}function t(a,b){return Array.isArray(b)?0===b.length?(0,g.ll)`true`:(0,g.ll)`${a} not in ${b.map(b=>h(b,a))}`:(0,g.ll)`${a} not in ${h(b,a)}`}function u(a){return(0,g.ll)`${a} is null`}function v(a){return(0,g.ll)`${a} is not null`}function w(a){return(0,g.ll)`exists ${a}`}function x(a){return(0,g.ll)`not exists ${a}`}function y(a,b,c){return(0,g.ll)`${a} between ${h(b,a)} and ${h(c,a)}`}function z(a,b,c){return(0,g.ll)`${a} not between ${h(b,a)} and ${h(c,a)}`}function A(a,b){return(0,g.ll)`${a} like ${b}`}function B(a,b){return(0,g.ll)`${a} not like ${b}`}function C(a,b){return(0,g.ll)`${a} ilike ${b}`}function D(a,b){return(0,g.ll)`${a} not ilike ${b}`}},65054:a=>{"use strict";a.exports=(a,b)=>{if(!a.meta||"escape"===a.name){if(a.ctrl){if("a"===a.name)return"first";if("c"===a.name||"d"===a.name)return"abort";if("e"===a.name)return"last";if("g"===a.name)return"reset"}if(b){if("j"===a.name)return"down";if("k"===a.name)return"up"}return"return"===a.name||"enter"===a.name?"submit":"backspace"===a.name?"delete":"delete"===a.name?"deleteForward":"abort"===a.name?"abort":"escape"===a.name?"exit":"tab"===a.name?"next":"pagedown"===a.name?"nextPage":"pageup"===a.name?"prevPage":"home"===a.name?"home":"end"===a.name?"end":"up"===a.name?"up":"down"===a.name?"down":"right"===a.name?"right":"left"===a.name&&"left"}}},65099:(a,b,c)=>{"use strict";function d(a,...b){let c=new URL("https://lexical.dev/docs/error"),e=new URLSearchParams;for(let c of(e.append("code",a),b))e.append("v",c);throw c.search=e.toString(),Error(`Minified Lexical error #${a}; visit ${c.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}c.d(b,{AX0:()=>bb,Bts:()=>fs,Cyw:()=>dm,Gew:()=>eC,I2P:()=>cv,JM3:()=>a9,Kp7:()=>dl,NiT:()=>d5,OpE:()=>fb,UDz:()=>bd,WKo:()=>b2,WuB:()=>aZ,bSg:()=>dB,bbF:()=>be,dxY:()=>eZ,fGB:()=>di,ff4:()=>dj,gCZ:()=>bh,guI:()=>aW,hi0:()=>a3,i0_:()=>eU,kBm:()=>b$,kFe:()=>cl,lJ7:()=>dA,nYP:()=>eM,pTq:()=>eF,pd8:()=>e$,sTu:()=>ck,sby:()=>eN,uwZ:()=>fk,vJq:()=>cL,viC:()=>a4,w$Z:()=>bj,wH$:()=>b3,xL4:()=>d2});let e="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,f=e&&"documentMode"in document?document.documentMode:null,g=e&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),h=e&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),i=!(!e||!("InputEvent"in window)||f)&&"getTargetRanges"in new window.InputEvent("input"),j=e&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),k=e&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,l=e&&/Android/.test(navigator.userAgent),m=e&&/^(?=.*Chrome).*/i.test(navigator.userAgent),o=e&&l&&m,p=e&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!m;function q(...a){let b=[];for(let c of a)if(c&&"string"==typeof c)for(let[a]of c.matchAll(/\S+/g))b.push(a);return b}let r=1,s=3,t=9,u=11,v=0,w=1,x=2,y=4,z=8,A=128,B=2047,C=1,D=2,E=3,F=4,G=5,H=6,I=j||k||p?"\xa0":"​",J="\n\n",K=h?"\xa0":I,L={bold:1,capitalize:1024,code:16,highlight:128,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},M={directionless:1,unmergeable:2},N={center:2,end:6,justify:4,left:1,right:3,start:5},O={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},P={normal:0,segmented:2,token:1},Q={0:"normal",2:"segmented",1:"token"},R="$config";function S(a,b,c,d,e,f){let g=a.getFirstChild();for(;null!==g;){let a=g.__key;g.__parent===b&&(dj(g)&&S(g,a,c,d,e,f),c.has(a)||f.delete(a),e.push(a)),g=g.getNextSibling()}}let T=100,U=!1,V=0;function W(a){V=a.timeStamp}function X(a,b,c){let d="BR"===a.nodeName,e=b.__lexicalLineBreak;return e&&(a===e||d&&a.previousSibling===e)||d&&void 0!==d1(a,c)}function Y(a,b,c){let d=eK(eB(c)),e=null,f=null;null!==d&&d.anchorNode===a&&(e=d.anchorOffset,f=d.focusOffset);let g=a.nodeValue;null!==g&&ee(b,g,e,f,!1)}function Z(a,b,c){if(cv(a)){let b=a.anchor.getNode();if(b.is(c)&&a.format!==b.getFormat())return!1}return dS(b)&&c.isAttached()}function $(a,b,c,d){for(let e=a;e&&!e_(e);e=ev(e)){let a=d1(e,b);if(void 0!==a){let b=d_(a,c);if(b)return dm(b)||!eN(e)?void 0:[e,b]}else if(e===d)return[d,d6(c)]}}function _(a,b,c){U=!0;let d=performance.now()-V>T;try{df(a,()=>{let e=cL()||function(a){return a.getEditorState().read(()=>{let a=cL();return null!==a?a.clone():null})}(a),f=new Map,g=a.getRootElement(),i=a._editorState,j=a._blockCursorElement,k=!1,l="";for(let c=0;c<b.length;c++){let m=b[c],o=m.type,p=m.target,q=$(p,a,i,g);if(!q)continue;let[r,s]=q;if("characterData"===o)d&&cl(s)&&dS(p)&&Z(e,p,s)&&Y(p,s,a);else if("childList"===o){k=!0;let b=m.addedNodes;for(let c=0;c<b.length;c++){let d=b[c],e=d0(d),f=d.parentNode;if(null!=f&&d!==j&&null===e&&!X(d,f,a)){if(h){let a=(eN(d)?d.innerText:null)||d.nodeValue;a&&(l+=a)}f.removeChild(d)}}let c=m.removedNodes,d=c.length;if(d>0){let b=0;for(let e=0;e<d;e++){let d=c[e];(X(d,p,a)||j===d)&&(p.appendChild(d),b++)}d!==b&&f.set(r,s)}}}if(f.size>0)for(let[b,c]of f)c.reconcileObservedMutation(b,a);let m=c.takeRecords();if(m.length>0){for(let b=0;b<m.length;b++){let c=m[b],d=c.addedNodes,e=c.target;for(let b=0;b<d.length;b++){let c=d[b],f=c.parentNode;null==f||"BR"!==c.nodeName||X(c,e,a)||f.removeChild(c)}}c.takeRecords()}null!==e&&(k&&d7(e),h&&er(a)&&e.insertRawText(l))})}finally{U=!1}}function aa(a){let b=a._observer;null!==b&&_(a,b.takeRecords(),b)}function ab(a){!function(a){0===V&&eB(a).addEventListener("textInput",W,!0)}(a),a._observer=new MutationObserver((b,c)=>{_(a,b,c)})}class ac{constructor(a,b,c,d=new Map,e){this.node=a,this.sharedNodeState=b,this.unknownState=c,this.knownState=d;let{sharedConfigMap:f}=this.sharedNodeState,g=void 0!==e?e:function(a,b,c){let d=c.size;if(b)for(let e in b){let b=a.get(e);b&&c.has(b)||d++}return d}(f,c,d);this.size=g}getValue(a){let b=this.knownState.get(a);if(void 0!==b)return b;this.sharedNodeState.sharedConfigMap.set(a.key,a);let c=a.defaultValue;if(this.unknownState&&a.key in this.unknownState){let b=this.unknownState[a.key];void 0!==b&&(c=a.parse(b)),this.updateFromKnown(a,c)}return c}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){let a={...this.unknownState},b={};for(let[b,c]of this.knownState)b.isEqual(c,b.defaultValue)?delete a[b.key]:a[b.key]=b.unparse(c);for(let c of this.sharedNodeState.flatKeys)c in a&&(b[c]=a[c],delete a[c]);return af(a)&&(b.$=a),b}getWritable(a){if(this.node===a)return this;let{sharedNodeState:b,unknownState:c}=this,d=new Map(this.knownState);return new ac(a,b,function(a,b,c){let d;if(c)for(let[e,f]of Object.entries(c)){let c=a.get(e);c?b.has(c)||b.set(c,c.parse(f)):(d=d||{})[e]=f}return d}(b.sharedConfigMap,d,c),d,this.size)}updateFromKnown(a,b){let c=a.key;this.sharedNodeState.sharedConfigMap.set(c,a);let{knownState:d,unknownState:e}=this;d.has(a)||e&&c in e||(e&&(delete e[c],this.unknownState=af(e)),this.size++),d.set(a,b)}updateFromUnknown(a,b){let c=this.sharedNodeState.sharedConfigMap.get(a);c?this.updateFromKnown(c,c.parse(b)):(this.unknownState=this.unknownState||{},a in this.unknownState||this.size++,this.unknownState[a]=b)}updateFromJSON(a){let{knownState:b}=this;for(let a of b.keys())b.set(a,a.defaultValue);if(this.size=b.size,this.unknownState=void 0,a)for(let[b,c]of Object.entries(a))this.updateFromUnknown(b,c)}}function ad(a){let b=a.getWritable(),c=b.__state?b.__state.getWritable(b):new ac(b,ae(b));return b.__state=c,c}function ae(a){return a.__state?a.__state.sharedNodeState:dH(eU(),a.getType()).sharedNodeState}function af(a){if(a)for(let b in a)return a}function ag(a,b,c){for(let[d,e]of b.knownState){if(a.has(d.key))continue;a.add(d.key);let b=c?c.getValue(d):d.defaultValue;if(b!==e&&!d.isEqual(b,e))return!0}return!1}function ah(a,b,c){let{unknownState:d}=b,e=c?c.unknownState:void 0;if(d){for(let[b,c]of Object.entries(d))if(!a.has(b)&&(a.add(b),c!==(e?e[b]:void 0)))return!0}return!1}function ai(a,b){let c=a.__state;return c&&c.node===a?c.getWritable(b):c}function aj(a,b){let c=a.__mode,d=a.__format,e=a.__style,f=b.__mode,g=b.__format,h=b.__style,i=a.__state,j=b.__state;return(null===c||c===f)&&(null===d||d===g)&&(null===e||e===h)&&(null===a.__state||i===j||function(a,b){if(a===b)return!0;if(a&&b&&a.size!==b.size)return!1;let c=new Set;return!(a&&ag(c,a,b)||b&&ag(c,b,a)||a&&ah(c,a,b)||b&&ah(c,b,a))}(i,j))}function ak(a,b){let c=a.mergeWithSibling(b),d=c4()._normalizedNodes;return d.add(a.__key),d.add(b.__key),c}function al(a){let b,c,d=a;if(""!==d.__text||!d.isSimpleText()||d.isUnmergeable()){for(;null!==(b=d.getPreviousSibling())&&cl(b)&&b.isSimpleText()&&!b.isUnmergeable();){if(""!==b.__text){aj(b,d)&&(d=ak(b,d));break}b.remove()}for(;null!==(c=d.getNextSibling())&&cl(c)&&c.isSimpleText()&&!c.isUnmergeable();){if(""!==c.__text){aj(d,c)&&(d=ak(d,c));break}c.remove()}}else d.remove()}function am(a){return an(a.anchor),an(a.focus),a}function an(a){for(;"element"===a.type;){let b,c,d=a.getNode(),e=a.offset;if(e===d.getChildrenSize()?(b=d.getChildAtIndex(e-1),c=!0):(b=d.getChildAtIndex(e),c=!1),cl(b)){a.set(b.__key,c?b.getTextContentSize():0,"text",!0);break}if(!dj(b))break;a.set(b.__key,c?b.getChildrenSize():0,"element",!0)}}let ao,ap,aq,ar,as,at,au,av,aw,ax,ay="",az=null,aA="",aB="",aC=!1,aD=!1;function aE(a,b){let c=au.get(a);if(null!==b){let c=aV(a);c.parentNode===b&&b.removeChild(c)}if(av.has(a)||ap._keyToDOMMap.delete(a),dj(c)){let a=aQ(c,au);aF(a,0,a.length-1,null)}void 0!==c&&eo(ax,aq,ar,c,"destroyed")}function aF(a,b,c,d){let e=b;for(;e<=c;++e){let b=a[e];void 0!==b&&aE(b,d)}}function aG(a,b){a.setProperty("text-align",b)}let aH="40px";function aI(a,b){let c=ao.theme.indent;if("string"==typeof c){let d=a.classList.contains(c);b>0&&!d?a.classList.add(c):b<1&&d&&a.classList.remove(c)}let d=getComputedStyle(a).getPropertyValue("--lexical-indent-base-value")||aH;a.style.setProperty("padding-inline-start",0===b?"":`calc(${b} * ${d})`)}function aJ(a,b){let c=a.style;0===b?aG(c,""):b===C?aG(c,"left"):b===D?aG(c,"center"):b===E?aG(c,"right"):b===F?aG(c,"justify"):b===G?aG(c,"start"):b===H&&aG(c,"end")}function aK(a,b){let c=function(a){let b=a.__dir;if(null!==b)return b;if(dp(a))return null;let c=a.getParentOrThrow();return dp(c)&&null===c.__dir?"auto":null}(b);null!==c?a.dir=c:a.removeAttribute("dir")}function aL(a,b){let c=av.get(a);void 0===c&&d(60);let e=c.createDOM(ao,ap);if(function(a,b,c){let d=c._keyToDOMMap;(function(a,b,c){a[`__lexicalKey_${b._key}`]=c})(b,c,a),d.set(a,b)}(a,e,ap),cl(c)?e.setAttribute("data-lexical-text","true"):dm(c)&&e.setAttribute("data-lexical-decorator","true"),dj(c)){let a=c.__indent,b=c.__size;if(aK(e,c),0!==a&&aI(e,a),0!==b){let a=b-1;aM(aQ(c,av),c,0,a,c.getDOMSlot(e))}let d=c.__format;0!==d&&aJ(e,d),c.isInline()||aO(null,c,e),et(c)&&(ay+=J,aB+=J)}else{let b=c.getTextContent();if(dm(c)){let b=c.decorate(ap,ao);null!==b&&aS(a,b),e.contentEditable="false"}ay+=b,aB+=b}return null!==b&&b.insertChild(e),eo(ax,aq,ar,c,"created"),e}function aM(a,b,c,d,e){let f=ay;ay="";let g=c;for(;g<=d;++g){aL(a[g],e);let b=av.get(a[g]);null!==b&&cl(b)&&(null===az&&(az=b.getFormat()),""===aA&&(aA=b.getStyle()))}et(b)&&(ay+=J),e.element.__lexicalTextContent=ay,ay=f+ay}function aN(a,b){if(a){let c=a.__last;if(c){let a=b.get(c);if(a)return b3(a)?"line-break":dm(a)&&a.isInline()?"decorator":null}return"empty"}return null}function aO(a,b,c){let d=aN(a,au),e=aN(b,av);d!==e&&b.getDOMSlot(c).setManagedLineBreak(e)}function aP(a,b,c){var e;az=null,aA="",function(a,b,c){let e=ay,f=a.__size,g=b.__size;ay="";let h=c.element;if(1===f&&1===g){let c=a.__first,d=b.__first;if(c===d)aR(c,h);else{let a=aV(c),b=aL(d,null);try{h.replaceChild(b,a)}catch(e){if("object"==typeof e&&null!=e)throw Error(`${e.toString()} Parent: ${h.tagName}, new child: {tag: ${b.tagName} key: ${d}}, old child: {tag: ${a.tagName}, key: ${c}}.`);throw e}aE(c,null)}let e=av.get(d);cl(e)&&(null===az&&(az=e.getFormat()),""===aA&&(aA=e.getStyle()))}else{let e=aQ(a,au),i=aQ(b,av);if(e.length!==f&&d(227),i.length!==g&&d(228),0===f)0!==g&&aM(i,b,0,g-1,c);else if(0===g){if(0!==f){let a=null==c.after&&null==c.before&&null==c.element.__lexicalLineBreak;aF(e,0,f-1,a?null:h),a&&(h.textContent="")}}else!function(a,b,c,d,e,f){let g=d-1,h=e-1,i,j,k=f.getFirstChild(),l=0,m=0;for(;l<=g&&m<=h;){let a=b[l],d=c[m];if(a===d)k=aT(aR(d,f.element)),l++,m++;else{void 0===i&&(i=new Set(b)),void 0===j&&(j=new Set(c));let e=j.has(a),g=i.has(d);if(e)if(g){let a=eu(ap,d);a===k?k=aT(aR(d,f.element)):(f.withBefore(k).insertChild(a),aR(d,f.element)),l++,m++}else aL(d,f.withBefore(k)),m++;else k=aT(aV(a)),aE(a,f.element),l++}let e=av.get(d);null!==e&&cl(e)&&(null===az&&(az=e.getFormat()),""===aA&&(aA=e.getStyle()))}let o=l>g,p=m>h;if(o&&!p){let b=c[h+1],d=void 0===b?null:ap.getElementByKey(b);aM(c,a,m,h,f.withBefore(d))}else p&&!o&&aF(b,l,g,f.element)}(b,e,i,f,g,c)}et(b)&&(ay+=J),h.__lexicalTextContent=ay,ay=e+ay}(a,b,b.getDOMSlot(c)),e=b,null==az||az===e.__textFormat||aD||e.setTextFormat(az),function(a){""===aA||aA===a.__textStyle||aD||a.setTextStyle(aA)}(b)}function aQ(a,b){let c=[],e=a.__first;for(;null!==e;){let a=b.get(e);void 0===a&&d(101),c.push(e),e=a.__next}return c}function aR(a,b){let c=au.get(a),e=av.get(a);void 0!==c&&void 0!==e||d(61);let f=aC||at.has(a)||as.has(a),g=eu(ap,a);if(c===e&&!f){if(dj(c)){let a=g.__lexicalTextContent;void 0!==a&&(ay+=a,aB+=a)}else{let a=c.getTextContent();aB+=a,ay+=a}return g}if(c!==e&&f&&eo(ax,aq,ar,e,"updated"),e.updateDOM(c,g,ao)){let c=aL(a,null);return null===b&&d(62),b.replaceChild(c,g),aE(a,null),c}if(dj(c)&&dj(e)){let a=e.__indent;(aC||a!==c.__indent)&&aI(g,a);let b=e.__format;if((aC||b!==c.__format)&&aJ(g,b),f&&(aP(c,e,g),dp(e)||e.isInline()||aO(c,e,g)),et(e)&&(ay+=J,aB+=J),(aC||e.__dir!==c.__dir)&&(aK(g,e),dp(e)&&!aC))for(let a of e.getChildren())dj(a)&&aK(eu(ap,a.getKey()),a)}else{let b=e.getTextContent();if(dm(e)){let b=e.decorate(ap,ao);null!==b&&aS(a,b)}ay+=b,aB+=b}if(!aD&&dp(e)&&e.__cachedText!==aB){let a=e.getWritable();a.__cachedText=aB,e=a}return g}function aS(a,b){let c=ap._pendingDecorators,d=ap._decorators;if(null===c){if(d[a]===b)return;c=d3(ap)}c[a]=b}function aT(a){let b=a.nextSibling;return null!==b&&b===ap._blockCursorElement&&(b=b.nextSibling),b}function aU(a,b,c,d,e,f){ay="",aB="",aC=d===x,ap=c,ao=c._config,aq=c._nodes,ar=ap._listeners.mutation,as=e,at=f,au=a._nodeMap,av=b._nodeMap,aD=b._readOnly,aw=new Map(c._keyToDOMMap);let g=new Map;return ax=g,aR("root",null),ap=void 0,aq=void 0,as=void 0,at=void 0,au=void 0,av=void 0,ao=void 0,aw=void 0,ax=void 0,g}function aV(a){let b=aw.get(a);return void 0===b&&d(75,a),b}function aW(a){return{type:a}}let aX=aW("SELECTION_CHANGE_COMMAND"),aY=(aW("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),aW("CLICK_COMMAND")),aZ=aW("DELETE_CHARACTER_COMMAND"),a$=aW("INSERT_LINE_BREAK_COMMAND"),a_=aW("INSERT_PARAGRAPH_COMMAND"),a0=aW("CONTROLLED_TEXT_INSERTION_COMMAND"),a1=aW("PASTE_COMMAND"),a2=aW("REMOVE_TEXT_COMMAND"),a3=aW("DELETE_WORD_COMMAND"),a4=aW("DELETE_LINE_COMMAND"),a5=aW("FORMAT_TEXT_COMMAND"),a6=aW("UNDO_COMMAND"),a7=aW("REDO_COMMAND"),a8=aW("KEYDOWN_COMMAND"),a9=aW("KEY_ARROW_RIGHT_COMMAND"),ba=aW("MOVE_TO_END"),bb=aW("KEY_ARROW_LEFT_COMMAND"),bc=aW("MOVE_TO_START"),bd=aW("KEY_ARROW_UP_COMMAND"),be=aW("KEY_ARROW_DOWN_COMMAND"),bf=aW("KEY_ENTER_COMMAND"),bg=aW("KEY_SPACE_COMMAND"),bh=aW("KEY_BACKSPACE_COMMAND"),bi=aW("KEY_ESCAPE_COMMAND"),bj=aW("KEY_DELETE_COMMAND"),bk=aW("KEY_TAB_COMMAND"),bl=(aW("INSERT_TAB_COMMAND"),aW("INDENT_CONTENT_COMMAND"),aW("OUTDENT_CONTENT_COMMAND"),aW("DROP_COMMAND")),bm=(aW("FORMAT_ELEMENT_COMMAND"),aW("DRAGSTART_COMMAND")),bn=aW("DRAGOVER_COMMAND"),bo=aW("DRAGEND_COMMAND"),bp=aW("COPY_COMMAND"),bq=aW("CUT_COMMAND"),br=aW("SELECT_ALL_COMMAND"),bs=(aW("CLEAR_EDITOR_COMMAND"),aW("CLEAR_HISTORY_COMMAND"),aW("CAN_REDO_COMMAND"),aW("CAN_UNDO_COMMAND"),aW("FOCUS_COMMAND")),bt=aW("BLUR_COMMAND"),bu=aW("KEY_MODIFIER_COMMAND"),bv=Object.freeze({}),bw=30,bx=[["keydown",function(a,b){if((by=a.timeStamp,bz=a.key,!(b.isComposing()||es(b,a8,a)))&&null!=a.key){if(bH&&el(a))return df(b,()=>{bR(b,bI)}),bH=!1,void(bI="");if(function(a){return ei(a,"ArrowRight",{shiftKey:"any"})}(a))es(b,a9,a);else if(function(a){return ei(a,"ArrowRight",ej)}(a))es(b,ba,a);else if(function(a){return ei(a,"ArrowLeft",{shiftKey:"any"})}(a))es(b,bb,a);else if(function(a){return ei(a,"ArrowLeft",ej)}(a))es(b,bc,a);else if(function(a){return ei(a,"ArrowUp",{altKey:"any",shiftKey:"any"})}(a))es(b,bd,a);else if(function(a){return ei(a,"ArrowDown",{altKey:"any",shiftKey:"any"})}(a))es(b,be,a);else if(function(a){return ei(a,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(a))bF=!0,es(b,bf,a);else if(function(a){return" "===a.key}(a))es(b,bg,a);else if(function(a){return g&&ei(a,"o",{ctrlKey:!0})}(a))a.preventDefault(),bF=!0,es(b,a$,!0);else if(function(a){return ei(a,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(a))bF=!1,es(b,bf,a);else if(function(a){return ei(a,"Backspace",{shiftKey:"any"})||g&&ei(a,"h",{ctrlKey:!0})}(a))el(a)?es(b,bh,a):(a.preventDefault(),es(b,aZ,!0));else if(function(a){return"Escape"===a.key}(a))es(b,bi,a);else if(function(a){return ei(a,"Delete",{})||g&&ei(a,"d",{ctrlKey:!0})}(a))!function(a){return"Delete"===a.key}(a)?(a.preventDefault(),es(b,aZ,!1)):es(b,bj,a);else if(function(a){return ei(a,"Backspace",ek)}(a))a.preventDefault(),es(b,a3,!0);else if(function(a){return ei(a,"Delete",ek)}(a))a.preventDefault(),es(b,a3,!1);else if(function(a){return g&&ei(a,"Backspace",{metaKey:!0})}(a))a.preventDefault(),es(b,a4,!0);else if(function(a){return g&&(ei(a,"Delete",{metaKey:!0})||ei(a,"k",{ctrlKey:!0}))}(a))a.preventDefault(),es(b,a4,!1);else if(function(a){return ei(a,"b",ej)}(a))a.preventDefault(),es(b,a5,"bold");else if(function(a){return ei(a,"u",ej)}(a))a.preventDefault(),es(b,a5,"underline");else if(function(a){return ei(a,"i",ej)}(a))a.preventDefault(),es(b,a5,"italic");else if(function(a){return ei(a,"Tab",{shiftKey:"any"})}(a))es(b,bk,a);else if(function(a){return ei(a,"z",ej)}(a))a.preventDefault(),es(b,a6,void 0);else if(function(a){return g?ei(a,"z",{metaKey:!0,shiftKey:!0}):ei(a,"y",{ctrlKey:!0})||ei(a,"z",{ctrlKey:!0,shiftKey:!0})}(a))a.preventDefault(),es(b,a7,void 0);else{let c=b._editorState._selection;null===c||cv(c)?em(a)&&(a.preventDefault(),es(b,br,a)):function(a){return ei(a,"c",ej)}(a)?(a.preventDefault(),es(b,bp,a)):function(a){return ei(a,"x",ej)}(a)?(a.preventDefault(),es(b,bq,a)):em(a)&&(a.preventDefault(),es(b,br,a))}(function(a){return a.ctrlKey||a.shiftKey||a.altKey||a.metaKey})(a)&&es(b,bu,a)}}],["pointerdown",function(a,b){let c=a.target,d=a.pointerType;eO(c)&&"touch"!==d&&"pen"!==d&&0===a.button&&df(b,()=>{dK(c)||(bE=!0)})}],["compositionstart",function(a,b){df(b,()=>{let c=cL();if(cv(c)&&!b.isComposing()){let d=c.anchor,e=c.anchor.getNode();dZ(d.key),(a.timeStamp<by+bw||"element"===d.type||!c.isCollapsed()||e.getFormat()!==c.format||cl(e)&&e.getStyle()!==c.style)&&es(b,a0,K)}})}],["compositionend",function(a,b){h?bG=!0:!k&&(j||p)?(bH=!0,bI=a.data):df(b,()=>{bR(b,a.data)})}],["input",function(a,b){a.stopPropagation(),df(b,()=>{if(eN(a.target)&&dK(a.target))return;let c=cL(),d=a.data,e=bQ(a);if(null!=d&&cv(c)&&bL(c,e,d,a.timeStamp,!1)){bG&&(bR(b,d),bG=!1);let e=c.anchor.getNode(),f=eK(eB(b));if(null===f)return;let g=c.isBackward(),l=g?c.anchor.offset:c.focus.offset,m=g?c.focus.offset:c.anchor.offset;i&&!c.isCollapsed()&&cl(e)&&null!==f.anchorNode&&e.getTextContent().slice(0,l)+d+e.getTextContent().slice(l+m)===ec(f.anchorNode)||es(b,a0,d);let o=d.length;h&&o>1&&"insertCompositionText"===a.inputType&&!b.isComposing()&&(c.anchor.offset-=o),j||k||p||!b.isComposing()||(by=0,dZ(null))}else ed(!1,b,null!==d?d:void 0),bG&&(bR(b,d||void 0),bG=!1);!function(){c1(),aa(c4())}()},{event:a}),bB=null}],["click",function(a,b){df(b,()=>{let c=cL(),d=eK(eB(b)),e=cM();if(d){if(cv(c)){let b=c.anchor,f=b.getNode();if("element"===b.type&&0===b.offset&&c.isCollapsed()&&!dp(f)&&1===d5().getChildrenSize()&&f.getTopLevelElementOrThrow().isEmpty()&&null!==e&&c.is(e))d.removeAllRanges(),c.dirty=!0;else if(3===a.detail&&!c.isCollapsed()&&f!==c.focus.getNode()){let a=function(a,b){let c=a;for(;c!==d5()&&null!=c;){if(b(c))return c;c=c.getParent()}return null}(f,a=>dj(a)&&!a.isInline());dj(a)&&a.select(0)}}else if("touch"===a.pointerType||"pen"===a.pointerType){let c=d.anchorNode;(eN(c)||dS(c))&&d7(cK(e,d,b,a))}}es(b,aY,a)})}],["cut",bv],["copy",bv],["dragstart",bv],["dragover",bv],["dragend",bv],["paste",bv],["focus",bv],["blur",bv],["drop",bv]];i&&bx.push(["beforeinput",(a,b)=>(function(a,b){let c=a.inputType,e=bQ(a);"deleteCompositionText"===c||h&&er(b)||"insertCompositionText"!==c&&df(b,()=>{var f;let g=cL();if("deleteContentBackward"===c){if(null===g){let a=cM();if(!cv(a))return;d7(a.clone())}if(cv(g)){let c=g.anchor.key===g.focus.key;if(f=a.timeStamp,"MediaLast"===bz&&f<by+bw&&b.isComposing()&&c){if(dZ(null),by=0,setTimeout(()=>{df(b,()=>{dZ(null)})},bw),cv(g)){let a=g.anchor.getNode();a.markDirty(),cl(a)||d(142),bP(g,a)}}else{dZ(null),a.preventDefault();let d=g.anchor.getNode(),e=d.getTextContent(),f=d.canInsertTextAfter(),h=0===g.anchor.offset&&g.focus.offset===e.length,i=o&&c&&!h&&f;if(i&&g.isCollapsed()&&(i=!dm(eq(g.anchor,!0))),!i){es(b,aZ,!0);let a=cL();o&&cv(a)&&a.isCollapsed()&&(bJ=a,setTimeout(()=>bJ=null))}}return}}if(!cv(g))return;let h=a.data;null!==bB&&ed(!1,b,bB),g.dirty&&null===bB||!g.isCollapsed()||dp(g.anchor.getNode())||null===e||g.applyDOMRange(e),bB=null;let i=g.anchor,j=g.focus,l=i.getNode(),m=j.getNode();if("insertText"!==c&&"insertTranspose"!==c)switch(a.preventDefault(),c){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":es(b,a0,a);break;case"insertFromComposition":dZ(null),es(b,a0,a);break;case"insertLineBreak":dZ(null),es(b,a$,!1);break;case"insertParagraph":dZ(null),bF&&!k?(bF=!1,es(b,a$,!1)):es(b,a_,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":es(b,a1,a);break;case"deleteByComposition":(function(a,b){return a!==b||dj(a)||dj(b)||!dQ(a)||!dQ(b)})(l,m)&&es(b,a2,a);break;case"deleteByDrag":case"deleteByCut":es(b,a2,a);break;case"deleteContent":es(b,aZ,!1);break;case"deleteWordBackward":es(b,a3,!0);break;case"deleteWordForward":es(b,a3,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":es(b,a4,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":es(b,a4,!1);break;case"formatStrikeThrough":es(b,a5,"strikethrough");break;case"formatBold":es(b,a5,"bold");break;case"formatItalic":es(b,a5,"italic");break;case"formatUnderline":es(b,a5,"underline");break;case"historyUndo":es(b,a6,void 0);break;case"historyRedo":es(b,a7,void 0)}else{if("\n"===h)a.preventDefault(),es(b,a$,!1);else if(h===J)a.preventDefault(),es(b,a_,void 0);else if(null==h&&a.dataTransfer){let b=a.dataTransfer.getData("text/plain");a.preventDefault(),g.insertRawText(b)}else null!=h&&bL(g,e,h,a.timeStamp,!0)?(a.preventDefault(),es(b,a0,h)):bB=h;bA=a.timeStamp}})})(a,b)]);let by=0,bz=null,bA=0,bB=null,bC=new WeakMap,bD=!1,bE=!1,bF=!1,bG=!1,bH=!1,bI="",bJ=null,bK=[0,"",0,"root",0];function bL(a,b,c,d,e){let f=a.anchor,g=a.focus,h=f.getNode(),j=c4(),k=eK(eB(j)),l=null!==k?k.anchorNode:null,m=f.key,o=j.getElementByKey(m),p=c.length;return m!==g.key||!cl(h)||(!e&&(!i||bA<d+50)||h.isDirty()&&p<2||d9(c))&&f.offset!==g.offset&&!h.isComposing()||dR(h)||h.isDirty()&&p>1||(e||!i)&&null!==o&&!h.isComposing()&&l!==dU(o)||null!==k&&null!==b&&(!b.collapsed||b.startContainer!==k.anchorNode||b.startOffset!==k.anchorOffset)||h.getFormat()!==a.format||h.getStyle()!==a.style||function(a,b){if(b.isSegmented())return!0;if(!a.isCollapsed())return!1;let c=a.anchor.offset,d=b.getParentOrThrow(),e=dQ(b);return 0===c?!b.canInsertTextBefore()||!d.canInsertTextBefore()&&!b.isComposing()||e||function(a){let b=a.getPreviousSibling();return(cl(b)||dj(b)&&b.isInline())&&!b.canInsertTextAfter()}(b):c===b.getTextContentSize()&&(!b.canInsertTextAfter()||!d.canInsertTextAfter()&&!b.isComposing()||e)}(a,h)}function bM(a,b){return dS(a)&&null!==a.nodeValue&&0!==b&&b!==a.nodeValue.length}function bN(a,b,c){let{anchorNode:e,anchorOffset:f,focusNode:g,focusOffset:h}=a;bD&&(bD=!1,bM(e,f)&&bM(g,h)&&!bJ)||df(b,()=>{if(!c)return void d7(null);if(!dM(b,e,g))return;let i=cL();if(bJ&&cv(i)&&i.isCollapsed()){let a=i.anchor,b=bJ.anchor;(a.key===b.key&&a.offset===b.offset+1||1===a.offset&&b.getNode().is(a.getNode().getPreviousSibling()))&&d7(i=bJ.clone())}if(bJ=null,cv(i)){let c=i.anchor,e=c.getNode();if(i.isCollapsed()){"Range"===a.type&&a.anchorNode===a.focusNode&&(i.dirty=!0);let f=eB(b).event,g=f?f.timeStamp:performance.now(),[h,j,k,l,m]=bK,o=d5(),p=!1===b.isComposing()&&""===o.getTextContent();if(g<m+200&&c.offset===k&&c.key===l)bO(i,h,j);else if("text"===c.type)cl(e)||d(141),bP(i,e);else if("element"===c.type&&!p){dj(e)||d(259);let a=c.getNode();a.isEmpty()?function(a,b){bO(a,b.getTextFormat(),b.getTextStyle())}(i,a):bO(i,0,"")}}else{let a=c.key,b=i.focus.key,d=i.getNodes(),e=d.length,g=i.isBackward(),j=g?h:f,k=g?f:h,l=g?b:a,m=g?a:b,o=B,p=!1;for(let a=0;a<e;a++){let b=d[a],c=b.getTextContentSize();if(cl(b)&&0!==c&&(0!==a||b.__key!==l||j!==c)&&(a!==e-1||b.__key!==m||0!==k)&&(p=!0,0==(o&=b.getFormat())))break}i.format=p?o:0}}es(b,aX,void 0)})}function bO(a,b,c){a.format===b&&a.style===c||(a.format=b,a.style=c,a.dirty=!0)}function bP(a,b){bO(a,b.getFormat(),b.getStyle())}function bQ(a){if(!a.getTargetRanges)return null;let b=a.getTargetRanges();return 0===b.length?null:b[0]}function bR(a,b){let c=a._compositionKey;if(dZ(null),null!==c&&null!=b){if(""===b){let b=d_(c),d=dU(a.getElementByKey(c));return void(null!==d&&null!==d.nodeValue&&cl(b)&&ee(b,d.nodeValue,null,null,!0))}if("\n"===b[b.length-1]){let b=cL();if(cv(b)){let c=b.focus;return b.anchor.set(c.key,c.offset,c.type),void es(a,bf,null)}}}ed(!0,a,b)}function bS(a){let b=a.__lexicalEventHandles;return void 0===b&&(a.__lexicalEventHandles=b=[]),b}let bT=new Map;function bU(a){let b=eL(a.target);if(null===b)return;let c=dO(b.anchorNode);if(null===c)return;bE&&(bE=!1,df(c,()=>{let d=cM(),e=b.anchorNode;(eN(e)||dS(e))&&d7(cK(d,b,c,a))}));let d=ea(c),e=d[d.length-1],f=e._key,g=bT.get(f),h=g||e;h!==c&&bN(b,h,!1),bN(b,c,!0),c!==e?bT.set(f,c):g&&bT.delete(f)}function bV(a){a._lexicalHandled=!0}function bW(a){return!0===a._lexicalHandled}let bX=()=>{};function bY(a){let b=a.ownerDocument,c=bC.get(b);if(void 0===c)return void bX();let e=c-1;e>=0||d(164),bC.set(b,e),0===e&&b.removeEventListener("selectionchange",bU);let f=dP(a);dN(f)?(!function(a){if(null!==a._parentEditor){let b=ea(a),c=b[b.length-1]._key;bT.get(c)===a&&bT.delete(c)}else bT.delete(a._key)}(f),a.__lexicalEditor=null):f&&d(198);let g=bS(a);for(let a=0;a<g.length;a++)g[a]();a.__lexicalEventHandles=[]}function bZ(a,b,c){c1();let d=a.__key,e=a.getParent();if(null===e)return;let f=function(a){let b=cL();if(!cv(b)||!dj(a))return b;let{anchor:c,focus:d}=b,e=c.getNode(),f=d.getNode();return ez(e,a)&&c.set(a.__key,0,"element"),ez(f,a)&&d.set(a.__key,0,"element"),b}(a),g=!1;if(cv(f)&&b){let b=f.anchor,c=f.focus;b.key===d&&(cP(b,a,e,a.getPreviousSibling(),a.getNextSibling()),g=!0),c.key===d&&(cP(c,a,e,a.getPreviousSibling(),a.getNextSibling()),g=!0)}else cx(f)&&b&&a.isSelected()&&a.selectPrevious();if(cv(f)&&b&&!g){let b=a.getIndexWithinParent();dX(a),cN(f,e,b,-1)}else dX(a);c||eE(e)||e.canBeEmpty()||!e.isEmpty()||bZ(e,b),b&&f&&dp(e)&&e.isEmpty()&&e.selectEnd()}function b$(a){return a}class b_{static getType(){let{ownNodeType:a}=e1(this);return void 0===a&&d(64,this.name),a}static clone(a){d(65,this.name)}$config(){return{}}config(a,b){let c=b.extends||Object.getPrototypeOf(this.constructor);return Object.assign(b,{extends:c,type:a}),{[a]:b}}afterCloneFrom(a){this.__key===a.__key?(this.__parent=a.__parent,this.__next=a.__next,this.__prev=a.__prev,this.__state=a.__state):a.__state&&(this.__state=a.__state.getWritable(this))}constructor(a){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),dW(this,a)}getType(){return this.__type}isInline(){d(137,this.constructor.name)}isAttached(){let a=this.__key;for(;null!==a;){if("root"===a)return!0;let b=d_(a);if(null===b)break;a=b.__parent}return!1}isSelected(a){let b=a||cL();if(null==b)return!1;let c=b.getNodes().some(a=>a.__key===this.__key);if(cl(this))return c;if(cv(b)&&"element"===b.anchor.type&&"element"===b.focus.type){if(b.isCollapsed())return!1;let a=this.getParent();if(dm(this)&&this.isInline()&&a){let c=b.isBackward()?b.focus:b.anchor;if(a.is(c.getNode())&&c.offset===a.getChildrenSize()&&this.is(a.getLastChild()))return!1}}return c}getKey(){return this.__key}getIndexWithinParent(){let a=this.getParent();if(null===a)return -1;let b=a.getFirstChild(),c=0;for(;null!==b;){if(this.is(b))return c;c++,b=b.getNextSibling()}return -1}getParent(){let a=this.getLatest().__parent;return null===a?null:d_(a)}getParentOrThrow(){let a=this.getParent();return null===a&&d(66,this.__key),a}getTopLevelElement(){let a=this;for(;null!==a;){let b=a.getParent();if(eE(b))return dj(a)||a===this&&dm(a)||d(194),a;a=b}return null}getTopLevelElementOrThrow(){let a=this.getTopLevelElement();return null===a&&d(67,this.__key),a}getParents(){let a=[],b=this.getParent();for(;null!==b;)a.push(b),b=b.getParent();return a}getParentKeys(){let a=[],b=this.getParent();for(;null!==b;)a.push(b.__key),b=b.getParent();return a}getPreviousSibling(){let a=this.getLatest().__prev;return null===a?null:d_(a)}getPreviousSiblings(){let a=[],b=this.getParent();if(null===b)return a;let c=b.getFirstChild();for(;null!==c&&!c.is(this);)a.push(c),c=c.getNextSibling();return a}getNextSibling(){let a=this.getLatest().__next;return null===a?null:d_(a)}getNextSiblings(){let a=[],b=this.getNextSibling();for(;null!==b;)a.push(b),b=b.getNextSibling();return a}getCommonAncestor(a){let b=dj(this)?this:this.getParent(),c=dj(a)?a:a.getParent(),d=b&&c?fx(b,c):null;return d?d.commonAncestor:null}is(a){return null!=a&&this.__key===a.__key}isBefore(a){let b=fx(this,a);return null!==b&&("descendant"===b.type||("branch"===b.type?-1===fu(b):("same"!==b.type&&"ancestor"!==b.type&&d(279),!1)))}isParentOf(a){let b=fx(this,a);return null!==b&&"ancestor"===b.type}getNodesBetween(a){let b=this.isBefore(a),c=[],e=new Set,f=this;for(;null!==f;){let g=f.__key;if(e.has(g)||(e.add(g),c.push(f)),f===a)break;let h=dj(f)?b?f.getFirstChild():f.getLastChild():null;if(null!==h){f=h;continue}let i=b?f.getNextSibling():f.getPreviousSibling();if(null!==i){f=i;continue}let j=f.getParentOrThrow();if(e.has(j.__key)||c.push(j),j===a)break;let k=null,l=j;do{if(null===l&&d(68),k=b?l.getNextSibling():l.getPreviousSibling(),null===(l=l.getParent()))break;null!==k||e.has(l.__key)||c.push(l)}while(null===k);f=k}return b||c.reverse(),c}isDirty(){let a=c4()._dirtyLeaves;return null!==a&&a.has(this.__key)}getLatest(){let a=d_(this.__key);return null===a&&d(113),a}getWritable(){c1();let a=c3(),b=c4(),c=a._nodeMap,d=this.__key,e=this.getLatest(),f=b._cloneNotNeeded,g=cL();if(null!==g&&g.setCachedNodes(null),f.has(d))return dY(e),e;let h=eY(e);return f.add(d),dY(h),c.set(d,h),h}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(a,b){d(70)}updateDOM(a,b,c){d(71)}exportDOM(a){return{element:this.createDOM(a._config,a)}}exportJSON(){let a=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...a}}static importJSON(a){d(18,this.name)}updateFromJSON(a){return function(a,b){let c=a.getWritable(),d=b.$,e=d;for(let a of ae(c).flatKeys)a in b&&(void 0!==e&&e!==d||(e={...d}),e[a]=b[a]);return(c.__state||e)&&ad(a).updateFromJSON(e),c}(this,a)}static transform(){return null}remove(a){bZ(this,!0,a)}replace(a,b){c1();let c=cL();null!==c&&(c=c.clone()),eG(this,a);let e=this.getLatest(),f=this.__key,g=a.__key,h=a.getWritable(),i=this.getParentOrThrow().getWritable(),j=i.__size;dX(h);let k=e.getPreviousSibling(),l=e.getNextSibling(),m=e.__prev,o=e.__next,p=e.__parent;if((bZ(e,!1,!0),null===k)?i.__first=g:k.getWritable().__next=g,(h.__prev=m,null===l)?i.__last=g:l.getWritable().__prev=g,h.__next=o,h.__parent=p,i.__size=j,b&&(dj(this)&&dj(h)||d(139),this.getChildren().forEach(a=>{h.append(a)})),cv(c)){d7(c);let a=c.anchor,b=c.focus;a.key===f&&ct(a,h),b.key===f&&ct(b,h)}return d$()===f&&dZ(g),h}insertAfter(a,b=!0){c1(),eG(this,a);let c=this.getWritable(),d=a.getWritable(),e=d.getParent(),f=cL(),g=!1,h=!1;if(null!==e){let b=a.getIndexWithinParent();if(dX(d),cv(f)){let a=e.__key,c=f.anchor,d=f.focus;g="element"===c.type&&c.key===a&&c.offset===b+1,h="element"===d.type&&d.key===a&&d.offset===b+1}}let i=this.getNextSibling(),j=this.getParentOrThrow().getWritable(),k=d.__key,l=c.__next;if(null===i?j.__last=k:i.getWritable().__prev=k,j.__size++,c.__next=k,d.__next=l,d.__prev=c.__key,d.__parent=c.__parent,b&&cv(f)){let a=this.getIndexWithinParent();cN(f,j,a+1);let b=j.__key;g&&f.anchor.set(b,a+2,"element"),h&&f.focus.set(b,a+2,"element")}return a}insertBefore(a,b=!0){c1(),eG(this,a);let c=this.getWritable(),d=a.getWritable(),e=d.__key;dX(d);let f=this.getPreviousSibling(),g=this.getParentOrThrow().getWritable(),h=c.__prev,i=this.getIndexWithinParent();null===f?g.__first=e:f.getWritable().__next=e,g.__size++,c.__prev=e,d.__prev=h,d.__next=c.__key,d.__parent=c.__parent;let j=cL();return b&&cv(j)&&cN(j,this.getParentOrThrow(),i),a}isParentRequired(){return!1}createParentElementNode(){return dA()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(a,b){c1();let c=this.getPreviousSibling(),d=this.getParentOrThrow();if(null===c)return d.select(0,0);if(dj(c))return c.select();if(!cl(c)){let a=c.getIndexWithinParent()+1;return d.select(a,a)}return c.select(a,b)}selectNext(a,b){c1();let c=this.getNextSibling(),d=this.getParentOrThrow();if(null===c)return d.select();if(dj(c))return c.select(0,0);if(!cl(c)){let a=c.getIndexWithinParent();return d.select(a,a)}return c.select(a,b)}markDirty(){this.getWritable()}reconcileObservedMutation(a,b){this.markDirty()}}class b0 extends b_{static getType(){return"linebreak"}static clone(a){return new b0(a.__key)}constructor(a){super(a)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:a=>(function(a){let b=a.parentElement;if(null!==b&&eR(b)){let c=b.firstChild;if(c===a||c.nextSibling===a&&b4(c)){let c=b.lastChild;if(c===a||c.previousSibling===a&&b4(c))return!0}}return!1})(a)||function(a){let b=a.parentElement;if(null!==b&&eR(b)){let c=b.firstChild;if(c===a||c.nextSibling===a&&b4(c))return!1;let d=b.lastChild;if(d===a||d.previousSibling===a&&b4(d))return!0}return!1}(a)?null:{conversion:b1,priority:0}}}static importJSON(a){return b2().updateFromJSON(a)}}function b1(a){return{node:b2()}}function b2(){return eF(new b0)}function b3(a){return a instanceof b0}function b4(a){return dS(a)&&/^( |\t|\r?\n)+$/.test(a.textContent||"")}function b5(a,b){return 16&b?"code":b&A?"mark":32&b?"sub":64&b?"sup":null}function b6(a,b){return 1&b?"strong":2&b?"em":"span"}function b7(a,b,c,d,e){let f=d.classList,g=en(e,"base");void 0!==g&&f.add(...g);let h=!1,i=b&z&&b&y;for(let a in void 0!==(g=en(e,"underlineStrikethrough"))&&(c&z&&c&y?(h=!0,i||f.add(...g)):i&&f.remove(...g)),L){let d=L[a];if(void 0!==(g=en(e,a)))if(c&d){if(h&&("underline"===a||"strikethrough"===a)){b&d&&f.remove(...g);continue}b&d&&(!i||"underline"!==a)&&"strikethrough"!==a||f.add(...g)}else b&d&&f.remove(...g)}}function b8(a,b,c){let d=b.firstChild,e=c.isComposing(),f=a+(e?I:"");if(null==d)b.textContent=f;else{let a=d.nodeValue;if(a!==f)if(e||h){let[b,c,e]=function(a,b){let c=a.length,d=b.length,e=0,f=0;for(;e<c&&e<d&&a[e]===b[e];)e++;for(;f+e<c&&f+e<d&&a[c-f-1]===b[d-f-1];)f++;return[e,c-e-f,b.slice(e,d-f)]}(a,f);0!==c&&d.deleteData(b,c),d.insertData(b,e)}else d.nodeValue=f}}function b9(a,b,c,d,e,f){b8(e,a,b);let g=f.theme.text;void 0!==g&&b7(0,0,d,a,g)}function ca(a,b){let c=document.createElement(b);return c.appendChild(a),c}class cb extends b_{static getType(){return"text"}static clone(a){return new cb(a.__text,a.__key)}afterCloneFrom(a){super.afterCloneFrom(a),this.__text=a.__text,this.__format=a.__format,this.__style=a.__style,this.__mode=a.__mode,this.__detail=a.__detail}constructor(a="",b){super(b),this.__text=a,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){return Q[this.getLatest().__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===d$()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(a){let b=L[a];return!!(this.getFormat()&b)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(a,b){return dV(this.getLatest().__format,a,b)}canHaveFormat(){return!0}isInline(){return!0}createDOM(a,b){let c=this.__format,d=b5(0,c),e=b6(0,c),f=null===d?e:d,g=document.createElement(f),h=g;this.hasFormat("code")&&g.setAttribute("spellcheck","false"),null!==d&&(h=document.createElement(e),g.appendChild(h)),b9(h,this,0,c,this.__text,a);let i=this.__style;return""!==i&&(g.style.cssText=i),g}updateDOM(a,b,c){let e=this.__text,f=a.__format,g=this.__format,h=b5(0,f),i=b5(0,g),j=b6(0,f),k=b6(0,g);if((null===h?j:h)!==(null===i?k:i))return!0;if(h===i&&j!==k){let a=b.firstChild;null==a&&d(48);let f=document.createElement(k);return b9(f,this,0,g,e,c),b.replaceChild(f,a),!1}let l=b;null!==i&&null!==h&&null==(l=b.firstChild)&&d(49),b8(e,l,this);let m=c.theme.text;void 0!==m&&f!==g&&b7(0,f,g,l,m);let o=a.__style,p=this.__style;return o!==p&&(b.style.cssText=p),!1}static importDOM(){return{"#text":()=>({conversion:cg,priority:0}),b:()=>({conversion:cd,priority:0}),code:()=>({conversion:cj,priority:0}),em:()=>({conversion:cj,priority:0}),i:()=>({conversion:cj,priority:0}),mark:()=>({conversion:cj,priority:0}),s:()=>({conversion:cj,priority:0}),span:()=>({conversion:cc,priority:0}),strong:()=>({conversion:cj,priority:0}),sub:()=>({conversion:cj,priority:0}),sup:()=>({conversion:cj,priority:0}),u:()=>({conversion:cj,priority:0})}}static importJSON(a){return ck().updateFromJSON(a)}updateFromJSON(a){return super.updateFromJSON(a).setTextContent(a.text).setFormat(a.format).setDetail(a.detail).setMode(a.mode).setStyle(a.style)}exportDOM(a){let{element:b}=super.exportDOM(a);return eN(b)||d(132),b.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?b.style.textTransform="lowercase":this.hasFormat("uppercase")?b.style.textTransform="uppercase":this.hasFormat("capitalize")&&(b.style.textTransform="capitalize"),this.hasFormat("bold")&&(b=ca(b,"b")),this.hasFormat("italic")&&(b=ca(b,"i")),this.hasFormat("strikethrough")&&(b=ca(b,"s")),this.hasFormat("underline")&&(b=ca(b,"u")),{element:b}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(a,b){}setFormat(a){let b=this.getWritable();return b.__format="string"==typeof a?L[a]:a,b}setDetail(a){let b=this.getWritable();return b.__detail="string"==typeof a?M[a]:a,b}setStyle(a){let b=this.getWritable();return b.__style=a,b}toggleFormat(a){let b=dV(this.getFormat(),a,null);return this.setFormat(b)}toggleDirectionless(){let a=this.getWritable();return a.__detail^=1,a}toggleUnmergeable(){let a=this.getWritable();return a.__detail^=2,a}setMode(a){let b=P[a];if(this.__mode===b)return this;let c=this.getWritable();return c.__mode=b,c}setTextContent(a){if(this.__text===a)return this;let b=this.getWritable();return b.__text=a,b}select(a,b){c1();let c=a,d=b,e=cL(),f=this.getTextContent(),g=this.__key;if("string"==typeof f){let a=f.length;void 0===c&&(c=a),void 0===d&&(d=a)}else c=0,d=0;if(!cv(e))return cH(g,c,g,d,"text","text");{let a=d$();a!==e.anchor.key&&a!==e.focus.key||dZ(g),e.setTextNodeRange(this,c,this,d)}return e}selectStart(){return this.select(0,0)}selectEnd(){let a=this.getTextContentSize();return this.select(a,a)}spliceText(a,b,c,d){let e=this.getWritable(),f=e.__text,g=c.length,h=a;h<0&&(h=g+h)<0&&(h=0);let i=cL();if(d&&cv(i)){let b=a+g;i.setTextNodeRange(e,b,e,b)}return e.__text=f.slice(0,h)+c+f.slice(h+b),e}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...a){let b;c1();let c=this.getLatest(),d=c.getTextContent();if(""===d)return[];let e=c.__key,f=d$(),g=d.length;a.sort((a,b)=>a-b),a.push(g);let h=[],i=a.length;for(let b=0,c=0;b<g&&c<=i;c++){let e=a[c];e>b&&(h.push(d.slice(b,e)),b=e)}let j=h.length;if(1===j)return[c];let k=h[0],l=c.getParent(),m=c.getFormat(),o=c.getStyle(),p=c.__detail,q=!1,r=null,s=null,t=cL();if(cv(t)){let[a,b]=t.isBackward()?[t.focus,t.anchor]:[t.anchor,t.focus];"text"===a.type&&a.key===e&&(r=a),"text"===b.type&&b.key===e&&(s=b)}c.isSegmented()?((b=ck(k)).__format=m,b.__style=o,b.__detail=p,b.__state=ai(c,b),q=!0):b=c.setTextContent(k);let u=[b];for(let a=1;a<j;a++){let b=ck(h[a]);b.__format=m,b.__style=o,b.__detail=p,b.__state=ai(c,b);let d=b.__key;f===e&&dZ(d),u.push(b)}let v=r?r.offset:null,w=s?s.offset:null,x=0;for(let a of u){if(!r&&!s)break;let b=x+a.getTextContentSize();if(null!==r&&null!==v&&v<=b&&v>=x&&(r.set(a.getKey(),v-x,"text"),v<b&&(r=null)),null!==s&&null!==w&&w<=b&&w>=x){s.set(a.getKey(),w-x,"text");break}x=b}if(null!==l){!function(a){let b=a.getPreviousSibling(),c=a.getNextSibling();null!==b&&dY(b),null!==c&&dY(c)}(this);let a=l.getWritable(),b=this.getIndexWithinParent();q?(a.splice(b,0,u),this.remove()):a.splice(b,1,u),cv(t)&&cN(t,l,b,j-1)}return u}mergeWithSibling(a){let b=a===this.getPreviousSibling();b||a===this.getNextSibling()||d(50);let c=this.__key,e=a.__key,f=this.__text,g=f.length;d$()===e&&dZ(c);let h=cL();if(cv(h)){let d=h.anchor,f=h.focus;null!==d&&d.key===e&&cQ(d,b,c,a,g),null!==f&&f.key===e&&cQ(f,b,c,a,g)}let i=a.__text,j=b?i+f:f+i;this.setTextContent(j);let k=this.getWritable();return a.remove(),k}isTextEntity(){return!1}}function cc(a){return{forChild:cm(a.style),node:null}}function cd(a){let b=a,c="normal"===b.style.fontWeight;return{forChild:cm(b.style,c?void 0:"bold"),node:null}}let ce=new WeakMap;function cf(a){if(!eN(a))return!1;if("PRE"===a.nodeName)return!0;let b=a.style.whiteSpace;return"string"==typeof b&&b.startsWith("pre")}function cg(a){let b=a;null===a.parentElement&&d(129);let c=b.textContent||"";if(null!==function(a){let b,c=a.parentNode,d=[a];for(;null!==c&&void 0===(b=ce.get(c))&&!cf(c);)d.push(c),c=c.parentNode;let e=void 0===b?c:b;for(let a=0;a<d.length;a++)ce.set(d[a],e);return e}(b)){let a=c.split(/(\r?\n|\t)/),b=[],d=a.length;for(let c=0;c<d;c++){let d=a[c];"\n"===d||"\r\n"===d?b.push(b2()):"	"===d?b.push(co()):""!==d&&b.push(ck(d))}return{node:b}}if(""===(c=c.replace(/\r/g,"").replace(/[ \t\n]+/g," ")))return{node:null};if(" "===c[0]){let a=b,d=!0;for(;null!==a&&null!==(a=ch(a,!1));){let b=a.textContent||"";if(b.length>0){/[ \t\n]$/.test(b)&&(c=c.slice(1)),d=!1;break}}d&&(c=c.slice(1))}if(" "===c[c.length-1]){let a=b,d=!0;for(;null!==a&&null!==(a=ch(a,!0));)if((a.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){d=!1;break}d&&(c=c.slice(0,c.length-1))}return""===c?{node:null}:{node:ck(c)}}function ch(a,b){let c=a;for(;;){let a;for(;null===(a=b?c.nextSibling:c.previousSibling);){let a=c.parentElement;if(null===a)return null;c=a}if(eN(c=a)){let a=c.style.display;if(""===a&&!eQ(c)||""!==a&&!a.startsWith("inline"))return null}let d=c;for(;null!==(d=b?c.firstChild:c.lastChild);)c=d;if(dS(c))return c;if("BR"===c.nodeName)return null}}let ci={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function cj(a){let b=ci[a.nodeName.toLowerCase()];return void 0===b?{node:null}:{forChild:cm(a.style,b),node:null}}function ck(a=""){return eF(new cb(a))}function cl(a){return a instanceof cb}function cm(a,b){let c=a.fontWeight,d=a.textDecoration.split(" "),e="700"===c||"bold"===c,f=d.includes("line-through"),g="italic"===a.fontStyle,h=d.includes("underline"),i=a.verticalAlign;return a=>(cl(a)&&(e&&!a.hasFormat("bold")&&a.toggleFormat("bold"),f&&!a.hasFormat("strikethrough")&&a.toggleFormat("strikethrough"),g&&!a.hasFormat("italic")&&a.toggleFormat("italic"),h&&!a.hasFormat("underline")&&a.toggleFormat("underline"),"sub"!==i||a.hasFormat("subscript")||a.toggleFormat("subscript"),"super"!==i||a.hasFormat("superscript")||a.toggleFormat("superscript"),b&&!a.hasFormat(b)&&a.toggleFormat(b)),a)}class cn extends cb{static getType(){return"tab"}static clone(a){return new cn(a.__key)}constructor(a){super("	",a),this.__detail=2}static importDOM(){return null}createDOM(a){let b=super.createDOM(a),c=en(a.theme,"tab");return void 0!==c&&b.classList.add(...c),b}static importJSON(a){return co().updateFromJSON(a)}setTextContent(a){return"	"!==a&&""!==a&&d(126),super.setTextContent("	")}spliceText(a,b,c,e){return""===c&&0===b||"	"===c&&1===b||d(286),this}setDetail(a){return 2!==a&&d(127),this}setMode(a){return"normal"!==a&&d(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function co(){return eF(new cn)}function cp(a){return a instanceof cn}class cq{constructor(a,b,c){this._selection=null,this.key=a,this.offset=b,this.type=c}is(a){return this.key===a.key&&this.offset===a.offset&&this.type===a.type}isBefore(a){return this.key===a.key?this.offset<a.offset:0>ft(fH(fy(this,"next")),fH(fy(a,"next")))}getNode(){let a=d_(this.key);return null===a&&d(20),a}set(a,b,c,d){let e=this._selection,f=this.key;d&&this.key===a&&this.offset===b&&this.type===c||(this.key=a,this.offset=b,this.type=c,c0()||(d$()===f&&dZ(a),null!==e&&(e.setCachedNodes(null),e.dirty=!0)))}}function cr(a,b,c){return new cq(a,b,c)}function cs(a,b){let c=b.__key,d=a.offset,e="element";if(cl(b)){e="text";let a=b.getTextContentSize();d>a&&(d=a)}else if(!dj(b)){let a=b.getNextSibling();if(cl(a))c=a.__key,d=0,e="text";else{let a=b.getParent();a&&(c=a.__key,d=b.getIndexWithinParent()+1)}}a.set(c,d,e)}function ct(a,b){if(dj(b)){let c=b.getLastDescendant();dj(c)||cl(c)?cs(a,c):cs(a,b)}else cs(a,b)}class cu{constructor(a){this._cachedNodes=null,this._nodes=a,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(a){this._cachedNodes=a}is(a){if(!cx(a))return!1;let b=this._nodes,c=a._nodes;return b.size===c.size&&Array.from(b).every(a=>c.has(a))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(a){this.dirty=!0,this._nodes.add(a),this._cachedNodes=null}delete(a){this.dirty=!0,this._nodes.delete(a),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(a){return this._nodes.has(a)}clone(){return new cu(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(a){}insertText(){}insertNodes(a){let b,c=this.getNodes(),d=c.length,e=c[d-1];if(cl(e))b=e.select();else{let a=e.getIndexWithinParent()+1;b=e.getParentOrThrow().select(a,a)}b.insertNodes(a);for(let a=0;a<d;a++)c[a].remove()}getNodes(){let a=this._cachedNodes;if(null!==a)return a;let b=this._nodes,c=[];for(let a of b){let b=d_(a);null!==b&&c.push(b)}return c0()||(this._cachedNodes=c),c}getTextContent(){let a=this.getNodes(),b="";for(let c=0;c<a.length;c++)b+=a[c].getTextContent();return b}deleteNodes(){let a=this.getNodes();if((cL()||cM())===this&&a[0]){let b=fg(a[0],"next");fA(fr(b,b))}for(let b of a)b.remove()}}function cv(a){return a instanceof cw}class cw{constructor(a,b,c,d){this.anchor=a,this.focus=b,a._selection=this,b._selection=this,this._cachedNodes=null,this.format=c,this.style=d,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(a){this._cachedNodes=a}is(a){return!!cv(a)&&this.anchor.is(a.anchor)&&this.focus.is(a.focus)&&this.format===a.format&&this.style===a.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){let a=this._cachedNodes;if(null!==a)return a;let b=function(a){let b=[],[c,d]=a.getTextSlices();c&&b.push(c.caret.origin);let e=new Set,f=new Set;for(let c of a)if(fc(c)){let{origin:a}=c;0===b.length?e.add(a):(f.add(a),b.push(a))}else{let{origin:a}=c;dj(a)&&f.has(a)||b.push(a)}if(d&&b.push(d.caret.origin),fb(a.focus)&&dj(a.focus.origin)&&null===a.focus.getNodeAtCaret())for(let c=fk(a.focus.origin,"previous");fc(c)&&e.has(c.origin)&&!c.origin.isEmpty()&&c.origin.is(b[b.length-1]);c=fm(c))e.delete(c.origin),b.pop();for(;b.length>1;){let a=b[b.length-1];if(!dj(a)||f.has(a)||a.isEmpty()||e.has(a))break;b.pop()}if(0===b.length&&a.isCollapsed()){let c=fH(a.anchor),d=fH(a.anchor.getFlipped()),e=a=>fa(a)?a.origin:a.getNodeAtCaret(),f=e(c)||e(d)||(a.anchor.getNodeAtCaret()?c.origin:d.origin);b.push(f)}return b}(fK(fC(this),"next"));return c0()||(this._cachedNodes=b),b}setTextNodeRange(a,b,c,d){this.anchor.set(a.__key,b,"text"),this.focus.set(c.__key,d,"text")}getTextContent(){let a=this.getNodes();if(0===a.length)return"";let b=a[0],c=a[a.length-1],d=this.anchor,e=this.focus,f=d.isBefore(e),[g,h]=cz(this),i="",j=!0;for(let k=0;k<a.length;k++){let l=a[k];if(dj(l)&&!l.isInline())j||(i+="\n"),j=!l.isEmpty();else if(j=!1,cl(l)){let a=l.getTextContent();l===b?l===c?"element"===d.type&&"element"===e.type&&e.offset!==d.offset||(a=g<h?a.slice(g,h):a.slice(h,g)):a=f?a.slice(g):a.slice(h):l===c&&(a=f?a.slice(0,h):a.slice(0,g)),i+=a}else!dm(l)&&!b3(l)||l===c&&this.isCollapsed()||(i+=l.getTextContent())}return i}applyDOMRange(a){let b=c4(),c=b.getEditorState()._selection,d=cG(a.startContainer,a.startOffset,a.endContainer,a.endOffset,b,c);if(null===d)return;let[e,f]=d;this.anchor.set(e.key,e.offset,e.type,!0),this.focus.set(f.key,f.offset,f.type,!0),am(this)}clone(){let a=this.anchor,b=this.focus;return new cw(cr(a.key,a.offset,a.type),cr(b.key,b.offset,b.type),this.format,this.style)}toggleFormat(a){this.format=dV(this.format,a,null),this.dirty=!0}setFormat(a){this.format=a,this.dirty=!0}setStyle(a){this.style=a,this.dirty=!0}hasFormat(a){let b=L[a];return!!(this.format&b)}insertRawText(a){let b=a.split(/(\r?\n|\t)/),c=[],d=b.length;for(let a=0;a<d;a++){let d=b[a];"\n"===d||"\r\n"===d?c.push(b2()):"	"===d?c.push(co()):c.push(ck(d))}this.insertNodes(c)}insertText(a){let b=this.anchor,c=this.focus,e=this.format,f=this.style,g=b,h=c;!this.isCollapsed()&&c.isBefore(b)&&(g=c,h=b),"element"===g.type&&function(a,b,c,d){let e=a.getNode(),f=e.getChildAtIndex(a.offset),g=ck();if(g.setFormat(c),g.setStyle(d),dB(f))f.splice(0,0,[g]);else{let a=dp(e)?dA().append(g):g;null===f?e.append(a):f.insertBefore(a)}a.is(b)&&b.set(g.__key,0,"text"),a.set(g.__key,0,"text")}(g,h,e,f),"element"===h.type&&fz(h,fH(fy(h,"next")));let i=g.offset,j=h.offset,k=this.getNodes(),l=k.length,m=k[0];cl(m)||d(26);let o=m.getTextContent().length,p=m.getParentOrThrow(),q=k[l-1];if(1===l&&"element"===h.type&&(j=o,h.set(g.key,j,"text")),this.isCollapsed()&&i===o&&(dR(m)||!m.canInsertTextAfter()||!p.canInsertTextAfter()&&null===m.getNextSibling())){let b=m.getNextSibling();if(cl(b)&&b.canInsertTextBefore()&&!dR(b)||((b=ck()).setFormat(e),b.setStyle(f),p.canInsertTextAfter()?m.insertAfter(b):p.insertAfter(b)),b.select(0,0),m=b,""!==a)return void this.insertText(a)}else if(this.isCollapsed()&&0===i&&(dR(m)||!m.canInsertTextBefore()||!p.canInsertTextBefore()&&null===m.getPreviousSibling())){let b=m.getPreviousSibling();if(cl(b)&&!dR(b)||((b=ck()).setFormat(e),p.canInsertTextBefore()?m.insertBefore(b):p.insertBefore(b)),b.select(),m=b,""!==a)return void this.insertText(a)}else if(m.isSegmented()&&i!==o){let a=ck(m.getTextContent());a.setFormat(e),m.replace(a),m=a}else if(!this.isCollapsed()&&""!==a){let b=q.getParent();if(!p.canInsertTextBefore()||!p.canInsertTextAfter()||dj(b)&&(!b.canInsertTextBefore()||!b.canInsertTextAfter()))return this.insertText(""),cF(this.anchor,this.focus,null),void this.insertText(a)}if(1===l){if(dQ(m)){let b=ck(a);return b.select(),void m.replace(b)}let b=m.getFormat(),c=m.getStyle();if(i!==j||b===e&&c===f){if(cp(m)){let b=ck(a);return b.setFormat(e),b.setStyle(f),b.select(),void m.replace(b)}}else{if(""!==m.getTextContent()){let b=ck(a);if(b.setFormat(e),b.setStyle(f),b.select(),0===i)m.insertBefore(b,!1);else{let[a]=m.splitText(i);a.insertAfter(b,!1)}return void(b.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=a.length))}m.setFormat(e),m.setStyle(f)}let d=j-i;""===(m=m.spliceText(i,d,a,!0)).getTextContent()?m.remove():"text"===this.anchor.type&&(m.isComposing()?this.anchor.offset-=a.length:(this.format=b,this.style=c))}else{let b=new Set([...m.getParentKeys(),...q.getParentKeys()]),c=dj(m)?m:m.getParentOrThrow(),d=dj(q)?q:q.getParentOrThrow(),e=q;if(!c.is(d)&&d.isInline())do e=d,d=d.getParentOrThrow();while(d.isInline());if("text"===h.type&&(0!==j||""===q.getTextContent())||"element"===h.type&&q.getIndexWithinParent()<j)if(cl(q)&&!dQ(q)&&j!==q.getTextContentSize()){if(q.isSegmented()){let a=ck(q.getTextContent());q.replace(a),q=a}dp(h.getNode())||"text"!==h.type||(q=q.spliceText(0,j,"")),b.add(q.__key)}else{let a=q.getParentOrThrow();a.canBeEmpty()||1!==a.getChildrenSize()?q.remove():a.remove()}else b.add(q.__key);let f=d.getChildren(),g=new Set(k),p=c.is(d),r=c.isInline()&&null===m.getNextSibling()?c:m;for(let a=f.length-1;a>=0;a--){let b=f[a];if(b.is(m)||dj(b)&&b.isParentOf(m))break;b.isAttached()&&(!g.has(b)||b.is(e)?p||r.insertAfter(b,!1):b.remove())}if(!p){let a=d,c=null;for(;null!==a;){let d=a.getChildren(),e=d.length;(0===e||d[e-1].is(c))&&(b.delete(a.__key),c=a),a=a.getParent()}}if(dQ(m))if(i===o)m.select();else{let b=ck(a);b.select(),m.replace(b)}else""===(m=m.spliceText(i,o-i,a,!0)).getTextContent()?m.remove():m.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=a.length);for(let a=1;a<l;a++){let c=k[a],d=c.__key;b.has(d)||c.remove()}}}removeText(){let a=cL()===this;fB(this,fG(fC(this))),a&&cL()!==this&&d7(this)}formatText(a,b=null){if(this.isCollapsed())return this.toggleFormat(a),void dZ(null);let c=this.getNodes(),d=[];for(let a of c)cl(a)&&d.push(a);let e=b=>{c.forEach(c=>{if(dj(c)){let d=c.getFormatFlags(a,b);c.setTextFormat(d)}})},f=d.length;if(0===f)return this.toggleFormat(a),dZ(null),void e(b);let g=this.anchor,h=this.focus,i=this.isBackward(),j=i?h:g,k=i?g:h,l=0,m=d[0],o="element"===j.type?0:j.offset;if("text"===j.type&&o===m.getTextContentSize()&&(l=1,m=d[1],o=0),null==m)return;let p=m.getFormatFlags(a,b);e(p);let q=f-1,r=d[q],s="text"===k.type?k.offset:r.getTextContentSize();if(m.is(r)){if(o===s)return;if(dR(m)||0===o&&s===m.getTextContentSize())m.setFormat(p);else{let a=m.splitText(o,s),b=0===o?a[0]:a[1];b.setFormat(p),"text"===j.type&&j.set(b.__key,0,"text"),"text"===k.type&&k.set(b.__key,s-o,"text")}return void(this.format=p)}0===o||dR(m)||([,m]=m.splitText(o),o=0),m.setFormat(p);let t=r.getFormatFlags(a,p);s>0&&(s===r.getTextContentSize()||dR(r)||([r]=r.splitText(s)),r.setFormat(t));for(let b=l+1;b<q;b++){let c=d[b],e=c.getFormatFlags(a,t);c.setFormat(e)}"text"===j.type&&j.set(m.__key,o,"text"),"text"===k.type&&k.set(r.__key,s,"text"),this.format=p|t}insertNodes(a){var b;if(0===a.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();let b=cL();return cv(b)||d(134),b.insertNodes(a)}let c=(this.isBackward()?this.focus:this.anchor).getNode(),e=eT(c,eS),f=a[a.length-1];if(dj(e)&&"__language"in e){if("__language"in a[0])this.insertText(a[0].getTextContent());else{let b=cT(this);e.splice(b,0,a),f.selectEnd()}return}if(!a.some(a=>(dj(a)||dm(a))&&!a.isInline())){dj(e)||d(211,c.constructor.name,c.getType());let b=cT(this);return e.splice(b,0,a),void f.selectEnd()}let g=function(a){let b=dA(),c=null;for(let d=0;d<a.length;d++){let e=a[d],f=b3(e);if(f||dm(e)&&e.isInline()||dj(e)&&e.isInline()||cl(e)||e.isParentRequired()){if(null===c&&(c=e.createParentElementNode(),b.append(c),f))continue;null!==c&&c.append(e)}else b.append(e),c=null}return b}(a),h=g.getLastDescendant(),i=g.getChildren(),j=dj(e)&&e.isEmpty()?null:this.insertParagraph(),k=i[i.length-1],l=i[0];dj(b=l)&&eS(b)&&!b.isEmpty()&&dj(e)&&(!e.isEmpty()||e.canMergeWhenEmpty())&&(dj(e)||d(211,c.constructor.name,c.getType()),e.append(...l.getChildren()),l=i[1]),l&&(null===e&&d(212,c.constructor.name,c.getType()),function(a,b,c){let e=b.getParentOrThrow().getLastChild(),f=b,g=[b];for(;f!==e;)f.getNextSibling()||d(140),g.push(f=f.getNextSibling());let h=a;for(let a of g)h=h.insertAfter(a)}(e,l));let m=eT(h,eS);j&&dj(m)&&(j.canMergeWhenEmpty()||eS(k))&&(m.append(...j.getChildren()),j.remove()),dj(e)&&e.isEmpty()&&e.remove(),h.selectEnd();let o=dj(e)?e.getLastChild():null;b3(o)&&m!==e&&o.remove()}insertParagraph(){if("root"===this.anchor.key){let a=dA();return d5().splice(this.anchor.offset,0,[a]),a.select(),a}let a=cT(this),b=eT(this.anchor.getNode(),eS);dj(b)||d(213);let c=b.getChildAtIndex(a),e=c?[c,...c.getNextSiblings()]:[],f=b.insertNewAfter(this,!1);return f?(f.append(...e),f.selectStart(),f):null}insertLineBreak(a){let b=b2();if(this.insertNodes([b]),a){let a=b.getParentOrThrow(),c=b.getIndexWithinParent();a.select(c,c)}}extract(){let a=this.getNodes(),b=a.length,c=b-1,d=this.anchor,e=this.focus,f=a[0],g=a[c],[h,i]=cz(this);if(0===b)return[];if(1===b){if(cl(f)&&!this.isCollapsed()){let a=h>i?i:h,b=h>i?h:i,c=f.splitText(a,b),d=0===a?c[0]:c[1];return null!=d?[d]:[]}return[f]}let j=d.isBefore(e);if(cl(f)){let b=j?h:i;b===f.getTextContentSize()?a.shift():0!==b&&([,f]=f.splitText(b),a[0]=f)}if(cl(g)){let b=g.getTextContent().length,d=j?i:h;0===d?a.pop():d!==b&&([g]=g.splitText(d),a[c]=g)}return a}modify(a,b,c){if(cV(this,a,b,c))return;let d="move"===a,e=c4(),f=eK(eB(e));if(!f)return;let g=e._blockCursorElement,h=e._rootElement,i=this.focus.getNode();if(null===h||null===g||!dj(i)||i.isInline()||i.canBeEmpty()||eJ(g,e,h),this.dirty){let a=eu(e,this.anchor.key),b=eu(e,this.focus.key);"text"===this.anchor.type&&(a=dU(a)),"text"===this.focus.type&&(b=dU(b)),a&&b&&cR(f,a,this.anchor.offset,b,this.focus.offset)}if(function(a,b,c,d){a.modify(b,c,d)}(f,a,b?"backward":"forward",c),f.rangeCount>0){let a=f.getRangeAt(0),c=this.anchor.getNode(),e=dp(c)?c:eD(c);if(this.applyDOMRange(a),this.dirty=!0,!d){let c=this.getNodes(),d=[],g=!1;for(let a=0;a<c.length;a++){let b=c[a];ez(b,e)?d.push(b):g=!0}if(g&&d.length>0)if(b){let a=d[0];dj(a)?a.selectStart():a.getParentOrThrow().selectStart()}else{let a=d[d.length-1];dj(a)?a.selectEnd():a.getParentOrThrow().selectEnd()}f.anchorNode===a.startContainer&&f.anchorOffset===a.startOffset||function(a){let b=a.focus,c=a.anchor,d=c.key,e=c.offset,f=c.type;c.set(b.key,b.offset,b.type,!0),b.set(d,e,f,!0)}(this)}}"lineboundary"===c&&cV(this,a,b,c,"decorators")}forwardDeletion(a,b,c){if(!c&&("element"===a.type&&dj(b)&&a.offset===b.getChildrenSize()||"text"===a.type&&a.offset===b.getTextContentSize())){let a=b.getParent(),c=b.getNextSibling()||(null===a?null:a.getNextSibling());if(dj(c)&&c.isShadowRoot())return!0}return!1}deleteCharacter(a){let b=this.isCollapsed();if(this.isCollapsed()){let b=this.anchor,c=b.getNode();if(this.forwardDeletion(b,c,a))return;let d=fp(fy(b,a?"previous":"next"));if(d.getTextSlices().every(a=>null===a||0===a.distance)){let a={type:"initial"};for(let b of d.iterNodeCarets("shadowRoot"))if(fc(b))if(b.origin.isInline());else{if(b.origin.isShadowRoot()){if("merge-block"===a.type)break;if(dj(d.anchor.origin)&&d.anchor.origin.isEmpty()){let a=fH(b);fB(this,fr(a,a)),d.anchor.origin.remove()}return}"merge-next-block"!==a.type&&"merge-block"!==a.type||(a={block:a.block,caret:b,type:"merge-block"})}else{if("merge-block"===a.type)break;if(fb(b)){if(dj(b.origin)){if(b.origin.isInline()){if(!b.origin.isParentOf(d.anchor.origin))break}else a={block:b.origin,type:"merge-next-block"};continue}if(dm(b.origin)){if(b.origin.isIsolated());else if("merge-next-block"===a.type&&(b.origin.isKeyboardSelectable()||!b.origin.isInline())&&dj(d.anchor.origin)&&d.anchor.origin.isEmpty()){d.anchor.origin.remove();let a=cJ();a.add(b.origin.getKey()),d7(a)}else b.origin.remove();return}break}}if("merge-block"===a.type){let{caret:b,block:c}=a;return fB(this,fr(!b.origin.isEmpty()&&c.isEmpty()?fD(fg(c,b.direction)):d.anchor,b)),this.removeText()}}let e=this.focus;if(this.modify("extend",a,"character"),this.isCollapsed()){if(a&&0===b.offset&&cA(this,b.getNode()))return}else{let d="text"===e.type?e.getNode():null;if(c="text"===b.type?b.getNode():null,null!==d&&d.isSegmented()){let b=e.offset,f=d.getTextContentSize();if(d.is(c)||a&&b!==f||!a&&0!==b)return void cC(d,a,b)}else if(null!==c&&c.isSegmented()){let e=b.offset,f=c.getTextContentSize();if(c.is(d)||a&&0!==e||!a&&e!==f)return void cC(c,a,e)}!function(a,b){let c=a.anchor,d=a.focus,e=c.getNode();if(e===d.getNode()&&"text"===c.type&&"text"===d.type){let a=c.offset,f=d.offset,g=a<f,h=g?a:f,i=g?f:a,j=i-1;h!==j&&function(a){return!(d9(a)||cB(a))}(e.getTextContent().slice(h,i))&&(b?d.set(d.key,j,d.type):c.set(c.key,j,c.type))}}(this,a)}}if(this.removeText(),a&&!b&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){let a=this.anchor.getNode();a.isEmpty()&&dp(a.getParent())&&null===a.getPreviousSibling()&&cA(this,a)}}deleteLine(a){this.isCollapsed()&&this.modify("extend",a,"lineboundary"),this.isCollapsed()?this.deleteCharacter(a):this.removeText()}deleteWord(a){if(this.isCollapsed()){let b=this.anchor,c=b.getNode();if(this.forwardDeletion(b,c,a))return;this.modify("extend",a,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function cx(a){return a instanceof cu}function cy(a){let b=a.offset;if("text"===a.type)return b;let c=a.getNode();return b===c.getChildrenSize()?c.getTextContent().length:0}function cz(a){let b=a.getStartEndPoints();if(null===b)return[0,0];let[c,d]=b;return"element"===c.type&&"element"===d.type&&c.key===d.key&&c.offset===d.offset?[0,0]:[cy(c),cy(d)]}function cA(a,b){for(let c=b;c;c=c.getParent()){if(dj(c)){if(c.collapseAtStart(a))return!0;if(eE(c))break}if(c.getPreviousSibling())break}return!1}let cB=(()=>{try{let a=RegExp("\\p{Emoji}","u"),b=a.test.bind(a);if(b("❤️")&&b("#️⃣")&&b("\uD83D\uDC4D"))return b}catch(a){}return()=>!1})();function cC(a,b,c){let d=a,e=d.getTextContent().split(/(?=\s)/g),f=e.length,g=0,h=0;for(let a=0;a<f;a++){let d=a===f-1;if(h=g,g+=e[a].length,b&&g===c||g>c||d){e.splice(a,1),d&&(h=void 0);break}}let i=e.join("").trim();""===i?d.remove():(d.setTextContent(i),d.select(h,h))}function cD(a,b,c,e){let f,g=b;if(eN(a)){let h=!1,i=a.childNodes,j=i.length,k=e._blockCursorElement;g===j&&(h=!0,g=j-1);let l=i[g],m=!1;if(l===k)l=i[g+1],m=!0;else if(null!==k){let c=k.parentNode;a===c&&b>Array.prototype.indexOf.call(c.children,k)&&g--}if(cl(f=d8(l)))g=fi(f,h?"next":"previous");else{let i=d8(a);if(null===i)return null;if(dj(i)){let j=e.getElementByKey(i.getKey());null===j&&d(214);let k=i.getDOMSlot(j);[i,g]=k.resolveChildIndex(i,j,a,b),dj(i)||d(215),h&&g>=i.getChildrenSize()&&(g=Math.max(0,i.getChildrenSize()-1));let l=i.getChildAtIndex(g);if(dj(l)&&function(a,b,c){let d=a.getParent();return null===c||null===d||!d.canBeEmpty()||d!==c.getNode()}(l,0,c)){let a=h?l.getLastDescendant():l.getFirstDescendant();i=null===a||dj(l=a)?l:l.getParentOrThrow(),g=0}cl(l)?(f=l,i=null,g=fi(l,h?"next":"previous")):l!==i&&h&&!m&&(dj(i)||d(216),g=Math.min(i.getChildrenSize(),g+1))}else{let c=i.getIndexWithinParent();g=0===b&&dm(i)&&d8(a)===i?c:c+1,i=i.getParentOrThrow()}if(dj(i))return cr(i.__key,g,"element")}}else f=d8(a);return cl(f)?cr(f.__key,fi(f,g,"clamp"),"text"):null}function cE(a,b,c){let d=a.offset,e=a.getNode();if(0===d){let d=e.getPreviousSibling(),f=e.getParent();if(b){if((c||!b)&&null===d&&dj(f)&&f.isInline()){let b=f.getPreviousSibling();cl(b)&&a.set(b.__key,b.getTextContent().length,"text")}}else dj(d)&&!c&&d.isInline()?a.set(d.__key,d.getChildrenSize(),"element"):cl(d)&&a.set(d.__key,d.getTextContent().length,"text")}else if(d===e.getTextContent().length){let d=e.getNextSibling(),f=e.getParent();if(b&&dj(d)&&d.isInline())a.set(d.__key,0,"element");else if((c||b)&&null===d&&dj(f)&&f.isInline()&&!f.canInsertTextAfter()){let b=f.getNextSibling();cl(b)&&a.set(b.__key,0,"text")}}}function cF(a,b,c){if("text"===a.type&&"text"===b.type){let d=a.isBefore(b),e=a.is(b);cE(a,d,e),cE(b,!d,e),e&&b.set(a.key,a.offset,a.type);let f=c4();if(f.isComposing()&&f._compositionKey!==a.key&&cv(c)){let d=c.anchor,e=c.focus;a.set(d.key,d.offset,d.type,!0),b.set(e.key,e.offset,e.type,!0)}}}function cG(a,b,c,d,e,f){if(null===a||null===c||!dM(e,a,c))return null;let g=cD(a,b,cv(f)?f.anchor:null,e);if(null===g)return null;let h=cD(c,d,cv(f)?f.focus:null,e);if(null===h)return null;if("element"===g.type&&"element"===h.type){let b=d8(a),d=d8(c);if(dm(b)&&dm(d))return null}return cF(g,h,f),[g,h]}function cH(a,b,c,d,e,f){let g=c3(),h=new cw(cr(a,b,e),cr(c,d,f),0,"");return h.dirty=!0,g._selection=h,h}function cI(){return new cw(cr("root",0,"element"),cr("root",0,"element"),0,"")}function cJ(){return new cu(new Set)}function cK(a,b,c,d){let e,f,g,h,i=c._window;if(null===i)return null;let j=d||i.event,k=j?j.type:void 0,l="selectionchange"===k,m=!U&&(l||"beforeinput"===k||"compositionstart"===k||"compositionend"===k||"click"===k&&j&&3===j.detail||"drop"===k||void 0===k);if(cv(a)&&!m)return a.clone();if(null===b)return null;if(e=b.anchorNode,f=b.focusNode,g=b.anchorOffset,h=b.focusOffset,l&&cv(a)&&!dM(c,e,f))return a.clone();let o=cG(e,g,f,h,c,a);if(null===o)return null;let[p,q]=o;return new cw(p,q,cv(a)?a.format:0,cv(a)?a.style:"")}function cL(){return c3()._selection}function cM(){return c4()._editorState._selection}function cN(a,b,c,d=1){let e=a.anchor,f=a.focus,g=e.getNode(),h=f.getNode();if(!b.is(g)&&!b.is(h))return;let i=b.__key;if(a.isCollapsed()){let b=e.offset;if(c<=b&&d>0||c<b&&d<0){let c=Math.max(0,b+d);e.set(i,c,"element"),f.set(i,c,"element"),cO(a)}}else{let g=a.isBackward(),h=g?f:e,j=h.getNode(),k=g?e:f,l=k.getNode();if(b.is(j)){let a=h.offset;(c<=a&&d>0||c<a&&d<0)&&h.set(i,Math.max(0,a+d),"element")}if(b.is(l)){let a=k.offset;(c<=a&&d>0||c<a&&d<0)&&k.set(i,Math.max(0,a+d),"element")}}cO(a)}function cO(a){let b=a.anchor,c=b.offset,d=a.focus,e=d.offset,f=b.getNode(),g=d.getNode();if(a.isCollapsed()){if(!dj(f))return;let a=f.getChildrenSize(),e=c>=a,g=e?f.getChildAtIndex(a-1):f.getChildAtIndex(c);if(cl(g)){let a=0;e&&(a=g.getTextContentSize()),b.set(g.__key,a,"text"),d.set(g.__key,a,"text")}}else{if(dj(f)){let a=f.getChildrenSize(),d=c>=a,e=d?f.getChildAtIndex(a-1):f.getChildAtIndex(c);if(cl(e)){let a=0;d&&(a=e.getTextContentSize()),b.set(e.__key,a,"text")}}if(dj(g)){let a=g.getChildrenSize(),b=e>=a,c=b?g.getChildAtIndex(a-1):g.getChildAtIndex(e);if(cl(c)){let a=0;b&&(a=c.getTextContentSize()),d.set(c.__key,a,"text")}}}}function cP(a,b,c,d,e){let f=null,g=0,h=null;null!==d?(f=d.__key,cl(d)?(g=d.getTextContentSize(),h="text"):dj(d)&&(g=d.getChildrenSize(),h="element")):null!==e&&(f=e.__key,cl(e)?h="text":dj(e)&&(h="element")),null!==f&&null!==h?a.set(f,g,h):(-1===(g=b.getIndexWithinParent())&&(g=c.getChildrenSize()),a.set(c.__key,g,"element"))}function cQ(a,b,c,d,e){"text"===a.type?a.set(c,a.offset+(b?0:e),"text"):a.offset>d.getIndexWithinParent()&&a.set(a.key,a.offset-1,"element")}function cR(a,b,c,d,e){try{a.setBaseAndExtent(b,c,d,e)}catch(a){}}function cS(a,b,c,d,e,f,g){let h=d.anchorNode,i=d.focusNode,j=d.anchorOffset,k=d.focusOffset,l=document.activeElement;if(e.has(dv)&&l!==f||null!==l&&dL(l))return;if(!cv(b))return void(null!==a&&dM(c,h,i)&&d.removeAllRanges());let m=b.anchor,o=b.focus,p=m.key,q=o.key,r=eu(c,p),s=eu(c,q),t=m.offset,u=o.offset,v=b.format,w=b.style,x=b.isCollapsed(),y=r,z=s,A=!1;if("text"===m.type){y=dU(r);let a=m.getNode();A=a.getFormat()!==v||a.getStyle()!==w}else cv(a)&&"text"===a.anchor.type&&(A=!0);if("text"===o.type&&(z=dU(s)),null!==y&&null!==z&&(x&&(null===a||A||cv(a)&&(a.format!==v||a.style!==w))&&(bK=[v,w,t,p,performance.now()]),j!==t||k!==u||h!==y||i!==z||"Range"===d.type&&x||(null!==l&&f.contains(l)||f.focus({preventScroll:!0}),"element"===m.type))){if(cR(d,y,t,z,u),!e.has(dw)&&b.isCollapsed()&&null!==f&&f===document.activeElement){let a=cv(b)&&"element"===b.anchor.type?y.childNodes[t]||null:d.rangeCount>0?d.getRangeAt(0):null;if(null!==a){let b;if(a instanceof Text){let c=document.createRange();c.selectNode(a),b=c.getBoundingClientRect()}else b=a.getBoundingClientRect();!function(a,b,c){let d=ew(c),e=eA(d);if(null===d||null===e)return;let{top:f,bottom:g}=b,h=0,i=0,j=c;for(;null!==j;){let b=j===d.body;if(b)h=0,i=eB(a).innerHeight;else{let a=j.getBoundingClientRect();h=a.top,i=a.bottom}let c=0;if(f<h?c=-(h-f):g>i&&(c=g-i),0!==c)if(b)e.scrollBy(0,c);else{let a=j.scrollTop;j.scrollTop+=c;let b=j.scrollTop-a;f-=b,g-=b}if(b)break;j=ev(j)}}(c,b,f)}}bD=!0}}function cT(a){let b=a;a.isCollapsed()||b.removeText();let c=cL();cv(c)&&(b=c),cv(b)||d(161);let e=b.anchor,f=e.getNode(),g=e.offset;for(;!eS(f);){let a=f;if([f,g]=cU(f,g),a.is(f))break}return g}function cU(a,b){let c=a.getParent();if(!c){let a=dA();return d5().append(a),a.select(),[d5(),0]}if(cl(a)){let d=a.splitText(b);if(0===d.length)return[c,a.getIndexWithinParent()];let e=+(0!==b);return[c,d[0].getIndexWithinParent()+e]}if(!dj(a)||0===b)return[c,a.getIndexWithinParent()];let d=a.getChildAtIndex(b);if(d){let c=new cw(cr(a.__key,b,"element"),cr(a.__key,b,"element"),0,""),e=a.insertNewAfter(c);e&&e.append(d,...d.getNextSiblings())}return[c,a.getIndexWithinParent()+1]}function cV(a,b,c,d,e="decorators-and-blocks"){if("move"===b&&"character"===d&&!a.isCollapsed()){let[b,d]=c===a.isBackward()?[a.focus,a.anchor]:[a.anchor,a.focus];return d.set(b.key,b.offset,b.type),!0}let f=fy(a.focus,c?"previous":"next"),g="lineboundary"===d,h="move"===b,i=f,j="decorators-and-blocks"===e;if(!fI(i)){for(let a of i){j=!1;let{origin:b}=a;if(!dm(b)||b.isIsolated()||(i=a,!g||!b.isInline()))break}if(j)for(let a of fp(f).iterNodeCarets("extend"===b?"shadowRoot":"root")){if(fc(a))a.origin.isInline()||(i=a);else{if(dj(a.origin))continue;dm(a.origin)&&!a.origin.isInline()&&(i=a)}break}}if(i===f)return!1;if(h&&!g&&dm(i.origin)&&i.origin.isKeyboardSelectable()){let a=cJ();return a.add(i.origin.getKey()),d7(a),!0}return i=fH(i),h&&fz(a.anchor,i),fz(a.focus,i),j||!g}let cW=null,cX=null,cY=!1,cZ=!1,c$=0,c_={characterData:!0,childList:!0,subtree:!0};function c0(){return cY||null!==cW&&cW._readOnly}function c1(){cY&&d(13)}function c2(){c$>99&&d(14)}function c3(){return null===cW&&d(195,c5()),cW}function c4(){return null===cX&&d(196,c5()),cX}function c5(){let a=0,b=new Set,c=dD.version;if("undefined"!=typeof window)for(let d of document.querySelectorAll("[contenteditable]")){let e=dP(d);if(dN(e))a++;else if(e){let a=String(e.constructor.version||"<0.17.1");a===c&&(a+=" (separately built, likely a bundler configuration issue)"),b.add(a)}}let d=` Detected on the page: ${a} compatible editor(s) with version ${c}`;return b.size&&(d+=` and incompatible editors with versions ${Array.from(b).join(", ")}`),d}function c6(a,b,c){let d=b.__type,e=dH(a,d),f=c.get(d);void 0===f&&(f=Array.from(e.transforms),c.set(d,f));let g=f.length;for(let a=0;a<g&&(f[a](b),b.isAttached());a++);}function c7(a,b){return void 0!==a&&a.__key!==b&&a.isAttached()}function c8(a,b){if(!b)return;let c=a._updateTags,d=b;for(let a of(Array.isArray(b)||(d=[b]),d))c.add(a)}function c9(a,b){let c=a.type,e=b.get(c);void 0===e&&d(17,c);let f=e.klass;a.type!==f.getType()&&d(18,f.name);let g=f.importJSON(a),h=a.children;if(dj(g)&&Array.isArray(h))for(let a=0;a<h.length;a++){let c=c9(h[a],b);g.append(c)}return g}function da(a,b,c){let d=cW,e=cY,f=cX;cW=b,cY=!0,cX=a;try{return c()}finally{cW=d,cY=e,cX=f}}function db(a,b){let c=a._pendingEditorState,d=a._rootElement,e=a._headless||null===d;if(null===c)return;let f=a._editorState,g=f._selection,h=c._selection,i=a._dirtyType!==v,j=cW,k=cY,l=cX,m=a._updating,o=a._observer,p=null;if(a._pendingEditorState=null,a._editorState=c,!e&&i&&null!==o){cX=a,cW=c,cY=!1,a._updating=!0;try{let b=a._dirtyType,d=a._dirtyElements,e=a._dirtyLeaves;o.disconnect(),p=aU(f,c,a,b,d,e)}catch(b){if(b instanceof Error&&a._onError(b),cZ)throw b;return dC(a,null,d,c),ab(a),a._dirtyType=x,cZ=!0,db(a,f),void(cZ=!1)}finally{o.observe(d,c_),a._updating=m,cW=j,cY=k,cX=l}}c._readOnly||(c._readOnly=!0);let r=a._dirtyLeaves,s=a._dirtyElements,t=a._normalizedNodes,u=a._updateTags,w=a._deferred;i&&(a._dirtyType=v,a._cloneNotNeeded.clear(),a._dirtyLeaves=new Set,a._dirtyElements=new Map,a._normalizedNodes=new Set,a._updateTags=new Set),function(a,b){let c,d=a._decorators,e=a._pendingDecorators||d,f=b._nodeMap;for(c in e)f.has(c)||(e===d&&(e=d3(a)),delete e[c])}(a,c);let y=e?null:eK(eB(a));if(a._editable&&null!==y&&(i||null===h||h.dirty)&&null!==d&&!u.has(dx)){cX=a,cW=c;try{if(null!==o&&o.disconnect(),i||null===h||h.dirty){let b=a._blockCursorElement;null!==b&&eJ(b,a,d),cS(g,h,a,y,u,d)}!function(a,b,c){let d=a._blockCursorElement;if(cv(c)&&c.isCollapsed()&&"element"===c.anchor.type&&b.contains(document.activeElement)){let e=c.anchor,f=e.getNode(),g=e.offset,h=!1,i=null;if(g===f.getChildrenSize())eI(f.getChildAtIndex(g-1))&&(h=!0);else{let b=f.getChildAtIndex(g);if(null!==b&&eI(b)){let c=b.getPreviousSibling();(null===c||eI(c))&&(h=!0,i=a.getElementByKey(b.__key))}}if(h){let c=a.getElementByKey(f.__key);return null===d&&(a._blockCursorElement=d=function(a){let b=a.theme,c=document.createElement("div");c.contentEditable="false",c.setAttribute("data-lexical-cursor","true");let d=b.blockCursor;return void 0!==d&&("string"==typeof d&&(d=b.blockCursor=q(d)),void 0!==d&&c.classList.add(...d)),c}(a._config)),b.style.caretColor="transparent",null===i?c.appendChild(d):c.insertBefore(d,i)}}null!==d&&eJ(d,a,b)}(a,d,h)}finally{null!==o&&o.observe(d,c_),cX=l,cW=j}}null!==p&&function(a,b,c,d,e){let f=Array.from(a._listeners.mutation),g=f.length;for(let a=0;a<g;a++){let[g,h]=f[a];for(let a of h){let f=b.get(a);void 0!==f&&g(f,{dirtyLeaves:d,prevEditorState:e,updateTags:c})}}}(a,p,u,r,f),cv(h)||null===h||null!==g&&g.is(h)||a.dispatchCommand(aX,void 0);let z=a._pendingDecorators;null!==z&&(a._decorators=z,a._pendingDecorators=null,dc("decorator",a,!0,z)),function(a,b,c){let d=d4(b),e=d4(c);d!==e&&dc("textcontent",a,!0,e)}(a,b||f,c),dc("update",a,!0,{dirtyElements:s,dirtyLeaves:r,editorState:c,mutatedNodes:p,normalizedNodes:t,prevEditorState:b||f,tags:u}),function(a,b){if(a._deferred=[],0!==b.length){let c=a._updating;a._updating=!0;try{for(let a=0;a<b.length;a++)b[a]()}finally{a._updating=c}}}(a,w),function(a){let b=a._updates;if(0!==b.length){let c=b.shift();if(c){let[b,d]=c;de(a,b,d)}}}(a)}function dc(a,b,c,...d){let e=b._updating;b._updating=c;try{let c=Array.from(b._listeners[a]);for(let a=0;a<c.length;a++)c[a].apply(null,d)}finally{b._updating=e}}function dd(a,b){let c=a._updates,e=b||!1;for(;0!==c.length;){let b=c.shift();if(b){let c,[f,g]=b,h=a._pendingEditorState;void 0!==g&&(c=g.onUpdate,g.skipTransforms&&(e=!0),g.discrete&&(null===h&&d(191),h._flushSync=!0),c&&a._deferred.push(c),c8(a,g.tag)),null==h?de(a,f,g):f()}}return e}function de(a,b,c){let e=a._updateTags,f,g=!1,h=!1;void 0!==c&&(f=c.onUpdate,c8(a,c.tag),g=c.skipTransforms||!1,h=c.discrete||!1),f&&a._deferred.push(f);let i=a._editorState,j=a._pendingEditorState,k=!1;(null===j||j._readOnly)&&(j=a._pendingEditorState=dq(j||i),k=!0),j._flushSync=h;let l=cW,m=cY,o=cX,p=a._updating;cW=j,cY=!1,a._updating=!0,cX=a;let q=a._headless||null===a.getRootElement();dF(null);try{k&&(q?null!==i._selection&&(j._selection=i._selection.clone()):j._selection=function(a,b){let c=a.getEditorState()._selection,d=eK(eB(a));return cv(c)||null==c?cK(c,d,a,b):c.clone()}(a,c&&c.event||null));let e=a._compositionKey;b(),g=dd(a,g),function(a,b){let c=b.getEditorState()._selection,d=a._selection;if(cv(d)){let a,b=d.anchor,e=d.focus;if("text"===b.type&&(a=b.getNode()).selectionTransform(c,d),"text"===e.type){let b=e.getNode();a!==b&&b.selectionTransform(c,d)}}}(j,a),a._dirtyType!==v&&(g?function(a,b){let c=b._dirtyLeaves,d=a._nodeMap;for(let a of c){let b=d.get(a);cl(b)&&b.isAttached()&&b.isSimpleText()&&!b.isUnmergeable()&&al(b)}}(j,a):function(a,b){let c=b._dirtyLeaves,d=b._dirtyElements,e=a._nodeMap,f=d$(),g=new Map,h=c,i=h.size,j=d,k=j.size;for(;i>0||k>0;){if(i>0){for(let a of(b._dirtyLeaves=new Set,h)){let d=e.get(a);cl(d)&&d.isAttached()&&d.isSimpleText()&&!d.isUnmergeable()&&al(d),void 0!==d&&c7(d,f)&&c6(b,d,g),c.add(a)}if((i=(h=b._dirtyLeaves).size)>0){c$++;continue}}for(let a of(b._dirtyLeaves=new Set,b._dirtyElements=new Map,j.delete("root")&&j.set("root",!0),j)){let c=a[0],h=a[1];if(d.set(c,h),!h)continue;let i=e.get(c);void 0!==i&&c7(i,f)&&c6(b,i,g)}i=(h=b._dirtyLeaves).size,k=(j=b._dirtyElements).size,c$++}b._dirtyLeaves=c,b._dirtyElements=d}(j,a),dd(a),function(a,b,c,d){let e=a._nodeMap,f=b._nodeMap,g=[];for(let[a]of d){let b=f.get(a);void 0!==b&&(b.isAttached()||(dj(b)&&S(b,a,e,f,g,d),e.has(a)||d.delete(a),g.push(a)))}for(let a of g)f.delete(a);for(let a of c){let b=f.get(a);void 0===b||b.isAttached()||(e.has(a)||c.delete(a),f.delete(a))}}(i,j,a._dirtyLeaves,a._dirtyElements)),e!==a._compositionKey&&(j._flushSync=!0);let f=j._selection;if(cv(f)){let a=j._nodeMap,b=f.anchor.key,c=f.focus.key;void 0!==a.get(b)&&void 0!==a.get(c)||d(19)}else cx(f)&&0===f._nodes.size&&(j._selection=null)}catch(b){return b instanceof Error&&a._onError(b),a._pendingEditorState=i,a._dirtyType=x,a._cloneNotNeeded.clear(),a._dirtyLeaves=new Set,a._dirtyElements.clear(),void db(a)}finally{cW=l,cY=m,cX=o,a._updating=p,c$=0}a._dirtyType!==v||a._deferred.length>0||function(a,b){let c=b.getEditorState()._selection,d=a._selection;if(null!==d){if(d.dirty||!d.is(c))return!0}else if(null!==c)return!0;return!1}(j,a)?j._flushSync?(j._flushSync=!1,db(a)):k&&dJ(()=>{db(a)}):(j._flushSync=!1,k&&(e.clear(),a._deferred=[],a._pendingEditorState=null))}function df(a,b,c){cX===a&&void 0===c?b():de(a,b,c)}class dg{constructor(a,b,c){this.element=a,this.before=b||null,this.after=c||null}withBefore(a){return new dg(this.element,a,this.after)}withAfter(a){return new dg(this.element,this.before,a)}withElement(a){return this.element===a?this:new dg(a,this.before,this.after)}insertChild(a){let b=this.before||this.getManagedLineBreak();return null!==b&&b.parentElement!==this.element&&d(222),this.element.insertBefore(a,b),this}removeChild(a){return a.parentElement!==this.element&&d(223),this.element.removeChild(a),this}replaceChild(a,b){return b.parentElement!==this.element&&d(224),this.element.replaceChild(a,b),this}getFirstChild(){let a=this.after?this.after.nextSibling:this.element.firstChild;return a===this.before||a===this.getManagedLineBreak()?null:a}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(a){if(null===a)this.removeManagedLineBreak();else{let b="decorator"===a&&(k||j);this.insertManagedLineBreak(b)}}removeManagedLineBreak(){let a=this.getManagedLineBreak();if(a){let b=this.element,c="IMG"===a.nodeName?a.nextSibling:null;c&&b.removeChild(c),b.removeChild(a),b.__lexicalLineBreak=void 0}}insertManagedLineBreak(a){let b=this.getManagedLineBreak();if(b){if(a===("IMG"===b.nodeName))return;this.removeManagedLineBreak()}let c=this.element,d=this.before,e=document.createElement("br");if(c.insertBefore(e,d),a){let a=document.createElement("img");a.setAttribute("data-lexical-linebreak","true"),a.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",a.alt="",c.insertBefore(a,e),c.__lexicalLineBreak=a}else c.__lexicalLineBreak=e}getFirstChildOffset(){let a=0;for(let b=this.after;null!==b;b=b.previousSibling)a++;return a}resolveChildIndex(a,b,c,d){if(c===this.element){let b=this.getFirstChildOffset();return[a,Math.min(b+a.getChildrenSize(),Math.max(b,d))]}let e=dh(b,c);e.push(d);let f=dh(b,this.element),g=a.getIndexWithinParent();for(let a=0;a<f.length;a++){let b=e[a],c=f[a];if(void 0===b||b<c)break;if(b>c){g+=1;break}}return[a.getParentOrThrow(),g]}}function dh(a,b){let c=[],e=b;for(;e!==a&&null!==e;e=e.parentNode){let a=0;for(let b=e.previousSibling;null!==b;b=b.previousSibling)a++;c.push(a)}return e!==a&&d(225),c.reverse()}class di extends b_{constructor(a){super(a),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(a){super.afterCloneFrom(a),this.__key===a.__key&&(this.__first=a.__first,this.__last=a.__last,this.__size=a.__size),this.__indent=a.__indent,this.__format=a.__format,this.__style=a.__style,this.__dir=a.__dir,this.__textFormat=a.__textFormat,this.__textStyle=a.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){return O[this.getFormat()]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){let a=[],b=this.getFirstChild();for(;null!==b;)a.push(b),b=b.getNextSibling();return a}getChildrenKeys(){let a=[],b=this.getFirstChild();for(;null!==b;)a.push(b.__key),b=b.getNextSibling();return a}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let a=c4()._dirtyElements;return null!==a&&a.has(this.__key)}isLastChild(){let a=this.getLatest(),b=this.getParentOrThrow().getLastChild();return null!==b&&b.is(a)}getAllTextNodes(){let a=[],b=this.getFirstChild();for(;null!==b;){if(cl(b)&&a.push(b),dj(b)){let c=b.getAllTextNodes();a.push(...c)}b=b.getNextSibling()}return a}getFirstDescendant(){let a=this.getFirstChild();for(;dj(a);){let b=a.getFirstChild();if(null===b)break;a=b}return a}getLastDescendant(){let a=this.getLastChild();for(;dj(a);){let b=a.getLastChild();if(null===b)break;a=b}return a}getDescendantByIndex(a){let b=this.getChildren(),c=b.length;if(a>=c){let a=b[c-1];return dj(a)&&a.getLastDescendant()||a||null}let d=b[a];return dj(d)&&d.getFirstDescendant()||d||null}getFirstChild(){let a=this.getLatest().__first;return null===a?null:d_(a)}getFirstChildOrThrow(){let a=this.getFirstChild();return null===a&&d(45,this.__key),a}getLastChild(){let a=this.getLatest().__last;return null===a?null:d_(a)}getLastChildOrThrow(){let a=this.getLastChild();return null===a&&d(96,this.__key),a}getChildAtIndex(a){let b,c,d=this.getChildrenSize();if(a<d/2){for(b=this.getFirstChild(),c=0;null!==b&&c<=a;){if(c===a)return b;b=b.getNextSibling(),c++}return null}for(b=this.getLastChild(),c=d-1;null!==b&&c>=a;){if(c===a)return b;b=b.getPreviousSibling(),c--}return null}getTextContent(){let a="",b=this.getChildren(),c=b.length;for(let d=0;d<c;d++){let e=b[d];a+=e.getTextContent(),dj(e)&&d!==c-1&&!e.isInline()&&(a+=J)}return a}getTextContentSize(){let a=0,b=this.getChildren(),c=b.length;for(let d=0;d<c;d++){let e=b[d];a+=e.getTextContentSize(),dj(e)&&d!==c-1&&!e.isInline()&&(a+=J.length)}return a}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(a){if(""!==a){let b=N[a];return!!(this.getFormat()&b)}return!1}hasTextFormat(a){let b=L[a];return!!(this.getTextFormat()&b)}getFormatFlags(a,b){return dV(this.getLatest().__textFormat,a,b)}getTextStyle(){return this.getLatest().__textStyle}select(a,b){c1();let c=cL(),d=a,e=b,f=this.getChildrenSize();if(!this.canBeEmpty()){if(0===a&&0===b){let a=this.getFirstChild();if(cl(a)||dj(a))return a.select(0,0)}else if((void 0===a||a===f)&&(void 0===b||b===f)){let a=this.getLastChild();if(cl(a)||dj(a))return a.select()}}void 0===d&&(d=f),void 0===e&&(e=f);let g=this.__key;return cv(c)?(c.anchor.set(g,d,"element"),c.focus.set(g,e,"element"),c.dirty=!0,c):cH(g,d,g,e,"element","element")}selectStart(){let a=this.getFirstDescendant();return a?a.selectStart():this.select()}selectEnd(){let a=this.getLastDescendant();return a?a.selectEnd():this.select()}clear(){let a=this.getWritable();return this.getChildren().forEach(a=>a.remove()),a}append(...a){return this.splice(this.getChildrenSize(),0,a)}setDirection(a){let b=this.getWritable();return b.__dir=a,b}setFormat(a){return this.getWritable().__format=""!==a?N[a]:0,this}setStyle(a){return this.getWritable().__style=a||"",this}setTextFormat(a){let b=this.getWritable();return b.__textFormat=a,b}setTextStyle(a){let b=this.getWritable();return b.__textStyle=a,b}setIndent(a){return this.getWritable().__indent=a,this}splice(a,b,c){let e=c.length,f=this.getChildrenSize(),g=this.getWritable();a+b<=f||d(226,String(a),String(b),String(f));let h=g.__key,i=[],j=[],k=this.getChildAtIndex(a+b),l=null,m=f-b+e;if(0!==a)if(a===f)l=this.getLastChild();else{let b=this.getChildAtIndex(a);null!==b&&(l=b.getPreviousSibling())}if(b>0){let a=null===l?this.getFirstChild():l.getNextSibling();for(let c=0;c<b;c++){null===a&&d(100);let b=a.getNextSibling(),c=a.__key;dX(a.getWritable()),j.push(c),a=b}}let o=l;for(let a=0;a<e;a++){let b=c[a];null!==o&&b.is(o)&&(l=o=o.getPreviousSibling());let e=b.getWritable();e.__parent===h&&m--,dX(e);let f=b.__key;if(null===o)g.__first=f,e.__prev=null;else{let a=o.getWritable();a.__next=f,e.__prev=a.__key}b.__key===h&&d(76),e.__parent=h,i.push(f),o=b}if(a+b===f)null!==o&&(o.getWritable().__next=null,g.__last=o.__key);else if(null!==k){let a=k.getWritable();if(null!==o){let b=o.getWritable();a.__prev=o.__key,b.__next=k.__key}else a.__prev=null}if(g.__size=m,j.length){let a=cL();if(cv(a)){let b=new Set(j),c=new Set(i),{anchor:d,focus:e}=a;dk(d,b,c)&&cP(d,d.getNode(),this,l,k),dk(e,b,c)&&cP(e,e.getNode(),this,l,k),0!==m||this.canBeEmpty()||eE(this)||this.remove()}}return g}getDOMSlot(a){return new dg(a)}exportDOM(a){let{element:b}=super.exportDOM(a);if(eN(b)){let a=this.getIndent();a>0&&(b.style.paddingInlineStart=40*a+"px");let c=this.getDirection();c&&(b.dir=c)}return{element:b}}exportJSON(){let a={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},b=this.getTextFormat(),c=this.getTextStyle();return 0!==b&&(a.textFormat=b),""!==c&&(a.textStyle=c),a}updateFromJSON(a){return super.updateFromJSON(a).setFormat(a.format).setIndent(a.indent).setDirection(a.direction).setTextFormat(a.textFormat||0).setTextStyle(a.textStyle||"")}insertNewAfter(a,b){return null}canIndent(){return!0}collapseAtStart(a){return!1}excludeFromCopy(a){return!1}canReplaceWith(a){return!0}canInsertAfter(a){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(a){return!1}extractWithChild(a,b,c){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(a,b){let c=this.getDOMSlot(a),d=c.getFirstChild();for(let a=this.getFirstChild();a;a=a.getNextSibling()){let e=b.getElementByKey(a.getKey());null!==e&&(null==d?(c.insertChild(e),d=e):d!==e&&c.replaceChild(e,d),d=d.nextSibling)}}}function dj(a){return a instanceof di}function dk(a,b,c){let d=a.getNode();for(;d;){let a=d.__key;if(b.has(a)&&!c.has(a))return!0;d=d.getParent()}return!1}class dl extends b_{decorate(a,b){d(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function dm(a){return a instanceof dl}class dn extends di{static getType(){return"root"}static clone(){return new dn}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){d(51)}getTextContent(){let a=this.__cachedText;return(c0()||c4()._dirtyType===v)&&null!==a?a:super.getTextContent()}remove(){d(52)}replace(a){d(53)}insertBefore(a){d(54)}insertAfter(a){d(55)}updateDOM(a,b){return!1}splice(a,b,c){for(let a of c)dj(a)||dm(a)||d(282);return super.splice(a,b,c)}static importJSON(a){return d5().updateFromJSON(a)}collapseAtStart(){return!0}}function dp(a){return a instanceof dn}function dq(a){return new dt(new Map(a._nodeMap))}function dr(){return new dt(new Map([["root",new dn]]))}function ds(a){let b=a.exportJSON(),c=a.constructor;if(b.type!==c.getType()&&d(130,c.name),dj(a)){let e=b.children;Array.isArray(e)||d(59,c.name);let f=a.getChildren();for(let a=0;a<f.length;a++){let b=ds(f[a]);e.push(b)}}return b}class dt{constructor(a,b){this._nodeMap=a,this._selection=b||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(a,b){return da(b&&b.editor||null,this,a)}clone(a){let b=new dt(this._nodeMap,void 0===a?this._selection:a);return b._readOnly=!0,b}toJSON(){return da(null,this,()=>({root:ds(d5())}))}}let du="history-merge",dv="collaboration",dw="skip-scroll-into-view",dx="skip-dom-selection";class dy extends di{static getType(){return"paragraph"}static clone(a){return new dy(a.__key)}createDOM(a){let b=document.createElement("p"),c=en(a.theme,"paragraph");return void 0!==c&&b.classList.add(...c),b}updateDOM(a,b,c){return!1}static importDOM(){return{p:a=>({conversion:dz,priority:0})}}exportDOM(a){let{element:b}=super.exportDOM(a);if(eN(b)){this.isEmpty()&&b.append(document.createElement("br"));let a=this.getFormatType();a&&(b.style.textAlign=a)}return{element:b}}static importJSON(a){return dA().updateFromJSON(a)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(a,b){let c=dA();c.setTextFormat(a.format),c.setTextStyle(a.style);let d=this.getDirection();return c.setDirection(d),c.setFormat(this.getFormatType()),c.setStyle(this.getStyle()),this.insertAfter(c,b),c}collapseAtStart(){let a=this.getChildren();if(0===a.length||cl(a[0])&&""===a[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function dz(a){let b=dA();return a.style&&(b.setFormat(a.style.textAlign),eZ(a,b)),{node:b}}function dA(){return eF(new dy)}function dB(a){return a instanceof dy}function dC(a,b,c,d){let e=a._keyToDOMMap;e.clear(),a._editorState=dr(),a._pendingEditorState=d,a._compositionKey=null,a._dirtyType=v,a._cloneNotNeeded.clear(),a._dirtyLeaves=new Set,a._dirtyElements.clear(),a._normalizedNodes=new Set,a._updateTags=new Set,a._updates=[],a._blockCursorElement=null;let f=a._observer;null!==f&&(f.disconnect(),a._observer=null),null!==b&&(b.textContent=""),null!==c&&(c.textContent="",e.set("root",c))}class dD{constructor(a,b,c,d,e,f,g,h){this._createEditorArgs=h,this._parentEditor=b,this._rootElement=null,this._editorState=a,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=d,this._nodes=c,this._decorators={},this._pendingDecorators=null,this._dirtyType=v,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=eb(),this._onError=e,this._htmlConversions=f,this._editable=g,this._headless=null!==b&&b._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(a){let b=this._listeners.update;return b.add(a),()=>{b.delete(a)}}registerEditableListener(a){let b=this._listeners.editable;return b.add(a),()=>{b.delete(a)}}registerDecoratorListener(a){let b=this._listeners.decorator;return b.add(a),()=>{b.delete(a)}}registerTextContentListener(a){let b=this._listeners.textcontent;return b.add(a),()=>{b.delete(a)}}registerRootListener(a){let b=this._listeners.root;return a(this._rootElement,null),b.add(a),()=>{a(null,this._rootElement),b.delete(a)}}registerCommand(a,b,c){void 0===c&&d(35);let e=this._commands;e.has(a)||e.set(a,[new Set,new Set,new Set,new Set,new Set]);let f=e.get(a);void 0===f&&d(36,String(a));let g=f[c];return g.add(b),()=>{g.delete(b),f.every(a=>0===a.size)&&e.delete(a)}}registerMutationListener(a,b,c){let d=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(a)).klass,e=this._listeners.mutation,f=e.get(b);void 0===f&&(f=new Set,e.set(b,f)),f.add(d);let g=c&&c.skipInitialization;return void 0!==g&&g||this.initializeMutationListener(b,d),()=>{f.delete(d),0===f.size&&e.delete(b)}}getRegisteredNode(a){let b=this._nodes.get(a.getType());return void 0===b&&d(37,a.name),b}resolveRegisteredNodeAfterReplacements(a){for(;a.replaceWithKlass;)a=this.getRegisteredNode(a.replaceWithKlass);return a}initializeMutationListener(a,b){let c=this._editorState,d=eX(c).get(b.getType());if(!d)return;let e=new Map;for(let a of d.keys())e.set(a,"created");e.size>0&&a(e,{dirtyLeaves:new Set,prevEditorState:c,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(a,b){let c=this.getRegisteredNode(a);return c.transforms.add(b),c}registerNodeTransform(a,b){let c=this.registerNodeTransformToKlass(a,b),d=[c],e=c.replaceWithKlass;if(null!=e){let a=this.registerNodeTransformToKlass(e,b);d.push(a)}return function(a,b){let c=eX(a.getEditorState()),d=[];for(let a of b){let b=c.get(a);b&&d.push(b)}0!==d.length&&a.update(()=>{for(let a of d)for(let b of a.keys()){let a=d_(b);a&&a.markDirty()}},null===a._pendingEditorState?{tag:du}:void 0)}(this,d.map(a=>a.klass.getType())),()=>{d.forEach(a=>a.transforms.delete(b))}}hasNode(a){return this._nodes.has(a.getType())}hasNodes(a){return a.every(this.hasNode.bind(this))}dispatchCommand(a,b){return es(this,a,b)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(a){let b=this._rootElement;if(a!==b){let c=en(this._config.theme,"root"),d=this._pendingEditorState||this._editorState;if(this._rootElement=a,dC(this,b,a,d),null!==b&&(this._config.disableEvents||bY(b),null!=c&&b.classList.remove(...c)),null!==a){let b=eA(a),d=a.style;d.userSelect="text",d.whiteSpace="pre-wrap",d.wordBreak="break-word",a.setAttribute("data-lexical-editor","true"),this._window=b,this._dirtyType=x,ab(this),this._updateTags.add(du),db(this),this._config.disableEvents||function(a,b){let c=a.ownerDocument,d=bC.get(c);(void 0===d||d<1)&&c.addEventListener("selectionchange",bU),bC.set(c,(d||0)+1),a.__lexicalEditor=b;let e=bS(a);for(let c=0;c<bx.length;c++){let[d,f]=bx[c],g="function"==typeof f?a=>{bW(a)||(bV(a),(b.isEditable()||"click"===d)&&f(a,b))}:a=>{if(bW(a))return;bV(a);let c=b.isEditable();switch(d){case"cut":return c&&es(b,bq,a);case"copy":return es(b,bp,a);case"paste":return c&&es(b,a1,a);case"dragstart":return c&&es(b,bm,a);case"dragover":return c&&es(b,bn,a);case"dragend":return c&&es(b,bo,a);case"focus":return c&&es(b,bs,a);case"blur":return c&&es(b,bt,a);case"drop":return c&&es(b,bl,a)}};a.addEventListener(d,g),e.push(()=>{a.removeEventListener(d,g)})}}(a,this),null!=c&&a.classList.add(...c)}else this._window=null,this._updateTags.add(du),db(this);dc("root",this,!1,a,b)}}getElementByKey(a){return this._keyToDOMMap.get(a)||null}getEditorState(){return this._editorState}setEditorState(a,b){a.isEmpty()&&d(38);let c=a;c._readOnly&&((c=dq(a))._selection=a._selection?a._selection.clone():null),aa(this);let e=this._pendingEditorState,f=this._updateTags,g=void 0!==b?b.tag:null;null===e||e.isEmpty()||(null!=g&&f.add(g),db(this)),this._pendingEditorState=c,this._dirtyType=x,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=g&&f.add(g),this._updating||db(this)}parseEditorState(a,b){return function(a,b,c){let d=dr(),e=cW,f=cY,g=cX,h=b._dirtyElements,i=b._dirtyLeaves,j=b._cloneNotNeeded,k=b._dirtyType;b._dirtyElements=new Map,b._dirtyLeaves=new Set,b._cloneNotNeeded=new Set,b._dirtyType=0,cW=d,cY=!1,cX=b,dF(null);try{let e=b._nodes;c9(a.root,e),c&&c(),d._readOnly=!0}catch(a){a instanceof Error&&b._onError(a)}finally{b._dirtyElements=h,b._dirtyLeaves=i,b._cloneNotNeeded=j,b._dirtyType=k,cW=e,cY=f,cX=g}return d}("string"==typeof a?JSON.parse(a):a,this,b)}read(a){return db(this),this.getEditorState().read(a,{editor:this})}update(a,b){!function(a,b,c){a._updating?a._updates.push([b,c]):de(a,b,c)}(this,a,b)}focus(a,b={}){let c=this._rootElement;null!==c&&(c.setAttribute("autocapitalize","off"),df(this,()=>{let d=cL(),e=d5();null!==d?d.dirty||d7(d.clone()):0!==e.getChildrenSize()&&("rootStart"===b.defaultSelection?e.selectStart():e.selectEnd()),ex("focus"),ey(()=>{c.removeAttribute("autocapitalize"),a&&a()})}),null===this._pendingEditorState&&c.removeAttribute("autocapitalize"))}blur(){let a=this._rootElement;null!==a&&a.blur();let b=eK(this._window);null!==b&&b.removeAllRanges()}isEditable(){return this._editable}setEditable(a){this._editable!==a&&(this._editable=a,dc("editable",this,!0,a))}toJSON(){return{editorState:this._editorState.toJSON()}}}dD.version="0.35.0+prod.esm";let dE=null;function dF(a){dE=a}let dG=1;function dH(a,b){let c=dI(a,b);return void 0===c&&d(30,b),c}function dI(a,b){return a._nodes.get(b)}let dJ="function"==typeof queueMicrotask?queueMicrotask:a=>{Promise.resolve().then(a)};function dK(a){return dm(d2(a))}function dL(a){let b=document.activeElement;if(!eN(b))return!1;let c=b.nodeName;return dm(d2(a))&&("INPUT"===c||"TEXTAREA"===c||"true"===b.contentEditable&&null==dP(b))}function dM(a,b,c){let d=a.getRootElement();try{return null!==d&&d.contains(b)&&d.contains(c)&&null!==b&&!dL(b)&&dO(b)===a}catch(a){return!1}}function dN(a){return a instanceof dD}function dO(a){let b=a;for(;null!=b;){let a=dP(b);if(dN(a))return a;b=ev(b)}return null}function dP(a){return a?a.__lexicalEditor:null}function dQ(a){return cp(a)||a.isToken()}function dR(a){return dQ(a)||a.isSegmented()}function dS(a){return eO(a)&&a.nodeType===s}function dT(a){return eO(a)&&a.nodeType===t}function dU(a){let b=a;for(;null!=b;){if(dS(b))return b;b=b.firstChild}return null}function dV(a,b,c){let d=L[b];if(null!==c&&(a&d)==(c&d))return a;let e=a^d;return"subscript"===b?e&=~L.superscript:"superscript"===b?e&=~L.subscript:"lowercase"===b?(e&=~L.uppercase,e&=~L.capitalize):"uppercase"===b?(e&=~L.lowercase,e&=~L.capitalize):"capitalize"===b&&(e&=~L.lowercase,e&=~L.uppercase),e}function dW(a,b){let c=function(){let a=dE;return dE=null,a}();if(null!=(b=b||c&&c.__key))return void(a.__key=b);c1(),c2();let d=c4(),e=c3(),f=""+dG++;e._nodeMap.set(f,a),dj(a)?d._dirtyElements.set(f,!0):d._dirtyLeaves.add(f),d._cloneNotNeeded.add(f),d._dirtyType=w,a.__key=f}function dX(a){let b=a.getParent();if(null!==b){let c=a.getWritable(),d=b.getWritable(),e=a.getPreviousSibling(),f=a.getNextSibling(),g=null!==f?f.__key:null,h=null!==e?e.__key:null,i=null!==e?e.getWritable():null,j=null!==f?f.getWritable():null;null===e&&(d.__first=g),null===f&&(d.__last=h),null!==i&&(i.__next=g),null!==j&&(j.__prev=h),c.__prev=null,c.__next=null,c.__parent=null,d.__size--}}function dY(a){c2();let b=a.getLatest(),c=b.__parent,d=c3(),e=c4(),f=d._nodeMap,g=e._dirtyElements;null!==c&&function(a,b,c){let d=a;for(;null!==d;){if(c.has(d))return;let a=b.get(d);if(void 0===a)break;c.set(d,!1),d=a.__parent}}(c,f,g);let h=b.__key;e._dirtyType=w,dj(a)?g.set(h,!0):e._dirtyLeaves.add(h)}function dZ(a){c1();let b=c4(),c=b._compositionKey;if(a!==c){if(b._compositionKey=a,null!==c){let a=d_(c);null!==a&&a.getWritable()}if(null!==a){let b=d_(a);null!==b&&b.getWritable()}}}function d$(){return c0()?null:c4()._compositionKey}function d_(a,b){let c=(b||c3())._nodeMap.get(a);return void 0===c?null:c}function d0(a,b){let c=d1(a,c4());return void 0!==c?d_(c,b):null}function d1(a,b){return a[`__lexicalKey_${b._key}`]}function d2(a,b){let c=a;for(;null!=c;){let a=d0(c,b);if(null!==a)return a;c=ev(c)}return null}function d3(a){let b=Object.assign({},a._decorators);return a._pendingDecorators=b,b}function d4(a){return a.read(()=>d5().getTextContent())}function d5(){return d6(c3())}function d6(a){return a._nodeMap.get("root")}function d7(a){c1();let b=c3();null!==a&&(a.dirty=!0,a.setCachedNodes(null)),b._selection=a}function d8(a){let b=c4(),c=function(a,b){let c=a;for(;null!=c;){let a=d1(c,b);if(void 0!==a)return a;c=ev(c)}return null}(a,b);return null===c?a===b.getRootElement()?d_("root"):null:d_(c)}function d9(a){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(a)}function ea(a){let b=[],c=a;for(;null!==c;)b.push(c),c=c._parentEditor;return b}function eb(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function ec(a){return dS(a)?a.nodeValue:null}function ed(a,b,c){let d=eK(eB(b));if(null===d)return;let e=d.anchorNode,{anchorOffset:f,focusOffset:g}=d;if(null!==e){let b=ec(e),d=d2(e);if(null!==b&&cl(d)){if(b===I&&c){let a=c.length;b=c,f=a,g=a}null!==b&&ee(d,b,f,g,a)}}}function ee(a,b,c,d,e){let f=a;if(f.isAttached()&&(e||!f.isDirty())){let g=f.isComposing(),h=b;(g||e)&&b[b.length-1]===I&&(h=b.slice(0,-1));let i=f.getTextContent();if(e||h!==i){if(""===h){if(dZ(null),j||k||p)f.remove();else{let a=c4();setTimeout(()=>{a.update(()=>{f.isAttached()&&f.remove()})},20)}return}let b=f.getParent(),e=cM(),i=f.getTextContentSize(),l=d$(),m=f.getKey();if(f.isToken()||null!==l&&m===l&&!g||cv(e)&&(null!==b&&!b.canInsertTextBefore()&&0===e.anchor.offset||e.anchor.key===a.__key&&0===e.anchor.offset&&!f.canInsertTextBefore()&&!g||e.focus.key===a.__key&&e.focus.offset===i&&!f.canInsertTextAfter()&&!g))return void f.markDirty();let o=cL();if(!cv(o)||null===c||null===d)return void ef(f,h,o);if(o.setTextNodeRange(f,c,f,d),f.isSegmented()){let a=ck(f.getTextContent());f.replace(a),f=a}ef(f,h,o)}}}function ef(a,b,c){if(a.setTextContent(b),cv(c)){let b=a.getKey();for(let d of["anchor","focus"]){let e=c[d];"text"===e.type&&e.key===b&&(e.offset=fi(a,e.offset,"clamp"))}}}function eg(a,b,c){let d=b[c]||!1;return"any"===d||d===a[c]}function eh(a,b){return eg(a,b,"altKey")&&eg(a,b,"ctrlKey")&&eg(a,b,"shiftKey")&&eg(a,b,"metaKey")}function ei(a,b,c){return eh(a,c)&&a.key.toLowerCase()===b.toLowerCase()}let ej={ctrlKey:!g,metaKey:g},ek={altKey:g,ctrlKey:!g};function el(a){return"Backspace"===a.key}function em(a){return ei(a,"a",ej)}function en(a,b){void 0===a.__lexicalClassNameCache&&(a.__lexicalClassNameCache={});let c=a.__lexicalClassNameCache,d=c[b];if(void 0!==d)return d;let e=a[b];if("string"==typeof e){let a=q(e);return c[b]=a,a}return e}function eo(a,b,c,e,f){if(0===c.size)return;let g=e.__type,h=e.__key,i=b.get(g);void 0===i&&d(33,g);let j=i.klass,k=a.get(j);void 0===k&&(k=new Map,a.set(j,k));let l=k.get(h),m="destroyed"===l&&"created"===f;(void 0===l||m)&&k.set(h,m?"updated":f)}function ep(a,b,c){let d=a.getParent(),e=c,f=a;return null!==d&&(b&&0===c?(e=f.getIndexWithinParent(),f=d):b||c!==f.getChildrenSize()||(e=f.getIndexWithinParent()+1,f=d)),f.getChildAtIndex(b?e-1:e)}function eq(a,b){let c=a.offset;if("element"===a.type)return ep(a.getNode(),b,c);{let d=a.getNode();if(b&&0===c||!b&&c===d.getTextContentSize()){let a=b?d.getPreviousSibling():d.getNextSibling();return null===a?ep(d.getParentOrThrow(),b,d.getIndexWithinParent()+ +!b):a}}return null}function er(a){let b=eB(a).event,c=b&&b.inputType;return"insertFromPaste"===c||"insertFromPasteAsQuotation"===c}function es(a,b,c){return function(a,b,c){let d=ea(a);for(let e=4;e>=0;e--)for(let f=0;f<d.length;f++){let g=d[f],h=g._commands.get(b);if(void 0!==h){let b=h[e];if(void 0!==b){let d=Array.from(b),e=d.length,f=!1;if(df(g,()=>{for(let b=0;b<e;b++)if(d[b](c,a))return void(f=!0)}),f)return f}}}return!1}(a,b,c)}function et(a){return!dp(a)&&!a.isLastChild()&&!a.isInline()}function eu(a,b){let c=a._keyToDOMMap.get(b);return void 0===c&&d(75,b),c}function ev(a){let b=a.assignedSlot||a.parentElement;return eP(b)?b.host:b}function ew(a){return dT(a)?a:eN(a)?a.ownerDocument:null}function ex(a){c1(),c4()._updateTags.add(a)}function ey(a){c1(),c4()._deferred.push(a)}function ez(a,b){let c=a.getParent();for(;null!==c;){if(c.is(b))return!0;c=c.getParent()}return!1}function eA(a){let b=ew(a);return b?b.defaultView:null}function eB(a){let b=a._window;return null===b&&d(78),b}function eC(a){return dj(a)&&a.isInline()||dm(a)&&a.isInline()}function eD(a){let b=a.getParentOrThrow();for(;null!==b&&!eE(b);)b=b.getParentOrThrow();return b}function eE(a){return dp(a)||dj(a)&&a.isShadowRoot()}function eF(a){let b=c4(),c=a.getType(),e=dI(b,c);void 0===e&&d(200,a.constructor.name,c);let{replace:f,replaceWithKlass:g}=e;if(null!==f){let b=f(a),e=b.constructor;return null!==g?b instanceof g||d(201,g.name,g.getType(),e.name,e.getType(),a.constructor.name,c):b instanceof a.constructor&&e!==a.constructor||d(202,e.name,e.getType(),a.constructor.name,c),b.__key===a.__key&&d(203,a.constructor.name,c,e.name,e.getType()),b}return a}function eG(a,b){!dp(a.getParent())||dj(b)||dm(b)||d(99)}function eH(a){let b=d_(a);return null===b&&d(63,a),b}function eI(a){return(dm(a)||dj(a)&&!a.canBeEmpty())&&!a.isInline()}function eJ(a,b,c){c.style.removeProperty("caret-color"),b._blockCursorElement=null;let d=a.parentElement;null!==d&&d.removeChild(a)}function eK(a){return e?(a||window).getSelection():null}function eL(a){let b=eA(a);return b?b.getSelection():null}function eM(a){return eN(a)&&"A"===a.tagName}function eN(a){return eO(a)&&a.nodeType===r}function eO(a){return"object"==typeof a&&null!==a&&"nodeType"in a&&"number"==typeof a.nodeType}function eP(a){return eO(a)&&a.nodeType===u}function eQ(a){let b=RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==a.nodeName.match(b)}function eR(a){let b=RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==a.nodeName.match(b)}function eS(a){if(dm(a)&&!a.isInline())return!0;if(!dj(a)||eE(a))return!1;let b=a.getFirstChild(),c=null===b||b3(b)||cl(b)||b.isInline();return!a.isInline()&&!1!==a.canBeEmpty()&&c}function eT(a,b){let c=a;for(;null!==c&&null!==c.getParent()&&!b(c);)c=c.getParentOrThrow();return b(c)?c:null}function eU(){return c4()}let eV=new WeakMap,eW=new Map;function eX(a){if(!a._readOnly&&a.isEmpty())return eW;a._readOnly||d(192);let b=eV.get(a);return b||(b=function(a){let b=new Map;for(let[c,d]of a._nodeMap){let a=d.__type,e=b.get(a);e||(e=new Map,b.set(a,e)),e.set(c,d)}return b}(a),eV.set(a,b)),b}function eY(a){let b=a.constructor.clone(a);return b.afterCloneFrom(a),b}function eZ(a,b){let c=Math.round((parseInt(a.style.paddingInlineStart,10)||0)/40);b.setIndent(c)}function e$(a){a.__lexicalUnmanaged=!0}function e_(a){return!0===a.__lexicalUnmanaged}function e0(a,b){return function(a,b){return Object.prototype.hasOwnProperty.call(a,b)}(a,b)&&a[b]!==b_[b]}function e1(a){let b=R in a.prototype?a.prototype[R]():void 0,c=function(a){return a===dl||a===di||a===b_}(a),d=!c&&e0(a,"getType")?a.getType():void 0,e,f=d;if(b)if(d)e=b[d];else for(let[a,c]of Object.entries(b))f=a,e=c;if(!c&&f&&(e0(a,"getType")||(a.getType=()=>f),e0(a,"clone")||(a.clone=b=>(dF(b),new a)),e0(a,"importJSON")||(a.importJSON=e&&e.$importJSON||(b=>(new a).updateFromJSON(b))),!e0(a,"importDOM")&&e)){let{importDOM:b}=e;b&&(a.importDOM=()=>b)}return{ownNodeConfig:e,ownNodeType:f}}let e2={next:"previous",previous:"next"};class e3{constructor(a){this.origin=a}[Symbol.iterator](){return fs({hasNext:fb,initial:this.getAdjacentCaret(),map:a=>a,step:a=>a.getAdjacentCaret()})}getAdjacentCaret(){return fg(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return fg(this.origin,this.direction)}remove(){let a=this.getNodeAtCaret();return a&&a.remove(),this}replaceOrInsert(a,b){let c=this.getNodeAtCaret();return a.is(this.origin)||a.is(c)||(null===c?this.insert(a):c.replace(a,b)),this}splice(a,b,c="next"){let e=c===this.direction?b:Array.from(b).reverse(),f=this,g=this.getParentAtCaret(),h=new Map;for(let b=f.getAdjacentCaret();null!==b&&h.size<a;b=b.getAdjacentCaret()){let a=b.origin.getWritable();h.set(a.getKey(),a)}for(let a of e){if(h.size>0){let b=f.getNodeAtCaret();if(b)if(h.delete(b.getKey()),h.delete(a.getKey()),b.is(a)||f.origin.is(a));else{let c=a.getParent();c&&c.is(g)&&a.remove(),b.replace(a)}else null===b&&d(263,Array.from(h).join(" "))}else f.insert(a);f=fg(a,this.direction)}for(let a of h.values())a.remove();return this}}class e4 extends e3{type="child";getLatest(){let a=this.origin.getLatest();return a===this.origin?this:fk(a,this.direction)}getParentCaret(a="root"){return fg(e7(this.getParentAtCaret(),a),this.direction)}getFlipped(){let a=e6(this.direction);return fg(this.getNodeAtCaret(),a)||fk(this.origin,a)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(a){return a instanceof e4&&this.direction===a.direction&&this.origin.is(a.origin)}isSamePointCaret(a){return this.isSameNodeCaret(a)}}let e5={root:dp,shadowRoot:eE};function e6(a){return e2[a]}function e7(a,b="root"){return e5[b](a)?null:a}class e8 extends e3{type="sibling";getLatest(){let a=this.origin.getLatest();return a===this.origin?this:fg(a,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return dj(this.origin)?fk(this.origin,this.direction):null}getParentCaret(a="root"){return fg(e7(this.getParentAtCaret(),a),this.direction)}getFlipped(){let a=e6(this.direction);return fg(this.getNodeAtCaret(),a)||fk(this.origin.getParentOrThrow(),a)}isSamePointCaret(a){return a instanceof e8&&this.direction===a.direction&&this.origin.is(a.origin)}isSameNodeCaret(a){return(a instanceof e8||a instanceof e9)&&this.direction===a.direction&&this.origin.is(a.origin)}}class e9 extends e3{type="text";constructor(a,b){super(a),this.offset=b}getLatest(){let a=this.origin.getLatest();return a===this.origin?this:fh(a,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(a="root"){return fg(e7(this.getParentAtCaret(),a),this.direction)}getFlipped(){return fh(this.origin,e6(this.direction),this.offset)}isSamePointCaret(a){return a instanceof e9&&this.direction===a.direction&&this.origin.is(a.origin)&&this.offset===a.offset}isSameNodeCaret(a){return(a instanceof e8||a instanceof e9)&&this.direction===a.direction&&this.origin.is(a.origin)}getSiblingCaret(){return fg(this.origin,this.direction)}}function fa(a){return a instanceof e9}function fb(a){return a instanceof e8}function fc(a){return a instanceof e4}let fd={next:class extends e9{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(a){return this.origin.insertAfter(a),this}},previous:class extends e9{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(a){return this.origin.insertBefore(a),this}}},fe={next:class extends e8{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(a){return this.origin.insertAfter(a),this}},previous:class extends e8{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(a){return this.origin.insertBefore(a),this}}},ff={next:class extends e4{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(a){return this.origin.splice(0,0,[a]),this}},previous:class extends e4{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(a){return this.origin.splice(this.origin.getChildrenSize(),0,[a]),this}}};function fg(a,b){return a?new fe[b](a):null}function fh(a,b,c){return a?new fd[b](a,fi(a,c)):null}function fi(a,b,c="error"){let d=a.getTextContentSize(),e="next"===b?d:"previous"===b?0:b;return(e<0||e>d)&&("clamp"!==c&&function(a,...b){let c=new URL("https://lexical.dev/docs/error"),d=new URLSearchParams;for(let a of(d.append("code",284),b))d.append("v",a);c.search=d.toString(),console.warn(`Minified Lexical warning #${284}; visit ${c.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(284,String(b),String(d),a.getKey()),e=e<0?0:d),e}function fj(a,b){return new fo(a,b)}function fk(a,b){return dj(a)?new ff[b](a):null}function fl(a){return a&&a.getChildCaret()||a}function fm(a){return a&&fl(a.getAdjacentCaret())}class fn{type="node-caret-range";constructor(a,b,c){this.anchor=a,this.focus=b,this.direction=c}getLatest(){let a=this.anchor.getLatest(),b=this.focus.getLatest();return a===this.anchor&&b===this.focus?this:new fn(a,b,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){let a=a=>{let b=this[a].getLatest();return fa(b)?function(a,b){let{direction:c,origin:d}=a;return fj(a,fi(d,"focus"===b?e6(c):c)-a.offset)}(b,a):null},b=a("anchor"),c=a("focus");if(b&&c){let{caret:a}=b,{caret:d}=c;if(a.isSameNodeCaret(d))return[fj(a,d.offset-a.offset),null]}return[b,c]}iterNodeCarets(a="root"){let b=fa(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),c=this.focus.getLatest(),d=fa(c),e=b=>b.isSameNodeCaret(c)?null:fm(b)||b.getParentCaret(a);return fs({hasNext:a=>null!==a&&!(d&&c.isSameNodeCaret(a)),initial:b.isSameNodeCaret(c)?null:e(b),map:a=>a,step:e})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class fo{type="slice";constructor(a,b){this.caret=a,this.distance=b}getSliceIndices(){let{distance:a,caret:{offset:b}}=this,c=b+a;return c<b?[c,b]:[b,c]}getTextContent(){let[a,b]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(a,b)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){let{caret:{origin:a,direction:b}}=this,[c,d]=this.getSliceIndices(),e=a.getTextContent();return fh(a.setTextContent(e.slice(0,c)+e.slice(d)),b,c)}}function fp(a){return fr(a,fg(d5(),a.direction))}function fq(a){return fr(a,a)}function fr(a,b){return a.direction!==b.direction&&d(265),new fn(a,b,a.direction)}function fs(a){let{initial:b,hasNext:c,step:d,map:e}=a,f=b;return{[Symbol.iterator](){return this},next(){if(!c(f))return{done:!0,value:void 0};let a={done:!1,value:e(f)};return f=d(f),a}}}function ft(a,b){let c=fx(a.origin,b.origin);switch(null===c&&d(275,a.origin.getKey(),b.origin.getKey()),c.type){case"same":{let c="text"===a.type,d="text"===b.type;return c&&d?function(a,b){return Math.sign(a-b)}(a.offset,b.offset):a.type===b.type?0:c?-1:d?1:"child"===a.type?-1:1}case"ancestor":return"child"===a.type?-1:1;case"descendant":return"child"===b.type?1:-1;case"branch":return fu(c)}}function fu(a){let{a:b,b:c}=a,d=b.__key,e=c.__key,f=b,g=c;for(;f&&g;f=f.getNextSibling(),g=g.getNextSibling()){if(f.__key===e)return -1;if(g.__key===d)return 1}return null===f?1:-1}function fv(a,b){return b.is(a)}function fw(a){return dj(a)?[a.getLatest(),null]:[a.getParent(),a.getLatest()]}function fx(a,b){if(a.is(b))return{commonAncestor:a,type:"same"};let c=new Map;for(let[b,d]=fw(a);b;d=b,b=b.getParent())c.set(b,d);for(let[e,f]=fw(b);e;f=e,e=e.getParent()){let g=c.get(e);if(void 0!==g)return null===g?(fv(a,e)||d(276),{commonAncestor:e,type:"ancestor"}):null===f?(fv(b,e)||d(277),{commonAncestor:e,type:"descendant"}):((dj(g)||fv(a,g))&&(dj(f)||fv(b,f))&&e.is(g.getParent())&&e.is(f.getParent())||d(278),{a:g,b:f,commonAncestor:e,type:"branch"})}return null}function fy(a,b){let{type:c,key:e,offset:f}=a,g=eH(a.key);return"text"===c?(cl(g)||d(266,g.getType(),e),fh(g,b,f)):(dj(g)||d(267,g.getType(),e),fL(g,a.offset,b))}function fz(a,b){let{origin:c,direction:e}=b,f="next"===e;fa(b)?a.set(c.getKey(),b.offset,"text"):fb(b)?cl(c)?a.set(c.getKey(),fi(c,e),"text"):a.set(c.getParentOrThrow().getKey(),c.getIndexWithinParent()+ +!!f,"element"):(fc(b)&&dj(c)||d(268),a.set(c.getKey(),f?0:c.getChildrenSize(),"element"))}function fA(a){let b=cL(),c=cv(b)?b:cI();return fB(c,a),d7(c),c}function fB(a,b){fz(a.anchor,b.anchor),fz(a.focus,b.focus)}function fC(a){let{anchor:b,focus:c}=a,d=fy(b,"next"),e=fy(c,"next"),f=0>=ft(d,e)?"next":"previous";return fr(fJ(d,f),fJ(e,f))}function fD(a){let{direction:b,origin:c}=a,d=fg(c,e6(b)).getNodeAtCaret();return d?fg(d,b):fk(c.getParentOrThrow(),b)}function fE(a,b="root"){let c=[a];for(let d=fc(a)?a.getParentCaret(b):a.getSiblingCaret();null!==d;d=d.getParentCaret(b))c.push(fD(d));return c}function fF(a){return!!a&&a.origin.isAttached()}function fG(a,b="removeEmptySlices"){let c,e;if(a.isCollapsed())return a;let f="root",g="next",h=b,i=fK(a,g),j=fE(i.anchor,f),k=fE(i.focus.getFlipped(),f),l=new Set,m=[];for(let a of i.iterNodeCarets(f))if(fc(a))l.add(a.origin.getKey());else if(fb(a)){let{origin:b}=a;dj(b)&&!l.has(b.getKey())||m.push(b)}for(let a of m)a.remove();for(let a of i.getTextSlices()){if(!a)continue;let{origin:b}=a.caret,c=b.getTextContentSize(),d=fD(fg(b,g)),e=b.getMode();if(Math.abs(a.distance)===c&&"removeEmptySlices"===h||"token"===e&&0!==a.distance)d.remove();else if(0!==a.distance){h="removeEmptySlices";let b=a.removeTextSlice(),c=a.caret.origin;if("segmented"===e){let a=b.origin,c=ck(a.getTextContent()).setStyle(a.getStyle()).setFormat(a.getFormat());d.replaceOrInsert(c),b=fh(c,g,b.offset)}c.is(j[0].origin)&&(j[0]=b),c.is(k[0].origin)&&(k[0]=b.getFlipped())}}for(let a of j)if(fF(a)){c=fH(a);break}for(let a of k)if(fF(a)){e=fH(a);break}let o=function(a,b,c){let d;if(!a||!b)return null;let e=a.getParentAtCaret(),f=b.getParentAtCaret();if(!e||!f)return null;let g=e.getParents().reverse();g.push(e);let h=f.getParents().reverse();h.push(f);let i=Math.min(g.length,h.length);for(d=0;d<i&&g[d]===h[d];d++);let j=(a,b)=>{let c;for(let e=d;e<a.length;e++){let d=a[e];if(eE(d))return;!c&&b(d)&&(c=d)}return c},k=j(g,eS),l=k&&j(h,a=>c.has(a.getKey())&&eS(a));return k&&l?[k,l]:null}(c,e,l);if(o){let[a,b]=o;fk(a,"previous").splice(0,b.getChildren()),b.remove()}let p=[c,e,...j,...k].find(fF);if(p)return fq(fJ(fH(p),a.direction));d(269,JSON.stringify(j.map(a=>a.origin.__key)))}function fH(a){let b=function(a){let b=a;for(;fc(b);){let a=fm(b);if(!fc(a))break;b=a}return b}(a.getLatest()),{direction:c}=b;if(cl(b.origin))return fa(b)?b:fh(b.origin,c,c);let d=b.getAdjacentCaret();return fb(d)&&cl(d.origin)?fh(d.origin,c,e6(c)):b}function fI(a){return fa(a)&&a.offset!==fi(a.origin,a.direction)}function fJ(a,b){return a.direction===b?a:a.getFlipped()}function fK(a,b){return a.direction===b?a:fr(fJ(a.focus,b),fJ(a.anchor,b))}function fL(a,b,c){let d=fk(a,"next");for(let a=0;a<b;a++){let a=d.getAdjacentCaret();if(null===a)break;d=a}return fJ(d,c)}},65257:a=>{"use strict";let b=2048,c=2047;class d{constructor(){this.bottom=0,this.top=0,this.list=Array(b).fill(void 0),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&c)===this.bottom}push(a){this.list[this.top]=a,this.top=this.top+1&c}shift(){let a=this.list[this.bottom];return void 0===a?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&c,a)}}a.exports=class{constructor(){this.head=this.tail=new d}isEmpty(){return this.head.isEmpty()}push(a){this.head.isFull()&&(this.head=this.head.next=new d),this.head.push(a)}shift(){let a=this.tail,b=a.shift();return a.isEmpty()&&null!==a.next&&(this.tail=a.next,a.next=null),b}}},65352:(a,b,c)=>{"use strict";c.d(b,{m:()=>d});let d={}},65360:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getEndpointFromConfig=void 0;let d=c(75687),e=c(12863);b.getEndpointFromConfig=async a=>(0,d.loadConfig)((0,e.getEndpointUrlConfig)(a??""))()},65479:(a,b,c)=>{"use strict";c.d(b,{h:()=>o});var d=c(50474),e=c(58328);let f={ar:{label:"القاعدة الأفقية"},az:{label:"\xdcf\xfcqi Xətt"},bg:{label:"Хоризонтална линия"},cs:{label:"Vodorovn\xfd prav\xedtko"},da:{label:"Horisontal Regel"},de:{label:"Trennlinie"},en:{label:"Horizontal Rule"},es:{label:"Regla Horizontal"},et:{label:"Horisontaalne reegel"},fa:{label:"قاعده افقی"},fr:{label:"R\xe8gle horizontale"},he:{label:"קו אופקי"},hr:{label:"Vodoravna linija"},hu:{label:"V\xedzszintes vonal"},is:{label:"L\xe1r\xe9tt l\xedna"},it:{label:"Regola Orizzontale"},ja:{label:"水平線"},ko:{label:"수평 규칙"},my:{label:"Peraturan Mendatar"},nb:{label:"Horisontal Regel"},nl:{label:"Horizontale Regel"},pl:{label:"Pozioma Linia"},pt:{label:"Regra Horizontal"},ro:{label:"Linie orizontală"},rs:{label:"Хоризонтална линија"},"rs-latin":{label:"Horizontalna linija"},ru:{label:"Горизонтальная линия"},sk:{label:"Vodorovn\xe1 čiara"},sl:{label:"Vodoravna črta"},sv:{label:"Horisontell linje"},ta:{label:"குறுக்கு வரி"},th:{label:"เส้นขอบแนวนอน"},tr:{label:"Yatay \xc7izgi"},uk:{label:"Горизонтальна лінія"},vi:{label:"Quy tắc ngang"},zh:{label:"水平线"},"zh-TW":{label:"水平線"}};var g=c(64554),h=c(65099);(0,h.guI)("INSERT_HORIZONTAL_RULE_COMMAND");class i extends h.Kp7{static clone(a){return new this(a.__key)}static getType(){return"horizontalrule"}static importDOM(){return{hr:()=>({conversion:j,priority:0})}}static importJSON(a){return k()}createDOM(a){let b=document.createElement("hr");return(0,g.ZB)(b,a.theme.hr),b}decorate(){return null}exportDOM(){return{element:document.createElement("hr")}}exportJSON(){return{type:"horizontalrule",version:1}}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}}function j(){return{node:k()}}function k(){return(0,h.pTq)(new i)}function l(a){return a instanceof i}let m={type:"element",dependencies:[i],export:(a,b)=>l(a)?"---":null,regExp:/^---\s*$/,replace:a=>{let b=k();b&&a.replace(b)}},o=(0,d.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#HorizontalRuleFeatureClient",i18n:f,markdownTransformers:[m],nodes:[(0,e.R)({converters:{html:{converter:()=>"<hr/>",nodeTypes:[i.getType()]}},node:i})]},key:"horizontalRule"})},65664:(a,b,c)=>{"use strict";c.d(b,{kb:()=>d}),c(34358),c(70039),c(13803);var d=c(10103);c(50643)},65942:(a,b,c)=>{"use strict";a.exports=e;let d=c(42012);function e({keyName:a,lines:b,eol:c,ident:e}){let f="",g=d({input:b,ident:e,eol:c}),h=`${e}${a}: ${g}${c}`.split(c);for(let a=0;a<h.length;a+=1){0!==a&&(f+=c);let b=h[a];if(/^\s*"stack"/.test(b)){let a=/^(\s*"stack":)\s*(".*"),?$/.exec(b);if(a&&3===a.length){let d=/^\s*/.exec(b)[0].length+4,e=" ".repeat(d),g=a[2];f+=a[1]+c+e+JSON.parse(g).replace(/\n/g,c+e)}else f+=b}else f+=b}return f}},65950:(a,b,c)=>{"use strict";let d=c(51581),e=c(27020),f=c(1146),g=c(81900);a.exports={err:d,errWithCause:e,mapHttpRequest:f.mapHttpRequest,mapHttpResponse:g.mapHttpResponse,req:f.reqSerializer,res:g.resSerializer,wrapErrorSerializer:function(a){return a===d?a:function(b){return a(d(b))}},wrapRequestSerializer:function(a){return a===f.reqSerializer?a:function(b){return a(f.reqSerializer(b))}},wrapResponseSerializer:function(a){return a===g.resSerializer?a:function(b){return a(g.resSerializer(b))}}}},65960:(a,b,c)=>{"use strict";c.d(b,{t:()=>d});let d=a=>{if("function"==typeof a)return a;let b=Promise.resolve(a);return()=>b}},66035:a=>{"use strict";function b(a,b,c,d,e){for(let f=0;f<e;++f)if(a[b+f]!==c[d+f])return!1;return!0}class c{constructor(a,b){if("function"!=typeof b)throw Error("Missing match callback");if("string"==typeof a)a=Buffer.from(a);else if(!Buffer.isBuffer(a))throw Error(`Expected Buffer for needle, got ${typeof a}`);let c=a.length;if(this.maxMatches=1/0,this.matches=0,this._cb=b,this._lookbehindSize=0,this._needle=a,this._bufPos=0,this._lookbehind=Buffer.allocUnsafe(c),this._occ=[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c],c>1)for(let b=0;b<c-1;++b)this._occ[a[b]]=c-1-b}reset(){this.matches=0,this._lookbehindSize=0,this._bufPos=0}push(a,b){let c;Buffer.isBuffer(a)||(a=Buffer.from(a,"latin1"));let e=a.length;for(this._bufPos=b||0;c!==e&&this.matches<this.maxMatches;)c=d(this,a);return c}destroy(){let a=this._lookbehindSize;a&&this._cb(!1,this._lookbehind,0,a,!1),this.reset()}}function d(a,c){let d=c.length,f=a._needle,g=f.length,h=-a._lookbehindSize,i=g-1,j=f[i],k=d-g,l=a._occ,m=a._lookbehind;if(h<0){for(;h<0&&h<=k;){let b=h+i,d=b<0?m[a._lookbehindSize+b]:c[b];if(d===j&&e(a,c,h,i))return a._lookbehindSize=0,++a.matches,h>-a._lookbehindSize?a._cb(!0,m,0,a._lookbehindSize+h,!1):a._cb(!0,void 0,0,0,!0),a._bufPos=h+g;h+=l[d]}for(;h<0&&!e(a,c,h,d-h);)++h;if(h<0){let b=a._lookbehindSize+h;return b>0&&a._cb(!1,m,0,b,!1),a._lookbehindSize-=b,m.copy(m,0,b,a._lookbehindSize),m.set(c,a._lookbehindSize),a._lookbehindSize+=d,a._bufPos=d,d}a._cb(!1,m,0,a._lookbehindSize,!1),a._lookbehindSize=0}h+=a._bufPos;let o=f[0];for(;h<=k;){let d=c[h+i];if(d===j&&c[h]===o&&b(f,0,c,h,i))return++a.matches,h>0?a._cb(!0,c,a._bufPos,h,!0):a._cb(!0,void 0,0,0,!0),a._bufPos=h+g;h+=l[d]}for(;h<d;){if(c[h]!==o||!b(c,h,f,0,d-h)){++h;continue}c.copy(m,0,h,d),a._lookbehindSize=d-h;break}return h>0&&a._cb(!1,c,a._bufPos,h<d?h:d,!0),a._bufPos=d,d}function e(a,b,c,d){let e=a._lookbehind,f=a._lookbehindSize,g=a._needle;for(let a=0;a<d;++a,++c)if((c<0?e[f+c]:b[c])!==g[a])return!1;return!0}a.exports=c},66151:(a,b,c)=>{"use strict";c.d(b,{Q:()=>e});var d=c(13917);class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(a){this.beta=a?.beta??.7,this.minCapacity=a?.minCapacity??1,this.minFillRate=a?.minFillRate??.5,this.scaleConstant=a?.scaleConstant??.4,this.smooth=a?.smooth??.8;let b=this.getCurrentTimeInSeconds();this.lastThrottleTime=b,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(a){if(this.enabled){if(this.refillTokenBucket(),a>this.currentCapacity){let b=(a-this.currentCapacity)/this.fillRate*1e3;await new Promise(a=>e.setTimeoutFn(a,b))}this.currentCapacity=this.currentCapacity-a}}refillTokenBucket(){let a=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=a;return}let b=(a-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+b),this.lastTimestamp=a}updateClientSendingRate(a){let b;if(this.updateMeasuredRate(),(0,d.isThrottlingError)(a)){let a=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=a,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),b=this.cubicThrottle(a),this.enableTokenBucket()}else this.calculateTimeWindow(),b=this.cubicSuccess(this.getCurrentTimeInSeconds());let c=Math.min(b,2*this.measuredTxRate);this.updateTokenBucketRate(c)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(a){return this.getPrecise(a*this.beta)}cubicSuccess(a){return this.getPrecise(this.scaleConstant*Math.pow(a-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(a){this.refillTokenBucket(),this.fillRate=Math.max(a,this.minFillRate),this.maxCapacity=Math.max(a,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let a=Math.floor(2*this.getCurrentTimeInSeconds())/2;if(this.requestCount++,a>this.lastTxRateBucket){let b=this.requestCount/(a-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(b*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=a}}getPrecise(a){return parseFloat(a.toFixed(8))}}},66268:(a,b,c)=>{"use strict";var d=c(75321),e=c(28724);Object.keys(d).forEach(function(a){"default"===a||Object.prototype.hasOwnProperty.call(b,a)||Object.defineProperty(b,a,{enumerable:!0,get:function(){return d[a]}})}),Object.keys(e).forEach(function(a){"default"===a||Object.prototype.hasOwnProperty.call(b,a)||Object.defineProperty(b,a,{enumerable:!0,get:function(){return e[a]}})})},66285:(a,b,c)=>{"use strict";c.d(b,{u:()=>d});let d=(a,b)=>{let c=`${b}`;return a instanceof Error&&(c+=` ${a.message}.`,"hint"in a&&"string"==typeof a.hint&&(c+=` ${a.hint}.`)),c}},66337:(a,b,c)=>{"use strict";c.d(b,{h:()=>d});class d{authSchemes=new Map;constructor(a){for(let[b,c]of Object.entries(a))void 0!==c&&this.authSchemes.set(b,c)}getIdentityProvider(a){return this.authSchemes.get(a)}}},66456:(a,b,c)=>{"use strict";c.d(b,{p:()=>d});let d=({config:a,fields:b,includeRelationships:c=!1,localizedPath:e="",path:f})=>{let g=b,h=null,i=f.split("."),j=!1;for(;i.length>0;){let b=i.shift();e=`${e?`${e}.`:""}${b}`;let f=g.find(a=>a.name===b);if(!f)return null;if(f.localized&&(j=!0,e=`${e}.<locale>`),"flattenedFields"in f&&(g=f.flattenedFields),a&&c&&("relationship"===f.type||"upload"===f.type)&&!Array.isArray(f.relationTo)){let b=a.collections.find(a=>a.slug===f.relationTo)?.flattenedFields;if(b&&(g=b),1===i.length&&"id"===i[0])return{field:f,localizedPath:e,pathHasLocalized:j}}if("blocks"in f)for(let b of f.blocks){let f=d({config:a,fields:b.flattenedFields,includeRelationships:c,localizedPath:e,path:[...i].join(".")});if(f)return f}h=f}return h?{field:h,localizedPath:e,pathHasLocalized:j}:null}},66467:(a,b,c)=>{"use strict";var d="undefined"!=typeof Symbol&&Symbol,e=c(78557);a.exports=function(){return"function"==typeof d&&"function"==typeof Symbol&&"symbol"==typeof d("foo")&&"symbol"==typeof Symbol("bar")&&e()}},66536:(a,b,c)=>{"use strict";c.d(b,{M:()=>h});var d=c(77915),e=c(23430),f=c(69480),g=c(28506);class h extends Uint8Array{static fromString(a,b="utf-8"){if("string"==typeof a)return"base64"===b?h.mutate((0,d.E)(a)):h.mutate((0,f.a)(a));throw Error(`Unsupported conversion from ${typeof a} to Uint8ArrayBlobAdapter.`)}static mutate(a){return Object.setPrototypeOf(a,h.prototype),a}transformToString(a="utf-8"){return"base64"===a?(0,e.n)(this):(0,g.P)(this)}}},66754:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateTuple=void 0;let d=c(86397),e=c(49943),f=c(55613),g={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){let{schema:b,it:c}=a;if(Array.isArray(b))return h(a,"additionalItems",b);c.items=!0,(0,e.alwaysValidSchema)(c,b)||a.ok((0,f.validateArray)(a))}};function h(a,b,c=a.schema){let{gen:f,parentSchema:g,data:i,keyword:j,it:k}=a;o(g),k.opts.unevaluated&&c.length&&!0!==k.items&&(k.items=e.mergeEvaluated.items(f,c.length,k.items));let l=f.name("valid"),m=f.const("len",(0,d._)`${i}.length`);function o(a){let{opts:d,errSchemaPath:f}=k,g=c.length,h=g===a.minItems&&(g===a.maxItems||!1===a[b]);if(d.strictTuples&&!h){let a=`"${j}" is ${g}-tuple, but minItems or maxItems/${b} are not specified or different at path "${f}"`;(0,e.checkStrictMode)(k,a,d.strictTuples)}}c.forEach((b,c)=>{(0,e.alwaysValidSchema)(k,b)||(f.if((0,d._)`${m} > ${c}`,()=>a.subschema({keyword:j,schemaProp:c,dataProp:c},l)),a.ok(l))})}b.validateTuple=h,b.default=g},66896:(a,b,c)=>{"use strict";c.d(b,{L:()=>o});let d=async a=>{let b;switch(a){case"ar":b=(await c.e(8394).then(c.bind(c,68394))).ar;break;case"az":b=(await c.e(8574).then(c.bind(c,28574))).az;break;case"bg":b=(await c.e(5517).then(c.bind(c,85517))).bg;break;case"bn-BD":case"bn-IN":b=(await c.e(5880).then(c.bind(c,65880))).bn;break;case"ca":b=(await c.e(6057).then(c.bind(c,86057))).ca;break;case"cs":b=(await c.e(5361).then(c.bind(c,85361))).cs;break;case"da":b=(await c.e(9238).then(c.bind(c,99238))).da;break;case"de":b=(await c.e(6914).then(c.bind(c,76914))).de;break;case"en-US":b=(await c.e(7559).then(c.bind(c,67559))).enUS;break;case"es":b=(await c.e(9109).then(c.bind(c,31490))).es;break;case"et":b=(await c.e(3582).then(c.bind(c,43582))).et;break;case"fa-IR":b=(await c.e(8053).then(c.bind(c,88053))).faIR;break;case"fr":b=(await c.e(980).then(c.bind(c,50980))).fr;break;case"he":b=(await c.e(8517).then(c.bind(c,78517))).he;break;case"hr":b=(await c.e(1351).then(c.bind(c,51351))).hr;break;case"hu":b=(await c.e(6204).then(c.bind(c,96204))).hu;break;case"id":b=(await c.e(7909).then(c.bind(c,87909))).id;break;case"is":b=(await c.e(4871).then(c.bind(c,44871))).is;break;case"it":b=(await c.e(6240).then(c.bind(c,66240))).it;break;case"ja":b=(await c.e(1884).then(c.bind(c,91884))).ja;break;case"ko":b=(await c.e(687).then(c.bind(c,60687))).ko;break;case"lt":b=(await c.e(7368).then(c.bind(c,17368))).lt;break;case"lv":b=(await c.e(8908).then(c.bind(c,18908))).lv;break;case"nb":b=(await c.e(2317).then(c.bind(c,72317))).nb;break;case"nl":b=(await c.e(1209).then(c.bind(c,21209))).nl;break;case"pl":b=(await c.e(7685).then(c.bind(c,50066))).pl;break;case"pt":b=(await c.e(1130).then(c.bind(c,58749))).pt;break;case"ro":b=(await c.e(769).then(c.bind(c,20769))).ro;break;case"rs":b=(await c.e(2846).then(c.bind(c,52846))).sr;break;case"rs-Latin":b=(await c.e(9).then(c.bind(c,30009))).srLatn;break;case"ru":b=(await c.e(5076).then(c.bind(c,65076))).ru;break;case"sk":b=(await c.e(927).then(c.bind(c,70927))).sk;break;case"sl-SI":b=(await c.e(1645).then(c.bind(c,1645))).sl;break;case"sv":b=(await c.e(2697).then(c.bind(c,25078))).sv;break;case"ta":b=(await c.e(714).then(c.bind(c,40714))).ta;break;case"th":b=(await c.e(1110).then(c.bind(c,91110))).th;break;case"tr":b=(await c.e(317).then(c.bind(c,10317))).tr;break;case"uk":b=(await c.e(1620).then(c.bind(c,91620))).uk;break;case"vi":b=(await c.e(3095).then(c.bind(c,3095))).vi;break;case"zh-CN":b=(await c.e(3226).then(c.bind(c,10845))).zhCN;break;case"zh-TW":b=(await c.e(2417).then(c.bind(c,92417))).zhTW}return b?.default?b.default:b};var e=c(3120);let f=["authentication:account","authentication:accountOfCurrentUser","authentication:accountVerified","authentication:alreadyActivated","authentication:alreadyLoggedIn","authentication:apiKey","authentication:authenticated","authentication:backToLogin","authentication:beginCreateFirstUser","authentication:changePassword","authentication:checkYourEmailForPasswordReset","authentication:confirmGeneration","authentication:confirmPassword","authentication:createFirstUser","authentication:emailNotValid","authentication:usernameNotValid","authentication:emailOrUsername","authentication:emailSent","authentication:emailVerified","authentication:enableAPIKey","authentication:failedToUnlock","authentication:forceUnlock","authentication:forgotPassword","authentication:forgotPasswordEmailInstructions","authentication:forgotPasswordUsernameInstructions","authentication:forgotPasswordQuestion","authentication:generate","authentication:generateNewAPIKey","authentication:generatingNewAPIKeyWillInvalidate","authentication:logBackIn","authentication:loggedOutInactivity","authentication:loggedOutSuccessfully","authentication:loggingOut","authentication:login","authentication:logOut","authentication:loggedIn","authentication:loggedInChangePassword","authentication:logout","authentication:logoutUser","authentication:logoutSuccessful","authentication:newAPIKeyGenerated","authentication:newPassword","authentication:passed","authentication:passwordResetSuccessfully","authentication:resetPassword","authentication:stayLoggedIn","authentication:successfullyRegisteredFirstUser","authentication:successfullyUnlocked","authentication:username","authentication:unableToVerify","authentication:tokenRefreshSuccessful","authentication:verified","authentication:verifiedSuccessfully","authentication:verify","authentication:verifyUser","authentication:youAreInactive","error:autosaving","error:correctInvalidFields","error:deletingTitle","error:documentNotFound","error:emailOrPasswordIncorrect","error:usernameOrPasswordIncorrect","error:loadingDocument","error:insufficientClipboardPermissions","error:invalidClipboardData","error:invalidRequestArgs","error:invalidFileType","error:logoutFailed","error:noMatchedField","error:notAllowedToAccessPage","error:previewing","error:unableToCopy","error:unableToDeleteCount","error:unableToReindexCollection","error:unableToUpdateCount","error:unauthorized","error:unauthorizedAdmin","error:unknown","error:unspecific","error:unverifiedEmail","error:userEmailAlreadyRegistered","error:usernameAlreadyRegistered","error:tokenNotProvided","error:unPublishingDocument","error:problemUploadingFile","error:restoringTitle","fields:addLabel","fields:addLink","fields:addNew","fields:addNewLabel","fields:addRelationship","fields:addUpload","fields:block","fields:blocks","fields:blockType","fields:chooseBetweenCustomTextOrDocument","fields:customURL","fields:chooseDocumentToLink","fields:openInNewTab","fields:enterURL","fields:internalLink","fields:chooseFromExisting","fields:linkType","fields:textToDisplay","fields:searchForLanguage","fields:collapseAll","fields:editLink","fields:editRelationship","fields:itemsAndMore","fields:labelRelationship","fields:latitude","fields:linkedTo","fields:longitude","fields:passwordsDoNotMatch","fields:removeRelationship","fields:removeUpload","fields:saveChanges","fields:searchForBlock","fields:selectFieldsToEdit","fields:showAll","fields:swapRelationship","fields:swapUpload","fields:toggleBlock","fields:uploadNewLabel","folder:byFolder","folder:browseByFolder","folder:deleteFolder","folder:folders","folder:folderTypeDescription","folder:folderName","folder:itemsMovedToFolder","folder:itemsMovedToRoot","folder:itemHasBeenMoved","folder:itemHasBeenMovedToRoot","folder:moveFolder","folder:movingFromFolder","folder:moveItemsToFolderConfirmation","folder:moveItemsToRootConfirmation","folder:moveItemToFolderConfirmation","folder:moveItemToRootConfirmation","folder:noFolder","folder:newFolder","folder:renameFolder","folder:searchByNameInFolder","folder:selectFolderForItem","general:all","general:aboutToDeleteCount","general:aboutToDelete","general:aboutToPermanentlyDelete","general:aboutToPermanentlyDeleteTrash","general:aboutToRestore","general:aboutToRestoreAsDraft","general:aboutToRestoreAsDraftCount","general:aboutToRestoreCount","general:aboutToTrash","general:aboutToTrashCount","general:addBelow","general:addFilter","general:adminTheme","general:allCollections","general:and","general:anotherUser","general:anotherUserTakenOver","general:applyChanges","general:ascending","general:automatic","general:backToDashboard","general:cancel","general:changesNotSaved","general:close","general:collapse","general:collections","general:confirmMove","general:yes","general:no","general:columns","general:columnToSort","general:confirm","general:confirmCopy","general:confirmDeletion","general:confirmDuplication","general:confirmReindex","general:confirmReindexAll","general:confirmReindexDescription","general:confirmReindexDescriptionAll","general:confirmRestoration","general:copied","general:clear","general:clearAll","general:copy","general:copyField","general:copyRow","general:copyWarning","general:copying","general:create","general:created","general:createdAt","general:createNew","general:createNewLabel","general:creating","general:creatingNewLabel","general:currentlyEditing","general:custom","general:dark","general:dashboard","general:delete","general:deleted","general:deletedAt","general:deletePermanently","general:deleteLabel","general:deletedSuccessfully","general:deletedCountSuccessfully","general:deleting","general:descending","general:depth","general:deselectAllRows","general:document","general:documentIsTrashed","general:documentLocked","general:documents","general:duplicate","general:duplicateWithoutSaving","general:edit","general:editAll","general:editing","general:editingLabel","general:editingTakenOver","general:editLabel","general:editedSince","general:email","general:emailAddress","general:emptyTrash","general:emptyTrashLabel","general:enterAValue","general:error","general:errors","general:fallbackToDefaultLocale","general:false","general:filters","general:filterWhere","general:globals","general:goBack","general:groupByLabel","general:isEditing","general:item","general:items","general:language","general:lastModified","general:leaveAnyway","general:leaveWithoutSaving","general:light","general:livePreview","general:exitLivePreview","general:loading","general:locale","general:locales","general:menu","general:moreOptions","general:move","general:moveConfirm","general:moveCount","general:moveDown","general:moveUp","general:moving","general:movingCount","general:name","general:next","general:newLabel","general:noDateSelected","general:noFiltersSet","general:noLabel","general:none","general:noOptions","general:noResults","general:notFound","general:nothingFound","general:noTrashResults","general:noUpcomingEventsScheduled","general:noValue","general:of","general:open","general:only","general:or","general:order","general:overwriteExistingData","general:pageNotFound","general:password","general:pasteField","general:pasteRow","general:payloadSettings","general:permanentlyDelete","general:permanentlyDeletedCountSuccessfully","general:perPage","general:previous","general:reindex","general:reindexingAll","general:remove","general:rename","general:reset","general:resetPreferences","general:resetPreferencesDescription","general:resettingPreferences","general:restore","general:restoreAsPublished","general:restoredCountSuccessfully","general:restoring","general:row","general:rows","general:save","general:schedulePublishFor","general:saving","general:searchBy","general:select","general:selectAll","general:selectAllRows","general:selectedCount","general:selectLabel","general:selectValue","general:showAllLabel","general:sorryNotFound","general:sort","general:sortByLabelDirection","general:stayOnThisPage","general:submissionSuccessful","general:submit","general:submitting","general:success","general:successfullyCreated","general:successfullyDuplicated","general:successfullyReindexed","general:takeOver","general:thisLanguage","general:time","general:timezone","general:titleDeleted","general:titleTrashed","general:titleRestored","general:trash","general:trashedCountSuccessfully","general:import","general:export","general:allLocales","general:true","general:upcomingEvents","general:users","general:user","general:username","general:unauthorized","general:unsavedChanges","general:unsavedChangesDuplicate","general:untitled","general:updatedAt","general:updatedLabelSuccessfully","general:updatedCountSuccessfully","general:updateForEveryone","general:updatedSuccessfully","general:updating","general:value","general:viewing","general:viewReadOnly","general:uploading","general:uploadingBulk","general:welcome","localization:localeToPublish","localization:copyToLocale","localization:copyFromTo","localization:selectLocaleToCopy","localization:cannotCopySameLocale","localization:copyFrom","localization:copyTo","operators:equals","operators:exists","operators:isNotIn","operators:isIn","operators:contains","operators:isLike","operators:isNotLike","operators:isNotEqualTo","operators:near","operators:isGreaterThan","operators:isLessThan","operators:isGreaterThanOrEqualTo","operators:isLessThanOrEqualTo","operators:within","operators:intersects","upload:addFile","upload:addFiles","upload:bulkUpload","upload:crop","upload:cropToolDescription","upload:dragAndDrop","upload:editImage","upload:fileToUpload","upload:filesToUpload","upload:focalPoint","upload:focalPointDescription","upload:height","upload:pasteURL","upload:previewSizes","upload:selectCollectionToBrowse","upload:selectFile","upload:setCropArea","upload:setFocalPoint","upload:sizesFor","upload:sizes","upload:width","upload:fileName","upload:fileSize","upload:noFile","upload:download","validation:emailAddress","validation:enterNumber","validation:fieldHasNo","validation:greaterThanMax","validation:invalidInput","validation:invalidSelection","validation:invalidSelections","validation:latitudeOutOfBounds","validation:lessThanMin","validation:limitReached","validation:longitudeOutOfBounds","validation:invalidBlock","validation:invalidBlocks","validation:longerThanMin","validation:notValidDate","validation:required","validation:requiresAtLeast","validation:requiresNoMoreThan","validation:requiresTwoNumbers","validation:shorterThanMax","validation:trueOrFalse","validation:timezoneRequired","validation:username","validation:validUploadID","version:aboutToPublishSelection","version:aboutToRestore","version:aboutToRestoreGlobal","version:aboutToRevertToPublished","version:aboutToUnpublish","version:aboutToUnpublishSelection","version:autosave","version:autosavedSuccessfully","version:autosavedVersion","version:versionAgo","version:moreVersions","version:changed","version:changedFieldsCount","version:confirmRevertToSaved","version:compareVersions","version:comparingAgainst","version:currentlyViewing","version:confirmPublish","version:confirmUnpublish","version:confirmVersionRestoration","version:currentDraft","version:currentPublishedVersion","version:currentlyPublished","version:draft","version:draftSavedSuccessfully","version:lastSavedAgo","version:modifiedOnly","version:noFurtherVersionsFound","version:noLabelGroup","version:noRowsFound","version:noRowsSelected","version:preview","version:previouslyDraft","version:previouslyPublished","version:previousVersion","version:problemRestoringVersion","version:publish","version:publishAllLocales","version:publishChanges","version:published","version:publishIn","version:publishing","version:restoreAsDraft","version:restoredSuccessfully","version:restoreThisVersion","version:restoring","version:reverting","version:revertToPublished","version:saveDraft","version:scheduledSuccessfully","version:schedulePublish","version:selectLocales","version:selectVersionToCompare","version:showLocales","version:specificVersion","version:status","version:type","version:unpublish","version:unpublishing","version:versionID","version:version","version:versions","version:viewingVersion","version:viewingVersionGlobal","version:viewingVersions","version:viewingVersionsGlobal"];function g(a,b="",c){let d={};for(let[e,f]of Object.entries(a)){if("$schema"===e){d[e]=f;continue}if("object"==typeof f){let a=g(f,e,c);Object.keys(a).length>0&&(d[e]=a)}else for(let a of c){let[c,g]=a.split(":");b===c&&(e===g?d[g]=f:["zero","one","two","few","many","other"].forEach(a=>{e===`${g}_${a}`&&(d[`${g}_${a}`]=f)}))}}return d}function h(a){let b={};return Object.keys(a).sort().forEach(c=>{"object"==typeof a[c]?b[c]=h(a[c]):b[c]=a[c]}),b}let i=(a,b)=>"client"===b?h(g(a.translations,"",f)):a.translations,j=({count:a,key:b,translations:c})=>{let d=b.split(":"),e="",f=d.reduce((b,c,f)=>{if("string"==typeof b)return b;"number"==typeof a&&(0===a&&`${c}_zero`in b?e="_zero":1===a&&`${c}_one`in b?e="_one":2===a&&`${c}_two`in b?e="_two":a>5&&`${c}_many`in b?e="_many":a>2&&a<=5&&`${c}_few`in b?e="_few":`${c}_other`in b&&(e="_other"));let g=c;if(f===d.length-1&&e&&(g=`${c}${e}`),b&&g in b)return b[g]},c);return f||console.log("key not found:",b),f||b},k=({translationString:a,vars:b})=>a.split(/(\{\{.*?\}\})/).map(a=>{if(!(a.startsWith("{{")&&a.endsWith("}}")))return a;{let c=b[a.substring(2,a.length-2).trim()];return null!=c?c:a}}).join("");function l({key:a,translations:b,vars:c}){let d=j({count:"number"==typeof c?.count?c.count:void 0,key:a,translations:b});return c&&(d=k({translationString:d,vars:c})),d||(d=a),d}let m=a=>{let{config:b,language:c,translations:d}=a,f=c&&b?.translations?.[c]?(0,e.p)(d,b.translations[c]):d;return{t:(a,b)=>l({key:a,translations:f,vars:b}),translations:f}},o=function(a,b){let c=new Map;return async d=>{let e=b.reduce((a,b)=>a+String(d[b]),"");if(!c.has(e)){let b=await a(d);c.set(e,b)}return c.get(e)}}(async({config:a,context:b,language:c=a.fallbackLanguage})=>{if(!c||!a.supportedLanguages?.[c])throw Error(`Language ${c} not supported`);let e=i(a.supportedLanguages?.[c],b),{t:f,translations:g}=m({config:a,language:c||a.fallbackLanguage,translations:e}),h=a.supportedLanguages[c]?.dateFNSKey||"en-US";return{dateFNS:await d(h),dateFNSKey:h,fallbackLanguage:a.fallbackLanguage,language:c||a.fallbackLanguage,t:f,translations:g}},["language","context"])},67201:(a,b,c)=>{"use strict";c.d(b,{x:()=>f});var d=c(50474);let e={ar:{decreaseLabel:"تقليل المسافة البادئة",increaseLabel:"زيادة المسافة البادئة"},az:{decreaseLabel:"İntervalı Azaltın",increaseLabel:"Girintiyi Artırın"},bg:{decreaseLabel:"Намали отстоянието",increaseLabel:"Увеличете отстоянието"},cs:{decreaseLabel:"Zmenšit odsazen\xed",increaseLabel:"Zvětšit odsazen\xed"},da:{decreaseLabel:"Reducer Indrykning",increaseLabel:"For\xf8g indrykning"},de:{decreaseLabel:"Einzug verkleinern",increaseLabel:"Einzug erh\xf6hen"},en:{decreaseLabel:"Decrease Indent",increaseLabel:"Increase Indent"},es:{decreaseLabel:"Disminuir Sangr\xeda",increaseLabel:"Aumentar Sangr\xeda"},et:{decreaseLabel:"Taande v\xe4hendamine",increaseLabel:"Taande suurendamine"},fa:{decreaseLabel:"کاهش تورفتگی",increaseLabel:"افزایش تورفتگی"},fr:{decreaseLabel:"Diminuer l'indentation",increaseLabel:"Augmenter l'indentation"},he:{decreaseLabel:"הקטן הזחה",increaseLabel:"הגדל כניסה"},hr:{decreaseLabel:"Smanji uvlačenje",increaseLabel:"Povećaj uvlačenje"},hu:{decreaseLabel:"Cs\xf6kkentse a beh\xfaz\xe1st",increaseLabel:"Beh\xfaz\xe1s n\xf6vel\xe9se"},is:{decreaseLabel:"Minnka inndr\xe1tt",increaseLabel:"Auka inndr\xe1tt"},it:{decreaseLabel:"Diminuisci rientro",increaseLabel:"Aumenta Rientro"},ja:{decreaseLabel:"インデントを減らす",increaseLabel:"インデントを増やす"},ko:{decreaseLabel:"들여쓰기 줄이기",increaseLabel:"들여쓰기 늘리기"},my:{decreaseLabel:"Kurangkan Inden",increaseLabel:"Tingkatkan Inden"},nb:{decreaseLabel:"Reduser innrykk",increaseLabel:"\xd8ke innrykk"},nl:{decreaseLabel:"Verminder Inspringing",increaseLabel:"Inspring verhogen"},pl:{decreaseLabel:"Zmniejsz wcięcie",increaseLabel:"Zwiększ wcięcie"},pt:{decreaseLabel:"Diminuir recuo",increaseLabel:"Aumentar Indenta\xe7\xe3o"},ro:{decreaseLabel:"Reducere indentare",increaseLabel:"Crește indentarea"},rs:{decreaseLabel:"Смањи увлачење",increaseLabel:"Повећај увлачење"},"rs-latin":{decreaseLabel:"Smanji uvlačenje",increaseLabel:"Povećaj uvlačenje"},ru:{decreaseLabel:"Уменьшить отступ",increaseLabel:"Увеличить отступ"},sk:{decreaseLabel:"Zn\xedžiť odsadenie",increaseLabel:"Zv\xe4čšiť odsadenie"},sl:{decreaseLabel:"Zmanjšaj zamik",increaseLabel:"Povečaj zamik"},sv:{decreaseLabel:"Minska indrag",increaseLabel:"\xd6ka indrag"},ta:{decreaseLabel:"இடதுபுறச் செருகலை குறைக்கவும்",increaseLabel:"இடதுபுறச் செருகலை அதிகரிக்கவும்"},th:{decreaseLabel:"ลดการเยื้อง",increaseLabel:"เพิ่มการเยื้อง"},tr:{decreaseLabel:"Girintiyi Azalt",increaseLabel:"Girintiyi Artır"},uk:{decreaseLabel:"Зменшити відступ",increaseLabel:"Збільшити відступ"},vi:{decreaseLabel:"Giảm lề",increaseLabel:"Tăng lề"},zh:{decreaseLabel:"减少缩进",increaseLabel:"增加缩进"},"zh-TW":{decreaseLabel:"減少縮排",increaseLabel:"增加縮排"}},f=(0,d.m)({feature:({props:a})=>({ClientFeature:"@payloadcms/richtext-lexical/client#IndentFeatureClient",clientFeatureProps:a,i18n:e}),key:"indent"})},67281:(a,b,c)=>{"use strict";var d=c(33571);a.exports=Function.prototype.bind||d},67405:a=>{for(var b=Math.floor(0xffffff*Math.random()),c=k.index=parseInt(0xffffff*Math.random(),10),d=("undefined"==typeof process||"number"!=typeof process.pid?Math.floor(1e5*Math.random()):process.pid)%65535,e=(()=>{try{return _Buffer}catch(a){try{return Buffer}catch(a){return null}}})(),f=function(a){return!!(null!=a&&a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a))},g=[],h=0;h<256;h++)g[h]=(h<=15?"0":"")+h.toString(16);var i=RegExp("^[0-9a-fA-F]{24}$"),j=[];for(h=0;h<10;)j[48+h]=h++;for(;h<16;)j[55+h]=j[87+h]=h++;function k(a){if(!(this instanceof k))return new k(a);if(a&&(a instanceof k||"ObjectID"===a._bsontype))return a;if(this._bsontype="ObjectID",null==a||"number"==typeof a){this.id=this.generate(a);return}var b=k.isValid(a);if(b||null==a)if(b&&"string"==typeof a&&24===a.length)return k.createFromHexString(a);else if(null!=a&&12===a.length)this.id=a;else if(null!=a&&"function"==typeof a.toHexString)return a;else throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");else throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}function l(){return c=(c+1)%0xffffff}function m(a,b){return(b=b.toString(16)).length===a?b:"00000000".substring(b.length,a)+b}a.exports=k,k.default=k,k.createFromTime=function(a){return new k(m(8,a=parseInt(a,10)%0xffffffff)+"0000000000000000")},k.createFromHexString=function(a){if(void 0===a||null!=a&&24!==a.length)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var b="",c=0;c<24;)b+=String.fromCharCode(j[a.charCodeAt(c++)]<<4|j[a.charCodeAt(c++)]);return new k(b)},k.isValid=function(a){return null!=a&&("number"==typeof a||("string"==typeof a?12===a.length||24===a.length&&i.test(a):a instanceof k||(f(a)?k.isValid(a.toString("hex")):"function"==typeof a.toHexString&&!!e&&(a.id instanceof e||"string"==typeof a.id)&&(12===a.id.length||24===a.id.length&&i.test(a.id)))))},k.prototype={constructor:k,toHexString:function(){if(!this.id||!this.id.length)throw Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(24===this.id.length)return this.id;if(f(this.id))return this.id.toString("hex");for(var a="",b=0;b<this.id.length;b++)a+=g[this.id.charCodeAt(b)];return a},equals:function(a){if(a instanceof k)return this.toString()===a.toString();if("string"==typeof a&&k.isValid(a)&&12===a.length&&f(this.id))return a===this.id.toString("binary");if("string"==typeof a&&k.isValid(a)&&24===a.length)return a.toLowerCase()===this.toHexString();if("string"==typeof a&&k.isValid(a)&&12===a.length)return a===this.id;if(null!=a&&(a instanceof k||a.toHexString))return a.toHexString()===this.toHexString();else return!1},getTimestamp:function(){var a,b=new Date;return a=f(this.id)?this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,b.setTime(1e3*Math.floor(a)),b},generate:function(a){"number"!=typeof a&&(a=~~(Date.now()/1e3)),a=parseInt(a,10)%0xffffffff;var c=l();return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a,b>>16&255,b>>8&255,255&b,d>>8&255,255&d,c>>16&255,c>>8&255,255&c)}};var o=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";k.prototype[o]=function(){return"ObjectID("+this+")"},k.prototype.toJSON=k.prototype.toHexString,k.prototype.toString=k.prototype.toHexString},67406:(a,b,c)=>{"use strict";a.exports={action:c(65054),clear:c(95087),style:c(52911),strip:c(44968),figures:c(88275),lines:c(98105),wrap:c(15800),entriesToDisplay:c(17945)}},67445:(a,b,c)=>{"use strict";c.d(b,{Q:()=>f.Q,p:()=>p});var d=c(33873),e=c(84386),f=c(51126);let g=a=>Object.entries(a).filter(([a])=>{let b=a.indexOf(f.Q);return -1!==b&&Object.values(e.I).includes(a.substring(0,b))}).reduce((a,[b,c])=>{let d=b.indexOf(f.Q);return a[b.substring(0,d)===e.I.PROFILE?b.substring(d+1):b]=c,a},{...a.default&&{default:a.default}});var h=c(85540),i=c(5313);let j="AWS_SHARED_CREDENTIALS_FILE",k=()=>process.env[j]||(0,d.join)((0,i.R)(),".aws","credentials");var l=c(28096),m=c(81473);let o=()=>({}),p=async(a={})=>{let{filepath:b=k(),configFilepath:c=(0,h.g)()}=a,e=(0,i.R)(),f="~/",j=b;b.startsWith(f)&&(j=(0,d.join)(e,b.slice(2)));let p=c;c.startsWith(f)&&(p=(0,d.join)(e,c.slice(2)));let q=await Promise.all([(0,m.$H)(p,{ignoreCache:a.ignoreCache}).then(l.A).then(g).catch(o),(0,m.$H)(j,{ignoreCache:a.ignoreCache}).then(l.A).catch(o)]);return{configFile:q[0],credentialsFile:q[1]}}},67498:(a,b,c)=>{"use strict";function d(a,b,c){let d,e;if(void 0===b&&void 0===c)d={},e=a;else{if(d=a,"function"==typeof b)return g(d,b,e=c);e=b}for(let a of Object.keys(e)){if(!Array.isArray(e[a])){d[a]=e[a];continue}h(d,null,e,a)}return d}c.d(b,{Tj:()=>d,s:()=>f,sm:()=>e});let e=a=>{let b={};for(let[c,d]of Object.entries(a||{}))b[c]=[,d];return b},f=(a,b)=>{let c={};for(let d in b)h(c,a,b,d);return c},g=(a,b,c)=>d(a,Object.entries(c).reduce((a,[c,d])=>(Array.isArray(d)?a[c]=d:"function"==typeof d?a[c]=[b,d()]:a[c]=[b,d],a),{})),h=(a,b,c,d)=>{if(null!==b){let e=c[d];"function"==typeof e&&(e=[,e]);let[f=i,g=j,h=d]=e;("function"==typeof f&&f(b[h])||"function"!=typeof f&&f)&&(a[d]=g(b[h]));return}let[e,f]=c[d];if("function"==typeof f){let b,c=void 0===e&&null!=(b=f()),g="function"==typeof e&&!!e(void 0)||"function"!=typeof e&&!!e;c?a[d]=b:g&&(a[d]=f())}else{let b=void 0===e&&null!=f,c="function"==typeof e&&!!e(f)||"function"!=typeof e&&!!e;(b||c)&&(a[d]=f)}},i=a=>null!=a,j=a=>a},67544:(a,b,c)=>{"use strict";let d=c(34589),{AsyncResource:e}=c(16698),{Readable:f}=c(42370),{InvalidArgumentError:g,RequestAbortedError:h}=c(212),i=c(33895);function j(){}class k extends e{constructor(a,b){if(!a||"object"!=typeof a)throw new g("invalid opts");let{signal:c,method:d,opaque:e,body:f,onInfo:k,responseHeaders:l,highWaterMark:m}=a;try{if("function"!=typeof b)throw new g("invalid callback");if(m&&("number"!=typeof m||m<0))throw new g("invalid highWaterMark");if(c&&"function"!=typeof c.on&&"function"!=typeof c.addEventListener)throw new g("signal must be an EventEmitter or EventTarget");if("CONNECT"===d)throw new g("invalid method");if(k&&"function"!=typeof k)throw new g("invalid onInfo callback");super("UNDICI_REQUEST")}catch(a){throw i.isStream(f)&&i.destroy(f.on("error",j),a),a}this.method=d,this.responseHeaders=l||null,this.opaque=e||null,this.callback=b,this.res=null,this.abort=null,this.body=f,this.trailers={},this.context=null,this.onInfo=k||null,this.highWaterMark=m,this.reason=null,this.removeAbortListener=null,c?.aborted?this.reason=c.reason??new h:c&&(this.removeAbortListener=i.addAbortListener(c,()=>{this.reason=c.reason??new h,this.res?i.destroy(this.res.on("error",j),this.reason):this.abort&&this.abort(this.reason)}))}onConnect(a,b){if(this.reason)return void a(this.reason);d(this.callback),this.abort=a,this.context=b}onHeaders(a,b,c,d){let{callback:e,opaque:g,abort:h,context:j,responseHeaders:k,highWaterMark:l}=this,m="raw"===k?i.parseRawHeaders(b):i.parseHeaders(b);if(a<200){this.onInfo&&this.onInfo({statusCode:a,headers:m});return}let o="raw"===k?i.parseHeaders(b):m,p=o["content-type"],q=o["content-length"],r=new f({resume:c,abort:h,contentType:p,contentLength:"HEAD"!==this.method&&q?Number(q):null,highWaterMark:l});this.removeAbortListener&&(r.on("close",this.removeAbortListener),this.removeAbortListener=null),this.callback=null,this.res=r,null!==e&&this.runInAsyncScope(e,null,null,{statusCode:a,headers:m,trailers:this.trailers,opaque:g,body:r,context:j})}onData(a){return this.res.push(a)}onComplete(a){i.parseHeaders(a,this.trailers),this.res.push(null)}onError(a){let{res:b,callback:c,body:d,opaque:e}=this;c&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(c,null,a,{opaque:e})})),b&&(this.res=null,queueMicrotask(()=>{i.destroy(b.on("error",j),a)})),d&&(this.body=null,i.isStream(d)&&(d.on("error",j),i.destroy(d,a))),this.removeAbortListener&&(this.removeAbortListener(),this.removeAbortListener=null)}}function l(a,b){if(void 0===b)return new Promise((b,c)=>{l.call(this,a,(a,d)=>a?c(a):b(d))});try{let c=new k(a,b);this.dispatch(a,c)}catch(d){if("function"!=typeof b)throw d;let c=a?.opaque;queueMicrotask(()=>b(d,{opaque:c}))}}a.exports=l,a.exports.RequestHandler=k},67624:(a,b,c)=>{"use strict";c.d(b,{sH:()=>m});var d=c(37593),e=c(39773),f=c(18616);class g extends f.o{static [d.i]="SQLiteNumericBuilder";constructor(a){super(a,"string","SQLiteNumeric")}build(a){return new h(a,this.config)}}class h extends f.v{static [d.i]="SQLiteNumeric";mapFromDriverValue(a){return"string"==typeof a?a:String(a)}getSQLType(){return"numeric"}}class i extends f.o{static [d.i]="SQLiteNumericNumberBuilder";constructor(a){super(a,"number","SQLiteNumericNumber")}build(a){return new j(a,this.config)}}class j extends f.v{static [d.i]="SQLiteNumericNumber";mapFromDriverValue(a){return"number"==typeof a?a:Number(a)}mapToDriverValue=String;getSQLType(){return"numeric"}}class k extends f.o{static [d.i]="SQLiteNumericBigIntBuilder";constructor(a){super(a,"bigint","SQLiteNumericBigInt")}build(a){return new l(a,this.config)}}class l extends f.v{static [d.i]="SQLiteNumericBigInt";mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return"numeric"}}function m(a,b){let{name:c,config:d}=(0,e.Ll)(a,b),f=d?.mode;return"number"===f?new i(c):"bigint"===f?new k(c):new g(c)}},67684:(a,b,c)=>{"use strict";let{Cache:d}=c(71749),{webidl:e}=c(2312),{kEnumerableProperty:f}=c(33895),{kConstruct:g}=c(25394);class h{#bT=new Map;constructor(){arguments[0]!==g&&e.illegalConstructor(),e.util.markAsUncloneable(this)}async match(a,b={}){if(e.brandCheck(this,h),e.argumentLengthCheck(arguments,1,"CacheStorage.match"),a=e.converters.RequestInfo(a),null!=(b=e.converters.MultiCacheQueryOptions(b)).cacheName){if(this.#bT.has(b.cacheName)){let c=new d(g,this.#bT.get(b.cacheName));return await c.match(a,b)}}else for(let c of this.#bT.values()){let e=new d(g,c),f=await e.match(a,b);if(void 0!==f)return f}}async has(a){e.brandCheck(this,h);let b="CacheStorage.has";return e.argumentLengthCheck(arguments,1,b),a=e.converters.DOMString(a,b,"cacheName"),this.#bT.has(a)}async open(a){e.brandCheck(this,h);let b="CacheStorage.open";if(e.argumentLengthCheck(arguments,1,b),a=e.converters.DOMString(a,b,"cacheName"),this.#bT.has(a))return new d(g,this.#bT.get(a));let c=[];return this.#bT.set(a,c),new d(g,c)}async delete(a){e.brandCheck(this,h);let b="CacheStorage.delete";return e.argumentLengthCheck(arguments,1,b),a=e.converters.DOMString(a,b,"cacheName"),this.#bT.delete(a)}async keys(){return e.brandCheck(this,h),[...this.#bT.keys()]}}Object.defineProperties(h.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:f,has:f,open:f,delete:f,keys:f}),a.exports={CacheStorage:h}},67821:(a,b,c)=>{"use strict";c.d(b,{Z:()=>p});var d=c(36738),e=c(20411),f=c(16111);function g(a){try{let b=new Set(Array.from(a.match(/([A-Z_]){3,}/g)??[]));return b.delete("CONFIG"),b.delete("CONFIG_PREFIX_SEPARATOR"),b.delete("ENV"),[...b].join(", ")}catch(b){return a}}let h=(a,b)=>async()=>{try{let c=a(process.env,b);if(void 0===c)throw Error();return c}catch(c){throw new f.C(c.message||`Not found in ENV: ${g(a.toString())}`,{logger:b?.logger})}};var i=c(36137),j=c(67445);let k=(a,{preferredFile:b="config",...c}={})=>async()=>{let d=(0,i.Bz)(c),{configFile:e,credentialsFile:h}=await (0,j.p)(c),k=h[d]||{},l=e[d]||{},m="config"===b?{...k,...l}:{...l,...k};try{let c="config"===b?e:h,d=a(m,c);if(void 0===d)throw Error();return d}catch(b){throw new f.C(b.message||`Not found in config files w/ profile [${d}]: ${g(a.toString())}`,{logger:c.logger})}};var l=c(64746);let m=a=>"function"==typeof a,o=a=>m(a)?async()=>await a():(0,l.V)(a),p=({environmentVariableSelector:a,configFileSelector:b,default:c},f={})=>{let{signingName:g,logger:i}=f,j={signingName:g,logger:i};return(0,d.B)((0,e.c)(h(a,j),k(b,f),o(c)))}},67858:(a,b,c)=>{"use strict";let d=c(4984),e=c(90439).action,f=c(94735),g=c(1298),h=g.beep,i=g.cursor,j=c(90165);class k extends f{constructor(a={}){super(),this.firstRender=!0,this.in=a.stdin||process.stdin,this.out=a.stdout||process.stdout,this.onRender=(a.onRender||(()=>void 0)).bind(this);let b=d.createInterface({input:this.in,escapeCodeTimeout:50});d.emitKeypressEvents(this.in,b),this.in.isTTY&&this.in.setRawMode(!0);let c=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,f=(a,b)=>{let d=e(b,c);!1===d?this._&&this._(a,b):"function"==typeof this[d]?this[d](b):this.bell()};this.close=()=>{this.out.write(i.show),this.in.removeListener("keypress",f),this.in.isTTY&&this.in.setRawMode(!1),b.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",f)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(h)}render(){this.onRender(j),this.firstRender&&(this.firstRender=!1)}}a.exports=k},67928:(a,b,c)=>{"use strict";c.d(b,{BE:()=>f,mt:()=>h});var d=c(37593),e=c(86075);class f{static [d.i]="SQLiteForeignKeyBuilder";reference;_onUpdate;_onDelete;constructor(a,b){this.reference=()=>{let{name:b,columns:c,foreignColumns:d}=a();return{name:b,columns:c,foreignTable:d[0].table,foreignColumns:d}},b&&(this._onUpdate=b.onUpdate,this._onDelete=b.onDelete)}onUpdate(a){return this._onUpdate=a,this}onDelete(a){return this._onDelete=a,this}build(a){return new g(a,this)}}class g{constructor(a,b){this.table=a,this.reference=b.reference,this.onUpdate=b._onUpdate,this.onDelete=b._onDelete}static [d.i]="SQLiteForeignKey";reference;onUpdate;onDelete;getName(){let{name:a,columns:b,foreignColumns:c}=this.reference(),d=b.map(a=>a.name),f=c.map(a=>a.name),g=[this.table[e.E],...d,c[0].table[e.E],...f];return a??`${g.join("_")}_fk`}}function h(a){return new f(function(){if("function"==typeof a){let{name:b,columns:c,foreignColumns:d}=a();return{name:b,columns:c,foreignColumns:d}}return a})}},68042:(a,b,c)=>{"use strict";c.d(b,{Ds:()=>i,HK:()=>k,Xf:()=>j});var d=c(38751),e=c(91067),f=c(59837);let g={},h=[],i=(a,b,c)=>`${a}/${b}/${c}/${f.VQ}`,j=async(a,b,c,e,i)=>{let j=await l(a,b.secretAccessKey,b.accessKeyId),k=`${c}:${e}:${i}:${(0,d.toHex)(j)}:${b.sessionToken}`;if(k in g)return g[k];for(h.push(k);h.length>f.g5;)delete g[h.shift()];let m=`AWS4${b.secretAccessKey}`;for(let b of[c,e,i,f.VQ])m=await l(a,m,b);return g[k]=m},k=()=>{h.length=0,Object.keys(g).forEach(a=>{delete g[a]})},l=(a,b,c)=>{let d=new a(b);return d.update((0,e.F)(c)),d.digest()}},68056:(a,b,c)=>{"use strict";let d=c(63780),e=c(98224),{ClientDestroyedError:f,ClientClosedError:g,InvalidArgumentError:h}=c(212),{kDestroy:i,kClose:j,kClosed:k,kDestroyed:l,kDispatch:m}=c(25394),o=Symbol("onDestroyed"),p=Symbol("onClosed");class q extends d{constructor(){super(),this[l]=!1,this[o]=null,this[k]=!1,this[p]=[]}get destroyed(){return this[l]}get closed(){return this[k]}close(a){if(void 0===a)return new Promise((a,b)=>{this.close((c,d)=>c?b(c):a(d))});if("function"!=typeof a)throw new h("invalid callback");if(this[l])return void queueMicrotask(()=>a(new f,null));if(this[k])return void(this[p]?this[p].push(a):queueMicrotask(()=>a(null,null)));this[k]=!0,this[p].push(a);let b=()=>{let a=this[p];this[p]=null;for(let b=0;b<a.length;b++)a[b](null,null)};this[j]().then(()=>this.destroy()).then(()=>{queueMicrotask(b)})}destroy(a,b){if("function"==typeof a&&(b=a,a=null),void 0===b)return new Promise((b,c)=>{this.destroy(a,(a,d)=>a?c(a):b(d))});if("function"!=typeof b)throw new h("invalid callback");if(this[l])return void(this[o]?this[o].push(b):queueMicrotask(()=>b(null,null)));a||(a=new f),this[l]=!0,this[o]=this[o]||[],this[o].push(b);let c=()=>{let a=this[o];this[o]=null;for(let b=0;b<a.length;b++)a[b](null,null)};this[i](a).then(()=>{queueMicrotask(c)})}dispatch(a,b){if(!b||"object"!=typeof b)throw new h("handler must be an object");b=e.unwrap(b);try{if(!a||"object"!=typeof a)throw new h("opts must be an object.");if(this[l]||this[o])throw new f;if(this[k])throw new g;return this[m](a,b)}catch(a){if("function"!=typeof b.onError)throw a;return b.onError(a),!1}}}a.exports=q},68057:(a,b,c)=>{"use strict";c.d(b,{c:()=>q});var d=c(14187),e=c(59213),f=c(27910),g=c(99083),h=c(23430),i=c(38751),j=c(28506),k=c(8731);let l="The stream has already been transformed.",m=a=>{if(!o(a)&&!(0,k.H)(a)){let b=a?.__proto__?.constructor?.name||a;throw Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${b}`)}let b=!1,c=async()=>{if(b)throw Error(l);return b=!0,await (0,g.k)(a)},d=a=>{if("function"!=typeof a.stream)throw Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return a.stream()};return Object.assign(a,{transformToByteArray:c,transformToString:async a=>{let b=await c();if("base64"===a)return(0,h.n)(b);if("hex"===a)return(0,i.toHex)(b);if(void 0===a||"utf8"===a||"utf-8"===a)return(0,j.P)(b);if("function"==typeof TextDecoder)return new TextDecoder(a).decode(b);throw Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(b)throw Error(l);if(b=!0,o(a))return d(a);if((0,k.H)(a))return a;throw Error(`Cannot transform payload to web stream, got ${a}`)}})},o=a=>"function"==typeof Blob&&a instanceof Blob,p="The stream has already been transformed.",q=a=>{if(!(a instanceof f.Readable))try{return m(a)}catch(c){let b=a?.__proto__?.constructor?.name||a;throw Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${b}`)}let b=!1,c=async()=>{if(b)throw Error(p);return b=!0,await (0,d.k)(a)};return Object.assign(a,{transformToByteArray:c,transformToString:async a=>{let b=await c();return void 0===a||Buffer.isEncoding(a)?(0,e.fromArrayBuffer)(b.buffer,b.byteOffset,b.byteLength).toString(a):new TextDecoder(a).decode(b)},transformToWebStream:()=>{if(b)throw Error(p);if(null!==a.readableFlowing)throw Error("The stream has been consumed by other callbacks.");if("function"!=typeof f.Readable.toWeb)throw Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return b=!0,f.Readable.toWeb(a)}})}},68185:(a,b,c)=>{"use strict";let{kProxy:d,kClose:e,kDestroy:f,kDispatch:g,kConnector:h}=c(25394),{URL:i}=c(73136),j=c(43008),k=c(56327),l=c(68056),{InvalidArgumentError:m,RequestAbortedError:o,SecureProxyConnectionError:p}=c(212),q=c(53977),r=c(76450),s=Symbol("proxy agent"),t=Symbol("proxy client"),u=Symbol("proxy headers"),v=Symbol("request tls settings"),w=Symbol("proxy tls settings"),x=Symbol("connect endpoint function"),y=Symbol("tunnel proxy");function z(a){return"https:"===a?443:80}function A(a,b){return new k(a,b)}let B=()=>{};class C extends l{#L=null;constructor(a,b){if("string"==typeof a&&(a=new i(a)),"http:"!==a.protocol&&"https:"!==a.protocol)throw new m("ProxyClient only supports http and https protocols");super(),this.#L=new r(a,b)}async [e](){await this.#L.close()}async [f](){await this.#L.destroy()}async [g](a,b){let{method:c,origin:d}=a;return"CONNECT"===c?void this.#L[h]({origin:d,port:a.port||z(a.protocol),path:a.host,signal:a.signal,headers:{...this[u],host:a.host},servername:this[w]?.servername||a.servername},(a,c)=>{a?b.callback(a):b.callback(null,{socket:c,statusCode:200})}):("string"==typeof d&&(a.origin=new i(d)),this.#L.dispatch(a,b))}}class D extends l{constructor(a){if(!a||"object"==typeof a&&!(a instanceof i)&&!a.uri)throw new m("Proxy uri is mandatory");let{clientFactory:b=A}=a;if("function"!=typeof b)throw new m("Proxy opts.clientFactory must be a function.");let{proxyTunnel:c=!0}=a;super();let e=this.#bU(a),{href:f,origin:g,port:h,protocol:k,username:l,password:D,hostname:E}=e;if(this[d]={uri:f,protocol:k},this[v]=a.requestTls,this[w]=a.proxyTls,this[u]=a.headers||{},a.auth&&a.token)throw new m("opts.auth cannot be used in combination with opts.token");a.auth?this[u]["proxy-authorization"]=`Basic ${a.auth}`:a.token?this[u]["proxy-authorization"]=a.token:l&&D&&(this[u]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(l)}:${decodeURIComponent(D)}`).toString("base64")}`);let F=c||"http:"!==k?void 0:(a,b)=>"http:"===a.protocol?new C(a,b):new r(a,b),G=q({...a.proxyTls});this[x]=q({...a.requestTls}),this[t]=b(e,{connect:G,factory:F}),this[y]=c,this[s]=new j({...a,connect:async(a,b)=>{let c=a.host;a.port||(c+=`:${z(a.protocol)}`);try{let d,{socket:e,statusCode:f}=await this[t].connect({origin:g,port:h,path:c,signal:a.signal,headers:{...this[u],host:a.host},servername:this[w]?.servername||E});if(200!==f&&(e.on("error",B).destroy(),b(new o(`Proxy response (${f}) !== 200 when HTTP Tunneling`))),"https:"!==a.protocol)return void b(null,e);d=this[v]?this[v].servername:a.servername,this[x]({...a,servername:d,httpSocket:e},b)}catch(a){b("ERR_TLS_CERT_ALTNAME_INVALID"===a.code?new p(a):a)}}})}dispatch(a,b){let c=E(a.headers);if(F(c),c&&!("host"in c)&&!("Host"in c)){let{host:b}=new i(a.origin);c.host=b}return this.#bV(new i(a.origin))||(a.path=a.origin+a.path),this[s].dispatch({...a,headers:c},b)}#bU(a){return"string"==typeof a?new i(a):a instanceof i?a:new i(a.uri)}async [e](){await this[s].close(),await this[t].close()}async [f](){await this[s].destroy(),await this[t].destroy()}#bV(a){return"string"==typeof a&&(a=new i(a)),!!this[y]||"http:"!==a.protocol||"http:"!==this[d].protocol}}function E(a){if(Array.isArray(a)){let b={};for(let c=0;c<a.length;c+=2)b[a[c]]=a[c+1];return b}return a}function F(a){if(a&&Object.keys(a).find(a=>"proxy-authorization"===a.toLowerCase()))throw new m("Proxy-Authorization should be sent in ProxyAgent constructor")}a.exports=D},68208:(a,b,c)=>{"use strict";c.d(b,{R:()=>f});var d=c(59841),e=c(19113);async function f({req:a}){let b={collections:{},globals:{}},{payload:c,user:f}=a,g=!!f,h=f&&f.collection?c?.collections?.[f.collection]?.config:null;h&&c.config.admin.user===f?.collection?b.canAccessAdmin=h.access.admin?await h.access.admin({req:a}):g:b.canAccessAdmin=!1;let i={};return await Promise.all(c.config.collections.map(async c=>{let e=["create","read","update","delete"];c.auth&&void 0!==c.auth.maxLoginAttempts&&0!==c.auth.maxLoginAttempts&&e.push("unlock"),c.versions&&e.push("readVersions");let f=await (0,d.U)({type:"collection",blockPolicies:i,entity:c,operations:e,req:a});b.collections[c.slug]=f})),await Promise.all(c.config.globals.map(async c=>{let e=["read","update"];c.versions&&e.push("readVersions");let f=await (0,d.U)({type:"global",blockPolicies:i,entity:c,operations:e,req:a});b.globals[c.slug]=f})),(0,e.yD)(b)}},68656:(a,b,c)=>{"use strict";c.d(b,{c:()=>e});var d=c(87917);let e=(a,b,c)=>{let e=[{name:"parent",type:"relationship",index:!0,relationTo:b.slug},{name:"version",type:"group",fields:b.fields.filter(a=>!("name"in a)||"id"!==a.name),...c&&{flattenedFields:b.flattenedFields.filter(a=>"id"!==a.name)}},{name:"createdAt",type:"date",admin:{disabled:!0},index:!0},{name:"updatedAt",type:"date",admin:{disabled:!0},index:!0}];return b?.versions?.drafts&&(a.localization&&(e.push(d.FU),e.push({name:"publishedLocale",type:"select",admin:{disableBulkEdit:!0,disabled:!0},index:!0,options:a.localization.locales.map(a=>"string"==typeof a?a:a.code)})),e.push({name:"latest",type:"checkbox",admin:{disabled:!0},index:!0}),b?.versions?.drafts?.autosave&&e.push({name:"autosave",type:"checkbox",index:!0})),e}},68702:(a,b,c)=>{"use strict";var d,e=c(84642);let f=(a,b)=>(c,d)=>async f=>{let{response:h}=await c(f);try{let c=await b(h,a);return{response:h,output:c}}catch(a){if(Object.defineProperty(a,"$response",{value:h}),!("$metadata"in a)){let b="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{a.message+="\n  "+b}catch(a){d.logger&&d.logger?.constructor?.name!=="NoOpLogger"?d.logger?.warn?.(b):console.warn(b)}void 0!==a.$responseBodyText&&a.$response&&(a.$response.body=a.$responseBodyText);try{if(e.HttpResponse.isInstance(h)){let{headers:b={}}=h,c=Object.entries(b);a.$metadata={httpStatusCode:h.statusCode,requestId:g(/^x-[\w-]+-request-?id$/,c),extendedRequestId:g(/^x-[\w-]+-id-2$/,c),cfId:g(/^x-[\w-]+-cf-id$/,c)}}}catch(a){}}throw a}},g=(a,b)=>(b.find(([b])=>b.match(a))||[void 0,void 0])[1],h=(a,b)=>(c,d)=>async e=>{let f=a,g=d.endpointV2?.url&&f.urlParser?async()=>f.urlParser(d.endpointV2.url):f.endpoint;if(!g)throw Error("No valid endpoint provider available.");let h=await b(e.input,{...a,endpoint:g});return c({...e,request:h})},i={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},j={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function k(a,b,c){return{applyToStack:d=>{d.add(f(a,c),i),d.add(h(a,b),j)}}}d=f,d=i,b.TM=k,d=h,d=j},68711:(a,b,c)=>{"use strict";c.r(b),c.d(b,{v4:()=>d.v4});var d=c(6601)},68756:(a,b,c)=>{"use strict";c.d(b,{C:()=>i});var d=c(38200),e=c(8615),f=c(84670),g=c(42788),h=c(42526);let i=async function({id:a,collection:b,data:c,joins:i,locale:j,options:k={upsert:!1},req:l,returning:m,select:o,where:p}){let q=await (0,h.x)(this,l),r=this.payload.collections[b].config,s=this.tableNameMap.get(d(r.slug)),t=a;if(!t){let{joins:a,selectFields:b,where:c}=(0,e.Z)({adapter:this,fields:r.flattenedFields,locale:j,tableName:s,where:p}),d=await (0,f.t)({adapter:this,db:q,joins:a,query:({query:a})=>a.limit(1),selectFields:b,tableName:s,where:c});if(d?.[0]?.id)t=d?.[0]?.id;else if(p&&!a.length){let a=this.tables[s],b=await q.select({id:a.id}).from(a).where(c).limit(1);t=b?.[0]?.id}}if(!t&&!k.upsert)return null;let u=await (0,g.q)({id:t,adapter:this,data:c,db:q,fields:r.flattenedFields,ignoreResult:!1===m,joinQuery:i,operation:"update",req:l,select:o,tableName:s});return!1===m?null:u}},69066:(a,b,c)=>{"use strict";c.d(b,{w:()=>d});let d=async function(a){if(!(a instanceof Promise)&&this.sessions[a]){try{await this.sessions[a].resolve()}catch(b){await this.sessions[a].reject()}delete this.sessions[a]}}},69183:(a,b,c)=>{"use strict";var d,e=c(6448);function f(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function g(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}class h{value;constructor(a){this.value=a}toString(){return g(""+this.value)}}class i{name;children;attributes={};static of(a,b,c){let d=new i(a);return void 0!==b&&d.addChildNode(new h(b)),void 0!==c&&d.withName(c),d}constructor(a,b=[]){this.name=a,this.children=b}withName(a){return this.name=a,this}addAttribute(a,b){return this.attributes[a]=b,this}addChildNode(a){return this.children.push(a),this}removeAttribute(a){return delete this.attributes[a],this}n(a){return this.name=a,this}c(a){return this.children.push(a),this}a(a,b){return null!=b&&(this.attributes[a]=b),this}cc(a,b,c=b){if(null!=a[b]){let d=i.of(b,a[b]).withName(c);this.c(d)}}l(a,b,c,d){null!=a[b]&&d().map(a=>{a.withName(c),this.c(a)})}lc(a,b,c,d){if(null!=a[b]){let a=d(),b=new i(c);a.map(a=>{b.c(a)}),this.c(b)}}toString(){let a=!!this.children.length,b=`<${this.name}`,c=this.attributes;for(let a of Object.keys(c)){let d=c[a];null!=d&&(b+=` ${a}="${f(""+d)}"`)}return b+(a?`>${this.children.map(a=>a.toString()).join("")}</${this.name}>`:"/>")}}d={enumerable:!0,get:function(){return e.parseXML}},b.Cx=i,b.ZQ=h},69249:(a,b,c)=>{"use strict";c.d(b,{A:()=>p});var d=c(77598),e=c(19729);function f(a,b="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${b} must be ${a}`)}function g(a,b){return a.name===b}function h(a){return parseInt(a.name.slice(4),10)}function i(a){switch(a){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}function j(a,b){if(b.length&&!b.some(b=>a.usages.includes(b))){let a="CryptoKey does not support this operation, its usages must include ";if(b.length>2){let c=b.pop();a+=`one of ${b.join(", ")}, or ${c}.`}else 2===b.length?a+=`one of ${b[0]} or ${b[1]}.`:a+=`${b[0]}.`;throw TypeError(a)}}function k(a,b,...c){switch(b){case"HS256":case"HS384":case"HS512":{if(!g(a.algorithm,"HMAC"))throw f("HMAC");let c=parseInt(b.slice(2),10);if(h(a.algorithm.hash)!==c)throw f(`SHA-${c}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!g(a.algorithm,"RSASSA-PKCS1-v1_5"))throw f("RSASSA-PKCS1-v1_5");let c=parseInt(b.slice(2),10);if(h(a.algorithm.hash)!==c)throw f(`SHA-${c}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!g(a.algorithm,"RSA-PSS"))throw f("RSA-PSS");let c=parseInt(b.slice(2),10);if(h(a.algorithm.hash)!==c)throw f(`SHA-${c}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==a.algorithm.name&&"Ed448"!==a.algorithm.name)throw f("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!g(a.algorithm,"ECDSA"))throw f("ECDSA");let c=i(b);if(a.algorithm.namedCurve!==c)throw f(c,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}j(a,c)}var l=c(15969),m=c(48148),o=c(34850);function p(a,b,c){if(b instanceof Uint8Array){if(!a.startsWith("HS"))throw TypeError((0,l.A)(b,...m.g));return(0,d.createSecretKey)(b)}if(b instanceof d.KeyObject)return b;if((0,e.R)(b))return k(b,a,c),d.KeyObject.from(b);if(o.ll(b))return a.startsWith("HS")?(0,d.createSecretKey)(Buffer.from(b.k,"base64url")):b;throw TypeError((0,l.A)(b,...m.g,"Uint8Array","JSON Web Key"))}},69307:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.randomUUID=void 0;let d=c(92913).__importDefault(c(55511));b.randomUUID=d.default.randomUUID.bind(d.default)},69308:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getRules=b.isJSONType=void 0;let c=new Set(["string","number","integer","boolean","null","object","array"]);b.isJSONType=function(a){return"string"==typeof a&&c.has(a)},b.getRules=function(){let a={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...a,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},a.number,a.string,a.array,a.object],post:{rules:[]},all:{},keywords:{}}}},69480:(a,b,c)=>{"use strict";c.d(b,{a:()=>e});var d=c(59213);let e=a=>{let b=(0,d.fromString)(a,"utf8");return new Uint8Array(b.buffer,b.byteOffset,b.byteLength/Uint8Array.BYTES_PER_ELEMENT)}},69494:(a,b,c)=>{"use strict";c.d(b,{Fc:()=>d,GG:()=>f,OR:()=>e,zH:()=>g});let d="AWS_REGION",e="region",f={environmentVariableSelector:a=>a[d],configFileSelector:a=>a[e],default:()=>{throw Error("Region is missing")}},g={preferredFile:"credentials"}},69618:(a,b,c)=>{"use strict";c.d(b,{l6:()=>u,sM:()=>v,Le:()=>s});var d=c(18413),e=c(579),f=c(37197);let g=/\d{12}\.ddb/;async function h(a,b,c){let d=c.request;if(d?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,f.J)(a,"PROTOCOL_RPC_V2_CBOR","M"),"function"==typeof b.retryStrategy){let c=await b.retryStrategy();"function"==typeof c.acquireInitialRetryToken?c.constructor?.name?.includes("Adaptive")?(0,f.J)(a,"RETRY_MODE_ADAPTIVE","F"):(0,f.J)(a,"RETRY_MODE_STANDARD","E"):(0,f.J)(a,"RETRY_MODE_LEGACY","D")}if("function"==typeof b.accountIdEndpointMode){let c=a.endpointV2;switch(String(c?.url?.hostname).match(g)&&(0,f.J)(a,"ACCOUNT_ID_ENDPOINT","O"),await b.accountIdEndpointMode?.()){case"disabled":(0,f.J)(a,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,f.J)(a,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,f.J)(a,"ACCOUNT_ID_MODE_REQUIRED","R")}}let e=a.__smithy_context?.selectedHttpAuthScheme?.identity;if(e?.$source){let b=e;for(let[c,d]of(b.accountId&&(0,f.J)(a,"RESOLVED_ACCOUNT_ID","T"),Object.entries(b.$source??{})))(0,f.J)(a,c,d)}}let i="user-agent",j="x-amz-user-agent",k=" ",l="/",m=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,o=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,p="-",q=1024;function r(a){let b="";for(let c in a){let d=a[c];if(b.length+d.length+1<=q){b.length?b+=","+d:b+=d;continue}break}return b}let s=a=>(b,c)=>async f=>{let{request:g}=f;if(!e.K.isInstance(g))return b(f);let{headers:l}=g,m=c?.userAgent?.map(t)||[],o=(await a.defaultUserAgentProvider()).map(t);await h(c,a,f);let p=c;o.push(`m/${r(Object.assign({},c.__smithy_context?.features,p.__aws_sdk_context?.features))}`);let q=a?.customUserAgent?.map(t)||[],s=await a.userAgentAppId();s&&o.push(t([`app/${s}`]));let u=(0,d.getUserAgentPrefix)(),v=(u?[u]:[]).concat([...o,...m,...q]).join(k),w=[...o.filter(a=>a.startsWith("aws-sdk-")),...q].join(k);return"browser"!==a.runtime?(w&&(l[j]=l[j]?`${l[i]} ${w}`:w),l[i]=v):l[j]=v,b({...f,request:g})},t=a=>{let b=a[0].split(l).map(a=>a.replace(m,p)).join(l),c=a[1]?.replace(o,p),d=b.indexOf(l),e=b.substring(0,d),f=b.substring(d+1);return"api"===e&&(f=f.toLowerCase()),[e,f,c].filter(a=>a&&a.length>0).reduce((a,b,c)=>{switch(c){case 0:return b;case 1:return`${a}/${b}`;default:return`${a}#${b}`}},"")},u={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},v=a=>({applyToStack:b=>{b.add(s(a),u)}})},69719:(a,b,c)=>{"use strict";var d=Function.prototype.call,e=Object.prototype.hasOwnProperty;a.exports=c(67281).call(d,e)},69796:(a,b,c)=>{"use strict";let{kConnected:d,kSize:e}=c(25394);class f{constructor(a){this.value=a}deref(){return 0===this.value[d]&&0===this.value[e]?void 0:this.value}}class g{constructor(a){this.finalizer=a}register(a,b){a.on&&a.on("disconnect",()=>{0===a[d]&&0===a[e]&&this.finalizer(b)})}unregister(a){}}a.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:f,FinalizationRegistry:g}):{WeakRef,FinalizationRegistry}}},69815:(a,b,c)=>{"use strict";c.d(b,{Y:()=>d});let d=a=>({canLoginWithEmail:!a||a.allowEmailLogin,canLoginWithUsername:!!a})},69937:(a,b,c)=>{"use strict";let{InvalidArgumentError:d,SocketError:e}=c(212),{AsyncResource:f}=c(16698),g=c(34589),h=c(33895),{addSignal:i,removeSignal:j}=c(21291);class k extends f{constructor(a,b){if(!a||"object"!=typeof a)throw new d("invalid opts");if("function"!=typeof b)throw new d("invalid callback");let{signal:c,opaque:e,responseHeaders:f}=a;if(c&&"function"!=typeof c.on&&"function"!=typeof c.addEventListener)throw new d("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=f||null,this.opaque=e||null,this.callback=b,this.abort=null,this.context=null,i(this,c)}onConnect(a,b){if(this.reason)return void a(this.reason);g(this.callback),this.abort=a,this.context=null}onHeaders(){throw new e("bad upgrade",null)}onUpgrade(a,b,c){g(101===a);let{callback:d,opaque:e,context:f}=this;j(this),this.callback=null;let i="raw"===this.responseHeaders?h.parseRawHeaders(b):h.parseHeaders(b);this.runInAsyncScope(d,null,null,{headers:i,socket:c,opaque:e,context:f})}onError(a){let{callback:b,opaque:c}=this;j(this),b&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(b,null,a,{opaque:c})}))}}function l(a,b){if(void 0===b)return new Promise((b,c)=>{l.call(this,a,(a,d)=>a?c(a):b(d))});try{let c=new k(a,b),d={...a,method:a.method||"GET",upgrade:a.protocol||"Websocket"};this.dispatch(d,c)}catch(d){if("function"!=typeof b)throw d;let c=a?.opaque;queueMicrotask(()=>b(d,{opaque:c}))}}a.exports=l},69981:(a,b,c)=>{"use strict";c.d(b,{L:()=>v});var d=c(25083),e=c(51114),f=c(71292),g=c(9896),h=c(87747),i=c(2431),j=c(70151),k=c(43982),l=c(53216),m=c(32609),o=c(68656),p=c(45720),q=c(22128),r=c(90504),s=c(41154),t=c(87641);let u=300,v=async a=>{let b=a;try{let a,c;if(b.collection.config.hooks?.beforeOperation?.length)for(let a of b.collection.config.hooks.beforeOperation)b=await a({args:b,collection:b.collection.config,context:b.req.context,operation:"read",req:b.req})||b;let{collection:{config:l},collection:v,currentDepth:w,depth:x,disableErrors:y,draft:z,includeLockStatus:A,joins:B,limit:C,overrideAccess:D,page:E,pagination:F=!0,populate:G,select:H,showHiddenFields:I,sort:J,trash:K=!1,where:L}=b,M=b.req,{fallbackLocale:N,locale:O,payload:P}=M,Q=(0,m.Y)({fields:l.flattenedFields,forceSelect:l.forceSelect,select:H});if(!D&&(a=await (0,d.m)({disableErrors:y,req:M},l.access.read),!1===a))return{docs:[],hasNextPage:!1,hasPrevPage:!1,limit:C,nextPage:null,page:1,pagingCounter:1,prevPage:null,totalDocs:0,totalPages:1};let R=F&&0!==C,S=C??10*!!R,T=E||1,U=(0,e.m)(L,a);(0,h.D)({fields:l.flattenedFields,payload:P,where:U}),U=(0,k.v)({enableTrash:l.trash,trash:K,where:U});let V=(0,s.K)({fields:v.config.flattenedFields,sort:J}),W=await (0,g.S)({collectionConfig:l,joins:B,overrideAccess:D,req:M});if(l.versions?.drafts&&z?(U=(0,p.D)(U),await (0,f.d)({collectionConfig:v.config,overrideAccess:D,req:M,versionFields:(0,o.c)(P.config,v.config,!0),where:(0,p.D)(L)}),c=await P.db.queryDrafts({collection:l.slug,joins:"GraphQL"!==M.payloadAPI&&W,limit:S,locale:O,page:T,pagination:R,req:M,select:(0,q.V)({select:Q}),sort:(0,r.t)({collectionConfig:l,sort:V}),where:U})):(await (0,f.d)({collectionConfig:l,overrideAccess:D,req:M,where:L}),c=await P.db.find({collection:l.slug,draftsEnabled:z,joins:"GraphQL"!==M.payloadAPI&&W,limit:S,locale:O,page:T,pagination:F,req:M,select:Q,sort:V,where:U})),A)try{let a=l?.lockDocuments,b="object"==typeof a?a.duration:u,d=1e3*b,e=new Date().getTime(),f=await P.find({collection:j.q,depth:1,limit:S,overrideAccess:!1,pagination:!1,req:M,where:{and:[{"document.relationTo":{equals:l.slug}},{"document.value":{in:c.docs.map(a=>a.id)}},{updatedAt:{greater_than:new Date(e-d)}}]}}),g=(Array.isArray(f?.docs)?f.docs:[]).filter(a=>new Date(a?.updatedAt).getTime()+d>e);for(let a of c.docs){let b=g.find(b=>b?.document?.value===a.id);a._isLocked=!!b,a._userEditing=b?b?.user?.value:null}}catch(a){for(let a of c.docs)a._isLocked=!1,a._userEditing=null}return l?.hooks?.beforeRead?.length&&(c.docs=await Promise.all(c.docs.map(async a=>{let b=a;for(let a of l.hooks.beforeRead)b=await a({collection:l,context:M.context,doc:b,query:U,req:M})||b;return b}))),c.docs=await Promise.all(c.docs.map(async a=>(0,i.v)({collection:l,context:M.context,currentDepth:w,depth:x,doc:a,draft:z,fallbackLocale:N,findMany:!0,global:null,locale:O,overrideAccess:D,populate:G,req:M,select:Q,showHiddenFields:I}))),l?.hooks?.afterRead?.length&&(c.docs=await Promise.all(c.docs.map(async a=>{let b=a;for(let c of l.hooks.afterRead)b=await c({collection:l,context:M.context,doc:b,findMany:!0,query:U,req:M})||a;return b}))),c=await (0,t.E)({args:b,collection:l,operation:"find",result:c})}catch(a){throw await (0,l.J)(b.req),a}}},70011:(a,b,c)=>{"use strict";function d(a){return"object"==typeof a&&null!==a}function e(a){if(!d(a)||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(null===Object.getPrototypeOf(a))return!0;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}c.d(b,{A:()=>e})},70013:(a,b,c)=>{"use strict";c.d(b,{v:()=>g});var d=c(50474);let e={type:"text-format",format:["italic"],tag:"*"},f={type:"text-format",format:["italic"],intraword:!1,tag:"_"},g=(0,d.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#ItalicFeatureClient",markdownTransformers:[e,f]},key:"italic"})},70039:(a,b,c)=>{"use strict";let{Writable:d}=c(27910),e=c(49942),{BINARY_TYPES:f,EMPTY_BUFFER:g,kStatusCode:h,kWebSocket:i}=c(99753),{concat:j,toArrayBuffer:k,unmask:l}=c(28253),{isValidStatusCode:m,isValidUTF8:o}=c(15345),p=Buffer[Symbol.species],q=0,r=1,s=2,t=3,u=4,v=5,w=6;class x extends d{constructor(a={}){super(),this._allowSynchronousEvents=void 0===a.allowSynchronousEvents||a.allowSynchronousEvents,this._binaryType=a.binaryType||f[0],this._extensions=a.extensions||{},this._isServer=!!a.isServer,this._maxPayload=0|a.maxPayload,this._skipUTF8Validation=!!a.skipUTF8Validation,this[i]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=q}_write(a,b,c){if(8===this._opcode&&this._state==q)return c();this._bufferedBytes+=a.length,this._buffers.push(a),this.startLoop(c)}consume(a){if(this._bufferedBytes-=a,a===this._buffers[0].length)return this._buffers.shift();if(a<this._buffers[0].length){let b=this._buffers[0];return this._buffers[0]=new p(b.buffer,b.byteOffset+a,b.length-a),new p(b.buffer,b.byteOffset,a)}let b=Buffer.allocUnsafe(a);do{let c=this._buffers[0],d=b.length-a;a>=c.length?b.set(this._buffers.shift(),d):(b.set(new Uint8Array(c.buffer,c.byteOffset,a),d),this._buffers[0]=new p(c.buffer,c.byteOffset+a,c.length-a)),a-=c.length}while(a>0);return b}startLoop(a){this._loop=!0;do switch(this._state){case q:this.getInfo(a);break;case r:this.getPayloadLength16(a);break;case s:this.getPayloadLength64(a);break;case t:this.getMask();break;case u:this.getData(a);break;case v:case w:this._loop=!1;return}while(this._loop);this._errored||a()}getInfo(a){if(this._bufferedBytes<2){this._loop=!1;return}let b=this.consume(2);if((48&b[0])!=0)return void a(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));let c=(64&b[0])==64;if(c&&!this._extensions[e.extensionName])return void a(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._fin=(128&b[0])==128,this._opcode=15&b[0],this._payloadLength=127&b[1],0===this._opcode){if(c)return void a(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(!this._fragmented)return void a(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void a(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));this._compressed=c}else{if(!(this._opcode>7)||!(this._opcode<11))return void a(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));if(!this._fin)return void a(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));if(c)return void a(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return void a(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&b[1])==128,this._isServer){if(!this._masked)return void a(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}else if(this._masked)return void a(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));126===this._payloadLength?this._state=r:127===this._payloadLength?this._state=s:this.haveLength(a)}getPayloadLength16(a){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(a)}getPayloadLength64(a){if(this._bufferedBytes<8){this._loop=!1;return}let b=this.consume(8),c=b.readUInt32BE(0);if(c>2097151)return void a(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));this._payloadLength=0x100000000*c+b.readUInt32BE(4),this.haveLength(a)}haveLength(a){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return void a(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._masked?this._state=t:this._state=u}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=u}getData(a){let b=g;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}b=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&l(b,this._mask)}if(this._opcode>7)return void this.controlMessage(b,a);if(this._compressed){this._state=v,this.decompress(b,a);return}b.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(b)),this.dataMessage(a)}decompress(a,b){this._extensions[e.extensionName].decompress(a,this._fin,(a,c)=>{if(a)return b(a);if(c.length){if(this._messageLength+=c.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return void b(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(c)}this.dataMessage(b),this._state===q&&this.startLoop(b)})}dataMessage(a){if(!this._fin){this._state=q;return}let b=this._messageLength,c=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let d;d="nodebuffer"===this._binaryType?j(c,b):"arraybuffer"===this._binaryType?k(j(c,b)):"blob"===this._binaryType?new Blob(c):c,this._allowSynchronousEvents?(this.emit("message",d,!0),this._state=q):(this._state=w,setImmediate(()=>{this.emit("message",d,!0),this._state=q,this.startLoop(a)}))}else{let d=j(c,b);if(!this._skipUTF8Validation&&!o(d))return void a(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));this._state===v||this._allowSynchronousEvents?(this.emit("message",d,!1),this._state=q):(this._state=w,setImmediate(()=>{this.emit("message",d,!1),this._state=q,this.startLoop(a)}))}}controlMessage(a,b){if(8===this._opcode){if(0===a.length)this._loop=!1,this.emit("conclude",1005,g),this.end();else{let c=a.readUInt16BE(0);if(!m(c))return void b(this.createError(RangeError,`invalid status code ${c}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));let d=new p(a.buffer,a.byteOffset+2,a.length-2);if(!this._skipUTF8Validation&&!o(d))return void b(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));this._loop=!1,this.emit("conclude",c,d),this.end()}this._state=q;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",a),this._state=q):(this._state=w,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",a),this._state=q,this.startLoop(b)}))}createError(a,b,c,d,e){this._loop=!1,this._errored=!0;let f=new a(c?`Invalid WebSocket frame: ${b}`:b);return Error.captureStackTrace(f,this.createError),f.code=e,f[h]=d,f}}a.exports=x},70059:(a,b,c)=>{"use strict";var d;c.d(b,{w:()=>d}),function(a){a[a.HEADER=0]="HEADER",a[a.TRAILER=1]="TRAILER"}(d||(d={}))},70099:(a,b,c)=>{"use strict";c.d(b,{nm0:()=>bH});var d=c(79646),e=c(55511),f=c(73136),g=c(33873);c(65664);var h=c(35593),i=c(75423),j=c(96927);async function k(a,b){let{collection:c,data:d,disableEmail:e,expiration:f}=b,g=a.collections[c];if(!g)throw new h.L(`The collection with slug ${String(c)} can't be found. Forgot Password Operation.`);return(0,j.g)({collection:g,data:d,disableEmail:e,expiration:f,req:await (0,i.M)(b,a)})}var l=c(18674);async function m(a,b){let{collection:c,data:d,depth:e,overrideAccess:f=!0,showHiddenFields:g}=b,j=a.collections[c];if(!j)throw new h.L(`The collection with slug ${String(c)} can't be found. Login Operation.`);let k={collection:j,data:d,depth:e,overrideAccess:f,req:await (0,i.M)(b,a),showHiddenFields:g},m=await (0,l.k)(k);return j.config.auth.removeTokenFromResponses&&delete m.token,m}var o=c(95755);async function p(a,b){let{collection:c,data:d,overrideAccess:e}=b,f=a.collections[c];if(!f)throw new h.L(`The collection with slug ${String(c)} can't be found. Reset Password Operation.`);let g=await (0,o.q)({collection:f,data:d,overrideAccess:e,req:await (0,i.M)(b,a)});return f.config.auth.removeTokenFromResponses&&delete g.token,g}var q=c(81977);async function r(a,b){let{collection:c,data:d,overrideAccess:e=!0}=b,f=a.collections[c];if(!f)throw new h.L(`The collection with slug ${String(c)} can't be found. Unlock Operation.`);return(0,q.k)({collection:f,data:d,overrideAccess:e,req:await (0,i.M)(b,a)})}var s=c(72598);async function t(a,b){let{collection:c,token:d}=b,e=a.collections[c];if(!e)throw new h.L(`The collection with slug ${String(c)} can't be found. Verify Email Operation.`);return(0,s.p)({collection:e,req:await (0,i.M)(b,a),token:d})}var u=c(52263);async function v(a,b){let{collection:c,disableErrors:d,overrideAccess:e=!0,trash:f=!1,where:g}=b,j=a.collections[c];if(!j)throw new h.L(`The collection with slug ${String(c)} can't be found. Count Operation.`);return(0,u.R)({collection:j,disableErrors:d,overrideAccess:e,req:await (0,i.M)(b,a),trash:f,where:g})}var w=c(70366),x=c(80602),y=c(61463);async function z(a,b){let{collection:c,data:d,depth:e,disableTransaction:f,disableVerificationEmail:g,draft:j,duplicateFromID:k,file:l,filePath:m,overrideAccess:o=!0,overwriteExistingFiles:p=!1,populate:q,select:r,showHiddenFields:s}=b,t=a.collections[c];if(!t)throw new h.L(`The collection with slug ${String(c)} can't be found. Create Operation.`);let u=await (0,i.M)(b,a);return u.file=l??await (0,x.d)(m),(0,y.k)({collection:t,data:(0,w.Zt)(d),depth:e,disableTransaction:f,disableVerificationEmail:g,draft:j,duplicateFromID:k,overrideAccess:o,overwriteExistingFiles:p,populate:q,req:u,select:r,showHiddenFields:s})}var A=c(48037),B=c(18897);async function C(a,b){let{id:c,collection:d,depth:e,disableTransaction:f,overrideAccess:g=!0,overrideLock:j,populate:k,select:l,showHiddenFields:m,trash:o=!1,where:p}=b,q=a.collections[d];if(!q)throw new h.L(`The collection with slug ${String(d)} can't be found. Delete Operation.`);let r={id:c,collection:q,depth:e,disableTransaction:f,overrideAccess:g,overrideLock:j,populate:k,req:await (0,i.M)(b,a),select:l,showHiddenFields:m,trash:o,where:p};return b.id?(0,B.l)(r):(0,A.N)(r)}var D=c(21137);async function E(a,b){let{id:c,collection:d,data:e,depth:f,disableTransaction:g,draft:j,overrideAccess:k=!0,populate:l,select:m,showHiddenFields:o}=b,p=a.collections[d];if(!p)throw new h.L(`The collection with slug ${String(d)} can't be found. Duplicate Operation.`);if(!0===p.config.disableDuplicate)throw new h.L(`The collection with slug ${String(d)} cannot be duplicated.`,400);let q=await (0,i.M)(b,a);return(0,D.h)({id:c,collection:p,data:e,depth:f,disableTransaction:g,draft:j,overrideAccess:k,populate:l,req:q,select:m,showHiddenFields:o})}var F=c(69981);async function G(a,b){let{collection:c,currentDepth:d,depth:e,disableErrors:f,draft:g=!1,includeLockStatus:j,joins:k,limit:l,overrideAccess:m=!0,page:o,pagination:p=!0,populate:q,select:r,showHiddenFields:s,sort:t,trash:u=!1,where:v}=b,w=a.collections[c];if(!w)throw new h.L(`The collection with slug ${String(c)} can't be found. Find Operation.`);return(0,F.L)({collection:w,currentDepth:d,depth:e,disableErrors:f,draft:g,includeLockStatus:j,joins:k,limit:l,overrideAccess:m,page:o,pagination:p,populate:q,req:await (0,i.M)(b,a),select:r,showHiddenFields:s,sort:t,trash:u,where:v})}var H=c(92073);async function I(a,b){let{id:c,collection:d,currentDepth:e,data:f,depth:g,disableErrors:j=!1,draft:k=!1,flattenLocales:l,includeLockStatus:m,joins:o,overrideAccess:p=!0,populate:q,select:r,showHiddenFields:s,trash:t=!1}=b,u=a.collections[d];if(!u)throw new h.L(`The collection with slug ${String(d)} can't be found. Find By ID Operation.`);return(0,H.$)({id:c,collection:u,currentDepth:e,data:f,depth:g,disableErrors:j,draft:k,flattenLocales:l,includeLockStatus:m,joins:o,overrideAccess:p,populate:q,req:await (0,i.M)(b,a),select:r,showHiddenFields:s,trash:t})}var J=c(61101),K=c(25083),L=c(51114),M=c(71292),N=c(87747),O=c(83518),P=c(78497),Q=c(43982),R=c(66456),S=c(53216),T=c(87641);let U=async a=>{let b=a;try{let a;if(b.collection.config.hooks?.beforeOperation?.length)for(let a of b.collection.config.hooks.beforeOperation)b=await a({args:b,collection:b.collection.config,context:b.req.context,operation:"readDistinct",req:b.req})||b;let{collection:{config:c},disableErrors:d,overrideAccess:e,populate:f,showHiddenFields:g=!1,trash:i=!1,where:j}=b,k=b.req,{locale:l,payload:m}=k;if(!e&&(a=await (0,K.m)({disableErrors:d,req:k},c.access.read),!1===a))return{hasNextPage:!1,hasPrevPage:!1,limit:b.limit||0,nextPage:null,page:1,pagingCounter:1,prevPage:null,totalDocs:0,totalPages:0,values:[]};let o=(0,L.m)(j,a);(0,N.D)({fields:c.flattenedFields,payload:m,where:o}),o=(0,Q.v)({enableTrash:c.trash,trash:i,where:o}),await (0,M.d)({collectionConfig:c,overrideAccess:e,req:k,where:j??{}});let p=(0,R.p)({config:m.config,fields:c.flattenedFields,includeRelationships:!0,path:b.field});if(!p)throw new h.L(`Field ${b.field} was not found in the collection ${c.slug}`,J.A.BAD_REQUEST);if(p.field.hidden&&!g||p.field.access?.read&&!await p.field.access.read({req:k}))throw new O.c(k.t);if("virtual"in p.field&&p.field.virtual){if("string"!=typeof p.field.virtual)throw new h.L("Cannot findDistinct by a virtual field that isn't linked to a relationship field.");let a="",o=c.flattenedFields,q=p.field.virtual.split(".");for(let b of p.field.virtual.split(".")){a=`${a}${b}`,q.shift();let c=o.find(a=>a.name===b);if(("relationship"===c.type||"upload"===c.type)&&"string"==typeof c.relationTo)break;"flattenedFields"in c&&(o=c.flattenedFields)}let r=`${a}.${q.join(".")}`,s=await m.findDistinct({collection:c.slug,depth:b.depth,disableErrors:d,field:r,locale:l,overrideAccess:e,populate:f,req:k,showHiddenFields:g,sort:b.sort,trash:i,where:j});for(let a of s.values)a[b.field]=a[r],delete a[r];return s}let q=await m.db.findDistinct({collection:c.slug,field:b.field,limit:b.limit,locale:l,page:b.page,req:k,sort:b.sort,where:o});if(("relationship"===p.field.type||"upload"===p.field.type)&&b.depth){let a=[],c={...p.field};for(let d of(p.field.hasMany&&(c.hasMany=!1),q.values))a.push((0,P.x)({currentDepth:0,depth:b.depth,draft:!1,fallbackLocale:k.fallbackLocale||null,field:c,locale:k.locale||null,overrideAccess:b.overrideAccess??!0,parentIsLocalized:!1,populate:f,req:k,showHiddenFields:!1,siblingDoc:d}));await Promise.all(a)}return q=await (0,T.E)({args:b,collection:c,operation:"findDistinct",result:q})}catch(a){throw await (0,S.J)(b.req),a}};async function V(a,b){let{collection:c,depth:d=0,disableErrors:e,field:f,limit:g,overrideAccess:j=!0,page:k,populate:l,showHiddenFields:m,sort:o,trash:p=!1,where:q}=b,r=a.collections[c];if(!r)throw new h.L(`The collection with slug ${String(c)} can't be found. Find Operation.`);return U({collection:r,depth:d,disableErrors:e,field:f,limit:g,overrideAccess:j,page:k,populate:l,req:await (0,i.M)(b,a),showHiddenFields:m,sort:o,trash:p,where:q})}var W=c(46789);async function X(a,b){let{id:c,collection:d,depth:e,disableErrors:f=!1,overrideAccess:g=!0,populate:j,select:k,showHiddenFields:l,trash:m=!1}=b,o=a.collections[d];if(!o)throw new h.L(`The collection with slug ${String(d)} can't be found. Find Version By ID Operation.`);return(0,W.L)({id:c,collection:o,depth:e,disableErrors:f,overrideAccess:g,populate:j,req:await (0,i.M)(b,a),select:k,showHiddenFields:l,trash:m})}var Y=c(35380);async function Z(a,b){let{collection:c,depth:d,limit:e,overrideAccess:f=!0,page:g,pagination:j=!0,populate:k,select:l,showHiddenFields:m,sort:o,trash:p=!1,where:q}=b,r=a.collections[c];if(!r)throw new h.L(`The collection with slug ${String(c)} can't be found. Find Versions Operation.`);return(0,Y.s)({collection:r,depth:d,limit:e,overrideAccess:f,page:g,pagination:j,populate:k,req:await (0,i.M)(b,a),select:l,showHiddenFields:m,sort:o,trash:p,where:q})}var $=c(35848);async function _(a,b){let{id:c,collection:d,depth:e,overrideAccess:f=!0,populate:g,select:j,showHiddenFields:k}=b,l=a.collections[d];if(!l)throw new h.L(`The collection with slug ${String(d)} can't be found. Restore Version Operation.`);let m={id:c,collection:l,depth:e,overrideAccess:f,payload:a,populate:g,req:await (0,i.M)(b,a),select:j,showHiddenFields:k};return(0,$.c)(m)}var aa=c(34447),ab=c(73783);async function ac(a,b){let{id:c,autosave:d,collection:e,data:f,depth:g,disableTransaction:j,draft:k,file:l,filePath:m,limit:o,overrideAccess:p=!0,overrideLock:q,overwriteExistingFiles:r=!1,populate:s,publishSpecificLocale:t,select:u,showHiddenFields:v,sort:w,trash:y=!1,where:z}=b,A=a.collections[e];if(!A)throw new h.L(`The collection with slug ${String(e)} can't be found. Update Operation.`);let B=await (0,i.M)(b,a);B.file=l??await (0,x.d)(m);let C={id:c,autosave:d,collection:A,data:f,depth:g,disableTransaction:j,draft:k,limit:o,overrideAccess:p,overrideLock:q,overwriteExistingFiles:r,payload:a,populate:s,publishSpecificLocale:t,req:B,select:u,showHiddenFields:v,sort:w,trash:y,where:z};return b.id?(0,ab.Z)(C):(0,aa.L)(C)}var ad=c(45139);let ae=async a=>{try{let b,{disableErrors:c,global:d,overrideAccess:e,where:f}=a,g=a.req,{payload:h}=g;if(d.hooks?.beforeOperation?.length)for(let b of d.hooks.beforeOperation)a=await b({args:a,context:g.context,global:d,operation:"countVersions",req:g})||a;if(!e&&(b=await (0,K.m)({disableErrors:c,req:g},d.access.readVersions),!1===b))return{totalDocs:0};let i=(0,L.m)(f,b),j=(0,ad.p)(h.config,d,!0);return await (0,M.d)({globalConfig:d,overrideAccess:e,req:g,versionFields:j,where:f}),await h.db.countGlobalVersions({global:d.slug,req:g,where:i})}catch(b){throw await (0,S.J)(a.req),b}};async function af(a,b){let{disableErrors:c,global:d,overrideAccess:e=!0,where:f}=b,g=a.globals.config.find(({slug:a})=>a===d);if(!g)throw new h.L(`The global with slug ${String(d)} can't be found. Count Global Versions Operation.`);return ae({disableErrors:c,global:g,overrideAccess:e,req:await (0,i.M)(b,a),where:f})}var ag=c(370);async function ah(a,b){let{slug:c,data:d,depth:e,draft:f=!1,flattenLocales:g,includeLockStatus:j,overrideAccess:k=!0,populate:l,select:m,showHiddenFields:o}=b,p=a.globals.config.find(a=>a.slug===c);if(!p)throw new h.L(`The global with slug ${String(c)} can't be found.`);return(0,ag.j)({slug:c,data:d,depth:e,draft:f,flattenLocales:g,globalConfig:p,includeLockStatus:j,overrideAccess:k,populate:l,req:await (0,i.M)(b,a),select:m,showHiddenFields:o})}var ai=c(2338);async function aj(a,b){let{id:c,slug:d,depth:e,disableErrors:f=!1,overrideAccess:g=!0,populate:j,select:k,showHiddenFields:l}=b,m=a.globals.config.find(a=>a.slug===d);if(!m)throw new h.L(`The global with slug ${String(d)} can't be found.`);return(0,ai.L)({id:c,depth:e,disableErrors:f,globalConfig:m,overrideAccess:g,populate:j,req:await (0,i.M)(b,a),select:k,showHiddenFields:l})}var ak=c(54321);async function al(a,b){let{slug:c,depth:d,limit:e,overrideAccess:f=!0,page:g,pagination:j=!0,populate:k,select:l,showHiddenFields:m,sort:o,where:p}=b,q=a.globals.config.find(a=>a.slug===c);if(!q)throw new h.L(`The global with slug ${String(c)} can't be found.`);return(0,ak.s)({depth:d,globalConfig:q,limit:e,overrideAccess:f,page:g,pagination:j,populate:k,req:await (0,i.M)(b,a),select:l,showHiddenFields:m,sort:o,where:p})}var am=c(83421);async function an(a,b){let{id:c,slug:d,depth:e,overrideAccess:f=!0,populate:g,showHiddenFields:j}=b,k=a.globals.config.find(a=>a.slug===d);if(!k)throw new h.L(`The global with slug ${String(d)} can't be found.`);return(0,am.c)({id:c,depth:e,globalConfig:k,overrideAccess:f,populate:g,req:await (0,i.M)(b,a),showHiddenFields:j})}var ao=c(12448);async function ap(a,b){let{slug:c,data:d,depth:e,draft:f,overrideAccess:g=!0,overrideLock:j,populate:k,publishSpecificLocale:l,select:m,showHiddenFields:o}=b,p=a.globals.config.find(a=>a.slug===c);if(!p)throw new h.L(`The global with slug ${String(c)} can't be found.`);return(0,ao.L)({slug:c,data:(0,w.Zt)(d),depth:e,draft:f,globalConfig:p,overrideAccess:g,overrideLock:j,populate:k,publishSpecificLocale:l,req:await (0,i.M)(b,a),select:m,showHiddenFields:o})}var aq=c(88595);let ar="aes-256-ctr";function as(a){let b=e.randomBytes(16),c=this.secret,d=e.createCipheriv(ar,c,b),f=d.update(a,"utf8","hex")+d.final("hex"),g=b.toString("hex");return`${g}${f}`}function at(a){let b=a.slice(0,32),c=a.slice(32),d=this.secret,f=e.createDecipheriv(ar,d,Buffer.from(b,"hex"));return f.update(c,"hex","utf8")+f.final("utf8")}var au=c(10050),av=c(68208);let aw=async a=>{let{canSetHeaders:b,headers:c}=a,d=a.req,{payload:e}=d;try{let{responseHeaders:a,user:f}=await (0,au.F)({canSetHeaders:b,headers:c,payload:e});return d.user=f,d.responseHeaders=a,{permissions:await (0,av.R)({req:d}),responseHeaders:a,user:f}}catch(a){throw await (0,S.J)(d),a}},ax=async(a,b)=>{let{headers:c,req:d}=b;return await aw({canSetHeaders:!!b.canSetHeaders,headers:c,req:await (0,i.M)({req:d},a)})},ay=a=>async({headers:b,isGraphQL:c=!1,payload:d})=>{let f=b.get("Authorization");if(f?.startsWith(`${a.slug} API-Key `)){let b=f.replace(`${a.slug} API-Key `,""),g=[{apiKeyIndex:{equals:e.createHmac("sha1",d.secret).update(b).digest("hex")}},{apiKeyIndex:{equals:e.createHmac("sha256",d.secret).update(b).digest("hex")}}];try{let b={};a.auth?.verify?b.and=[{or:g},{_verified:{not_equals:!1}}]:b.or=g;let e=await d.find({collection:a.slug,depth:c?0:a.auth.depth,limit:1,overrideAccess:!0,pagination:!1,where:b});if(e.docs&&e.docs.length>0){let b=e.docs[0];return b.collection=a.slug,b._strategy="api-key",{user:b}}}catch(a){}}return{user:null}};var az=c(92974),aA=c(77598),aB=c(57975),aC=c(93513),aD=c(7790),aE=c(3174),aF=c(69249);let aG=(0,aB.promisify)(aA.verify),aH=async(a,b,c,d)=>{let e=(0,aF.A)(a,b,"verify");if(a.startsWith("HS")){let b=await (0,aE.A)(a,e,d),f=c;try{return aA.timingSafeEqual(f,b)}catch{return!1}}let f=(0,aC.A)(a),g=(0,aD.A)(a,e);try{return await aG(f,d,g,c)}catch{return!1}};var aI=c(47539),aJ=c(94757),aK=c(73844),aL=c(70011),aM=c(27008),aN=c(37958);let aO=(a,b)=>{if(void 0!==b&&(!Array.isArray(b)||b.some(a=>"string"!=typeof a)))throw TypeError(`"${a}" option must be an array of strings`);if(b)return new Set(b)};var aP=c(34850);let aQ=a=>a.d?(0,aA.createPrivateKey)({format:"jwk",key:a}):(0,aA.createPublicKey)({format:"jwk",key:a});async function aR(a,b){if(!(0,aL.A)(a))throw TypeError("JWK must be an object");switch(b||=a.alg,a.kty){case"oct":if("string"!=typeof a.k||!a.k)throw TypeError('missing "k" (Key Value) Parameter value');return(0,az.D4)(a.k);case"RSA":if(void 0!==a.oth)throw new aI.T0('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return aQ({...a,alg:b});default:throw new aI.T0('Unsupported "kty" (Key Type) Parameter value')}}async function aS(a,b,c){let d,e;if(!(0,aL.A)(a))throw new aI.Ye("Flattened JWS must be an object");if(void 0===a.protected&&void 0===a.header)throw new aI.Ye('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==a.protected&&"string"!=typeof a.protected)throw new aI.Ye("JWS Protected Header incorrect type");if(void 0===a.payload)throw new aI.Ye("JWS Payload missing");if("string"!=typeof a.signature)throw new aI.Ye("JWS Signature missing or incorrect type");if(void 0!==a.header&&!(0,aL.A)(a.header))throw new aI.Ye("JWS Unprotected Header incorrect type");let f={};if(a.protected)try{let b=(0,az.D4)(a.protected);f=JSON.parse(aJ.D0.decode(b))}catch{throw new aI.Ye("JWS Protected Header is invalid")}if(!(0,aK.A)(f,a.header))throw new aI.Ye("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let g={...f,...a.header},h=(0,aN.A)(aI.Ye,new Map([["b64",!0]]),c?.crit,f,g),i=!0;if(h.has("b64")&&"boolean"!=typeof(i=f.b64))throw new aI.Ye('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:j}=g;if("string"!=typeof j||!j)throw new aI.Ye('JWS "alg" (Algorithm) Header Parameter missing or invalid');let k=c&&aO("algorithms",c.algorithms);if(k&&!k.has(j))throw new aI.Rb('"alg" (Algorithm) Header Parameter value not allowed');if(i){if("string"!=typeof a.payload)throw new aI.Ye("JWS Payload must be a string")}else if("string"!=typeof a.payload&&!(a.payload instanceof Uint8Array))throw new aI.Ye("JWS Payload must be a string or an Uint8Array instance");let l=!1;"function"==typeof b?(b=await b(f,a),l=!0,(0,aM.I)(j,b,"verify"),(0,aP.ll)(b)&&(b=await aR(b,j))):(0,aM.I)(j,b,"verify");let m=(0,aJ.xW)(aJ.Rd.encode(a.protected??""),aJ.Rd.encode("."),"string"==typeof a.payload?aJ.Rd.encode(a.payload):a.payload);try{d=(0,az.D4)(a.signature)}catch{throw new aI.Ye("Failed to base64url decode the signature")}if(!await aH(j,b,d,m))throw new aI.h2;if(i)try{e=(0,az.D4)(a.payload)}catch{throw new aI.Ye("Failed to base64url decode the payload")}else e="string"==typeof a.payload?aJ.Rd.encode(a.payload):a.payload;let o={payload:e};return(void 0!==a.protected&&(o.protectedHeader=f),void 0!==a.header&&(o.unprotectedHeader=a.header),l)?{...o,key:b}:o}async function aT(a,b,c){if(a instanceof Uint8Array&&(a=aJ.D0.decode(a)),"string"!=typeof a)throw new aI.Ye("Compact JWS must be a string or Uint8Array");let{0:d,1:e,2:f,length:g}=a.split(".");if(3!==g)throw new aI.Ye("Invalid Compact JWS");let h=await aS({payload:e,protected:d,signature:f},b,c),i={payload:h.payload,protectedHeader:h.protectedHeader};return"function"==typeof b?{...i,key:h.key}:i}var aU=c(64208),aV=c(15579);let aW=a=>a.toLowerCase().replace(/^application\//,""),aX=(a,b)=>"string"==typeof a?b.includes(a):!!Array.isArray(a)&&b.some(Set.prototype.has.bind(new Set(a))),aY=(a,b,c={})=>{let d,e;try{d=JSON.parse(aJ.D0.decode(b))}catch{}if(!(0,aL.A)(d))throw new aI.Dp("JWT Claims Set must be a top-level JSON object");let{typ:f}=c;if(f&&("string"!=typeof a.typ||aW(a.typ)!==aW(f)))throw new aI.ie('unexpected "typ" JWT header value',d,"typ","check_failed");let{requiredClaims:g=[],issuer:h,subject:i,audience:j,maxTokenAge:k}=c,l=[...g];for(let a of(void 0!==k&&l.push("iat"),void 0!==j&&l.push("aud"),void 0!==i&&l.push("sub"),void 0!==h&&l.push("iss"),new Set(l.reverse())))if(!(a in d))throw new aI.ie(`missing required "${a}" claim`,d,a,"missing");if(h&&!(Array.isArray(h)?h:[h]).includes(d.iss))throw new aI.ie('unexpected "iss" claim value',d,"iss","check_failed");if(i&&d.sub!==i)throw new aI.ie('unexpected "sub" claim value',d,"sub","check_failed");if(j&&!aX(d.aud,"string"==typeof j?[j]:j))throw new aI.ie('unexpected "aud" claim value',d,"aud","check_failed");switch(typeof c.clockTolerance){case"string":e=(0,aV.A)(c.clockTolerance);break;case"number":e=c.clockTolerance;break;case"undefined":e=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:m}=c,o=(0,aU.A)(m||new Date);if((void 0!==d.iat||k)&&"number"!=typeof d.iat)throw new aI.ie('"iat" claim must be a number',d,"iat","invalid");if(void 0!==d.nbf){if("number"!=typeof d.nbf)throw new aI.ie('"nbf" claim must be a number',d,"nbf","invalid");if(d.nbf>o+e)throw new aI.ie('"nbf" claim timestamp check failed',d,"nbf","check_failed")}if(void 0!==d.exp){if("number"!=typeof d.exp)throw new aI.ie('"exp" claim must be a number',d,"exp","invalid");if(d.exp<=o-e)throw new aI.n('"exp" claim timestamp check failed',d,"exp","check_failed")}if(k){let a=o-d.iat;if(a-e>("number"==typeof k?k:(0,aV.A)(k)))throw new aI.n('"iat" claim timestamp check failed (too far in the past)',d,"iat","check_failed");if(a<0-e)throw new aI.ie('"iat" claim timestamp check failed (it should be in the past)',d,"iat","check_failed")}return d};async function aZ(a,b,c){let d=await aT(a,b,c);if(d.protectedHeader.crit?.includes("b64")&&!1===d.protectedHeader.b64)throw new aI.Dp("JWTs MUST NOT use unencoded payload");let e={payload:aY(d.protectedHeader,d.payload,c),protectedHeader:d.protectedHeader};return"function"==typeof b?{...e,key:d.key}:e}var a$=c(24738);async function a_({isGraphQL:a,payload:b,strategyName:c="local-jwt"}){if("object"!=typeof b?.config?.admin?.autoLogin||b.config.admin?.autoLogin.prefillOnly||!b?.config?.admin?.autoLogin||!b.config.admin?.autoLogin.email&&!b.config.admin?.autoLogin.username)return{user:null};let d=b.collections[b.config.admin.user],e={or:[]};b.config.admin?.autoLogin.email?e.or?.push({email:{equals:b.config.admin?.autoLogin.email}}):b.config.admin?.autoLogin.username&&e.or?.push({username:{equals:b.config.admin?.autoLogin.username}});let f=(await b.find({collection:d.config.slug,depth:a?0:d.config.auth.depth,limit:1,pagination:!1,where:e})).docs[0];return f?(f.collection=d.config.slug,f._strategy=c,{user:f}):{user:null}}let a0=async({headers:a,isGraphQL:b=!1,payload:c,strategyName:d="local-jwt"})=>{try{let e=(0,a$.p)({headers:a,payload:c});if(!e){if("true"!==a.get("DisableAutologin"))return await a_({isGraphQL:b,payload:c,strategyName:d});return{user:null}}let f=new TextEncoder().encode(c.secret),{payload:g}=await aZ(e,f),h=c.collections[g.collection],i=await c.findByID({id:g.id,collection:g.collection,depth:b?0:h.config.auth.depth});if(i&&(!h.config.auth.verify||i._verified)){if(h.config.auth.useSessions){if(!(i.sessions||[]).find(({id:a})=>a===g.sid)||!g.sid)return{user:null};i._sid=g.sid}return i.collection=h.config.slug,i._strategy=d,{user:i}}if("true"!==a.get("DisableAutologin"))return await a_({isGraphQL:b,payload:c,strategyName:d});return{user:null}}catch(e){if("true"!==a.get("DisableAutologin"))return await a_({isGraphQL:b,payload:c,strategyName:d});return{user:null}}};var a1=c(79748),a2=c(1708),a3=c(52385);function a4({addToImportMap:a,baseDir:b,collections:c,config:d,importMap:e,imports:f}){for(let g of c){if((0,a3.J)({addToImportMap:a,baseDir:b,config:d,fields:g.fields,importMap:e,imports:f}),a(g.admin?.components?.afterList),a(g.admin?.components?.listMenuItems),a(g.admin?.components?.afterListTable),a(g.admin?.components?.beforeList),a(g.admin?.components?.beforeListTable),a(g.admin?.components?.Description),a(g.admin?.components?.edit?.beforeDocumentControls),a(g.admin?.components?.edit?.editMenuItems),a(g.admin?.components?.edit?.PreviewButton),a(g.admin?.components?.edit?.PublishButton),a(g.admin?.components?.edit?.SaveButton),a(g.admin?.components?.edit?.SaveDraftButton),a(g.admin?.components?.edit?.Upload),g.upload?.admin?.components?.controls&&a(g.upload?.admin?.components?.controls),g.admin?.components?.views?.edit)for(let b of Object.values(g.admin?.components?.views?.edit))"Component"in b&&a(b?.Component),"actions"in b&&a(b?.actions),"tab"in b&&(a(b?.tab?.Component),a(b?.tab?.Pill));a(g.admin?.components?.views?.list?.Component),a(g.admin?.components?.views?.list?.actions)}}function a5({addToImportMap:a,baseDir:b,config:c,globals:d,importMap:e,imports:f}){for(let g of d)if((0,a3.J)({addToImportMap:a,baseDir:b,config:c,fields:g.fields,importMap:e,imports:f}),a(g.admin?.components?.elements?.Description),a(g.admin?.components?.elements?.PreviewButton),a(g.admin?.components?.elements?.PublishButton),a(g.admin?.components?.elements?.SaveButton),a(g.admin?.components?.elements?.SaveDraftButton),g.admin?.components?.views?.edit)for(let b of Object.values(g.admin?.components?.views?.edit))"Component"in b&&a(b?.Component),"actions"in b&&a(b?.actions),"tab"in b&&(a(b?.tab?.Component),a(b?.tab?.Pill))}function a6({addToImportMap:a,baseDir:b,config:c,importMap:d,imports:e}){if(a4({addToImportMap:a,baseDir:b,collections:c.collections,config:c,importMap:d,imports:e}),a5({addToImportMap:a,baseDir:b,config:c,globals:c.globals,importMap:d,imports:e}),c?.blocks){let f=Object.values(c.blocks);f?.length&&(0,a3.J)({addToImportMap:a,baseDir:b,config:c,fields:f,importMap:d,imports:e})}if("object"==typeof c.admin?.avatar&&a(c.admin?.avatar?.Component),a(c.admin?.components?.Nav),a(c.admin?.components?.header),a(c.admin?.components?.logout?.Button),a(c.admin?.components?.settingsMenu),a(c.admin?.components?.graphics?.Icon),a(c.admin?.components?.graphics?.Logo),a(c.admin?.components?.actions),a(c.admin?.components?.afterDashboard),a(c.admin?.components?.afterLogin),a(c.admin?.components?.afterNavLinks),a(c.admin?.components?.beforeDashboard),a(c.admin?.components?.beforeLogin),a(c.admin?.components?.beforeNavLinks),a(c.admin?.components?.providers),c.admin?.components?.views&&Object.keys(c.admin?.components?.views)?.length)for(let b in c.admin?.components?.views){let d=c.admin?.components?.views[b];a(d?.Component)}if(c?.admin?.importMap?.generators?.length)for(let f of c.admin.importMap.generators)f({addToImportMap:a,baseDir:b,config:c,importMap:d,imports:e});if(c?.admin?.dependencies)for(let b of Object.values(c.admin.dependencies))a(b.path)}var a7=c(63011);function a8(a,b){let c=a.replace(/\\/g,"/"),d=b.replace(/\\/g,"/");if(c.startsWith("./")){let a=d.startsWith("./")?d.substring(2):d;return`${c}${a}`}return g.posix.join(c,d)}function a9({importMap:a,importMapToBaseDirPath:b,imports:c,payloadComponent:d}){if(!d)return null;let{exportName:f,path:g}=(0,a7.R)(d);if(a[g+"#"+f])return null;let h=f+"_"+e.createHash("md5").update(g).digest("hex");if(a[g+"#"+f]=h,!(g.startsWith(".")||g.startsWith("/")))return c[h]={path:g,specifier:f},{path:g,specifier:f};{let a=a8(b,g);return c[h]={path:a,specifier:f},{path:a,specifier:f}}}function ba({baseDir:a,importMapPath:b}){let c=g.dirname(b),d=g.relative(c,a).replace(/\\/g,"/");return d?d.startsWith(".")||d.startsWith("/")||(d=`./${d}`):d="./",d.endsWith("/")||(d+="/"),d}async function bb(a){try{return await a1.access(a),!0}catch{return!1}}async function bc({adminRoute:a="/admin",importMapFile:b,rootDir:c}){let d;if(b?.length){if(!await bb(b))try{await a1.writeFile(b,"",{flag:"wx"})}catch(a){throw Error(`Could not find the import map file at ${b}${a instanceof Error&&a?.message?`: ${a.message}`:""}`)}d=b}else{let b=g.resolve(c,`app/(payload)${a}/`),e=g.resolve(c,`src/app/(payload)${a}/`);if(b&&await bb(b))d=g.resolve(b,"importMap.js"),await bb(d)||await a1.writeFile(d,"",{flag:"wx"});else if(e&&await bb(e))d=g.resolve(e,"importMap.js"),await bb(d)||await a1.writeFile(d,"",{flag:"wx"});else throw Error(`Could not find Payload import map folder. Looked in ${b} and ${e}`)}return d}async function bd(a,b){let c=b?.log??!0;c&&console.log("Generating import map");let d={},e={},f=a2.env.ROOT_DIR??a2.cwd(),g=a.admin.importMap.baseDir??a2.cwd(),h=await bc({adminRoute:a.routes.admin,importMapFile:a?.admin?.importMap?.importMapFile,rootDir:f}),i=ba({baseDir:g,importMapPath:h});a6({addToImportMap:a=>{if(a){if("object"!=typeof a&&"string"!=typeof a)throw console.error(a),Error("addToImportMap > Payload component must be an object or a string");if(Array.isArray(a))for(let b of a)a9({importMap:d,importMapToBaseDirPath:i,imports:e,payloadComponent:b});else a9({importMap:d,importMapToBaseDirPath:i,imports:e,payloadComponent:a})}},baseDir:a.admin.importMap.baseDir,config:a,importMap:d,imports:e}),await be({componentMap:d,force:b?.force,importMap:e,importMapFilePath:h,log:c})}async function be({componentMap:a,force:b,importMap:c,importMapFilePath:d,log:e}){let f=[];for(let[a,{path:b,specifier:d}]of Object.entries(c))f.push(`import { ${d} as ${a} } from '${b}'`);let g=[];for(let[b,c]of Object.entries(a))g.push(`  "${b}": ${c}`);let h=`${f.join("\n")}

export const importMap = {
${g.join(",\n")}
}
`;if(!b){let a=await a1.readFile(d,"utf-8");if(a?.trim()===h?.trim()){e&&console.log("No new imports found, skipping writing import map");return}}e&&console.log("Writing import map to",d),await a1.writeFile(d,h)}var bf=c(68656);let bg=async a=>{let b=a;try{let a,c;if(b.collection.config.hooks.beforeOperation?.length)for(let a of b.collection.config.hooks.beforeOperation)b=await a({args:b,collection:b.collection.config,context:b.req.context,operation:"countVersions",req:b.req})||b;let{collection:{config:d},disableErrors:e,overrideAccess:f,req:g,where:h}=b,{payload:i}=g;if(!f&&(a=await (0,K.m)({disableErrors:e,req:g},d.access.readVersions),!1===a))return{totalDocs:0};let j=(0,L.m)(h,a),k=(0,bf.c)(i.config,d,!0);return(0,N.D)({fields:k,payload:i,where:j}),await (0,M.d)({collectionConfig:d,overrideAccess:f,req:g,versionFields:k,where:h}),c=await i.db.countVersions({collection:d.slug,req:g,where:j}),c=await (0,T.E)({args:b,collection:d,operation:"countVersions",result:c})}catch(a){throw await (0,S.J)(b.req),a}};async function bh(a,b){let{collection:c,disableErrors:d,overrideAccess:e=!0,where:f}=b,g=a.collections[c];if(!g)throw new h.L(`The collection with slug ${String(c)} can't be found. Count Versions Operation.`);return bg({collection:g,disableErrors:d,overrideAccess:e,req:await (0,i.M)(b,a),where:f})}let bi={defaultFromAddress:"info@payloadcms.com",defaultFromName:"Payload"},bj=a=>{let b;return"string"==typeof a.to?b=a.to:Array.isArray(a.to)?b=a.to.map(a=>"string"==typeof a?a:a.address?a.address:"").join(", "):a.to?.address&&(b=a.to.address),b},bk=({payload:a})=>({name:"console",defaultFromAddress:bi.defaultFromAddress,defaultFromName:bi.defaultFromName,sendEmail:async b=>{let c=bj(b),d=`Email attempted without being configured. To: '${c}', Subject: '${b.subject}'`;return a.logger.info({msg:d}),Promise.resolve()}});var bl=c(27661),bm=c(82222),bn=c(35921),bo=c(46006),bp=c(16783);let bq=a=>({handleSchedules:async b=>{let c=b?.req??await (0,i.M)({},a);return await (0,bn.L6)({allQueues:b?.allQueues,queue:b?.queue,req:c})},queue:async b=>{let c;if(b.queue)c=b.queue;else if(b.workflow){let d=a.config.jobs?.workflows?.find(({slug:a})=>a===b.workflow);d?.queue&&(c=d.queue)}let d={input:b.input};return(c&&(d.queue=c),b.waitUntil&&(d.waitUntil=b.waitUntil?.toISOString()),b.workflow&&(d.workflowSlug=b.workflow),b.task&&(d.taskSlug=b.task),b.meta&&(d.meta=b.meta),a?.config?.jobs?.depth||a?.config?.jobs?.runHooks)?await a.create({collection:bm.SJ,data:d,depth:a.config.jobs.depth??0,req:b.req}):(0,bm.Sf)({config:a.config,doc:await a.db.create({collection:bm.SJ,data:d,req:b.req})})},run:async b=>{let c=b?.req??await (0,i.M)({},a);return await (0,bo.A)({allQueues:b?.allQueues,limit:b?.limit,overrideAccess:b?.overrideAccess!==!1,processingOrder:b?.processingOrder,queue:b?.queue,req:c,sequential:b?.sequential,silent:b?.silent,where:b?.where})},runByID:async b=>{let c=b.req??await (0,i.M)({},a);return await (0,bo.A)({id:b.id,overrideAccess:!1!==b.overrideAccess,req:c,silent:b.silent})},cancel:async b=>{let c=b.req??await (0,i.M)({},a),d=[b.where,{completedAt:{exists:!1}},{hasError:{not_equals:!0}}];b.queue&&d.push({queue:{equals:b.queue}}),await (0,bp.Y)({data:{completedAt:null,error:{cancelled:!0},hasError:!0,processing:!1,waitUntil:null},depth:0,disableTransaction:!0,req:c,returning:!1,where:{and:d}})},cancelByID:async b=>{let c=b.req??await (0,i.M)({},a);await (0,bp.l)({id:b.id,data:{completedAt:null,error:{cancelled:!0},hasError:!0,processing:!1,waitUntil:null},depth:0,disableTransaction:!0,req:c,returning:!1})}});var br=c(71574);function bs(){return"phase-production-build"===process.env.NEXT_PHASE||"build"===process.env.npm_lifecycle_event}var bt=c(92507),bu=c(10741);let bv={colorize:!0,ignore:"pid,hostname",translateTime:"SYS:HH:MM:ss"},bw=(0,bu.build)({...bv,destination:1,sync:!0}),bx=(0,bu.build)(bv),by=(a="payload",b)=>{if(!b)return(0,bt.pino)(bx);if("sync"===b)return(0,bt.pino)(bw);if(!("options"in b))return b;{let{destination:c,options:d}=b;return d.name||(d.name=a),d.enabled||(d.enabled="true"!==process.env.DISABLE_LOGGING),(0,bt.pino)(d,c)}};var bz=c(57801);let bA=a=>{(0,bz.BI)({event:{type:"server-init"},payload:a})};var bB=c(95625);let bC=(0,f.fileURLToPath)("file:///Users/Owner/my-project/.conductor/abuja-v1/node_modules/.pnpm/payload@3.60.0_bufferutil@4.0.9_graphql@16.11.0_typescript@5.7.2_utf-8-validate@6.0.5/node_modules/payload/dist/index.js"),bD=g.dirname(bC);class bE{auth=async a=>ax(this,a);authStrategies;blocks={};collections={};config;count=async a=>v(this,a);countGlobalVersions=async a=>af(this,a);countVersions=async a=>bh(this,a);create=async a=>z(this,a);crons=[];db;decrypt=at;destroy=async()=>{if(this.crons.length){let a=this.crons.splice(0,this.crons.length);await Promise.all(a.map(a=>a.stop()))}this.db?.destroy&&"function"==typeof this.db.destroy&&await this.db.destroy()};duplicate=async a=>E(this,a);email;encrypt=as;extensions;find=async a=>G(this,a);findByID=async a=>I(this,a);findDistinct=async a=>V(this,a);findGlobal=async a=>ah(this,a);findGlobalVersionByID=async a=>aj(this,a);findGlobalVersions=async a=>al(this,a);findVersionByID=async a=>X(this,a);findVersions=async a=>Z(this,a);forgotPassword=async a=>k(this,a);getAdminURL=()=>`${this.config.serverURL}${this.config.routes.admin}`;getAPIURL=()=>`${this.config.serverURL}${this.config.routes.api}`;globals;importMap;jobs=bq(this);logger;login=async a=>m(this,a);resetPassword=async a=>p(this,a);restoreGlobalVersion=async a=>an(this,a);restoreVersion=async a=>_(this,a);schema;secret;sendEmail;types;unlock=async a=>r(this,a);updateGlobal=async a=>ap(this,a);validationRules;verifyEmail=async a=>t(this,a);versions={};async _initializeCrons(){if(this.config.jobs.enabled&&this.config.jobs.autoRun&&!bs()){let a="* * * * *",b=10,c="function"==typeof this.config.jobs.autoRun?await this.config.jobs.autoRun(this):this.config.jobs.autoRun;await Promise.all(c.map(c=>{let d=new aq.l4(c.cron??a,async()=>{if(br.sO.shouldAutoSchedule&&!c.disableScheduling&&this.config.jobs.scheduling&&await this.jobs.handleSchedules({allQueues:c.allQueues,queue:c.queue}),br.sO.shouldAutoRun){if("function"==typeof this.config.jobs.shouldAutoRun&&!await this.config.jobs.shouldAutoRun(this))return void d.stop();await this.jobs.run({allQueues:c.allQueues,limit:c.limit??b,queue:c.queue,silent:c.silent})}},{protect:!0});this.crons.push(d)}))}}async bin({args:a,cwd:b,log:c}){return new Promise((e,f)=>{let h=(0,d.spawn)("node",[g.resolve(bD,"../bin.js"),...a],{cwd:b,stdio:c||void 0===c?"inherit":"ignore"});h.on("exit",a=>{e({code:a})}),h.on("error",a=>{f(a)})})}delete(a){return C(this,a)}async init(a){if(this.importMap=a.importMap,!a?.config)throw Error("Error: the payload config is required to initialize payload.");if(this.config=await a.config,this.logger=by("payload",this.config.logger),!this.config.secret)throw Error("Error: missing secret key. A secret key is needed to secure Payload.");for(let a of(this.secret=e.createHash("sha256").update(this.config.secret).digest("hex").slice(0,32),this.globals={config:this.config.globals},this.config.collections)){let b,c=({field:a})=>!!["array","blocks","group"].includes(a.type)||"tab"===a.type&&"name"in a||((0,bl.Z7)(a)&&"id"===a.name?(b=a.type,!0):void 0);(0,bB.m)({callback:c,config:this.config,fields:a.fields,parentIsLocalized:!1}),this.collections[a.slug]={config:a,customIDType:b}}if(this.blocks=this.config.blocks.reduce((a,b)=>(a[b.slug]=b,a),{}),this.db=this.config.db.init({payload:this}),this.db.payload=this,this.db?.init&&await this.db.init(),!a.disableDBConnect&&this.db.connect&&await this.db.connect(),this.config.email instanceof Promise){let a=await this.config.email;this.email=a({payload:this})}else this.config.email?this.email=this.config.email({payload:this}):("phase-production-build"!==process.env.NEXT_PHASE&&this.logger.warn("No email adapter provided. Email will be written to console. More info at https://payloadcms.com/docs/email/overview."),this.email=bk({payload:this}));if(!this.config.sharp&&this.config.collections.some(a=>a.upload.imageSizes||a.upload.formatOptions)&&this.logger.warn("Image resizing is enabled for one or more collections, but sharp not installed. Please install 'sharp' and pass into the config."),process.env.VERCEL){let a=this.config.collections.filter(a=>a.upload&&void 0===a.upload.adapter);if(a.length){let b=a.map(a=>a.slug).join(", ");this.logger.warn(`Collections with uploads enabled require a storage adapter when deploying to Vercel. Collection(s) without storage adapters: ${b}. See https://payloadcms.com/docs/upload/storage-adapters for more info.`)}}this.sendEmail=this.email.sendEmail,bA(this);let b=!1;this.authStrategies=this.config.collections.reduce((a,c)=>(c?.auth&&(c.auth.strategies.length>0&&a.push(...c.auth.strategies),c.auth?.useAPIKey&&a.push({name:`${c.slug}-api-key`,authenticate:ay(c)}),c.auth.disableLocalStrategy||b||(b=!0)),a),[]),b&&this.authStrategies.push({name:"local-jwt",authenticate:a0});try{a.disableOnInit||("function"==typeof a.onInit&&await a.onInit(this),"function"==typeof this.config.onInit&&await this.config.onInit(this))}catch(a){throw this.logger.error({err:a},"Error running onInit function"),a}return a.cron&&await this._initializeCrons(),this}update(a){return ac(this,a)}}new bE;let bF=async(a,b,c,d)=>{"function"==typeof b.db.destroy&&await b.db.destroy(),b.config=a,b.collections=a.collections.reduce((a,c)=>(a[c.slug]={config:c,customIDType:b.collections[c.slug]?.customIDType},a),{}),b.blocks=a.blocks.reduce((a,b)=>(a[b.slug]=b,a),{}),b.globals={config:a.globals},!1!==a.typescript.autoGenerate&&b.bin({args:["generate:types"],log:!1}),!0!==c&&a.admin?.importMap?.autoGenerate!==!1&&await bd(a,{log:!0}),b.db?.init&&await b.db.init(),!d?.disableDBConnect&&b.db.connect&&await b.db.connect({hotReload:!0}),global._payload_clientConfigs={},global._payload_schemaMap=null,global._payload_clientSchemaMap=null,global._payload_doNotCacheClientConfig=!0,global._payload_doNotCacheSchemaMap=!0,global._payload_doNotCacheClientSchemaMap=!0},bG=global._payload;bG||(bG=global._payload=new Map);let bH=async a=>{if(!a?.config)throw Error("Error: the payload config is required for getPayload to work.");let b=!1,c=bG.get(a.key??"default");if(c?b=!0:(c={initializedCrons:!!a.cron,payload:null,promise:null,reload:!1,ws:null},bG.set(a.key??"default",c)),b&&(a.disableOnInit=!0),c.payload){if(a.cron&&!c.initializedCrons&&(c.initializedCrons=!0,await c.payload._initializeCrons()),!0===c.reload){let b;c.reload=new Promise(a=>b=a);let d=await a.config;await bF(d,c.payload,!a.importMap,a),b()}return c.reload instanceof Promise&&await c.reload,a?.importMap&&(c.payload.importMap=a.importMap),c.payload}c.promise||(c.promise=new bE().init(a));try{c.payload=await c.promise,c.ws}catch(a){throw c.promise=null,a.payloadInitError=!0,a}return a?.importMap&&(c.payload.importMap=a.importMap),c.payload}},70151:(a,b,c)=>{"use strict";c.d(b,{l:()=>f,q:()=>e});var d=c(29617);let e="payload-locked-documents",f=a=>({slug:e,access:{create:d.I,delete:d.I,read:d.I,update:d.I},admin:{hidden:!0},fields:[{name:"document",type:"relationship",index:!0,maxDepth:0,relationTo:[...a.collections.map(a=>a.slug)]},{name:"globalSlug",type:"text",index:!0},{name:"user",type:"relationship",maxDepth:1,relationTo:a.collections.filter(a=>a.auth).map(a=>a.slug),required:!0}],lockDocuments:!1})},70263:(a,b,c)=>{let d=require;"function"==typeof d.addon?a.exports=d.addon.bind(d):a.exports=c(20939)},70359:(a,b,c)=>{"use strict";var d,e=c(84642),f=c(18864),g=c(90632),h=c(83166),i=c(60168),j=c(98053);c(99173);var k=c(3598),l=c(76413),m=c(64682);let o="content-length",p="x-amz-decoded-content-length";function q(){return(a,b)=>async c=>{let{request:d}=c;if(e.HttpRequest.isInstance(d)&&!(o in d.headers)&&!(p in d.headers)){let a="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";"function"!=typeof b?.logger?.warn||b.logger instanceof f.NoOpLogger?console.warn(a):b.logger.warn(a)}return a({...c})}}let r={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},s=a=>({applyToStack:a=>{a.add(q(),r)}}),t=a=>(b,c)=>async d=>{let e=await a.region(),f=a.region,g=()=>{};c.__s3RegionRedirect&&(Object.defineProperty(a,"region",{writable:!1,value:async()=>c.__s3RegionRedirect}),g=()=>Object.defineProperty(a,"region",{writable:!0,value:f}));try{let f=await b(d);if(c.__s3RegionRedirect){g();let b=await a.region();if(e!==b)throw Error("Region was not restored following S3 region redirect.")}return f}catch(a){throw g(),a}},u={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function v(a){return(b,c)=>async d=>{try{return await b(d)}catch(e){if(a.followRegionRedirects){let f=e?.$metadata?.httpStatusCode,g="HeadBucketCommand"===c.commandName,h=e?.$response?.headers?.["x-amz-bucket-region"];if(h&&(301===f||400===f&&(e?.name==="IllegalLocationConstraintException"||g))){try{let b=h;c.logger?.debug(`Redirecting from ${await a.region()} to ${b}`),c.__s3RegionRedirect=b}catch(a){throw Error("Region redirect failed: "+a)}return b(d)}}throw e}}}let w={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},x=a=>({applyToStack:b=>{b.add(v(a),w),b.addRelativeTo(t(a),u)}}),y=a=>(a,b)=>async c=>{let d=await a(c),{response:g}=d;if(e.HttpResponse.isInstance(g)&&g.headers.expires){g.headers.expiresstring=g.headers.expires;try{f.parseRfc7231DateTime(g.headers.expires)}catch(a){b.logger?.warn(`AWS SDK Warning for ${b.clientName}::${b.commandName} response parsing (${g.headers.expires}): ${a}`),delete g.headers.expires}}return d},z={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},A=a=>({applyToStack:a=>{a.addRelativeTo(y(),z)}});class B{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(a={}){this.data=a}get(a){let b=this.data[a];if(b)return b}set(a,b){return this.data[a]=b,b}delete(a){delete this.data[a]}async purgeExpired(){let a=Date.now();if(!(this.lastPurgeTime+B.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>a))for(let b in this.data){let c=this.data[b];if(!c.isRefreshing){let d=await c.identity;d.expiration&&d.expiration.getTime()<a&&delete this.data[b]}}}}class C{_identity;isRefreshing;accessed;constructor(a,b=!1,c=Date.now()){this._identity=a,this.isRefreshing=b,this.accessed=c}get identity(){return this.accessed=Date.now(),this._identity}}class D{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(a,b=new B){this.createSessionFn=a,this.cache=b}async getS3ExpressIdentity(a,b){let c=b.Bucket,{cache:d}=this,e=d.get(c);return e?e.identity.then(a=>(a.expiration?.getTime()??0)<Date.now()?d.set(c,new C(this.getIdentity(c))).identity:((a.expiration?.getTime()??0)<Date.now()+D.REFRESH_WINDOW_MS&&!e.isRefreshing&&(e.isRefreshing=!0,this.getIdentity(c).then(a=>{d.set(c,new C(Promise.resolve(a)))})),a)):d.set(c,new C(this.getIdentity(c))).identity}async getIdentity(a){await this.cache.purgeExpired().catch(a=>{console.warn("Error while clearing expired entries in S3ExpressIdentityCache: \n"+a)});let b=await this.createSessionFn(a);if(!b.Credentials?.AccessKeyId||!b.Credentials?.SecretAccessKey)throw Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:b.Credentials.AccessKeyId,secretAccessKey:b.Credentials.SecretAccessKey,sessionToken:b.Credentials.SessionToken,expiration:b.Credentials.Expiration?new Date(b.Credentials.Expiration):void 0}}}let E="Directory",F="S3Express",G="sigv4-s3express",H="X-Amz-S3session-Token",I=H.toLowerCase(),J="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",K="s3_disable_express_session_auth",L={environmentVariableSelector:a=>h.booleanSelector(a,J,h.SelectorType.ENV),configFileSelector:a=>h.booleanSelector(a,K,h.SelectorType.CONFIG),default:!1};class M extends g.SignatureV4{async signWithCredentials(a,b,c){let d=N(b);a.headers[I]=b.sessionToken;let e=this;return O(e,d),e.signRequest(a,c??{})}async presignWithCredentials(a,b,c){let d=N(b);delete a.headers[I],a.headers[H]=b.sessionToken,a.query=a.query??{},a.query[H]=b.sessionToken;let e=this;return O(e,d),this.presign(a,c)}}function N(a){return{accessKeyId:a.accessKeyId,secretAccessKey:a.secretAccessKey,expiration:a.expiration}}function O(a,b){let c=setTimeout(()=>{throw Error("SignatureV4S3Express credential override was created but not called.")},10),d=a.credentialProvider,e=()=>(clearTimeout(c),a.credentialProvider=d,Promise.resolve(b));a.credentialProvider=e}let P=a=>(b,c)=>async d=>{if(c.endpointV2){let b=c.endpointV2,f=b.properties?.authSchemes?.[0]?.name===G;if((b.properties?.backend===F||b.properties?.bucketType===E)&&(i.setFeature(c,"S3_EXPRESS_BUCKET","J"),c.isS3ExpressBucket=!0),f){let b=d.input.Bucket;if(b){let f=await a.s3ExpressIdentityProvider.getS3ExpressIdentity(await a.credentials(),{Bucket:b});c.s3ExpressIdentity=f,e.HttpRequest.isInstance(d.request)&&f.sessionToken&&(d.request.headers[I]=f.sessionToken)}}}return b(d)},Q={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},R=a=>({applyToStack:b=>{b.add(P(a),Q)}}),S=async(a,b,c,d)=>{let e=await d.signWithCredentials(c,a,{});if(e.headers["X-Amz-Security-Token"]||e.headers["x-amz-security-token"])throw Error("X-Amz-Security-Token must not be set for s3-express requests.");return e},T=a=>a=>{throw a},U=(a,b)=>{},V=j.httpSigningMiddlewareOptions,W=a=>(b,c)=>async d=>{let f;if(!e.HttpRequest.isInstance(d.request))return b(d);let g=k.getSmithyContext(c).selectedHttpAuthScheme;if(!g)throw Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:h={}},identity:i,signer:j}=g;f=c.s3ExpressIdentity?await S(c.s3ExpressIdentity,h,d.request,await a.signer()):await j.sign(d.request,i,h);let l=await b({...d,request:f}).catch((j.errorHandler||T)(h));return(j.successHandler||U)(l.response,h),l},X=a=>({applyToStack:b=>{b.addRelativeTo(W(a),j.httpSigningMiddlewareOptions)}}),Y=(a,{session:b})=>{let[c,d]=b,{forcePathStyle:e,useAccelerateEndpoint:f,disableMultiregionAccessPoints:g,followRegionRedirects:h,s3ExpressIdentityProvider:i,bucketEndpoint:j}=a;return Object.assign(a,{forcePathStyle:e??!1,useAccelerateEndpoint:f??!1,disableMultiregionAccessPoints:g??!1,followRegionRedirects:h??!1,s3ExpressIdentityProvider:i??new D(async a=>c().send(new d({Bucket:a}))),bucketEndpoint:j??!1})},Z={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},$=3e3,_=a=>(b,c)=>async d=>{let f=await b(d),{response:g}=f;if(!e.HttpResponse.isInstance(g))return f;let{statusCode:h,body:i}=g;if(h<200||h>=300||"function"!=typeof i?.stream&&"function"!=typeof i?.pipe&&"function"!=typeof i?.tee)return f;let j=i,k=i;!i||"object"!=typeof i||i instanceof Uint8Array||([j,k]=await l.splitStream(i)),g.body=k;let m=await aa(j,{streamCollector:async a=>l.headStream(a,$)});"function"==typeof j?.destroy&&j.destroy();let o=a.utf8Encoder(m.subarray(m.length-16));if(0===m.length&&Z[c.commandName]){let a=Error("S3 aborted request");throw a.name="InternalError",a}return o&&o.endsWith("</Error>")&&(g.statusCode=400),f},aa=(a=new Uint8Array,b)=>a instanceof Uint8Array?Promise.resolve(a):b.streamCollector(a)||Promise.resolve(new Uint8Array),ab={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},ac=a=>({applyToStack:b=>{b.addRelativeTo(_(a),ab)}});function ad(a){return(b,c)=>async d=>{if(a.bucketEndpoint){let a=c.endpointV2;if(a){let b=d.input.Bucket;if("string"==typeof b)try{let d=new URL(b);c.endpointV2={...a,url:d}}catch(d){let a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${b} could not be parsed as URL.`;throw c.logger?.constructor?.name==="NoOpLogger"?console.warn(a):c.logger?.warn?.(a),d}}}return b(d)}}let ae={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function af({bucketEndpoint:a}){return b=>async c=>{let{input:{Bucket:d}}=c;if(!a&&"string"==typeof d&&!m.validate(d)&&d.indexOf("/")>=0){let a=Error(`Bucket name shouldn't contain '/', received '${d}'`);throw a.name="InvalidBucketName",a}return b({...c})}}let ag={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},ah=a=>({applyToStack:b=>{b.add(af(a),ag),b.addRelativeTo(ad(a),ae)}});b.nr=L,d=B,d=C,d=D,d=M,d=q,d=r,b.GS=s,b._W=x,b.kH=A,b.Zu=X,b.GE=R,b.Cg=ac,b.Br=ah,d=t,d=u,d=v,d=w,b.ri=Y,d=y,d=z,d=W,d=V,d=P,d=Q,d=_,d=ab,d=af,d=ag},70366:(a,b,c)=>{"use strict";function d(a){return a instanceof Buffer?Buffer.from(a):new a.constructor(a.buffer.slice(),a.byteOffset,a.length)}c.d(b,{Zt:()=>i});let e=new Map;e.set(Date,a=>new Date(a)),e.set(Map,(a,b)=>new Map(g(Array.from(a),b))),e.set(Set,(a,b)=>new Set(g(Array.from(a),b))),e.set(RegExp,a=>new RegExp(a.source,a.flags));let f=null;function g(a,b){let c=Object.keys(a),g=Array(c.length);for(let h=0;h<c.length;h++){let i=c[h],j=a[i];"object"!=typeof j||null===j?g[i]=j:j instanceof RegExp?g[i]=new RegExp(j.source,j.flags):j.constructor!==Object&&(f=e.get(j.constructor))?g[i]=f(j,b):ArrayBuffer.isView(j)?g[i]=d(j):g[i]=b(j)}return g}let h=a=>{if("object"!=typeof a||null===a)return a;if(Array.isArray(a))return g(a,h);if(a instanceof RegExp)return new RegExp(a.source,a.flags);if(a.constructor!==Object&&(f=e.get(a.constructor)))return f(a,h);let b={};for(let c in a){if(!1===Object.hasOwnProperty.call(a,c))continue;let g=a[c];"object"!=typeof g||null===g?b[c]=g:g instanceof RegExp?b[c]=new RegExp(g.source,g.flags):g.constructor!==Object&&(f=e.get(g.constructor))?b[c]=f(g,h):ArrayBuffer.isView(g)?b[c]=d(g):b[c]=h(g)}return b};function i(a,b=!1){if("object"!=typeof a||null===a)return a;{if(Array.isArray(a))return a.map(a=>"object"!=typeof a||null===a?a:i(a,b));if(a instanceof Date)return new Date(a);let c={};for(let d in a){let e=a[d];b&&void 0===e||(c[d]="object"!=typeof e||null===e?e:i(e,b))}return c}}},70466:(a,b,c)=>{"use strict";c.d(b,{U9:()=>e});var d=c(71540);function e(a){return(0,d.ll)`count(${a||d.ll.raw("*")})`.mapWith(Number)}},70574:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.sdkStreamMixin=void 0;let d=c(20041),e=c(59213),f=c(27910),g=c(87324),h="The stream has already been transformed.";b.sdkStreamMixin=a=>{if(!(a instanceof f.Readable))try{return(0,g.sdkStreamMixin)(a)}catch(c){let b=a?.__proto__?.constructor?.name||a;throw Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${b}`)}let b=!1,c=async()=>{if(b)throw Error(h);return b=!0,await (0,d.streamCollector)(a)};return Object.assign(a,{transformToByteArray:c,transformToString:async a=>{let b=await c();return void 0===a||Buffer.isEncoding(a)?(0,e.fromArrayBuffer)(b.buffer,b.byteOffset,b.byteLength).toString(a):new TextDecoder(a).decode(b)},transformToWebStream:()=>{if(b)throw Error(h);if(null!==a.readableFlowing)throw Error("The stream has been consumed by other callbacks.");if("function"!=typeof f.Readable.toWeb)throw Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return b=!0,f.Readable.toWeb(a)}})}},70612:(a,b,c)=>{"use strict";a.exports=i;let{DATE_FORMAT:d,DATE_FORMAT_SIMPLE:e}=c(3612),f=c(31297),g=c(54872),h=c(24797);function i(a,b=!1){if(!1===b)return a;let c=g(a);if(!h(c))return a;if(!0===b)return f(c,e);let j=b.toUpperCase();if("SYS:STANDARD"===j)return f(c,d);let k=j.substr(0,4);return"SYS:"===k||"UTC:"===k?"UTC:"===k?f(c,b):f(c,b.slice(4)):f(c,`UTC:${b}`)}},70764:(a,b,c)=>{"use strict";var d,e=c(65360),f=c(16152),g=c(98053),h=c(3598),i=c(88884);let j=async a=>{let b=a?.Bucket||"";if("string"==typeof a.Bucket&&(a.Bucket=b.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),p(b)){if(!0===a.ForcePathStyle)throw Error("Path-style addressing cannot be used with ARN buckets")}else o(b)&&(-1===b.indexOf(".")||String(a.Endpoint).startsWith("http:"))&&b.toLowerCase()===b&&!(b.length<3)||(a.ForcePathStyle=!0);return a.DisableMultiRegionAccessPoints&&(a.disableMultiRegionAccessPoints=!0,a.DisableMRAP=!0),a},k=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,l=/(\d+\.){3}\d+/,m=/\.\./,o=a=>k.test(a)&&!l.test(a)&&!m.test(a),p=a=>{let[b,c,d,,,e]=a.split(":"),f="arn"===b&&a.split(":").length>=6,g=!!(f&&c&&d&&e);if(f&&!g)throw Error(`Invalid ARN: ${a} was an invalid ARN.`);return g},q=(a,b,c)=>{let d=async()=>{let d=c[a]??c[b];return"function"==typeof d?d():d};return"credentialScope"===a||"CredentialScope"===b?async()=>{let a="function"==typeof c.credentials?await c.credentials():c.credentials;return a?.credentialScope??a?.CredentialScope}:"accountId"===a||"AccountId"===b?async()=>{let a="function"==typeof c.credentials?await c.credentials():c.credentials;return a?.accountId??a?.AccountId}:"endpoint"===a||"endpoint"===b?async()=>{if(!1===c.isCustomEndpoint)return;let a=await d();if(a&&"object"==typeof a){if("url"in a)return a.url.href;if("hostname"in a){let{protocol:b,hostname:c,port:d,path:e}=a;return`${b}//${c}${d?":"+d:""}${e}`}}return a}:d},r=a=>"object"==typeof a?"url"in a?f.parseUrl(a.url):a:f.parseUrl(a),s=async(a,b,c,d)=>{if(!c.isCustomEndpoint){let a;(a=c.serviceConfiguredEndpoint?await c.serviceConfiguredEndpoint():await e.getEndpointFromConfig(c.serviceId))&&(c.endpoint=()=>Promise.resolve(r(a)),c.isCustomEndpoint=!0)}let f=await t(a,b,c);if("function"!=typeof c.endpointProvider)throw Error("config.endpointProvider is not set.");return c.endpointProvider(f,d)},t=async(a,b,c)=>{let d={},e=b?.getEndpointParameterInstructions?.()||{};for(let[b,f]of Object.entries(e))switch(f.type){case"staticContextParams":d[b]=f.value;break;case"contextParams":d[b]=a[f.name];break;case"clientContextParams":case"builtInParams":d[b]=await q(f.name,b,c)();break;case"operationContextParams":d[b]=f.get(a);break;default:throw Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(f))}return 0===Object.keys(e).length&&Object.assign(d,c),"s3"===String(c.serviceId).toLowerCase()&&await j(d),d},u=({config:a,instructions:b})=>(c,d)=>async e=>{a.isCustomEndpoint&&g.setFeature(d,"ENDPOINT_OVERRIDE","N");let f=await s(e.input,{getEndpointParameterInstructions:()=>b},{...a},d);d.endpointV2=f,d.authSchemes=f.properties?.authSchemes;let i=d.authSchemes?.[0];if(i){d.signing_region=i.signingRegion,d.signing_service=i.signingName;let a=h.getSmithyContext(d),b=a?.selectedHttpAuthScheme?.httpAuthOption;b&&(b.signingProperties=Object.assign(b.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return c({...e})},v={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:i.serializerMiddlewareOption.name},w=(a,b)=>({applyToStack:c=>{c.addRelativeTo(u({config:a,instructions:b}),v)}}),x=a=>{let b,c=a.tls??!0,{endpoint:d,useDualstackEndpoint:f,useFipsEndpoint:g}=a,i=Object.assign(a,{endpoint:null!=d?async()=>r(await h.normalizeProvider(d)()):void 0,tls:c,isCustomEndpoint:!!d,useDualstackEndpoint:h.normalizeProvider(f??!1),useFipsEndpoint:h.normalizeProvider(g??!1)});return i.serviceConfiguredEndpoint=async()=>(a.serviceId&&!b&&(b=e.getEndpointFromConfig(a.serviceId)),b),i},y=a=>{let{endpoint:b}=a;return void 0===b&&(a.endpoint=async()=>{throw Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),a};d=u,d=v,d=s,b.rD=w,b.Co=x,d=y,b.xg=t,d=r},70867:(a,b,c)=>{"use strict";c.d(b,{s:()=>m});var d=c(50531),e=c(7402),f=c(8164),g=c(77262),h=c(579),i=c(68057),j=c(9742),k=c(27613),l=c(31212);class m extends l.t{async serializeRequest(a,b,c){let f,g={...b??{}},i=this.serializer,j={},l={},m=await c.endpoint(),o=d.l.of(a?.input),p=o.getSchema(),q=!1,r=new h.K({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:j,headers:l,body:void 0});if(m){this.updateServiceEndpoint(r,m),this.setHostPrefix(r,a,g);let b=(0,e.c)(a.traits);if(b.http){r.method=b.http[0];let[a,c]=b.http[1].split("?");"/"==r.path?r.path=a:r.path+=a,Object.assign(j,Object.fromEntries(new URLSearchParams(c??"")))}}for(let[a,b]of o.structIterator()){let c=b.getMergedTraits()??{},d=g[a];if(null!=d)if(c.httpPayload)b.isStreaming()?b.isStructSchema()?g[a]&&(f=await this.serializeEventStream({eventStream:g[a],requestSchema:o})):f=d:(i.write(b,d),f=i.flush()),delete g[a];else if(c.httpLabel){i.write(b,d);let c=i.flush();r.path.includes(`{${a}+}`)?r.path=r.path.replace(`{${a}+}`,c.split("/").map(k.$).join("/")):r.path.includes(`{${a}}`)&&(r.path=r.path.replace(`{${a}}`,(0,k.$)(c))),delete g[a]}else if(c.httpHeader)i.write(b,d),l[c.httpHeader.toLowerCase()]=String(i.flush()),delete g[a];else if("string"==typeof c.httpPrefixHeaders){for(let[a,e]of Object.entries(d)){let d=c.httpPrefixHeaders+a;i.write([b.getValueSchema(),{httpHeader:d}],e),l[d.toLowerCase()]=i.flush()}delete g[a]}else c.httpQuery||c.httpQueryParams?(this.serializeQuery(b,d,j),delete g[a]):q=!0}return q&&g&&(i.write(p,g),f=i.flush()),r.headers=l,r.query=j,r.body=f,r}serializeQuery(a,b,c){let d=this.serializer,e=a.getMergedTraits();if(e.httpQueryParams){for(let[d,f]of Object.entries(b))if(!(d in c)){let b=a.getValueSchema();Object.assign(b.getMergedTraits(),{...e,httpQuery:d,httpQueryParams:void 0}),this.serializeQuery(b,f,c)}return}if(a.isListSchema()){let f=!!a.getMergedTraits().sparse,g=[];for(let c of b){d.write([a.getValueSchema(),e],c);let b=d.flush();(f||void 0!==b)&&g.push(b)}c[e.httpQuery]=g}else d.write([a,e],b),c[e.httpQuery]=d.flush()}async deserializeResponse(a,b,c){let e=this.deserializer,f=d.l.of(a.output),g={};if(c.statusCode>=300){let d=await (0,j.P)(c.body,b);throw d.byteLength>0&&Object.assign(g,await e.read(15,d)),await this.handleError(a,b,c,g,this.deserializeMetadata(c)),Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let a in c.headers){let b=c.headers[a];delete c.headers[a],c.headers[a.toLowerCase()]=b}let h=await this.deserializeHttpMessage(f,b,c,g);if(h.length){let a=await (0,j.P)(c.body,b);if(a.byteLength>0){let b=await e.read(f,a);for(let a of h)g[a]=b[a]}}return g.$metadata=this.deserializeMetadata(c),g}async deserializeHttpMessage(a,b,c,e,h){let k;k=e instanceof Set?h:e;let l=this.deserializer,m=d.l.of(a),o=[];for(let[a,d]of m.structIterator()){let e=d.getMemberTraits();if(e.httpPayload){if(d.isStreaming())d.isStructSchema()?k[a]=await this.deserializeEventStream({response:c,responseSchema:m}):k[a]=(0,i.c)(c.body);else if(c.body){let e=await (0,j.P)(c.body,b);e.byteLength>0&&(k[a]=await l.read(d,e))}}else if(e.httpHeader){let b=String(e.httpHeader).toLowerCase(),h=c.headers[b];if(null!=h)if(d.isListSchema()){let c=d.getValueSchema();c.getMergedTraits().httpHeader=b;let e=[];for(let a of c.isTimestampSchema()&&4===c.getSchema()?(0,f.U)(h,",",2):(0,g.G)(h))e.push(await l.read(c,a.trim()));k[a]=e}else k[a]=await l.read(d,h)}else if(void 0!==e.httpPrefixHeaders){for(let[b,f]of(k[a]={},Object.entries(c.headers)))if(b.startsWith(e.httpPrefixHeaders)){let c=d.getValueSchema();c.getMergedTraits().httpHeader=b,k[a][b.slice(e.httpPrefixHeaders.length)]=await l.read(c,f)}}else e.httpResponseCode?k[a]=c.statusCode:o.push(a)}return o}}},71e3:(a,b,c)=>{"use strict";c.d(b,{e:()=>d,j:()=>e});let d=a=>({setHttpHandler(b){a.httpHandler=b},httpHandler:()=>a.httpHandler,updateHttpClientConfig(b,c){a.httpHandler?.updateHttpClientConfig(b,c)},httpHandlerConfigs:()=>a.httpHandler.httpHandlerConfigs()}),e=a=>({httpHandler:a.httpHandler()})},71179:(a,b,c)=>{var d=c(44019);function e(a){var b=function(){return b.called?b.value:(b.called=!0,b.value=a.apply(this,arguments))};return b.called=!1,b}function f(a){var b=function(){if(b.called)throw Error(b.onceError);return b.called=!0,b.value=a.apply(this,arguments)};return b.onceError=(a.name||"Function wrapped with `once`")+" shouldn't be called more than once",b.called=!1,b}a.exports=d(e),a.exports.strict=d(f),e.proto=e(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return e(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return f(this)},configurable:!0})})},71292:(a,b,c)=>{"use strict";c.d(b,{d:()=>l});var d=c(24325),e=c(30520),f=c(27661),g=c(59841),h=c(4619),i=c(35593);function j({collectionSlug:a,fields:b,globalSlug:c,incomingPath:d,locale:e,overrideAccess:g=!1,parentIsLocalized:h,payload:k}){let l=d.split("."),m=k.config.localization,o=[{collectionSlug:a,complete:!1,field:void 0,fields:b,globalSlug:c,invalid:!1,parentIsLocalized:h,path:""}];for(let a=0;a<l.length;a+=1){let b=l[a],d=o.find(({complete:a})=>!a);if(d){let p,q,{path:r}=d,s=r?`${r}.${b}`:b,t=h;if(d?.field?.type==="blocks")if("blockType"===b)q={name:"blockType",type:"text"};else for(let a of d.field.blockReferences??d.field.blocks){let c;if(q=(c="string"==typeof a?k.blocks[a]:a).flattenedFields.find(a=>a.name===b))break}else p=d?.field&&"flattenedFields"in d.field?d.field.flattenedFields:d.fields,t=h||d.field?.localized,q=p.find(a=>a.name===b);if(d.field=q,"globalType"===s&&c)return d.path=s,d.complete=!0,d.field={name:"globalType",type:"text"},o;if("relationTo"===s)return d.path=s,d.complete=!0,d.field={name:"relationTo",type:"select",options:Object.keys(k.collections)},o;if(!q&&"id"===s&&a===l.length-1)return d.path=s,d.field={name:"id",type:k.db.defaultIDType},d.complete=!0,o;if(q){"hidden"in q&&q.hidden&&!g&&(d.invalid=!0);let b=l[a+1],h=m&&m.localeCodes.includes(b);switch(h?(a+=1,s=`${s}.${b}`):m&&(0,f.Cd)({field:q,parentIsLocalized:t})&&(s=`${s}.${e}`),q.type){case"join":case"relationship":case"upload":if("join"!==q.type&&"string"!=typeof q.relationTo)d.path=l.join("."),[q.name,"relationTo","value"].includes(l.at(-1))?d.complete=!0:d.invalid=!0;else{d.complete=!0,d.path=s;let b=l.slice(h?a+2:a+1).join(".");if(b){let a;if("join"===q.type){if(Array.isArray(q.collection))throw new i.L("Not supported");a=k.collections[q.collection].config}else a=k.collections[q.relationTo].config;o=[...o,...j({collectionSlug:a.slug,fields:a.flattenedFields,globalSlug:c,incomingPath:b,locale:e,parentIsLocalized:!1,payload:k})]}return o}break;case"json":case"richText":{let b=l.slice(a+1).join(".");return l.forEach(a=>{/^\w+(?:\.\w+)*$/.test(a)||(d.invalid=!0)}),d.complete=!0,d.path=b?`${s}.${b}`:s,o}default:a+1===l.length&&(d.complete=!0),d.path=s}}else{d.invalid=!0,d.path=s;break}}}return o}async function k({collectionConfig:a,constraint:b,errors:c,fields:d,globalConfig:e,operator:i,overrideAccess:k,parentIsLocalized:m,path:o,policies:p,polymorphicJoin:q,req:r,val:s,versionFields:t}){let u;u="_id"===o?"id":o.replace(/__/g,".");let v=[],{slug:w}=a||e,x={};e&&!p.globals[w]&&(p.globals[w]=await (0,g.U)({type:"global",blockPolicies:x,entity:e,operations:["read"],req:r})),"id"!==u&&(v=j({collectionSlug:a?.slug,fields:d,globalSlug:e?.slug,incomingPath:u,locale:r.locale,overrideAccess:k,parentIsLocalized:m,payload:r.payload}));let y=[];if(v.at(-1)?.path==="id"){let a=v.at(-2)?.field;a&&("relationship"===a.type||"upload"===a.type)&&"string"==typeof a.relationTo&&v.pop()}y.push(...v.map(async({collectionSlug:d,field:j,invalid:m,path:u},w)=>{if(m){q||c.push({path:u});return}if("join"===j.type&&u===o&&(b[`${u}.id`]=b[u],delete b[u]),"virtual"in j&&j.virtual&&!0===j.virtual&&c.push({path:u}),!q||"relationTo"!==u){if(!k&&(0,f.Z7)(j)){let b;d&&(p.collections[d]||(p.collections[d]=await (0,g.U)({type:"collection",blockPolicies:x,entity:r.payload.collections[d].config,operations:["read"],req:(0,h.i)(r,"transactionID")})),["hash","salt"].includes(o)&&a.auth&&!a.auth?.disableLocalStrategy&&c.push({path:o}));let f=u;u.endsWith(`.${r.locale}`)&&(f=u.slice(0,-(r.locale.length+1))),("relationship"===j.type||"upload"===j.type)&&Array.isArray(j.relationTo)&&(f=f.replace(".value",""));let i=e?"globals":"collections",k=d||e.slug,l=f.split(".");t?(b=p[i][k].fields,("parent"===l[0]||"version"===l[0]||"snapshot"===l[0]||"latest"===l[0])&&l.shift()):b=p[i][k].fields,l.length&&(l.forEach(a=>{b[a]&&(b="fields"in b[a]?b[a].fields:b[a])}),b?.read?.permission||c.push({path:f}))}w>1&&v.slice(1).reverse().forEach(({collectionSlug:a,path:b},d)=>{0===d&&y.push(l({collectionConfig:r.payload.collections[a].config,errors:c,globalConfig:void 0,overrideAccess:k,policies:p,req:r,where:{[b]:{[i]:s}}}))})}})),await Promise.all(y)}async function l({collectionConfig:a,errors:b=[],globalConfig:c,overrideAccess:f,policies:g={collections:{},globals:{}},polymorphicJoin:h,req:i,versionFields:j,where:m}){let o=j||(c||a).flattenedFields;if("object"==typeof m){let p=[];for(let d in m){let q=m[d];if(("and"===d||"or"===d)&&Array.isArray(q))for(let d of q)a?p.push(l({collectionConfig:a,errors:b,overrideAccess:f,policies:g,polymorphicJoin:h,req:i,versionFields:j,where:d})):p.push(l({errors:b,globalConfig:c,overrideAccess:f,policies:g,polymorphicJoin:h,req:i,versionFields:j,where:d}));else if(!Array.isArray(q))for(let l in q){let r=q[l];e.L.has(l)&&p.push(k({collectionConfig:a,constraint:m,errors:b,fields:o,globalConfig:c,operator:l,overrideAccess:f,path:d,policies:g,polymorphicJoin:h,req:i,val:r,versionFields:j}))}}if(await Promise.all(p),b.length>0)throw new d.l(b)}}},71347:(a,b,c)=>{"use strict";c.r(b),c.d(b,{CONFIG_PREFIX_SEPARATOR:()=>h.Q,DEFAULT_PROFILE:()=>e.KG,ENV_PROFILE:()=>e.Ch,externalDataInterceptor:()=>k.Z,getHomeDir:()=>d.R,getProfileName:()=>e.Bz,getSSOTokenFilepath:()=>f.C,getSSOTokenFromFile:()=>g.v,loadSharedConfigFiles:()=>h.p,loadSsoSessionData:()=>i.q,parseKnownFiles:()=>j.Y});var d=c(5313),e=c(36137),f=c(62261),g=c(27809),h=c(67445),i=c(71374),j=c(89010),k=c(31101)},71374:(a,b,c)=>{"use strict";c.d(b,{q:()=>k});var d=c(85540),e=c(84386),f=c(51126);let g=a=>Object.entries(a).filter(([a])=>a.startsWith(e.I.SSO_SESSION+f.Q)).reduce((a,[b,c])=>({...a,[b.substring(b.indexOf(f.Q)+1)]:c}),{});var h=c(28096),i=c(81473);let j=()=>({}),k=async(a={})=>(0,i.$H)(a.configFilepath??(0,d.g)()).then(h.A).then(g).catch(j)},71394:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.assignDefaults=void 0;let d=c(86397),e=c(49943);function f(a,b,c){let{gen:f,compositeRule:g,data:h,opts:i}=a;if(void 0===c)return;let j=(0,d._)`${h}${(0,d.getProperty)(b)}`;if(g)return void(0,e.checkStrictMode)(a,`default is ignored for: ${j}`);let k=(0,d._)`${j} === undefined`;"empty"===i.useDefaults&&(k=(0,d._)`${k} || ${j} === null || ${j} === ""`),f.if(k,(0,d._)`${j} = ${(0,d.stringify)(c)}`)}b.assignDefaults=function(a,b){let{properties:c,items:d}=a.schema;if("object"===b&&c)for(let b in c)f(a,b,c[b].default);else"array"===b&&Array.isArray(d)&&d.forEach((b,c)=>f(a,c,b.default))}},71476:(a,b,c)=>{"use strict";c.d(b,{k:()=>i});var d=c(67821),e=c(51126);let f="AWS_ENDPOINT_URL",g="endpoint_url",h=a=>({environmentVariableSelector:b=>{let c=b[[f,...a.split(" ").map(a=>a.toUpperCase())].join("_")];if(c)return c;let d=b[f];if(d)return d},configFileSelector:(b,c)=>{if(c&&b.services){let d=c[["services",b.services].join(e.Q)];if(d){let b=d[[a.split(" ").map(a=>a.toLowerCase()).join("_"),g].join(e.Q)];if(b)return b}}let d=b[g];if(d)return d},default:void 0}),i=async a=>(0,d.Z)(h(a??""))()},71487:(a,b,c)=>{"use strict";c.d(b,{m:()=>d});class d{async sign(a,b,c){return a}}},71500:(a,b,c)=>{"use strict";c.d(b,{I:()=>e,w:()=>d});let d={warningEmitted:!1},e=a=>{a&&!d.warningEmitted&&18>parseInt(a.substring(1,a.indexOf(".")))&&(d.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}},71540:(a,b,c)=>{"use strict";let d,e;c.d(b,{Iw:()=>E,Or:()=>G,Xs:()=>z,DJ:()=>y,Ss:()=>J,Ct:()=>H,eG:()=>B,qt:()=>w,ll:()=>F});var f=c(37593),g=c(54605);class h extends g.pe{static [f.i]="PgEnumObjectColumnBuilder";constructor(a,b){super(a,"string","PgEnumObjectColumn"),this.config.enum=b}build(a){return new i(a,this.config)}}class i extends g.Kl{static [f.i]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(a,b){super(a,b),this.enum=b.enum}getSQLType(){return this.enum.enumName}}let j=Symbol.for("drizzle:isPgEnum");function k(a){return!!a&&"function"==typeof a&&j in a&&!0===a[j]}class l extends g.pe{static [f.i]="PgEnumColumnBuilder";constructor(a,b){super(a,"string","PgEnumColumn"),this.config.enum=b}build(a){return new m(a,this.config)}}class m extends g.Kl{static [f.i]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(a,b){super(a,b),this.enum=b.enum}getSQLType(){return this.enum.enumName}}var o=c(22212),p=c(8946),q="0.44.6";let r={startActiveSpan:(a,b)=>d?(e||(e=d.trace.getTracer("drizzle-orm",q)),(0,p.i)((c,d)=>d.startActiveSpan(a,a=>{try{return b(a)}catch(b){throw a.setStatus({code:c.SpanStatusCode.ERROR,message:b instanceof Error?b.message:"Unknown error"}),b}finally{a.end()}}),d,e)):b()};var s=c(27685),t=c(23192),u=c(56704);class v{static [f.i]=null}function w(a){return null!=a&&"function"==typeof a.getSQL}function x(a){let b={sql:"",params:[]};for(let c of a)b.sql+=c.sql,b.params.push(...c.params),c.typings?.length&&(b.typings||(b.typings=[]),b.typings.push(...c.typings));return b}class y{static [f.i]="StringChunk";value;constructor(a){this.value=Array.isArray(a)?a:[a]}getSQL(){return new z([this])}}class z{constructor(a){for(let b of(this.queryChunks=a,a))if((0,f.is)(b,u.XI)){let a=b[u.XI.Symbol.Schema];this.usedTables.push(void 0===a?b[u.XI.Symbol.Name]:a+"."+b[u.XI.Symbol.Name])}}static [f.i]="SQL";decoder=C;shouldInlineParams=!1;usedTables=[];append(a){return this.queryChunks.push(...a.queryChunks),this}toQuery(a){return r.startActiveSpan("drizzle.buildSQL",b=>{let c=this.buildQueryFromSourceParams(this.queryChunks,a);return b?.setAttributes({"drizzle.query.text":c.sql,"drizzle.query.params":JSON.stringify(c.params)}),c})}buildQueryFromSourceParams(a,b){let c=Object.assign({},b,{inlineParams:b.inlineParams||this.shouldInlineParams,paramStartIndex:b.paramStartIndex||{value:0}}),{casing:d,escapeName:e,escapeParam:g,prepareTyping:h,inlineParams:i,paramStartIndex:j}=c;return x(a.map(a=>{if((0,f.is)(a,y))return{sql:a.value.join(""),params:[]};if((0,f.is)(a,A))return{sql:e(a.value),params:[]};if(void 0===a)return{sql:"",params:[]};if(Array.isArray(a)){let b=[new y("(")];for(let[c,d]of a.entries())b.push(d),c<a.length-1&&b.push(new y(", "));return b.push(new y(")")),this.buildQueryFromSourceParams(b,c)}if((0,f.is)(a,z))return this.buildQueryFromSourceParams(a.queryChunks,{...c,inlineParams:i||a.shouldInlineParams});if((0,f.is)(a,u.XI)){let b=a[u.XI.Symbol.Schema],c=a[u.XI.Symbol.Name];return{sql:void 0===b||a[u.HE]?e(c):e(b)+"."+e(c),params:[]}}if((0,f.is)(a,t.V)){let c=d.getColumnCasing(a);if("indexes"===b.invokeSource)return{sql:e(c),params:[]};let f=a.table[u.XI.Symbol.Schema];return{sql:a.table[u.HE]||void 0===f?e(a.table[u.XI.Symbol.Name])+"."+e(c):e(f)+"."+e(a.table[u.XI.Symbol.Name])+"."+e(c),params:[]}}if((0,f.is)(a,J)){let b=a[s.n].schema,c=a[s.n].name;return{sql:void 0===b||a[s.n].isAlias?e(c):e(b)+"."+e(c),params:[]}}if((0,f.is)(a,E)){if((0,f.is)(a.value,G))return{sql:g(j.value++,a),params:[a],typings:["none"]};let b=null===a.value?null:a.encoder.mapToDriverValue(a.value);if((0,f.is)(b,z))return this.buildQueryFromSourceParams([b],c);if(i)return{sql:this.mapInlineParam(b,c),params:[]};let d=["none"];return h&&(d=[h(a.encoder)]),{sql:g(j.value++,b),params:[b],typings:d}}return(0,f.is)(a,G)?{sql:g(j.value++,a),params:[a],typings:["none"]}:(0,f.is)(a,z.Aliased)&&void 0!==a.fieldAlias?{sql:e(a.fieldAlias),params:[]}:(0,f.is)(a,o.n)?a._.isWith?{sql:e(a._.alias),params:[]}:this.buildQueryFromSourceParams([new y("("),a._.sql,new y(") "),new A(a._.alias)],c):k(a)?a.schema?{sql:e(a.schema)+"."+e(a.enumName),params:[]}:{sql:e(a.enumName),params:[]}:w(a)?a.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([a.getSQL()],c):this.buildQueryFromSourceParams([new y("("),a.getSQL(),new y(")")],c):i?{sql:this.mapInlineParam(a,c),params:[]}:{sql:g(j.value++,a),params:[a],typings:["none"]}}))}mapInlineParam(a,{escapeString:b}){if(null===a)return"null";if("number"==typeof a||"boolean"==typeof a)return a.toString();if("string"==typeof a)return b(a);if("object"==typeof a){let c=a.toString();return"[object Object]"===c?b(JSON.stringify(a)):b(c)}throw Error("Unexpected param value: "+a)}getSQL(){return this}as(a){return void 0===a?this:new z.Aliased(this,a)}mapWith(a){return this.decoder="function"==typeof a?{mapFromDriverValue:a}:a,this}inlineParams(){return this.shouldInlineParams=!0,this}if(a){return a?this:void 0}}class A{constructor(a){this.value=a}static [f.i]="Name";brand;getSQL(){return new z([this])}}function B(a){return"object"==typeof a&&null!==a&&"mapToDriverValue"in a&&"function"==typeof a.mapToDriverValue}let C={mapFromDriverValue:a=>a},D={mapToDriverValue:a=>a};({...C,...D});class E{constructor(a,b=D){this.value=a,this.encoder=b}static [f.i]="Param";brand;getSQL(){return new z([this])}}function F(a,...b){let c=[];for(let[d,e]of((b.length>0||a.length>0&&""!==a[0])&&c.push(new y(a[0])),b.entries()))c.push(e,new y(a[d+1]));return new z(c)}(a=>{a.empty=function(){return new z([])},a.fromList=function(a){return new z(a)},a.raw=function(a){return new z([new y(a)])},a.join=function(a,b){let c=[];for(let[d,e]of a.entries())d>0&&void 0!==b&&c.push(b),c.push(e);return new z(c)},a.identifier=function(a){return new A(a)},a.placeholder=function(a){return new G(a)},a.param=function(a,b){return new E(a,b)}})(F||(F={})),(a=>{class b{constructor(a,b){this.sql=a,this.fieldAlias=b}static [f.i]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new b(this.sql,this.fieldAlias)}}a.Aliased=b})(z||(z={}));class G{constructor(a){this.name=a}static [f.i]="Placeholder";getSQL(){return new z([this])}}function H(a,b){return a.map(a=>{if((0,f.is)(a,G)){if(!(a.name in b))throw Error(`No value for placeholder "${a.name}" was provided`);return b[a.name]}if((0,f.is)(a,E)&&(0,f.is)(a.value,G)){if(!(a.value.name in b))throw Error(`No value for placeholder "${a.value.name}" was provided`);return a.encoder.mapToDriverValue(b[a.value.name])}return a})}let I=Symbol.for("drizzle:IsDrizzleView");class J{static [f.i]="View";[s.n];[I]=!0;constructor({name:a,schema:b,selectedFields:c,query:d}){this[s.n]={name:a,originalName:a,schema:b,selectedFields:c,query:d,isExisting:!d,isAlias:!1}}getSQL(){return new z([this])}}t.V.prototype.getSQL=function(){return new z([this])},u.XI.prototype.getSQL=function(){return new z([this])},o.n.prototype.getSQL=function(){return new z([this])}},71574:(a,b,c)=>{"use strict";c.d(b,{AV:()=>e,sO:()=>d});let d={getCurrentDate:()=>new Date,shouldAutoRun:!0,shouldAutoSchedule:!0},e=()=>d.getCurrentDate()},71749:(a,b,c)=>{"use strict";let{kConstruct:d}=c(25394),{urlEquals:e,getFieldValues:f}=c(2143),{kEnumerableProperty:g,isDisturbed:h}=c(33895),{webidl:i}=c(2312),{cloneResponse:j,fromInnerResponse:k,getResponseState:l}=c(28886),{Request:m,fromInnerRequest:o,getRequestState:p}=c(78728),{fetching:q}=c(2461),{urlIsHttpHttpsScheme:r,createDeferredPromise:s,readAllBytes:t}=c(45293),u=c(34589);class v{#bW;constructor(){arguments[0]!==d&&i.illegalConstructor(),i.util.markAsUncloneable(this),this.#bW=arguments[1]}async match(a,b={}){i.brandCheck(this,v);let c="Cache.match";i.argumentLengthCheck(arguments,1,c),a=i.converters.RequestInfo(a,c,"request"),b=i.converters.CacheQueryOptions(b,c,"options");let d=this.#bX(a,b,1);if(0!==d.length)return d[0]}async matchAll(a,b={}){i.brandCheck(this,v);let c="Cache.matchAll";return void 0!==a&&(a=i.converters.RequestInfo(a,c,"request")),b=i.converters.CacheQueryOptions(b,c,"options"),this.#bX(a,b)}async add(a){i.brandCheck(this,v);let b="Cache.add";i.argumentLengthCheck(arguments,1,b);let c=[a=i.converters.RequestInfo(a,b,"request")],d=this.addAll(c);return await d}async addAll(a){i.brandCheck(this,v);let b="Cache.addAll";i.argumentLengthCheck(arguments,1,b);let c=[],d=[];for(let c of a){if(void 0===c)throw i.errors.conversionFailed({prefix:b,argument:"Argument 1",types:["undefined is not allowed"]});if("string"==typeof(c=i.converters.RequestInfo(c)))continue;let a=p(c);if(!r(a.url)||"GET"!==a.method)throw i.errors.exception({header:b,message:"Expected http/s scheme when method is not GET."})}let e=[];for(let g of a){let a=p(new m(g));if(!r(a.url))throw i.errors.exception({header:b,message:"Expected http/s scheme."});a.initiator="fetch",a.destination="subresource",d.push(a);let h=s();e.push(q({request:a,processResponse(a){if("error"===a.type||206===a.status||a.status<200||a.status>299)h.reject(i.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(a.headersList.contains("vary")){for(let b of f(a.headersList.get("vary")))if("*"===b){for(let a of(h.reject(i.errors.exception({header:"Cache.addAll",message:"invalid vary field value"})),e))a.abort();return}}},processResponseEndOfBody(a){if(a.aborted)return void h.reject(new DOMException("aborted","AbortError"));h.resolve(a)}})),c.push(h.promise)}let g=Promise.all(c),h=await g,j=[],k=0;for(let a of h){let b={type:"put",request:d[k],response:a};j.push(b),k++}let l=s(),o=null;try{this.#bY(j)}catch(a){o=a}return queueMicrotask(()=>{null===o?l.resolve(void 0):l.reject(o)}),l.promise}async put(a,b){i.brandCheck(this,v);let c="Cache.put";i.argumentLengthCheck(arguments,2,c),a=i.converters.RequestInfo(a,c,"request"),b=i.converters.Response(b,c,"response");let d=null;if(!r((d=i.is.Request(a)?p(a):p(new m(a))).url)||"GET"!==d.method)throw i.errors.exception({header:c,message:"Expected an http/s scheme when method is not GET"});let e=l(b);if(206===e.status)throw i.errors.exception({header:c,message:"Got 206 status"});if(e.headersList.contains("vary")){for(let a of f(e.headersList.get("vary")))if("*"===a)throw i.errors.exception({header:c,message:"Got * vary field value"})}if(e.body&&(h(e.body.stream)||e.body.stream.locked))throw i.errors.exception({header:c,message:"Response body is locked or disturbed"});let g=j(e),k=s();null!=e.body?t(e.body.stream.getReader(),k.resolve,k.reject):k.resolve(void 0);let o=[],q={type:"put",request:d,response:g};o.push(q);let u=await k.promise;null!=g.body&&(g.body.source=u);let w=s(),x=null;try{this.#bY(o)}catch(a){x=a}return queueMicrotask(()=>{null===x?w.resolve():w.reject(x)}),w.promise}async delete(a,b={}){let c;i.brandCheck(this,v);let d="Cache.delete";i.argumentLengthCheck(arguments,1,d),a=i.converters.RequestInfo(a,d,"request"),b=i.converters.CacheQueryOptions(b,d,"options");let e=null;if(i.is.Request(a)){if("GET"!==(e=p(a)).method&&!b.ignoreMethod)return!1}else u("string"==typeof a),e=p(new m(a));let f=[],g={type:"delete",request:e,options:b};f.push(g);let h=s(),j=null;try{c=this.#bY(f)}catch(a){j=a}return queueMicrotask(()=>{null===j?h.resolve(!!c?.length):h.reject(j)}),h.promise}async keys(a,b={}){i.brandCheck(this,v);let c="Cache.keys";void 0!==a&&(a=i.converters.RequestInfo(a,c,"request")),b=i.converters.CacheQueryOptions(b,c,"options");let d=null;if(void 0!==a)if(i.is.Request(a)){if("GET"!==(d=p(a)).method&&!b.ignoreMethod)return[]}else"string"==typeof a&&(d=p(new m(a)));let e=s(),f=[];if(void 0===a)for(let a of this.#bW)f.push(a[0]);else for(let a of this.#bZ(d,b))f.push(a[0]);return queueMicrotask(()=>{let a=[];for(let b of f){let c=o(b,void 0,new AbortController().signal,"immutable");a.push(c)}e.resolve(Object.freeze(a))}),e.promise}#bY(a){let b=this.#bW,c=[...b],d=[],e=[];try{for(let c of a){let a;if("delete"!==c.type&&"put"!==c.type)throw i.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if("delete"===c.type&&null!=c.response)throw i.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#bZ(c.request,c.options,d).length)throw new DOMException("???","InvalidStateError");if("delete"===c.type){if(a=this.#bZ(c.request,c.options),0===a.length)return[];for(let c of a){let a=b.indexOf(c);u(-1!==a),b.splice(a,1)}}else if("put"===c.type){if(null==c.response)throw i.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let e=c.request;if(!r(e.url))throw i.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if("GET"!==e.method)throw i.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(null!=c.options)throw i.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});for(let d of a=this.#bZ(c.request)){let a=b.indexOf(d);u(-1!==a),b.splice(a,1)}b.push([c.request,c.response]),d.push([c.request,c.response])}e.push([c.request,c.response])}return e}catch(a){throw this.#bW.length=0,this.#bW=c,a}}#bZ(a,b,c){let d=[];for(let e of c??this.#bW){let[c,f]=e;this.#b$(a,c,f,b)&&d.push(e)}return d}#b$(a,b,c=null,d){let g=new URL(a.url),h=new URL(b.url);if(d?.ignoreSearch&&(h.search="",g.search=""),!e(g,h,!0))return!1;if(null==c||d?.ignoreVary||!c.headersList.contains("vary"))return!0;for(let d of f(c.headersList.get("vary")))if("*"===d||b.headersList.get(d)!==a.headersList.get(d))return!1;return!0}#bX(a,b,c=1/0){let d=null;if(void 0!==a)if(i.is.Request(a)){if("GET"!==(d=p(a)).method&&!b.ignoreMethod)return[]}else"string"==typeof a&&(d=p(new m(a)));let e=[];if(void 0===a)for(let a of this.#bW)e.push(a[1]);else for(let a of this.#bZ(d,b))e.push(a[1]);let f=[];for(let a of e){let b=k(a,"immutable");if(f.push(b.clone()),f.length>=c)break}return Object.freeze(f)}}Object.defineProperties(v.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:g,matchAll:g,add:g,addAll:g,put:g,delete:g,keys:g});let w=[{key:"ignoreSearch",converter:i.converters.boolean,defaultValue:()=>!1},{key:"ignoreMethod",converter:i.converters.boolean,defaultValue:()=>!1},{key:"ignoreVary",converter:i.converters.boolean,defaultValue:()=>!1}];i.converters.CacheQueryOptions=i.dictionaryConverter(w),i.converters.MultiCacheQueryOptions=i.dictionaryConverter([...w,{key:"cacheName",converter:i.converters.DOMString}]),i.converters.Response=i.interfaceConverter(i.is.Response,"Response"),i.converters["sequence<RequestInfo>"]=i.sequenceConverter(i.converters.RequestInfo),a.exports={Cache:v}},72046:(a,b,c)=>{"use strict";let d=c(40639);class e extends d{constructor(a={}){super(a)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(a){a=parseInt(a.substr(-2))-1,this.date.setMonth(a<0?0:a)}toString(){let a=this.date.getMonth(),b=this.token.length;return 2===b?String(a+1).padStart(2,"0"):3===b?this.locales.monthsShort[a]:4===b?this.locales.months[a]:String(a+1)}}a.exports=e},72250:a=>{"use strict";var b=String.prototype.replace,c=/%20/g,d={RFC1738:"RFC1738",RFC3986:"RFC3986"};a.exports={default:d.RFC3986,formatters:{RFC1738:function(a){return b.call(a,c,"+")},RFC3986:function(a){return String(a)}},RFC1738:d.RFC1738,RFC3986:d.RFC3986}},72598:(a,b,c)=>{"use strict";c.d(b,{p:()=>k});var d=c(61101),e=c(83518),f=c(35593),g=c(43982),h=c(57819),i=c(33334),j=c(53216);let k=async a=>{let{collection:b,req:c,token:k}=a;if(b.config.auth.disableLocalStrategy)throw new e.c(c.t);if(!Object.prototype.hasOwnProperty.call(a,"token"))throw new f.L("Missing required data.",d.h.BAD_REQUEST);try{let a=await (0,i.n)(c),e=(0,g.v)({enableTrash:!!b.config.trash,trash:!1,where:{_verificationToken:{equals:k}}}),j=await c.payload.db.findOne({collection:b.config.slug,req:c,where:e});if(!j)throw new f.L("Verification token is invalid.",d.h.FORBIDDEN);return j.updatedAt=new Date().toISOString(),await c.payload.db.updateOne({id:j.id,collection:b.config.slug,data:{...j,_verificationToken:null,_verified:!0},req:c,returning:!1}),a&&await (0,h.w)(c),!0}catch(a){throw await (0,j.J)(c),a}}},73039:(a,b,c)=>{"use strict";c.d(b,{C:()=>f});var d=c(27661);let e=({data:a,fields:b,result:c})=>(b.forEach(b=>{switch(b.type){case"collapsible":case"row":e({data:a,fields:b.fields,result:c});break;case"group":if((0,d.Z7)(b)){let d;"string"==typeof b.saveToJWT?(d=b.saveToJWT,c[b.saveToJWT]=a[b.name]):b.saveToJWT&&(d=b.name,c[b.name]=a[b.name]);let f=a[b.name],g=d?c[d]:c;e({data:f,fields:b.fields,result:g});break}e({data:a,fields:b.fields,result:c});break;case"tab":if((0,d.pz)(b)){let d;"string"==typeof b.saveToJWT?(d=b.saveToJWT,c[b.saveToJWT]=a[b.name]):b.saveToJWT&&(d=b.name,c[b.name]=a[b.name]);let f=a[b.name],g=d?c[d]:c;e({data:f,fields:b.fields,result:g})}else e({data:a,fields:b.fields,result:c});break;case"tabs":e({data:a,fields:b.tabs.map(a=>({...a,type:"tab"})),result:c});break;default:(0,d.Z7)(b)&&(b.saveToJWT?"string"==typeof b.saveToJWT?(c[b.saveToJWT]=a[b.name],delete c[b.name]):c[b.name]=a[b.name]:!1===b.saveToJWT&&delete c[b.name])}}),c),f=a=>{let{collectionConfig:b,email:c,sid:d,user:f}=a,g={id:f?.id,collection:b.slug,email:c};return d&&(g.sid=d),e({data:f,fields:b.fields,result:g}),g}},73069:(a,b,c)=>{"use strict";c.r(b),c.d(b,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>d.cE,CONFIG_USE_FIPS_ENDPOINT:()=>e.Oi,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>d.VW,DEFAULT_USE_FIPS_ENDPOINT:()=>e.Hj,ENV_USE_DUALSTACK_ENDPOINT:()=>d.N5,ENV_USE_FIPS_ENDPOINT:()=>e.rw,NODE_REGION_CONFIG_FILE_OPTIONS:()=>j.zH,NODE_REGION_CONFIG_OPTIONS:()=>j.GG,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>d.e$,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>e.Ko,REGION_ENV_NAME:()=>j.Fc,REGION_INI_NAME:()=>j.OR,getRegionInfo:()=>q,resolveCustomEndpointsConfig:()=>g,resolveEndpointsConfig:()=>i,resolveRegionConfig:()=>k.T});var d=c(59862),e=c(93668),f=c(65960);let g=a=>{let{tls:b,endpoint:c,urlParser:d,useDualstackEndpoint:e}=a;return Object.assign(a,{tls:b??!0,endpoint:(0,f.t)("string"==typeof c?d(c):c),isCustomEndpoint:!0,useDualstackEndpoint:(0,f.t)(e??!1)})},h=async a=>{let{tls:b=!0}=a,c=await a.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(c))throw Error("Invalid region in client config");let d=await a.useDualstackEndpoint(),e=await a.useFipsEndpoint(),{hostname:f}=await a.regionInfoProvider(c,{useDualstackEndpoint:d,useFipsEndpoint:e})??{};if(!f)throw Error("Cannot resolve hostname from client config");return a.urlParser(`${b?"https:":"http:"}//${f}`)},i=a=>{let b=(0,f.t)(a.useDualstackEndpoint??!1),{endpoint:c,useFipsEndpoint:d,urlParser:e,tls:g}=a;return Object.assign(a,{tls:g??!0,endpoint:c?(0,f.t)("string"==typeof c?e(c):c):()=>h({...a,useDualstackEndpoint:b,useFipsEndpoint:d}),isCustomEndpoint:!!c,useDualstackEndpoint:b})};var j=c(69494),k=c(1207);let l=(a=[],{useFipsEndpoint:b,useDualstackEndpoint:c})=>a.find(({tags:a})=>b===a.includes("fips")&&c===a.includes("dualstack"))?.hostname,m=(a,{regionHostname:b,partitionHostname:c})=>b||(c?c.replace("{region}",a):void 0),o=(a,{partitionHash:b})=>Object.keys(b||{}).find(c=>b[c].regions.includes(a))??"aws",p=(a,{signingRegion:b,regionRegex:c,useFipsEndpoint:d})=>{if(b)return b;if(d){let b=c.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),d=a.match(b);if(d)return d[0].slice(1,-1)}},q=(a,{useFipsEndpoint:b=!1,useDualstackEndpoint:c=!1,signingService:d,regionHash:e,partitionHash:f})=>{let g=o(a,{partitionHash:f}),h=a in e?a:f[g]?.endpoint??a,i={useFipsEndpoint:b,useDualstackEndpoint:c},j=l(e[h]?.variants,i),k=m(h,{regionHostname:j,partitionHostname:l(f[g]?.variants,i)});if(void 0===k)throw Error(`Endpoint resolution failed for: ${{resolvedRegion:h,useFipsEndpoint:b,useDualstackEndpoint:c}}`);let q=p(k,{signingRegion:e[h]?.signingRegion,regionRegex:f[g].regionRegex,useFipsEndpoint:b});return{partition:g,signingService:d,hostname:k,...q&&{signingRegion:q},...e[h]?.signingService&&{signingService:e[h].signingService}}}},73154:(a,b,c)=>{"use strict";c.d(b,{k:()=>i});var d=c(50474);let e={type:"text-format",format:["bold","italic"],tag:"***"},f={type:"text-format",format:["bold","italic"],intraword:!1,tag:"___"},g={type:"text-format",format:["bold"],tag:"**"},h={type:"text-format",format:["bold"],intraword:!1,tag:"__"},i=(0,d.m)({dependenciesSoft:["italic"],feature:({featureProviderMap:a})=>{let b=[g,h];return a.get("italic")&&b.push(f,e),{ClientFeature:"@payloadcms/richtext-lexical/client#BoldFeatureClient",markdownTransformers:b}},key:"bold"})},73182:(a,b,c)=>{"use strict";c.d(b,{m:()=>l});var d=c(23631),e=c(27661),f=c(22501),g=c(96959),h=c(75879);let i=a=>Array.isArray(a)?a.map(a=>"object"==typeof a&&null!=a?{...a}:a):"object"==typeof a&&null!==a?{...a}:a;async function j({field:a,req:b,siblingDoc:c}){let d;return"name"in a&&a.name&&(void 0!==c[a.name]?d=i(c[a.name]):"defaultValue"in a&&void 0!==a.defaultValue&&(d=await (0,h.B)({defaultValue:a.defaultValue,locale:b.locale||"",req:b,user:b.user}))),d}let k=async({id:a,blockData:b,collection:c,context:h,data:i,doc:k,field:m,fieldIndex:o,global:p,operation:q,overrideAccess:r,parentIndexPath:s,parentIsLocalized:t,parentPath:u,parentSchemaPath:v,req:w,siblingData:x,siblingDoc:y,siblingFields:z})=>{let{indexPath:A,path:B,schemaPath:C}=(0,f.I)({field:m,index:o,parentIndexPath:s,parentPath:u,parentSchemaPath:v}),D=B?B.split("."):[],E=C?C.split("."):[],F=A?A.split("-").filter(Boolean)?.map(Number):[];if((0,e.Z7)(m)){if("id"===m.name){if("number"===m.type&&"string"==typeof x[m.name]){let a=x[m.name];x[m.name]=parseFloat(a)}"text"===m.type&&"function"==typeof x[m.name]?.toString&&"string"!=typeof x[m.name]&&(x[m.name]=x[m.name].toString())}switch(m.type){case"array":case"blocks":("0"===x[m.name]||0===x[m.name])&&(x[m.name]=[]);break;case"checkbox":"true"===x[m.name]&&(x[m.name]=!0),"false"===x[m.name]&&(x[m.name]=!1),""===x[m.name]&&(x[m.name]=!1);break;case"number":if("string"==typeof x[m.name]){let a=x[m.name].trim();x[m.name]=0===a.length?null:parseFloat(a)}break;case"point":Array.isArray(x[m.name])&&(x[m.name]=x[m.name].map((a,b)=>{if("string"==typeof a){let a=x[m.name][b].trim();return 0===a.length?null:parseFloat(a)}return a}));break;case"relationship":case"upload":{(""===x[m.name]||"none"===x[m.name]||"null"===x[m.name]||null===x[m.name])&&(!0===m.hasMany?x[m.name]=[]:x[m.name]=null);let a=x[m.name];if(Array.isArray(m.relationTo)){if(Array.isArray(a)&&a.forEach((a,b)=>{let c=w.payload.collections?.[a.relationTo]?.config;if("object"==typeof a.value&&a.value&&"id"in a.value&&(a.value=a.value.id),c?.fields){let d=c.fields.find(a=>(0,e.Z7)(a)&&"id"===a.name);d?.type==="number"&&(x[m.name][b]={...a,value:parseFloat(a.value)})}}),!0!==m.hasMany&&(0,e.b_)(a)){let b=w.payload.collections?.[a.relationTo]?.config;if("object"==typeof a.value&&a.value&&"id"in a.value&&(a.value=a.value.id),b?.fields){let c=b.fields.find(a=>(0,e.Z7)(a)&&"id"===a.name);c?.type==="number"&&(x[m.name]={...a,value:parseFloat(a.value)})}}}else if(Array.isArray(a)&&a.forEach((b,c)=>{let d=Array.isArray(m.relationTo)?void 0:w.payload.collections?.[m.relationTo]?.config;if("object"==typeof b&&b&&"id"in b&&(a[c]=b.id),d?.fields){let a=d.fields.find(a=>(0,e.Z7)(a)&&"id"===a.name);a?.type==="number"&&(x[m.name][c]=parseFloat(b))}}),!0!==m.hasMany&&a){let b=w.payload.collections?.[m.relationTo]?.config;if("object"==typeof a&&a&&"id"in a&&(x[m.name]=a.id),b?.fields){let c=b.fields.find(a=>(0,e.Z7)(a)&&"id"===a.name);c?.type==="number"&&(x[m.name]=parseFloat(a))}}break}case"richText":if("string"==typeof x[m.name])try{let a=JSON.parse(x[m.name]);x[m.name]=a}catch{}}let d={executed:!1,value:void 0};if(void 0===x[m.name]&&(d.value=await j({field:m,req:w,siblingDoc:y}),d.executed=!0),"hooks"in m&&m.hooks?.beforeValidate)for(let a of m.hooks.beforeValidate){let e=await a({blockData:b,collection:c,context:h,data:i,field:m,global:p,indexPath:F,operation:q,originalDoc:k,overrideAccess:r,path:D,previousSiblingDoc:y,previousValue:y[m.name],req:w,schemaPath:E,siblingData:x,siblingFields:z,value:void 0===x[m.name]?d.value:x[m.name]});void 0!==e&&(x[m.name]=e)}m.access&&m.access[q]&&(r||await m.access[q]({id:a,blockData:b,data:i,doc:k,req:w,siblingData:x})||delete x[m.name]),void 0===x[m.name]&&(x[m.name]=d.executed?d.value:await j({field:m,req:w,siblingDoc:y}))}switch(m.type){case"array":{let d=x[m.name];if(Array.isArray(d)){let e=[];d.forEach((d,f)=>{e.push(l({id:a,blockData:b,collection:c,context:h,data:i,doc:k,fields:m.fields,global:p,operation:q,overrideAccess:r,parentIndexPath:"",parentIsLocalized:t||m.localized,parentPath:B+"."+f,parentSchemaPath:C,req:w,siblingData:d,siblingDoc:(0,g.G)(d,y[m.name])}))}),await Promise.all(e)}break}case"blocks":{let b=x[m.name];if(Array.isArray(b)){let d=[];b.forEach((b,e)=>{let f=(0,g.G)(b,y[m.name]),j=b.blockType||f.blockType,o=w.payload.blocks[j]??(m.blockReferences??m.blocks).find(a=>"string"!=typeof a&&a.slug===j);o&&(b.blockType=j,d.push(l({id:a,blockData:b,collection:c,context:h,data:i,doc:k,fields:o.fields,global:p,operation:q,overrideAccess:r,parentIndexPath:"",parentIsLocalized:t||m.localized,parentPath:B+"."+e,parentSchemaPath:C+"."+o.slug,req:w,siblingData:b,siblingDoc:f})))}),await Promise.all(d)}break}case"collapsible":case"row":await l({id:a,blockData:b,collection:c,context:h,data:i,doc:k,fields:m.fields,global:p,operation:q,overrideAccess:r,parentIndexPath:A,parentIsLocalized:t,parentPath:u,parentSchemaPath:C,req:w,siblingData:x,siblingDoc:y});break;case"group":{let d=x,f=y,g=(0,e.Z7)(m);g&&("object"!=typeof x[m.name]&&(x[m.name]={}),"object"!=typeof y[m.name]&&(y[m.name]={}),d=x[m.name],f=y[m.name]),await l({id:a,blockData:b,collection:c,context:h,data:i,doc:k,fields:m.fields,global:p,operation:q,overrideAccess:r,parentIndexPath:g?"":A,parentIsLocalized:t||m.localized,parentPath:g?B:u,parentSchemaPath:C,req:w,siblingData:d,siblingDoc:f});break}case"richText":{if(!m?.editor)throw new d.X(m);if("function"==typeof m?.editor)throw Error("Attempted to access unsanitized rich text editor.");let a=m?.editor;if(a?.hooks?.beforeValidate?.length)for(let b of a.hooks.beforeValidate){let a=await b({collection:c,context:h,data:i,field:m,global:p,indexPath:F,operation:q,originalDoc:k,overrideAccess:r,parentIsLocalized:t,path:D,previousSiblingDoc:y,previousValue:x[m.name],req:w,schemaPath:E,siblingData:x,value:x[m.name]});void 0!==a&&(x[m.name]=a)}break}case"tab":{let d,f,g=(0,e.pz)(m);g?("object"!=typeof x[m.name]&&(x[m.name]={}),"object"!=typeof y[m.name]&&(y[m.name]={}),d=x[m.name],f=y[m.name]):(d=x,f=y),await l({id:a,blockData:b,collection:c,context:h,data:i,doc:k,fields:m.fields,global:p,operation:q,overrideAccess:r,parentIndexPath:g?"":A,parentIsLocalized:t||m.localized,parentPath:g?B:u,parentSchemaPath:C,req:w,siblingData:d,siblingDoc:f});break}case"tabs":await l({id:a,blockData:b,collection:c,context:h,data:i,doc:k,fields:m.tabs.map(a=>({...a,type:"tab"})),global:p,operation:q,overrideAccess:r,parentIndexPath:A,parentIsLocalized:t,parentPath:B,parentSchemaPath:C,req:w,siblingData:x,siblingDoc:y})}},l=async({id:a,blockData:b,collection:c,context:d,data:e,doc:f,fields:g,global:h,operation:i,overrideAccess:j,parentIndexPath:l,parentIsLocalized:m,parentPath:o,parentSchemaPath:p,req:q,siblingData:r,siblingDoc:s})=>{let t=[];g.forEach((u,v)=>{t.push(k({id:a,blockData:b,collection:c,context:d,data:e,doc:f,field:u,fieldIndex:v,global:h,operation:i,overrideAccess:j,parentIndexPath:l,parentIsLocalized:m,parentPath:o,parentSchemaPath:p,req:q,siblingData:r,siblingDoc:s,siblingFields:g}))}),await Promise.all(t)}},73213:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{F:()=>getPredefinedMigration});var fs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(29021),path__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(33873),url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(79551);let getPredefinedMigration=async({dirname,file,migrationName:migrationNameArg,payload})=>{let importPath=file??migrationNameArg;if(importPath?.startsWith("@payloadcms/db-")){let migrationName=importPath.split("/").slice(2).join("/"),cleanPath=path__WEBPACK_IMPORTED_MODULE_1__.join(dirname,`./predefinedMigrations/${migrationName}`);fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(`${cleanPath}.mjs`)?cleanPath=`${cleanPath}.mjs`:fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(`${cleanPath}.js`)?cleanPath=`${cleanPath}.js`:(payload.logger.error({msg:`Canned migration ${migrationName} not found.`}),process.exit(1)),cleanPath=cleanPath.replaceAll("\\","/");let moduleURL=(0,url__WEBPACK_IMPORTED_MODULE_2__.pathToFileURL)(cleanPath);try{let{downSQL,imports,upSQL}=await eval(`import('${moduleURL.href}')`);return{downSQL,imports,upSQL}}catch(err){payload.logger.error({err,msg:`Error loading predefined migration ${migrationName}`}),process.exit(1)}}else if(importPath)try{let{downSQL,imports,upSQL}=await eval(`import('${importPath}')`);return{downSQL,imports,upSQL}}catch(_err){if(importPath?.includes("/"))throw Error(`Error importing migration file from ${importPath}`)}return{}}},73274:(a,b,c)=>{"use strict";a.exports={TextPrompt:c(45307),SelectPrompt:c(49932),TogglePrompt:c(14352),DatePrompt:c(64960),NumberPrompt:c(86233),MultiselectPrompt:c(7875),AutocompletePrompt:c(74520),AutocompleteMultiselectPrompt:c(22951),ConfirmPrompt:c(7718)}},73368:(a,b,c)=>{"use strict";c.d(b,{F:()=>d});let d=({field:a,path:b,tableName:c})=>a.dbName&&b.length>63?`_${c}`:b},73414:(a,b,c)=>{"use strict";let d=c(68056),{kClose:e,kDestroy:f,kClosed:g,kDestroyed:h,kDispatch:i,kNoProxyAgent:j,kHttpProxyAgent:k,kHttpsProxyAgent:l}=c(25394),m=c(68185),o=c(43008),p={"http:":80,"https:":443};class q extends d{#b_=null;#b0=null;#b1=null;constructor(a={}){super(),this.#b1=a;let{httpProxy:b,httpsProxy:c,noProxy:d,...e}=a;this[j]=new o(e);let f=b??process.env.http_proxy??process.env.HTTP_PROXY;f?this[k]=new m({...e,uri:f}):this[k]=this[j];let g=c??process.env.https_proxy??process.env.HTTPS_PROXY;g?this[l]=new m({...e,uri:g}):this[l]=this[k],this.#b2()}[i](a,b){let c=new URL(a.origin);return this.#b3(c).dispatch(a,b)}async [e](){await this[j].close(),this[k][g]||await this[k].close(),this[l][g]||await this[l].close()}async [f](a){await this[j].destroy(a),this[k][h]||await this[k].destroy(a),this[l][h]||await this[l].destroy(a)}#b3(a){let{protocol:b,host:c,port:d}=a;return(c=c.replace(/:\d*$/,"").toLowerCase(),d=Number.parseInt(d,10)||p[b]||0,this.#b4(c,d))?"https:"===b?this[l]:this[k]:this[j]}#b4(a,b){if(this.#b5&&this.#b2(),0===this.#b0.length)return!0;if("*"===this.#b_)return!1;for(let c=0;c<this.#b0.length;c++){let d=this.#b0[c];if(!d.port||d.port===b){if(/^[.*]/.test(d.hostname)){if(a.endsWith(d.hostname.replace(/^\*/,"")))return!1}else if(a===d.hostname)return!1}}return!0}#b2(){let a=this.#b1.noProxy??this.#b6,b=a.split(/[,\s]/),c=[];for(let a=0;a<b.length;a++){let d=b[a];if(!d)continue;let e=d.match(/^(.+):(\d+)$/);c.push({hostname:(e?e[1]:d).toLowerCase(),port:e?Number.parseInt(e[2],10):0})}this.#b_=a,this.#b0=c}get #b5(){return void 0===this.#b1.noProxy&&this.#b_!==this.#b6}get #b6(){return process.env.no_proxy??process.env.NO_PROXY??""}}a.exports=q},73459:(a,b,c)=>{"use strict";c.r(b),c.d(b,{LazyJsonString:()=>g.A,NumericValue:()=>m.D,_parseEpochTimestamp:()=>j.UK,_parseRfc3339DateTimeWithOffset:()=>j.eH,_parseRfc7231DateTime:()=>j.Gj,copyDocumentWithTransform:()=>d,dateToUtcString:()=>e.JV,expectBoolean:()=>h.ak,expectByte:()=>h.Gr,expectFloat32:()=>h.bC,expectInt:()=>h.vH,expectInt32:()=>h.ET,expectLong:()=>h.Yy,expectNonNull:()=>h.Y0,expectNumber:()=>h.r$,expectObject:()=>h.Xk,expectShort:()=>h.S7,expectString:()=>h.lK,expectUnion:()=>h.tN,generateIdempotencyToken:()=>f.v4,handleFloat:()=>h.zY,limitedParseDouble:()=>h.JW,limitedParseFloat:()=>h.Mo,limitedParseFloat32:()=>h.Zx,logger:()=>h.vF,nv:()=>m.nv,parseBoolean:()=>h.yG,parseEpochTimestamp:()=>e.l3,parseRfc3339DateTime:()=>e.EI,parseRfc3339DateTimeWithOffset:()=>e.t_,parseRfc7231DateTime:()=>e.xE,quoteHeader:()=>i.m,splitEvery:()=>k.U,splitHeader:()=>l.G,strictParseByte:()=>h.tW,strictParseDouble:()=>h.OZ,strictParseFloat:()=>h.vi,strictParseFloat32:()=>h.UO,strictParseInt:()=>h.Su,strictParseInt32:()=>h.xW,strictParseLong:()=>h.V0,strictParseShort:()=>h.zi});let d=(a,b,c=a=>a)=>a;var e=c(40288),f=c(6601),g=c(3217),h=c(51429),i=c(80658),j=c(39708),k=c(8164),l=c(77262),m=c(38334)},73567:(a,b,c)=>{"use strict";var d,e=c(59213);let f=a=>{let b=e.fromString(a,"utf8");return new Uint8Array(b.buffer,b.byteOffset,b.byteLength/Uint8Array.BYTES_PER_ELEMENT)},g=a=>"string"==typeof a?f(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a),h=a=>{if("string"==typeof a)return a;if("object"!=typeof a||"number"!=typeof a.byteOffset||"number"!=typeof a.byteLength)throw Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return e.fromArrayBuffer(a.buffer,a.byteOffset,a.byteLength).toString("utf8")};b.ar=f,d=g,b.Pq=h},73663:(a,b,c)=>{"use strict";c.d(b,{f:()=>cl});var d=c(12820),e=c(3120);let f={slug:"users",admin:{useAsTitle:"email"},auth:{tokenExpiration:7200},fields:[],labels:{plural:({t:a})=>a("general:users"),singular:({t:a})=>a("general:user")}};var g=c(7177),h=c(41640);let i=a=>a.map(a=>{let b=a.handler;return["patch","post"].includes(a.method)&&(a.handler=async a=>(await (0,g.z)(a),(0,h.r)(a),b(a))),a});var j=c(61101),k=c(84947),l=c(15391);let m=async a=>{let b=(0,k.y)({headers:new Headers,req:a});try{let c=await (0,l.m)({req:a});return Response.json(c,{headers:b,status:j.h.OK})}catch(a){return Response.json({error:a},{headers:b,status:j.h.INTERNAL_SERVER_ERROR})}};var o=c(35593);let p=a=>{let b=a.routeParams?.collection;if("string"!=typeof b)throw new o.L("No collection was specified",400);let c=a.payload.collections[b];if(!c)throw new o.L(`Collection with the slug ${b} was not found`,404);return c},q=(a,{disableSanitize:b,optionalID:c}={})=>{let d=p(a),e=a.routeParams?.id;if("string"!=typeof e){if(c)return{id:void 0,collection:d};throw new o.L("ID was not specified",400)}if(!0===b)return{id:e,collection:d};let f=e,g="number"===a.payload.db.defaultIDType;return g&&"text"===d.customIDType&&(g=!1),g&&(f=parseFloat(f)),{id:f,collection:d}},r=a=>{let b=a.routeParams?.global;if("string"!=typeof b)throw new o.L("No global was specified",400);let c=a.payload.globals.config.find(a=>a.slug===b);if(!c)throw new o.L(`Global with the slug ${b} was not found`,404);return c};var s=c(96927);let t=async a=>{let{t:b}=a,c=p(a),d=c.config.auth?.loginWithUsername?{email:"string"==typeof a.data?.email?a.data.email:"",username:"string"==typeof a.data?.username?a.data.username:""}:{email:"string"==typeof a.data?.email?a.data.email:""};return await (0,s.g)({collection:c,data:d,disableEmail:!!a.data?.disableEmail,expiration:"number"==typeof a.data?.expiration?a.data.expiration:void 0,req:a}),Response.json({message:b("general:success")},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var u=c(82531);let v=async a=>{let b=await (0,u.M)({collection:p(a).config.slug,req:a});return Response.json({initialized:b},{headers:(0,k.y)({headers:new Headers,req:a})})};var w=c(25943),x=c(95453),y=c(18674);let z=async a=>{let b=p(a),{searchParams:c,t:d}=a,e=c.get("depth"),f=b.config.auth?.loginWithUsername!==!1?{email:"string"==typeof a.data?.email?a.data.email:"",password:"string"==typeof a.data?.password?a.data.password:"",username:"string"==typeof a.data?.username?a.data.username:""}:{email:"string"==typeof a.data?.email?a.data.email:"",password:"string"==typeof a.data?.password?a.data.password:""},g=await (0,y.k)({collection:b,data:f,depth:(0,w.E)(e)?Number(e):void 0,req:a}),h=(0,x.IS)({collectionAuthConfig:b.config.auth,cookiePrefix:a.payload.config.cookiePrefix,token:g.token});return b.config.auth.removeTokenFromResponses&&delete g.token,Response.json({message:d("authentication:passed"),...g},{headers:(0,k.y)({headers:new Headers({"Set-Cookie":h}),req:a}),status:j.h.OK})};var A=c(3271);let B=async a=>{let b=p(a),{searchParams:c,t:d}=a,e=await (0,A.u)({allSessions:"true"===c.get("allSessions"),collection:b,req:a}),f=(0,k.y)({headers:new Headers,req:a});if(!e)return Response.json({message:d("error:logoutFailed")},{headers:f,status:j.h.BAD_REQUEST});let g=(0,x.DN)({collectionAuthConfig:b.config.auth,config:a.payload.config,cookiePrefix:a.payload.config.cookiePrefix});return f.set("Set-Cookie",g),Response.json({message:d("authentication:logoutSuccessful")},{headers:f,status:j.h.OK})},C=(a={})=>{let b={},c=a;return Object.keys(c).forEach(a=>{"false"===c[a]||!1===c[a]?b[a]=!1:b[a]={count:"true"===c[a].count,limit:(0,w.E)(c[a]?.limit)?Number(c[a].limit):void 0,page:(0,w.E)(c[a]?.page)?Number(c[a].page):void 0,sort:c[a]?.sort?c[a].sort:void 0,where:c[a]?.where?c[a].where:void 0}}),b},D=a=>{if(a&&"object"==typeof a)for(let b in a){let c=b;"true"===a[c]?a[c]=!0:"false"===a[c]?a[c]=!1:"object"==typeof a[c]&&D(a[c])}return a},E=a=>{if(a&&"object"==typeof a){for(let b in a)a[b]=D(a[b]);return a}};var F=c(24738),G=c(39014);let H=async a=>{let{searchParams:b}=a,c=p(a),d=(0,F.p)(a),e=b.get("depth"),f=b.get("depth"),{depth:g,draft:h,joins:i,populate:l,select:m}=a.query,o=g||e,q=h||f,r=await (0,G.M)({collection:c,currentToken:d,depth:(0,w.E)(o)?Number(o):void 0,draft:"true"===q,joins:C(i),populate:E(l),req:a,select:D(m)});return c.config.auth.removeTokenFromResponses&&delete r.token,Response.json({...r,message:a.t("authentication:account")},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var I=c(86686);let J=async a=>{let b=p(a),{t:c}=a,d=(0,k.y)({headers:new Headers,req:a}),e=await (0,I.r)({collection:b,req:a});if(e.setCookie){let c=(0,x.IS)({collectionAuthConfig:b.config.auth,cookiePrefix:a.payload.config.cookiePrefix,token:e.refreshedToken});b.config.auth.removeTokenFromResponses&&delete e.refreshedToken,d.set("Set-Cookie",c)}return Response.json({message:c("authentication:tokenRefreshSuccessful"),...e},{headers:d,status:j.h.OK})};var K=c(83518),L=c(43982),M=c(57819),N=c(33334),O=c(53216),P=c(5279);let Q=async a=>{let{collection:{config:b,config:{slug:c,auth:{verify:d}}},data:e,req:f,req:{payload:g}}=a;if(b.auth.disableLocalStrategy)throw new K.c(f.t);try{let h=await (0,N.n)(f);(0,P.q)({authOptions:b.auth,collectionSlug:c,data:e,operation:"create",req:f});let i=(0,L.v)({enableTrash:!!b.trash,trash:!1,where:{}});if(await g.db.findOne({collection:b.slug,req:f,where:i}))throw new K.c(f.t);let j=await g.create({collection:c,data:e,overrideAccess:!0,req:f});d&&await g.update({id:j.id,collection:c,data:{_verified:!0},req:f});let{exp:k,token:l}=await g.login({...a,collection:c,req:f});return j.collection=c,j._strategy="local-jwt",h&&await (0,M.w)(f),{exp:k,token:l,user:j}}catch(a){throw await (0,O.J)(f),a}},R=async a=>{let b=p(a),{data:c,t:d}=a,e=b.config.auth?.loginWithUsername?{email:"string"==typeof a.data?.email?a.data.email:"",password:"string"==typeof a.data?.password?a.data.password:"",username:"string"==typeof a.data?.username?a.data.username:""}:{email:"string"==typeof a.data?.email?a.data.email:"",password:"string"==typeof a.data?.password?a.data.password:""},f=await Q({collection:b,data:{...c,...e},req:a}),g=(0,x.IS)({collectionAuthConfig:b.config.auth,cookiePrefix:a.payload.config.cookiePrefix,token:f.token});return Response.json({exp:f.exp,message:d("authentication:successfullyRegisteredFirstUser"),token:f.token,user:f.user},{headers:(0,k.y)({headers:new Headers({"Set-Cookie":g}),req:a}),status:j.h.OK})};var S=c(95755);let T=async a=>{let b=p(a),{searchParams:c,t:d}=a,e=c.get("depth"),f=await (0,S.q)({collection:b,data:{password:"string"==typeof a.data?.password?a.data.password:"",token:"string"==typeof a.data?.token?a.data.token:""},depth:e?Number(e):void 0,req:a}),g=(0,x.IS)({collectionAuthConfig:b.config.auth,cookiePrefix:a.payload.config.cookiePrefix,token:f.token});return b.config.auth.removeTokenFromResponses&&delete f.token,Response.json({message:d("authentication:passwordResetSuccessfully"),...f},{headers:(0,k.y)({headers:new Headers({"Set-Cookie":g}),req:a}),status:j.h.OK})};var U=c(81977);let V=async a=>{let b=p(a),{t:c}=a,d=b.config.auth?.loginWithUsername!==!1?{email:"string"==typeof a.data?.email?a.data.email:"",username:"string"==typeof a.data?.username?a.data.username:""}:{email:"string"==typeof a.data?.email?a.data.email:""};return await (0,U.k)({collection:b,data:d,req:a}),Response.json({message:c("general:success")},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var W=c(72598);let X=async a=>{let{id:b,collection:c}=q(a,{disableSanitize:!0}),{t:d}=a;return await (0,W.p)({collection:c,req:a,token:b}),Response.json({message:d("authentication:accountVerified")},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})},Y=i([{handler:m,method:"get",path:"/access"}]),Z=i([{handler:t,method:"post",path:"/forgot-password"},{handler:v,method:"get",path:"/init"},{handler:z,method:"post",path:"/login"},{handler:B,method:"post",path:"/logout"},{handler:H,method:"get",path:"/me"},{handler:J,method:"post",path:"/refresh-token"},{handler:R,method:"post",path:"/first-register"},{handler:T,method:"post",path:"/reset-password"},{handler:V,method:"post",path:"/unlock"},{handler:X,method:"post",path:"/verify/:id"}]),$=[{name:"loginAttempts",type:"number",defaultValue:0,hidden:!0},{name:"lockUntil",type:"date",hidden:!0}];var _=c(55511);let aa=[{name:"enableAPIKey",type:"checkbox",admin:{components:{Field:!1}},label:({t:a})=>a("authentication:enableAPIKey")},{name:"apiKey",type:"text",admin:{components:{Field:!1}},hooks:{afterRead:[({req:a,value:b})=>b?a.payload.decrypt(b):void 0],beforeChange:[({req:a,value:b})=>b?a.payload.encrypt(b):null]},label:({t:a})=>a("authentication:apiKey")},{name:"apiKeyIndex",type:"text",admin:{disabled:!0},hidden:!0,hooks:{beforeValidate:[({data:a,req:b,value:c})=>a?.apiKey===!1||a?.apiKey===null||a?.enableAPIKey===!1||a?.enableAPIKey===null?null:a?.apiKey?_.createHmac("sha256",b.payload.secret).update(a.apiKey).digest("hex"):c]}}],ab=[{name:"resetPasswordToken",type:"text",hidden:!0},{name:"resetPasswordExpiration",type:"date",hidden:!0},{name:"salt",type:"text",hidden:!0},{name:"hash",type:"text",hidden:!0}];var ac=c(81645);let ad={name:"email",type:"email",admin:{components:{Field:!1}},hooks:{beforeChange:[({value:a})=>{if(a)return a.toLowerCase().trim()}]},label:({t:a})=>a("general:email"),required:!0,unique:!0,validate:ac.Rp},ae={name:"sessions",type:"array",access:{read:({doc:a,req:{user:b}})=>b?.id===a?.id,update:()=>!1},admin:{disabled:!0},fields:[{name:"id",type:"text",required:!0},{name:"createdAt",type:"date",defaultValue:()=>new Date},{name:"expiresAt",type:"date",required:!0}]},af={name:"username",type:"text",admin:{components:{Field:!1}},hooks:{beforeChange:[({value:a})=>{if(a)return a.toLowerCase().trim()}]},label:({t:a})=>a("authentication:username"),required:!0,unique:!0,validate:ac.Xh},ag=[{name:"_verified",type:"checkbox",access:{create:({req:{user:a}})=>!!a,read:({req:{user:a}})=>!!a,update:({req:{user:a}})=>!!a},admin:{components:{Field:!1}},label:({t:a})=>a("authentication:verified")},{name:"_verificationToken",type:"text",hidden:!0,hooks:{beforeChange:[({data:a,operation:b,originalDoc:c,value:d})=>"update"===b&&a?._verified===!0&&c?._verified===!1?null:d]}}],ah=a=>{let b=[];if(a.useAPIKey&&b.push(...aa),!a.disableLocalStrategy||"object"==typeof a.disableLocalStrategy&&a.disableLocalStrategy.enableFields){let c,d={...ad};a.loginWithUsername&&(c={...af},"object"==typeof a.loginWithUsername&&(!1===a.loginWithUsername.requireEmail&&(d.required=!1),!1===a.loginWithUsername.requireUsername&&(c.required=!1),!1===a.loginWithUsername.allowEmailLogin&&(d.unique=!1))),b.push(d),c&&b.push(c),b.push(...ab),a.verify&&b.push(...ag),a?.maxLoginAttempts&&a.maxLoginAttempts>0&&b.push(...$),a.useSessions&&b.push(ae)}return b};class ai extends o.L{constructor(a){super(`Timestamps are required in the collection ${a.slug} because you have opted in to Versions.`)}}var aj=c(58725),ak=c(27661),al=c(55414);let am=(a,b)=>{let c=[...a||[]];return b.forEach(a=>{let b=null;if((0,ak.Z7)(a)){let d=c.find((c,d)=>!!(0,ak.Z7)(c)&&c.name===a.name&&(b=d,!0));if(d){let e={...d};c.splice(b,1);let f=(0,al.ct)(a,e);(0,ak.sd)(a)&&(0,ak.sd)(e)&&(f.fields=am(e.fields,a.fields)),c.push(f)}else c.push(a)}}),c};var an=c(62985),ao=c(79748),ap=c(33873),aq=c(25083);let ar=async({collection:a,filename:b,req:c})=>{if(b.includes("../")||b.includes("..\\"))throw new K.c(c.t);let{config:d}=a,e=await (0,aq.m)({data:{filename:b},isReadingStaticFile:!0,req:c},d.access.read);if("object"==typeof e){let a={and:[{or:[{filename:{equals:b}}]},e]};d.upload.imageSizes&&d.upload.imageSizes.forEach(({name:c})=>{a.and?.[0]?.or?.push({[`sizes.${c}.filename`]:{equals:b}})});let f=await c.payload.db.findOne({collection:d.slug,req:c,where:a});if(!f)throw new K.c(c.t);return f}};var as=c(29021);function at(a){return new ReadableStream({async pull(b){let{done:c,value:d}=await a.next();c?b.close():b.enqueue(d)}})}async function*au(a){for await(let b of a)yield new Uint8Array(b)}function av(a){return at(au(as.createReadStream(a)))}let aw={css:"text/css",csv:"text/csv",htm:"text/html",html:"text/html",js:"application/javascript",json:"application/json",md:"text/markdown",svg:"image/svg+xml",xml:"application/xml",yml:"application/x-yaml"},ax=a=>{let b=a.split(".").pop()||"txt";return{ext:b,mime:aw[b]||"text/plain"}},ay=async a=>{let b,c=p(a),d=a.routeParams?.filename;if(!c.config.upload)throw new o.L(`This collection is not an upload collection: ${c.config.slug}`,j.h.BAD_REQUEST);let e=await ar({collection:c,filename:d,req:a});if(e instanceof Response)return e;if(c.config.upload.handlers?.length){let b=null,f=new Headers;for(let g of c.config.upload.handlers)if((b=await g(a,{doc:e,headers:f,params:{collection:c.config.slug,filename:d}}))&&b instanceof Response)break;if(b instanceof Response)return b}let f=c.config.upload?.staticDir||c.config.slug,g=ap.resolve(`${f}/${d}`);try{b=await ao.stat(g)}catch(b){if("ENOENT"===b.code)return a.payload.logger.error(`File ${d} for collection ${c.config.slug} is missing on the disk. Expected path: ${g}`),Response.json({errors:[{message:"Something went wrong."}]},{headers:(0,k.y)({headers:new Headers,req:a}),status:500});throw b}let h=av(g),i=await (0,an.bN)(g)||ax(g),l=i.mime;g.endsWith(".svg")&&"application/xml"===i.mime&&(l="image/svg+xml");let m=new Headers;return m.set("Content-Type",l),m.set("Content-Length",b.size+""),m=c.config.upload?.modifyResponseHeaders&&c.config.upload.modifyResponseHeaders({headers:m})||m,new Response(h,{headers:(0,k.y)({headers:m,req:a}),status:j.h.OK})};var az=c(82905);let aA=i([{handler:async a=>{let{id:b,collection:c}=q(a,{optionalID:!0});if(!a.user)throw new K.c(a.t);let d=c?.config;if(b){if(!await (0,aq.m)({req:a},d.access.update))throw new K.c(a.t)}else if(!await (0,aq.m)({req:a},d.access?.create))throw new K.c(a.t);try{if(!a.url)throw new o.L("Request URL is missing.",400);let{searchParams:b}=new URL(a.url),c=b.get("src");if(!c||"string"!=typeof c)throw new o.L("A valid URL string is required.",400);let e=new URL(c);if("object"==typeof d.upload?.pasteURL&&!(0,az.W)(e.href,d.upload.pasteURL.allowList))throw new o.L(`The provided URL (${e.href}) is not allowed.`,400);let f=await fetch(e.href,{headers:{"Accept-Encoding":"identity"}});if(!f.ok)throw new o.L(`Failed to fetch file from ${e.href}`,f.status);let g=decodeURIComponent(e.pathname.split("/").pop()||"");return new Response(f.body,{headers:{"Content-Disposition":`attachment; filename="${g}"`,"Content-Length":f.headers.get("content-length")||"","Content-Type":f.headers.get("content-type")||"application/octet-stream"}})}catch(a){throw new o.L(`Error fetching file: ${a instanceof Error?a.message:"Unknown error"}`,500)}},method:"get",path:"/paste-url/:id?"},{handler:ay,method:"get",path:"/file/:filename"}]);var aB=c(39492);let aC=a=>(b,{siblingData:c})=>!c.filename||(b?!!(0,aB.d)(b,a)||`Invalid file type: '${b}'`:"Invalid file type"),aD=({collectionSlug:a,config:b,filename:c})=>{if(c)return`${b.serverURL||""}${b.routes?.api||""}/${a}/file/${encodeURIComponent(c)}`},aE=({collection:a,config:b})=>{let c="object"==typeof a.upload?a.upload:{},d={name:"mimeType",type:"text",admin:{hidden:!0,readOnly:!0},label:"MIME Type"},e={name:"thumbnailURL",type:"text",admin:{hidden:!0,readOnly:!0},hooks:{afterRead:[({originalDoc:c})=>{let d="boolean"!=typeof a.upload?a.upload?.adminThumbnail:void 0;return"function"==typeof d?d({doc:c}):"string"==typeof d&&"sizes"in c&&c.sizes?.[d]?.filename?aD({collectionSlug:a.slug,config:b,filename:c.sizes?.[d].filename}):null}]},label:"Thumbnail URL"},f={name:"width",type:"number",admin:{hidden:!0,readOnly:!0},label:({t:a})=>a("upload:width")},g={name:"height",type:"number",admin:{hidden:!0,readOnly:!0},label:({t:a})=>a("upload:height")},h={name:"filesize",type:"number",admin:{hidden:!0,readOnly:!0},label:({t:a})=>a("upload:fileSize")},i={name:"filename",type:"text",admin:{disableBulkEdit:!0,hidden:!0,readOnly:!0},index:!0,label:({t:a})=>a("upload:fileName")};!0!==a.upload&&("object"!=typeof a.upload||a.upload.filenameCompoundIndex)||(i.unique=!0);let j={name:"url",type:"text",admin:{hidden:!0,readOnly:!0},label:"URL"},k=[{...j,hooks:{afterRead:[({data:c,value:d})=>d&&!c?.filename?d:aD({collectionSlug:a.slug,config:b,filename:c?.filename})]}},e,i,d,h,f,g];return(!1!==c.focalPoint||c.imageSizes||c.resizeOptions)&&(k=k.concat(["focalX","focalY"].map(a=>({name:a,type:"number",admin:{disableGroupBy:!0,disableListColumn:!0,disableListFilter:!0,hidden:!0}})))),c.mimeTypes&&(d.validate=aC(c.mimeTypes)),c.imageSizes&&(k=k.concat([{name:"sizes",type:"group",admin:{hidden:!0},fields:c.imageSizes.map(c=>({name:c.name,type:"group",admin:{hidden:!0,...c.admin?.disableGroupBy&&{disableGroupBy:!0},...c.admin?.disableListColumn&&{disableListColumn:!0},...c.admin?.disableListFilter&&{disableListFilter:!0}},fields:[{...j,admin:{...j.admin,...c.admin?.disableGroupBy&&{disableGroupBy:!0},...c.admin?.disableListColumn&&{disableListColumn:!0},...c.admin?.disableListFilter&&{disableListFilter:!0}},hooks:{afterRead:[({data:d,value:e})=>{if(e&&c.height&&c.width&&!d?.filename)return e;let f=d?.sizes?.[c.name]?.filename;return f?`${b.serverURL}${b.routes?.api}/${a.slug}/file/${encodeURIComponent(f)}`:null}]}},{...f,admin:{...f.admin,...c.admin?.disableGroupBy&&{disableGroupBy:!0},...c.admin?.disableListColumn&&{disableListColumn:!0},...c.admin?.disableListFilter&&{disableListFilter:!0}}},{...g,admin:{...g.admin,...c.admin?.disableGroupBy&&{disableGroupBy:!0},...c.admin?.disableListColumn&&{disableListColumn:!0},...c.admin?.disableListFilter&&{disableListFilter:!0}}},{...d,admin:{...d.admin,...c.admin?.disableGroupBy&&{disableGroupBy:!0},...c.admin?.disableListColumn&&{disableListColumn:!0},...c.admin?.disableListFilter&&{disableListFilter:!0}}},{...h,admin:{...h.admin,...c.admin?.disableGroupBy&&{disableGroupBy:!0},...c.admin?.disableListColumn&&{disableListColumn:!0},...c.admin?.disableListFilter&&{disableListFilter:!0}}},{...i,admin:{...i.admin,...c.admin?.disableGroupBy&&{disableGroupBy:!0},...c.admin?.disableListColumn&&{disableListColumn:!0},...c.admin?.disableListFilter&&{disableListFilter:!0}},unique:!1}],label:c.name})),label:({t:a})=>a("upload:sizes")}])),k};var aF=c(93918),aG=c(44674),aH=c(87917);let aI={autosaveInterval:2e3};var aJ=c(52263);let aK=async a=>{let b=p(a),{trash:c,where:d}=a.query,e=await (0,aJ.R)({collection:b,req:a,trash:"true"===c,where:d});return Response.json(e,{status:j.h.OK})};var aL=c(96157),aM=c(61463);let aN=async a=>{let b=p(a),{searchParams:c}=a,d="true"===c.get("autosave"),e="true"===c.get("draft"),f=c.get("depth"),g=a.query.publishSpecificLocale,h=await (0,aM.k)({autosave:d,collection:b,data:a.data,depth:(0,w.E)(f)?f:void 0,draft:e,populate:E(a.query.populate),publishSpecificLocale:g,req:a,select:D(a.query.select)});return Response.json({doc:h,message:a.t("general:successfullyCreated",{label:(0,aL.s)(b.config.labels.singular,a.i18n)})},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.CREATED})};var aO=c(48037);let aP=async a=>{let b=p(a),{depth:c,overrideLock:d,populate:e,select:f,trash:g,where:h}=a.query,i=await (0,aO.N)({collection:b,depth:(0,w.E)(c)?Number(c):void 0,overrideLock:"true"===d,populate:E(e),req:a,select:D(f),trash:"true"===g,where:h}),l=(0,k.y)({headers:new Headers,req:a});if(0===i.errors.length){let c=a.t("general:deletedCountSuccessfully",{count:i.docs.length,label:(0,aL.s)(b.config.labels[1===i.docs.length?"singular":"plural"],a.i18n)});return Response.json({...i,message:c},{headers:l,status:j.h.OK})}let m=i.docs.length+i.errors.length,o=a.t("error:unableToDeleteCount",{count:i.errors.length,label:(0,aL.s)(b.config.labels[1===m?"singular":"plural"],a.i18n),total:m});return Response.json({...i,message:o},{headers:l,status:j.h.BAD_REQUEST})};var aQ=c(18897);let aR=async a=>{let{id:b,collection:c}=q(a),{searchParams:d}=a,e=d.get("depth"),f=d.get("overrideLock"),g="true"===d.get("trash"),h=await (0,aQ.l)({id:b,collection:c,depth:(0,w.E)(e)?e:void 0,overrideLock:"true"===f,populate:E(a.query.populate),req:a,select:D(a.query.select),trash:g}),i=(0,k.y)({headers:new Headers,req:a});return h?Response.json({doc:h,message:a.t("general:deletedSuccessfully")},{headers:i,status:j.h.OK}):Response.json({message:a.t("general:notFound")},{headers:i,status:j.h.NOT_FOUND})};var aS=c(19768);let aT=async a=>{let{id:b,collection:c}=q(a,{optionalID:!0}),d=await (0,aS.O)({id:b,collection:c,req:a});return Response.json(d,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var aU=c(21137);let aV=async a=>{let{id:b,collection:c}=q(a),{searchParams:d}=a,e=d.get("depth"),f="false"!==d.get("draft"),g=await (0,aU.h)({id:b,collection:c,data:a.data,depth:(0,w.E)(e)?Number(e):void 0,draft:f,populate:E(a.query.populate),req:a,select:D(a.query.select)}),h=a.t("general:successfullyDuplicated",{label:(0,aL.s)(c.config.labels.singular,a.i18n)});return Response.json({doc:g,message:h},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var aW=c(69981);let aX=async a=>{let b=p(a),{depth:c,draft:d,joins:e,limit:f,page:g,pagination:h,populate:i,select:l,sort:m,trash:o,where:q}=a.query,r=await (0,aW.L)({collection:b,depth:(0,w.E)(c)?Number(c):void 0,draft:"true"===d,joins:C(e),limit:(0,w.E)(f)?Number(f):void 0,page:(0,w.E)(g)?Number(g):void 0,pagination:"false"!==h&&void 0,populate:E(i),req:a,select:D(l),sort:"string"==typeof m?m.split(","):void 0,trash:"true"===o,where:q});return Response.json(r,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var aY=c(92073);let aZ=async a=>{let{data:b,searchParams:c}=a,{id:d,collection:e}=q(a),f=b?b.depth:c.get("depth"),g=b?b.trash:"true"===c.get("trash"),h=b?b.flattenLocales:c.has("flattenLocales")?"true"===c.get("flattenLocales"):void 0,i=await (0,aY.$)({id:d,collection:e,data:b?b?.data:c.get("data")?JSON.parse(c.get("data")):void 0,depth:(0,w.E)(f)?Number(f):void 0,draft:b?b.draft:"true"===c.get("draft"),flattenLocales:h,joins:C(a.query.joins),populate:E(a.query.populate),req:a,select:D(a.query.select),trash:g});return Response.json(i,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var a$=c(46789);let a_=async a=>{let{searchParams:b}=a,c=b.get("depth"),d="true"===b.get("trash"),{id:e,collection:f}=q(a),g=await (0,a$.L)({id:e,collection:f,depth:(0,w.E)(c)?Number(c):void 0,populate:E(a.query.populate),req:a,select:D(a.query.select),trash:d});return Response.json(g,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var a0=c(35380);let a1=async a=>{let b=p(a),{depth:c,limit:d,page:e,pagination:f,populate:g,select:h,sort:i,trash:l,where:m}=a.query,o=await (0,a0.s)({collection:b,depth:(0,w.E)(c)?Number(c):void 0,limit:(0,w.E)(d)?Number(d):void 0,page:(0,w.E)(e)?Number(e):void 0,pagination:"false"!==f&&void 0,populate:E(g),req:a,select:D(h),sort:"string"==typeof i?i.split(","):void 0,trash:"true"===l,where:m});return Response.json(o,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})},a2=async a=>{let b,{id:c,collection:d}=q(a),{searchParams:e}=a,f=e.get("depth"),g=await (0,aY.$)({id:c,collection:d,depth:(0,w.E)(f)?Number(f):void 0,draft:"true"===e.get("draft"),req:a,trash:!0}),h=a.payload?.collections?.[d.config.slug]?.config?.admin?.preview,i=(0,F.p)(a);return"function"==typeof h&&(b=await h(g,{locale:a.locale,req:a,token:i})),Response.json(b,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var a3=c(35848);let a4=async a=>{let{id:b,collection:c}=q(a),{searchParams:d}=a,e=d.get("depth"),f=d.get("draft"),g=await (0,a3.c)({id:b,collection:c,depth:(0,w.E)(e)?Number(e):void 0,draft:"true"===f||void 0,populate:E(a.query.populate),req:a});return Response.json({...g,message:a.t("version:restoredSuccessfully")},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var a5=c(34447);let a6=async a=>{let b=p(a),{depth:c,draft:d,limit:e,overrideLock:f,populate:g,select:h,sort:i,trash:l,where:m}=a.query,o=await (0,a5.L)({collection:b,data:a.data,depth:(0,w.E)(c)?Number(c):void 0,draft:"true"===d,limit:(0,w.E)(e)?Number(e):void 0,overrideLock:"true"===f,populate:E(g),req:a,select:D(h),sort:"string"==typeof i?i.split(","):void 0,trash:"true"===l,where:m}),q=(0,k.y)({headers:new Headers,req:a});if(0===o.errors.length){let c=a.t("general:updatedCountSuccessfully",{count:o.docs.length,label:(0,aL.s)(b.config.labels[1===o.docs.length?"singular":"plural"],a.i18n)});return Response.json({...o,message:c},{headers:q,status:j.h.OK})}let r=o.docs.length+o.errors.length,s=a.t("error:unableToUpdateCount",{count:o.errors.length,label:(0,aL.s)(b.config.labels[1===r?"singular":"plural"],a.i18n),total:r});return Response.json({...o,message:s},{headers:q,status:j.h.BAD_REQUEST})};var a7=c(73783);let a8=[...i([{handler:aK,method:"get",path:"/count"},{handler:aN,method:"post",path:"/"},{handler:aP,method:"delete",path:"/"},{handler:aR,method:"delete",path:"/:id"},{handler:aT,method:"post",path:"/access/:id?"},{handler:a1,method:"get",path:"/versions"},{handler:aV,method:"post",path:"/:id/duplicate"},{handler:aX,method:"get",path:"/"},{handler:aZ,method:"get",path:"/:id"},{handler:a_,method:"get",path:"/versions/:id"},{handler:a2,method:"get",path:"/:id/preview"},{handler:a4,method:"post",path:"/versions/:id"},{handler:a6,method:"patch",path:"/"},{handler:async a=>{let{id:b,collection:c}=q(a),{searchParams:d}=a,e=d.get("depth"),f="true"===d.get("autosave"),g="true"===d.get("draft"),h=d.get("overrideLock"),i="true"===d.get("trash"),l=a.query.publishSpecificLocale,m=await (0,a7.Z)({id:b,autosave:f,collection:c,data:a.data,depth:(0,w.E)(e)?Number(e):void 0,draft:g,overrideLock:"true"===h,populate:E(a.query.populate),publishSpecificLocale:l,req:a,select:D(a.query.select),trash:i}),o=a.t("general:updatedSuccessfully");return g&&(o=a.t("version:draftSavedSuccessfully")),f&&(o=a.t("version:autosavedSuccessfully")),Response.json({doc:m,message:o},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})},method:"patch",path:"/:id"}])];var a9=c(29617);a9.I,a9.I,a9.I,a9.I,a9.I;let ba=a=>(a.access={create:a9.I,delete:a9.I,read:a9.I,unlock:a9.I,update:a9.I,...a.access||{}},a.admin={components:{},custom:{},enableRichTextLink:!0,enableRichTextRelationship:!0,useAsTitle:"id",...a.admin||{},pagination:{defaultLimit:10,limits:[5,10,25,50,100],...a.admin?.pagination||{}}},a.auth=a.auth??!1,a.custom=a.custom??{},a.endpoints=a.endpoints??[],a.fields=a.fields??[],a.folders=a.folders??!1,a.hooks={afterChange:[],afterDelete:[],afterForgotPassword:[],afterLogin:[],afterLogout:[],afterMe:[],afterOperation:[],afterRead:[],afterRefresh:[],beforeChange:[],beforeDelete:[],beforeLogin:[],beforeOperation:[],beforeRead:[],beforeValidate:[],me:[],refresh:[],...a.hooks||{}},a.timestamps=a.timestamps??!0,a.upload=a.upload??!1,a.versions=a.versions??!1,a.indexes=a.indexes??[],a),bb=a=>(a.cookies={sameSite:"Lax",secure:!1,...a.cookies||{}},a.forgotPassword=a.forgotPassword??{},a.lockTime=a.lockTime??6e5,a.loginWithUsername=a.loginWithUsername??!1,a.maxLoginAttempts=a.maxLoginAttempts??5,a.tokenExpiration=a.tokenExpiration??7200,a.useSessions=a.useSessions??!0,a.verify=a.verify??!1,a.strategies=a.strategies??[],a.disableLocalStrategy||!0!==a.verify||(a.verify={}),a),bc=a=>({allowEmailLogin:!1,requireEmail:!1,requireUsername:!0,...a||{}});var bd=c(47800),be=c(66456);let bf=({fields:a,indexes:b})=>{let c=[];for(let d of b){let b={fields:[],unique:d.unique??!1};for(let c of d.fields){let d=(0,be.p)({fields:a,path:c});if(!d)throw new bd.s(`Field ${c} was not found`);let{field:e,localizedPath:f,pathHasLocalized:g}=d;if(["array","blocks","group","tab"].includes(e.type))throw new bd.s(`Compound index on ${e.type} cannot be set. Path: ${f}`);b.fields.push({field:e,localizedPath:f,path:c,pathHasLocalized:g})}c.push(b)}return c};var bg=c(75492);let bh=a=>{if(a.admin?.useAsTitle?.includes("."))throw new bd.s(`"useAsTitle" cannot be a nested field. Please specify a top-level field in the collection "${a.slug}"`);if(a?.admin&&a.admin?.useAsTitle&&"id"!==a.admin.useAsTitle){let b=(0,bg.L)(a.fields).find(b=>!!(0,ak.Z7)(b)&&!!a.admin&&b.name===a.admin.useAsTitle);if(a.auth){if("email"!==a.admin.useAsTitle&&!b)throw new bd.s(`The field "${a.admin.useAsTitle}" specified in "admin.useAsTitle" does not exist in the collection "${a.slug}"`)}else{if(b&&"virtual"in b&&!0===b.virtual)throw new bd.s(`The field "${a.admin.useAsTitle}" specified in "admin.useAsTitle" in the collection "${a.slug}" is virtual. A virtual field can be used as the title only when linked to a relationship field.`);if(!b)throw new bd.s(`The field "${a.admin.useAsTitle}" specified in "admin.useAsTitle" does not exist in the collection "${a.slug}"`)}}},bi=async(a,b,c,d)=>{if(b._sanitized)return b;b._sanitized=!0;let e=ba(b),f=d??a.collections.map(a=>a.slug)??[],g={},h=[];if(e.fields=await (0,aj.b)({collectionConfig:e,config:a,fields:e.fields,joinPath:"",joins:g,parentIsLocalized:!1,polymorphicJoins:h,richTextSanitizationPromises:c,validRelationships:f}),!1!==e.endpoints){if(e.endpoints||(e.endpoints=[]),e.auth)for(let a of Z)e.endpoints.push(a);if(e.upload)for(let a of aA)e.endpoints.push(a);for(let a of a8)e.endpoints.push(a)}if(!1!==e.timestamps){let a=null,b=null,c=null;e.fields.some(d=>((0,ak.Z7)(d)&&("updatedAt"===d.name&&(a=!0),"createdAt"===d.name&&(b=!0),"deletedAt"===d.name&&(c=!0)),b&&a&&(!e.trash||c))),a||e.fields.push({name:"updatedAt",type:"date",admin:{disableBulkEdit:!0,hidden:!0},index:!0,label:({t:a})=>a("general:updatedAt")}),b||e.fields.push({name:"createdAt",admin:{disableBulkEdit:!0,hidden:!0},type:"date",index:!0,label:({t:a})=>a("general:createdAt")}),e.trash&&!c&&e.fields.push({name:"deletedAt",type:"date",admin:{disableBulkEdit:!0,hidden:!0},index:!0,label:({t:a})=>a("general:deletedAt")})}let i=(0,aG.h6)(e.slug);if(e.labels={plural:e.labels?.plural||i.plural,singular:e.labels?.singular||i.singular},e.versions){if(!0===e.versions&&(e.versions={drafts:!1,maxPerDoc:100}),!1===e.timestamps)throw new ai(b);e.versions.maxPerDoc="number"==typeof e.versions.maxPerDoc?e.versions.maxPerDoc:100,e.versions.drafts&&(!0===e.versions.drafts&&(e.versions.drafts={autosave:!1,validate:!1}),!0===e.versions.drafts.autosave&&(e.versions.drafts.autosave={interval:aI.autosaveInterval}),void 0===e.versions.drafts.validate&&(e.versions.drafts.validate=!1),e.fields=am(e.fields,aH.nz))}if(!0===e.folders?e.folders={browseByFolder:!0}:e.folders&&(e.folders.browseByFolder=e.folders.browseByFolder??!0),e.upload){!0===e.upload&&(e.upload={}),e.upload.cacheTags=e.upload?.cacheTags??!0,e.upload.bulkUpload=e.upload?.bulkUpload??!0,e.upload.staticDir=e.upload.staticDir||e.slug,e.admin.useAsTitle=e.admin?.useAsTitle&&"id"!==e.admin.useAsTitle?e.admin.useAsTitle:"filename";let b=aE({collection:e,config:a});e.fields=am(e.fields,b)}if(e.auth){if(e.auth=bb("boolean"==typeof e.auth?{}:e.auth),e.disableDuplicate=e.disableDuplicate??!0,e.auth.loginWithUsername)if(!0===e.auth.loginWithUsername)e.auth.loginWithUsername=bc({});else{let a=bc(e.auth.loginWithUsername);!1===a.allowEmailLogin&&(a.requireUsername=!0),e.auth.loginWithUsername=a}else e.auth.loginWithUsername=!1;b?.admin?.useAsTitle||(e.admin.useAsTitle=e.auth.loginWithUsername?"username":"email"),e.fields=am(e.fields,ah(e.auth))}b?.admin?.pagination?.limits?.length&&(e.admin.pagination.limits=b.admin.pagination.limits),bh(e);let j=e;return j.joins=g,j.polymorphicJoins=h,j.flattenedFields=(0,aF.r)({fields:j.fields}),j.sanitizedIndexes=bf({fields:j.flattenedFields,indexes:j.indexes}),j},bj={slug:"payload-migrations",admin:{hidden:!0},endpoints:!1,fields:[{name:"name",type:"text"},{name:"batch",type:"number"}],graphQL:!1,lockDocuments:!1};class bk extends o.L{constructor(a,b){super(`Collection ${a} already in use: "${b}"`)}}var bl=c(64701),bm=c(61644);let bn=({collectionSpecific:a,folderFieldName:b,folderSlug:c,overrides:d={}})=>{let e={name:b,type:"relationship",admin:{},hasMany:!1,index:!0,label:"Folder",relationTo:c,validate:async(b,{collectionSlug:d,data:e,overrideAccess:f,previousValue:g,req:h})=>{if(!a||!b)return!0;let i=(0,bm.r)(b);if(g&&(0,bm.r)(g)===i)return!0;{let a=null;if(("string"==typeof b||"number"==typeof b)&&(a=await h.payload.findByID({id:i,collection:c,depth:0,overrideAccess:f,req:h,select:{folderType:!0},user:h.user})),!a||!d)return`Folder with ID ${i} not found in collection ${c}`;{let b=a.folderType||[];if(0===b.length)return!0;if(d===c){let a=("folderType"in e?e.folderType:[]).filter(a=>!b.includes(a));return 0===a.length||`Folder with ID ${i} does not allow documents of type ${a.join(", ")}`}return!!b.includes(d)||`Folder with ID ${i} does not allow documents of type ${d}`}}}};return d?.admin&&(e.admin={...e.admin,...d.admin||{}},d.admin.components&&(e.admin.components={...e.admin.components,...d.admin.components||{}})),e},bo=({folderFieldName:a,folderSlug:b})=>async({id:c,req:d})=>{await d.payload.delete({collection:b,req:d,where:{[a]:{equals:c}}})},bp=({collectionSlugs:a,folderFieldName:b})=>async({id:c,req:d})=>{for(let e of a)await d.payload.update({collection:e,data:{[b]:null},req:d,where:{[b]:{equals:c}}})};var bq=c(2146);let br=({foldersSlug:a})=>async({data:b,originalDoc:c,req:d})=>{let e=(0,bm.r)(c||{}),f=(0,bm.r)(b?.folder||c?.folder||{});if(Array.isArray(b?.folderType)&&b.folderType.length>0){let f=b.folderType,g=Array.isArray(c?.folderType)&&c.folderType.length>0?c.folderType:void 0,h=g?g.filter(a=>!f.includes(a)):f;if(h&&h.length>0){let f=!1;("string"==typeof e||"number"==typeof e)&&(f=(await d.payload.findByID({id:e,collection:a,joins:{documentsAndFolders:{limit:1e8,where:{or:[{relationTo:{in:h}}]}}},overrideAccess:!0,req:d})).documentsAndFolders.docs.length>0);let g=!1;if(f||"string"!=typeof e&&"number"!=typeof e||(g=(await d.payload.find({collection:a,limit:1,req:d,where:{and:[{folderType:{in:h}},{folder:{equals:e}}]}})).totalDocs>0),f||g){let a=h.map(a=>d.payload.collections[a]?.config.labels.singular?(0,bq.B)(d.payload.collections[a]?.config.labels.plural,d.i18n):a);throw new o.L(`The folder "${b.name||c.name}" contains ${f?"documents":"folders"} that still belong to the following collections: ${a.join(", ")}`,400)}}}else if((b?.folderType===null||Array.isArray(b?.folderType)&&b?.folderType.length===0)&&f){let e;if("string"==typeof f||"number"==typeof f)try{e=await d.payload.findByID({id:f,collection:a,overrideAccess:!0,req:d,select:{name:!0,folderType:!0},user:d.user})}catch(a){}if(e&&e?.folderType&&Array.isArray(e.folderType)&&e.folderType.length>0)throw new o.L(`The folder "${b?.name||c.name}" must have folder-type set since its parent folder ${e?.name?`"${e?.name}" `:""}has a folder-type set.`,400)}return b};async function bs({folderCollectionSlug:a,folderFieldName:b,folderID:c,parentIDToFind:d,payload:e}){let f=await e.findByID({id:c,collection:a}),g=f[b]?(0,bm.r)(f[b]):void 0;return!!g&&(g===d||bs({folderCollectionSlug:a,folderFieldName:b,folderID:g,parentIDToFind:d,payload:e}))}let bt=({folderFieldName:a})=>async({doc:b,previousDoc:c,req:d})=>{if(c[a]!==b[a]&&b[a]&&d.payload.config.folders){let e=(0,bm.r)(b[a]);e&&await bs({folderCollectionSlug:d.payload.config.folders.slug,folderFieldName:a,folderID:e,parentIDToFind:b.id,payload:d.payload})&&await d.payload.update({id:e,collection:d.payload.config.folders.slug,data:{[a]:c[a]?(0,bm.r)(c[a]):null},req:d})}},bu=({slug:a,collectionSpecific:b,debug:c,folderEnabledCollections:d,folderFieldName:e})=>{let{collectionOptions:f,collectionSlugs:g}=d.reduce((a,b)=>(a.collectionSlugs.push(b.slug),a.collectionOptions.push({label:b.labels?.plural||b.slug,value:b.slug}),a),{collectionOptions:[],collectionSlugs:[]});return{slug:a,access:{create:a9.I,delete:a9.I,read:a9.I,readVersions:a9.I,update:a9.I},admin:{hidden:!c,useAsTitle:"name"},fields:[{name:"name",type:"text",index:!0,required:!0},bn({collectionSpecific:b,folderFieldName:e,folderSlug:a,overrides:{admin:{hidden:!c}}}),{name:"documentsAndFolders",type:"join",admin:{hidden:!c},collection:[a,...g],hasMany:!0,on:e},...b?[{name:"folderType",type:"select",admin:{components:{Field:{clientProps:{options:f},path:"@payloadcms/ui#FolderTypeField"}},position:"sidebar"},hasMany:!0,options:f}]:[]],hooks:{afterChange:[bt({folderFieldName:e})],afterDelete:[bp({collectionSlugs:g,folderFieldName:e})],beforeDelete:[bo({folderFieldName:e,folderSlug:a})],beforeValidate:[...b?[br({foldersSlug:a})]:[]]},labels:{plural:"Folders",singular:"Folder"},typescript:{interface:"FolderInterface"}}};async function bv({collectionSpecific:a,config:b,folderEnabledCollections:c,richTextSanitizationPromises:d=[],validRelationships:e=[]}){if(!1===b.folders)return;let f=bu({slug:b.folders.slug,collectionSpecific:a,debug:b.folders.debug,folderEnabledCollections:c,folderFieldName:b.folders.fieldName}),g=b.collections.push(f);if(Array.isArray(b.folders?.collectionOverrides)&&b?.folders.collectionOverrides.length)for(let a of b.folders.collectionOverrides)f=await a({collection:f});let h=await bi(b,f,d,e);b.collections[g-1]=h}let bw=({collection:a,collectionSpecific:b,folderFieldName:c,folderSlug:d})=>{a.fields.push(bn({collectionSpecific:b,folderFieldName:c,folderSlug:d,overrides:{admin:{allowCreate:!1,allowEdit:!1,components:{Cell:"@payloadcms/ui/rsc#FolderTableCell",Field:"@payloadcms/ui/rsc#FolderField"}}}}))};var bx=c(96519);let by=async a=>{let b=r(a),c=await (0,bx.O)({globalConfig:b,req:a});return Response.json(c,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var bz=c(370);let bA=async a=>{let b=r(a),{data:c,searchParams:d}=a,e=c?c.depth:d.get("depth"),f=c?c.flattenLocales:d.has("flattenLocales")?"true"===d.get("flattenLocales"):void 0,g=await (0,bz.j)({slug:b.slug,data:c?c?.data:d.get("data")?JSON.parse(d.get("data")):void 0,depth:(0,w.E)(e)?Number(e):void 0,draft:c?c.draft:"true"===d.get("draft"),flattenLocales:f,globalConfig:b,populate:E(a.query.populate),req:a,select:D(a.query.select)});return Response.json(g,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var bB=c(2338);let bC=async a=>{let b=r(a),{searchParams:c}=a,d=c.get("depth"),e=await (0,bB.L)({id:a.routeParams.id,depth:(0,w.E)(d)?Number(d):void 0,globalConfig:b,populate:E(a.query.populate),req:a,select:D(a.query.select)});return Response.json(e,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var bD=c(54321);let bE=async a=>{let b=r(a),{depth:c,limit:d,page:e,pagination:f,populate:g,select:h,sort:i,where:l}=a.query,m=await (0,bD.s)({depth:(0,w.E)(c)?Number(c):void 0,globalConfig:b,limit:(0,w.E)(d)?Number(d):void 0,page:(0,w.E)(e)?Number(e):void 0,pagination:"false"!==f&&void 0,populate:E(g),req:a,select:D(h),sort:"string"==typeof i?i.split(","):void 0,where:l});return Response.json(m,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})},bF=async a=>{let b,c=r(a),{searchParams:d}=a,e=d.get("depth"),f=await (0,bz.j)({slug:c.slug,depth:(0,w.E)(e)?Number(e):void 0,draft:"true"===d.get("draft"),globalConfig:c,req:a}),g=a.payload.config.globals.find(a=>a.slug===c.slug)?.admin?.preview,h=(0,F.p)(a);return"function"==typeof g&&(b=await g(f,{locale:a.locale,req:a,token:h})),Response.json(b,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var bG=c(83421);let bH=async a=>{let b=r(a),{searchParams:c}=a,d=c.get("depth"),e=c.get("draft"),f=await (0,bG.c)({id:a.routeParams.id,depth:(0,w.E)(d)?Number(d):void 0,draft:"true"===e||void 0,globalConfig:b,populate:E(a.query.populate),req:a});return Response.json({doc:f,message:a.t("version:restoredSuccessfully")},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var bI=c(12448);let bJ=i([{handler:by,method:"post",path:"/access"},{handler:bA,method:"get",path:"/"},{handler:bC,method:"get",path:"/versions/:id"},{handler:bE,method:"get",path:"/versions"},{handler:bF,method:"get",path:"/preview"},{handler:bH,method:"post",path:"/versions/:id"},{handler:async a=>{let b=r(a),{searchParams:c}=a,d=c.get("depth"),e="true"===c.get("draft"),f="true"===c.get("autosave"),g=a.query.publishSpecificLocale,h=await (0,bI.L)({slug:b.slug,autosave:f,data:a.data,depth:(0,w.E)(d)?Number(d):void 0,draft:e,globalConfig:b,populate:E(a.query.populate),publishSpecificLocale:g,req:a,select:D(a.query.select)}),i=a.t("general:updatedSuccessfully");return e&&(i=a.t("version:draftSavedSuccessfully")),f&&(i=a.t("version:autosavedSuccessfully")),Response.json({message:i,result:h},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})},method:"post",path:"/"}]),bK=async(a,b,c,d)=>{if(b._sanitized)return b;b._sanitized=!0,b.label=b.label||(0,aG.x4)(b.slug),b.endpoints=b.endpoints??[],b.hooks||(b.hooks={}),b.access||(b.access={}),b.admin||(b.admin={}),b.access.read||(b.access.read=a9.I),b.access.update||(b.access.update=a9.I),b.hooks.beforeValidate||(b.hooks.beforeValidate=[]),b.hooks.beforeChange||(b.hooks.beforeChange=[]),b.hooks.afterChange||(b.hooks.afterChange=[]),b.hooks.beforeRead||(b.hooks.beforeRead=[]),b.hooks.afterRead||(b.hooks.afterRead=[]);let e=d??a.collections?.map(a=>a.slug)??[];if(b.fields=await (0,aj.b)({config:a,fields:b.fields,globalConfig:b,parentIsLocalized:!1,richTextSanitizationPromises:c,validRelationships:e}),!1!==b.endpoints)for(let a of(b.endpoints||(b.endpoints=[]),bJ))b.endpoints.push(a);b.versions&&(!0===b.versions&&(b.versions={drafts:!1,max:100}),b.versions.max="number"==typeof b.versions.max?b.versions.max:100,b.versions.drafts&&(!0===b.versions.drafts&&(b.versions.drafts={autosave:!1,validate:!1}),!0===b.versions.drafts.autosave&&(b.versions.drafts.autosave={interval:aI.autosaveInterval}),void 0===b.versions.drafts.validate&&(b.versions.drafts.validate=!1),b.fields=am(b.fields,aH.nz))),b.custom||(b.custom={});let f=null,g=null;return b.fields.some(a=>((0,ak.Z7)(a)&&("updatedAt"===a.name&&(f=!0),"createdAt"===a.name&&(g=!0)),g&&f)),f||b.fields.push({name:"updatedAt",type:"date",admin:{disableBulkEdit:!0,hidden:!0},label:({t:a})=>a("general:updatedAt")}),g||b.fields.push({name:"createdAt",type:"date",admin:{disableBulkEdit:!0,hidden:!0},label:({t:a})=>a("general:createdAt")}),b.flattenedFields=(0,aF.r)({fields:b.fields}),b};var bL=c(32913),bM=c(70151),bN=c(14196);let bO=a=>a?a.or&&!a.and?{or:a.or.map(a=>a.and?a:{and:[a]})}:a.and&&!a.or?{or:[{and:a.and}]}:a.or||a.and?a:{or:[{and:[a]}]}:{};var bP=c(30520);let bQ=a=>!!(a?.or&&(a?.or?.length===0||a?.or?.length>0&&a?.or?.[0]?.and&&a?.or?.[0]?.and?.length>0))&&a.or.every(a=>!!(a.and&&Array.isArray(a.and))&&a.and.every(a=>{if("object"!=typeof a)return!1;let b=Object.keys(a);if(0===b.length)return!1;for(let c of b){let b=Object.keys(a[c])[0];if(!b||!bP.L.has(b))return!1}return!0})),bR=["delete","read","update","create"],bS={create:a9.I,delete:a9.I,read:a9.I,unlock:a9.I,update:a9.I},bT=a=>bR.reduce((b,c)=>(b[c]=async b=>{let{req:d}=b,e=a?.queryPresets?.access?.[c]?await a.queryPresets.access[c](b):!bS?.[c]||bS[c](b);return!1!==e&&("create"===c?e:{and:[{or:[...d?.user?[{and:[{[`access.${c}.users`]:{in:[d.user.id]}},{[`access.${c}.constraint`]:{in:["onlyMe","specificUsers"]}}]}]:[],{[`access.${c}.constraint`]:{equals:"everyone"}},...await Promise.all((a?.queryPresets?.constraints?.[c]||[]).map(async a=>{let d=a.access?await a.access(b):void 0;return{and:[..."object"==typeof d?[d]:!1===d?[{id:{equals:null}}]:[],{[`access.${c}.constraint`]:{equals:a.value}}]}}))]},..."object"==typeof e?[e]:[]]})},b),{});var bU=c(75423);let bV=async(a,{data:b,overrideAccess:c,req:d})=>{if(!d.context._preventLockout&&!c){let a=await (0,bU.M)({context:{_preventLockout:!0},req:{user:d.user}},d.payload),c=await (0,N.n)(a),e=await a.payload.create({collection:bZ,data:{...b,isTemp:!0},req:a}),f=!1,g=!1;try{await a.payload.findByID({id:e.id,collection:bZ,overrideAccess:!1,req:a,user:a.user}),g=!0,await a.payload.update({id:e.id,collection:bZ,data:e,overrideAccess:!1,req:a,user:a.user}),f=!0}catch(a){if(!g||!f)throw new o.L("This action will lock you out of this preset.",403,{},!0)}finally{c?await (0,O.J)(a):await a.payload.delete({id:e.id,collection:bZ,req:a})}}return!0},bW=["read","update","delete"],bX=[{label:"Everyone",value:"everyone"},{label:"Only Me",value:"onlyMe"},{label:"Specific Users",value:"specificUsers"}],bY=a=>({name:"access",type:"group",admin:{components:{Cell:"@payloadcms/ui#QueryPresetsAccessCell"},condition:a=>!!a?.isShared},fields:bW.map(b=>({type:"collapsible",fields:[{name:b,type:"group",admin:{hideGutter:!0},fields:[{name:"constraint",type:"select",defaultValue:"onlyMe",filterOptions:b=>"function"==typeof a?.queryPresets?.filterConstraints?a.queryPresets.filterConstraints(b):b.options,label:({i18n:c})=>`Specify who can ${b} this ${(0,aL.s)(a.queryPresets?.labels?.singular||"Preset",c)}`,options:[...bX,...a?.queryPresets?.constraints?.[b]?.map(a=>({label:a.label,value:a.value}))||[]]},{name:"users",type:"relationship",admin:{condition:a=>a?.access?.[b]?.constraint==="specificUsers"},hasMany:!0,hooks:{beforeChange:[({data:a,req:c})=>a?.access?.[b]?.constraint==="onlyMe"&&c.user?[c.user.id]:a?.access?.[b]?.constraint==="specificUsers"&&c.user?[...a?.access?.[b]?.users||[],c.user.id]:void 0]},relationTo:a.admin?.user??"users"},...a?.queryPresets?.constraints?.[b]?.reduce((a,c)=>(c.fields?.forEach((d,e)=>{a.push({...d}),(0,ak.Z7)(d)&&(a[e].admin={...a[e]?.admin||{},condition:a=>a?.access?.[b]?.constraint===c.value})}),a),[])||[]],label:!1}],label:()=>(0,aG.x4)(b)})),label:"Sharing settings",validate:bV}),bZ="payload-query-presets",b$=a=>({slug:bZ,access:bT(a),admin:{defaultColumns:["title","isShared","access","where","columns"],hidden:!0,useAsTitle:"title"},fields:[{name:"title",type:"text",required:!0},{name:"isShared",type:"checkbox",defaultValue:!1,validate:(a,{data:b})=>{let c=b;if(c?.access){let b=Object.values(c.access).some(a=>"onlyMe"!==a.constraint);if(!a&&b)return'If any constraint is not "onlyMe", the preset must be shared'}return!0}},bY(a),{name:"where",type:"json",admin:{components:{Cell:"@payloadcms/ui#QueryPresetsWhereCell",Field:"@payloadcms/ui#QueryPresetsWhereField"}},hooks:{beforeValidate:[({data:a})=>{if(a?.where)if(bQ(a.where))return a.where;else return bO(a.where);return a?.where}]},label:"Filters"},{name:"columns",type:"json",admin:{components:{Cell:"@payloadcms/ui#QueryPresetsColumnsCell",Field:"@payloadcms/ui#QueryPresetsColumnField"}},validate:a=>{if(a)try{JSON.parse(JSON.stringify(a))}catch{return"Invalid JSON"}return!0}},{name:"relatedCollection",type:"select",admin:{hidden:!0},options:a.collections?a.collections.reduce((a,b)=>(b.enableQueryPresets&&a.push({label:b.labels?.plural||b.slug,value:b.slug}),a),[]):[],required:!0},{name:"isTemp",type:"checkbox",admin:{description:"This is a temporary field used to determine if updating the preset would remove the user's access to it. When `true`, this record will be deleted after running the preset's `validate` function.",disabled:!0,hidden:!0}}],hooks:{beforeValidate:[({data:a,operation:b})=>{let c=a;if(("create"===b||"update"===b)&&(bW.forEach(a=>{c.access||(c.access={}),c.access?.[a]||(c[a]={}),c.access[a]?.constraint||(c.access[a]={...c.access[a],constraint:"onlyMe"})}),c?.access)){let a=Object.values(c.access).some(a=>"onlyMe"!==a.constraint);c.isShared=a}return c}]},labels:{plural:"Presets",singular:"Preset",...a.queryPresets?.labels||{}},lockDocuments:!1});var b_=c(82222),b0=c(23699);let b1=({adminUserSlug:a,collections:b,globals:c})=>({slug:"schedulePublish",handler:async({input:b,req:c})=>{let d,e=b?.type!=="publish"&&b?.type?"draft":"published",f=b.user,g=null;return f&&((g=await c.payload.findByID({id:f,collection:a,depth:0})).collection=a),b?.type==="publish"&&b.locale&&c.payload.config.localization&&c.payload.config.localization.locales.find(({code:a})=>a===b.locale)&&(d=b.locale),b.doc&&await c.payload.update({id:b.doc.value,collection:b.doc.relationTo,data:{_status:e},depth:0,overrideAccess:null===g,publishSpecificLocale:d,user:g}),b.global&&await c.payload.updateGlobal({slug:b.global,data:{_status:e},depth:0,overrideAccess:null===g,publishSpecificLocale:d,user:g}),{output:{}}},inputSchema:[{name:"type",type:"radio",defaultValue:"publish",options:["publish","unpublish"]},{name:"locale",type:"text"},...b.length>0?[{name:"doc",type:"relationship",relationTo:b}]:[],{name:"global",type:"select",options:c},{name:"user",type:"relationship",relationTo:a}]}),b2="payload-folders",b3="folder";"function"==typeof process?.cwd&&process.cwd(),"function"==typeof process?.cwd&&process.cwd(),a9.I,"function"==typeof process?.cwd&&process.cwd();let b4=a=>(a.admin={avatar:"gravatar",components:{},custom:{},dateFormat:"MMMM do yyyy, h:mm a",dependencies:{},theme:"all",...a.admin||{},importMap:{baseDir:`${"function"==typeof process?.cwd?process.cwd():""}`,...a?.admin?.importMap||{}},meta:{defaultOGImageType:"dynamic",robots:"noindex, nofollow",titleSuffix:"- Payload",...a?.admin?.meta||{}},routes:{account:"/account",browseByFolder:"/browse-by-folder",createFirstUser:"/create-first-user",forgot:"/forgot",inactivity:"/logout-inactivity",login:"/login",logout:"/logout",reset:"/reset",unauthorized:"/unauthorized",...a?.admin?.routes||{}}},a.bin=a.bin??[],a.collections=a.collections??[],a.cookiePrefix=a.cookiePrefix??"payload",a.cors=a.cors??[],a.csrf=a.csrf??[],a.custom=a.custom??{},a.defaultDepth=a.defaultDepth??2,a.defaultMaxTextLength=a.defaultMaxTextLength??4e4,a.endpoints=a.endpoints??[],a.globals=a.globals??[],a.graphQL={disableIntrospectionInProduction:!0,disablePlaygroundInProduction:!0,maxComplexity:1e3,schemaOutputFile:`${"function"==typeof process?.cwd?process.cwd():""}/schema.graphql`,...a.graphQL||{}},a.hooks=a.hooks??{},a.i18n=a.i18n??{},a.jobs={deleteJobOnComplete:!0,depth:0,...a.jobs||{},access:{run:a9.I,...a.jobs?.access||{}}},a.localization=a.localization??!1,a.maxDepth=a.maxDepth??10,a.routes={admin:"/admin",api:(process.env.NEXT_BASE_PATH??"")+"/api",graphQL:"/graphql",graphQLPlayground:"/graphql-playground",...a.routes||{}},a.serverURL=a.serverURL??"",a.telemetry=a.telemetry??!0,a.typescript={autoGenerate:!0,outputFile:`${"function"==typeof process?.cwd?process.cwd():""}/payload-types.ts`,...a.typescript||{}},a.upload=a.upload??{},a.auth={jwtOrder:["JWT","Bearer","cookie"],...a.auth||{}},!1!==a.folders&&a.collections.some(a=>!!a.folders)?a.folders={slug:a.folders?.slug??b2,browseByFolder:a.folders?.browseByFolder??!0,collectionOverrides:a.folders?.collectionOverrides||void 0,collectionSpecific:a.folders?.collectionSpecific??!0,debug:a.folders?.debug??!1,fieldName:a.folders?.fieldName??b3}:a.folders=!1,a);var b5=c(95625);let b6="0123456789abcdefghijklmnopqrstuvwxyz";function b7(a,b,c){let d=c[0];if(null!=b&&a>=b)throw Error(a+" >= "+b);if(a.slice(-1)===d||b&&b.slice(-1)===d)throw Error("trailing zero");if(b){let e=0;for(;(a[e]||d)===b[e];)e++;if(e>0)return b.slice(0,e)+b7(a.slice(e),b.slice(e),c)}let e=a?c.indexOf(a[0]):0,f=null!=b?c.indexOf(b[0]):c.length;return f-e>1?c[Math.round(.5*(e+f))]:b&&b.length>1?b.slice(0,1):c[e]+b7(a.slice(1),null,c)}function b8(a){if(a.length!==b9(a[0]))throw Error("invalid integer part of order key: "+a)}function b9(a){if(a>="a"&&a<="z")return a.charCodeAt(0)-97+2;if(a>="A"&&a<="Z")return 90-a.charCodeAt(0)+2;throw Error("invalid order key head: "+a)}function ca(a){let b=b9(a[0]);if(b>a.length)throw Error("invalid order key: "+a);return a.slice(0,b)}function cb(a,b){if(a==="A"+b[0].repeat(26))throw Error("invalid order key: "+a);let c=ca(a);if(a.slice(c.length).slice(-1)===b[0])throw Error("invalid order key: "+a)}function cc(a,b){b8(a);let[c,...d]=a.split(""),e=!0;for(let a=d.length-1;e&&a>=0;a--){let c=b.indexOf(d[a])+1;c===b.length?d[a]=b[0]:(d[a]=b[c],e=!1)}if(!e)return c+d.join("");{if("Z"===c)return"a"+b[0];if("z"===c)return null;let a=String.fromCharCode(c.charCodeAt(0)+1);return a>"a"?d.push(b[0]):d.pop(),a+d.join("")}}function cd(a,b){b8(a);let[c,...d]=a.split(""),e=!0;for(let a=d.length-1;e&&a>=0;a--){let c=b.indexOf(d[a])-1;-1===c?d[a]=b.slice(-1):(d[a]=b[c],e=!1)}if(!e)return c+d.join("");{if("a"===c)return"Z"+b.slice(-1);if("A"===c)return null;let a=String.fromCharCode(c.charCodeAt(0)-1);return a<"Z"?d.push(b.slice(-1)):d.pop(),a+d.join("")}}function ce(a,b,c=b6){if(null!=a&&cb(a,c),null!=b&&cb(b,c),null!=a&&null!=b&&a>=b)throw Error(a+" >= "+b);if(null==a){if(null==b)return"a"+c[0];let a=ca(b),d=b.slice(a.length);if(a==="A"+c[0].repeat(26))return a+b7("",d,c);if(a<b)return a;let e=cd(a,c);if(null==e)throw Error("cannot decrement any more");return e}if(null==b){let b=ca(a),d=a.slice(b.length),e=cc(b,c);return null==e?b+b7(d,null,c):e}let d=ca(a),e=a.slice(d.length),f=ca(b),g=b.slice(f.length);if(d===f)return d+b7(e,g,c);let h=cc(d,c);if(null==h)throw Error("cannot increment any more");return h<b?h:d+b7(e,null,c)}function cf(a,b,c,d=b6){if(0===c)return[];if(1===c)return[ce(a,b,d)];if(null==b){let e=ce(a,b,d),f=[e];for(let a=0;a<c-1;a++)f.push(e=ce(e,b,d));return f}if(null==a){let e=ce(a,b,d),f=[e];for(let b=0;b<c-1;b++)f.push(e=ce(a,e,d));return f.reverse(),f}let e=Math.floor(c/2),f=ce(a,b,d);return[...cf(a,f,e,d),f,...cf(f,b,c-e-1,d)]}let cg=a=>{let b=new Map;a.collections.forEach(c=>{if(c.orderable){let a=b.get(c)||[];b.set(c,[...a,"_order"]),c.defaultSort=c.defaultSort??"_order"}(0,b5.m)({callback:({field:c,parentRef:d,ref:e})=>{if("array"===c.type||"blocks"===c.type)return!1;if("group"===c.type||"tab"===c.type){let a=d?.prefix?`${d.prefix}_`:"";e.prefix=`${a}${c.name}`}if("join"===c.type&&!0===c.orderable){if(Array.isArray(c.collection))throw new o.L("Orderable joins must target a single collection",j.h.BAD_REQUEST,{},!0);let e=a.collections.find(a=>a.slug===c.collection);if(!e)return!1;c.defaultSort=c.defaultSort??`_${c.collection}_${c.name}_order`;let f=b.get(e)||[],g=d?.prefix?`${d.prefix}_`:"";b.set(e,[...f,`_${c.collection}_${g}${c.name}_order`])}},fields:c.fields})}),Array.from(b.entries()).forEach(([a,b])=>{ch(a,b)}),b.size>0&&ci(a)},ch=(a,b)=>{b.forEach(b=>{let c={name:b,type:"text",admin:{disableBulkEdit:!0,disabled:!0,disableGroupBy:!0,disableListColumn:!0,disableListFilter:!0,hidden:!0,readOnly:!0},hooks:{beforeDuplicate:[({siblingData:a})=>{delete a[b]}]},index:!0};a.fields.unshift(c)}),a.hooks||(a.hooks={}),a.hooks.beforeChange||(a.hooks.beforeChange=[]);let c=async({data:c,originalDoc:d,req:e})=>{for(let f of b)if(!c[f]&&!d?.[f]){let b=await e.payload.find({collection:a.slug,depth:0,limit:1,pagination:!1,req:e,select:{[f]:!0},sort:`-${f}`,where:{[f]:{exists:!0}}}),d=b.docs[0]?.[f]||null;c[f]=ce(d,null)}return c};a.hooks.beforeChange.push(c)},ci=a=>{let b={handler:async b=>{let{collectionSlug:c,docsToMove:d,newKeyWillBe:e,orderableFieldName:f,target:g}=await b.json?.();if(!Array.isArray(d)||0===d.length)return new Response(JSON.stringify({error:"docsToMove must be a non-empty array"}),{headers:{"Content-Type":"application/json"},status:400});if("greater"!==e&&"less"!==e)return new Response(JSON.stringify({error:'newKeyWillBe must be "greater" or "less"'}),{headers:{"Content-Type":"application/json"},status:400});let h=a.collections.find(a=>a.slug===c);if(!h)return new Response(JSON.stringify({error:`Collection ${c} not found`}),{headers:{"Content-Type":"application/json"},status:400});if("string"!=typeof f)return new Response(JSON.stringify({error:"orderableFieldName must be a string"}),{headers:{"Content-Type":"application/json"},status:400});if(h.access?.update&&await (0,aq.m)({id:d[0],data:{},req:b},h.access.update),!g.key){let{docs:a}=await b.payload.find({collection:h.slug,depth:0,limit:0,req:b,select:{[f]:!0},where:{[f]:{exists:!1}}});await (0,N.n)(b);try{for(let c of a)await b.payload.update({id:c.id,collection:h.slug,data:{},depth:0,req:b}),await (0,M.w)(b)}catch(a){if(await (0,O.J)(b),a instanceof Error)throw new o.L(a.message,j.h.INTERNAL_SERVER_ERROR)}return new Response(JSON.stringify({message:"initial migration",success:!0}),{headers:{"Content-Type":"application/json"},status:200})}if("object"!=typeof g||void 0===g.id||"string"!=typeof g.key)return new Response(JSON.stringify({error:"target must be an object with id"}),{headers:{"Content-Type":"application/json"},status:400});let i=g.id,k=g.key;if("pending"===k){let a=await b.payload.findByID({id:i,collection:h.slug,depth:0,select:{[f]:!0}});k=a?.[f]||null}let l=await b.payload.find({collection:h.slug,depth:0,limit:1,pagination:!1,select:{[f]:!0},sort:"greater"===e?f:`-${f}`,where:{[f]:{["greater"===e?"greater_than":"less_than"]:k}}}),m=l.docs?.[0]?.[f]||null,p="greater"===e?cf(k,m,d.length):cf(m,k,d.length);for(let[a,c]of d.entries())await b.payload.update({id:c,collection:h.slug,data:{[f]:p[a]},depth:0,req:b});return new Response(JSON.stringify({orderValues:p,success:!0}),{headers:{"Content-Type":"application/json"},status:200})},method:"post",path:"/reorder"};a.endpoints||(a.endpoints=[]),a.endpoints.push(b)},cj=a=>{let b={...a};if(a?.compatibility?.allowLocalizedWithinLocalized&&(process.env.NEXT_PUBLIC_PAYLOAD_COMPATIBILITY_allowLocalizedWithinLocalized="true"),b.loggingLevels={Forbidden:"info",Locked:"info",MissingFile:"info",NotFound:"info",ValidationError:"info",...b.loggingLevels||{}},!b?.admin?.user){let a=b.collections.find(({auth:a})=>!!a);a?b.admin.user=a.slug:(b.admin.user=f.slug,b.collections.push(f))}let c=b.collections.find(({slug:a})=>a===b.admin.user);if(!c||!c.auth)throw new bd.s(`${b.admin.user} is not a valid admin user collection`);b?.admin?.timezones?("function"==typeof b?.admin?.timezones?.supportedTimezones&&(b.admin.timezones.supportedTimezones=b.admin.timezones.supportedTimezones({defaultTimezones:bl.Y})),b?.admin?.timezones?.supportedTimezones||(b.admin.timezones.supportedTimezones=bl.Y)):b.admin.timezones={supportedTimezones:bl.Y};let d=Intl.supportedValuesOf("timeZone");return b.admin.timezones.supportedTimezones.forEach(a=>{if(!d.includes(a.value))throw new bd.s(`Timezone ${a.value} is not supported by the current runtime via the Intl API.`)}),b},ck=async a=>{let b=b4(a),c=cj(b);for(let a of(cg(c),c.endpoints||(c.endpoints=[]),Y))c.endpoints.push(a);c.localization&&c.localization.locales?.length>0&&("string"==typeof c.localization.locales[0]?(c.localization.localeCodes=[...c.localization.locales],c.localization.locales=c.localization.locales.map(a=>({code:a,label:a,rtl:!1,toString:()=>a}))):(c.localization.localeCodes=c.localization.locales.map(a=>a.code),c.localization.locales=c.localization.locales.map(a=>({...a,toString:()=>a.code}))),c.localization.fallback=c.localization?.fallback??!0);let f={fallbackLanguage:"en",supportedLanguages:{en:d.en},translations:{}};if(a?.i18n){f.supportedLanguages=a.i18n?.supportedLanguages||f.supportedLanguages;let b=Object.keys(f.supportedLanguages),c=a.i18n?.fallbackLanguage||f.fallbackLanguage;f.fallbackLanguage=b.includes(c)?c:b[0],f.translations=a.i18n?.translations||f.translations}c.i18n=f;let g=[],h=[],i=[],j=[],k=new Set,l=[...c.collections?.map(a=>a.slug)??[],b_.SJ,bM.q,bN.Y];if(!1!==c.folders&&l.push(c.folders.slug),c.blocks=[],a.blocks?.length)for(let b of a.blocks){let a=b;if(!0===a._sanitized)continue;a._sanitized=!0,a.fields=a.fields.concat(bL.s),a.labels=a.labels?a.labels:(0,aG.h6)(a.slug),a.fields=await (0,aj.b)({config:c,existingFieldNames:new Set,fields:a.fields,parentIsLocalized:!1,richTextSanitizationPromises:g,validRelationships:l});let d=(0,aF.Q)({block:b});c.blocks.push(d)}let m=[];for(let a=0;a<c.collections.length;a++){if(k.has(c.collections[a].slug))throw new bk("slug",c.collections[a].slug);k.add(c.collections[a].slug);let b=c.collections[a]?.versions?.drafts;"object"==typeof b&&b.schedulePublish&&h.push(c.collections[a].slug),c.collections[a].enableQueryPresets&&(i.push(c.collections[a].slug),l.includes(bZ)||l.push(bZ)),!1!==c.folders&&c.collections[a].folders&&bw({collection:c.collections[a],collectionSpecific:c.folders.collectionSpecific,folderFieldName:c.folders.fieldName,folderSlug:c.folders.slug}),c.collections[a]=await bi(c,c.collections[a],g,l),!1!==c.folders&&c.collections[a].folders&&m.push(c.collections[a])}if(c.globals.length>0)for(let a=0;a<c.globals.length;a++){let b=c.globals[a]?.versions?.drafts;"object"==typeof b&&b.schedulePublish&&j.push(c.globals[a].slug),c.globals[a]=await bK(c,c.globals[a],g,l)}if((h.length||j.length)&&((c.jobs??={}).tasks??=[]).push(b1({adminUserSlug:c.admin.user,collections:h,globals:j})),(c.jobs??={}).enabled=!!(Array.isArray(b.jobs?.tasks)&&b.jobs?.tasks?.length||Array.isArray(b.jobs?.workflows)&&b.jobs?.workflows?.length),c.jobs.enabled){(c?.jobs?.tasks?.length&&c.jobs.tasks.some(a=>a.schedule)||c?.jobs?.workflows?.length&&c.jobs.workflows.some(a=>a.schedule))&&(c.jobs.scheduling=!0,(c.globals??=[]).push(await bK(c,(0,b0.u)(c),g,l)),c.jobs.stats=!0);let a=(0,b_.MT)(c.jobs);if("function"==typeof c.jobs.jobsCollectionOverrides){a=c.jobs.jobsCollectionOverrides({defaultJobsCollection:a});let b=a?.hooks;if(b&&c?.jobs?.runHooks!==!0)for(let[a,c]of Object.entries(b)){let b=+("afterRead"===a||"beforeChange"===a);if(c.length>b){console.warn(`The jobsCollectionOverrides function is returning a collection with an additional ${a} hook defined. These hooks will not run unless the jobs.runHooks option is set to true. Setting this option to true will negatively impact performance.`);break}}}let b=await bi(c,a,g,l);(c.collections??=[]).push(b)}!1!==c.folders&&m.length&&await bv({collectionSpecific:c.folders.collectionSpecific,config:c,folderEnabledCollections:m,richTextSanitizationPromises:g,validRelationships:l}),b.collections.push(await bi(c,(0,bM.l)(c),g,l)),b.collections.push(await bi(c,(0,bN.p)(c),g,l)),b.collections.push(await bi(c,bj,g,l)),i.length>0&&b.collections.push(await bi(c,b$(c),g,l)),""!==c.serverURL&&c.csrf.push(c.serverURL);let o=new Set;for(let a of c.collections)a.upload?.adapter&&o.add(a.upload.adapter);c.upload||(c.upload={adapters:[]}),c.upload.adapters=Array.from(new Set(c.collections.map(a=>a.upload?.adapter).filter(Boolean))),a.email&&(c.email=a.email),"function"==typeof a.editor&&(c.editor=await a.editor({config:c,isRoot:!0,parentIsLocalized:!1}),c.editor.i18n&&Object.keys(c.editor.i18n).length>=0&&(c.i18n.translations=(0,e.p)(c.i18n.translations,c.editor.i18n)));let p=[];for(let a of g)p.push(a(c));return await Promise.all(p),c};async function cl(a){if(Array.isArray(a.plugins)){let b=a;for(let c of a.plugins)b=await c(b);return await ck(b)}return await ck(a)}},73783:(a,b,c)=>{"use strict";c.d(b,{Z:()=>w});var d=c(61101),e=c(25083),f=c(18099),g=c(51114),h=c(35593),i=c(18528),j=c(83518),k=c(70366),l=c(77396),m=c(61102),o=c(43982),p=c(57819),q=c(33334),r=c(53216),s=c(32609),t=c(60500),u=c(12062),v=c(87641);let w=async a=>{let b=a;try{let a=!b.disableTransaction&&await (0,q.n)(b.req);if(b.collection.config.hooks?.beforeOperation?.length)for(let a of b.collection.config.hooks.beforeOperation)b=await a({args:b,collection:b.collection.config,context:b.req.context,operation:"update",req:b.req})||b;b.publishSpecificLocale&&(b.req.locale=b.publishSpecificLocale);let{id:c,autosave:r=!1,collection:{config:w},collection:x,depth:y,draft:z=!1,overrideAccess:A,overrideLock:B,overwriteExistingFiles:C=!1,populate:D,publishSpecificLocale:E,req:{fallbackLocale:F,locale:G,payload:{config:H},payload:I},req:J,select:K,showHiddenFields:L,trash:M=!1}=b;if(!c)throw new h.L("Missing ID of document to update.",d.h.BAD_REQUEST);let{data:N}=b,O=!!A||await (0,e.m)({id:c,data:N,req:J},w.access.update),P=(0,f.L)(O),Q={id:{equals:c}},R=(0,g.m)(Q,O);if(w.trash&&"object"==typeof N&&null!==N&&"deletedAt"in N&&null!=N.deletedAt&&!A){let a=await (0,e.m)({req:J},w.access.delete);R=(0,g.m)(R,a)}R=(0,o.v)({enableTrash:w.trash,trash:M,where:R});let S={collection:w.slug,locale:G,req:J,where:R},T=await (0,t.a)({id:c,config:w,payload:I,query:S,req:J});if(!T&&!P)throw new i.M(J.t);if(!T&&P)throw new j.c(J.t);let{data:U,files:V}=await (0,l.Y)({collection:x,config:H,data:N,operation:"update",overwriteExistingFiles:C,req:J,throwOnMissingFile:!1}),W=(0,s.Y)({fields:w.flattenedFields,forceSelect:w.forceSelect,select:K}),X=await (0,u.l)({id:c,accessResults:O,autosave:r,collectionConfig:w,config:H,data:(0,k.Zt)(U),depth:y,docWithLocales:T,draftArg:z,fallbackLocale:F,filesToUpload:V,locale:G,overrideAccess:A,overrideLock:B,payload:I,populate:D,publishSpecificLocale:E,req:J,select:W,showHiddenFields:L});return await (0,m.b)({collectionConfig:w,config:H,req:J}),X=await (0,v.E)({args:b,collection:w,operation:"updateByID",result:X}),a&&await (0,p.w)(J),X}catch(a){throw await (0,r.J)(b.req),a}}},73844:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(...a)=>{let b,c=a.filter(Boolean);if(0===c.length||1===c.length)return!0;for(let a of c){let c=Object.keys(a);if(!b||0===b.size){b=new Set(c);continue}for(let a of c){if(b.has(a))return!1;b.add(a)}}return!0}},73969:(a,b,c)=>{"use strict";c.d(b,{V:()=>g});var d=c(38200),e=c(42788),f=c(42526);async function g({slug:a,data:b,req:c,returning:g,select:h}){let i=await (0,f.x)(this,c),j=this.payload.globals.config.find(b=>b.slug===a),k=this.tableNameMap.get(d(j.slug)),l=await i.query[k].findFirst({}),m=await (0,e.q)({...l?{id:l.id,operation:"update"}:{operation:"create"},adapter:this,data:b,db:i,fields:j.flattenedFields,ignoreResult:!1===g,req:c,select:h,tableName:k});return!1===g?null:(m.globalType=a,m)}},74196:(a,b,c)=>{"use strict";c.d(b,{Qq:()=>k});var d=c(37593),e=c(39773),f=c(18616);class g extends f.o{static [d.i]="SQLiteTextBuilder";constructor(a,b){super(a,"string","SQLiteText"),this.config.enumValues=b.enum,this.config.length=b.length}build(a){return new h(a,this.config)}}class h extends f.v{static [d.i]="SQLiteText";enumValues=this.config.enumValues;length=this.config.length;constructor(a,b){super(a,b)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}class i extends f.o{static [d.i]="SQLiteTextJsonBuilder";constructor(a){super(a,"json","SQLiteTextJson")}build(a){return new j(a,this.config)}}class j extends f.v{static [d.i]="SQLiteTextJson";getSQLType(){return"text"}mapFromDriverValue(a){return JSON.parse(a)}mapToDriverValue(a){return JSON.stringify(a)}}function k(a,b={}){let{name:c,config:d}=(0,e.Ll)(a,b);return"json"===d.mode?new i(c):new g(c,d)}},74359:a=>{"use strict";a.exports=/[^.[\]]+|\[((?:.)*?)\]/g},74377:(a,b,c)=>{"use strict";let d=a=>a,e={default:d,60:d,50:d,40:d,30:d,20:d,10:d,message:d,greyMessage:d},{createColors:f}=c(2494),g=c(6232),h=f({useColor:!0}),{white:i,bgRed:j,red:k,yellow:l,green:m,blue:o,gray:p,cyan:q}=h,r={default:i,60:j,50:k,40:l,30:m,20:o,10:p,message:q,greyMessage:p};function s(a){return a.reduce(function(a,[b,c]){return a[b]="function"==typeof h[c]?h[c]:i,a},{default:i,message:q,greyMessage:p})}function t(a){return function(b,c,{customLevels:d,customLevelNames:e}={}){let[f,h]=g(a,d,e)(b);return Object.prototype.hasOwnProperty.call(c,h)?c[h](f):c.default(f)}}function u(a){let b=t(a),c=function(a,c){return b(a,e,c)};return c.message=e.message,c.greyMessage=e.greyMessage,c.colors=f({useColor:!1}),c}function v(a){let b=t(a),c=function(a,c){return b(a,r,c)};return c.message=r.message,c.greyMessage=r.greyMessage,c.colors=h,c}function w(a,b){let c=s(a),d=b?c:Object.assign({},r,c),e=t(b),f=function(a,b){return e(a,d,b)};return f.colors=h,f.message=f.message||d.message,f.greyMessage=f.greyMessage||d.greyMessage,f}a.exports=function(a=!1,b,c){return a&&void 0!==b?w(b,c):a?v(c):u(c)}},74520:(a,b,c)=>{"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}let f=c(90165),g=c(67858),h=c(1298),i=h.erase,j=h.cursor,k=c(90439),l=k.style,m=k.clear,o=k.figures,p=k.wrap,q=k.entriesToDisplay,r=(a,b)=>a[b]&&(a[b].value||a[b].title||a[b]),s=(a,b)=>a[b]&&(a[b].title||a[b].value||a[b]),t=(a,b)=>{let c=a.findIndex(a=>a.value===b||a.title===b);return c>-1?c:void 0};class u extends g{constructor(a={}){super(a),this.msg=a.message,this.suggest=a.suggest,this.choices=a.choices,this.initial="number"==typeof a.initial?a.initial:t(a.choices,a.initial),this.select=this.initial||a.cursor||0,this.i18n={noMatches:a.noMatches||"no matches found"},this.fallback=a.fallback||this.initial,this.clearFirst=a.clearFirst||!1,this.suggestions=[],this.input="",this.limit=a.limit||10,this.cursor=0,this.transform=l.render(a.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=m("",this.out.columns),this.complete(this.render),this.render()}set fallback(a){this._fb=Number.isSafeInteger(parseInt(a))?parseInt(a):a}get fallback(){let a;return"number"==typeof this._fb?a=this.choices[this._fb]:"string"==typeof this._fb&&(a={title:this._fb}),a||this._fb||{title:this.i18n.noMatches}}moveSelect(a){this.select=a,this.suggestions.length>0?this.value=r(this.suggestions,a):this.value=this.fallback.value,this.fire()}complete(a){var b=this;return e(function*(){let c=b.completing=b.suggest(b.input,b.choices),d=yield c;if(b.completing!==c)return;b.suggestions=d.map((a,b,c)=>({title:s(c,b),value:r(c,b),description:a.description})),b.completing=!1;let e=Math.max(d.length-1,0);b.moveSelect(Math.min(e,b.select)),a&&a()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(a,b){let c=this.input.slice(0,this.cursor),d=this.input.slice(this.cursor);this.input=`${c}${a}${d}`,this.cursor=c.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let a=this.input.slice(0,this.cursor-1),b=this.input.slice(this.cursor);this.input=`${a}${b}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let a=this.input.slice(0,this.cursor),b=this.input.slice(this.cursor+1);this.input=`${a}${b}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(a,b,c,d){let e,g=c?o.arrowUp:d?o.arrowDown:" ",h=b?f.cyan().underline(a.title):a.title;return g=(b?f.cyan(o.pointer)+" ":"  ")+g,a.description&&(e=` - ${a.description}`,(g.length+h.length+e.length>=this.out.columns||a.description.split(/\r?\n/).length>1)&&(e="\n"+p(a.description,{margin:3,width:this.out.columns}))),g+" "+h+f.gray(e||"")}render(){if(this.closed)return;this.firstRender?this.out.write(j.hide):this.out.write(m(this.outputText,this.out.columns)),super.render();let a=q(this.select,this.choices.length,this.limit),b=a.startIndex,c=a.endIndex;if(this.outputText=[l.symbol(this.done,this.aborted,this.exited),f.bold(this.msg),l.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let a=this.suggestions.slice(b,c).map((a,d)=>this.renderOption(a,this.select===d+b,0===d&&b>0,d+b===c-1&&c<this.choices.length)).join("\n");this.outputText+=`
`+(a||f.gray(this.fallback.title))}this.out.write(i.line+j.to(0)+this.outputText)}}a.exports=u},74528:(a,b,c)=>{"use strict";let{connect:d}=c(77030),{kClose:e,kDestroy:f}=c(25394),{InvalidArgumentError:g}=c(212),h=c(33895),i=c(76450),j=c(68056);class k extends j{#L=null;constructor(a,b){if(super(),"string"==typeof a&&(a=new URL(a)),"http:"!==a.protocol)throw new g("h2c-client: Only h2c protocol is supported");let{connect:c,maxConcurrentStreams:d,pipelining:e,...f}=b??{},h=100,j=100;if(null!=d&&Number.isInteger(d)&&d>0&&(h=d),null!=e&&Number.isInteger(e)&&e>0&&(j=e),j>h)throw new g("h2c-client: pipelining cannot be greater than maxConcurrentStreams");this.#L=new i(a,{...f,connect:this.#b7(c),maxConcurrentStreams:h,pipelining:j,allowH2:!0})}#b7(a){return(b,c)=>{let e=a?.connectOpts??1e4,{hostname:f,port:g,pathname:i}=b,j=d({...b,host:f,port:g,pathname:i});if(null==b.keepAlive||b.keepAlive){let a=null==b.keepAliveInitialDelay?6e4:b.keepAliveInitialDelay;j.setKeepAlive(!0,a)}j.alpnProtocol="h2";let k=h.setupConnectTimeout(new WeakRef(j),{timeout:e,hostname:f,port:g});return j.setNoDelay(!0).once("connect",function(){if(queueMicrotask(k),c){let a=c;c=null,a(null,this)}}).on("error",function(a){if(queueMicrotask(k),c){let b=c;c=null,b(a)}}),j}}dispatch(a,b){return this.#L.dispatch(a,b)}async [e](){await this.#L.close()}async [f](){await this.#L.destroy()}}a.exports=k},74666:(a,b,c)=>{"use strict";var d=c(52032),e=c(64373),f=function(a,b,c){for(var d,e=a;null!=(d=e.next);e=d)if(d.key===b)return e.next=d.next,c||(d.next=a.next,a.next=d),d},g=function(a,b){if(a){var c=f(a,b);return c&&c.value}},h=function(a,b,c){var d=f(a,b);d?d.value=c:a.next={key:b,next:a.next,value:c}},i=function(a,b){return!!a&&!!f(a,b)},j=function(a,b){if(a)return f(a,b,!0)};a.exports=function(){var a,b={assert:function(a){if(!b.has(a))throw new e("Side channel does not contain "+d(a))},delete:function(b){var c=a&&a.next,d=j(a,b);return d&&c&&c===d&&(a=void 0),!!d},get:function(b){return g(a,b)},has:function(b){return i(a,b)},set:function(b,c){a||(a={next:void 0}),h(a,b,c)}};return b}},74673:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{getSortedRouteObjects:function(){return d.getSortedRouteObjects},getSortedRoutes:function(){return d.getSortedRoutes},isDynamicRoute:function(){return e.isDynamicRoute}});let d=c(50579),e=c(40517)},74796:(a,b,c)=>{"use strict";let{webidl:d}=c(2312),{validateCloseCodeAndReason:e}=c(56664),{kConstruct:f}=c(25394),{kEnumerableProperty:g}=c(33895);class h extends DOMException{#b8;#b9;constructor(a="",b){if(super(a=d.converters.DOMString(a,"WebSocketError","message"),"WebSocketError"),b===f)return;null!==b&&(b=d.converters.WebSocketCloseInfo(b));let c=b.closeCode??null,g=b.reason??"";e(c,g),0!==g.length&&null===c&&(c=1e3),this.#b8=c,this.#b9=g}get closeCode(){return this.#b8}get reason(){return this.#b9}static createUnvalidatedWebSocketError(a,b,c){let d=new h(a,f);return d.#b8=b,d.#b9=c,d}}let{createUnvalidatedWebSocketError:i}=h;delete h.createUnvalidatedWebSocketError,Object.defineProperties(h.prototype,{closeCode:g,reason:g,[Symbol.toStringTag]:{value:"WebSocketError",writable:!1,enumerable:!1,configurable:!0}}),d.is.WebSocketError=d.util.MakeTypeAssertion(h),a.exports={WebSocketError:h,createUnvalidatedWebSocketError:i}},75240:(a,b,c)=>{"use strict";c.d(b,{qf:()=>aK});var d=c(80348),e=c(37661),f=c(38395),g=c(73182);let{singular:h}=c(55199);function i(a,b){let c=[a];return b?a:(c.push("null"),c)}var j=c(50474);let k={ar:{alignCenterLabel:"محاذاة في الوسط",alignJustifyLabel:"محاذاة التبرير",alignLeftLabel:"محاذاة إلى اليسار",alignRightLabel:"محاذاة إلى اليمين"},az:{alignCenterLabel:"Mərkəzə D\xfczəlt",alignJustifyLabel:"D\xfczəldin Səsləndirin",alignLeftLabel:"Sola Doğru Hizalama",alignRightLabel:"Sağa Doğru Hizalama"},bg:{alignCenterLabel:"Центрирай",alignJustifyLabel:"Подравняване по двата края",alignLeftLabel:"Подравняване отляво",alignRightLabel:"Подравняване вдясно"},cs:{alignCenterLabel:"Zarovnat na střed",alignJustifyLabel:"Zarovnat do bloku",alignLeftLabel:"Zarovnat vlevo",alignRightLabel:"Zarovnat vpravo"},da:{alignCenterLabel:"Centrer teksten",alignJustifyLabel:"Just\xe9r til begge sider",alignLeftLabel:"Just\xe9r til venstre",alignRightLabel:"Juster til h\xf8jre"},de:{alignCenterLabel:"Zentrieren",alignJustifyLabel:"Blocksatz",alignLeftLabel:"Linksb\xfcndig",alignRightLabel:"Rechtsb\xfcndig"},en:{alignCenterLabel:"Align Center",alignJustifyLabel:"Align Justify",alignLeftLabel:"Align Left",alignRightLabel:"Align Right"},es:{alignCenterLabel:"Alinear al centro",alignJustifyLabel:"Alinear Justificar",alignLeftLabel:"Alinear a la izquierda",alignRightLabel:"Alinear a la derecha"},et:{alignCenterLabel:"Keskjoondus",alignJustifyLabel:"R\xf6\xf6pjoondus",alignLeftLabel:"Vasakjoondus",alignRightLabel:"Paremjoondus"},fa:{alignCenterLabel:"تراز در مرکز",alignJustifyLabel:"تراز کردن از دو طرف",alignLeftLabel:"چپ تراز",alignRightLabel:"راست چین"},fr:{alignCenterLabel:"Aligner au centre",alignJustifyLabel:"Aligner Justifier",alignLeftLabel:"Aligner \xe0 gauche",alignRightLabel:"Aligner \xe0 droite"},he:{alignCenterLabel:"ממורכז",alignJustifyLabel:"יישור דו-צדדי",alignLeftLabel:"הסב לשמאל",alignRightLabel:"יישור לימין"},hr:{alignCenterLabel:"Poravnaj središnje",alignJustifyLabel:"Poravnaj opravdaj",alignLeftLabel:"Poravnaj lijevo",alignRightLabel:"Poravnaj desno"},hu:{alignCenterLabel:"K\xf6z\xe9pre igaz\xedt\xe1s",alignJustifyLabel:"Igaz\xedt\xe1s Sorkiz\xe1r\xe1s",alignLeftLabel:"Igaz\xedt\xe1s balra",alignRightLabel:"Igaz\xedt\xe1s jobbra"},is:{alignCenterLabel:"Mi\xf0ju j\xf6fnun",alignJustifyLabel:"Samr\xe6md j\xf6fnun",alignLeftLabel:"Vinstri j\xf6fnun",alignRightLabel:"H\xe6gri j\xf6fnun"},it:{alignCenterLabel:"Allinea al centro",alignJustifyLabel:"Allinea Giustifica",alignLeftLabel:"Allinea a sinistra",alignRightLabel:"Allinea a destra"},ja:{alignCenterLabel:"中央揃え",alignJustifyLabel:"両端揃え",alignLeftLabel:"左揃え",alignRightLabel:"右揃え"},ko:{alignCenterLabel:"중앙 정렬",alignJustifyLabel:"정렬 맞춤",alignLeftLabel:"왼쪽 정렬",alignRightLabel:"오른쪽 정렬"},my:{alignCenterLabel:"Pusat Selaras",alignJustifyLabel:"Penjajaran Justify",alignLeftLabel:"ဘယ်ဘက်ဦးတည်ခြင်း",alignRightLabel:"Penjajaran Kanan"},nb:{alignCenterLabel:"Sentrer tekst",alignJustifyLabel:"Juster linje",alignLeftLabel:"Juster til venstre",alignRightLabel:"Juster til h\xf8yre"},nl:{alignCenterLabel:"Centreer uitlijnen",alignJustifyLabel:"Uitlijnen Rechtvaardigen",alignLeftLabel:"Links uitlijnen",alignRightLabel:"Rechts uitlijnen"},pl:{alignCenterLabel:"Wyśrodkuj",alignJustifyLabel:"Wyjustuj wyr\xf3wnanie",alignLeftLabel:"Wyr\xf3wnaj do lewej",alignRightLabel:"Wyr\xf3wnaj do prawej"},pt:{alignCenterLabel:"Alinhar ao Centro",alignJustifyLabel:"Alinhar Justificar",alignLeftLabel:"Alinhar \xe0 Esquerda",alignRightLabel:"Alinhar \xe0 Direita"},ro:{alignCenterLabel:"Aliniați Centrul",alignJustifyLabel:"Aliniaza Justifica",alignLeftLabel:"Aliniați la st\xe2nga",alignRightLabel:"Aliniați la dreapta"},rs:{alignCenterLabel:"Поравнај по средини",alignJustifyLabel:"Поравнај обострано",alignLeftLabel:"Поравнај лево",alignRightLabel:"Поравнај десно"},"rs-latin":{alignCenterLabel:"Poravnaj po sredini",alignJustifyLabel:"Poravnaj obostrano",alignLeftLabel:"Poravnaj levo",alignRightLabel:"Poravnaj desno"},ru:{alignCenterLabel:"Выровнять по центру",alignJustifyLabel:"Выровнять по ширине",alignLeftLabel:"Выровнять по левому краю",alignRightLabel:"Выровнять по правому краю"},sk:{alignCenterLabel:"Vycentrovať",alignJustifyLabel:"Zarovnať do bloku",alignLeftLabel:"Zarovnať doľava",alignRightLabel:"Zarovnať doprava"},sl:{alignCenterLabel:"Poravnaj na sredino",alignJustifyLabel:"Poravnaj Obojestransko",alignLeftLabel:"Poravnaj na levo",alignRightLabel:"Poravnaj na desno"},sv:{alignCenterLabel:"Centrera",alignJustifyLabel:"Justera Justify",alignLeftLabel:"Justera till v\xe4nster",alignRightLabel:"Justera till h\xf6ger"},ta:{alignCenterLabel:"மையத்தில் ஒழுங்குபடுத்து",alignJustifyLabel:"இருபுறமும் ஒழுங்குபடுத்து",alignLeftLabel:"இடப்புறத்தில் ஒழுங்குபடுத்து",alignRightLabel:"வலப்புறத்தில் ஒழுங்குபடுத்து"},th:{alignCenterLabel:"จัดแนวกึ่งกลาง",alignJustifyLabel:"จัดแนวตรง",alignLeftLabel:"จัดชิดซ้าย",alignRightLabel:"จัดชิดขวา"},tr:{alignCenterLabel:"Ortaya Hizala",alignJustifyLabel:"Hizala Yasla",alignLeftLabel:"Sola Hizala",alignRightLabel:"Sağa Hizala"},uk:{alignCenterLabel:"Вирівняти по центру",alignJustifyLabel:"Вирівняти за шириною",alignLeftLabel:"Вирівняти по лівому краю",alignRightLabel:"Вирівняти по правому краю"},vi:{alignCenterLabel:"Căn giữa",alignJustifyLabel:"Căn đều",alignLeftLabel:"Căn lề tr\xe1i",alignRightLabel:"Căn phải"},zh:{alignCenterLabel:"居中对齐",alignJustifyLabel:"对齐调整",alignLeftLabel:"向左对齐",alignRightLabel:"向右对齐"},"zh-TW":{alignCenterLabel:"對齊中心",alignJustifyLabel:"對齊並排列",alignLeftLabel:"向左對齊",alignRightLabel:"向右對齊"}},l=(0,j.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#AlignFeatureClient",i18n:k},key:"align"});var m=c(26132),o=c(78690),p=c(58328);let q={type:"element",dependencies:[m.dJ],export:(a,b)=>{if(!(0,m.jd)(a))return null;let c=b(a).split("\n"),d=[];for(let a of c)d.push("> "+a);return d.join("\n")},regExp:/^>\s/,replace:(a,b,c,d)=>{if(d){let c=a.getPreviousSibling();if((0,m.jd)(c)){c.splice(c.getChildrenSize(),0,[...b]),c.select(0,0),a.remove();return}}let e=(0,m.xi)();e.append(...b),a.replace(e),e.select(0,0)}},r={ar:{label:"اقتباس"},az:{label:"Blokkvota"},bg:{label:"Цитат"},cs:{label:"Citace"},da:{label:"Blokering"},de:{label:"Blockzitat"},en:{label:"Blockquote"},es:{label:"Cita en bloque"},et:{label:"Tsitaat"},fa:{label:"نقل قول بلوکی"},fr:{label:"Citation"},he:{label:"בלוק ציטוט"},hr:{label:"Blok citat"},hu:{label:"Id\xe9zetblokk"},is:{label:"Tilvitnun"},it:{label:"Citazione"},ja:{label:"ブロッククォート"},ko:{label:"인용구"},my:{label:"ဒေါင်းချီးခြင်း"},nb:{label:"Blokksitat"},nl:{label:"Citaat"},pl:{label:"Cytat blokowy"},pt:{label:"Cita\xe7\xe3o em bloco"},ro:{label:"Citat"},rs:{label:"Блок цитата"},"rs-latin":{label:"Blok citata"},ru:{label:"Цитата"},sk:{label:"Cit\xe1t"},sl:{label:"Citat"},sv:{label:"Blockcitat"},ta:{label:"கட்டமைப்பு மேற்கோள்"},th:{label:"ข้อความอ้างอิง"},tr:{label:"Alıntı"},uk:{label:"Блокцитата"},vi:{label:"Tr\xedch dẫn"},zh:{label:"引用区块"},"zh-TW":{label:"引用塊"}},s=(0,j.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#BlockquoteFeatureClient",clientFeatureProps:null,i18n:r,markdownTransformers:[q],nodes:[(0,p.R)({converters:{html:{converter:async({converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:f,parent:g,req:h,showHiddenFields:i})=>{let j=await (0,o.D)({converters:a,currentDepth:b,depth:c,draft:d,lexicalNodes:e.children,overrideAccess:f,parent:{...e,parent:g},req:h,showHiddenFields:i}),k=[e.format?`text-align: ${e.format};`:"",e.indent>0?`padding-inline-start: ${40*e.indent}px;`:""].filter(Boolean).join(" ");return`<blockquote${k?` style='${k}'`:""}>${j}</blockquote>`},nodeTypes:[m.dJ.getType()]}},node:m.dJ})]},key:"blockquote"});var t=c(73154);let u={type:"text-format",format:["code"],tag:"`"},v=(0,j.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#InlineCodeFeatureClient",markdownTransformers:[u]},key:"inlineCode"});var w=c(70013);let x={type:"text-format",format:["strikethrough"],tag:"~~"},y=(0,j.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#StrikethroughFeatureClient",markdownTransformers:[x]},key:"strikethrough"}),z=(0,j.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#SubscriptFeatureClient"},key:"subscript"}),A=(0,j.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#SuperscriptFeatureClient"},key:"superscript"});var B=c(25018),C=c(80395),D=c(65479),E=c(67201),F=c(94324),G=c(56753),H=c(13885),I=c(53306),J=c(11121);let K={type:"element",dependencies:[G.v5,G.YW],export:(a,b)=>(0,G.HY)(a)?(0,J.p)(a,b,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:(0,J.b)("check")},L={ar:{label:"قائمة التحقق"},az:{label:"Yoxlama Siyahısı"},bg:{label:"Списък за проверка"},cs:{label:"Seznam kontrol"},da:{label:"Tjekliste"},de:{label:"Checkliste"},en:{label:"Check List"},es:{label:"Lista de comprobaci\xf3n"},et:{label:""},fa:{label:"لیست بررسی"},fr:{label:"Liste de contr\xf4le"},he:{label:"רשימת בדיקה"},hr:{label:"Kontrolni popis"},hu:{label:"Ellenőrzőlista"},is:{label:"G\xe1tlisti"},it:{label:"Lista di controllo"},ja:{label:"チェックリスト"},ko:{label:"체크 리스트"},my:{label:"Senarai Semak"},nb:{label:"Sjekkliste"},nl:{label:"Checklist"},pl:{label:"Lista kontrolna"},pt:{label:"Lista de Verifica\xe7\xe3o"},ro:{label:"Listă de verificare"},rs:{label:"Контролна листа"},"rs-latin":{label:"Kontrolna lista"},ru:{label:"Список Проверки"},sk:{label:"Kontroln\xfd zoznam"},sl:{label:"Nimekiri"},sv:{label:"Kontrollista"},ta:{label:"சரிபார்ப்பு பட்டியல்"},th:{label:"รายการตรวจสอบ"},tr:{label:"Kontrol Listesi"},uk:{label:"Список перевірки"},vi:{label:"Danh s\xe1ch kiểm tra"},zh:{label:"检查清单"},"zh-TW":{label:"檢查清單"}},M=(0,j.m)({feature:({featureProviderMap:a})=>({ClientFeature:"@payloadcms/richtext-lexical/client#ChecklistFeatureClient",i18n:L,markdownTransformers:[K],nodes:(0,I.Z)("checklist",a)?[(0,p.R)({converters:{html:H.O},node:G.v5}),(0,p.R)({converters:{html:H.F},node:G.YW})]:[]}),key:"checklist"});var N=c(1466),O=c(96423);let P={ar:{label:"فقرة",label2:"نص عادي"},az:{label:"Paraqraf",label2:"Normal Mətn"},bg:{label:"Параграф",label2:"Нормален текст"},cs:{label:"Odstavec",label2:"Norm\xe1ln\xed text"},da:{label:"Afsnit",label2:"Normal tekst"},de:{label:"Paragraph",label2:"Normaler Text"},en:{label:"Paragraph",label2:"Normal Text"},es:{label:"P\xe1rrafo",label2:"Texto normal"},et:{label:"Paragrahv",label2:"Tavaline tekst"},fa:{label:"پاراگراف",label2:"متن عادی"},fr:{label:"Paragraphe",label2:"Texte normal"},he:{label:"פסקה",label2:"טקסט רגיל"},hr:{label:"Odlomak",label2:"Normalan tekst"},hu:{label:"Bekezd\xe9s",label2:"Norm\xe1l sz\xf6veg"},is:{label:"M\xe1lsgrein",label2:"Venjulegur texti"},it:{label:"Paragrafo",label2:"Testo normale"},ja:{label:"段落",label2:"通常のテキスト"},ko:{label:"문단",label2:"일반 텍스트"},my:{label:"Perenggan",label2:"ပုံမှန်စာသား"},nb:{label:"Avsnitt",label2:"Normal tekst"},nl:{label:"Paragraaf",label2:"Normale tekst"},pl:{label:"Akapit",label2:"Normalny tekst"},pt:{label:"Par\xe1grafo",label2:"Texto Normal"},ro:{label:"Paragraf",label2:"Text normal"},rs:{label:"Параграф",label2:"Oбичан текст"},"rs-latin":{label:"Paragraf",label2:"Običan tekst"},ru:{label:"Параграф",label2:"Нормальный текст"},sk:{label:"Odsek",label2:"Norm\xe1lny text"},sl:{label:"Odstavek",label2:"Navaden besedilo"},sv:{label:"Stycke",label2:"Normal Text"},ta:{label:"பத்தி",label2:"சாதாரண உரை"},th:{label:"ย่อหน้า",label2:"ข้อความธรรมดา"},tr:{label:"Paragraf",label2:"Normal Metin"},uk:{label:"Абзац",label2:"Звичайний текст"},vi:{label:"Đoạn văn",label2:"Văn bản b\xecnh thường"},zh:{label:"段落",label2:"正常文本"},"zh-TW":{label:"段落",label2:"正常文本"}},Q=(0,j.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#ParagraphFeatureClient",clientFeatureProps:null,i18n:P},key:"paragraph"});var R=c(5062);let S=a=>({currentDepth:b,depth:c,draft:d,node:e,overrideAccess:f,populationPromises:g,req:h,showHiddenFields:i})=>{if(e?.value){let j=e?.value?.id||e?.value,k=h.payload.collections[e?.relationTo];if(k){let l=a?.maxDepth!==void 0&&a?.maxDepth<c?a?.maxDepth:c;g.push((0,R.j)({id:j,collectionSlug:k.config.slug,currentDepth:b,data:e,depth:l,draft:d,key:"value",overrideAccess:f,req:h,showHiddenFields:i}))}}},T={ar:{label:"العلاقة"},az:{label:"M\xfcnasibət"},bg:{label:"Връзка"},cs:{label:"Vztah"},da:{label:"Forhold"},de:{label:"Beziehung"},en:{label:"Relationship"},es:{label:"Relaci\xf3n"},et:{label:"Seos"},fa:{label:"روابط"},fr:{label:"Relation"},he:{label:"יחסים"},hr:{label:"Odnos"},hu:{label:"Kapcsolat"},is:{label:"Tengingar"},it:{label:"Relazione"},ja:{label:"関係性"},ko:{label:"관계"},my:{label:"Hubungan"},nb:{label:"Forhold"},nl:{label:"Relatie"},pl:{label:"Relacja"},pt:{label:"Relacionamento"},ro:{label:"Relație"},rs:{label:"Релација"},"rs-latin":{label:"Relacija"},ru:{label:"Отношения"},sk:{label:"Vzťah"},sl:{label:"Odnos"},sv:{label:"Relation"},ta:{label:"உறவு"},th:{label:"ความสัมพันธ์"},tr:{label:"İlişki"},uk:{label:"Стосунки"},vi:{label:"Mối quan hệ"},zh:{label:"关系"},"zh-TW":{label:"關係"}};var U=c(65099);class V extends U.Kp7{constructor(a,b){super(b),this.__format=a||""}exportJSON(){return{...super.exportJSON(),format:this.__format||""}}updateFromJSON(a){return super.updateFromJSON(a).setFormat(a.format||"")}canIndent(){return!1}createDOM(){return document.createElement("div")}updateDOM(){return!1}setFormat(a){let b=this.getWritable();return b.__format=a,b}isInline(){return!1}}function W(a){let b=a.getAttribute("data-lexical-relationship-id"),c=a.getAttribute("data-lexical-relationship-relationTo");return null!=b&&null!=c?{node:Y({relationTo:c,value:b})}:null}class X extends V{__data;constructor({data:a,format:b,key:c}){super(b,c),this.__data=a}static clone(a){return new this({data:a.__data,format:a.__format,key:a.__key})}static getType(){return"relationship"}static importDOM(){return{div:a=>a.hasAttribute("data-lexical-relationship-relationTo")&&a.hasAttribute("data-lexical-relationship-id")?{conversion:W,priority:2}:null}}static importJSON(a){1===a.version&&a?.value?.id&&(a.value=a.value.id);let b=Y({relationTo:a.relationTo,value:a.value});return b.setFormat(a.format),b}static isInline(){return!1}decorate(a,b){return null}exportDOM(){let a=document.createElement("div");a.setAttribute("data-lexical-relationship-id",String("object"==typeof this.__data?.value?this.__data?.value?.id:this.__data?.value)),a.setAttribute("data-lexical-relationship-relationTo",this.__data?.relationTo);let b=document.createTextNode(this.getTextContent());return a.append(b),{element:a}}exportJSON(){return{...super.exportJSON(),...this.getData(),type:"relationship",version:2}}getData(){return this.getLatest().__data}getTextContent(){return`${this.__data?.relationTo} relation to ${"object"==typeof this.__data?.value?this.__data?.value?.id:this.__data?.value}`}setData(a){this.getWritable().__data=a}}function Y(a){return new X({data:a})}let Z=(0,j.m)({feature:({props:a})=>{let{maxDepth:b,...c}=a??{};return{ClientFeature:"@payloadcms/richtext-lexical/client#RelationshipFeatureClient",clientFeatureProps:c,i18n:T,nodes:[(0,p.R)({graphQLPopulationPromises:[S(a)],hooks:{afterRead:[({currentDepth:a,depth:c,draft:d,node:e,overrideAccess:f,populateArg:g,populationPromises:h,req:i,showHiddenFields:j})=>{if(!e?.value)return e;let k=i.payload.collections[e?.relationTo];if(!k)return e;let l=e?.value?.id||e?.value,m=void 0!==b&&b<c?b:c;return h.push((0,R.j)({id:l,collectionSlug:k.config.slug,currentDepth:a,data:e,depth:m,draft:d,key:"value",overrideAccess:f,req:i,select:g?.[k.config.slug]??k.config.defaultPopulate,showHiddenFields:j})),e}]},node:X})]}},key:"relationship"});var $=c(39495),_=c(58725),aa=c(38886);let ab=a=>({context:b,currentDepth:c,depth:d,draft:e,editorPopulationPromises:f,field:g,fieldPromises:h,findMany:i,flattenLocales:j,node:k,overrideAccess:l,parentIsLocalized:m,populationPromises:o,req:p,showHiddenFields:q})=>{if(k?.value){let r=p.payload.collections[k?.relationTo];if(r){let s=k?.value?.id||k?.value,t=a?.maxDepth!==void 0&&a?.maxDepth<d?a?.maxDepth:d;o.push((0,R.j)({id:s,collectionSlug:r.config.slug,currentDepth:c,data:k,depth:t,draft:e,key:"value",overrideAccess:l,req:p,showHiddenFields:q}));let u=a?.collections?.[k?.relationTo]?.fields;if(Array.isArray(u)){if(!u?.length)return;(0,aa.V)({context:b,currentDepth:c,data:k.fields||{},depth:d,parentIsLocalized:m||g.localized||!1,draft:e,editorPopulationPromises:f,fieldPromises:h,fields:u,findMany:i,flattenLocales:j,overrideAccess:l,populationPromises:o,req:p,showHiddenFields:q,siblingDoc:k.fields||{}})}}}},ac={ar:{label:"تحميل"},az:{label:"Y\xfckləyin"},bg:{label:"Качване"},cs:{label:"Nahr\xe1t"},da:{label:"Upload"},de:{label:"Datei"},en:{label:"Upload"},es:{label:"Subir"},et:{label:"Lae \xfcles"},fa:{label:"بارگذاری"},fr:{label:"T\xe9l\xe9charger"},he:{label:"העלה"},hr:{label:"Prenesi"},hu:{label:"Felt\xf6lt\xe9s"},is:{label:"Hla\xf0a upp"},it:{label:"Carica"},ja:{label:"アップロード"},ko:{label:"업로드"},my:{label:"တင်ပြီး"},nb:{label:"Last opp"},nl:{label:"Uploaden"},pl:{label:"Prześlij"},pt:{label:"Carregar"},ro:{label:"\xcencarcă"},rs:{label:"Отпреми"},"rs-latin":{label:"Otpremi"},ru:{label:"Загрузить"},sk:{label:"Nahrať"},sl:{label:"Naloži"},sv:{label:"Ladda upp"},ta:{label:"பதிவேற்றம்"},th:{label:"อัปโหลด"},tr:{label:"Y\xfckle"},uk:{label:"Завантажити"},vi:{label:"Tải l\xean"},zh:{label:"上传"},"zh-TW":{label:"上傳"}};var ad=c(67405);function ae(a,b){if(a.hasAttribute("data-lexical-pending-upload-form-id")){let c=a.getAttribute("data-lexical-pending-upload-form-id");if(null!=c)return{node:b({data:{pending:{formID:c,src:a.getAttribute("src")||""}}})}}if(a.hasAttribute("data-lexical-upload-relation-to")&&a.hasAttribute("data-lexical-upload-id")){let c=a.getAttribute("data-lexical-upload-id"),d=a.getAttribute("data-lexical-upload-relation-to");if(null!=c&&null!=d)return{node:b({data:{fields:{},relationTo:d,value:c}})}}return{node:b({data:{pending:{formID:new ad.default().toHexString(),src:a.getAttribute("src")||""}}})}}class af extends V{__data;constructor({data:a,format:b,key:c}){super(b,c),this.__data=a}static clone(a){return new this({data:a.__data,format:a.__format,key:a.__key})}static getType(){return"upload"}static importDOM(){return{img:a=>({conversion:a=>ae(a,ag),priority:0})}}static importJSON(a){1===a.version&&a?.value?.id&&(a.value=a.value.id),2!==a.version||a?.id||(a.id=new ad.default().toHexString(),a.version=3);let b=ag({data:{id:a.id,fields:a.fields,pending:a.pending,relationTo:a.relationTo,value:a.value}});return b.setFormat(a.format),b}static isInline(){return!1}decorate(){return null}exportDOM(){let a=document.createElement("img"),b=this.__data;return b.pending?(a.setAttribute("data-lexical-pending-upload-form-id",String(b?.pending?.formID)),a.setAttribute("src",b?.pending?.src||"")):(a.setAttribute("data-lexical-upload-id",String(b?.value)),a.setAttribute("data-lexical-upload-relation-to",b?.relationTo)),{element:a}}exportJSON(){return{...super.exportJSON(),...this.getData(),type:"upload",version:3}}getData(){return this.getLatest().__data}setData(a){this.getWritable().__data=a}updateDOM(){return!1}}function ag({data:a}){return a?.id||(a.id=new ad.default().toHexString()),(0,U.pTq)(new af({data:a}))}var ah=c(7932),ai=c(88283);let aj=a=>async({node:b,validation:{options:{id:c,data:d,operation:e,preferences:f,req:g,req:{payload:h,t:i}}}})=>{let j=h.collections[b.relationTo]?.customIDType||h.db.defaultIDType,k=b?.value?.id||b?.value;if(!(0,ai.m)(k,j))return i("validation:validUploadID");if(!a?.collections||0===Object.keys(a?.collections).length)return!0;let l=a?.collections[b.relationTo];if(!l?.fields?.length)return!0;let m=await (0,ah.d)({id:c,collectionSlug:b.relationTo,data:b?.fields??{},documentData:d,fields:l.fields,fieldSchemaMap:void 0,initialBlockData:b?.fields??{},operation:"create"===e||"update"===e?e:"update",permissions:{},preferences:f,renderAllFields:!1,req:g,schemaPath:""}),o=new Set;for(let a in m){let b=m[a];if(b?.errorPaths?.length)for(let a of b.errorPaths)o.add(a)}let p=Array.from(o);return!p.length||"The following fields are invalid: "+p.join(", ")};function ak(a,b){return a?.startsWith("http")?a:(b?.config?.serverURL||"")+a}let al=(0,j.m)({feature:async({config:a,isRoot:b,parentIsLocalized:c,props:d})=>{d||(d={collections:{}});let e={collections:{}};if(d.disabledCollections&&(e.disabledCollections=d.disabledCollections),d.enabledCollections&&(e.enabledCollections=d.enabledCollections),d.collections)for(let a in d.collections)e.collections[a]={hasExtraFields:d.collections[a].fields.length>=1};let f=a.collections.map(a=>a.slug)||[];for(let e in d.collections){let g=d.collections[e];g.fields?.length&&(g.fields=await (0,_.b)({config:a,fields:g.fields,parentIsLocalized:c,requireFieldLevelRichTextEditor:b,validRelationships:f}))}return{ClientFeature:"@payloadcms/richtext-lexical/client#UploadFeatureClient",clientFeatureProps:e,generateSchemaMap:({props:a})=>{if(!a?.collections)return null;let b=new Map;for(let c in a.collections){let d=a.collections[c];d.fields?.length&&b.set(c,{fields:d.fields})}return b},i18n:ac,nodes:[(0,p.R)({converters:{html:{converter:async({currentDepth:a,depth:b,draft:c,node:d,overrideAccess:e,req:f,showHiddenFields:g})=>{let h=d?.value?.id||d?.value;if(!f?.payload)return`<img src="${h}" />`;{let i={};try{await (0,R.j)({id:h,collectionSlug:d.relationTo,currentDepth:a,data:i,depth:b,draft:c,key:"value",overrideAccess:e,req:f,showHiddenFields:g})}catch(a){return console.error("Lexical upload node HTML converter: error fetching upload file",a,"Node:",d),"<img />"}let j=ak(i?.value?.url??"",f?.payload);if(!i?.value?.mimeType?.startsWith("image"))return`<a href="${j}" rel="noopener noreferrer">${i.value?.filename}</a>`;if(!i?.value?.sizes||!Object.keys(i?.value?.sizes).length)return`<img src="${j}" alt="${i?.value?.filename}" width="${i?.value?.width}"  height="${i?.value?.height}"/>`;let k="<picture>";for(let a in i.value?.sizes){let b=i.value.sizes[a];if(!b.width||!b.height||!b.mimeType||!b.filesize||!b.filename||!b.url)continue;let c=ak(b?.url,f?.payload);k+=`<source srcset="${c}" media="(max-width: ${b.width}px)" type="${b.mimeType}">`}return k+`<img src="${j}" alt="Image" width="${i.value?.width}" height="${i.value?.height}"></picture>`}},nodeTypes:[af.getType()]}},getSubFields:({node:a,req:b})=>{if(!a){let a=[];for(let b in d?.collections){let c=d.collections[b].fields;a=a.concat(c)}return a}if(b?b.payload.collections[a?.relationTo]:null){let b=d?.collections?.[a?.relationTo]?.fields;if(Array.isArray(b))return b?.length?b:null}return null},getSubFieldsData:({node:a})=>a?.fields,graphQLPopulationPromises:[ab(d)],hooks:{afterRead:[({currentDepth:a,depth:b,draft:c,node:e,overrideAccess:f,populateArg:g,populationPromises:h,req:i,showHiddenFields:j})=>{if(!e?.value)return e;let k=i.payload.collections[e?.relationTo];if(!k)return e;let l=e?.value?.id||e?.value,m=d?.maxDepth!==void 0&&d?.maxDepth<b?d?.maxDepth:b;return h.push((0,R.j)({id:l,collectionSlug:k.config.slug,currentDepth:a,data:e,depth:m,draft:c,key:"value",overrideAccess:f,req:i,select:g?.[k.config.slug]??k.config.defaultPopulate,showHiddenFields:j})),e}]},node:af,validations:[aj(d)]})],sanitizedServerFeatureProps:d}},key:"upload"}),am={namespace:"lexical",theme:{block:"LexicalEditorTheme__block",blockCursor:"LexicalEditorTheme__blockCursor",characterLimit:"LexicalEditorTheme__characterLimit",code:"LexicalEditorTheme__code",codeHighlight:{atrule:"LexicalEditorTheme__tokenAttr",attr:"LexicalEditorTheme__tokenAttr",boolean:"LexicalEditorTheme__tokenProperty",builtin:"LexicalEditorTheme__tokenSelector",cdata:"LexicalEditorTheme__tokenComment",char:"LexicalEditorTheme__tokenSelector",class:"LexicalEditorTheme__tokenFunction","class-name":"LexicalEditorTheme__tokenFunction",comment:"LexicalEditorTheme__tokenComment",constant:"LexicalEditorTheme__tokenProperty",deleted:"LexicalEditorTheme__tokenProperty",doctype:"LexicalEditorTheme__tokenComment",entity:"LexicalEditorTheme__tokenOperator",function:"LexicalEditorTheme__tokenFunction",important:"LexicalEditorTheme__tokenVariable",inserted:"LexicalEditorTheme__tokenSelector",keyword:"LexicalEditorTheme__tokenAttr",namespace:"LexicalEditorTheme__tokenVariable",number:"LexicalEditorTheme__tokenProperty",operator:"LexicalEditorTheme__tokenOperator",prolog:"LexicalEditorTheme__tokenComment",property:"LexicalEditorTheme__tokenProperty",punctuation:"LexicalEditorTheme__tokenPunctuation",regex:"LexicalEditorTheme__tokenVariable",selector:"LexicalEditorTheme__tokenSelector",string:"LexicalEditorTheme__tokenSelector",symbol:"LexicalEditorTheme__tokenProperty",tag:"LexicalEditorTheme__tokenProperty",url:"LexicalEditorTheme__tokenOperator",variable:"LexicalEditorTheme__tokenVariable"},embedBlock:{base:"LexicalEditorTheme__embedBlock",focus:"LexicalEditorTheme__embedBlockFocus"},hashtag:"LexicalEditorTheme__hashtag",heading:{h1:"LexicalEditorTheme__h1",h2:"LexicalEditorTheme__h2",h3:"LexicalEditorTheme__h3",h4:"LexicalEditorTheme__h4",h5:"LexicalEditorTheme__h5",h6:"LexicalEditorTheme__h6"},hr:"LexicalEditorTheme__hr",hrSelected:"LexicalEditorTheme__hrSelected",indent:"LexicalEditorTheme__indent",inlineImage:"LexicalEditor__inline-image",link:"LexicalEditorTheme__link",list:{checklist:"LexicalEditorTheme__checklist",listitem:"LexicalEditorTheme__listItem",listitemChecked:"LexicalEditorTheme__listItemChecked",listitemUnchecked:"LexicalEditorTheme__listItemUnchecked",nested:{listitem:"LexicalEditorTheme__nestedListItem"},olDepth:["LexicalEditorTheme__ol1","LexicalEditorTheme__ol2","LexicalEditorTheme__ol3","LexicalEditorTheme__ol4","LexicalEditorTheme__ol5"],ul:"LexicalEditorTheme__ul"},ltr:"LexicalEditorTheme__ltr",mark:"LexicalEditorTheme__mark",markOverlap:"LexicalEditorTheme__markOverlap",paragraph:"LexicalEditorTheme__paragraph",quote:"LexicalEditorTheme__quote",relationship:"LexicalEditorTheme__relationship",rtl:"LexicalEditorTheme__rtl",tab:"LexicalEditorTheme__tabNode",table:"LexicalEditorTheme__table",tableAddColumns:"LexicalEditorTheme__tableAddColumns",tableAddRows:"LexicalEditorTheme__tableAddRows",tableAlignment:{center:"LexicalEditorTheme__tableAlignmentCenter",right:"LexicalEditorTheme__tableAlignmentRight"},tableCell:"LexicalEditorTheme__tableCell",tableCellActionButton:"LexicalEditorTheme__tableCellActionButton",tableCellActionButtonContainer:"LexicalEditorTheme__tableCellActionButtonContainer",tableCellHeader:"LexicalEditorTheme__tableCellHeader",tableCellResizer:"LexicalEditorTheme__tableCellResizer",tableCellSelected:"LexicalEditorTheme__tableCellSelected",tableFrozenColumn:"LexicalEditorTheme__tableFrozenColumn",tableRowStriping:"LexicalEditorTheme__tableRowStriping",tableScrollableWrapper:"LexicalEditorTheme__tableScrollableWrapper",tableSelected:"LexicalEditorTheme__tableSelected",tableSelection:"LexicalEditorTheme__tableSelection",text:{bold:"LexicalEditorTheme__textBold",code:"LexicalEditorTheme__textCode",italic:"LexicalEditorTheme__textItalic",strikethrough:"LexicalEditorTheme__textStrikethrough",subscript:"LexicalEditorTheme__textSubscript",superscript:"LexicalEditorTheme__textSuperscript",underline:"LexicalEditorTheme__textUnderline",underlineStrikethrough:"LexicalEditorTheme__textUnderlineStrikethrough"},upload:"editor-upload"}},an=[(0,t.k)(),(0,w.v)(),(0,B.D)(),y(),z(),A(),v(),Q(),(0,C.b)(),l(),(0,E.x)(),(0,O.j)(),(0,N.Y)(),M(),(0,F.T)(),Z(),s(),al(),(0,D.h)(),(0,$.X)()],ao={features:an,lexical:am};function ap(a){let b={};for(let c of a)b[c.key]={dependencies:c.dependencies||[],dependenciesPriority:c.dependenciesPriority||[],dependenciesSoft:c.dependenciesSoft||[],featureProvider:c};return b}function aq(a){let b=ap(a),c={},d=[];for(let a in b)c[a]||ar(b,a,c,d);return d.reverse()}function ar(a,b,c,d,e=[]){if(!a[b])throw Error(`Feature key ${b} is not present in the dependency graph.`);if(e.includes(b))throw Error(`Circular dependency detected: ${e.join(" -> ")} -> ${b}`);if(!c[b]){for(let f of(c[b]=!0,e.push(b),a[b].dependenciesPriority))c[f]||ar(a,f,c,d,e);for(let f of a[b].dependencies)c[f]||a[b].dependenciesPriority.includes(f)||ar(a,f,c,d,e);for(let f of a[b].dependenciesSoft)!a[f]||c[f]||a[b].dependenciesPriority.includes(f)||a[b].dependencies.includes(f)||ar(a,f,c,d,e);d.push(a[b].featureProvider),e.pop()}}function as(a){return aq(a)}async function at({config:a,isRoot:b,parentIsLocalized:c,unSanitizedEditorConfig:d}){d.features=d.features.reverse().filter((a,b,c)=>c.findIndex(b=>b.key===a.key)===b).reverse(),d.features=as(d.features);let e=new Map(d.features.map(a=>[a.key,a])),f=new Map,g=0;for(let h of d.features){if(!h.key)throw Error("A Feature you've added does not have a key. Please add a key to the feature. This is used to uniquely identify the feature.");if(h.dependencies?.length){for(let a of h.dependencies)if(!d.features.find(b=>b.key===a))throw Error(`Feature ${h.key} has a dependency ${a} which does not exist.`)}if(h.dependenciesPriority?.length){for(let a of h.dependenciesPriority)if(!f.get(a)){if(d.features.find(b=>b.key===a))throw Error(`Feature ${h.key} has a priority dependency ${a} which is not loaded before it.`);throw Error(`Feature ${h.key} has a priority dependency ${a} which does not exist.`)}}let i="function"==typeof h.feature?await h.feature({config:a,featureProviderMap:e,isRoot:b,parentIsLocalized:c,resolvedFeatures:f,unSanitizedEditorConfig:d}):h.feature;i.key=h.key,i.order=g,i.dependencies=h.dependencies,i.dependenciesPriority=h.dependenciesPriority,i.dependenciesSoft=h.dependenciesSoft,f.set(h.key,i),g++}return f}let au=a=>{let b={converters:{html:[]},enabledFeatures:[],generatedTypes:{modifyOutputSchemas:[]},getSubFields:new Map,getSubFieldsData:new Map,graphQLPopulationPromises:new Map,hooks:{afterChange:[],afterRead:[],beforeChange:[],beforeValidate:[]},i18n:{},markdownTransformers:[],nodeHooks:{afterChange:new Map,afterRead:new Map,beforeChange:new Map,beforeValidate:new Map},nodes:[],validations:new Map};return a?.size&&a.forEach(a=>{if(a?.generatedTypes?.modifyOutputSchema&&b.generatedTypes.modifyOutputSchemas.push(a.generatedTypes.modifyOutputSchema),a?.hooks?.beforeValidate?.length&&(b.hooks.beforeValidate=b.hooks.beforeValidate?.concat(a.hooks.beforeValidate)),a?.hooks?.beforeChange?.length&&(b.hooks.beforeChange=b.hooks.beforeChange?.concat(a.hooks.beforeChange)),a?.hooks?.afterRead?.length&&(b.hooks.afterRead=b.hooks.afterRead?.concat(a.hooks.afterRead)),a?.hooks?.afterChange?.length&&(b.hooks.afterChange=b.hooks.afterChange?.concat(a.hooks.afterChange)),a?.i18n)for(let c in a.i18n)b.i18n[c]||(b.i18n[c]={lexical:{}}),b.i18n[c].lexical[a.key]=a.i18n[c];if(a.nodes?.length){for(let c of a.nodes)b.nodes.push(c);a.nodes.forEach(a=>{let c="with"in a.node?a.node.replace.getType():a.node.getType();a?.graphQLPopulationPromises?.length&&b.graphQLPopulationPromises.set(c,a.graphQLPopulationPromises),a?.validations?.length&&b.validations.set(c,a.validations),a?.converters?.html&&b.converters.html.push(a.converters.html),a?.hooks?.afterChange&&b.nodeHooks?.afterChange?.set(c,a.hooks.afterChange),a?.hooks?.afterRead&&b.nodeHooks?.afterRead?.set(c,a.hooks.afterRead),a?.hooks?.beforeChange&&b.nodeHooks?.beforeChange?.set(c,a.hooks.beforeChange),a?.hooks?.beforeValidate&&b.nodeHooks?.beforeValidate?.set(c,a.hooks.beforeValidate),a?.getSubFields&&b.getSubFields?.set(c,a.getSubFields),a?.getSubFieldsData&&b.getSubFieldsData?.set(c,a.getSubFieldsData)})}if(a.markdownTransformers?.length)for(let c of a.markdownTransformers)"function"==typeof c?b.markdownTransformers.push(c({allNodes:b.nodes,allTransformers:b.markdownTransformers})):b.markdownTransformers.push(c);b.enabledFeatures.push(a.key)}),b};async function av(a,b,c){let d=await at({config:b,parentIsLocalized:c,unSanitizedEditorConfig:a});return{features:au(d),lexical:a.lexical,resolvedFeatureMap:d}}let aw=global._payload_lexical_defaultSanitizedServerEditorConfig;aw||(aw=global._payload_lexical_defaultSanitizedServerEditorConfig=null);let ax=async a=>{let{config:b,parentIsLocalized:c}=a;return aw?await aw:(aw=av(ao,b,c),global.payload_lexical_defaultSanitizedServerEditorConfig=aw,aw=await aw,global.payload_lexical_defaultSanitizedServerEditorConfig=aw,aw)},ay={ar:{placeholder:"ابدأ بالكتابة، أو اضغط على '/' للأوامر ...",slashMenuBasicGroupLabel:"أساسي",slashMenuListGroupLabel:"قوائم",toolbarItemsActive:"{{count}} نشط"},az:{placeholder:"Yazmağa başlayın və ya əmrlər \xfc\xe7\xfcn '/' d\xfcyməsini basın...",slashMenuBasicGroupLabel:"Əsas",slashMenuListGroupLabel:"Siyahılar",toolbarItemsActive:"{{count}} aktiv"},bg:{placeholder:"Започнете да пишете или натиснете '/' за команди...",slashMenuBasicGroupLabel:"Основен",slashMenuListGroupLabel:"Списъци",toolbarItemsActive:"{{count}} активни"},cs:{placeholder:"Začněte ps\xe1t nebo stiskněte '/' pro př\xedkazy...",slashMenuBasicGroupLabel:"Z\xe1kladn\xed",slashMenuListGroupLabel:"Seznamy",toolbarItemsActive:"{{count}} aktivn\xed"},da:{placeholder:"Begynd at skrive, eller tryk p\xe5 '/' for kommandoer...",slashMenuBasicGroupLabel:"Grundl\xe6ggende",slashMenuListGroupLabel:"Lister",toolbarItemsActive:"{{count}} aktive"},de:{placeholder:"Beginne zu tippen oder dr\xfccke '/' f\xfcr Befehle...",slashMenuBasicGroupLabel:"Basis",slashMenuListGroupLabel:"Listen",toolbarItemsActive:"{{count}} aktiv"},en:{placeholder:"Start typing, or press '/' for commands...",slashMenuBasicGroupLabel:"Basic",slashMenuListGroupLabel:"Lists",toolbarItemsActive:"{{count}} active"},es:{placeholder:"Comience a escribir, o presione '/' para comandos...",slashMenuBasicGroupLabel:"B\xe1sico",slashMenuListGroupLabel:"Listas",toolbarItemsActive:"{{count}} activo"},et:{placeholder:"Alusta kirjutamist v\xf5i vajuta '/' k\xe4skude jaoks...",slashMenuBasicGroupLabel:"P\xf5hiline",slashMenuListGroupLabel:"Loendid",toolbarItemsActive:"{{count}} aktiivne"},fa:{placeholder:"شروع به تایپ کنید، یا برای دستورات '/' را فشار دهید ...",slashMenuBasicGroupLabel:"پایه",slashMenuListGroupLabel:"لیست ها",toolbarItemsActive:"{{count}} فعال"},fr:{placeholder:"Commencez \xe0 taper, ou appuyez sur '/' pour les commandes...",slashMenuBasicGroupLabel:"De base",slashMenuListGroupLabel:"Listes",toolbarItemsActive:"{{count}} actif"},he:{placeholder:"התחיל להקליד, או לחץ על '/' עבור פקודות ...",slashMenuBasicGroupLabel:"בסיסי",slashMenuListGroupLabel:"רשימות",toolbarItemsActive:"{{count}} פעיל"},hr:{placeholder:"Počnite tipkati, ili pritisnite '/' za naredbe...",slashMenuBasicGroupLabel:"Osnovno",slashMenuListGroupLabel:"Popisi",toolbarItemsActive:"{{count}} aktivno"},hu:{placeholder:"Kezdje el g\xe9pelni, vagy nyomja meg a '/' billentyűt a parancsokhoz...",slashMenuBasicGroupLabel:"Alapvető",slashMenuListGroupLabel:"List\xe1k",toolbarItemsActive:"{{count}} akt\xedv"},is:{placeholder:"Byrja\xf0u a\xf0 skrifa e\xf0a sl\xe1\xf0u inn '/' fyrir skipanir...",slashMenuBasicGroupLabel:"Grunnur",slashMenuListGroupLabel:"Listar",toolbarItemsActive:"{{count}} virk"},it:{placeholder:"Inizia a digitare, oppure premi '/' per i comandi...",slashMenuBasicGroupLabel:"Base",slashMenuListGroupLabel:"Elenchi",toolbarItemsActive:"{{count}} attivo"},ja:{placeholder:"入力を開始するか、コマンドのために'/'を押してください…",slashMenuBasicGroupLabel:"基本的な",slashMenuListGroupLabel:"リスト",toolbarItemsActive:"{{count}} アクティブ"},ko:{placeholder:"타이핑을 시작하거나, 명령어를 입력하려면 '/'를 누르세요...",slashMenuBasicGroupLabel:"기본적인",slashMenuListGroupLabel:"목록",toolbarItemsActive:"{{count}} 활성화된"},my:{placeholder:"Mula menaip, atau tekan '/' untuk arahan...",slashMenuBasicGroupLabel:"အခြေခံ",slashMenuListGroupLabel:"Senarai",toolbarItemsActive:"{{count}} aktif"},nb:{placeholder:"Begynn \xe5 skrive, eller trykk '/' for kommandoer...",slashMenuBasicGroupLabel:"Grunnleggende",slashMenuListGroupLabel:"Lister",toolbarItemsActive:"{{count}} aktiv"},nl:{placeholder:"Begin met typen, of druk op '/' voor opdrachten...",slashMenuBasicGroupLabel:"Basis",slashMenuListGroupLabel:"Lijsten",toolbarItemsActive:"{{count}} actief"},pl:{placeholder:"Rozpocznij pisanie lub naciśnij '/' dla poleceń...",slashMenuBasicGroupLabel:"Podstawowy",slashMenuListGroupLabel:"Listy",toolbarItemsActive:"{{count}} aktywny"},pt:{placeholder:"Comece a digitar, ou pressione '/' para comandos...",slashMenuBasicGroupLabel:"B\xe1sico",slashMenuListGroupLabel:"Listas",toolbarItemsActive:"{{count}} ativo"},ro:{placeholder:"\xcencepeți să tastați sau apăsați '/' pentru comenzi...",slashMenuBasicGroupLabel:"De bază",slashMenuListGroupLabel:"Liste",toolbarItemsActive:"{{count}} activ"},rs:{placeholder:"Почните да куцате, или притисните '/' за команде...",slashMenuBasicGroupLabel:"Основно",slashMenuListGroupLabel:"Листе",toolbarItemsActive:"{{count}} активно"},"rs-latin":{placeholder:"Počnite da kucate, ili pritisnite '/' za komande...",slashMenuBasicGroupLabel:"Osnovno",slashMenuListGroupLabel:"Liste",toolbarItemsActive:"{{count}} aktivan"},ru:{placeholder:"Начните печатать или нажмите '/' для команд...",slashMenuBasicGroupLabel:"Базовый",slashMenuListGroupLabel:"Списки",toolbarItemsActive:"{{count}} активных"},sk:{placeholder:"Začnite p\xedsať alebo stlačte '/' pre pr\xedkazy...",slashMenuBasicGroupLabel:"Z\xe1kladn\xfd",slashMenuListGroupLabel:"Zoznamy",toolbarItemsActive:"{{count}} akt\xedvne"},sl:{placeholder:'Začnite tipkati ali pritisnite "/" za ukaze...',slashMenuBasicGroupLabel:"Osnovno",slashMenuListGroupLabel:"Seznami",toolbarItemsActive:"{{count}} aktivno"},sv:{placeholder:"B\xf6rja skriva, eller tryck p\xe5 '/' f\xf6r kommandon...",slashMenuBasicGroupLabel:"Grundl\xe4ggande",slashMenuListGroupLabel:"Listor",toolbarItemsActive:"{{count}} aktiv"},ta:{placeholder:"எழுதத் தொடங்கவும், அல்லது கட்டளைகளுக்கு '/' அழுத்தவும்...",slashMenuBasicGroupLabel:"அடிப்படை",slashMenuListGroupLabel:"பட்டியல்கள்",toolbarItemsActive:"{{count}} செயலில் உள்ளது"},th:{placeholder:"เริ่มพิมพ์หรือกด '/' สำหรับคำสั่ง...",slashMenuBasicGroupLabel:"พื้นฐาน",slashMenuListGroupLabel:"รายการ",toolbarItemsActive:"{{count}} ที่ใช้งานอยู่"},tr:{placeholder:"Yazmaya başlayın veya komutlar i\xe7in '/' tuşuna basın...",slashMenuBasicGroupLabel:"Temel",slashMenuListGroupLabel:"Listeler",toolbarItemsActive:"{{count}} aktif"},uk:{placeholder:"Почніть друкувати, або натисніть '/' для команд...",slashMenuBasicGroupLabel:"Базовий",slashMenuListGroupLabel:"Списки",toolbarItemsActive:"{{count}} активний"},vi:{placeholder:"Bắt đầu g\xf5, hoặc nhấn '/' để gọi lệnh...",slashMenuBasicGroupLabel:"Cơ bản",slashMenuListGroupLabel:"Danh s\xe1ch",toolbarItemsActive:"{{count}} đang hoạt động"},zh:{placeholder:"开始输入，或按'/'进行命令...",slashMenuBasicGroupLabel:"基础",slashMenuListGroupLabel:"列表",toolbarItemsActive:"{{count}} 活跃"},"zh-TW":{placeholder:"開始輸入，或按'/'以使用命令...",slashMenuBasicGroupLabel:"基本的",slashMenuListGroupLabel:"清單",toolbarItemsActive:"{{count}} 活躍中"}};function az({callback:a,nodes:b}){for(let c of b)a(c),"children"in c&&Array.isArray(c?.children)&&c?.children?.length&&az({callback:a,nodes:c.children})}let aA=({context:a,currentDepth:b,depth:c,draft:d,editorPopulationPromises:e,field:f,fieldPromises:g,findMany:h,flattenLocales:i,overrideAccess:j,parentIsLocalized:k,populationPromises:l,req:m,showHiddenFields:o,siblingDoc:p})=>{c&&b<=c&&az({callback:q=>{let r=e?.get(q.type);if(r)for(let s of r)s({context:a,currentDepth:b,depth:c,draft:d,editorPopulationPromises:e,field:f,fieldPromises:g,findMany:h,flattenLocales:i,node:q,overrideAccess:j,parentIsLocalized:k,populationPromises:l,req:m,showHiddenFields:o,siblingDoc:p})},nodes:p[f?.name]?.root?.children??[]})},aB=async a=>{let b=[];if(a.features&&"function"==typeof a.features){let c=a.config.editor,d=[];"object"==typeof c&&"features"in c&&(d=c.features),b=a.features({defaultFeatures:an,rootFeatures:d})}else b=a.features;b||(b=an);let c=a.lexical??ao.lexical,d=await at({config:a.config,isRoot:a.isRoot??!1,parentIsLocalized:a.parentIsLocalized??!1,unSanitizedEditorConfig:{features:b,lexical:c}});return{features:b,resolvedFeatureMap:d,sanitizedConfig:{features:au(d),lexical:a.lexical,resolvedFeatureMap:d}}};var aC=c(52385);let aD=a=>({addToImportMap:b,baseDir:c,config:d,importMap:e,imports:f})=>{for(let g of(b("@payloadcms/richtext-lexical/rsc#RscEntryLexicalCell"),b("@payloadcms/richtext-lexical/rsc#RscEntryLexicalField"),b("@payloadcms/richtext-lexical/rsc#LexicalDiffComponent"),a.resolvedFeatureMap.values())){if("componentImports"in g){if("function"==typeof g.componentImports)g.componentImports({addToImportMap:b,baseDir:c,config:d,importMap:e,imports:f});else if(Array.isArray(g.componentImports)&&g.componentImports?.length)g.componentImports.forEach(a=>{b(a)});else if("object"==typeof g.componentImports)for(let a of Object.values(g.componentImports))b(a)}let a=g.ClientFeature;if(a&&b(a),g.nodes?.length)for(let a of g.nodes){if("function"!=typeof a?.getSubFields)continue;let g=a.getSubFields({});g?.length&&(0,aC.J)({addToImportMap:b,baseDir:c,config:d,fields:g,importMap:e,imports:f})}}};var aE=c(8197);let aF=a=>({config:b,field:c,i18n:d,schemaMap:e,schemaPath:f})=>{for(let[g,h]of a.resolvedFeatureMap.entries()){if(!("generateSchemaMap"in h)||"function"!=typeof h.generateSchemaMap)continue;let a=h.generateSchemaMap({config:b,field:c,i18n:d,props:h.sanitizedServerFeatureProps,schemaMap:e,schemaPath:f});if(a)for(let[c,h]of a.entries())"fields"in h&&(0,aE.m)({config:b,fields:h.fields,i18n:d,parentIndexPath:"",parentSchemaPath:`${f}.lexical_internal_feature.${g}.${c}`,schemaMap:e}),e.set(`${f}.lexical_internal_feature.${g}.${c}`,h)}return e},aG=({flattenedNodes:a,nodeIDMap:b,nodes:c})=>{if(c?.length)for(let d of c)a&&a.push(d),b&&(d&&"id"in d&&d.id?b[d.id]=d:"fields"in d&&"object"==typeof d.fields&&d.fields&&"id"in d.fields&&d?.fields?.id&&(b[d.fields.id]=d)),"children"in d&&Array.isArray(d?.children)&&d?.children?.length&&aG({flattenedNodes:a,nodeIDMap:b,nodes:d.children})};var aH=c(41842);async function aI({nodes:a,nodeValidations:b,validation:c}){for(let d of a){let a=b.get(d.type);if(a)for(let e of a){let a=await e({node:d,nodeValidations:b,validation:c});if(!0!==a)return`${d.type} node failed to validate: ${a}`}if("children"in d&&d?.children){let a=await aI({nodes:d.children,nodeValidations:b,validation:c});if(!0!==a)return a}}return!0}let aJ=({editorConfig:a})=>async(b,c)=>{let{req:{t:d},required:e}=c;if(e&&!1===(0,aH.I)(b))return d("validation:required");let f=b?.root?.children;return!(f&&Array.isArray(f)&&f?.length)||await aI({nodes:f,nodeValidations:a.features.validations,validation:{options:c,value:b}})};function aK(a){return async({config:b,isRoot:c,parentIsLocalized:h})=>{let j,k,l=[];if(a&&(a.features||a.lexical)){let d=await aB({config:b,features:a?.features,isRoot:c,lexical:a?.lexical,parentIsLocalized:h});k=d.sanitizedConfig,l=d.features,j=d.resolvedFeatureMap}else k=await ax({config:b,parentIsLocalized:h}),l=an,j=k.resolvedFeatureMap;let m=k.features.i18n;for(let a in ay)m[a]||(m[a]={lexical:{}}),m[a].lexical.general=ay[a];return{CellComponent:{path:"@payloadcms/richtext-lexical/rsc#RscEntryLexicalCell",serverProps:{admin:a?.admin,sanitizedEditorConfig:k}},DiffComponent:{path:"@payloadcms/richtext-lexical/rsc#LexicalDiffComponent",serverProps:{admin:a?.admin,sanitizedEditorConfig:k}},editorConfig:k,features:l,FieldComponent:{path:"@payloadcms/richtext-lexical/rsc#RscEntryLexicalField",serverProps:{admin:a?.admin,sanitizedEditorConfig:k}},generateImportMap:aD({resolvedFeatureMap:j}),generateSchemaMap:aF({resolvedFeatureMap:j}),graphQLPopulationPromises({context:a,currentDepth:b,depth:c,draft:d,field:e,fieldPromises:f,findMany:g,flattenLocales:h,overrideAccess:i,parentIsLocalized:j,populationPromises:l,req:m,showHiddenFields:o,siblingDoc:p}){k?.features?.graphQLPopulationPromises?.size&&aA({context:a,currentDepth:b??0,depth:c,draft:d,editorPopulationPromises:k.features.graphQLPopulationPromises,field:e,fieldPromises:f,findMany:g,flattenLocales:h,overrideAccess:i,parentIsLocalized:j,populationPromises:l,req:m,showHiddenFields:o,siblingDoc:p})},hooks:{afterChange:[async a=>{let{collection:b,context:c,data:e,field:f,global:g,indexPath:h,operation:i,originalDoc:j,parentIsLocalized:l,path:m,previousDoc:o,previousValue:p,req:q,schemaPath:r}=a,{value:s}=a;if(k?.features?.hooks?.afterChange?.length)for(let b of k.features.hooks.afterChange)s=await b(a);if(!k.features.nodeHooks?.afterChange?.size&&!k.features.getSubFields?.size)return s;let t=c,u={},v={},w=t?.internal?.richText?.[m.join(".")]?.originalNodeIDMap;if(!w||!Object.keys(w).length||!s)return s;for(let[a,c]of(aG({nodeIDMap:u,nodes:s?.root?.children??[]}),aG({nodeIDMap:v,nodes:p?.root?.children??[]}),Object.entries(u))){let p=k.features.nodeHooks?.afterChange,s=p?.get(c.type);if(s)for(let b of s){if(!w[a]){console.warn("(afterChange) No original node found for node with id",a,"node:",c,"path",m.join("."));continue}c=await b({context:t,node:c,operation:i,originalNode:w[a],parentRichTextFieldPath:m,parentRichTextFieldSchemaPath:r,previousNode:v[a],req:q})}let u=k.features.getSubFields?.get(c.type),x=k.features.getSubFieldsData?.get(c.type);if(u&&x){let k=u({node:c,req:q}),p=x({node:c,req:q})??{},s=x({node:w[a],req:q})??{},y=x({node:v[a],req:q})??{};k?.length&&await (0,d.m)({blockData:p,collection:b,context:t,data:e??{},doc:j,fields:k,global:g,operation:i,parentIndexPath:h.join("-"),parentIsLocalized:l||f.localized||!1,parentPath:m.join("."),parentSchemaPath:r.join("."),previousDoc:o,previousSiblingDoc:{...y},req:q,siblingData:p||{},siblingDoc:{...s}})}}return s}],afterRead:[async a=>{let{collection:b,context:c,currentDepth:d,depth:f,draft:g,fallbackLocale:h,field:i,fieldPromises:j,findMany:l,flattenLocales:m,global:o,indexPath:p,locale:q,originalDoc:r,overrideAccess:s,parentIsLocalized:t,path:u,populate:v,populationPromises:w,req:x,schemaPath:y,showHiddenFields:z,triggerAccessControl:A,triggerHooks:B}=a,{value:C}=a;if(k?.features?.hooks?.afterRead?.length)for(let b of k.features.hooks.afterRead)C=await b(a);if(!k.features.nodeHooks?.afterRead?.size&&!k.features.getSubFields?.size)return C;let D=[];for(let a of(aG({flattenedNodes:D,nodes:C?.root?.children??[]}),D)){let C=k.features.nodeHooks?.afterRead,D=C?.get(a.type);if(D)for(let b of D)a=await b({context:c,currentDepth:d,depth:f,draft:g,fallbackLocale:h,fieldPromises:j,findMany:l,flattenLocales:m,locale:q,node:a,overrideAccess:s,parentRichTextFieldPath:u,parentRichTextFieldSchemaPath:y,populateArg:v,populationPromises:w,req:x,showHiddenFields:z,triggerAccessControl:A,triggerHooks:B});let E=k.features.getSubFields?.get(a.type),F=k.features.getSubFieldsData?.get(a.type);if(E&&F){let k=E({node:a,req:x}),C=F({node:a,req:x})??{};k?.length&&(0,e.m)({blockData:C,collection:b,context:c,currentDepth:d,depth:f,doc:r,draft:g,fallbackLocale:h,fieldPromises:j,fields:k,findMany:l,flattenLocales:m,global:o,locale:q,overrideAccess:s,parentIndexPath:p.join("-"),parentIsLocalized:t||i.localized||!1,parentPath:u.join("."),parentSchemaPath:y.join("."),populate:v,populationPromises:w,req:x,showHiddenFields:z,siblingDoc:C,triggerAccessControl:A,triggerHooks:B})}}return C}],beforeChange:[async a=>{let{collection:b,context:c,data:d,docWithLocales:e,errors:g,field:h,fieldLabelPath:i,global:j,indexPath:l,mergeLocaleActions:m,operation:o,originalDoc:p,overrideAccess:q,parentIsLocalized:r,path:s,previousValue:t,req:u,schemaPath:v,siblingData:w,siblingDocWithLocales:x,skipValidation:y}=a,{value:z}=a;if(k?.features?.hooks?.beforeChange?.length)for(let b of k.features.hooks.beforeChange)z=await b(a);if(!k.features.nodeHooks?.beforeChange?.size&&!k.features.getSubFields?.size)return z;let A=c,B={},C=A?.internal?.richText?.[s.join(".")]?.originalNodeIDMap;if(!C||!Object.keys(C).length||!z)return z;let D={},E={};for(let[a,c]of(aG({nodeIDMap:B,nodes:z?.root?.children??[]}),aG({nodeIDMap:D,nodes:t?.root?.children??[]}),h.name&&x?.[h.name]&&aG({nodeIDMap:E,nodes:x[h.name]?.root?.children??[]}),Object.entries(B))){let t=k.features.nodeHooks?.beforeChange,w=t?.get(c.type);if(w)for(let b of w){if(!C[a]){console.warn("(beforeChange) No original node found for node with id",a,"node:",c,"path",s.join("."));continue}c=await b({context:A,errors:g,mergeLocaleActions:m,node:c,operation:o,originalNode:C[a],originalNodeWithLocales:E[a],parentRichTextFieldPath:s,parentRichTextFieldSchemaPath:v,previousNode:D[a],req:u,skipValidation:y})}let x=k.features.getSubFields?.get(c.type),z=k.features.getSubFieldsData?.get(c.type);if(x&&z){let k=x({node:c,req:u}),t=z({node:c,req:u})??{},w=z({node:E[a],req:u})??{},B=z({node:D[a],req:u})??{};k?.length&&await (0,f.m)({id:a,blockData:t,collection:b,context:A,data:d??{},doc:p??{},docWithLocales:e??{},errors:g,fieldLabelPath:i,fields:k,global:j,mergeLocaleActions:m,operation:o,overrideAccess:q,parentIndexPath:l.join("-"),parentIsLocalized:r||h.localized||!1,parentPath:s.join("."),parentSchemaPath:v.join("."),req:u,siblingData:t,siblingDoc:B,siblingDocWithLocales:w??{},skipValidation:y})}}let F={},G=w[h.name];return aG({nodeIDMap:F,nodes:G?.root?.children??[]}),A.internal||(A.internal={}),A.internal.richText||(A.internal.richText={}),A.internal.richText[s.join(".")]={originalNodeIDMap:F},z}],beforeValidate:[async a=>{let{collection:b,context:c,data:d,field:e,global:f,indexPath:h,operation:i,originalDoc:j,overrideAccess:l,parentIsLocalized:m,path:o,previousValue:p,req:q,schemaPath:r}=a,{value:s}=a;if(k?.features?.hooks?.beforeValidate?.length)for(let b of k.features.hooks.beforeValidate)s=await b(a);if(!k.features.nodeHooks?.beforeValidate?.size&&!k.features.nodeHooks?.afterChange?.size&&!k.features.nodeHooks?.beforeChange?.size&&!k.features.getSubFields?.size)return s;let t={};if(aG({nodeIDMap:t,nodes:p?.root?.children??[]}),c.internal||(c.internal={}),c.internal.richText||(c.internal.richText={}),c.internal.richText[o.join(".")]={originalNodeIDMap:t},!k.features.nodeHooks?.beforeValidate?.size)return s;let u={};for(let[a,p]of(aG({nodeIDMap:u,nodes:s?.root?.children??[]}),Object.entries(u))){let s=k.features.nodeHooks.beforeValidate,u=s?.get(p.type);if(u)for(let b of u){if(!t[a]){console.warn("(beforeValidate) No original node found for node with id",a,"node:",p,"path",o.join("."));continue}p=await b({context:c,node:p,operation:i,originalNode:t[a],overrideAccess:l,parentRichTextFieldPath:o,parentRichTextFieldSchemaPath:r,req:q})}let v=k.features.getSubFields?.get(p.type),w=k.features.getSubFieldsData?.get(p.type);if(v&&w){let k=v({node:p,req:q}),s=w({node:p,req:q})??{},u=w({node:t[a],req:q})??{};k?.length&&await (0,g.m)({id:a,blockData:s,collection:b,context:c,data:d,doc:j,fields:k,global:f,operation:i,overrideAccess:l,parentIndexPath:h.join("-"),parentIsLocalized:m||e.localized||!1,parentPath:o.join("."),parentSchemaPath:r.join("."),req:q,siblingData:s,siblingDoc:u})}}return s}]},i18n:m,outputSchema:({collectionIDFieldTypes:a,config:b,field:c,i18n:d,interfaceNameDefinitions:e,isRequired:f})=>{let g={type:i("object",f),properties:{root:{type:"object",additionalProperties:!1,properties:{type:{type:"string"},children:{type:"array",items:{type:"object",additionalProperties:!0,properties:{type:{type:"string",tsType:"any"},version:{type:"integer"}},required:["type","version"]}},direction:{oneOf:[{enum:["ltr","rtl"]},{type:"null"}]},format:{type:"string",enum:["left","start","center","right","end","justify",""]},indent:{type:"integer"},version:{type:"integer"}},required:["children","direction","format","indent","type","version"]}},required:["root"]};for(let h of k.features.generatedTypes.modifyOutputSchemas)g=h({collectionIDFieldTypes:a,config:b,currentSchema:g,field:c,i18n:d,interfaceNameDefinitions:e,isRequired:f});return g},validate:aJ({editorConfig:k})}}}},75321:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.fromBase64=void 0;let d=c(59213),e=/^[A-Za-z0-9+/]*={0,2}$/;b.fromBase64=a=>{if(3*a.length%4!=0)throw TypeError("Incorrect padding on base64 string.");if(!e.exec(a))throw TypeError("Invalid base64 string.");let b=(0,d.fromString)(a,"base64");return new Uint8Array(b.buffer,b.byteOffset,b.byteLength)}},75351:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(86397),e=c(49943);b.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:a})=>(0,d._)`{passingSchemas: ${a.passing}}`},code(a){let{gen:b,schema:c,parentSchema:f,it:g}=a;if(!Array.isArray(c))throw Error("ajv implementation error");if(g.opts.discriminator&&f.discriminator)return;let h=c,i=b.let("valid",!1),j=b.let("passing",null),k=b.name("_valid");function l(){h.forEach((c,f)=>{let h;(0,e.alwaysValidSchema)(g,c)?b.var(k,!0):h=a.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},k),f>0&&b.if((0,d._)`${k} && ${i}`).assign(i,!1).assign(j,(0,d._)`[${j}, ${f}]`).else(),b.if(k,()=>{b.assign(i,!0),b.assign(j,f),h&&a.mergeEvaluated(h,d.Name)})})}a.setParams({passing:j}),b.block(l),a.result(i,()=>a.reset(),()=>a.error(!0))}}},75423:(a,b,c)=>{"use strict";c.d(b,{M:()=>j});var d=c(55694),e=c(66896);let f=async({config:a,language:b})=>(0,e.L)({config:a.i18n,context:"api",language:b});var g=c(23073);function h(a={context:null},b={}){return a.context?0===Object.keys(a.context).length&&a.context.constructor===Object?b:{...a.context,...b}:b}let i=(a,b)=>{let c;function d(){if(c)return c;let d=`http://${a.host||"localhost"}${b||""}`,e=a?.url||a.payload?.config?.serverURL?`${a.payload?.config.serverURL}${b||""}`:d;try{c=new URL(e)}catch(b){a.payload?.logger.error(`Failed to create URL object from URL: ${e}, falling back to ${d}`),c=new URL(d)}return c}a.host||(a.host=d().host),a.protocol||(a.protocol=d().protocol),a.pathname||(a.pathname=d().pathname),a.searchParams||(a.searchParams=d().searchParams),a.origin||(a.origin=d().origin),a?.url||(a.url=d().href)},j=async({context:a,fallbackLocale:b,locale:c,req:e={},urlSuffix:j,user:k},l)=>{let m=l.config?.localization;if(m){let a="*"===c?"all":c,d=m.defaultLocale,f=a||e?.locale||e?.query?.locale;e.locale=f&&"string"==typeof f?f:d;let h=(0,g.m)({fallbackLocale:b,locale:e.locale,localization:m});e.fallbackLocale=h}let o=e?.i18n||await f({config:l.config,language:l.config.i18n.fallbackLanguage});return e.headers||(e.headers=new Headers),e.context=h(e,a),e.payloadAPI=e?.payloadAPI||"local",e.payload=l,e.i18n=o,e.t=o.t,e.user=k||e?.user||null,e.payloadDataLoader=e?.payloadDataLoader||(0,d.Y)(e),e.routeParams=e?.routeParams||{},e.query=e?.query||{},i(e,j),e}},75492:(a,b,c)=>{"use strict";c.d(b,{L:()=>f});var d=c(96157),e=c(27661);function f(a=[],b){let{i18n:c,keepPresentationalFields:g,labelPrefix:h,moveSubFieldsToTop:i=!1,pathPrefix:j}="boolean"==typeof b?{keepPresentationalFields:b}:b??{};return a.reduce((a,k)=>{if("group"===k.type&&"fields"in k)if(i){let b="name"in k&&"string"==typeof k.name&&!!k.name,e="name"in k?k.name:void 0,l="label"in k&&k.label&&c?(0,d.s)(k.label,c):void 0,m=h?`${h} > ${l??e}`:l??e,o="name"in k&&k.name?j?`${j}.${k.name}`:k.name:j;a.push(k,...f(k.fields,{i18n:c,keepPresentationalFields:g,labelPrefix:b?m:h,moveSubFieldsToTop:i,pathPrefix:b?o:j}))}else(0,e.Z7)(k)?a.push(k):a.push(...f(k.fields,b));else if("tabs"===k.type&&"tabs"in k)return[...a,...k.tabs.reduce((a,k)=>{if(!(0,e.pz)(k))return[...a,...f(k.fields,b)];if(!i)return[...a,{...k,type:"tab"}];{let b="label"in k&&k.label&&c?(0,d.s)(k.label,c):void 0,e=h?`${h} > ${b??k.name}`:b??k.name,l=k.name?j?`${j}.${k.name}`:k.name:j;return[...a,...f(k.fields,{i18n:c,keepPresentationalFields:g,labelPrefix:e,moveSubFieldsToTop:i,pathPrefix:l})]}},[])];else if((0,e.sd)(k)&&["collapsible","row"].includes(k.type))a.push(...f(k.fields,b));else if((0,e.Z7)(k)||g&&(0,e.aO)(k)){if("id"===k.name&&void 0!==h)return a;let b="label"in k&&k.label&&c?(0,d.s)(k.label,c):void 0,e="name"in k?k.name:void 0,f=void 0!==j||void 0!==h;a.push({...k,...i&&f&&{accessor:j&&e?`${j}.${e}`:e??"",labelWithPrefix:h?`${h} > ${b??e}`:b??e}})}return a},[])}},75515:(a,b,c)=>{"use strict";c.d(b,{Q:()=>e});var d=c(64996);function e(a){return!(0,d.yd)(a)&&"object"==typeof a&&null!==a&&!(a instanceof RegExp)&&!(a instanceof Date)}},75592:(a,b,c)=>{"use strict";let d=c(31121);a.exports=function(a,b){let c=String(d(a)||"").split(/\r?\n/);return b?c.map(a=>Math.ceil(a.length/b)).reduce((a,b)=>a+b):c.length}},75687:(a,b,c)=>{"use strict";c.r(b),c.d(b,{loadConfig:()=>d.Z});var d=c(67821)},75879:(a,b,c)=>{"use strict";c.d(b,{B:()=>e});var d=c(70366);let e=async({defaultValue:a,locale:b,req:c,user:e,value:f})=>void 0!==f?f:a&&"function"==typeof a?await a({locale:b,req:c,user:e}):"object"==typeof a?(0,d.Zt)(a):a},76062:(a,b)=>{"use strict";var c;let d=()=>(a,b)=>async c=>{try{let d=await a(c),{clientName:e,commandName:f,logger:g,dynamoDbDocumentClientOptions:h={}}=b,{overrideInputFilterSensitiveLog:i,overrideOutputFilterSensitiveLog:j}=h,k=i??b.inputFilterSensitiveLog,l=j??b.outputFilterSensitiveLog,{$metadata:m,...o}=d.output;return g?.info?.({clientName:e,commandName:f,input:k(c.input),output:l(o),metadata:m}),d}catch(i){let{clientName:a,commandName:d,logger:e,dynamoDbDocumentClientOptions:f={}}=b,{overrideInputFilterSensitiveLog:g}=f,h=g??b.inputFilterSensitiveLog;throw e?.error?.({clientName:a,commandName:d,input:h(c.input),error:i,metadata:i.$metadata}),i}},e={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};b.Y7=a=>({applyToStack:a=>{a.add(d(),e)}}),c=d,c=e},76102:(a,b,c)=>{"use strict";a.exports=e;let d=c(70612);function e({log:a,context:b}){let{timestampKey:c,translateTime:e}=b,f=b.customPrettifiers?.time,g=null;if(c in a?g=a[c]:"timestamp"in a&&(g=a.timestamp),null===g)return;let h=e?d(g,e):g;return f?f(h):`[${h}]`}},76274:(a,b,c)=>{"use strict";var d,e=c(330),f=c(27910);async function*g(a){let b=!1,c=!1,d=[];for(a.on("error",a=>{if(b||(b=!0),a)throw a}),a.on("data",a=>{d.push(a)}),a.on("end",()=>{b=!0});!c;){let a=await new Promise(a=>setTimeout(()=>a(d.shift()),0));a&&(yield a),c=b&&0===d.length}}class h{universalMarshaller;constructor({utf8Encoder:a,utf8Decoder:b}){this.universalMarshaller=new e.EventStreamMarshaller({utf8Decoder:b,utf8Encoder:a})}deserialize(a,b){let c="function"==typeof a[Symbol.asyncIterator]?a:g(a);return this.universalMarshaller.deserialize(c,b)}serialize(a,b){return f.Readable.from(this.universalMarshaller.serialize(a,b))}}let i=a=>new h(a);d=h,b.J=i},76355:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{normalizeAppPath:function(){return f},normalizeRscURL:function(){return g}});let d=c(52578),e=c(23920);function f(a){return(0,d.ensureLeadingSlash)(a.split("/").reduce((a,b,c,d)=>!b||(0,e.isGroupSegment)(b)||"@"===b[0]||("page"===b||"route"===b)&&c===d.length-1?a:a+"/"+b,""))}function g(a){return a.replace(/\.rsc($|\?)/,"$1")}},76413:(a,b,c)=>{"use strict";c.r(b),c.d(b,{ChecksumStream:()=>g,Uint8ArrayBlobAdapter:()=>d.M,createBufferedReadable:()=>u,createChecksumStream:()=>l,getAwsChunkedEncodingStream:()=>v,headStream:()=>w.z,isBlob:()=>h.q,isReadableStream:()=>h.H,sdkStreamMixin:()=>x.c,splitStream:()=>y.L});var d=c(66536),e=c(23430),f=c(27910);class g extends f.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:a,checksum:b,source:c,checksumSourceLocation:d,base64Encoder:f}){if(super(),"function"==typeof c.pipe)this.source=c;else throw Error(`@smithy/util-stream: unsupported source type ${c?.constructor?.name??c} in ChecksumStream.`);this.base64Encoder=f??e.n,this.expectedChecksum=a,this.checksum=b,this.checksumSourceLocation=d,this.source.pipe(this)}_read(a){}_write(a,b,c){try{this.checksum.update(a),this.push(a)}catch(a){return c(a)}return c()}async _final(a){try{let b=await this.checksum.digest(),c=this.base64Encoder(b);if(this.expectedChecksum!==c)return a(Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${c}" in response header "${this.checksumSourceLocation}".`))}catch(b){return a(b)}return this.push(null),a()}}var h=c(8731);let i="function"==typeof ReadableStream?ReadableStream:function(){};class j extends i{}let k=({expectedChecksum:a,checksum:b,source:c,checksumSourceLocation:d,base64Encoder:f})=>{if(!(0,h.H)(c))throw Error(`@smithy/util-stream: unsupported source type ${c?.constructor?.name??c} in ChecksumStream.`);let g=f??e.n;if("function"!=typeof TransformStream)throw Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(a,c){b.update(a),c.enqueue(a)},async flush(c){let e=g(await b.digest());if(a!==e){let b=Error(`Checksum mismatch: expected "${a}" but received "${e}" in response header "${d}".`);c.error(b)}else c.terminate()}});c.pipeThrough(i);let k=i.readable;return Object.setPrototypeOf(k,j.prototype),k};function l(a){return"function"==typeof ReadableStream&&(0,h.H)(a.source)?k(a):new g(a)}var m=c(57075);class o{allocByteArray;byteLength=0;byteArrays=[];constructor(a){this.allocByteArray=a}push(a){this.byteArrays.push(a),this.byteLength+=a.byteLength}flush(){if(1===this.byteArrays.length){let a=this.byteArrays[0];return this.reset(),a}let a=this.allocByteArray(this.byteLength),b=0;for(let c=0;c<this.byteArrays.length;++c){let d=this.byteArrays[c];a.set(d,b),b+=d.byteLength}return this.reset(),a}reset(){this.byteArrays=[],this.byteLength=0}}function p(a,b,c){let d=a.getReader(),e=!1,f=0,g=["",new o(a=>new Uint8Array(a))],h=-1,i=async a=>{let{value:j,done:k}=await d.read(),l=j;if(k){if(-1!==h){let b=r(g,h);s(b)>0&&a.enqueue(b)}a.close()}else{let d=t(l,!1);if(h!==d&&(h>=0&&a.enqueue(r(g,h)),h=d),-1===h)return void a.enqueue(l);let j=s(l);f+=j;let k=s(g[h]);if(j>=b&&0===k)a.enqueue(l);else{let d=q(g,h,l);!e&&f>2*b&&(e=!0,c?.warn(`@smithy/util-stream - stream chunk size ${j} is below threshold of ${b}, automatically buffering.`)),d>=b?a.enqueue(r(g,h)):await i(a)}}};return new ReadableStream({pull:i})}function q(a,b,c){switch(b){case 0:return a[0]+=c,s(a[0]);case 1:case 2:return a[b].push(c),s(a[b])}}function r(a,b){switch(b){case 0:let c=a[0];return a[0]="",c;case 1:case 2:return a[b].flush()}throw Error(`@smithy/util-stream - invalid index ${b} given to flush()`)}function s(a){return a?.byteLength??a?.length??0}function t(a,b=!0){return b&&"undefined"!=typeof Buffer&&a instanceof Buffer?2:a instanceof Uint8Array?1:"string"==typeof a?0:-1}function u(a,b,c){if((0,h.H)(a))return p(a,b,c);let d=new m.Readable({read(){}}),e=!1,f=0,g=["",new o(a=>new Uint8Array(a)),new o(a=>Buffer.from(new Uint8Array(a)))],i=-1;return a.on("data",a=>{let h=t(a,!0);if(i!==h&&(i>=0&&d.push(r(g,i)),i=h),-1===i)return void d.push(a);let j=s(a);f+=j;let k=s(g[i]);if(j>=b&&0===k)d.push(a);else{let h=q(g,i,a);!e&&f>2*b&&(e=!0,c?.warn(`@smithy/util-stream - stream chunk size ${j} is below threshold of ${b}, automatically buffering.`)),h>=b&&d.push(r(g,i))}}),a.on("end",()=>{if(-1!==i){let a=r(g,i);s(a)>0&&d.push(a)}d.push(null)}),d}let v=(a,b)=>{let{base64Encoder:c,bodyLengthChecker:d,checksumAlgorithmFn:e,checksumLocationName:g,streamHasher:h}=b,i=void 0!==c&&void 0!==e&&void 0!==g&&void 0!==h,j=i?h(e,a):void 0,k=new f.Readable({read:()=>{}});return a.on("data",a=>{let b=d(a)||0;k.push(`${b.toString(16)}\r
`),k.push(a),k.push("\r\n")}),a.on("end",async()=>{if(k.push(`0\r
`),i){let a=c(await j);k.push(`${g}:${a}\r
`),k.push(`\r
`)}k.push(null)}),k};var w=c(10676),x=c(68057),y=c(93562)},76450:(a,b,c)=>{"use strict";let d=c(34589),e=c(77030),f=c(37067),g=c(33895),{ClientStats:h}=c(3547),{channels:i}=c(20471),j=c(79990),k=c(68056),{InvalidArgumentError:l,InformationalError:m,ClientDestroyedError:o}=c(212),p=c(53977),{kUrl:q,kServerName:r,kClient:s,kBusy:t,kConnect:u,kResuming:v,kRunning:w,kPending:x,kSize:y,kQueue:z,kConnected:A,kConnecting:B,kNeedDrain:C,kKeepAliveDefaultTimeout:D,kHostHeader:E,kPendingIdx:F,kRunningIdx:G,kError:H,kPipelining:I,kKeepAliveTimeoutValue:J,kMaxHeadersSize:K,kKeepAliveMaxTimeout:L,kKeepAliveTimeoutThreshold:M,kHeadersTimeout:N,kBodyTimeout:O,kStrictContentLength:P,kConnector:Q,kMaxRequests:R,kCounter:S,kClose:T,kDestroy:U,kDispatch:V,kLocalAddress:W,kMaxResponseSize:X,kOnError:Y,kHTTPContext:Z,kMaxConcurrentStreams:$,kResume:_}=c(25394),aa=c(40312),ab=c(50889),ac=Symbol("kClosedResolve"),ad=f&&f.maxHeaderSize&&Number.isInteger(f.maxHeaderSize)&&f.maxHeaderSize>0?()=>f.maxHeaderSize:()=>{throw new l("http module not available or http.maxHeaderSize invalid")},ae=()=>{};function af(a){return a[I]??a[Z]?.defaultPipelining??1}class ag extends k{constructor(a,{maxHeaderSize:b,headersTimeout:c,socketTimeout:d,requestTimeout:f,connectTimeout:h,bodyTimeout:i,idleTimeout:j,keepAlive:k,keepAliveTimeout:m,maxKeepAliveTimeout:o,keepAliveMaxTimeout:s,keepAliveTimeoutThreshold:t,socketPath:u,pipelining:w,tls:x,strictContentLength:y,maxCachedSessions:A,connect:B,maxRequestsPerClient:H,localAddress:S,maxResponseSize:T,autoSelectFamily:U,autoSelectFamilyAttemptTimeout:V,maxConcurrentStreams:aa,allowH2:ab}={}){if(void 0!==k)throw new l("unsupported keepAlive, use pipelining=0 instead");if(void 0!==d)throw new l("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(void 0!==f)throw new l("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(void 0!==j)throw new l("unsupported idleTimeout, use keepAliveTimeout instead");if(void 0!==o)throw new l("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(null!=b){if(!Number.isInteger(b)||b<1)throw new l("invalid maxHeaderSize")}else b=ad();if(null!=u&&"string"!=typeof u)throw new l("invalid socketPath");if(null!=h&&(!Number.isFinite(h)||h<0))throw new l("invalid connectTimeout");if(null!=m&&(!Number.isFinite(m)||m<=0))throw new l("invalid keepAliveTimeout");if(null!=s&&(!Number.isFinite(s)||s<=0))throw new l("invalid keepAliveMaxTimeout");if(null!=t&&!Number.isFinite(t))throw new l("invalid keepAliveTimeoutThreshold");if(null!=c&&(!Number.isInteger(c)||c<0))throw new l("headersTimeout must be a positive integer or zero");if(null!=i&&(!Number.isInteger(i)||i<0))throw new l("bodyTimeout must be a positive integer or zero");if(null!=B&&"function"!=typeof B&&"object"!=typeof B)throw new l("connect must be a function or an object");if(null!=H&&(!Number.isInteger(H)||H<0))throw new l("maxRequestsPerClient must be a positive number");if(null!=S&&("string"!=typeof S||0===e.isIP(S)))throw new l("localAddress must be valid string IP address");if(null!=T&&(!Number.isInteger(T)||T<-1))throw new l("maxResponseSize must be a positive number");if(null!=V&&(!Number.isInteger(V)||V<-1))throw new l("autoSelectFamilyAttemptTimeout must be a positive number");if(null!=ab&&"boolean"!=typeof ab)throw new l("allowH2 must be a valid boolean value");if(null!=aa&&("number"!=typeof aa||aa<1))throw new l("maxConcurrentStreams must be a positive integer, greater than 0");super(),"function"!=typeof B&&(B=p({...x,maxCachedSessions:A,allowH2:ab,socketPath:u,timeout:h,..."boolean"==typeof U?{autoSelectFamily:U,autoSelectFamilyAttemptTimeout:V}:void 0,...B})),this[q]=g.parseOrigin(a),this[Q]=B,this[I]=null!=w?w:1,this[K]=b,this[D]=null==m?4e3:m,this[L]=null==s?6e5:s,this[M]=null==t?2e3:t,this[J]=this[D],this[r]=null,this[W]=null!=S?S:null,this[v]=0,this[C]=0,this[E]=`host: ${this[q].hostname}${this[q].port?`:${this[q].port}`:""}\r
`,this[O]=null!=i?i:3e5,this[N]=null!=c?c:3e5,this[P]=null==y||y,this[R]=H,this[ac]=null,this[X]=T>-1?T:-1,this[$]=null!=aa?aa:100,this[Z]=null,this[z]=[],this[G]=0,this[F]=0,this[_]=a=>ak(this,a),this[Y]=a=>ah(this,a)}get pipelining(){return this[I]}set pipelining(a){this[I]=a,this[_](!0)}get stats(){return new h(this)}get[x](){return this[z].length-this[F]}get[w](){return this[F]-this[G]}get[y](){return this[z].length-this[G]}get[A](){return!!this[Z]&&!this[B]&&!this[Z].destroyed}get[t](){return!!(this[Z]?.busy(null)||this[y]>=(af(this)||1)||this[x]>0)}[u](a){ai(this),this.once("connect",a)}[V](a,b){let c=new j(a.origin||this[q].origin,a,b);return this[z].push(c),this[v]||(null==g.bodyLength(c.body)&&g.isIterable(c.body)?(this[v]=1,queueMicrotask(()=>ak(this))):this[_](!0)),this[v]&&2!==this[C]&&this[t]&&(this[C]=2),this[C]<2}async [T](){return new Promise(a=>{this[y]?this[ac]=a:a(null)})}async [U](a){return new Promise(b=>{let c=this[z].splice(this[F]);for(let b=0;b<c.length;b++){let d=c[b];g.errorRequest(this,d,a)}let d=()=>{this[ac]&&(this[ac](),this[ac]=null),b(null)};this[Z]?(this[Z].destroy(a,d),this[Z]=null):queueMicrotask(d),this[_]()})}}function ah(a,b){if(0===a[w]&&"UND_ERR_INFO"!==b.code&&"UND_ERR_SOCKET"!==b.code){d(a[F]===a[G]);let c=a[z].splice(a[G]);for(let d=0;d<c.length;d++){let e=c[d];g.errorRequest(a,e,b)}d(0===a[y])}}async function ai(a){d(!a[B]),d(!a[Z]);let{host:b,hostname:c,protocol:f,port:h}=a[q];if("["===c[0]){let a=c.indexOf("]");d(-1!==a);let b=c.substring(1,a);d(e.isIPv6(b)),c=b}a[B]=!0,i.beforeConnect.hasSubscribers&&i.beforeConnect.publish({connectParams:{host:b,hostname:c,protocol:f,port:h,version:a[Z]?.version,servername:a[r],localAddress:a[W]},connector:a[Q]});try{let e=await new Promise((d,e)=>{a[Q]({host:b,hostname:c,protocol:f,port:h,servername:a[r],localAddress:a[W]},(a,b)=>{a?e(a):d(b)})});if(a.destroyed)return void g.destroy(e.on("error",ae),new o);d(e);try{a[Z]="h2"===e.alpnProtocol?await ab(a,e):await aa(a,e)}catch(a){throw e.destroy().on("error",ae),a}a[B]=!1,e[S]=0,e[R]=a[R],e[s]=a,e[H]=null,i.connected.hasSubscribers&&i.connected.publish({connectParams:{host:b,hostname:c,protocol:f,port:h,version:a[Z]?.version,servername:a[r],localAddress:a[W]},connector:a[Q],socket:e}),a.emit("connect",a[q],[a])}catch(e){if(a.destroyed)return;if(a[B]=!1,i.connectError.hasSubscribers&&i.connectError.publish({connectParams:{host:b,hostname:c,protocol:f,port:h,version:a[Z]?.version,servername:a[r],localAddress:a[W]},connector:a[Q],error:e}),"ERR_TLS_CERT_ALTNAME_INVALID"===e.code)for(d(0===a[w]);a[x]>0&&a[z][a[F]].servername===a[r];){let b=a[z][a[F]++];g.errorRequest(a,b,e)}else ah(a,e);a.emit("connectionError",a[q],[a],e)}a[_]()}function aj(a){a[C]=0,a.emit("drain",a[q],[a])}function ak(a,b){2!==a[v]&&(a[v]=2,al(a,b),a[v]=0,a[G]>256&&(a[z].splice(0,a[G]),a[F]-=a[G],a[G]=0))}function al(a,b){for(;;){if(a.destroyed)return void d(0===a[x]);if(a[ac]&&!a[y]){a[ac](),a[ac]=null;return}if(a[Z]&&a[Z].resume(),a[t])a[C]=2;else if(2===a[C]){b?(a[C]=1,queueMicrotask(()=>aj(a))):aj(a);continue}if(0===a[x]||a[w]>=(af(a)||1))return;let c=a[z][a[F]];if("https:"===a[q].protocol&&a[r]!==c.servername){if(a[w]>0)return;a[r]=c.servername,a[Z]?.destroy(new m("servername changed"),()=>{a[Z]=null,ak(a)})}if(a[B])return;if(!a[Z])return void ai(a);if(a[Z].destroyed||a[Z].busy(c))return;!c.aborted&&a[Z].write(c)?a[F]++:a[z].splice(a[F],1)}}a.exports=ag},76692:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.rawColumnToInternalColumn=b.objIfExists=void 0;let d=c(34315);b.objIfExists=(a,b)=>b?{[a]:b}:{};let e=a=>{var c;return Object.assign(Object.assign(Object.assign(Object.assign({name:a.name,title:null!=(c=a.title)?c:a.name},(0,b.objIfExists)("color",a.color)),(0,b.objIfExists)("maxLen",a.maxLen)),(0,b.objIfExists)("minLen",a.minLen)),{alignment:a.alignment||d.DEFAULT_ROW_ALIGNMENT})};b.rawColumnToInternalColumn=e},76770:(a,b,c)=>{"use strict";c.d(b,{c:()=>C});var d=c(215),e=c(65029),f=c(71540),g=c(4315),h=c(56704),i=c(70466),j=c(66456),k=c(68656),l=c(51114),m=c(45720),o=c(90504),p=c(27661),q=c(38200),r=c(8615),s=c(25467),t=c(20770),u=c(73368),v=c(2617),w=c(50848),x=c(23825),y=c(77457);let z=(a,b)=>{for(let c in a)if(["AND","OR"].includes(c.toUpperCase())){if(Array.isArray(a[c]))for(let d of a[c])z(d,b)}else b.push({path:c.split(".").join("_"),ref:a})},A=(a,b)=>{for(let c in a)if(["AND","OR"].includes(c.toUpperCase())){if(Array.isArray(a[c])){let d="AND"===c.toUpperCase()?e.Uo:e.or,f=[];for(let d of a[c])f.push(A(d,b));return d(...f)}}else{let d=Object.keys(a[c])[0],e=a[c][d];if("$raw"===d)return f.ll.raw(e);return t.n[d](f.ll.raw(`"${b}"."${c.split(".").join("_")}"`),e)}},B=({_locales:a,adapter:b,collectionSlug:c,currentArgs:d,currentTableName:t,depth:C,draftsEnabled:D,fields:E,joinQuery:F={},joins:G,locale:H,parentIsLocalized:I=!1,path:J,select:K,selectAllOnCurrentLevel:L=!1,selectMode:M,tablePath:N,topLevelArgs:O,topLevelTableName:P,versions:Q,withTabledFields:R})=>(E.forEach(E=>{if((0,p.IC)(E))return;let S=(0,p.Cd)({field:E,parentIsLocalized:I});switch(C>0&&("upload"===E.type||"relationship"===E.type)&&!E.hasMany&&"string"==typeof E.relationTo&&(S?a.with[`${J}${E.name}`]=!0:d.with[`${J}${E.name}`]=!0),E.type){case"array":{let a=!!L||K?.[E.name];if(K&&("include"===M&&void 0===a||"exclude"===M&&!1===a))break;let c={columns:"object"==typeof a?{id:!0,_order:!0}:{_parentID:!1},orderBy:({_order:a},{asc:b})=>[b(a)],with:{}},e=b.tableNameMap.get(`${t}_${N}${q(E.name)}`);"object"==typeof a&&(b.tables[e]._locale&&(c.columns._locale=!0),b.tables[e]._uuid&&(c.columns._uuid=!0));let f=`${e}${b.localesSuffix}`;b.tables[f]&&(c.with._locales={columns:"object"==typeof a?{_locale:!0}:{id:!1,_parentID:!1},with:{}});let g=(0,u.F)({field:E,path:`${J}${E.name}`,tableName:e});d.with[g]=c,B({_locales:c.with._locales,adapter:b,currentArgs:c,currentTableName:e,depth:C,draftsEnabled:D,fields:E.flattenedFields,joinQuery:F,locale:H,parentIsLocalized:I||E.localized,path:"",select:"object"==typeof a?a:void 0,selectMode:M,tablePath:"",topLevelArgs:O,topLevelTableName:P,withTabledFields:R}),"object"==typeof a&&c.with._locales&&1===Object.keys(c.with._locales).length&&delete c.with._locales;break}case"blocks":{let c=!!L||K?.[E.name];if(K&&("include"===M&&!c||"exclude"===M&&!1===c))break;if(b.blocksAsJSON){if(K||L){let c=`${J}${E.name}`;(S||I)&&a?a.columns[c]=!0:b.tables[t]?.[c]&&(d.columns[c]=!0)}break}(E.blockReferences??E.blocks).forEach(a=>{let d,e="string"==typeof a?b.payload.blocks[a]:a,f=`_blocks_${e.slug}${!e[y.SS]?"":`_${e[y.SS]}`}`,g=M;if("include"===M&&!0===c&&(d=!0),"object"==typeof c&&("object"==typeof c[e.slug]?d=c[e.slug]:"include"===M&&void 0===c[e.slug]||"exclude"===M&&!1===c[e.slug]?(d={},g="include"):"include"===M&&c[e.slug]&&(d=!0)),!O[f]){let a={columns:"object"==typeof d?{id:!0,_order:!0,_path:!0}:{_parentID:!1},orderBy:({_order:a},{asc:b})=>[b(a)],with:{}},c=(0,y.hR)(e,b.tableNameMap.get(`${P}_blocks_${q(e.slug)}`));"object"==typeof d&&(b.tables[c]._locale&&(a.columns._locale=!0),b.tables[c]._uuid&&(a.columns._uuid=!0)),b.tables[`${c}${b.localesSuffix}`]&&(a.with._locales={with:{}},"object"==typeof d&&(a.with._locales.columns={_locale:!0})),O.with[f]=a,B({_locales:a.with._locales,adapter:b,currentArgs:a,currentTableName:c,depth:C,draftsEnabled:D,fields:e.flattenedFields,joinQuery:F,locale:H,parentIsLocalized:I||E.localized,path:"",select:"object"==typeof d?d:void 0,selectMode:g,tablePath:"",topLevelArgs:O,topLevelTableName:P,withTabledFields:R}),"object"==typeof d&&a.with._locales&&1===Object.keys(a.with._locales.columns).length&&delete a.with._locales}});break}case"group":case"tab":{let e=K?.[E.name];if(!1===e)break;B({_locales:a,adapter:b,collectionSlug:c,currentArgs:d,currentTableName:t,depth:C,draftsEnabled:D,fields:E.flattenedFields,joinQuery:F,joins:G,locale:H,parentIsLocalized:I||E.localized,path:`${J}${E.name}_`,select:"object"==typeof e?e:void 0,selectAllOnCurrentLevel:L||!0===e||"exclude"===M&&void 0===e,selectMode:M,tablePath:`${N}${q(E.name)}_`,topLevelArgs:O,topLevelTableName:P,versions:Q,withTabledFields:R});break}case"join":{if(!1===F||K&&"include"===M&&!K[E.name]||"exclude"===M&&!1===K[E.name])break;let a=`${J.replaceAll("_",".")}${E.name}`;if(!1===F[a])break;let{count:p=!1,limit:u=E.defaultLimit??10,page:y,sort:B=E.defaultSort,where:C}=F[a]||{},G=u;0!==G&&(G+=1);let L=`${J.replaceAll(".","_")}${E.name}`,N=b.drizzle;if(Array.isArray(E.collection)){let a=null,c=E.on.split(".").join("_");if(Array.isArray(B))throw Error("Not implemented");let k=B;k||(k=E.collection.some(a=>b.payload.collections[a].config.fields.some(a=>"date"===a.type&&"createdAt"===a.name))?"-createdAt":"id");let l=k.startsWith("-")?g.i:g.Y,m=(k=k.replace("-","")).split(".").join("_"),o=[];for(let d of(C&&z(C,o),E.collection)){let g=b.tableNameMap.get(q(d)),i=b.tables[g],k=i[m],l={id:b.tables[g].id,parent:(0,f.ll)`${b.tables[g][c]}`.as(c),relationTo:(0,f.ll)`${d}`.as("relationTo"),sortPath:(0,f.ll)`${k||null}`.as("sortPath")},p=[];for(let{path:a,ref:c}of o){let e=b.payload.collections[d].config,k=(0,j.p)({fields:e.flattenedFields,path:a});if(k&&"select"===k.field.type&&k.field.hasMany){let e=b.tableNameMap.get(`${q(d)}_${q(a)}`),g=(0,h.Io)(i);b.schemaName&&(e=`"${b.schemaName}"."${e}"`,g=`"${b.schemaName}"."${g}"`),"postgres"===b.name?l[a]=f.ll.raw(`(select jsonb_agg(${e}.value) from ${e} where ${e}.parent_id = ${g}.id)`).as(a):l[a]=f.ll.raw(`(select json_group_array(${e}.value) from ${e} where ${e}.parent_id = ${g}.id)`).as(a);let j=c[a],m=Object.keys(j)[0],o=Object.values(j)[0],p=b.createJSONQuery({column:`"${a}"`,operator:m,pathSegments:[k.field.name],table:g,value:o});c[a]={$raw:p}}else b.tables[g][a]?l[a]=(0,f.ll)`${b.tables[g][a]}`.as(a):"relationTo"!==a&&(l[a]=(0,f.ll)`null`.as(a))}let r=N.select(l).from(b.tables[g]);p.length&&(r=r.where((0,e.Uo)(...p))),a=null===a?r:a.unionAll(r)}let r=`${L}_subquery`,s=(0,e.eq)(f.ll.raw(`"${t}"."id"`),f.ll.raw(`"${r}"."${c}"`));if(C&&Object.keys(C).length>0&&(s=(0,e.Uo)(s,A(C,r))),p&&(d.extras[`${L}_count`]=(0,f.ll)`${N.select({count:(0,i.U9)()}).from((0,f.ll)`${a.as(r)}`).where(s)}`.as(`${L}_count`)),a=a.orderBy(l((0,f.ll)`"sortPath"`)),y&&0!==G){let b=(y-1)*G;b>0&&(a=a.offset(b))}G&&(a=a.limit(G)),d.extras[L]=(0,f.ll)`${N.select({id:(0,w.PK)(b,{id:f.ll.raw(`"${r}"."id"`),relationTo:f.ll.raw(`"${r}"."relationTo"`)})}).from((0,f.ll)`${a.as(r)}`).where(s)}`.as(L)}else{let a,e=(Q||D)&&!!b.payload.collections[E.collection].config.versions.drafts,g=e?(0,k.c)(b.payload.config,b.payload.collections[E.collection].config,!0):b.payload.collections[E.collection].config.flattenedFields,h=b.tableNameMap.get(e?`_${q(E.collection)}${b.versionsSuffix}`:q(E.collection)),j=[],u=Q?b.tables[t].parent:b.tables[t].id,z=f.ll.raw(`"${(0,v.y)(u.table)}"."${u.name}"`);a=Array.isArray(E.targetField.relationTo)?{[E.on]:{equals:{relationTo:c,value:(0,x.OR)(z)}}}:{[E.on]:{equals:(0,x.OR)(z)}},C&&Object.keys(C).length&&(a={and:[a,C]}),e&&(a=(0,l.m)((0,m.D)(a),{latest:{equals:!0}}));let A=`${J.replaceAll(".","_")}${E.name}`,F=`${A}_alias`,{newAliasTable:K}=(0,s.L)({adapter:b,tableName:h}),{orderBy:L,selectFields:M,where:O}=(0,r.Z)({adapter:b,aliasTable:K,fields:g,joins:j,locale:H,parentIsLocalized:I,selectLocale:!0,sort:e?(0,o.t)({collectionConfig:b.payload.collections[E.collection].config,sort:B}):B,tableName:h,where:a});for(let a in M){let b=M[a];b.table&&(0,v.y)(b.table)===h&&(delete M[a],M[a=a.split(".").pop()]=K[a])}e&&(M.parent=K.parent);let P=N.select(M).from(K).where(O).orderBy(()=>L.map(({column:a,order:b})=>b(a))).$dynamic();if(j.forEach(({type:a,condition:b,table:c})=>{P=P[a??"leftJoin"](c,b)}),y&&0!==G){let a=(y-1)*G-1;a>0&&(P=P.offset(a))}0!==G&&(P=P.limit(G));let R=P.as(F);if(p){let a=N.select(M).from(K).where(O).$dynamic();j.forEach(({type:b,condition:c,table:d})=>{a=a[b??"leftJoin"](d,c)}),d.extras[`${A}_count`]=(0,f.ll)`${N.select({count:(0,i.U9)()}).from((0,f.ll)`${a.as(`${F}_count_subquery`)}`)}`.as(`${F}_count`)}d.extras[A]=(0,f.ll)`${N.select({result:(0,w.PK)(b,{id:f.ll.raw(`"${F}".${e?"parent_id":"id"}`),...M._locale&&{locale:f.ll.raw(`"${F}".${M._locale.name}`)}})}).from((0,f.ll)`${R}`)}`.as(F)}break}case"point":{if("sqlite"===b.name)break;let c=S?a:d;c.columns||(c.columns={}),c.extras||(c.extras={});let e=`${J}${E.name}`;c.columns[e]=!1;let g=!1;K||L?(L||"include"===M&&K[E.name]||"exclude"===M&&void 0===K[E.name])&&(g=!0):g=!0;let h=(0,p.Cd)({field:E,parentIsLocalized:I})?`${t}${b.localesSuffix}`:t;g&&(c.extras[e]=f.ll.raw(`ST_AsGeoJSON("${b.tables[h][e].name}")::jsonb`).as(e));break}case"select":if(K&&!L&&("include"===M&&!K[E.name]||"exclude"===M&&!1===K[E.name]))break;if(E.hasMany){let a={columns:{id:!1,order:!1,parent:!1},orderBy:({order:a},{asc:b})=>[b(a)]};d.with[`${J}${E.name}`]=a;break}if(K||L){let c=`${J}${E.name}`;(S||I)&&a?a.columns[c]=!0:b.tables[t]?.[c]&&(d.columns[c]=!0)}break;default:if(!K&&!L)break;if(L||"include"===M&&K[E.name]||"exclude"===M&&void 0===K[E.name]){let c=`${J}${E.name}`;(S||I)&&a?a.columns[c]=!0:b.tables[t]?.[c]&&(d.columns[c]=!0),!R.rels&&("relationship"===E.type||"upload"===E.type)&&(E.hasMany||Array.isArray(E.relationTo))&&(R.rels=!0),!R.numbers&&"number"===E.type&&E.hasMany&&(R.numbers=!0),!R.texts&&"text"===E.type&&E.hasMany&&(R.texts=!0)}}}),O),C=({adapter:a,collectionSlug:b,depth:c,draftsEnabled:e,fields:f,joinQuery:g,joins:h=[],locale:i,select:j,tableName:k,versions:l})=>{let m={extras:{},with:{}};j&&(m.columns={id:!0});let o={columns:j?{_locale:!0}:{id:!1,_parentID:!1},extras:{},with:{}},p=j?{}:{numbers:!0,rels:!0,texts:!0};for(let q of(B({_locales:o,adapter:a,collectionSlug:b,currentArgs:m,currentTableName:k,depth:c,draftsEnabled:e,fields:f,joinQuery:g,joins:h,locale:i,path:"",select:j,selectMode:j?(0,d.a)(j):void 0,tablePath:"",topLevelArgs:m,topLevelTableName:k,versions:l,withTabledFields:p}),a.tables[`${k}_texts`]&&p.texts&&(m.with._texts={columns:{id:!1,parent:!1},orderBy:({order:a},{asc:b})=>[b(a)]}),a.tables[`${k}_numbers`]&&p.numbers&&(m.with._numbers={columns:{id:!1,parent:!1},orderBy:({order:a},{asc:b})=>[b(a)]}),a.tables[`${k}${a.relationshipsSuffix}`]&&p.rels&&(m.with._rels={columns:{id:!1,parent:!1},orderBy:({order:a},{asc:b})=>[b(a)]}),a.tables[`${k}${a.localesSuffix}`]&&(!j||Object.keys(o.columns).length>1)&&(m.with._locales=o),Object.keys(m)))Object.keys(m[q]).length||delete m[q];return m}},76903:(a,b,c)=>{"use strict";let d=c(90165),e=c(32741),{style:f,clear:g,figures:h,wrap:i,entriesToDisplay:j}=c(67406),{cursor:k}=c(1298);class l extends e{constructor(a={}){super(a),this.msg=a.message,this.hint=a.hint||"- Use arrow-keys. Return to submit.",this.warn=a.warn||"- This option is disabled",this.cursor=a.initial||0,this.choices=a.choices.map((a,b)=>("string"==typeof a&&(a={title:a,value:b}),{title:a&&(a.title||a.value||a),value:a&&(void 0===a.value?b:a.value),description:a&&a.description,selected:a&&a.selected,disabled:a&&a.disabled})),this.optionsPerPage=a.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=g("",this.out.columns),this.render()}moveCursor(a){this.cursor=a,this.value=this.choices[a].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(a,b){if(" "===a)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(k.hide):this.out.write(g(this.outputText,this.out.columns)),super.render();let{startIndex:a,endIndex:b}=j(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[f.symbol(this.done,this.aborted),d.bold(this.msg),f.delimiter(!1),this.done?this.selection.title:this.selection.disabled?d.yellow(this.warn):d.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let c=a;c<b;c++){let e,f,g="",j=this.choices[c];f=c===a&&a>0?h.arrowUp:c===b-1&&b<this.choices.length?h.arrowDown:" ",j.disabled?(e=this.cursor===c?d.gray().underline(j.title):d.strikethrough().gray(j.title),f=(this.cursor===c?d.bold().gray(h.pointer)+" ":"  ")+f):(e=this.cursor===c?d.cyan().underline(j.title):j.title,f=(this.cursor===c?d.cyan(h.pointer)+" ":"  ")+f,j.description&&this.cursor===c&&(g=` - ${j.description}`,(f.length+e.length+g.length>=this.out.columns||j.description.split(/\r?\n/).length>1)&&(g="\n"+i(j.description,{margin:3,width:this.out.columns})))),this.outputText+=`${f} ${e}${d.gray(g)}
`}}this.out.write(this.outputText)}}a.exports=l},77258:(a,b,c)=>{"use strict";a.exports=h;let{LOGGER_KEYS:d}=c(3612),e=c(46755),f=c(42012),g=c(21036);function h({log:a,context:b}){let{EOL:c,IDENT:h,errorProps:i,messageKey:j}=b,k=f({input:a.stack,ident:h,eol:c}),l=`${h}${k}${c}`;if(i.length>0){let f,k=d.concat(j,"type","stack");f="*"===i[0]?Object.keys(a).filter(a=>!1===k.includes(a)):i.filter(a=>!1===k.includes(a));for(let d=0;d<f.length;d+=1){let i=f[d];if(i in a!=!1){if(e(a[i])){let d=g({log:a[i],excludeLoggerKeys:!1,context:{...b,IDENT:h+h}});l=`${l}${h}${i}: {${c}${d}${h}}${c}`;continue}l=`${l}${h}${i}: ${a[i]}${c}`}}}return l}},77262:(a,b,c)=>{"use strict";c.d(b,{G:()=>d});let d=a=>{let b,c=a.length,d=[],e=!1,f=0;for(let g=0;g<c;++g){let c=a[g];switch(c){case'"':"\\"!==b&&(e=!e);break;case",":e||(d.push(a.slice(f,g)),f=g+1)}b=c}return d.push(a.slice(f)),d.map(a=>{let b=(a=a.trim()).length;return b<2?a:('"'===a[0]&&'"'===a[b-1]&&(a=a.slice(1,b-1)),a.replace(/\\"/g,'"'))})}},77396:(a,b,c)=>{"use strict";c.d(b,{Y:()=>dn});var d=c(63181),e=c(79748),f=c(37389),g=c(83518),h=c(61101),i=c(35593);class j extends i.L{constructor(a,b){let c=a?a("error:problemUploadingFile"):"There was a problem while retrieving the file.";b&&(c+=` ${b}`),super(c,h.h.INTERNAL_SERVER_ERROR)}}var k=c(12820);class l extends i.L{constructor(a){super(a?a("error:noFilesUploaded"):k.en.translations.error.noFilesUploaded,h.h.BAD_REQUEST)}}var m=c(18648);function o(a){return["image/jpeg","image/png","image/gif","image/webp","image/tiff","image/avif"].indexOf(a)>-1}var p=c(47624),q=c(39492);function r(a){try{let b=2048,c=a.toString("utf8",0,Math.min(a.length,b)),d=c.match(/^<\?xml[^>]*encoding=["']([^"']+)["']/i),e=d?.[1]?.toLowerCase();if(e&&!["ascii","utf-8","utf8"].includes(e))return!1;let f=c.replace(/<\?xml[^>]*\?>/gi,"").replace(/<!--[\s\S]*?-->/g,"").replace(/<\?[^>]*\?>/g,"").trim().match(/^<(\w+)(?:\s|>)/);if(!f||"svg"!==f[1]||!/xmlns=["']http:\/\/www\.w3\.org\/2000\/svg["']/.test(c)||!c.match(/<svg[\s>]/))return!1;return!0}catch(a){return!1}}let s=[{extensions:["exe","dll"],mimeType:"application/x-msdownload"},{extensions:["exe","com","app","action"],mimeType:"application/x-executable"},{extensions:["bat","cmd"],mimeType:"application/x-msdos-program"},{extensions:["exe","com"],mimeType:"application/x-ms-dos-executable"},{extensions:["dmg"],mimeType:"application/x-apple-diskimage"},{extensions:["deb"],mimeType:"application/x-debian-package"},{extensions:["rpm"],mimeType:"application/x-redhat-package-manager"},{extensions:["exe","dll"],mimeType:"application/vnd.microsoft.portable-executable"},{extensions:["msi"],mimeType:"application/x-msi"},{extensions:["jar","ear","war"],mimeType:"application/java-archive"},{extensions:["desktop"],mimeType:"application/x-desktop"},{extensions:["cpl"],mimeType:"application/x-cpl"},{extensions:["lnk"],mimeType:"application/x-ms-shortcut"},{extensions:["pkg"],mimeType:"application/x-apple-installer"},{extensions:["htm","html","shtml","xhtml"],mimeType:"text/html"},{extensions:["php","phtml"],mimeType:"application/x-httpd-php"},{extensions:["js","jse"],mimeType:"text/javascript"},{extensions:["jsp"],mimeType:"application/x-jsp"},{extensions:["py"],mimeType:"text/x-python"},{extensions:["rb"],mimeType:"text/x-ruby"},{extensions:["pl"],mimeType:"text/x-perl"},{extensions:["ps1","psc1","psd1","psh","psm1"],mimeType:"application/x-powershell"},{extensions:["vbe","vbs"],mimeType:"application/x-vbscript"},{extensions:["ws","wsc","wsf","wsh"],mimeType:"application/x-ms-wsh"},{extensions:["scr"],mimeType:"application/x-msdownload"},{extensions:["asp","aspx"],mimeType:"application/x-asp"},{extensions:["hta"],mimeType:"application/x-hta"},{extensions:["reg"],mimeType:"application/x-registry"},{extensions:["url"],mimeType:"application/x-url"},{extensions:["workflow"],mimeType:"application/x-workflow"},{extensions:["command"],mimeType:"application/x-command"}],t=async({collection:a,file:b,req:c})=>{let e=[],{upload:f}=a,g=f&&"object"==typeof f&&"mimeTypes"in f&&Array.isArray(f.mimeTypes)?f.mimeTypes:[];if(!(f&&"object"==typeof f&&"allowRestrictedFileTypes"in f&&f.allowRestrictedFileTypes)){if(g.length>0){let a=await (0,d.BI)(b.data);a?.mime==="application/xml"&&g.some(a=>a.includes("image/")&&(a.includes("svg")||"image/*"===a))&&r(b.data)&&(a={ext:"svg",mime:"image/svg+xml"});let c=a?.mime&&(0,q.d)(a.mime,g);a&&!c&&e.push(`Invalid MIME type: ${a.mime}.`)}else s.some(a=>{let c=a.extensions.some(a=>b.name.toLowerCase().endsWith(a)),d=a.mimeType===b.mimetype;return c||d})&&e.push(`File type '${b.mimetype}' not allowed ${b.name}: Restricted file type detected -- set 'allowRestrictedFileTypes' to true to skip this check for this Collection.`);if(e.length>0)throw c.payload.logger.error(e.join(", ")),new p.y({errors:[{message:e.join(", "),path:"file"}]})}};async function u({req:a,sharpFile:b,withMetadata:c}){let d=await b.metadata();return!0===c||"function"==typeof c&&await c({metadata:d,req:a})?b.withMetadata():b}let v=(a,b)=>Math.floor(a/100*b);async function w({cropData:a,dimensions:b,file:c,heightInPixels:d,req:e,sharp:f,widthInPixels:g,withMetadata:h}){try{let{x:i,y:j}=a,k=c,l=["image/avif","image/gif","image/webp"].includes(k.mimetype),m={};l&&(m.animated=!0);let{height:o,width:p}=b,q=Number(g),r=Number(d);if(p===q&&o===r){let a=o;if(l){let b=await f(k.tempFilePath||k.data,m).metadata();a=b.pages?b.height:o}return{data:k.data,info:{height:a,size:k.size,width:p}}}let s={height:Number(d),left:v(i,b.width),top:v(j,b.height),width:Number(g)},t=f(k.tempFilePath||k.data,m).extract(s);return t=await u({req:e,sharpFile:t,withMetadata:h}),await t.toBuffer({resolveWithObject:!0})}catch(a){throw console.error("Error cropping image:",a),a}}var x=c(82905),y=c(14985),z=c(80555),A=c(77615);let B={lookup:y.lookup},C=a=>{try{if(!a||!z.isValid(a))return!1;let b=z.parse(a).range();if("unicast"!==b)return!1}catch(a){return!1}return!0},D=(a,b,c)=>{B.lookup(a,b,(b,d,e)=>{if(b)c(b,d,e);else{let b=[];if((b=Array.isArray(d)?d.map(a=>a.address):[d]).some(a=>!C(a)))return void c(Error(`Blocked unsafe attempt to ${a}`),d,e);c(null,d,e)}})},E=new A.g6({connect:{lookup:D}}),F=async(...a)=>{let[b,c]=a;try{let a=new URL(b),d=a.hostname;if(d.startsWith("[")&&d.endsWith("]")&&(d=d.slice(1,-1)),z.isValid(d)&&!C(d))throw Error(`Blocked unsafe attempt to ${d}`);return await (0,A.hd)(a,{...c,dispatcher:E})}catch(a){if(a instanceof Error)if(a.cause instanceof Error&&a.cause.message.includes("unsafe"))throw Error(a.cause.message);else{let c;throw"string"==typeof b?c=b:b instanceof URL?c=b.toString():b instanceof Request&&(c=b.url),Error(`Failed to fetch from ${c}, ${a.message}`)}throw a}},G=async({data:a,req:b,uploadConfig:c})=>{let{filename:d,url:e}=a,f=!0;if("string"==typeof e){let a,g=e;if(!e.startsWith("http")){f=!1;let a=b.headers.get("origin")||`${b.protocol}://${b.headers.get("host")}`;g=`${a}${e}`}let h=(b.headers.get("cookie")??"").split(";");f&&(h=h.filter(a=>!a.trim().startsWith(b.payload.config.cookiePrefix)));let j=c.externalFileHeaderFilter?c.externalFileHeaderFilter(Object.fromEntries(new Headers(b.headers))):{cookie:h.join(";")},k=!0===c.skipSafeFetch?c.skipSafeFetch:Array.isArray(c.skipSafeFetch)&&(0,x.W)(g,c.skipSafeFetch),l=c.pasteURL&&c.pasteURL.allowList&&(0,x.W)(g,c.pasteURL.allowList);if(!(a=k||l?await fetch(g,{credentials:"include",headers:j,method:"GET"}):await F(g,{credentials:"include",headers:j,method:"GET"})).ok)throw new i.L(`Failed to fetch file from ${g}`,a.status);let m=await a.arrayBuffer();return{name:d,data:Buffer.from(m),mimetype:a.headers.get("content-type")||void 0,size:Number(a.headers.get("content-length"))||0}}throw new i.L("Invalid file url",400)};var H=c(80602),I=new TextDecoder,J=(a,b=0,c=a.length)=>I.decode(a.slice(b,c)),K=(a,b=0,c=a.length)=>a.slice(b,c).reduce((a,b)=>a+`0${b.toString(16)}`.slice(-2),""),L=(a,b)=>new DataView(a.buffer,a.byteOffset+b),M=(a,b=0)=>L(a,b).getInt16(0,!0),N=(a,b=0)=>L(a,b).getUint16(0,!1),O=(a,b=0)=>L(a,b).getUint16(0,!0),P=(a,b=0)=>{let c=L(a,b);return c.getUint16(0,!0)+(c.getUint8(2)<<16)},Q=(a,b=0)=>L(a,b).getInt32(0,!0),R=(a,b=0)=>L(a,b).getUint32(0,!1),S=(a,b=0)=>L(a,b).getUint32(0,!0),T=(a,b,c)=>L(a,b).getBigUint64(0,!c),U={readUInt16BE:N,readUInt16LE:O,readUInt32BE:R,readUInt32LE:S};function V(a,b,c=0,d=!1){let e=d?"BE":"LE";return U[`readUInt${b}${e}`](a,c)}function W(a,b){if(a.length-b<4)return;let c=R(a,b);if(!(a.length-b<c))return{name:J(a,4+b,8+b),offset:b,size:c}}function X(a,b,c){for(;c<a.length;){let d=W(a,c);if(!d)break;if(d.name===b)return d;c+=d.size>0?d.size:8}}var Y={validate:a=>"BM"===J(a,0,2),calculate:a=>({height:Math.abs(Q(a,22)),width:S(a,18)})},Z=1,$=6,_=16;function aa(a,b){let c=a[b];return 0===c?256:c}function ab(a,b){let c=$+b*_;return{height:aa(a,c+1),width:aa(a,c)}}var ac={validate(a){let b=O(a,0),c=O(a,4);return 0===b&&0!==c&&O(a,2)===Z},calculate(a){let b=O(a,4),c=ab(a,0);if(1===b)return c;let d=[];for(let c=0;c<b;c+=1)d.push(ab(a,c));return{width:c.width,height:c.height,images:d}}},ad=2,ae={validate(a){let b=O(a,0),c=O(a,4);return 0===b&&0!==c&&O(a,2)===ad},calculate:a=>ac.calculate(a)},af={validate:a=>0x20534444===S(a,0),calculate:a=>({height:S(a,12),width:S(a,16)})},ag=/^GIF8[79]a/,ah={validate:a=>ag.test(J(a,0,6)),calculate:a=>({height:O(a,8),width:O(a,6)})},ai={avif:"avif",mif1:"heif",msf1:"heif",heic:"heic",heix:"heic",hevc:"heic",hevx:"heic"},aj={validate(a){if("ftyp"!==J(a,4,8))return!1;let b=X(a,"ftyp",0);return!!b&&J(a,b.offset+8,b.offset+12)in ai},calculate(a){let b=X(a,"meta",0),c=b&&X(a,"iprp",b.offset+12),d=c&&X(a,"ipco",c.offset+8);if(!d)throw TypeError("Invalid HEIF, no ipco box found");let e=J(a,8,12),f=[],g=d.offset+8;for(;g<d.offset+d.size;){let b=X(a,"ispe",g);if(!b)break;let c=R(a,b.offset+12),e=R(a,b.offset+16),h=X(a,"clap",g),i=c,j=e;h&&h.offset<d.offset+d.size&&(i=c-R(a,h.offset+12)),f.push({height:j,width:i}),g=b.offset+b.size}if(0===f.length)throw TypeError("Invalid HEIF, no sizes found");return{width:f[0].width,height:f[0].height,type:e,...f.length>1?{images:f}:{}}}},ak=8,al=4,am=4,an={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function ao(a,b){let c=b+am;return[J(a,b,c),R(a,c)]}function ap(a){let b=an[a];return{width:b,height:b,type:a}}var aq={validate:a=>"icns"===J(a,0,4),calculate(a){let b=a.length,c=R(a,al),d=ak,e=[];for(;d<c&&d<b;){let b=ao(a,d),c=ap(b[0]);e.push(c),d+=b[1]}if(0===e.length)throw TypeError("Invalid ICNS, no sizes found");return{width:e[0].width,height:e[0].height,...e.length>1?{images:e}:{}}}},ar={validate:a=>0xff4fff51===R(a,0),calculate:a=>({height:R(a,12),width:R(a,8)})},as={validate(a){if("jP  "!==J(a,4,8))return!1;let b=X(a,"ftyp",0);return!!b&&"jp2 "===J(a,b.offset+8,b.offset+12)},calculate(a){let b=X(a,"jp2h",0),c=b&&X(a,"ihdr",b.offset+8);if(c)return{height:R(a,c.offset+8),width:R(a,c.offset+12)};throw TypeError("Unsupported JPEG 2000 format")}},at="45786966",au=2,av=6,aw=2,ax="4d4d",ay="4949",az=12,aA=2;function aB(a){return K(a,2,6)===at}function aC(a,b){return{height:N(a,b),width:N(a,b+2)}}function aD(a,b){let c=av+8,d=V(a,16,c,b);for(let e=0;e<d;e++){let d=c+aA+e*az,f=d+az;if(d>a.length)return;let g=a.slice(d,f);if(274===V(g,16,0,b)){if(3!==V(g,16,2,b)||1!==V(g,32,4,b))return;return V(g,16,8,b)}}}function aE(a,b){let c=a.slice(au,b),d=K(c,av,av+aw),e=d===ax,f=d===ay;if(e||f)return aD(c,e)}function aF(a,b){if(b>a.length)throw TypeError("Corrupt JPG, exceeded buffer limits")}var aG={validate:a=>"ffd8"===K(a,0,2),calculate(a){let b,c,d=a.slice(4);for(;d.length;){let a=N(d,0);if(aF(d,a),255!==d[a]){d=d.slice(1);continue}if(aB(d)&&(b=aE(d,a)),192===(c=d[a+1])||193===c||194===c){let c=aC(d,a+5);if(!b)return c;return{height:c.height,orientation:b,width:c.width}}d=d.slice(a+2)}throw TypeError("Invalid JPG, no size found")}},aH=class{constructor(a,b){this.input=a,this.endianness=b,this.byteOffset=2,this.bitOffset=0}getBits(a=1){let b=0,c=0;for(;c<a;){if(this.byteOffset>=this.input.length)throw Error("Reached end of input");let d=this.input[this.byteOffset],e=Math.min(a-c,8-this.bitOffset);if("little-endian"===this.endianness){let a=(1<<e)-1;b|=(d>>this.bitOffset&a)<<c}else{let a=(d&(1<<e)-1<<8-this.bitOffset-e)>>8-this.bitOffset-e;b=b<<e|a}c+=e,this.bitOffset+=e,8===this.bitOffset&&(this.byteOffset++,this.bitOffset=0)}return b}};function aI(a,b){if(b)return 8*(1+a.getBits(5));let c=[9,13,18,30][a.getBits(2)];return 1+a.getBits(c)}function aJ(a,b,c,d){return b&&0===c?8*(1+a.getBits(5)):0===c?aI(a,!1):Math.floor(d*[1,1.2,4/3,1.5,16/9,5/4,2][c-1])}var aK={validate:a=>"ff0a"===K(a,0,2),calculate(a){let b=new aH(a,"little-endian"),c=1===b.getBits(1),d=aI(b,c),e=b.getBits(3);return{width:aJ(b,c,e,d),height:d}}};function aL(a){let b=X(a,"jxlc",0);if(b)return a.slice(b.offset+8,b.offset+b.size);let c=aM(a);if(c.length>0)return aN(c)}function aM(a){let b=[],c=0;for(;c<a.length;){let d=X(a,"jxlp",c);if(!d)break;b.push(a.slice(d.offset+12,d.offset+d.size)),c=d.offset+d.size}return b}function aN(a){let b=new Uint8Array(a.reduce((a,b)=>a+b.length,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}var aO={validate:a=>{if("JXL "!==J(a,4,8))return!1;let b=X(a,"ftyp",0);return!!b&&"jxl "===J(a,b.offset+8,b.offset+12)},calculate(a){let b=aL(a);if(b)return aK.calculate(b);throw Error("No codestream found in JXL container")}},aP={validate:a=>["KTX 11","KTX 20"].includes(J(a,1,7)),calculate:a=>{let b=49===a[5]?"ktx":"ktx2",c="ktx"===b?36:20;return{height:S(a,c+4),width:S(a,c),type:b}}},aQ="PNG\r\n\x1a\n",aR="IHDR",aS="CgBI",aT={validate(a){if(aQ===J(a,1,8)){let b=J(a,12,16);if(b===aS&&(b=J(a,28,32)),b!==aR)throw TypeError("Invalid PNG");return!0}return!1},calculate:a=>J(a,12,16)===aS?{height:R(a,36),width:R(a,32)}:{height:R(a,20),width:R(a,16)}},aU={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},aV={default:a=>{let b=[];for(;a.length>0;){let c=a.shift();if("#"!==c[0]){b=c.split(" ");break}}if(2===b.length)return{height:Number.parseInt(b[1],10),width:Number.parseInt(b[0],10)};throw TypeError("Invalid PNM")},pam:a=>{let b={};for(;a.length>0;){let c=a.shift();if(c.length>16||c.charCodeAt(0)>128)continue;let[d,e]=c.split(" ");if(d&&e&&(b[d.toLowerCase()]=Number.parseInt(e,10)),b.height&&b.width)break}if(b.height&&b.width)return{height:b.height,width:b.width};throw TypeError("Invalid PAM")}},aW={validate:a=>J(a,0,2)in aU,calculate(a){let b=aU[J(a,0,2)],c=J(a,3).split(/[\r\n]+/);return(aV[b]||aV.default)(c)}},aX={validate:a=>"8BPS"===J(a,0,4),calculate:a=>({height:R(a,14),width:R(a,18)})},aY=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,aZ={height:/\sheight=(['"])([^%]+?)\1/,root:aY,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},a$={in:96,cm:37.79527559055118,em:16,ex:8,m:37.79527559055118*100,mm:37.79527559055118/10,pc:96/72/12,pt:96/72,px:1},a_=RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(a$).join("|")})?$`);function a0(a){let b=a_.exec(a);if(b)return Math.round(Number(b[1])*(a$[b[2]]||1))}function a1(a){let b=a.split(" ");return{height:a0(b[3]),width:a0(b[2])}}function a2(a){let b=a.match(aZ.width),c=a.match(aZ.height),d=a.match(aZ.viewbox);return{height:c&&a0(c[2]),viewbox:d&&a1(d[2]),width:b&&a0(b[2])}}function a3(a){return{height:a.height,width:a.width}}function a4(a,b){let c=b.width/b.height;return a.width?{height:Math.floor(a.width/c),width:a.width}:a.height?{height:a.height,width:Math.floor(a.height*c)}:{height:b.height,width:b.width}}var a5={validate:a=>aY.test(J(a,0,1e3)),calculate(a){let b=J(a).match(aZ.root);if(b){let a=a2(b[0]);if(a.width&&a.height)return a3(a);if(a.viewbox)return a4(a,a.viewbox)}throw TypeError("Invalid SVG")}},a6={validate:a=>0===O(a,0)&&0===O(a,4),calculate:a=>({height:O(a,14),width:O(a,12)})},a7={TAG:{WIDTH:256,HEIGHT:257,COMPRESSION:259},TYPE:{SHORT:3,LONG:4,LONG8:16},ENTRY_SIZE:{STANDARD:12,BIG:20},COUNT_SIZE:{STANDARD:2,BIG:8}};function a8(a,{isBigEndian:b,isBigTiff:c}){let d=c?Number(T(a,8,b)):V(a,32,4,b),e=c?a7.COUNT_SIZE.BIG:a7.COUNT_SIZE.STANDARD;return a.slice(d+e)}function a9(a,b,c,d){switch(b){case a7.TYPE.SHORT:return V(a,16,c,d);case a7.TYPE.LONG:return V(a,32,c,d);case a7.TYPE.LONG8:{let b=Number(T(a,c,d));if(b>Number.MAX_SAFE_INTEGER)throw TypeError("Value too large");return b}default:return 0}}function ba(a,b){let c=b?a7.ENTRY_SIZE.BIG:a7.ENTRY_SIZE.STANDARD;if(a.length>c)return a.slice(c)}function bb(a,{isBigEndian:b,isBigTiff:c}){let d={},e=a;for(;e?.length;){let a=V(e,16,0,b),f=V(e,16,2,b),g=c?Number(T(e,4,b)):V(e,32,4,b);if(0===a)break;if(1===g&&(f===a7.TYPE.SHORT||f===a7.TYPE.LONG||c&&f===a7.TYPE.LONG8)){let g=c?12:8;d[a]=a9(e,f,g,b)}e=ba(e,c)}return d}function bc(a){let b=J(a,0,2),c=V(a,16,2,"MM"===b);return{isBigEndian:"MM"===b,isBigTiff:43===c}}function bd(a,b){let c=V(a,16,4,b),d=V(a,16,6,b);if(8!==c||0!==d)throw TypeError("Invalid BigTIFF header")}var be=new Set(["49492a00","4d4d002a","49492b00","4d4d002b"]);function bf(a){return{height:1+P(a,7),width:1+P(a,4)}}function bg(a){return{height:1+((15&a[4])<<10|a[3]<<2|(192&a[2])>>6),width:1+((63&a[2])<<8|a[1])}}function bh(a){return{height:16383&M(a,8),width:16383&M(a,6)}}var bi=new Map([["bmp",Y],["cur",ae],["dds",af],["gif",ah],["heif",aj],["icns",aq],["ico",ac],["j2c",ar],["jp2",as],["jpg",aG],["jxl",aO],["jxl-stream",aK],["ktx",aP],["png",aT],["pnm",aW],["psd",aX],["svg",a5],["tga",a6],["tiff",{validate:a=>{let b=K(a,0,4);return be.has(b)},calculate(a){let b=bc(a);b.isBigTiff&&bd(a,b.isBigEndian);let c=bb(a8(a,b),b),d={height:c[a7.TAG.HEIGHT],width:c[a7.TAG.WIDTH],type:b.isBigTiff?"bigtiff":"tiff"};if(c[a7.TAG.COMPRESSION]&&(d.compression=c[a7.TAG.COMPRESSION]),!d.width||!d.height)throw TypeError("Invalid Tiff. Missing tags");return d}}],["webp",{validate(a){let b="RIFF"===J(a,0,4),c="WEBP"===J(a,8,12),d="VP8"===J(a,12,15);return b&&c&&d},calculate(a){let b=J(a,12,16),c=a.slice(20,30);if("VP8X"===b){let a=c[0],b=(192&a)==0,d=(1&a)==0;if(b&&d)return bf(c);throw TypeError("Invalid WebP")}if("VP8 "===b&&47!==c[0])return bh(c);let d=K(c,3,6);if("VP8L"===b&&"9d012a"!==d)return bg(c);throw TypeError("Invalid WebP")}}]]),bj=Array.from(bi.keys()),bk=new Map([[0,"heif"],[56,"psd"],[66,"bmp"],[68,"dds"],[71,"gif"],[73,"tiff"],[77,"tiff"],[82,"webp"],[105,"icns"],[137,"png"],[255,"jpg"]]);function bl(a){let b=a[0],c=bk.get(b);return c&&bi.get(c).validate(a)?c:bj.find(b=>bi.get(b).validate(a))}var bm={disabledTypes:[]};function bn(a){let b=bl(a);if(void 0!==b){if(bm.disabledTypes.indexOf(b)>-1)throw TypeError(`disabled file type: ${b}`);let c=bi.get(b).calculate(a);if(void 0!==c){if(c.type=c.type??b,c.images&&c.images.length>1){let a=c.images.reduce((a,b)=>b.width*b.height>a.width*a.height?b:a,c.images[0]);c.width=a.width,c.height=a.height}return c}}throw TypeError(`unsupported file type: ${b}`)}var bo=c(73024),bp=c(76760),bq=new TextDecoder,br=(a,b=0,c=a.length)=>bq.decode(a.slice(b,c)),bs=(a,b=0,c=a.length)=>a.slice(b,c).reduce((a,b)=>a+`0${b.toString(16)}`.slice(-2),""),bt=(a,b)=>new DataView(a.buffer,a.byteOffset+b),bu=(a,b=0)=>bt(a,b).getInt16(0,!0),bv=(a,b=0)=>bt(a,b).getUint16(0,!1),bw=(a,b=0)=>bt(a,b).getUint16(0,!0),bx=(a,b=0)=>{let c=bt(a,b);return c.getUint16(0,!0)+(c.getUint8(2)<<16)},by=(a,b=0)=>bt(a,b).getInt32(0,!0),bz=(a,b=0)=>bt(a,b).getUint32(0,!1),bA=(a,b=0)=>bt(a,b).getUint32(0,!0),bB=(a,b,c)=>bt(a,b).getBigUint64(0,!c),bC={readUInt16BE:bv,readUInt16LE:bw,readUInt32BE:bz,readUInt32LE:bA};function bD(a,b,c=0,d=!1){let e=d?"BE":"LE";return bC[`readUInt${b}${e}`](a,c)}function bE(a,b){if(a.length-b<4)return;let c=bz(a,b);if(!(a.length-b<c))return{name:br(a,4+b,8+b),offset:b,size:c}}function bF(a,b,c){for(;c<a.length;){let d=bE(a,c);if(!d)break;if(d.name===b)return d;c+=d.size>0?d.size:8}}var bG={validate:a=>"BM"===br(a,0,2),calculate:a=>({height:Math.abs(by(a,22)),width:bA(a,18)})},bH=1,bI=6,bJ=16;function bK(a,b){let c=a[b];return 0===c?256:c}function bL(a,b){let c=bI+b*bJ;return{height:bK(a,c+1),width:bK(a,c)}}var bM={validate(a){let b=bw(a,0),c=bw(a,4);return 0===b&&0!==c&&bw(a,2)===bH},calculate(a){let b=bw(a,4),c=bL(a,0);if(1===b)return c;let d=[];for(let c=0;c<b;c+=1)d.push(bL(a,c));return{width:c.width,height:c.height,images:d}}},bN=2,bO={validate(a){let b=bw(a,0),c=bw(a,4);return 0===b&&0!==c&&bw(a,2)===bN},calculate:a=>bM.calculate(a)},bP={validate:a=>0x20534444===bA(a,0),calculate:a=>({height:bA(a,12),width:bA(a,16)})},bQ=/^GIF8[79]a/,bR={validate:a=>bQ.test(br(a,0,6)),calculate:a=>({height:bw(a,8),width:bw(a,6)})},bS={avif:"avif",mif1:"heif",msf1:"heif",heic:"heic",heix:"heic",hevc:"heic",hevx:"heic"},bT={validate(a){if("ftyp"!==br(a,4,8))return!1;let b=bF(a,"ftyp",0);return!!b&&br(a,b.offset+8,b.offset+12)in bS},calculate(a){let b=bF(a,"meta",0),c=b&&bF(a,"iprp",b.offset+12),d=c&&bF(a,"ipco",c.offset+8);if(!d)throw TypeError("Invalid HEIF, no ipco box found");let e=br(a,8,12),f=[],g=d.offset+8;for(;g<d.offset+d.size;){let b=bF(a,"ispe",g);if(!b)break;let c=bz(a,b.offset+12),e=bz(a,b.offset+16),h=bF(a,"clap",g),i=c,j=e;h&&h.offset<d.offset+d.size&&(i=c-bz(a,h.offset+12)),f.push({height:j,width:i}),g=b.offset+b.size}if(0===f.length)throw TypeError("Invalid HEIF, no sizes found");return{width:f[0].width,height:f[0].height,type:e,...f.length>1?{images:f}:{}}}},bU=8,bV=4,bW=4,bX={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function bY(a,b){let c=b+bW;return[br(a,b,c),bz(a,c)]}function bZ(a){let b=bX[a];return{width:b,height:b,type:a}}var b$={validate:a=>"icns"===br(a,0,4),calculate(a){let b=a.length,c=bz(a,bV),d=bU,e=[];for(;d<c&&d<b;){let b=bY(a,d),c=bZ(b[0]);e.push(c),d+=b[1]}if(0===e.length)throw TypeError("Invalid ICNS, no sizes found");return{width:e[0].width,height:e[0].height,...e.length>1?{images:e}:{}}}},b_={validate:a=>0xff4fff51===bz(a,0),calculate:a=>({height:bz(a,12),width:bz(a,8)})},b0={validate(a){if("jP  "!==br(a,4,8))return!1;let b=bF(a,"ftyp",0);return!!b&&"jp2 "===br(a,b.offset+8,b.offset+12)},calculate(a){let b=bF(a,"jp2h",0),c=b&&bF(a,"ihdr",b.offset+8);if(c)return{height:bz(a,c.offset+8),width:bz(a,c.offset+12)};throw TypeError("Unsupported JPEG 2000 format")}},b1="45786966",b2=2,b3=6,b4=2,b5="4d4d",b6="4949",b7=12,b8=2;function b9(a){return bs(a,2,6)===b1}function ca(a,b){return{height:bv(a,b),width:bv(a,b+2)}}function cb(a,b){let c=b3+8,d=bD(a,16,c,b);for(let e=0;e<d;e++){let d=c+b8+e*b7,f=d+b7;if(d>a.length)return;let g=a.slice(d,f);if(274===bD(g,16,0,b)){if(3!==bD(g,16,2,b)||1!==bD(g,32,4,b))return;return bD(g,16,8,b)}}}function cc(a,b){let c=a.slice(b2,b),d=bs(c,b3,b3+b4),e=d===b5,f=d===b6;if(e||f)return cb(c,e)}function cd(a,b){if(b>a.length)throw TypeError("Corrupt JPG, exceeded buffer limits")}var ce={validate:a=>"ffd8"===bs(a,0,2),calculate(a){let b,c,d=a.slice(4);for(;d.length;){let a=bv(d,0);if(cd(d,a),255!==d[a]){d=d.slice(1);continue}if(b9(d)&&(b=cc(d,a)),192===(c=d[a+1])||193===c||194===c){let c=ca(d,a+5);if(!b)return c;return{height:c.height,orientation:b,width:c.width}}d=d.slice(a+2)}throw TypeError("Invalid JPG, no size found")}},cf=class{constructor(a,b){this.input=a,this.endianness=b,this.byteOffset=2,this.bitOffset=0}getBits(a=1){let b=0,c=0;for(;c<a;){if(this.byteOffset>=this.input.length)throw Error("Reached end of input");let d=this.input[this.byteOffset],e=Math.min(a-c,8-this.bitOffset);if("little-endian"===this.endianness){let a=(1<<e)-1;b|=(d>>this.bitOffset&a)<<c}else{let a=(d&(1<<e)-1<<8-this.bitOffset-e)>>8-this.bitOffset-e;b=b<<e|a}c+=e,this.bitOffset+=e,8===this.bitOffset&&(this.byteOffset++,this.bitOffset=0)}return b}};function cg(a,b){if(b)return 8*(1+a.getBits(5));let c=[9,13,18,30][a.getBits(2)];return 1+a.getBits(c)}function ch(a,b,c,d){return b&&0===c?8*(1+a.getBits(5)):0===c?cg(a,!1):Math.floor(d*[1,1.2,4/3,1.5,16/9,5/4,2][c-1])}var ci={validate:a=>"ff0a"===bs(a,0,2),calculate(a){let b=new cf(a,"little-endian"),c=1===b.getBits(1),d=cg(b,c),e=b.getBits(3);return{width:ch(b,c,e,d),height:d}}};function cj(a){let b=bF(a,"jxlc",0);if(b)return a.slice(b.offset+8,b.offset+b.size);let c=ck(a);if(c.length>0)return cl(c)}function ck(a){let b=[],c=0;for(;c<a.length;){let d=bF(a,"jxlp",c);if(!d)break;b.push(a.slice(d.offset+12,d.offset+d.size)),c=d.offset+d.size}return b}function cl(a){let b=new Uint8Array(a.reduce((a,b)=>a+b.length,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}var cm={validate:a=>{if("JXL "!==br(a,4,8))return!1;let b=bF(a,"ftyp",0);return!!b&&"jxl "===br(a,b.offset+8,b.offset+12)},calculate(a){let b=cj(a);if(b)return ci.calculate(b);throw Error("No codestream found in JXL container")}},cn={validate:a=>["KTX 11","KTX 20"].includes(br(a,1,7)),calculate:a=>{let b=49===a[5]?"ktx":"ktx2",c="ktx"===b?36:20;return{height:bA(a,c+4),width:bA(a,c),type:b}}},co="PNG\r\n\x1a\n",cp="IHDR",cq="CgBI",cr={validate(a){if(co===br(a,1,8)){let b=br(a,12,16);if(b===cq&&(b=br(a,28,32)),b!==cp)throw TypeError("Invalid PNG");return!0}return!1},calculate:a=>br(a,12,16)===cq?{height:bz(a,36),width:bz(a,32)}:{height:bz(a,20),width:bz(a,16)}},cs={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},ct={default:a=>{let b=[];for(;a.length>0;){let c=a.shift();if("#"!==c[0]){b=c.split(" ");break}}if(2===b.length)return{height:Number.parseInt(b[1],10),width:Number.parseInt(b[0],10)};throw TypeError("Invalid PNM")},pam:a=>{let b={};for(;a.length>0;){let c=a.shift();if(c.length>16||c.charCodeAt(0)>128)continue;let[d,e]=c.split(" ");if(d&&e&&(b[d.toLowerCase()]=Number.parseInt(e,10)),b.height&&b.width)break}if(b.height&&b.width)return{height:b.height,width:b.width};throw TypeError("Invalid PAM")}},cu={validate:a=>br(a,0,2)in cs,calculate(a){let b=cs[br(a,0,2)],c=br(a,3).split(/[\r\n]+/);return(ct[b]||ct.default)(c)}},cv={validate:a=>"8BPS"===br(a,0,4),calculate:a=>({height:bz(a,14),width:bz(a,18)})},cw=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,cx={height:/\sheight=(['"])([^%]+?)\1/,root:cw,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},cy={in:96,cm:37.79527559055118,em:16,ex:8,m:3779.5275590551178,mm:3.7795275590551176,pc:96/72/12,pt:96/72,px:1},cz=RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(cy).join("|")})?$`);function cA(a){let b=cz.exec(a);if(b)return Math.round(Number(b[1])*(cy[b[2]]||1))}function cB(a){let b=a.split(" ");return{height:cA(b[3]),width:cA(b[2])}}function cC(a){let b=a.match(cx.width),c=a.match(cx.height),d=a.match(cx.viewbox);return{height:c&&cA(c[2]),viewbox:d&&cB(d[2]),width:b&&cA(b[2])}}function cD(a){return{height:a.height,width:a.width}}function cE(a,b){let c=b.width/b.height;return a.width?{height:Math.floor(a.width/c),width:a.width}:a.height?{height:a.height,width:Math.floor(a.height*c)}:{height:b.height,width:b.width}}var cF={validate:a=>cw.test(br(a,0,1e3)),calculate(a){let b=br(a).match(cx.root);if(b){let a=cC(b[0]);if(a.width&&a.height)return cD(a);if(a.viewbox)return cE(a,a.viewbox)}throw TypeError("Invalid SVG")}},cG={validate:a=>0===bw(a,0)&&0===bw(a,4),calculate:a=>({height:bw(a,14),width:bw(a,12)})},cH={TAG:{WIDTH:256,HEIGHT:257,COMPRESSION:259},TYPE:{SHORT:3,LONG:4,LONG8:16},ENTRY_SIZE:{STANDARD:12,BIG:20},COUNT_SIZE:{STANDARD:2,BIG:8}};function cI(a,{isBigEndian:b,isBigTiff:c}){let d=c?Number(bB(a,8,b)):bD(a,32,4,b),e=c?cH.COUNT_SIZE.BIG:cH.COUNT_SIZE.STANDARD;return a.slice(d+e)}function cJ(a,b,c,d){switch(b){case cH.TYPE.SHORT:return bD(a,16,c,d);case cH.TYPE.LONG:return bD(a,32,c,d);case cH.TYPE.LONG8:{let b=Number(bB(a,c,d));if(b>Number.MAX_SAFE_INTEGER)throw TypeError("Value too large");return b}default:return 0}}function cK(a,b){let c=b?cH.ENTRY_SIZE.BIG:cH.ENTRY_SIZE.STANDARD;if(a.length>c)return a.slice(c)}function cL(a,{isBigEndian:b,isBigTiff:c}){let d={},e=a;for(;e?.length;){let a=bD(e,16,0,b),f=bD(e,16,2,b),g=c?Number(bB(e,4,b)):bD(e,32,4,b);if(0===a)break;if(1===g&&(f===cH.TYPE.SHORT||f===cH.TYPE.LONG||c&&f===cH.TYPE.LONG8)){let g=c?12:8;d[a]=cJ(e,f,g,b)}e=cK(e,c)}return d}function cM(a){let b=br(a,0,2),c=bD(a,16,2,"MM"===b);return{isBigEndian:"MM"===b,isBigTiff:43===c}}function cN(a,b){let c=bD(a,16,4,b),d=bD(a,16,6,b);if(8!==c||0!==d)throw TypeError("Invalid BigTIFF header")}var cO=new Set(["49492a00","4d4d002a","49492b00","4d4d002b"]);function cP(a){return{height:1+bx(a,7),width:1+bx(a,4)}}function cQ(a){return{height:1+((15&a[4])<<10|a[3]<<2|(192&a[2])>>6),width:1+((63&a[2])<<8|a[1])}}function cR(a){return{height:16383&bu(a,8),width:16383&bu(a,6)}}var cS=new Map([["bmp",bG],["cur",bO],["dds",bP],["gif",bR],["heif",bT],["icns",b$],["ico",bM],["j2c",b_],["jp2",b0],["jpg",ce],["jxl",cm],["jxl-stream",ci],["ktx",cn],["png",cr],["pnm",cu],["psd",cv],["svg",cF],["tga",cG],["tiff",{validate:a=>{let b=bs(a,0,4);return cO.has(b)},calculate(a){let b=cM(a);b.isBigTiff&&cN(a,b.isBigEndian);let c=cL(cI(a,b),b),d={height:c[cH.TAG.HEIGHT],width:c[cH.TAG.WIDTH],type:b.isBigTiff?"bigtiff":"tiff"};if(c[cH.TAG.COMPRESSION]&&(d.compression=c[cH.TAG.COMPRESSION]),!d.width||!d.height)throw TypeError("Invalid Tiff. Missing tags");return d}}],["webp",{validate(a){let b="RIFF"===br(a,0,4),c="WEBP"===br(a,8,12),d="VP8"===br(a,12,15);return b&&c&&d},calculate(a){let b=br(a,12,16),c=a.slice(20,30);if("VP8X"===b){let a=c[0],b=(192&a)==0,d=(1&a)==0;if(b&&d)return cP(c);throw TypeError("Invalid WebP")}if("VP8 "===b&&47!==c[0])return cR(c);let d=bs(c,3,6);if("VP8L"===b&&"9d012a"!==d)return cQ(c);throw TypeError("Invalid WebP")}}]]),cT=Array.from(cS.keys()),cU=new Map([[0,"heif"],[56,"psd"],[66,"bmp"],[68,"dds"],[71,"gif"],[73,"tiff"],[77,"tiff"],[82,"webp"],[105,"icns"],[137,"png"],[255,"jpg"]]);function cV(a){let b=a[0],c=cU.get(b);return c&&cS.get(c).validate(a)?c:cT.find(b=>cS.get(b).validate(a))}var cW={disabledTypes:[]};function cX(a){let b=cV(a);if(void 0!==b){if(cW.disabledTypes.indexOf(b)>-1)throw TypeError(`disabled file type: ${b}`);let c=cS.get(b).calculate(a);if(void 0!==c){if(c.type=c.type??b,c.images&&c.images.length>1){let a=c.images.reduce((a,b)=>b.width*b.height>a.width*a.height?b:a,c.images[0]);c.width=a.width,c.height=a.height}return c}}throw TypeError(`unsupported file type: ${b}`)}var cY=524288,cZ=[],c$=100,c_=async()=>{let a=cZ.splice(0,c$).map(async({filePath:a,resolve:b,reject:c})=>{let d;try{d=await bo.promises.open(bp.resolve(a),"r")}catch(a){return c(a)}try{let{size:a}=await d.stat();if(a<=0)throw Error("Empty file");let c=Math.min(a,cY),e=new Uint8Array(c);await d.read(e,0,c,0),b(cX(e))}catch(a){c(a)}finally{await d.close()}});await Promise.allSettled(a),cZ.length&&setTimeout(c_,100)},c0=async a=>new Promise((b,c)=>{cZ.push({filePath:a,resolve:b,reject:c}),c_()}),c1=c(48161),c2=c(36659);async function c3(a,b){try{return await b(a)}finally{await e.rm(a,{force:!0,maxRetries:2,recursive:!0})}}let c4=async(a,b={})=>c3(await c5(b),a);async function c5(a){if(a.name){if(void 0!==a.extension&&null!==a.extension)throw Error("The `name` and `extension` options are mutually exclusive");return bp.join(await c6(),a.name)}return await c7()+(void 0===a.extension||null===a.extension?"":"."+a.extension.replace(/^\./,""))}async function c6({prefix:a=""}={}){let b=await c7(a);return await e.mkdir(b),b}async function c7(a=""){let b=await e.realpath(c1.tmpdir());return bp.join(b,a+(0,c2.A)())}async function c8(a){return a?.tempFilePath?c0(a.tempFilePath):a?.mimetype==="image/tiff"?await c4(async b=>(await e.writeFile(b,a.data),c0(b)),{extension:"tiff"}):bn(a.data)}let c9=async({collectionSlug:a,filename:b,req:c})=>!!await c.payload.db.findOne({collection:a,req:c,where:{filename:{equals:b}}});var da=c(97418);let db=a=>{let b=a.split(".").pop(),c=f(a.substring(0,a.lastIndexOf("."))||a),d=c,e=/(.*)-(\d+)$/,g=c.match(e);if(null===g)d+="-1";else{let a=g[1],b=Number(g[2])+1;d=`${a}-${b}`}return`${d}.${b}`};async function dc({collectionSlug:a,desiredFilename:b,req:c,staticPath:d}){let e=b;for(;await c9({collectionSlug:a,filename:e,path:d,req:c})||await (0,da.h)(`${d}/${e}`);)e=db(e);return e}var dd=c(25943);let de=a=>{let b=a.split(".").pop();return{name:f(a.substring(0,a.lastIndexOf("."))||a),ext:b}},df=({extension:a,height:b,outputImageName:c,width:d})=>`${c}-${d}x${b}.${a}`,dg=({name:a,filename:b=null,filesize:c=null,height:d=null,mimeType:e=null,sizesToSave:f=[],width:g=null})=>({sizeData:{[a]:{filename:b,filesize:c,height:d,mimeType:e,width:g}},sizesToSave:f}),dh=({dimensions:a,hasFocalPoint:b,imageResizeConfig:c})=>{let{fit:d,withoutEnlargement:e,withoutReduction:f}=c,g=c.width,h=c.height;if(h&&g){let b=a.width<g&&a.height<h;if(void 0===e&&b)return"omit"}if(void 0===e&&(!g||!h)&&(g&&a.width<g||h&&a.height<h))return"omit";let i=a.width<g||a.height<h;if("contain"===d||"inside"===d||!(0,dd.E)(h)&&!(0,dd.E)(g))return"resize";let j=g/h;return a.width/a.height===j||e&&i||f&&!i?"resize":b?"resizeWithFocalPoint":"resize"},di=a=>a.withoutReduction?{...a,fit:a?.fit||"contain",position:a?.position||"left top"}:a;function dj(a){return a?.pages?a.height/a.pages:a.height}async function dk({config:a,dimensions:b,file:c,mimeType:f,req:g,savedFilename:h,sharp:i,staticPath:j,uploadEdits:k,withMetadata:l}){let{focalPoint:m=!0,imageSizes:o}=a.upload,p=k?.focalPoint?{x:(0,dd.E)(k.focalPoint.x)?Math.round(k.focalPoint.x):50,y:(0,dd.E)(k.focalPoint.y)?Math.round(k.focalPoint.y):50}:void 0,q={...m&&p&&{focalPoint:p},sizeData:{},sizesToSave:[]};if(!o||!i)return q;let r=["image/avif","image/gif","image/webp"].includes(c.mimetype),s={};r&&(s.animated=!0);let t=i(c.tempFilePath||c.data,s).rotate(),v=await t.metadata(),w={...b};[5,6,7,8].includes(v.orientation)&&(w={...b,height:b.width,width:b.height});let x={height:dj(v),width:v.width};return(await Promise.all(o.map(async a=>{let c=dh({dimensions:b,hasFocalPoint:!!p,imageResizeConfig:a=di(a)});if("omit"===c)return dg({name:a.name});let i=t.clone(),k=i;if("resizeWithFocalPoint"===c){let{height:b,width:c}=a,d=w.width/w.height;b&&!c&&(c=Math.round(b*d)),c&&!b&&(b=Math.round(c/d)),b||(b=x.height),c||(c=x.width);let e=c/b<d;k=i.resize({fastShrinkOnLoad:!1,height:e?b:void 0,width:e?void 0:c});let f=await u({req:g,sharpFile:k,withMetadata:l}),{info:h}=await f.toBuffer({resolveWithObject:!0});x.height=dj({...v,height:h.height}),x.width=h.width;let j=c/2,m=x.width*(p.x/100),o=m+j,q=m-j;o>x.width&&(q=x.width-c),q<0&&(q=0);let r=b/2,s=x.height*(p.y/100),t=s+r,y=s-r;t>x.height&&(y=x.height-b),y<0&&(y=0),k=k.extract({height:b,left:Math.floor(q),top:Math.floor(y),width:c})}else k=i.resize(a);a.formatOptions&&(k=k.toFormat(a.formatOptions.format,a.formatOptions.options)),a.trimOptions&&(k=k.trim(a.trimOptions));let m=await u({req:g,sharpFile:k,withMetadata:l}),{data:o,info:q}=await m.toBuffer({resolveWithObject:!0}),s=de(h);g.payloadUploadSizes&&(g.payloadUploadSizes[a.name]=o);let y=await (0,d.BI)(o),z=a.generateImageName?a.generateImageName({extension:y?.ext||s.ext,height:dj({...v,height:q.height}),originalName:s.name,sizeName:a.name,width:q.width}):df({extension:y?.ext||s.ext,height:dj({...v,height:q.height}),outputImageName:s.name,width:q.width}),A=`${j}/${z}`;if(await (0,da.h)(A))try{await e.unlink(A)}catch{}let{height:B,size:C,width:D}=q;return dg({name:a.name,filename:z,filesize:C,height:r&&v.pages?B/v.pages:B,mimeType:y?.mime||f,sizesToSave:[{buffer:o,path:A}],width:D})}))).reduce((a,b)=>(Object.assign(a.sizeData,b.sizeData),a.sizesToSave.push(...b.sizesToSave),a),{...q})}var dl=c(59183);let dm=(a,b)=>{if(!b)return!1;if(a.crop||a.heightInPixels||a.widthInPixels)return!0;if(a.focalPoint){let c=a.focalPoint.x,d=a.focalPoint.y,e="focalX"in b&&b.focalX,f="focalY"in b&&b.focalY;return c!==e||d!==f}return!1},dn=async({collection:{config:a},data:b,isDuplicating:c,operation:h,originalDoc:i,overwriteExistingFiles:k,req:p,throwOnMissingFile:q})=>{if(!a.upload)return{data:b,files:[]};let{sharp:r}=p.payload.config,s=p.file,v=dp({data:b,isDuplicating:c,operation:h,originalDoc:i,req:p}),{constructorOptions:x,disableLocalStorage:y,focalPoint:z=!0,formatOptions:A,imageSizes:B,resizeOptions:C,staticDir:D,trimOptions:E,withMetadata:F}=a.upload,I=D,J=c?i:b;if(!s&&(c||dm(v,J))){let{filename:b,url:c}=J;if(b&&(b.includes("../")||b.includes("..\\")))throw new g.c(p.t);try{if(c&&c.startsWith("/")&&!y){let a=`${I}/${b}`;s=await (0,H.d)(a),k=!0}else b&&c&&(s=await G({data:J,req:p,uploadConfig:a.upload}),k=!0)}catch(a){throw new j(p.t,a instanceof Error?a.message:void 0)}}if(c&&(k=!1),!s){if(q)throw new l(p.t);return{data:b,files:[]}}await t({collection:a,file:s,req:p}),y||await e.mkdir(I,{recursive:!0});let K=b,L=[],M={},N=["image/avif","image/gif","image/webp"].includes(s.mimetype),O="object"==typeof v&&"crop"in v?v.crop:void 0;try{let b,c,g,h,i,j,l=o(s.mimetype),m=l&&!!(C||A||E||x||s.tempFilePath),q={...x};if(N&&(q.animated=!0),r&&(N||m)&&(c=s.tempFilePath?r(s.tempFilePath,q).rotate():r(s.data,q).rotate(),m&&(C&&(c=c.resize(C)),A&&(c=c.toFormat(A.format,A.options)),E&&(c=c.trim(E)))),(l||(0,dl.w)(s.mimetype))&&(M.width=(g=await c8(s)).width,M.height=g.height),c){let a=await c.metadata();c=await u({req:p,sharpFile:c,withMetadata:F}),h=await c.toBuffer({resolveWithObject:!0}),({ext:i,mime:j}=await (0,d.BI)(h.data)),M.width=h.info.width,M.height=h.info.height,M.filesize=h.info.size,a.pages&&(M.height=h.info.height/a.pages,M.filesize=h.data.length)}else j=s.mimetype,M.filesize=s.size,i=s.name.includes(".")?s.name.split(".").pop()?.split("?")[0]:"";"application/xml"===j&&"svg"===i&&(j="image/svg+xml"),M.mimeType=j;let t=f(s.name.substring(0,s.name.lastIndexOf("."))||s.name);b=`${t}${i?`.${i}`:""}`,k||(b=await dc({collectionSlug:a.slug,desiredFilename:b,req:p,staticPath:I})),M.filename=b;let y=s;if(O&&r){let{data:a,info:d}=await w({cropData:O,dimensions:g,file:s,heightInPixels:v.heightInPixels,req:p,sharp:r,widthInPixels:v.widthInPixels,withMetadata:F});if(C&&!C.withoutEnlargement){let d=await r(a).resize({fit:C?.fit||"cover",height:C?.height,position:C?.position||"center",width:C?.width}).toBuffer({resolveWithObject:!0});if(L.push({buffer:d.data,path:`${I}/${b}`}),y={...y,data:d.data,size:d.info.size},M.width=d.info.width,M.height=d.info.height,N){let a=await c.metadata();M.height=a.pages?d.info.height/a.pages:d.info.height}M.filesize=d.info.size}else{if(L.push({buffer:a,path:`${I}/${b}`}),y={...s,data:a,size:d.size},M.width=d.width,M.height=d.height,N){let a=await c.metadata();M.height=a.pages?d.height/a.pages:d.height}M.filesize=d.size}s.tempFilePath?await e.writeFile(s.tempFilePath,a):p.file=y}else L.push({buffer:h?.data||s.data,path:`${I}/${b}`}),(h?.data||s.data.length>0)&&(s.tempFilePath?await e.writeFile(s.tempFilePath,h?.data||s.data):p.file={...s,data:h?.data||s.data,size:h?.info.size});if(l&&(Array.isArray(B)||!1!==z)){p.payloadUploadSizes={};let{focalPoint:c,sizeData:d,sizesToSave:e}=await dk({config:a,dimensions:O?{...g,height:M.height,width:M.width}:g,file:y,mimeType:M.mimeType,req:p,savedFilename:b||s.name,sharp:r,staticPath:I,uploadEdits:v,withMetadata:F});M.sizes=d,M.focalX=c?.x,M.focalY=c?.y,L.push(...e)}}catch(a){throw p.payload.logger.error(a),new m.e(p.t)}return{data:K={...K,...M},files:L}};function dp(a){let{data:b,isDuplicating:c,operation:d,originalDoc:e,req:f}=a,g=f.query?.uploadEdits&&"object"==typeof f.query.uploadEdits?f.query.uploadEdits:{};if(g.focalPoint)return g;let h=b,i=e;if(i&&"focalX"in i&&"focalY"in i){if(h.focalX===i.focalX&&h.focalY===i.focalY)return;c&&(g.focalPoint={x:h?.focalX||i.focalX,y:h?.focalY||i.focalX})}return h?.focalX&&h?.focalY?g.focalPoint={x:h.focalX,y:h.focalY}:"create"===d&&(g.focalPoint={x:50,y:50}),g}},77457:(a,b,c)=>{"use strict";c.d(b,{E_:()=>f,RY:()=>h,SS:()=>g,hR:()=>i});var d=c(27661);let e=a=>{let{fields:b,parentIsLocalized:c,prefix:f=""}=a;return b.reduce((a,b)=>{let g=f;return["array","blocks","relationship","upload"].includes(b.type)||"hasMany"in b&&!0===b.hasMany?a:(0,d.sd)(b)?(g="name"in b?`${f}${b.name}_`:f,[...a,...e({fields:b.fields,parentIsLocalized:c||"localized"in b&&b.localized,prefix:g})]):"tabs"===b.type?[...a,...b.tabs.reduce((a,b)=>(g="name"in b?`${f}_${b.name}`:f,[...a,...(0,d.pz)(b)?[{...b,type:"tab"}]:e({fields:b.fields,parentIsLocalized:c||b.localized,prefix:g})]),[])]:(0,d.Z7)(b)?[...a,{name:`${g}${b.name}`,localized:(0,d.Cd)({field:b,parentIsLocalized:c})}]:a},[])},f=({block:a,localized:b,parentIsLocalized:c,table:d,tableLocales:f})=>{let g=e({fields:a.fields,parentIsLocalized:c||b});return!(g.find(({name:a,localized:b})=>-1===Object.keys((b&&f?f:d).columns).indexOf(a))||Object.keys(d).find(a=>{if(!["_locale","_order","_parentID","_path","_uuid"].includes(a))return -1===g.findIndex(a=>a.name)}))&&!!b==!!d.columns._locale},g=Symbol("InternalBlockTableNameIndex"),h=(a,b)=>{a[g]=b},i=(a,b)=>a[g]?`${b}_${a[g]}`:b},77529:(a,b,c)=>{"use strict";c.d(b,{A:()=>k});var d=c(50531),e=c(40288),f=c(80658),g=c(3217),h=c(23430),i=c(12436),j=c(94110);class k extends i.f{settings;stringBuffer="";constructor(a){super(),this.settings=a}write(a,b){let c=d.l.of(a);switch(typeof b){case"object":if(null===b){this.stringBuffer="null";return}if(c.isTimestampSchema()){if(!(b instanceof Date))throw Error(`@smithy/core/protocols - received non-Date value ${b} when schema expected Date in ${c.getName(!0)}`);switch((0,j.V)(c,this.settings)){case 5:this.stringBuffer=b.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=(0,e.JV)(b);break;case 7:this.stringBuffer=String(b.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",b),this.stringBuffer=String(b.getTime()/1e3)}return}if(c.isBlobSchema()&&"byteLength"in b){this.stringBuffer=(this.serdeContext?.base64Encoder??h.n)(b);return}if(c.isListSchema()&&Array.isArray(b)){let a="";for(let d of b){this.write([c.getValueSchema(),c.getMergedTraits()],d);let b=this.flush();""!==a&&(a+=", "),a+=c.getValueSchema().isTimestampSchema()?b:(0,f.m)(b)}this.stringBuffer=a;return}this.stringBuffer=JSON.stringify(b,null,2);break;case"string":let i=c.getMergedTraits().mediaType,k=b;if(i&&(("application/json"===i||i.endsWith("+json"))&&(k=g.A.from(k)),c.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??h.n)(k.toString());return}this.stringBuffer=b;break;default:this.stringBuffer=String(b)}}flush(){let a=this.stringBuffer;return this.stringBuffer="",a}}},77615:(a,b,c)=>{"use strict";var d;let e=c(76450),f=c(63780),g=c(56327),h=c(46112),i=c(43008),j=c(68185),k=c(73414),l=c(90067),m=c(74528),o=c(212),p=c(33895),{InvalidArgumentError:q}=o,r=c(2448),s=c(53977),t=c(19764),{MockCallHistory:u,MockCallHistoryLog:v}=c(78238),w=c(15366),x=c(25929),y=c(32116),z=c(32911),{getGlobalDispatcher:A,setGlobalDispatcher:B}=c(95580),C=c(6e3),D=c(27015);function E(a){return(b,c,d)=>{if("function"==typeof c&&(d=c,c=null),!b||"string"!=typeof b&&"object"!=typeof b&&!(b instanceof URL))throw new q("invalid url");if(null!=c&&"object"!=typeof c)throw new q("invalid opts");if(c&&null!=c.path){if("string"!=typeof c.path)throw new q("invalid opts.path");let a=c.path;c.path.startsWith("/")||(a=`/${a}`),b=new URL(p.parseOrigin(b).origin+a)}else c||(c="object"==typeof b?b:{}),b=p.parseURL(b);let{agent:e,dispatcher:f=A()}=c;if(e)throw new q("unsupported opts.agent. Did you mean opts.client?");return a.call(f,{...c,origin:b.origin,path:b.search?`${b.pathname}${b.search}`:b.pathname,method:c.method||(c.body?"PUT":"GET")},d)}}Object.assign(f.prototype,r),d=f,d=e,d=g,d=h,a.exports.g6=i,d=j,d=k,d=l,d=m,d=z,d=C,d=D,d={redirect:c(79351),responseError:c(26415),retry:c(55153),dump:c(79845),dns:c(78272),cache:c(15033)},d={MemoryCacheStore:c(39568)},d=c(23019),d=s,d=o,d={parseHeaders:p.parseHeaders,headerNameToString:p.headerNameToString},d=B,d=A;let F=c(2461).fetch;a.exports.hd=async function(a,b){try{return await F(a,b)}catch(a){throw a&&"object"==typeof a&&Error.captureStackTrace(a),a}},c(24415).Headers,c(28886).Response,c(78728).Request,c(40112).FormData;let{setGlobalOrigin:G,getGlobalOrigin:H}=c(17710);d=G,d=H;let{CacheStorage:I}=c(67684),{kConstruct:J}=c(25394);d=new I(J);let{deleteCookie:K,getCookies:L,getSetCookies:M,setCookie:N,parseCookie:O}=c(9586);d=K,d=L,d=M,d=N,d=O;let{parseMIMEType:P,serializeAMimeType:Q}=c(86541);d=P,d=Q;let{CloseEvent:R,ErrorEvent:S,MessageEvent:T}=c(44677);c(29305).WebSocket,d=R,d=S,d=T,c(48796).WebSocketStream,c(74796).WebSocketError,d=E(r.request),d=E(r.stream),d=E(r.pipeline),d=E(r.connect),d=E(r.upgrade),d=t,d=u,d=v,d=x,d=w,d=y;let{EventSource:U}=c(90521);d=U},77915:(a,b,c)=>{"use strict";c.d(b,{E:()=>f});var d=c(59213);let e=/^[A-Za-z0-9+/]*={0,2}$/,f=a=>{if(3*a.length%4!=0)throw TypeError("Incorrect padding on base64 string.");if(!e.exec(a))throw TypeError("Invalid base64 string.");let b=(0,d.fromString)(a,"base64");return new Uint8Array(b.buffer,b.byteOffset,b.byteLength)}},77930:(a,b,c)=>{"use strict";let d=c(12266);class e extends d{constructor(a={}){super(a)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(a){this.date.setMinutes(parseInt(a.substr(-2)))}toString(){let a=this.date.getMinutes();return this.token.length>1?String(a).padStart(2,"0"):a}}a.exports=e},77938:a=>{"use strict";a.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOriginalDispatch:Symbol("original dispatch"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected"),kIgnoreTrailingSlash:Symbol("ignore trailing slash"),kMockAgentMockCallHistoryInstance:Symbol("mock agent mock call history name"),kMockAgentRegisterCallHistory:Symbol("mock agent register mock call history"),kMockAgentAddCallHistoryLog:Symbol("mock agent add call history log"),kMockAgentIsCallHistoryEnabled:Symbol("mock agent is call history enabled"),kMockAgentAcceptsNonStandardSearchParameters:Symbol("mock agent accepts non standard search parameters"),kMockCallHistoryAddLog:Symbol("mock call history add log")}},77968:(a,b,c)=>{"use strict";let d=c(12266);class e extends d{constructor(a={}){super(a)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(a){this.date.setHours(parseInt(a.substr(-2)))}toString(){let a=this.date.getHours();return/h/.test(this.token)&&(a=a%12||12),this.token.length>1?String(a).padStart(2,"0"):a}}a.exports=e},78144:(a,b,c)=>{"use strict";c.d(b,{l:()=>d});let d=(a,b)=>{let c=new Headers(b);return a.forEach((a,b)=>{c.append(b,a)}),c}},78238:(a,b,c)=>{"use strict";let{kMockCallHistoryAddLog:d}=c(77938),{InvalidArgumentError:e}=c(212);function f(a,b,c,d){switch(b.operator){case"OR":return d.push(...c(a)),d;case"AND":return c.call({logs:d},a);default:throw new e("options.operator must to be a case insensitive string equal to 'OR' or 'AND'")}}function g(a={}){let b={};if("operator"in a){if("string"!=typeof a.operator||"OR"!==a.operator.toUpperCase()&&"AND"!==a.operator.toUpperCase())throw new e("options.operator must to be a case insensitive string equal to 'OR' or 'AND'");return{...b,operator:a.operator.toUpperCase()}}return b}function h(a){return b=>{if("string"==typeof b||null==b)return this.logs.filter(c=>c[a]===b);if(b instanceof RegExp)return this.logs.filter(c=>b.test(c[a]));throw new e(`${a} parameter should be one of string, regexp, undefined or null`)}}function i(a){try{let b=new URL(a.path,a.origin);if(0!==b.search.length)return b;return b.search=new URLSearchParams(a.query).toString(),b}catch(a){throw new e("An error occurred when computing MockCallHistoryLog.url",{cause:a})}}class j{constructor(a={}){this.body=a.body,this.headers=a.headers,this.method=a.method;let b=i(a);this.fullUrl=b.toString(),this.origin=b.origin,this.path=b.pathname,this.searchParams=Object.fromEntries(b.searchParams),this.protocol=b.protocol,this.host=b.host,this.port=b.port,this.hash=b.hash}toMap(){return new Map([["protocol",this.protocol],["host",this.host],["port",this.port],["origin",this.origin],["path",this.path],["hash",this.hash],["searchParams",this.searchParams],["fullUrl",this.fullUrl],["method",this.method],["body",this.body],["headers",this.headers]])}toString(){let a="->",b="|",c="";return this.toMap().forEach((d,e)=>{("string"==typeof d||null==d)&&(c=`${c}${e}${a}${d}${b}`),("object"==typeof d&&null!==d||Array.isArray(d))&&(c=`${c}${e}${a}${JSON.stringify(d)}${b}`)}),c.slice(0,-1)}}class k{logs=[];calls(){return this.logs}firstCall(){return this.logs.at(0)}lastCall(){return this.logs.at(-1)}nthCall(a){if("number"!=typeof a)throw new e("nthCall must be called with a number");if(!Number.isInteger(a))throw new e("nthCall must be called with an integer");if(1!==Math.sign(a))throw new e("nthCall must be called with a positive value. use firstCall or lastCall instead");return this.logs.at(a-1)}filterCalls(a,b){if(0===this.logs.length)return this.logs;if("function"==typeof a)return this.logs.filter(a);if(a instanceof RegExp)return this.logs.filter(b=>a.test(b.toString()));if("object"==typeof a&&null!==a){if(0===Object.keys(a).length)return this.logs;let c={operator:"OR",...g(b)},d=[];return"protocol"in a&&(d=f(a.protocol,c,this.filterCallsByProtocol,d)),"host"in a&&(d=f(a.host,c,this.filterCallsByHost,d)),"port"in a&&(d=f(a.port,c,this.filterCallsByPort,d)),"origin"in a&&(d=f(a.origin,c,this.filterCallsByOrigin,d)),"path"in a&&(d=f(a.path,c,this.filterCallsByPath,d)),"hash"in a&&(d=f(a.hash,c,this.filterCallsByHash,d)),"fullUrl"in a&&(d=f(a.fullUrl,c,this.filterCallsByFullUrl,d)),"method"in a&&(d=f(a.method,c,this.filterCallsByMethod,d)),[...new Set(d)]}throw new e("criteria parameter should be one of function, regexp, or object")}filterCallsByProtocol=h.call(this,"protocol");filterCallsByHost=h.call(this,"host");filterCallsByPort=h.call(this,"port");filterCallsByOrigin=h.call(this,"origin");filterCallsByPath=h.call(this,"path");filterCallsByHash=h.call(this,"hash");filterCallsByFullUrl=h.call(this,"fullUrl");filterCallsByMethod=h.call(this,"method");clear(){this.logs=[]}[d](a){let b=new j(a);return this.logs.push(b),b}*[Symbol.iterator](){for(let a of this.calls())yield a}}a.exports.MockCallHistory=k,a.exports.MockCallHistoryLog=j},78248:a=>{"use strict";a.exports=ReferenceError},78272:(a,b,c)=>{"use strict";let{isIP:d}=c(77030),{lookup:e}=c(40610),f=c(6e3),{InvalidArgumentError:g,InformationalError:h}=c(212),i=0x7fffffff;class j{#ca=0;#cb=0;#cc=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(a){this.#ca=a.maxTTL,this.#cb=a.maxItems,this.dualStack=a.dualStack,this.affinity=a.affinity,this.lookup=a.lookup??this.#cd,this.pick=a.pick??this.#ce}get full(){return this.#cc.size===this.#cb}runLookup(a,b,c){let d=this.#cc.get(a.hostname);if(null==d&&this.full)return void c(null,a);let e={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...b.dns,maxTTL:this.#ca,maxItems:this.#cb};if(null==d)this.lookup(a,e,(b,d)=>{let f;if(b||null==d||0===d.length)return void c(b??new h("No DNS entries found"));this.setRecords(a,d);let g=this.#cc.get(a.hostname),i=this.pick(a,g,e.affinity);f="number"==typeof i.port?`:${i.port}`:""!==a.port?`:${a.port}`:"",c(null,new URL(`${a.protocol}//${6===i.family?`[${i.address}]`:i.address}${f}`))});else{let f,g=this.pick(a,d,e.affinity);if(null==g){this.#cc.delete(a.hostname),this.runLookup(a,b,c);return}f="number"==typeof g.port?`:${g.port}`:""!==a.port?`:${a.port}`:"",c(null,new URL(`${a.protocol}//${6===g.family?`[${g.address}]`:g.address}${f}`))}}#cd(a,b,c){e(a.hostname,{all:!0,family:!1===this.dualStack?this.affinity:0,order:"ipv4first"},(a,b)=>{if(a)return c(a);let d=new Map;for(let a of b)d.set(`${a.address}:${a.family}`,a);c(null,d.values())})}#ce(a,b,c){let d,e=null,{records:f,offset:g}=b;if(this.dualStack?(null==c&&(null==g||g===i?(b.offset=0,c=4):(b.offset++,c=(1&b.offset)==1?6:4)),d=null!=f[c]&&f[c].ips.length>0?f[c]:f[4===c?6:4]):d=f[c],null==d||0===d.ips.length)return e;null==d.offset||d.offset===i?d.offset=0:d.offset++;let h=d.offset%d.ips.length;return null==(e=d.ips[h]??null)?e:Date.now()-e.timestamp>e.ttl?(d.ips.splice(h,1),this.pick(a,b,c)):e}pickFamily(a,b){let c=this.#cc.get(a.hostname)?.records;if(!c)return null;let d=c[b];if(!d)return null;null==d.offset||d.offset===i?d.offset=0:d.offset++;let e=d.offset%d.ips.length,f=d.ips[e]??null;return null==f||Date.now()-f.timestamp>f.ttl&&d.ips.splice(e,1),f}setRecords(a,b){let c=Date.now(),d={records:{4:null,6:null}};for(let a of b){a.timestamp=c,"number"==typeof a.ttl?a.ttl=Math.min(a.ttl,this.#ca):a.ttl=this.#ca;let b=d.records[a.family]??{ips:[]};b.ips.push(a),d.records[a.family]=b}this.#cc.set(a.hostname,d)}deleteRecords(a){this.#cc.delete(a.hostname)}getHandler(a,b){return new k(this,a,b)}}class k extends f{#be=null;#b1=null;#cf=null;#cg=null;#ch=null;#ci=null;#cj=!0;constructor(a,{origin:b,handler:c,dispatch:d,newOrigin:e},f){super(c),this.#cg=b,this.#ci=e,this.#b1={...f},this.#be=a,this.#cf=d}onResponseError(a,b){switch(b.code){case"ETIMEDOUT":case"ECONNREFUSED":if(this.#be.dualStack){let c;if(!this.#cj)return void super.onResponseError(a,b);this.#cj=!1;let d="["===this.#ci.hostname[0]?4:6,e=this.#be.pickFamily(this.#cg,d);if(null==e)return void super.onResponseError(a,b);c="number"==typeof e.port?`:${e.port}`:""!==this.#cg.port?`:${this.#cg.port}`:"";let f={...this.#b1,origin:`${this.#cg.protocol}//${6===e.family?`[${e.address}]`:e.address}${c}`};this.#cf(f,this);return}super.onResponseError(a,b);break;case"ENOTFOUND":this.#be.deleteRecords(this.#cg),super.onResponseError(a,b);break;default:super.onResponseError(a,b)}}}a.exports=a=>{let b;if(a?.maxTTL!=null&&("number"!=typeof a?.maxTTL||a?.maxTTL<0))throw new g("Invalid maxTTL. Must be a positive number");if(a?.maxItems!=null&&("number"!=typeof a?.maxItems||a?.maxItems<1))throw new g("Invalid maxItems. Must be a positive number and greater than zero");if(a?.affinity!=null&&a?.affinity!==4&&a?.affinity!==6)throw new g("Invalid affinity. Must be either 4 or 6");if(a?.dualStack!=null&&"boolean"!=typeof a?.dualStack)throw new g("Invalid dualStack. Must be a boolean");if(a?.lookup!=null&&"function"!=typeof a?.lookup)throw new g("Invalid lookup. Must be a function");if(a?.pick!=null&&"function"!=typeof a?.pick)throw new g("Invalid pick. Must be a function");let c=a?.dualStack??!0;b=c?a?.affinity??null:a?.affinity??4;let e=new j({maxTTL:a?.maxTTL??1e4,lookup:a?.lookup??null,pick:a?.pick??null,dualStack:c,affinity:b,maxItems:a?.maxItems??1/0});return a=>function(b,c){let f=b.origin.constructor===URL?b.origin:new URL(b.origin);return 0!==d(f.hostname)?a(b,c):(e.runLookup(f,b,(d,g)=>{if(d)return c.onResponseError(null,d);a({...b,servername:f.hostname,origin:g.origin,headers:{host:f.host,...b.headers}},e.getHandler({origin:f,dispatch:a,handler:c,newOrigin:g},b))}),!0)}}},78476:(a,b,c)=>{"use strict";var d;c.d(b,{Gz:()=>e,L0:()=>f,cm:()=>d}),function(a){a.STANDARD="standard",a.ADAPTIVE="adaptive"}(d||(d={}));let e=3,f=d.STANDARD},78497:(a,b,c)=>{"use strict";c.d(b,{x:()=>g});var d=c(55694),e=c(27661);let f=async({currentDepth:a,data:b,dataReference:c,depth:e,draft:f,fallbackLocale:g,field:h,index:i,key:j,locale:k,overrideAccess:l,populateArg:m,req:o,showHiddenFields:p})=>{let q,r=c;q="join"===h.type?Array.isArray(h.collection)?b.relationTo:h.collection:Array.isArray(h.relationTo)?b.relationTo:h.relationTo;let s=o.payload.collections[q];if(s){let c,q;c="join"===h.type&&Array.isArray(h.collection)||"join"!==h.type&&Array.isArray(h.relationTo)?b.value:b;let t=e&&a<=e;"string"!=typeof c&&"number"!=typeof c&&"function"==typeof c?.toString&&"object"!=typeof c&&(c=c.toString()),t&&(q=await o.payloadDataLoader.load((0,d.h)({collectionSlug:s.config.slug,currentDepth:a+1,depth:e,docID:c,draft:f,fallbackLocale:g,locale:k,overrideAccess:l,populate:m,select:m?.[s.config.slug]??s.config.defaultPopulate,showHiddenFields:p,transactionID:o.transactionID}))),q||(q=c),"number"==typeof i&&"string"==typeof j?"join"!==h.type&&Array.isArray(h.relationTo)||"join"===h.type&&Array.isArray(h.collection)?r[h.name][j][i].value=q:r[h.name][j][i]=q:"number"==typeof i||"string"==typeof j?"join"===h.type?Array.isArray(h.collection)?r[h.name].docs[i??j].value=q:r[h.name].docs[i??j]=q:Array.isArray(h.relationTo)?r[h.name][i??j].value=q:r[h.name][i??j]=q:"join"!==h.type&&Array.isArray(h.relationTo)||"join"===h.type&&Array.isArray(h.collection)?r[h.name].value=q:r[h.name]=q}},g=async({currentDepth:a,depth:b,draft:c,fallbackLocale:d,field:g,locale:h,overrideAccess:i,parentIsLocalized:j,populate:k,req:l,showHiddenFields:m,siblingDoc:o})=>{let p=o,q=(0,e.M2)(g)&&g.maxDepth<b?g.maxDepth:b,r=[];"join"===g.type||(0,e.Ez)(g)&&g.hasMany?(0,e.Cd)({field:g,parentIsLocalized:j})&&"all"===h&&"object"==typeof o[g.name]&&null!==o[g.name]?Object.keys(o[g.name]).forEach(b=>{Array.isArray(o[g.name][b])&&o[g.name][b].forEach((e,j)=>{let s=async()=>{await f({currentDepth:a,data:o[g.name][b][j],dataReference:p,depth:q,draft:c,fallbackLocale:d,field:g,index:j,key:b,locale:h,overrideAccess:i,populateArg:k,req:l,showHiddenFields:m})};r.push(s())})}):(Array.isArray(o[g.name])||Array.isArray(o[g.name]?.docs))&&(Array.isArray(o[g.name])?o[g.name]:o[g.name].docs).forEach((b,e)=>{let j=async()=>{b&&await f({currentDepth:a,data:!("join"===g.type&&Array.isArray(g.collection))&&b?.id?b.id:b,dataReference:p,depth:q,draft:c,fallbackLocale:d,field:g,index:e,locale:h,overrideAccess:i,populateArg:k,req:l,showHiddenFields:m})};r.push(j())}):g.localized&&"all"===h&&"object"==typeof o[g.name]&&null!==o[g.name]?(Object.keys(o[g.name]).forEach(b=>{let e=async()=>{await f({currentDepth:a,data:o[g.name][b],dataReference:p,depth:q,draft:c,fallbackLocale:d,field:g,key:b,locale:h,overrideAccess:i,populateArg:k,req:l,showHiddenFields:m})};r.push(e())}),await Promise.all(r)):o[g.name]&&await f({currentDepth:a,data:o[g.name],dataReference:p,depth:q,draft:c,fallbackLocale:d,field:g,locale:h,overrideAccess:i,populateArg:k,req:l,showHiddenFields:m}),await Promise.all(r)}},78557:a=>{"use strict";a.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var a={},b=Symbol("test"),c=Object(b);if("string"==typeof b||"[object Symbol]"!==Object.prototype.toString.call(b)||"[object Symbol]"!==Object.prototype.toString.call(c))return!1;var d=42;for(var e in a[b]=d,a)return!1;if("function"==typeof Object.keys&&0!==Object.keys(a).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(a).length)return!1;var f=Object.getOwnPropertySymbols(a);if(1!==f.length||f[0]!==b||!Object.prototype.propertyIsEnumerable.call(a,b))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var g=Object.getOwnPropertyDescriptor(a,b);if(g.value!==d||!0!==g.enumerable)return!1}return!0}},78644:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let e=d(c(95529)),f=c(98667);class g{constructor(a){this.table=new e.default(a)}addColumn(a){return this.table.addColumn(a),this}addColumns(a){return this.table.addColumns(a),this}addRow(a,b){return this.table.addRow(a,(0,f.convertRawRowOptionsToStandard)(b)),this}addRows(a,b){return this.table.addRows(a,(0,f.convertRawRowOptionsToStandard)(b)),this}printTable(){console.log(this.table.renderTable())}render(){return this.table.renderTable()}}b.default=g},78654:a=>{"use strict";let b=Symbol("circular-ref-tag"),c=Symbol("pino-raw-err-ref"),d=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[c]},set:function(a){this[c]=a}}});Object.defineProperty(d,c,{writable:!0,value:{}}),a.exports={pinoErrProto:d,pinoErrorSymbols:{seen:b,rawSymbol:c}}},78666:(a,b,c)=>{"use strict";let d=Symbol.for("pino.metadata"),{DEFAULT_LEVELS:e}=c(17306),f=e.info;function g(a,b){return a.level-b.level}function h(a,b){return b?a-1:0}function i(a,b){return b?a-1:a+1}function j(a,b,c){return c?a>=0:a<b}a.exports=function(a,b){let c=0;a=a||[],b=b||{dedupe:!1};let k=Object.create(e);k.silent=1/0,b.levels&&"object"==typeof b.levels&&Object.keys(b.levels).forEach(a=>{k[a]=b.levels[a]});let l={write:m,add:q,emit:o,flushSync:p,end:r,minLevel:0,streams:[],clone:s,[d]:!0,streamLevels:k};return Array.isArray(a)?a.forEach(q,l):q.call(l,a),a=null,l;function m(a){let c,e,f=this.lastLevel,{streams:g}=this,k=0;for(let l=h(g.length,b.dedupe);j(l,g.length,b.dedupe);l=i(l,b.dedupe))if((c=g[l]).level<=f){if(0!==k&&k!==c.level)break;if((e=c.stream)[d]){let{lastTime:a,lastMsg:b,lastObj:c,lastLogger:d}=this;e.lastLevel=f,e.lastTime=a,e.lastMsg=b,e.lastObj=c,e.lastLogger=d}e.write(a),b.dedupe&&(k=c.level)}else if(!b.dedupe)break}function o(...a){for(let{stream:b}of this.streams)"function"==typeof b.emit&&b.emit(...a)}function p(){for(let{stream:a}of this.streams)"function"==typeof a.flushSync&&a.flushSync()}function q(a){let b;if(!a)return l;let d="function"==typeof a.write||a.stream,e=a.write?a:a.stream;if(!d)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:h,streamLevels:i}=this,j={stream:e,level:b="number"==typeof a.levelVal?a.levelVal:"string"==typeof a.level?i[a.level]:"number"==typeof a.level?a.level:f,levelVal:void 0,id:c++};return h.unshift(j),h.sort(g),this.minLevel=h[0].level,l}function r(){for(let{stream:a}of this.streams)"function"==typeof a.flushSync&&a.flushSync(),a.end()}function s(a){let b=Array(this.streams.length);for(let c=0;c<b.length;c++)b[c]={level:a,stream:this.streams[c].stream};return{write:m,add:q,minLevel:a,streams:b,clone:s,emit:o,flushSync:p,[d]:!0}}}},78690:(a,b,c)=>{"use strict";async function d({converters:a,currentDepth:b,depth:c,draft:d,lexicalNodes:e,overrideAccess:f,parent:g,req:h,showHiddenFields:i}){let j=a.find(a=>a.nodeTypes.includes("unknown"));return(await Promise.all(e.map(async(e,k)=>{let l=a.find(a=>a.nodeTypes.includes(e.type));try{if(!l){if(j)return await j.converter({childIndex:k,converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:f,parent:g,req:h,showHiddenFields:i});return"<span>unknown node</span>"}return await l.converter({childIndex:k,converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:f,parent:g,req:h,showHiddenFields:i})}catch(a){return console.error("Error converting lexical node to HTML:",a,"node:",e),""}}))).join("")||""}c.d(b,{D:()=>d})},78728:(a,b,c)=>{"use strict";let d,{extractBody:e,mixinBody:f,cloneBody:g,bodyUnusable:h}=c(41069),{Headers:i,fill:j,HeadersList:k,setHeadersGuard:l,getHeadersGuard:m,setHeadersList:o,getHeadersList:p}=c(24415),{FinalizationRegistry:q}=c(69796)(),r=c(33895),s=c(57975),{isValidHTTPToken:t,sameOrigin:u,environmentSettingsObject:v}=c(45293),{forbiddenMethodsSet:w,corsSafeListedMethodsSet:x,referrerPolicy:y,requestRedirect:z,requestMode:A,requestCredentials:B,requestCache:C,requestDuplex:D}=c(1852),{kEnumerableProperty:E,normalizedMethodRecordsBase:F,normalizedMethodRecords:G}=r,{webidl:H}=c(2312),{URLSerializer:I}=c(86541),{kConstruct:J}=c(25394),K=c(34589),{getMaxListeners:L,setMaxListeners:M,defaultMaxListeners:N}=c(78474),O=Symbol("abortController"),P=new q(({signal:a,abort:b})=>{a.removeEventListener("abort",b)}),Q=new WeakMap;try{d=L(new AbortController().signal)>0}catch{d=!1}function R(a){return b;function b(){let c=a.deref();if(void 0!==c){P.unregister(b),this.removeEventListener("abort",b),c.abort(this.reason);let a=Q.get(c.signal);if(void 0!==a){if(0!==a.size){for(let b of a){let a=b.deref();void 0!==a&&a.abort(this.reason)}a.clear()}Q.delete(c.signal)}}}}let S=!1;class T{#ck;#cl;#bb;#be;constructor(a,b){let c;if(H.util.markAsUncloneable(this),a===J)return;let f="Request constructor";H.argumentLengthCheck(arguments,1,f),a=H.converters.RequestInfo(a,f,"input"),b=H.converters.RequestInit(b,f,"init");let g=null,m=null,q=v.settingsObject.baseUrl,s=null;if("string"==typeof a){let c;this.#cl=b.dispatcher;try{c=new URL(a,q)}catch(b){throw TypeError("Failed to parse URL from "+a,{cause:b})}if(c.username||c.password)throw TypeError("Request cannot be constructed from a URL that includes credentials: "+a);g=$({urlList:[c]}),m="cors"}else K(H.is.Request(a)),g=a.#be,s=a.#ck,this.#cl=b.dispatcher||a.#cl;let y=v.settingsObject.origin,z="client";if(g.window?.constructor?.name==="EnvironmentSettingsObject"&&u(g.window,y)&&(z=g.window),null!=b.window)throw TypeError(`'window' option '${z}' must be null`);"window"in b&&(z="no-window"),g=$({method:g.method,headersList:g.headersList,unsafeRequest:g.unsafeRequest,client:v.settingsObject,window:z,priority:g.priority,origin:g.origin,referrer:g.referrer,referrerPolicy:g.referrerPolicy,mode:g.mode,credentials:g.credentials,cache:g.cache,redirect:g.redirect,integrity:g.integrity,keepalive:g.keepalive,reloadNavigation:g.reloadNavigation,historyNavigation:g.historyNavigation,urlList:[...g.urlList]});let A=0!==Object.keys(b).length;if(A&&("navigate"===g.mode&&(g.mode="same-origin"),g.reloadNavigation=!1,g.historyNavigation=!1,g.origin="client",g.referrer="client",g.referrerPolicy="",g.url=g.urlList[g.urlList.length-1],g.urlList=[g.url]),void 0!==b.referrer){let a=b.referrer;if(""===a)g.referrer="no-referrer";else{let b;try{b=new URL(a,q)}catch(b){throw TypeError(`Referrer "${a}" is not a valid URL.`,{cause:b})}"about:"===b.protocol&&"client"===b.hostname||y&&!u(b,v.settingsObject.baseUrl)?g.referrer="client":g.referrer=b}}if(void 0!==b.referrerPolicy&&(g.referrerPolicy=b.referrerPolicy),"navigate"===(c=void 0!==b.mode?b.mode:m))throw H.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(null!=c&&(g.mode=c),void 0!==b.credentials&&(g.credentials=b.credentials),void 0!==b.cache&&(g.cache=b.cache),"only-if-cached"===g.cache&&"same-origin"!==g.mode)throw TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(void 0!==b.redirect&&(g.redirect=b.redirect),null!=b.integrity&&(g.integrity=String(b.integrity)),void 0!==b.keepalive&&(g.keepalive=!!b.keepalive),void 0!==b.method){let a=b.method,c=G[a];if(void 0!==c)g.method=c;else{if(!t(a))throw TypeError(`'${a}' is not a valid HTTP method.`);let b=a.toUpperCase();if(w.has(b))throw TypeError(`'${a}' HTTP method is unsupported.`);a=F[b]??a,g.method=a}S||"patch"!==g.method||(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),S=!0)}void 0!==b.signal&&(s=b.signal),this.#be=g;let B=new AbortController;if(this.#ck=B.signal,null!=s)if(s.aborted)B.abort(s.reason);else{this[O]=B;let a=R(new WeakRef(B));d&&L(s)===N&&M(1500,s),r.addAbortListener(s,a),P.register(B,{signal:s,abort:a},a)}if(this.#bb=new i(J),o(this.#bb,g.headersList),l(this.#bb,"request"),"no-cors"===c){if(!x.has(g.method))throw TypeError(`'${g.method} is unsupported in no-cors mode.`);l(this.#bb,"request-no-cors")}if(A){let a=p(this.#bb),c=void 0!==b.headers?b.headers:new k(a);if(a.clear(),c instanceof k){for(let{name:b,value:d}of c.rawValues())a.append(b,d,!1);a.cookies=c.cookies}else j(this.#bb,c)}let C=H.is.Request(a)?a.#be.body:null;if((null!=b.body||null!=C)&&("GET"===g.method||"HEAD"===g.method))throw TypeError("Request with GET/HEAD method cannot have body.");let D=null;if(null!=b.body){let[a,c]=e(b.body,g.keepalive);D=a,c&&!p(this.#bb).contains("content-type",!0)&&this.#bb.append("content-type",c,!0)}let E=D??C;if(null!=E&&null==E.source){if(null!=D&&null==b.duplex)throw TypeError("RequestInit: duplex option is required when sending a body.");if("same-origin"!==g.mode&&"cors"!==g.mode)throw TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');g.useCORSPreflightFlag=!0}let I=E;if(null==D&&null!=C){if(h(a.#be))throw TypeError("Cannot construct a Request with a Request object that has already been used.");let b=new TransformStream;C.stream.pipeThrough(b),I={source:C.source,length:C.length,stream:b.readable}}this.#be.body=I}get method(){return H.brandCheck(this,T),this.#be.method}get url(){return H.brandCheck(this,T),I(this.#be.url)}get headers(){return H.brandCheck(this,T),this.#bb}get destination(){return H.brandCheck(this,T),this.#be.destination}get referrer(){return(H.brandCheck(this,T),"no-referrer"===this.#be.referrer)?"":"client"===this.#be.referrer?"about:client":this.#be.referrer.toString()}get referrerPolicy(){return H.brandCheck(this,T),this.#be.referrerPolicy}get mode(){return H.brandCheck(this,T),this.#be.mode}get credentials(){return H.brandCheck(this,T),this.#be.credentials}get cache(){return H.brandCheck(this,T),this.#be.cache}get redirect(){return H.brandCheck(this,T),this.#be.redirect}get integrity(){return H.brandCheck(this,T),this.#be.integrity}get keepalive(){return H.brandCheck(this,T),this.#be.keepalive}get isReloadNavigation(){return H.brandCheck(this,T),this.#be.reloadNavigation}get isHistoryNavigation(){return H.brandCheck(this,T),this.#be.historyNavigation}get signal(){return H.brandCheck(this,T),this.#ck}get body(){return H.brandCheck(this,T),this.#be.body?this.#be.body.stream:null}get bodyUsed(){return H.brandCheck(this,T),!!this.#be.body&&r.isDisturbed(this.#be.body.stream)}get duplex(){return H.brandCheck(this,T),"half"}clone(){if(H.brandCheck(this,T),h(this.#be))throw TypeError("unusable");let a=_(this.#be),b=new AbortController;if(this.signal.aborted)b.abort(this.signal.reason);else{let a=Q.get(this.signal);void 0===a&&(a=new Set,Q.set(this.signal,a));let c=new WeakRef(b);a.add(c),r.addAbortListener(b.signal,R(c))}return aa(a,this.#cl,b.signal,m(this.#bb))}[s.inspect.custom](a,b){null===b.depth&&(b.depth=2),b.colors??=!0;let c={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${s.formatWithOptions(b,c)}`}static setRequestSignal(a,b){return a.#ck=b,a}static getRequestDispatcher(a){return a.#cl}static setRequestDispatcher(a,b){a.#cl=b}static setRequestHeaders(a,b){a.#bb=b}static getRequestState(a){return a.#be}static setRequestState(a,b){a.#be=b}}let{setRequestSignal:U,getRequestDispatcher:V,setRequestDispatcher:W,setRequestHeaders:X,getRequestState:Y,setRequestState:Z}=T;function $(a){return{method:a.method??"GET",localURLsOnly:a.localURLsOnly??!1,unsafeRequest:a.unsafeRequest??!1,body:a.body??null,client:a.client??null,reservedClient:a.reservedClient??null,replacesClientId:a.replacesClientId??"",window:a.window??"client",keepalive:a.keepalive??!1,serviceWorkers:a.serviceWorkers??"all",initiator:a.initiator??"",destination:a.destination??"",priority:a.priority??null,origin:a.origin??"client",policyContainer:a.policyContainer??"client",referrer:a.referrer??"client",referrerPolicy:a.referrerPolicy??"",mode:a.mode??"no-cors",useCORSPreflightFlag:a.useCORSPreflightFlag??!1,credentials:a.credentials??"same-origin",useCredentials:a.useCredentials??!1,cache:a.cache??"default",redirect:a.redirect??"follow",integrity:a.integrity??"",cryptoGraphicsNonceMetadata:a.cryptoGraphicsNonceMetadata??"",parserMetadata:a.parserMetadata??"",reloadNavigation:a.reloadNavigation??!1,historyNavigation:a.historyNavigation??!1,userActivation:a.userActivation??!1,taintedOrigin:a.taintedOrigin??!1,redirectCount:a.redirectCount??0,responseTainting:a.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:a.preventNoCacheCacheControlHeaderModification??!1,done:a.done??!1,timingAllowFailed:a.timingAllowFailed??!1,urlList:a.urlList,url:a.urlList[0],headersList:a.headersList?new k(a.headersList):new k}}function _(a){let b=$({...a,body:null});return null!=a.body&&(b.body=g(b,a.body)),b}function aa(a,b,c,d){let e=new T(J);Z(e,a),W(e,b),U(e,c);let f=new i(J);return X(e,f),o(f,a.headersList),l(f,d),e}Reflect.deleteProperty(T,"setRequestSignal"),Reflect.deleteProperty(T,"getRequestDispatcher"),Reflect.deleteProperty(T,"setRequestDispatcher"),Reflect.deleteProperty(T,"setRequestHeaders"),Reflect.deleteProperty(T,"getRequestState"),Reflect.deleteProperty(T,"setRequestState"),f(T,Y),Object.defineProperties(T.prototype,{method:E,url:E,headers:E,redirect:E,clone:E,signal:E,duplex:E,destination:E,body:E,bodyUsed:E,isHistoryNavigation:E,isReloadNavigation:E,keepalive:E,integrity:E,cache:E,credentials:E,attribute:E,referrerPolicy:E,referrer:E,mode:E,[Symbol.toStringTag]:{value:"Request",configurable:!0}}),H.is.Request=H.util.MakeTypeAssertion(T),H.converters.RequestInfo=function(a,b,c){return"string"==typeof a?H.converters.USVString(a):H.is.Request(a)?a:H.converters.USVString(a)},H.converters.RequestInit=H.dictionaryConverter([{key:"method",converter:H.converters.ByteString},{key:"headers",converter:H.converters.HeadersInit},{key:"body",converter:H.nullableConverter(H.converters.BodyInit)},{key:"referrer",converter:H.converters.USVString},{key:"referrerPolicy",converter:H.converters.DOMString,allowedValues:y},{key:"mode",converter:H.converters.DOMString,allowedValues:A},{key:"credentials",converter:H.converters.DOMString,allowedValues:B},{key:"cache",converter:H.converters.DOMString,allowedValues:C},{key:"redirect",converter:H.converters.DOMString,allowedValues:z},{key:"integrity",converter:H.converters.DOMString},{key:"keepalive",converter:H.converters.boolean},{key:"signal",converter:H.nullableConverter(a=>H.converters.AbortSignal(a,"RequestInit","signal"))},{key:"window",converter:H.converters.any},{key:"duplex",converter:H.converters.DOMString,allowedValues:D},{key:"dispatcher",converter:H.converters.any}]),a.exports={Request:T,makeRequest:$,fromInnerRequest:aa,cloneRequest:_,getRequestDispatcher:V,getRequestState:Y}},78946:a=>{"use strict";let b="undefined"!=typeof Buffer,c=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,d=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function e(a,e,g){null==g&&null!==e&&"object"==typeof e&&(g=e,e=void 0),b&&Buffer.isBuffer(a)&&(a=a.toString()),a&&65279===a.charCodeAt(0)&&(a=a.slice(1));let h=JSON.parse(a,e);if(null===h||"object"!=typeof h)return h;let i=g&&g.protoAction||"error",j=g&&g.constructorAction||"error";if("ignore"===i&&"ignore"===j)return h;if("ignore"!==i&&"ignore"!==j){if(!1===c.test(a)&&!1===d.test(a))return h}else if("ignore"!==i&&"ignore"===j){if(!1===c.test(a))return h}else if(!1===d.test(a))return h;return f(h,{protoAction:i,constructorAction:j,safe:g&&g.safe})}function f(a,{protoAction:b="error",constructorAction:c="error",safe:d}={}){let e=[a];for(;e.length;){let a=e;for(let f of(e=[],a)){if("ignore"!==b&&Object.prototype.hasOwnProperty.call(f,"__proto__")){if(!0===d)return null;if("error"===b)throw SyntaxError("Object contains forbidden prototype property");delete f.__proto__}if("ignore"!==c&&Object.prototype.hasOwnProperty.call(f,"constructor")&&Object.prototype.hasOwnProperty.call(f.constructor,"prototype")){if(!0===d)return null;if("error"===c)throw SyntaxError("Object contains forbidden prototype property");delete f.constructor}for(let a in f){let b=f[a];b&&"object"==typeof b&&e.push(b)}}}return a}function g(a,b,c){let d=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return e(a,b,c)}finally{Error.stackTraceLimit=d}}function h(a,b){let c=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return e(a,b,{safe:!0})}catch(a){return null}finally{Error.stackTraceLimit=c}}a.exports=g,a.exports.default=g,a.exports.parse=g,a.exports.safeParse=h,a.exports.scan=f},79114:(a,b,c)=>{"use strict";c.d(b,{o:()=>k});var d=c(65029),e=c(38200),f=c(76770),g=c(8615),h=c(84670),i=c(37492),j=c(42526);let k=async function({collection:a,req:b,returning:c,select:k,where:l}){let m,o=await (0,j.x)(this,b),p=this.payload.collections[a].config,q=this.tableNameMap.get(e(p.slug)),{joins:r,selectFields:s,where:t}=(0,g.Z)({adapter:this,fields:p.flattenedFields,locale:b?.locale,tableName:q,where:l}),u=await (0,h.t)({adapter:this,db:o,joins:r,query:({query:a})=>a.limit(1),selectFields:s,tableName:q,where:t});if(u?.[0]?.id)m=await o.query[q].findFirst({where:(0,d.eq)(this.tables[q].id,u[0].id)});else{let a=(0,f.c)({adapter:this,depth:0,fields:p.flattenedFields,joinQuery:!1,select:k,tableName:q});a.where=t,m=await o.query[q].findFirst(a)}if(!m)return null;let v=!1===c?null:(0,i.p)({adapter:this,config:this.payload.config,data:m,fields:p.flattenedFields,joinQuery:!1,tableName:q});return await this.deleteWhere({db:o,tableName:q,where:(0,d.eq)(this.tables[q].id,m.id)}),v}},79351:(a,b,c)=>{"use strict";let d=c(27015);a.exports=function({maxRedirections:a}={}){return b=>function(c,e){let{maxRedirections:f=a,...g}=c;if(null==f||0===f)return b(c,e);let h={...g,maxRedirections:0},i=new d(b,f,h,e);return b(h,i)}}},79357:(a,b,c)=>{"use strict";c.d(b,{N:()=>i});var d=c(45139),e=c(38200),f=c(8615),g=c(42788),h=c(42526);async function i({id:a,global:b,locale:c,req:i,returning:j,select:k,versionData:l,where:m}){let o=await (0,h.x)(this,i),p=this.payload.globals.config.find(({slug:a})=>a===b),q=m||{id:{equals:a}},r=this.tableNameMap.get(`_${e(p.slug)}${this.versionsSuffix}`),s=(0,d.p)(this.payload.config,p,!0),{where:t}=(0,f.Z)({adapter:this,fields:s,locale:c,tableName:r,where:q}),u=await (0,g.q)({id:a,adapter:this,data:l,db:o,fields:s,ignoreResult:!1===j,operation:"update",req:i,select:k,tableName:r,where:t});return!1===j?null:u}},79464:(a,b,c)=>{"use strict";c.d(b,{l:()=>f,t:()=>g});var d=c(579),e=c(7916);function f(a,b){return new g(a,b)}class g{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(a,b){this.input=a,this.context=b}async build(){let{hostname:a,protocol:b="https",port:c,path:e}=await this.context.endpoint();for(let a of(this.path=e,this.resolvePathStack))a(this.path);return new d.K({protocol:b,hostname:this.hostname||a,port:c,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(a){return this.hostname=a,this}bp(a){return this.resolvePathStack.push(b=>{this.path=`${b?.endsWith("/")?b.slice(0,-1):b||""}`+a}),this}p(a,b,c,d){return this.resolvePathStack.push(f=>{this.path=(0,e.u)(f,this.input,a,b,c,d)}),this}h(a){return this.headers=a,this}q(a){return this.query=a,this}b(a){return this.body=a,this}m(a){return this.method=a,this}}},79499:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(86397),e=c(49943),f=c(8358);b.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,d._)`{allowedValue: ${a}}`},code(a){let{gen:b,data:c,$data:g,schemaCode:h,schema:i}=a;g||i&&"object"==typeof i?a.fail$data((0,d._)`!${(0,e.useFunc)(b,f.default)}(${c}, ${h})`):a.fail((0,d._)`${i} !== ${c}`)}}},79634:(a,b,c)=>{"use strict";c.d(b,{K4:()=>h,OC:()=>f,OS:()=>d,e:()=>g,rl:()=>e});let d=a=>function(b){return g(b)&&b.expiration.getTime()-Date.now()<a},e=3e5,f=d(3e5),g=a=>void 0!==a.expiration,h=(a,b,c)=>{let d,e,f;if(void 0===a)return;let g="function"!=typeof a?async()=>Promise.resolve(a):a,h=!1,i=async a=>{e||(e=g(a));try{d=await e,f=!0,h=!1}finally{e=void 0}return d};return void 0===b?async a=>((!f||a?.forceRefresh)&&(d=await i(a)),d):async a=>((!f||a?.forceRefresh)&&(d=await i(a)),h||(c(d)?b(d)&&await i(a):h=!0),d)}},79771:(a,b,c)=>{"use strict";let d;a=c.nmd(a);let{Buffer:e}=c(4573),f="AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAn9/AGABfwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAzQzBQYAAAMAAAAAAAADAQMAAwMDAAACAAAAAAICAgICAgICAgIBAQEBAQEBAQEDAAADAAAABAUBcAESEgUDAQACBggBfwFBgNgECwfFBygGbWVtb3J5AgALX2luaXRpYWxpemUACBlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQACRhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUANgxsbGh0dHBfYWxsb2MACwZtYWxsb2MAOAtsbGh0dHBfZnJlZQAMBGZyZWUADA9sbGh0dHBfZ2V0X3R5cGUADRVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADhVsbGh0dHBfZ2V0X2h0dHBfbWlub3IADxFsbGh0dHBfZ2V0X21ldGhvZAAQFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAERJsbGh0dHBfZ2V0X3VwZ3JhZGUAEgxsbGh0dHBfcmVzZXQAEw5sbGh0dHBfZXhlY3V0ZQAUFGxsaHR0cF9zZXR0aW5nc19pbml0ABUNbGxodHRwX2ZpbmlzaAAWDGxsaHR0cF9wYXVzZQAXDWxsaHR0cF9yZXN1bWUAGBtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGRBsbGh0dHBfZ2V0X2Vycm5vABoXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AGxdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAcFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB0RbGxodHRwX2Vycm5vX25hbWUAHhJsbGh0dHBfbWV0aG9kX25hbWUAHxJsbGh0dHBfc3RhdHVzX25hbWUAIBpsbGh0dHBfc2V0X2xlbmllbnRfaGVhZGVycwAhIWxsaHR0cF9zZXRfbGVuaWVudF9jaHVua2VkX2xlbmd0aAAiHWxsaHR0cF9zZXRfbGVuaWVudF9rZWVwX2FsaXZlACMkbGxodHRwX3NldF9sZW5pZW50X3RyYW5zZmVyX2VuY29kaW5nACQabGxodHRwX3NldF9sZW5pZW50X3ZlcnNpb24AJSNsbGh0dHBfc2V0X2xlbmllbnRfZGF0YV9hZnRlcl9jbG9zZQAmJ2xsaHR0cF9zZXRfbGVuaWVudF9vcHRpb25hbF9sZl9hZnRlcl9jcgAnLGxsaHR0cF9zZXRfbGVuaWVudF9vcHRpb25hbF9jcmxmX2FmdGVyX2NodW5rACgobGxodHRwX3NldF9sZW5pZW50X29wdGlvbmFsX2NyX2JlZm9yZV9sZgApKmxsaHR0cF9zZXRfbGVuaWVudF9zcGFjZXNfYWZ0ZXJfY2h1bmtfc2l6ZQAqGGxsaHR0cF9tZXNzYWdlX25lZWRzX2VvZgA1CRcBAEEBCxEBAgMEBQoGBzEzMi0uLCsvMAq8ywIzFgBB/NMAKAIABEAAC0H80wBBATYCAAsUACAAEDcgACACNgI4IAAgAToAKAsUACAAIAAvATQgAC0AMCAAEDYQAAseAQF/QcAAEDkiARA3IAFBgAg2AjggASAAOgAoIAELjwwBB38CQCAARQ0AIABBCGsiASAAQQRrKAIAIgBBeHEiBGohBQJAIABBAXENACAAQQNxRQ0BIAEgASgCACIAayIBQZDUACgCAEkNASAAIARqIQQCQAJAQZTUACgCACABRwRAIABB/wFNBEAgAEEDdiEDIAEoAggiACABKAIMIgJGBEBBgNQAQYDUACgCAEF+IAN3cTYCAAwFCyACIAA2AgggACACNgIMDAQLIAEoAhghBiABIAEoAgwiAEcEQCAAIAEoAggiAjYCCCACIAA2AgwMAwsgAUEUaiIDKAIAIgJFBEAgASgCECICRQ0CIAFBEGohAwsDQCADIQcgAiIAQRRqIgMoAgAiAg0AIABBEGohAyAAKAIQIgINAAsgB0EANgIADAILIAUoAgQiAEEDcUEDRw0CIAUgAEF+cTYCBEGI1AAgBDYCACAFIAQ2AgAgASAEQQFyNgIEDAMLQQAhAAsgBkUNAAJAIAEoAhwiAkECdEGw1gBqIgMoAgAgAUYEQCADIAA2AgAgAA0BQYTUAEGE1AAoAgBBfiACd3E2AgAMAgsgBkEQQRQgBigCECABRhtqIAA2AgAgAEUNAQsgACAGNgIYIAEoAhAiAgRAIAAgAjYCECACIAA2AhgLIAFBFGooAgAiAkUNACAAQRRqIAI2AgAgAiAANgIYCyABIAVPDQAgBSgCBCIAQQFxRQ0AAkACQAJAAkAgAEECcUUEQEGY1AAoAgAgBUYEQEGY1AAgATYCAEGM1ABBjNQAKAIAIARqIgA2AgAgASAAQQFyNgIEIAFBlNQAKAIARw0GQYjUAEEANgIAQZTUAEEANgIADAYLQZTUACgCACAFRgRAQZTUACABNgIAQYjUAEGI1AAoAgAgBGoiADYCACABIABBAXI2AgQgACABaiAANgIADAYLIABBeHEgBGohBCAAQf8BTQRAIABBA3YhAyAFKAIIIgAgBSgCDCICRgRAQYDUAEGA1AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyAFKAIYIQYgBSAFKAIMIgBHBEBBkNQAKAIAGiAAIAUoAggiAjYCCCACIAA2AgwMAwsgBUEUaiIDKAIAIgJFBEAgBSgCECICRQ0CIAVBEGohAwsDQCADIQcgAiIAQRRqIgMoAgAiAg0AIABBEGohAyAAKAIQIgINAAsgB0EANgIADAILIAUgAEF+cTYCBCABIARqIAQ2AgAgASAEQQFyNgIEDAMLQQAhAAsgBkUNAAJAIAUoAhwiAkECdEGw1gBqIgMoAgAgBUYEQCADIAA2AgAgAA0BQYTUAEGE1AAoAgBBfiACd3E2AgAMAgsgBkEQQRQgBigCECAFRhtqIAA2AgAgAEUNAQsgACAGNgIYIAUoAhAiAgRAIAAgAjYCECACIAA2AhgLIAVBFGooAgAiAkUNACAAQRRqIAI2AgAgAiAANgIYCyABIARqIAQ2AgAgASAEQQFyNgIEIAFBlNQAKAIARw0AQYjUACAENgIADAELIARB/wFNBEAgBEF4cUGo1ABqIQACf0GA1AAoAgAiAkEBIARBA3Z0IgNxRQRAQYDUACACIANyNgIAIAAMAQsgACgCCAsiAiABNgIMIAAgATYCCCABIAA2AgwgASACNgIIDAELQR8hAiAEQf///wdNBEAgBEEmIARBCHZnIgBrdkEBcSAAQQF0a0E+aiECCyABIAI2AhwgAUIANwIQIAJBAnRBsNYAaiEAAkBBhNQAKAIAIgNBASACdCIHcUUEQCAAIAE2AgBBhNQAIAMgB3I2AgAgASAANgIYIAEgATYCCCABIAE2AgwMAQsgBEEZIAJBAXZrQQAgAkEfRxt0IQIgACgCACEAAkADQCAAIgMoAgRBeHEgBEYNASACQR12IQAgAkEBdCECIAMgAEEEcWpBEGoiBygCACIADQALIAcgATYCACABIAM2AhggASABNgIMIAEgATYCCAwBCyADKAIIIgAgATYCDCADIAE2AgggAUEANgIYIAEgAzYCDCABIAA2AggLQaDUAEGg1AAoAgBBAWsiAEF/IAAbNgIACwsHACAALQAoCwcAIAAtACoLBwAgAC0AKwsHACAALQApCwcAIAAvATQLBwAgAC0AMAtAAQR/IAAoAhghASAALwEuIQIgAC0AKCEDIAAoAjghBCAAEDcgACAENgI4IAAgAzoAKCAAIAI7AS4gACABNgIYC8X4AQIHfwN+IAEgAmohBAJAIAAiAygCDCIADQAgAygCBARAIAMgATYCBAsjAEEQayIJJAACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAygCHCICQQFrDuwB7gEB6AECAwQFBgcICQoLDA0ODxAREucBE+YBFBXlARYX5AEYGRobHB0eHyDvAe0BIeMBIiMkJSYnKCkqK+IBLC0uLzAxMuEB4AEzNN8B3gE1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk/pAVBRUlPdAdwBVNsBVdoBVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHZAdgBxgHXAccB1gHIAckBygHLAcwBzQHOAc8B0AHRAdIB0wHUAQDqAQtBAAzUAQtBDgzTAQtBDQzSAQtBDwzRAQtBEAzQAQtBEQzPAQtBEgzOAQtBEwzNAQtBFAzMAQtBFQzLAQtBFgzKAQtBFwzJAQtBGAzIAQtBGQzHAQtBGgzGAQtBGwzFAQtBHAzEAQtBHQzDAQtBHgzCAQtBHwzBAQtBCAzAAQtBIAy/AQtBIgy+AQtBIQy9AQtBBwy8AQtBIwy7AQtBJAy6AQtBJQy5AQtBJgy4AQtBJwy3AQtBzgEMtgELQSgMtQELQSkMtAELQSoMswELQSsMsgELQc8BDLEBC0EtDLABC0EuDK8BC0EvDK4BC0EwDK0BC0ExDKwBC0EyDKsBC0EzDKoBC0HQAQypAQtBNAyoAQtBOAynAQtBDAymAQtBNQylAQtBNgykAQtBNwyjAQtBPQyiAQtBOQyhAQtB0QEMoAELQQsMnwELQT4MngELQToMnQELQQoMnAELQTsMmwELQTwMmgELQdIBDJkBC0HAAAyYAQtBPwyXAQtBwQAMlgELQQkMlQELQSwMlAELQcIADJMBC0HDAAySAQtBxAAMkQELQcUADJABC0HGAAyPAQtBxwAMjgELQcgADI0BC0HJAAyMAQtBygAMiwELQcsADIoBC0HMAAyJAQtBzQAMiAELQc4ADIcBC0HPAAyGAQtB0AAMhQELQdEADIQBC0HSAAyDAQtB1AAMggELQdMADIEBC0HVAAyAAQtB1gAMfwtB1wAMfgtB2AAMfQtB2QAMfAtB2gAMewtB2wAMegtB0wEMeQtB3AAMeAtB3QAMdwtBBgx2C0HeAAx1C0EFDHQLQd8ADHMLQQQMcgtB4AAMcQtB4QAMcAtB4gAMbwtB4wAMbgtBAwxtC0HkAAxsC0HlAAxrC0HmAAxqC0HoAAxpC0HnAAxoC0HpAAxnC0HqAAxmC0HrAAxlC0HsAAxkC0ECDGMLQe0ADGILQe4ADGELQe8ADGALQfAADF8LQfEADF4LQfIADF0LQfMADFwLQfQADFsLQfUADFoLQfYADFkLQfcADFgLQfgADFcLQfkADFYLQfoADFULQfsADFQLQfwADFMLQf0ADFILQf4ADFELQf8ADFALQYABDE8LQYEBDE4LQYIBDE0LQYMBDEwLQYQBDEsLQYUBDEoLQYYBDEkLQYcBDEgLQYgBDEcLQYkBDEYLQYoBDEULQYsBDEQLQYwBDEMLQY0BDEILQY4BDEELQY8BDEALQZABDD8LQZEBDD4LQZIBDD0LQZMBDDwLQZQBDDsLQZUBDDoLQZYBDDkLQZcBDDgLQZgBDDcLQZkBDDYLQZoBDDULQZsBDDQLQZwBDDMLQZ0BDDILQZ4BDDELQZ8BDDALQaABDC8LQaEBDC4LQaIBDC0LQaMBDCwLQaQBDCsLQaUBDCoLQaYBDCkLQacBDCgLQagBDCcLQakBDCYLQaoBDCULQasBDCQLQawBDCMLQa0BDCILQa4BDCELQa8BDCALQbABDB8LQbEBDB4LQbIBDB0LQbMBDBwLQbQBDBsLQbUBDBoLQbYBDBkLQbcBDBgLQbgBDBcLQQEMFgtBuQEMFQtBugEMFAtBuwEMEwtBvAEMEgtBvQEMEQtBvgEMEAtBvwEMDwtBwAEMDgtBwQEMDQtBwgEMDAtBwwEMCwtBxAEMCgtBxQEMCQtBxgEMCAtB1AEMBwtBxwEMBgtByAEMBQtByQEMBAtBygEMAwtBywEMAgtBzQEMAQtBzAELIQIDQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAMCfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJ/AkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAMCfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCACDtQBAAECAwQFBgcICQoLDA0ODxARFBUWFxgZGhscHR4fICEjJCUnKCmIA4cDhQOEA/wC9QLuAusC6ALmAuMC4ALfAt0C2wLWAtUC1ALTAtICygLJAsgCxwLGAsUCxALDAr0CvAK6ArkCuAK3ArYCtQK0ArICsQKsAqoCqAKnAqYCpQKkAqMCogKhAqACnwKbApoCmQKYApcCkAKIAoQCgwKCAvkB9gH1AfQB8wHyAfEB8AHvAe0B6wHoAeMB4QHgAd8B3gHdAdwB2wHaAdkB2AHXAdYB1QHUAdIB0QHQAc8BzgHNAcwBywHKAckByAHHAcYBxQHEAcMBwgHBAcABvwG+Ab0BvAG7AboBuQG4AbcBtgG1AbQBswGyAbEBsAGvAa4BrQGsAasBqgGpAagBpwGmAaUBpAGjAaIBoQGgAZ8BngGdAZwBmwGaAZcBlgGRAZABjwGOAY0BjAGLAYoBiQGIAYUBhAGDAX59fHt6d3Z1LFFSU1RVVgsgASAERw1zQewBIQIMqQMLIAEgBEcNkAFB0QEhAgyoAwsgASAERw3pAUGEASECDKcDCyABIARHDfQBQfoAIQIMpgMLIAEgBEcNggJB9QAhAgylAwsgASAERw2JAkHzACECDKQDCyABIARHDYwCQfEAIQIMowMLIAEgBEcNHkEeIQIMogMLIAEgBEcNGUEYIQIMoQMLIAEgBEcNuAJBzQAhAgygAwsgASAERw3DAkHGACECDJ8DCyABIARHDcQCQcMAIQIMngMLIAEgBEcNygJBOCECDJ0DCyADLQAwQQFGDZUDDPICC0EAIQACQAJAAkAgAy0AKkUNACADLQArRQ0AIAMvATIiAkECcUUNAQwCCyADLwEyIgJBAXFFDQELQQEhACADLQAoQQFGDQAgAy8BNCIGQeQAa0HkAEkNACAGQcwBRg0AIAZBsAJGDQAgAkHAAHENAEEAIQAgAkGIBHFBgARGDQAgAkEocUEARyEACyADQQA7ATIgA0EAOgAxAkAgAEUEQCADQQA6ADEgAy0ALkEEcQ0BDJwDCyADQgA3AyALIANBADoAMSADQQE6ADYMSQtBACEAAkAgAygCOCICRQ0AIAIoAiwiAkUNACADIAIRAAAhAAsgAEUNSSAAQRVHDWMgA0EENgIcIAMgATYCFCADQb0aNgIQIANBFTYCDEEAIQIMmgMLIAEgBEYEQEEGIQIMmgMLIAEtAABBCkYNGQwBCyABIARGBEBBByECDJkDCwJAIAEtAABBCmsOBAIBAQABCyABQQFqIQFBECECDP4CCyADLQAuQYABcQ0YQQAhAiADQQA2AhwgAyABNgIUIANBqR82AhAgA0ECNgIMDJcDCyABQQFqIQEgA0Evai0AAEEBcQ0XQQAhAiADQQA2AhwgAyABNgIUIANBhB82AhAgA0EZNgIMDJYDCyADIAMpAyAiDCAEIAFrrSIKfSILQgAgCyAMWBs3AyAgCiAMWg0ZQQghAgyVAwsgASAERwRAIANBCTYCCCADIAE2AgRBEiECDPsCC0EJIQIMlAMLIAMpAyBQDZwCDEQLIAEgBEYEQEELIQIMkwMLIAEtAABBCkcNFyABQQFqIQEMGAsgA0Evai0AAEEBcUUNGgwnC0EAIQACQCADKAI4IgJFDQAgAigCSCICRQ0AIAMgAhEAACEACyAADRoMQwtBACEAAkAgAygCOCICRQ0AIAIoAkgiAkUNACADIAIRAAAhAAsgAA0bDCULQQAhAAJAIAMoAjgiAkUNACACKAJIIgJFDQAgAyACEQAAIQALIAANHAwzCyADQS9qLQAAQQFxRQ0dDCMLQQAhAAJAIAMoAjgiAkUNACACKAJMIgJFDQAgAyACEQAAIQALIAANHQxDC0EAIQACQCADKAI4IgJFDQAgAigCTCICRQ0AIAMgAhEAACEACyAADR4MIQsgASAERgRAQRMhAgyLAwsCQCABLQAAIgBBCmsOBCAkJAAjCyABQQFqIQEMIAtBACEAAkAgAygCOCICRQ0AIAIoAkwiAkUNACADIAIRAAAhAAsgAA0jDEMLIAEgBEYEQEEWIQIMiQMLIAEtAABB8D9qLQAAQQFHDSQM7QILAkADQCABLQAAQeA5ai0AACIAQQFHBEACQCAAQQJrDgIDACgLIAFBAWohAUEfIQIM8AILIAQgAUEBaiIBRw0AC0EYIQIMiAMLIAMoAgQhAEEAIQIgA0EANgIEIAMgACABQQFqIgEQMyIADSIMQgtBACEAAkAgAygCOCICRQ0AIAIoAkwiAkUNACADIAIRAAAhAAsgAA0kDCsLIAEgBEYEQEEcIQIMhgMLIANBCjYCCCADIAE2AgRBACEAAkAgAygCOCICRQ0AIAIoAkgiAkUNACADIAIRAAAhAAsgAA0mQSIhAgzrAgsgASAERwRAA0AgAS0AAEHgO2otAAAiAEEDRwRAIABBAWsOBRkbJ+wCJicLIAQgAUEBaiIBRw0AC0EbIQIMhQMLQRshAgyEAwsDQCABLQAAQeA9ai0AACIAQQNHBEAgAEEBaw4FEBIoFCcoCyAEIAFBAWoiAUcNAAtBHiECDIMDCyABIARHBEAgA0ELNgIIIAMgATYCBEEHIQIM6QILQR8hAgyCAwsgASAERgRAQSAhAgyCAwsCQCABLQAAQQ1rDhQvQEBAQEBAQEBAQEBAQEBAQEBAAEALQQAhAiADQQA2AhwgA0G3CzYCECADQQI2AgwgAyABQQFqNgIUDIEDCyADQS9qIQIDQCABIARGBEBBISECDIIDCwJAAkACQCABLQAAIgBBCWsOGAIAKioBKioqKioqKioqKioqKioqKioqAigLIAFBAWohASADQS9qLQAAQQFxRQ0LDBkLIAFBAWohAQwYCyABQQFqIQEgAi0AAEECcQ0AC0EAIQIgA0EANgIcIAMgATYCFCADQc4UNgIQIANBDDYCDAyAAwsgAUEBaiEBC0EAIQACQCADKAI4IgJFDQAgAigCVCICRQ0AIAMgAhEAACEACyAADQEM0QILIANCADcDIAw8CyAAQRVGBEAgA0EkNgIcIAMgATYCFCADQYYaNgIQIANBFTYCDEEAIQIM/QILQQAhAiADQQA2AhwgAyABNgIUIANB4g02AhAgA0EUNgIMDPwCCyADKAIEIQBBACECIANBADYCBCADIAAgASAMp2oiARAxIgBFDSsgA0EHNgIcIAMgATYCFCADIAA2AgwM+wILIAMtAC5BwABxRQ0BC0EAIQACQCADKAI4IgJFDQAgAigCUCICRQ0AIAMgAhEAACEACyAARQ0rIABBFUYEQCADQQo2AhwgAyABNgIUIANB8Rg2AhAgA0EVNgIMQQAhAgz6AgtBACECIANBADYCHCADIAE2AhQgA0GLDDYCECADQRM2AgwM+QILQQAhAiADQQA2AhwgAyABNgIUIANBsRQ2AhAgA0ECNgIMDPgCC0EAIQIgA0EANgIcIAMgATYCFCADQYwUNgIQIANBGTYCDAz3AgtBACECIANBADYCHCADIAE2AhQgA0HRHDYCECADQRk2AgwM9gILIABBFUYNPUEAIQIgA0EANgIcIAMgATYCFCADQaIPNgIQIANBIjYCDAz1AgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMiIARQ0oIANBDTYCHCADIAE2AhQgAyAANgIMDPQCCyAAQRVGDTpBACECIANBADYCHCADIAE2AhQgA0GiDzYCECADQSI2AgwM8wILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDIiAEUEQCABQQFqIQEMKAsgA0EONgIcIAMgADYCDCADIAFBAWo2AhQM8gILIABBFUYNN0EAIQIgA0EANgIcIAMgATYCFCADQaIPNgIQIANBIjYCDAzxAgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMiIARQRAIAFBAWohAQwnCyADQQ82AhwgAyAANgIMIAMgAUEBajYCFAzwAgtBACECIANBADYCHCADIAE2AhQgA0HoFjYCECADQRk2AgwM7wILIABBFUYNM0EAIQIgA0EANgIcIAMgATYCFCADQc4MNgIQIANBIzYCDAzuAgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMyIARQ0lIANBETYCHCADIAE2AhQgAyAANgIMDO0CCyAAQRVGDTBBACECIANBADYCHCADIAE2AhQgA0HODDYCECADQSM2AgwM7AILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDMiAEUEQCABQQFqIQEMJQsgA0ESNgIcIAMgADYCDCADIAFBAWo2AhQM6wILIANBL2otAABBAXFFDQELQRUhAgzPAgtBACECIANBADYCHCADIAE2AhQgA0HoFjYCECADQRk2AgwM6AILIABBO0cNACABQQFqIQEMDAtBACECIANBADYCHCADIAE2AhQgA0GYFzYCECADQQI2AgwM5gILIABBFUYNKEEAIQIgA0EANgIcIAMgATYCFCADQc4MNgIQIANBIzYCDAzlAgsgA0EUNgIcIAMgATYCFCADIAA2AgwM5AILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDMiAEUEQCABQQFqIQEM3AILIANBFTYCHCADIAA2AgwgAyABQQFqNgIUDOMCCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDNoCCyADQRc2AhwgAyAANgIMIAMgAUEBajYCFAziAgsgAEEVRg0jQQAhAiADQQA2AhwgAyABNgIUIANBzgw2AhAgA0EjNgIMDOECCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDB0LIANBGTYCHCADIAA2AgwgAyABQQFqNgIUDOACCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDNYCCyADQRo2AhwgAyAANgIMIAMgAUEBajYCFAzfAgsgAEEVRg0fQQAhAiADQQA2AhwgAyABNgIUIANBog82AhAgA0EiNgIMDN4CCyADKAIEIQBBACECIANBADYCBCADIAAgARAyIgBFBEAgAUEBaiEBDBsLIANBHDYCHCADIAA2AgwgAyABQQFqNgIUDN0CCyADKAIEIQBBACECIANBADYCBCADIAAgARAyIgBFBEAgAUEBaiEBDNICCyADQR02AhwgAyAANgIMIAMgAUEBajYCFAzcAgsgAEE7Rw0BIAFBAWohAQtBJCECDMACC0EAIQIgA0EANgIcIAMgATYCFCADQc4UNgIQIANBDDYCDAzZAgsgASAERwRAA0AgAS0AAEEgRw3xASAEIAFBAWoiAUcNAAtBLCECDNkCC0EsIQIM2AILIAEgBEYEQEE0IQIM2AILAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0E0IQIM2QILIAMoAgQhACADQQA2AgQgAyAAIAEQMCIARQ2MAiADQTI2AhwgAyABNgIUIAMgADYCDEEAIQIM2AILIAMoAgQhACADQQA2AgQgAyAAIAEQMCIARQRAIAFBAWohAQyMAgsgA0EyNgIcIAMgADYCDCADIAFBAWo2AhRBACECDNcCCyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE5IQIMwAILIAMpAyAiC0KZs+bMmbPmzBlWDQEgAyALQgp+Igo3AyAgCiAArUL/AYMiC0J/hVYNASADIAogC3w3AyAgBCABQQFqIgFHDQALQcAAIQIM2AILIAMoAgQhACADQQA2AgQgAyAAIAFBAWoiARAwIgANFwzJAgtBwAAhAgzWAgsgASAERgRAQckAIQIM1gILAkADQAJAIAEtAABBCWsOGAACjwKPApMCjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CAI8CCyAEIAFBAWoiAUcNAAtByQAhAgzWAgsgAUEBaiEBIANBL2otAABBAXENjwIgA0EANgIcIAMgATYCFCADQekPNgIQIANBCjYCDEEAIQIM1QILIAEgBEcEQANAIAEtAAAiAEEgRwRAAkACQAJAIABByABrDgsAAc0BzQHNAc0BzQHNAc0BzQECzQELIAFBAWohAUHZACECDL8CCyABQQFqIQFB2gAhAgy+AgsgAUEBaiEBQdsAIQIMvQILIAQgAUEBaiIBRw0AC0HuACECDNUCC0HuACECDNQCCyADQQI6ACgMMAtBACECIANBADYCHCADQbcLNgIQIANBAjYCDCADIAFBAWo2AhQM0gILQQAhAgy3AgtBDSECDLYCC0ERIQIMtQILQRMhAgy0AgtBFCECDLMCC0EWIQIMsgILQRchAgyxAgtBGCECDLACC0EZIQIMrwILQRohAgyuAgtBGyECDK0CC0EcIQIMrAILQR0hAgyrAgtBHiECDKoCC0EgIQIMqQILQSEhAgyoAgtBIyECDKcCC0EnIQIMpgILIANBPTYCHCADIAE2AhQgAyAANgIMQQAhAgy/AgsgA0EbNgIcIAMgATYCFCADQY8bNgIQIANBFTYCDEEAIQIMvgILIANBIDYCHCADIAE2AhQgA0GeGTYCECADQRU2AgxBACECDL0CCyADQRM2AhwgAyABNgIUIANBnhk2AhAgA0EVNgIMQQAhAgy8AgsgA0ELNgIcIAMgATYCFCADQZ4ZNgIQIANBFTYCDEEAIQIMuwILIANBEDYCHCADIAE2AhQgA0GeGTYCECADQRU2AgxBACECDLoCCyADQSA2AhwgAyABNgIUIANBjxs2AhAgA0EVNgIMQQAhAgy5AgsgA0ELNgIcIAMgATYCFCADQY8bNgIQIANBFTYCDEEAIQIMuAILIANBDDYCHCADIAE2AhQgA0GPGzYCECADQRU2AgxBACECDLcCC0EAIQIgA0EANgIcIAMgATYCFCADQa8ONgIQIANBEjYCDAy2AgsCQANAAkAgAS0AAEEKaw4EAAICAAILIAQgAUEBaiIBRw0AC0HsASECDLYCCwJAAkAgAy0ANkEBRw0AQQAhAAJAIAMoAjgiAkUNACACKAJYIgJFDQAgAyACEQAAIQALIABFDQAgAEEVRw0BIANB6wE2AhwgAyABNgIUIANB4hg2AhAgA0EVNgIMQQAhAgy3AgtBzAEhAgycAgsgA0EANgIcIAMgATYCFCADQfELNgIQIANBHzYCDEEAIQIMtQILAkACQCADLQAoQQFrDgIEAQALQcsBIQIMmwILQcQBIQIMmgILIANBAjoAMUEAIQACQCADKAI4IgJFDQAgAigCACICRQ0AIAMgAhEAACEACyAARQRAQc0BIQIMmgILIABBFUcEQCADQQA2AhwgAyABNgIUIANBrAw2AhAgA0EQNgIMQQAhAgy0AgsgA0HqATYCHCADIAE2AhQgA0GHGTYCECADQRU2AgxBACECDLMCCyABIARGBEBB6QEhAgyzAgsgAS0AAEHIAEYNASADQQE6ACgLQbYBIQIMlwILQcoBIQIMlgILIAEgBEcEQCADQQw2AgggAyABNgIEQckBIQIMlgILQegBIQIMrwILIAEgBEYEQEHnASECDK8CCyABLQAAQcgARw0EIAFBAWohAUHIASECDJQCCyABIARGBEBB5gEhAgyuAgsCQAJAIAEtAABBxQBrDhAABQUFBQUFBQUFBQUFBQUBBQsgAUEBaiEBQcYBIQIMlAILIAFBAWohAUHHASECDJMCC0HlASECIAEgBEYNrAIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB99MAai0AAEcNAyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMrQILIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARAtIgBFBEBB1AEhAgyTAgsgA0HkATYCHCADIAE2AhQgAyAANgIMQQAhAgysAgtB4wEhAiABIARGDasCIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQfXTAGotAABHDQIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADKwCCyADQYEEOwEoIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARAtIgANAwwCCyADQQA2AgALQQAhAiADQQA2AhwgAyABNgIUIANB0B42AhAgA0EINgIMDKkCC0HFASECDI4CCyADQeIBNgIcIAMgATYCFCADIAA2AgxBACECDKcCC0EAIQACQCADKAI4IgJFDQAgAigCOCICRQ0AIAMgAhEAACEACyAARQ1lIABBFUcEQCADQQA2AhwgAyABNgIUIANB1A42AhAgA0EgNgIMQQAhAgynAgsgA0GFATYCHCADIAE2AhQgA0HXGjYCECADQRU2AgxBACECDKYCC0HhASECIAQgASIARg2lAiAEIAFrIAMoAgAiAWohBSAAIAFrQQRqIQYCQANAIAAtAAAgAUHw0wBqLQAARw0BIAFBBEYNAyABQQFqIQEgBCAAQQFqIgBHDQALIAMgBTYCAAymAgsgA0EANgIcIAMgADYCFCADQYQ3NgIQIANBCDYCDCADQQA2AgBBACECDKUCCyABIARHBEAgA0ENNgIIIAMgATYCBEHCASECDIsCC0HgASECDKQCCyADQQA2AgAgBkEBaiEBC0HDASECDIgCCyABIARGBEBB3wEhAgyiAgsgAS0AAEEwayIAQf8BcUEKSQRAIAMgADoAKiABQQFqIQFBwQEhAgyIAgsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYgCIANB3gE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILIAEgBEYEQEHdASECDKECCwJAIAEtAABBLkYEQCABQQFqIQEMAQsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYkCIANB3AE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILQcABIQIMhgILIAEgBEYEQEHbASECDKACC0EAIQBBASEFQQEhB0EAIQICQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQCABLQAAQTBrDgoKCQABAgMEBQYICwtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshAkEAIQVBACEHDAILQQkhAkEBIQBBACEFQQAhBwwBC0EAIQVBASECCyADIAI6ACsgAUEBaiEBAkACQCADLQAuQRBxDQACQAJAAkAgAy0AKg4DAQACBAsgB0UNAwwCCyAADQEMAgsgBUUNAQsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDQIgA0HYATYCHCADIAE2AhQgAyAANgIMQQAhAgyiAgsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYsCIANB2QE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILIAMoAgQhACADQQA2AgQgAyAAIAEQLiIARQ2JAiADQdoBNgIcIAMgATYCFCADIAA2AgwMoAILQb8BIQIMhQILQQAhAAJAIAMoAjgiAkUNACACKAI8IgJFDQAgAyACEQAAIQALAkAgAARAIABBFUYNASADQQA2AhwgAyABNgIUIANBnA02AhAgA0EhNgIMQQAhAgygAgtBvgEhAgyFAgsgA0HXATYCHCADIAE2AhQgA0HWGTYCECADQRU2AgxBACECDJ4CCyABIARGBEBB1wEhAgyeAgsCQCABLQAAQSBGBEAgA0EAOwE0IAFBAWohAQwBCyADQQA2AhwgAyABNgIUIANB6xA2AhAgA0EJNgIMQQAhAgyeAgtBvQEhAgyDAgsgASAERgRAQdYBIQIMnQILAkAgAS0AAEEwa0H/AXEiAkEKSQRAIAFBAWohAQJAIAMvATQiAEGZM0sNACADIABBCmwiADsBNCAAQf7/A3EgAkH//wNzSw0AIAMgACACajsBNAwCC0EAIQIgA0EANgIcIAMgATYCFCADQYAdNgIQIANBDTYCDAyeAgsgA0EANgIcIAMgATYCFCADQYAdNgIQIANBDTYCDEEAIQIMnQILQbwBIQIMggILIAEgBEYEQEHVASECDJwCCwJAIAEtAABBMGtB/wFxIgJBCkkEQCABQQFqIQECQCADLwE0IgBBmTNLDQAgAyAAQQpsIgA7ATQgAEH+/wNxIAJB//8Dc0sNACADIAAgAmo7ATQMAgtBACECIANBADYCHCADIAE2AhQgA0GAHTYCECADQQ02AgwMnQILIANBADYCHCADIAE2AhQgA0GAHTYCECADQQ02AgxBACECDJwCC0G7ASECDIECCyABIARGBEBB1AEhAgybAgsCQCABLQAAQTBrQf8BcSICQQpJBEAgAUEBaiEBAkAgAy8BNCIAQZkzSw0AIAMgAEEKbCIAOwE0IABB/v8DcSACQf//A3NLDQAgAyAAIAJqOwE0DAILQQAhAiADQQA2AhwgAyABNgIUIANBgB02AhAgA0ENNgIMDJwCCyADQQA2AhwgAyABNgIUIANBgB02AhAgA0ENNgIMQQAhAgybAgtBugEhAgyAAgsgASAERgRAQdMBIQIMmgILAkACQAJAAkAgAS0AAEEKaw4XAgMDAAMDAwMDAwMDAwMDAwMDAwMDAwEDCyABQQFqDAULIAFBAWohAUG5ASECDIECCyABQQFqIQEgA0Evai0AAEEBcQ0IIANBADYCHCADIAE2AhQgA0GFCzYCECADQQ02AgxBACECDJoCCyADQQA2AhwgAyABNgIUIANBhQs2AhAgA0ENNgIMQQAhAgyZAgsgASAERwRAIANBDjYCCCADIAE2AgRBASECDP8BC0HSASECDJgCCwJAAkADQAJAIAEtAABBCmsOBAIAAAMACyAEIAFBAWoiAUcNAAtB0QEhAgyZAgsgAygCBCEAIANBADYCBCADIAAgARAsIgBFBEAgAUEBaiEBDAQLIANB0AE2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMmAILIAMoAgQhACADQQA2AgQgAyAAIAEQLCIADQEgAUEBagshAUG3ASECDPwBCyADQc8BNgIcIAMgADYCDCADIAFBAWo2AhRBACECDJUCC0G4ASECDPoBCyADQS9qLQAAQQFxDQEgA0EANgIcIAMgATYCFCADQc8bNgIQIANBGTYCDEEAIQIMkwILIAEgBEYEQEHPASECDJMCCwJAAkACQCABLQAAQQprDgQBAgIAAgsgAUEBaiEBDAILIAFBAWohAQwBCyADLQAuQcAAcUUNAQtBACEAAkAgAygCOCICRQ0AIAIoAjQiAkUNACADIAIRAAAhAAsgAEUNlgEgAEEVRgRAIANB2QA2AhwgAyABNgIUIANBvRk2AhAgA0EVNgIMQQAhAgySAgsgA0EANgIcIAMgATYCFCADQfgMNgIQIANBGzYCDEEAIQIMkQILIANBADYCHCADIAE2AhQgA0HHJzYCECADQQI2AgxBACECDJACCyABIARHBEAgA0EMNgIIIAMgATYCBEG1ASECDPYBC0HOASECDI8CCyABIARGBEBBzQEhAgyPAgsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBwQBrDhUAAQIDWgQFBlpaWgcICQoLDA0ODxBaCyABQQFqIQFB8QAhAgyEAgsgAUEBaiEBQfIAIQIMgwILIAFBAWohAUH3ACECDIICCyABQQFqIQFB+wAhAgyBAgsgAUEBaiEBQfwAIQIMgAILIAFBAWohAUH/ACECDP8BCyABQQFqIQFBgAEhAgz+AQsgAUEBaiEBQYMBIQIM/QELIAFBAWohAUGMASECDPwBCyABQQFqIQFBjQEhAgz7AQsgAUEBaiEBQY4BIQIM+gELIAFBAWohAUGbASECDPkBCyABQQFqIQFBnAEhAgz4AQsgAUEBaiEBQaIBIQIM9wELIAFBAWohAUGqASECDPYBCyABQQFqIQFBrQEhAgz1AQsgAUEBaiEBQbQBIQIM9AELIAEgBEYEQEHMASECDI4CCyABLQAAQc4ARw1IIAFBAWohAUGzASECDPMBCyABIARGBEBBywEhAgyNAgsCQAJAAkAgAS0AAEHCAGsOEgBKSkpKSkpKSkoBSkpKSkpKAkoLIAFBAWohAUGuASECDPQBCyABQQFqIQFBsQEhAgzzAQsgAUEBaiEBQbIBIQIM8gELQcoBIQIgASAERg2LAiADKAIAIgAgBCABa2ohBSABIABrQQdqIQYCQANAIAEtAAAgAEHo0wBqLQAARw1FIABBB0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyMAgsgA0EANgIAIAZBAWohAUEbDEULIAEgBEYEQEHJASECDIsCCwJAAkAgAS0AAEHJAGsOBwBHR0dHRwFHCyABQQFqIQFBrwEhAgzxAQsgAUEBaiEBQbABIQIM8AELQcgBIQIgASAERg2JAiADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHm0wBqLQAARw1DIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyKAgsgA0EANgIAIAZBAWohAUEPDEMLQccBIQIgASAERg2IAiADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHk0wBqLQAARw1CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyJAgsgA0EANgIAIAZBAWohAUEgDEILQcYBIQIgASAERg2HAiADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHh0wBqLQAARw1BIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyIAgsgA0EANgIAIAZBAWohAUESDEELIAEgBEYEQEHFASECDIcCCwJAAkAgAS0AAEHFAGsODgBDQ0NDQ0NDQ0NDQ0MBQwsgAUEBaiEBQasBIQIM7QELIAFBAWohAUGsASECDOwBC0HEASECIAEgBEYNhQIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB3tMAai0AAEcNPyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhgILIANBADYCACAGQQFqIQFBBww/C0HDASECIAEgBEYNhAIgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABB2NMAai0AAEcNPiAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhQILIANBADYCACAGQQFqIQFBKAw+CyABIARGBEBBwgEhAgyEAgsCQAJAAkAgAS0AAEHFAGsOEQBBQUFBQUFBQUEBQUFBQUECQQsgAUEBaiEBQacBIQIM6wELIAFBAWohAUGoASECDOoBCyABQQFqIQFBqQEhAgzpAQtBwQEhAiABIARGDYICIAMoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQdHTAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADIMCCyADQQA2AgAgBkEBaiEBQRoMPAtBwAEhAiABIARGDYECIAMoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQc3TAGotAABHDTsgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADIICCyADQQA2AgAgBkEBaiEBQSEMOwsgASAERgRAQb8BIQIMgQILAkACQCABLQAAQcEAaw4UAD09PT09PT09PT09PT09PT09PQE9CyABQQFqIQFBowEhAgznAQsgAUEBaiEBQaYBIQIM5gELIAEgBEYEQEG+ASECDIACCwJAAkAgAS0AAEHVAGsOCwA8PDw8PDw8PDwBPAsgAUEBaiEBQaQBIQIM5gELIAFBAWohAUGlASECDOUBC0G9ASECIAEgBEYN/gEgAygCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABBxNMAai0AAEcNOCAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM/wELIANBADYCACAGQQFqIQFBKgw4CyABIARGBEBBvAEhAgz+AQsgAS0AAEHQAEcNOCABQQFqIQFBJQw3C0G7ASECIAEgBEYN/AEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBwdMAai0AAEcNNiAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM/QELIANBADYCACAGQQFqIQFBDgw2CyABIARGBEBBugEhAgz8AQsgAS0AAEHFAEcNNiABQQFqIQFBoQEhAgzhAQsgASAERgRAQbkBIQIM+wELAkACQAJAAkAgAS0AAEHCAGsODwABAjk5OTk5OTk5OTk5AzkLIAFBAWohAUGdASECDOMBCyABQQFqIQFBngEhAgziAQsgAUEBaiEBQZ8BIQIM4QELIAFBAWohAUGgASECDOABC0G4ASECIAEgBEYN+QEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBvtMAai0AAEcNMyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+gELIANBADYCACAGQQFqIQFBFAwzC0G3ASECIAEgBEYN+AEgAygCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBudMAai0AAEcNMiAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+QELIANBADYCACAGQQFqIQFBKwwyC0G2ASECIAEgBEYN9wEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBttMAai0AAEcNMSAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+AELIANBADYCACAGQQFqIQFBLAwxC0G1ASECIAEgBEYN9gEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB4dMAai0AAEcNMCAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM9wELIANBADYCACAGQQFqIQFBEQwwC0G0ASECIAEgBEYN9QEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBstMAai0AAEcNLyAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM9gELIANBADYCACAGQQFqIQFBLgwvCyABIARGBEBBswEhAgz1AQsCQAJAAkACQAJAIAEtAABBwQBrDhUANDQ0NDQ0NDQ0NAE0NAI0NAM0NAQ0CyABQQFqIQFBkQEhAgzeAQsgAUEBaiEBQZIBIQIM3QELIAFBAWohAUGTASECDNwBCyABQQFqIQFBmAEhAgzbAQsgAUEBaiEBQZoBIQIM2gELIAEgBEYEQEGyASECDPQBCwJAAkAgAS0AAEHSAGsOAwAwATALIAFBAWohAUGZASECDNoBCyABQQFqIQFBBAwtC0GxASECIAEgBEYN8gEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBsNMAai0AAEcNLCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM8wELIANBADYCACAGQQFqIQFBHQwsCyABIARGBEBBsAEhAgzyAQsCQAJAIAEtAABByQBrDgcBLi4uLi4ALgsgAUEBaiEBQZcBIQIM2AELIAFBAWohAUEiDCsLIAEgBEYEQEGvASECDPEBCyABLQAAQdAARw0rIAFBAWohAUGWASECDNYBCyABIARGBEBBrgEhAgzwAQsCQAJAIAEtAABBxgBrDgsALCwsLCwsLCwsASwLIAFBAWohAUGUASECDNYBCyABQQFqIQFBlQEhAgzVAQtBrQEhAiABIARGDe4BIAMoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQazTAGotAABHDSggAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO8BCyADQQA2AgAgBkEBaiEBQQ0MKAtBrAEhAiABIARGDe0BIAMoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQeHTAGotAABHDScgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO4BCyADQQA2AgAgBkEBaiEBQQwMJwtBqwEhAiABIARGDewBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQarTAGotAABHDSYgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO0BCyADQQA2AgAgBkEBaiEBQQMMJgtBqgEhAiABIARGDesBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQajTAGotAABHDSUgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADOwBCyADQQA2AgAgBkEBaiEBQSYMJQsgASAERgRAQakBIQIM6wELAkACQCABLQAAQdQAaw4CAAEnCyABQQFqIQFBjwEhAgzRAQsgAUEBaiEBQZABIQIM0AELQagBIQIgASAERg3pASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGm0wBqLQAARw0jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzqAQsgA0EANgIAIAZBAWohAUEnDCMLQacBIQIgASAERg3oASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGk0wBqLQAARw0iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzpAQsgA0EANgIAIAZBAWohAUEcDCILQaYBIQIgASAERg3nASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGe0wBqLQAARw0hIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzoAQsgA0EANgIAIAZBAWohAUEGDCELQaUBIQIgASAERg3mASADKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEGZ0wBqLQAARw0gIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAznAQsgA0EANgIAIAZBAWohAUEZDCALIAEgBEYEQEGkASECDOYBCwJAAkACQAJAIAEtAABBLWsOIwAkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJAEkJCQkJAIkJCQDJAsgAUEBaiEBQYQBIQIMzgELIAFBAWohAUGFASECDM0BCyABQQFqIQFBigEhAgzMAQsgAUEBaiEBQYsBIQIMywELQaMBIQIgASAERg3kASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGX0wBqLQAARw0eIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzlAQsgA0EANgIAIAZBAWohAUELDB4LIAEgBEYEQEGiASECDOQBCwJAAkAgAS0AAEHBAGsOAwAgASALIAFBAWohAUGGASECDMoBCyABQQFqIQFBiQEhAgzJAQsgASAERgRAQaEBIQIM4wELAkACQCABLQAAQcEAaw4PAB8fHx8fHx8fHx8fHx8BHwsgAUEBaiEBQYcBIQIMyQELIAFBAWohAUGIASECDMgBCyABIARGBEBBoAEhAgziAQsgAS0AAEHMAEcNHCABQQFqIQFBCgwbC0GfASECIAEgBEYN4AEgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBkdMAai0AAEcNGiAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM4QELIANBADYCACAGQQFqIQFBHgwaC0GeASECIAEgBEYN3wEgAygCACIAIAQgAWtqIQUgASAAa0EGaiEGAkADQCABLQAAIABBitMAai0AAEcNGSAAQQZGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM4AELIANBADYCACAGQQFqIQFBFQwZC0GdASECIAEgBEYN3gEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBh9MAai0AAEcNGCAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3wELIANBADYCACAGQQFqIQFBFwwYC0GcASECIAEgBEYN3QEgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBgdMAai0AAEcNFyAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3gELIANBADYCACAGQQFqIQFBGAwXCyABIARGBEBBmwEhAgzdAQsCQAJAIAEtAABByQBrDgcAGRkZGRkBGQsgAUEBaiEBQYEBIQIMwwELIAFBAWohAUGCASECDMIBC0GaASECIAEgBEYN2wEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB5tMAai0AAEcNFSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3AELIANBADYCACAGQQFqIQFBCQwVC0GZASECIAEgBEYN2gEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB5NMAai0AAEcNFCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM2wELIANBADYCACAGQQFqIQFBHwwUC0GYASECIAEgBEYN2QEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB/tIAai0AAEcNEyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM2gELIANBADYCACAGQQFqIQFBAgwTC0GXASECIAEgBEYN2AEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGA0AgAS0AACAAQfzSAGotAABHDREgAEEBRg0CIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADNgBCyABIARGBEBBlgEhAgzYAQtBASABLQAAQd8ARw0RGiABQQFqIQFB/QAhAgy9AQsgA0EANgIAIAZBAWohAUH+ACECDLwBC0GVASECIAEgBEYN1QEgAygCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABBxNMAai0AAEcNDyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM1gELIANBADYCACAGQQFqIQFBKQwPC0GUASECIAEgBEYN1AEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABB+NIAai0AAEcNDiAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM1QELIANBADYCACAGQQFqIQFBLQwOCyABIARGBEBBkwEhAgzUAQsgAS0AAEHFAEcNDiABQQFqIQFB+gAhAgy5AQsgASAERgRAQZIBIQIM0wELAkACQCABLQAAQcwAaw4IAA8PDw8PDwEPCyABQQFqIQFB+AAhAgy5AQsgAUEBaiEBQfkAIQIMuAELQZEBIQIgASAERg3RASADKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHz0gBqLQAARw0LIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzSAQsgA0EANgIAIAZBAWohAUEjDAsLQZABIQIgASAERg3QASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHw0gBqLQAARw0KIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzRAQsgA0EANgIAIAZBAWohAUEADAoLIAEgBEYEQEGPASECDNABCwJAAkAgAS0AAEHIAGsOCAAMDAwMDAwBDAsgAUEBaiEBQfMAIQIMtgELIAFBAWohAUH2ACECDLUBCyABIARGBEBBjgEhAgzPAQsCQAJAIAEtAABBzgBrDgMACwELCyABQQFqIQFB9AAhAgy1AQsgAUEBaiEBQfUAIQIMtAELIAEgBEYEQEGNASECDM4BCyABLQAAQdkARw0IIAFBAWohAUEIDAcLQYwBIQIgASAERg3MASADKAIAIgAgBCABa2ohBSABIABrQQNqIQYCQANAIAEtAAAgAEHs0gBqLQAARw0GIABBA0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzNAQsgA0EANgIAIAZBAWohAUEFDAYLQYsBIQIgASAERg3LASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHm0gBqLQAARw0FIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzMAQsgA0EANgIAIAZBAWohAUEWDAULQYoBIQIgASAERg3KASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHh0wBqLQAARw0EIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzLAQsgA0EANgIAIAZBAWohAUEQDAQLIAEgBEYEQEGJASECDMoBCwJAAkAgAS0AAEHDAGsODAAGBgYGBgYGBgYGAQYLIAFBAWohAUHvACECDLABCyABQQFqIQFB8AAhAgyvAQtBiAEhAiABIARGDcgBIAMoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQeDSAGotAABHDQIgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADMkBCyADQQA2AgAgBkEBaiEBQSQMAgsgA0EANgIADAILIAEgBEYEQEGHASECDMcBCyABLQAAQcwARw0BIAFBAWohAUETCzoAKSADKAIEIQAgA0EANgIEIAMgACABEC0iAA0CDAELQQAhAiADQQA2AhwgAyABNgIUIANB6R42AhAgA0EGNgIMDMQBC0HuACECDKkBCyADQYYBNgIcIAMgATYCFCADIAA2AgxBACECDMIBC0EAIQACQCADKAI4IgJFDQAgAigCOCICRQ0AIAMgAhEAACEACyAARQ0AIABBFUYNASADQQA2AhwgAyABNgIUIANB1A42AhAgA0EgNgIMQQAhAgzBAQtB7QAhAgymAQsgA0GFATYCHCADIAE2AhQgA0HXGjYCECADQRU2AgxBACECDL8BCyABIARGBEBBhQEhAgy/AQsCQCABLQAAQSBGBEAgAUEBaiEBDAELIANBADYCHCADIAE2AhQgA0GGHjYCECADQQY2AgxBACECDL8BC0ECIQIMpAELA0AgAS0AAEEgRw0CIAQgAUEBaiIBRw0AC0GEASECDL0BCyABIARGBEBBgwEhAgy9AQsCQCABLQAAQQlrDgRAAABAAAtB6wAhAgyiAQsgAy0AKUEFRgRAQewAIQIMogELQeoAIQIMoQELIAEgBEYEQEGCASECDLsBCyADQQ82AgggAyABNgIEDAoLIAEgBEYEQEGBASECDLoBCwJAIAEtAABBCWsOBD0AAD0AC0HpACECDJ8BCyABIARHBEAgA0EPNgIIIAMgATYCBEHnACECDJ8BC0GAASECDLgBCwJAIAEgBEcEQANAIAEtAABB4M4Aai0AACIAQQNHBEACQCAAQQFrDgI/AAQLQeYAIQIMoQELIAQgAUEBaiIBRw0AC0H+ACECDLkBC0H+ACECDLgBCyADQQA2AhwgAyABNgIUIANBxh82AhAgA0EHNgIMQQAhAgy3AQsgASAERgRAQf8AIQIMtwELAkACQAJAIAEtAABB4NAAai0AAEEBaw4DPAIAAQtB6AAhAgyeAQsgA0EANgIcIAMgATYCFCADQYYSNgIQIANBBzYCDEEAIQIMtwELQeAAIQIMnAELIAEgBEcEQCABQQFqIQFB5QAhAgycAQtB/QAhAgy1AQsgBCABIgBGBEBB/AAhAgy1AQsgAC0AACIBQS9GBEAgAEEBaiEBQeQAIQIMmwELIAFBCWsiAkEXSw0BIAAhAUEBIAJ0QZuAgARxDTcMAQsgBCABIgBGBEBB+wAhAgy0AQsgAC0AAEEvRw0AIABBAWohAQwDC0EAIQIgA0EANgIcIAMgADYCFCADQcYfNgIQIANBBzYCDAyyAQsCQAJAAkACQAJAA0AgAS0AAEHgzABqLQAAIgBBBUcEQAJAAkAgAEEBaw4IPQUGBwgABAEIC0HhACECDJ8BCyABQQFqIQFB4wAhAgyeAQsgBCABQQFqIgFHDQALQfoAIQIMtgELIAFBAWoMFAsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgy0AQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyzAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyyAQsgA0EANgIcIAMgATYCFCADQcsPNgIQIANBBzYCDEEAIQIMsQELIAEgBEYEQEH5ACECDLEBCwJAIAEtAABB4MwAai0AAEEBaw4INAQFBgAIAgMHCyABQQFqIQELQQMhAgyVAQsgAUEBagwNC0EAIQIgA0EANgIcIANBoxI2AhAgA0EHNgIMIAMgAUEBajYCFAytAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgysAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyrAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyqAQsgA0EANgIcIAMgATYCFCADQcsPNgIQIANBBzYCDEEAIQIMqQELQeIAIQIMjgELIAEgBEYEQEH4ACECDKgBCyABQQFqDAILIAEgBEYEQEH3ACECDKcBCyABQQFqDAELIAEgBEYNASABQQFqCyEBQQQhAgyKAQtB9gAhAgyjAQsDQCABLQAAQeDKAGotAAAiAEECRwRAIABBAUcEQEHfACECDIsBCwwnCyAEIAFBAWoiAUcNAAtB9QAhAgyiAQsgASAERgRAQfQAIQIMogELAkAgAS0AAEEJaw43JQMGJQQGBgYGBgYGBgYGBgYGBgYGBgYFBgYCBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGAAYLIAFBAWoLIQFBBSECDIYBCyABQQFqDAYLIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB2wA2AhwgAyABNgIUIAMgADYCDEEAIQIMngELIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB3QA2AhwgAyABNgIUIAMgADYCDEEAIQIMnQELIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB8AA2AhwgAyABNgIUIAMgADYCDEEAIQIMnAELIANBADYCHCADIAE2AhQgA0G8EzYCECADQQc2AgxBACECDJsBCwJAAkACQAJAA0AgAS0AAEHgyABqLQAAIgBBBUcEQAJAIABBAWsOBiQDBAUGAAYLQd4AIQIMhgELIAQgAUEBaiIBRw0AC0HzACECDJ4BCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQdsANgIcIAMgATYCFCADIAA2AgxBACECDJ0BCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQd0ANgIcIAMgATYCFCADIAA2AgxBACECDJwBCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQfAANgIcIAMgATYCFCADIAA2AgxBACECDJsBCyADQQA2AhwgAyABNgIUIANB3Ag2AhAgA0EHNgIMQQAhAgyaAQsgASAERg0BIAFBAWoLIQFBBiECDH4LQfIAIQIMlwELAkACQAJAAkADQCABLQAAQeDGAGotAAAiAEEFRwRAIABBAWsOBB8CAwQFCyAEIAFBAWoiAUcNAAtB8QAhAgyaAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgyZAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyYAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyXAQsgA0EANgIcIAMgATYCFCADQbQKNgIQIANBBzYCDEEAIQIMlgELQc4AIQIMewtB0AAhAgx6C0HdACECDHkLIAEgBEYEQEHwACECDJMBCwJAIAEtAABBCWsOBBYAABYACyABQQFqIQFB3AAhAgx4CyABIARGBEBB7wAhAgySAQsCQCABLQAAQQlrDgQVAAAVAAtBACEAAkAgAygCOCICRQ0AIAIoAjAiAkUNACADIAIRAAAhAAsgAEUEQEHTASECDHgLIABBFUcEQCADQQA2AhwgAyABNgIUIANBwQ02AhAgA0EaNgIMQQAhAgySAQsgA0HuADYCHCADIAE2AhQgA0HwGTYCECADQRU2AgxBACECDJEBC0HtACECIAEgBEYNkAEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABB18YAai0AAEcNBCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMkQELIANBADYCACAGQQFqIQEgAy0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACECIANBADYCHCADIAE2AhQgA0HlCTYCECADQQg2AgwMkAELQewAIQIgASAERg2PASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHUxgBqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyQAQsgA0EANgIAIAZBAWohASADLQApQSFGDQMgA0EANgIcIAMgATYCFCADQYkKNgIQIANBCDYCDEEAIQIMjwELQesAIQIgASAERg2OASADKAIAIgAgBCABa2ohBSABIABrQQNqIQYCQANAIAEtAAAgAEHQxgBqLQAARw0CIABBA0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyPAQsgA0EANgIAIAZBAWohASADLQApIgBBI0kNAiAAQS5GDQIgA0EANgIcIAMgATYCFCADQcEJNgIQIANBCDYCDEEAIQIMjgELIANBADYCAAtBACECIANBADYCHCADIAE2AhQgA0GENzYCECADQQg2AgwMjAELQdgAIQIMcQsgASAERwRAIANBDTYCCCADIAE2AgRB1wAhAgxxC0HqACECDIoBCyABIARGBEBB6QAhAgyKAQsgAS0AAEEwayIAQf8BcUEKSQRAIAMgADoAKiABQQFqIQFB1gAhAgxwCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdCADQegANgIcIAMgATYCFCADIAA2AgxBACECDIkBCyABIARGBEBB5wAhAgyJAQsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAMoAgQhACADQQA2AgQgAyAAIAEQLiIARQ11IANB5gA2AhwgAyABNgIUIAMgADYCDEEAIQIMiQELQdUAIQIMbgsgASAERgRAQeUAIQIMiAELQQAhAEEBIQVBASEHQQAhAgJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAEtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyECQQAhBUEAIQcMAgtBCSECQQEhAEEAIQVBACEHDAELQQAhBUEBIQILIAMgAjoAKyABQQFqIQECQAJAIAMtAC5BEHENAAJAAkACQCADLQAqDgMBAAIECyAHRQ0DDAILIAANAQwCCyAFRQ0BCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNAiADQeIANgIcIAMgATYCFCADIAA2AgxBACECDIoBCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdyADQeMANgIcIAMgATYCFCADIAA2AgxBACECDIkBCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdSADQeQANgIcIAMgATYCFCADIAA2AgwMiAELQdMAIQIMbQsgAy0AKUEiRg2AAUHSACECDGwLQQAhAAJAIAMoAjgiAkUNACACKAI8IgJFDQAgAyACEQAAIQALIABFBEBB1AAhAgxsCyAAQRVHBEAgA0EANgIcIAMgATYCFCADQZwNNgIQIANBITYCDEEAIQIMhgELIANB4QA2AhwgAyABNgIUIANB1hk2AhAgA0EVNgIMQQAhAgyFAQsgASAERgRAQeAAIQIMhQELAkACQAJAAkACQCABLQAAQQprDgQBBAQABAsgAUEBaiEBDAELIAFBAWohASADQS9qLQAAQQFxRQ0BC0HRACECDGwLIANBADYCHCADIAE2AhQgA0GIETYCECADQQk2AgxBACECDIUBCyADQQA2AhwgAyABNgIUIANBiBE2AhAgA0EJNgIMQQAhAgyEAQsgASAERgRAQd8AIQIMhAELIAEtAABBCkYEQCABQQFqIQEMCQsgAy0ALkHAAHENCCADQQA2AhwgAyABNgIUIANBiBE2AhAgA0ECNgIMQQAhAgyDAQsgASAERgRAQd0AIQIMgwELIAEtAAAiAkENRgRAIAFBAWohAUHPACECDGkLIAEhACACQQlrDgQFAQEFAQsgBCABIgBGBEBB3AAhAgyCAQsgAC0AAEEKRw0AIABBAWoMAgtBACECIANBADYCHCADIAA2AhQgA0G1LDYCECADQQc2AgwMgAELIAEgBEYEQEHbACECDIABCwJAIAEtAABBCWsOBAMAAAMACyABQQFqCyEBQc0AIQIMZAsgASAERgRAQdoAIQIMfgsgAS0AAEEJaw4EAAEBAAELQQAhAiADQQA2AhwgA0HsETYCECADQQc2AgwgAyABQQFqNgIUDHwLIANBgBI7ASpBACEAAkAgAygCOCICRQ0AIAIoAjAiAkUNACADIAIRAAAhAAsgAEUNACAAQRVHDQEgA0HZADYCHCADIAE2AhQgA0HwGTYCECADQRU2AgxBACECDHsLQcwAIQIMYAsgA0EANgIcIAMgATYCFCADQcENNgIQIANBGjYCDEEAIQIMeQsgASAERgRAQdkAIQIMeQsgAS0AAEEgRw06IAFBAWohASADLQAuQQFxDTogA0EANgIcIAMgATYCFCADQa0bNgIQIANBHjYCDEEAIQIMeAsgASAERgRAQdgAIQIMeAsCQAJAAkACQAJAIAEtAAAiAEEKaw4EAgMDAAELIAFBAWohAUErIQIMYQsgAEE6Rw0BIANBADYCHCADIAE2AhQgA0G5ETYCECADQQo2AgxBACECDHoLIAFBAWohASADQS9qLQAAQQFxRQ1tIAMtADJBgAFxRQRAIANBMmohAiADEDRBACEAAkAgAygCOCIGRQ0AIAYoAiQiBkUNACADIAYRAAAhAAsCQAJAIAAOFkpJSAEBAQEBAQEBAQEBAQEBAQEBAQABCyADQSk2AhwgAyABNgIUIANBshg2AhAgA0EVNgIMQQAhAgx7CyADQQA2AhwgAyABNgIUIANB3Qs2AhAgA0ERNgIMQQAhAgx6C0EAIQACQCADKAI4IgJFDQAgAigCVCICRQ0AIAMgAhEAACEACyAARQ1VIABBFUcNASADQQU2AhwgAyABNgIUIANBhho2AhAgA0EVNgIMQQAhAgx5C0HKACECDF4LQQAhAiADQQA2AhwgAyABNgIUIANB4g02AhAgA0EUNgIMDHcLIAMgAy8BMkGAAXI7ATIMOAsgASAERwRAIANBEDYCCCADIAE2AgRByQAhAgxcC0HXACECDHULIAEgBEYEQEHWACECDHULAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAPT09PT09PT09PT09AT09PQIDPQsgAUEBaiEBQcUAIQIMXQsgAUEBaiEBQcYAIQIMXAsgAUEBaiEBQccAIQIMWwsgAUEBaiEBQcgAIQIMWgtB1QAhAiAEIAEiAEYNcyAEIAFrIAMoAgAiAWohBiAAIAFrQQVqIQcDQCABQcDGAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQhBBCABQQVGDQoaIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADHMLQdQAIQIgBCABIgBGDXIgBCABayADKAIAIgFqIQYgACABa0EPaiEHA0AgAUGwxgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0HQQMgAUEPRg0JGiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxyC0HTACECIAQgASIARg1xIAQgAWsgAygCACIBaiEGIAAgAWtBDmohBwNAIAFBksYAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNBiABQQ5GDQcgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMcQtB0gAhAiAEIAEiAEYNcCAEIAFrIAMoAgAiAWohBSAAIAFrQQFqIQYDQCABQZDGAGotAAAgAC0AACIHQSByIAcgB0HBAGtB/wFxQRpJG0H/AXFHDQUgAUEBRg0CIAFBAWohASAEIABBAWoiAEcNAAsgAyAFNgIADHALIAEgBEYEQEHRACECDHALAkACQCABLQAAIgBBIHIgACAAQcEAa0H/AXFBGkkbQf8BcUHuAGsOBwA2NjY2NgE2CyABQQFqIQFBwgAhAgxWCyABQQFqIQFBwwAhAgxVCyADQQA2AgAgBkEBaiEBQcQAIQIMVAtB0AAhAiAEIAEiAEYNbSAEIAFrIAMoAgAiAWohBiAAIAFrQQlqIQcDQCABQYbGAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQJBAiABQQlGDQQaIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADG0LQc8AIQIgBCABIgBGDWwgBCABayADKAIAIgFqIQYgACABa0EFaiEHA0AgAUGAxgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYNAiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxsCyAAIQEgA0EANgIADDALQQELOgAsIANBADYCACAHQQFqIQELQSwhAgxOCwJAA0AgAS0AAEGAxABqLQAAQQFHDQEgBCABQQFqIgFHDQALQc0AIQIMaAtBwQAhAgxNCyABIARGBEBBzAAhAgxnCyABLQAAQTpGBEAgAygCBCEAIANBADYCBCADIAAgARAvIgBFDTAgA0HLADYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxnCyADQQA2AhwgAyABNgIUIANBuRE2AhAgA0EKNgIMQQAhAgxmCwJAAkAgAy0ALEECaw4CAAEkCyADQTNqLQAAQQJxRQ0jIAMtAC5BAnENIyADQQA2AhwgAyABNgIUIANB1RM2AhAgA0ELNgIMQQAhAgxmCyADLQAyQSBxRQ0iIAMtAC5BAnENIiADQQA2AhwgAyABNgIUIANB7BI2AhAgA0EPNgIMQQAhAgxlC0EAIQACQCADKAI4IgJFDQAgAigCQCICRQ0AIAMgAhEAACEACyAARQRAQcAAIQIMSwsgAEEVRwRAIANBADYCHCADIAE2AhQgA0H4DjYCECADQRw2AgxBACECDGULIANBygA2AhwgAyABNgIUIANB8Bo2AhAgA0EVNgIMQQAhAgxkCyABIARHBEADQCABLQAAQfA/ai0AAEEBRw0XIAQgAUEBaiIBRw0AC0HEACECDGQLQcQAIQIMYwsgASAERwRAA0ACQCABLQAAIgBBIHIgACAAQcEAa0H/AXFBGkkbQf8BcSIAQQlGDQAgAEEgRg0AAkACQAJAAkAgAEHjAGsOEwADAwMDAwMDAQMDAwMDAwMDAwIDCyABQQFqIQFBNSECDE4LIAFBAWohAUE2IQIMTQsgAUEBaiEBQTchAgxMCwwVCyAEIAFBAWoiAUcNAAtBPCECDGMLQTwhAgxiCyABIARGBEBByAAhAgxiCyADQRE2AgggAyABNgIEAkACQAJAAkACQCADLQAsQQFrDgQUAAECCQsgAy0AMkEgcQ0DQdEBIQIMSwsCQCADLwEyIgBBCHFFDQAgAy0AKEEBRw0AIAMtAC5BCHFFDQILIAMgAEH3+wNxQYAEcjsBMgwLCyADIAMvATJBEHI7ATIMBAsgA0EANgIEIAMgASABEDAiAARAIANBwQA2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMYwsgAUEBaiEBDFILIANBADYCHCADIAE2AhQgA0GjEzYCECADQQQ2AgxBACECDGELQccAIQIgASAERg1gIAMoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEHwwwBqLQAAIAEtAABBIHJHDQEgAEEGRg1GIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADGELIANBADYCAAwFCwJAIAEgBEcEQANAIAEtAABB8MEAai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBxQAhAgxhC0HFACECDGALCyADQQA6ACwMAQtBCyECDEMLQT4hAgxCCwJAAkADQCABLQAAIgBBIEcEQAJAIABBCmsOBAMFBQMACyAAQSxGDQMMBAsgBCABQQFqIgFHDQALQcYAIQIMXQsgA0EIOgAsDA4LIAMtAChBAUcNAiADLQAuQQhxDQIgAygCBCEAIANBADYCBCADIAAgARAwIgAEQCADQcIANgIcIAMgADYCDCADIAFBAWo2AhRBACECDFwLIAFBAWohAQxKC0E6IQIMQAsCQANAIAEtAAAiAEEgRyAAQQlHcQ0BIAQgAUEBaiIBRw0AC0HDACECDFoLC0E7IQIMPgsCQAJAIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBAMEBAMECyAEIAFBAWoiAUcNAAtBPyECDFoLQT8hAgxZCyADIAMvATJBIHI7ATIMCgsgAygCBCEAIANBADYCBCADIAAgARAwIgBFDUggA0E+NgIcIAMgATYCFCADIAA2AgxBACECDFcLAkAgASAERwRAA0AgAS0AAEHwwQBqLQAAIgBBAUcEQCAAQQJGDQMMDAsgBCABQQFqIgFHDQALQTchAgxYC0E3IQIMVwsgAUEBaiEBDAQLQTshAiAEIAEiAEYNVSAEIAFrIAMoAgAiAWohBiAAIAFrQQVqIQcCQANAIAFBwMYAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNASABQQVGBEBBByEBDDsLIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADFYLIANBADYCACAAIQEMBQtBOiECIAQgASIARg1UIAQgAWsgAygCACIBaiEGIAAgAWtBCGohBwJAA0AgAUHkP2otAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAUEIRgRAQQUhAQw6CyABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxVCyADQQA2AgAgACEBDAQLQTkhAiAEIAEiAEYNUyAEIAFrIAMoAgAiAWohBiAAIAFrQQNqIQcCQANAIAFB4D9qLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBA0YEQEEGIQEMOQsgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMVAsgA0EANgIAIAAhAQwDCwJAA0AgAS0AACIAQSBHBEAgAEEKaw4EBwQEBwILIAQgAUEBaiIBRw0AC0E4IQIMUwsgAEEsRw0BIAFBAWohAEEBIQECQAJAAkACQAJAIAMtACxBBWsOBAMBAgQACyAAIQEMBAtBAiEBDAELQQQhAQsgA0EBOgAsIAMgAy8BMiABcjsBMiAAIQEMAQsgAyADLwEyQQhyOwEyIAAhAQtBPSECDDcLIANBADoALAtBOCECDDULIAEgBEYEQEE2IQIMTwsCQAJAAkACQAJAIAEtAABBCmsOBAACAgECCyADKAIEIQAgA0EANgIEIAMgACABEDAiAEUNAiADQTM2AhwgAyABNgIUIAMgADYCDEEAIQIMUgsgAygCBCEAIANBADYCBCADIAAgARAwIgBFBEAgAUEBaiEBDAYLIANBMjYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxRCyADLQAuQQFxBEBB0AEhAgw3CyADKAIEIQAgA0EANgIEIAMgACABEDAiAA0BDEMLQTMhAgw1CyADQTU2AhwgAyABNgIUIAMgADYCDEEAIQIMTgtBNCECDDMLIANBL2otAABBAXENACADQQA2AhwgAyABNgIUIANB8RU2AhAgA0EZNgIMQQAhAgxMC0EyIQIMMQsgASAERgRAQTIhAgxLCwJAIAEtAABBCkYEQCABQQFqIQEMAQsgA0EANgIcIAMgATYCFCADQZgWNgIQIANBAzYCDEEAIQIMSwtBMSECDDALIAEgBEYEQEExIQIMSgsgAS0AACIAQQlHIABBIEdxDQEgAy0ALEEIRw0AIANBADoALAtBPCECDC4LQQEhAgJAAkACQAJAIAMtACxBBWsOBAMBAgAKCyADIAMvATJBCHI7ATIMCQtBAiECDAELQQQhAgsgA0EBOgAsIAMgAy8BMiACcjsBMgwGCyABIARGBEBBMCECDEcLIAEtAABBCkYEQCABQQFqIQEMAQsgAy0ALkEBcQ0AIANBADYCHCADIAE2AhQgA0HHJzYCECADQQI2AgxBACECDEYLQS8hAgwrCyABQQFqIQFBMCECDCoLIAEgBEYEQEEvIQIMRAsgAS0AACIAQQlHIABBIEdxRQRAIAFBAWohASADLQAuQQFxDQEgA0EANgIcIAMgATYCFCADQekPNgIQIANBCjYCDEEAIQIMRAtBASECAkACQAJAAkACQAJAIAMtACxBAmsOBwUEBAMBAgAECyADIAMvATJBCHI7ATIMAwtBAiECDAELQQQhAgsgA0EBOgAsIAMgAy8BMiACcjsBMgtBLiECDCoLIANBADYCHCADIAE2AhQgA0GzEjYCECADQQs2AgxBACECDEMLQdIBIQIMKAsgASAERgRAQS4hAgxCCyADQQA2AgQgA0ERNgIIIAMgASABEDAiAA0BC0EtIQIMJgsgA0EtNgIcIAMgATYCFCADIAA2AgxBACECDD8LQQAhAAJAIAMoAjgiAkUNACACKAJEIgJFDQAgAyACEQAAIQALIABFDQAgAEEVRw0BIANB2AA2AhwgAyABNgIUIANBnho2AhAgA0EVNgIMQQAhAgw+C0HLACECDCMLIANBADYCHCADIAE2AhQgA0GFDjYCECADQR02AgxBACECDDwLIAEgBEYEQEHOACECDDwLIAEtAAAiAEEgRg0CIABBOkYNAQsgA0EAOgAsQQkhAgwgCyADKAIEIQAgA0EANgIEIAMgACABEC8iAA0BDAILIAMtAC5BAXEEQEHPASECDB8LIAMoAgQhACADQQA2AgQgAyAAIAEQLyIARQ0CIANBKjYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgw4CyADQcsANgIcIAMgADYCDCADIAFBAWo2AhRBACECDDcLIAFBAWohAUE/IQIMHAsgAUEBaiEBDCkLIAEgBEYEQEErIQIMNQsCQCABLQAAQQpGBEAgAUEBaiEBDAELIAMtAC5BwABxRQ0GCyADLQAyQYABcQRAQQAhAAJAIAMoAjgiAkUNACACKAJUIgJFDQAgAyACEQAAIQALIABFDREgAEEVRgRAIANBBTYCHCADIAE2AhQgA0GGGjYCECADQRU2AgxBACECDDYLIANBADYCHCADIAE2AhQgA0HiDTYCECADQRQ2AgxBACECDDULIANBMmohAiADEDRBACEAAkAgAygCOCIGRQ0AIAYoAiQiBkUNACADIAYRAAAhAAsgAA4WAgEABAQEBAQEBAQEBAQEBAQEBAQEAwQLIANBAToAMAsgAiACLwEAQcAAcjsBAAtBKiECDBcLIANBKTYCHCADIAE2AhQgA0GyGDYCECADQRU2AgxBACECDDALIANBADYCHCADIAE2AhQgA0HdCzYCECADQRE2AgxBACECDC8LIANBADYCHCADIAE2AhQgA0GdCzYCECADQQI2AgxBACECDC4LQQEhByADLwEyIgVBCHFFBEAgAykDIEIAUiEHCwJAIAMtADAEQEEBIQAgAy0AKUEFRg0BIAVBwABxRSAHcUUNAQsCQCADLQAoIgJBAkYEQEEBIQAgAy8BNCIGQeUARg0CQQAhACAFQcAAcQ0CIAZB5ABGDQIgBkHmAGtBAkkNAiAGQcwBRg0CIAZBsAJGDQIMAQtBACEAIAVBwABxDQELQQIhACAFQQhxDQAgBUGABHEEQAJAIAJBAUcNACADLQAuQQpxDQBBBSEADAILQQQhAAwBCyAFQSBxRQRAIAMQNUEAR0ECdCEADAELQQBBAyADKQMgUBshAAsCQCAAQQFrDgUAAQYHAgMLQQAhAgJAIAMoAjgiAEUNACAAKAIsIgBFDQAgAyAAEQAAIQILIAJFDSYgAkEVRgRAIANBAzYCHCADIAE2AhQgA0G9GjYCECADQRU2AgxBACECDC4LQQAhAiADQQA2AhwgAyABNgIUIANBrw42AhAgA0ESNgIMDC0LQc4BIQIMEgtBACECIANBADYCHCADIAE2AhQgA0HkHzYCECADQQ82AgwMKwtBACEAAkAgAygCOCICRQ0AIAIoAiwiAkUNACADIAIRAAAhAAsgAA0BC0EOIQIMDwsgAEEVRgRAIANBAjYCHCADIAE2AhQgA0G9GjYCECADQRU2AgxBACECDCkLQQAhAiADQQA2AhwgAyABNgIUIANBrw42AhAgA0ESNgIMDCgLQSkhAgwNCyADQQE6ADEMJAsgASAERwRAIANBCTYCCCADIAE2AgRBKCECDAwLQSYhAgwlCyADIAMpAyAiDCAEIAFrrSIKfSILQgAgCyAMWBs3AyAgCiAMVARAQSUhAgwlCyADKAIEIQBBACECIANBADYCBCADIAAgASAMp2oiARAxIgBFDQAgA0EFNgIcIAMgATYCFCADIAA2AgwMJAtBDyECDAkLIAEgBEYEQEEjIQIMIwtCACEKAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsONxcWAAECAwQFBgcUFBQUFBQUCAkKCwwNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQODxAREhMUC0ICIQoMFgtCAyEKDBULQgQhCgwUC0IFIQoMEwtCBiEKDBILQgchCgwRC0IIIQoMEAtCCSEKDA8LQgohCgwOC0ILIQoMDQtCDCEKDAwLQg0hCgwLC0IOIQoMCgtCDyEKDAkLQgohCgwIC0ILIQoMBwtCDCEKDAYLQg0hCgwFC0IOIQoMBAtCDyEKDAMLQQAhAiADQQA2AhwgAyABNgIUIANBzhQ2AhAgA0EMNgIMDCILIAEgBEYEQEEiIQIMIgtCACEKAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQTBrDjcVFAABAgMEBQYHFhYWFhYWFggJCgsMDRYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWDg8QERITFgtCAiEKDBQLQgMhCgwTC0IEIQoMEgtCBSEKDBELQgYhCgwQC0IHIQoMDwtCCCEKDA4LQgkhCgwNC0IKIQoMDAtCCyEKDAsLQgwhCgwKC0INIQoMCQtCDiEKDAgLQg8hCgwHC0IKIQoMBgtCCyEKDAULQgwhCgwEC0INIQoMAwtCDiEKDAILQg8hCgwBC0IBIQoLIAFBAWohASADKQMgIgtC//////////8PWARAIAMgC0IEhiAKhDcDIAwCC0EAIQIgA0EANgIcIAMgATYCFCADQa0JNgIQIANBDDYCDAwfC0ElIQIMBAtBJiECDAMLIAMgAToALCADQQA2AgAgB0EBaiEBQQwhAgwCCyADQQA2AgAgBkEBaiEBQQohAgwBCyABQQFqIQFBCCECDAALAAtBACECIANBADYCHCADIAE2AhQgA0HVEDYCECADQQk2AgwMGAtBACECIANBADYCHCADIAE2AhQgA0HXCjYCECADQQk2AgwMFwtBACECIANBADYCHCADIAE2AhQgA0G/EDYCECADQQk2AgwMFgtBACECIANBADYCHCADIAE2AhQgA0GkETYCECADQQk2AgwMFQtBACECIANBADYCHCADIAE2AhQgA0HVEDYCECADQQk2AgwMFAtBACECIANBADYCHCADIAE2AhQgA0HXCjYCECADQQk2AgwMEwtBACECIANBADYCHCADIAE2AhQgA0G/EDYCECADQQk2AgwMEgtBACECIANBADYCHCADIAE2AhQgA0GkETYCECADQQk2AgwMEQtBACECIANBADYCHCADIAE2AhQgA0G/FjYCECADQQ82AgwMEAtBACECIANBADYCHCADIAE2AhQgA0G/FjYCECADQQ82AgwMDwtBACECIANBADYCHCADIAE2AhQgA0HIEjYCECADQQs2AgwMDgtBACECIANBADYCHCADIAE2AhQgA0GVCTYCECADQQs2AgwMDQtBACECIANBADYCHCADIAE2AhQgA0HpDzYCECADQQo2AgwMDAtBACECIANBADYCHCADIAE2AhQgA0GDEDYCECADQQo2AgwMCwtBACECIANBADYCHCADIAE2AhQgA0GmHDYCECADQQI2AgwMCgtBACECIANBADYCHCADIAE2AhQgA0HFFTYCECADQQI2AgwMCQtBACECIANBADYCHCADIAE2AhQgA0H/FzYCECADQQI2AgwMCAtBACECIANBADYCHCADIAE2AhQgA0HKFzYCECADQQI2AgwMBwsgA0ECNgIcIAMgATYCFCADQZQdNgIQIANBFjYCDEEAIQIMBgtB3gAhAiABIARGDQUgCUEIaiEHIAMoAgAhBQJAAkAgASAERwRAIAVBxsYAaiEIIAQgBWogAWshBiAFQX9zQQpqIgUgAWohAANAIAEtAAAgCC0AAEcEQEECIQgMAwsgBUUEQEEAIQggACEBDAMLIAVBAWshBSAIQQFqIQggBCABQQFqIgFHDQALIAYhBSAEIQELIAdBATYCACADIAU2AgAMAQsgA0EANgIAIAcgCDYCAAsgByABNgIEIAkoAgwhACAJKAIIDgMBBQIACwALIANBADYCHCADQa0dNgIQIANBFzYCDCADIABBAWo2AhRBACECDAMLIANBADYCHCADIAA2AhQgA0HCHTYCECADQQk2AgxBACECDAILIAEgBEYEQEEoIQIMAgsgA0EJNgIIIAMgATYCBEEnIQIMAQsgASAERgRAQQEhAgwBCwNAAkACQAJAIAEtAABBCmsOBAABAQABCyABQQFqIQEMAQsgAUEBaiEBIAMtAC5BIHENAEEAIQIgA0EANgIcIAMgATYCFCADQYwgNgIQIANBBTYCDAwCC0EBIQIgASAERw0ACwsgCUEQaiQAIAJFBEAgAygCDCEADAELIAMgAjYCHEEAIQAgAygCBCIBRQ0AIAMgASAEIAMoAggRAQAiAUUNACADIAQ2AhQgAyABNgIMIAEhAAsgAAu+AgECfyAAQQA6AAAgAEHcAGoiAUEBa0EAOgAAIABBADoAAiAAQQA6AAEgAUEDa0EAOgAAIAFBAmtBADoAACAAQQA6AAMgAUEEa0EAOgAAQQAgAGtBA3EiASAAaiIAQQA2AgBB3AAgAWtBfHEiAiAAaiIBQQRrQQA2AgACQCACQQlJDQAgAEEANgIIIABBADYCBCABQQhrQQA2AgAgAUEMa0EANgIAIAJBGUkNACAAQQA2AhggAEEANgIUIABBADYCECAAQQA2AgwgAUEQa0EANgIAIAFBFGtBADYCACABQRhrQQA2AgAgAUEca0EANgIAIAIgAEEEcUEYciICayIBQSBJDQAgACACaiEAA0AgAEIANwMYIABCADcDECAAQgA3AwggAEIANwMAIABBIGohACABQSBrIgFBH0sNAAsLC1YBAX8CQCAAKAIMDQACQAJAAkACQCAALQAxDgMBAAMCCyAAKAI4IgFFDQAgASgCLCIBRQ0AIAAgAREAACIBDQMLQQAPCwALIABB0Bg2AhBBDiEBCyABCxoAIAAoAgxFBEAgAEHJHjYCECAAQRU2AgwLCxQAIAAoAgxBFUYEQCAAQQA2AgwLCxQAIAAoAgxBFkYEQCAAQQA2AgwLCwcAIAAoAgwLBwAgACgCEAsJACAAIAE2AhALBwAgACgCFAsXACAAQSRPBEAACyAAQQJ0QZQ3aigCAAsXACAAQS9PBEAACyAAQQJ0QaQ4aigCAAu/CQEBf0HfLCEBAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAEHkAGsO9ANjYgABYWFhYWFhAgMEBWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWEGBwgJCgsMDQ4PYWFhYWEQYWFhYWFhYWFhYWERYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhEhMUFRYXGBkaG2FhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWEcHR4fICEiIyQlJicoKSorLC0uLzAxMjM0NTZhNzg5OmFhYWFhYWFhO2FhYTxhYWFhPT4/YWFhYWFhYWFAYWFBYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhQkNERUZHSElKS0xNTk9QUVJTYWFhYWFhYWFUVVZXWFlaW2FcXWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYV5hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFfYGELQdUrDwtBgyUPC0G/MA8LQfI1DwtBtCgPC0GfKA8LQYEsDwtB1ioPC0H0Mw8LQa0zDwtByygPC0HOIw8LQcAjDwtB2SMPC0HRJA8LQZwzDwtBojYPC0H8Mw8LQeArDwtB4SUPC0HtIA8LQcQyDwtBqScPC0G5Ng8LQbggDwtBqyAPC0GjJA8LQbYkDwtBgSMPC0HhMg8LQZ80DwtByCkPC0HAMg8LQe4yDwtB8C8PC0HGNA8LQdAhDwtBmiQPC0HrLw8LQYQ1DwtByzUPC0GWMQ8LQcgrDwtB1C8PC0GTMA8LQd81DwtBtCMPC0G+NQ8LQdIpDwtBsyIPC0HNIA8LQZs2DwtBkCEPC0H/IA8LQa01DwtBsDQPC0HxJA8LQacqDwtB3TAPC0GLIg8LQcgvDwtB6yoPC0H0KQ8LQY8lDwtB3SIPC0HsJg8LQf0wDwtB1iYPC0GUNQ8LQY0jDwtBuikPC0HHIg8LQfIlDwtBtjMPC0GiIQ8LQf8vDwtBwCEPC0GBMw8LQcklDwtBqDEPC0HGMw8LQdM2DwtBxjYPC0HkNA8LQYgmDwtB7ScPC0H4IQ8LQakwDwtBjzQPC0GGNg8LQaovDwtBoSYPC0HsNg8LQZIpDwtBryYPC0GZIg8LQeAhDwsAC0G1JSEBCyABCxcAIAAgAC8BLkH+/wNxIAFBAEdyOwEuCxoAIAAgAC8BLkH9/wNxIAFBAEdBAXRyOwEuCxoAIAAgAC8BLkH7/wNxIAFBAEdBAnRyOwEuCxoAIAAgAC8BLkH3/wNxIAFBAEdBA3RyOwEuCxoAIAAgAC8BLkHv/wNxIAFBAEdBBHRyOwEuCxoAIAAgAC8BLkHf/wNxIAFBAEdBBXRyOwEuCxoAIAAgAC8BLkG//wNxIAFBAEdBBnRyOwEuCxoAIAAgAC8BLkH//gNxIAFBAEdBB3RyOwEuCxoAIAAgAC8BLkH//QNxIAFBAEdBCHRyOwEuCxoAIAAgAC8BLkH/+wNxIAFBAEdBCXRyOwEuCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBzhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB5Ao2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB5R02AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBnRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBoh42AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7hQ2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9xs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRU2AhBBGCEECyAECzgAIAACfyAALwEyQRRxQRRGBEBBASAALQAoQQFGDQEaIAAvATRB5QBGDAELIAAtAClBBUYLOgAwC1kBAn8CQCAALQAoQQFGDQAgAC8BNCIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMiIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEyIgFBAnFFDQEMAgsgAC8BMiIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATQiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtXACAAQRhqQgA3AwAgAEIANwMAIABBOGpCADcDACAAQTBqQgA3AwAgAEEoakIANwMAIABBIGpCADcDACAAQRBqQgA3AwAgAEEIakIANwMAIABB7AE2AhwLBgAgABA5C5otAQt/IwBBEGsiCiQAQZjUACgCACIJRQRAQdjXACgCACIFRQRAQeTXAEJ/NwIAQdzXAEKAgISAgIDAADcCAEHY1wAgCkEIakFwcUHYqtWqBXMiBTYCAEHs1wBBADYCAEG81wBBADYCAAtBwNcAQYDYBDYCAEGQ1ABBgNgENgIAQaTUACAFNgIAQaDUAEF/NgIAQcTXAEGAqAM2AgADQCABQbzUAGogAUGw1ABqIgI2AgAgAiABQajUAGoiAzYCACABQbTUAGogAzYCACABQcTUAGogAUG41ABqIgM2AgAgAyACNgIAIAFBzNQAaiABQcDUAGoiAjYCACACIAM2AgAgAUHI1ABqIAI2AgAgAUEgaiIBQYACRw0AC0GM2ARBwacDNgIAQZzUAEHo1wAoAgA2AgBBjNQAQcCnAzYCAEGY1ABBiNgENgIAQcz/B0E4NgIAQYjYBCEJCwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB7AFNBEBBgNQAKAIAIgZBECAAQRNqQXBxIABBC0kbIgRBA3YiAHYiAUEDcQRAAkAgAUEBcSAAckEBcyICQQN0IgBBqNQAaiIBIABBsNQAaigCACIAKAIIIgNGBEBBgNQAIAZBfiACd3E2AgAMAQsgASADNgIIIAMgATYCDAsgAEEIaiEBIAAgAkEDdCICQQNyNgIEIAAgAmoiACAAKAIEQQFyNgIEDBELQYjUACgCACIIIARPDQEgAQRAAkBBAiAAdCICQQAgAmtyIAEgAHRxaCIAQQN0IgJBqNQAaiIBIAJBsNQAaigCACICKAIIIgNGBEBBgNQAIAZBfiAAd3EiBjYCAAwBCyABIAM2AgggAyABNgIMCyACIARBA3I2AgQgAEEDdCIAIARrIQUgACACaiAFNgIAIAIgBGoiBCAFQQFyNgIEIAgEQCAIQXhxQajUAGohAEGU1AAoAgAhAwJ/QQEgCEEDdnQiASAGcUUEQEGA1AAgASAGcjYCACAADAELIAAoAggLIgEgAzYCDCAAIAM2AgggAyAANgIMIAMgATYCCAsgAkEIaiEBQZTUACAENgIAQYjUACAFNgIADBELQYTUACgCACILRQ0BIAtoQQJ0QbDWAGooAgAiACgCBEF4cSAEayEFIAAhAgNAAkAgAigCECIBRQRAIAJBFGooAgAiAUUNAQsgASgCBEF4cSAEayIDIAVJIQIgAyAFIAIbIQUgASAAIAIbIQAgASECDAELCyAAKAIYIQkgACgCDCIDIABHBEBBkNQAKAIAGiADIAAoAggiATYCCCABIAM2AgwMEAsgAEEUaiICKAIAIgFFBEAgACgCECIBRQ0DIABBEGohAgsDQCACIQcgASIDQRRqIgIoAgAiAQ0AIANBEGohAiADKAIQIgENAAsgB0EANgIADA8LQX8hBCAAQb9/Sw0AIABBE2oiAUFwcSEEQYTUACgCACIIRQ0AQQAgBGshBQJAAkACQAJ/QQAgBEGAAkkNABpBHyAEQf///wdLDQAaIARBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmoLIgZBAnRBsNYAaigCACICRQRAQQAhAUEAIQMMAQtBACEBIARBGSAGQQF2a0EAIAZBH0cbdCEAQQAhAwNAAkAgAigCBEF4cSAEayIHIAVPDQAgAiEDIAciBQ0AQQAhBSACIQEMAwsgASACQRRqKAIAIgcgByACIABBHXZBBHFqQRBqKAIAIgJGGyABIAcbIQEgAEEBdCEAIAINAAsLIAEgA3JFBEBBACEDQQIgBnQiAEEAIABrciAIcSIARQ0DIABoQQJ0QbDWAGooAgAhAQsgAUUNAQsDQCABKAIEQXhxIARrIgIgBUkhACACIAUgABshBSABIAMgABshAyABKAIQIgAEfyAABSABQRRqKAIACyIBDQALCyADRQ0AIAVBiNQAKAIAIARrTw0AIAMoAhghByADIAMoAgwiAEcEQEGQ1AAoAgAaIAAgAygCCCIBNgIIIAEgADYCDAwOCyADQRRqIgIoAgAiAUUEQCADKAIQIgFFDQMgA0EQaiECCwNAIAIhBiABIgBBFGoiAigCACIBDQAgAEEQaiECIAAoAhAiAQ0ACyAGQQA2AgAMDQtBiNQAKAIAIgMgBE8EQEGU1AAoAgAhAQJAIAMgBGsiAkEQTwRAIAEgBGoiACACQQFyNgIEIAEgA2ogAjYCACABIARBA3I2AgQMAQsgASADQQNyNgIEIAEgA2oiACAAKAIEQQFyNgIEQQAhAEEAIQILQYjUACACNgIAQZTUACAANgIAIAFBCGohAQwPC0GM1AAoAgAiAyAESwRAIAQgCWoiACADIARrIgFBAXI2AgRBmNQAIAA2AgBBjNQAIAE2AgAgCSAEQQNyNgIEIAlBCGohAQwPC0EAIQEgBAJ/QdjXACgCAARAQeDXACgCAAwBC0Hk1wBCfzcCAEHc1wBCgICEgICAwAA3AgBB2NcAIApBDGpBcHFB2KrVqgVzNgIAQezXAEEANgIAQbzXAEEANgIAQYCABAsiACAEQccAaiIFaiIGQQAgAGsiB3EiAk8EQEHw1wBBMDYCAAwPCwJAQbjXACgCACIBRQ0AQbDXACgCACIIIAJqIQAgACABTSAAIAhLcQ0AQQAhAUHw1wBBMDYCAAwPC0G81wAtAABBBHENBAJAAkAgCQRAQcDXACEBA0AgASgCACIAIAlNBEAgACABKAIEaiAJSw0DCyABKAIIIgENAAsLQQAQOiIAQX9GDQUgAiEGQdzXACgCACIBQQFrIgMgAHEEQCACIABrIAAgA2pBACABa3FqIQYLIAQgBk8NBSAGQf7///8HSw0FQbjXACgCACIDBEBBsNcAKAIAIgcgBmohASABIAdNDQYgASADSw0GCyAGEDoiASAARw0BDAcLIAYgA2sgB3EiBkH+////B0sNBCAGEDohACAAIAEoAgAgASgCBGpGDQMgACEBCwJAIAYgBEHIAGpPDQAgAUF/Rg0AQeDXACgCACIAIAUgBmtqQQAgAGtxIgBB/v///wdLBEAgASEADAcLIAAQOkF/RwRAIAAgBmohBiABIQAMBwtBACAGaxA6GgwECyABIgBBf0cNBQwDC0EAIQMMDAtBACEADAoLIABBf0cNAgtBvNcAQbzXACgCAEEEcjYCAAsgAkH+////B0sNASACEDohAEEAEDohASAAQX9GDQEgAUF/Rg0BIAAgAU8NASABIABrIgYgBEE4ak0NAQtBsNcAQbDXACgCACAGaiIBNgIAQbTXACgCACABSQRAQbTXACABNgIACwJAAkACQEGY1AAoAgAiAgRAQcDXACEBA0AgACABKAIAIgMgASgCBCIFakYNAiABKAIIIgENAAsMAgtBkNQAKAIAIgFBAEcgACABT3FFBEBBkNQAIAA2AgALQQAhAUHE1wAgBjYCAEHA1wAgADYCAEGg1ABBfzYCAEGk1ABB2NcAKAIANgIAQczXAEEANgIAA0AgAUG81ABqIAFBsNQAaiICNgIAIAIgAUGo1ABqIgM2AgAgAUG01ABqIAM2AgAgAUHE1ABqIAFBuNQAaiIDNgIAIAMgAjYCACABQczUAGogAUHA1ABqIgI2AgAgAiADNgIAIAFByNQAaiACNgIAIAFBIGoiAUGAAkcNAAtBeCAAa0EPcSIBIABqIgIgBkE4ayIDIAFrIgFBAXI2AgRBnNQAQejXACgCADYCAEGM1AAgATYCAEGY1AAgAjYCACAAIANqQTg2AgQMAgsgACACTQ0AIAIgA0kNACABKAIMQQhxDQBBeCACa0EPcSIAIAJqIgNBjNQAKAIAIAZqIgcgAGsiAEEBcjYCBCABIAUgBmo2AgRBnNQAQejXACgCADYCAEGM1AAgADYCAEGY1AAgAzYCACACIAdqQTg2AgQMAQsgAEGQ1AAoAgBJBEBBkNQAIAA2AgALIAAgBmohA0HA1wAhAQJAAkACQANAIAMgASgCAEcEQCABKAIIIgENAQwCCwsgAS0ADEEIcUUNAQtBwNcAIQEDQCABKAIAIgMgAk0EQCADIAEoAgRqIgUgAksNAwsgASgCCCEBDAALAAsgASAANgIAIAEgASgCBCAGajYCBCAAQXggAGtBD3FqIgkgBEEDcjYCBCADQXggA2tBD3FqIgYgBCAJaiIEayEBIAIgBkYEQEGY1AAgBDYCAEGM1ABBjNQAKAIAIAFqIgA2AgAgBCAAQQFyNgIEDAgLQZTUACgCACAGRgRAQZTUACAENgIAQYjUAEGI1AAoAgAgAWoiADYCACAEIABBAXI2AgQgACAEaiAANgIADAgLIAYoAgQiBUEDcUEBRw0GIAVBeHEhCCAFQf8BTQRAIAVBA3YhAyAGKAIIIgAgBigCDCICRgRAQYDUAEGA1AAoAgBBfiADd3E2AgAMBwsgAiAANgIIIAAgAjYCDAwGCyAGKAIYIQcgBiAGKAIMIgBHBEAgACAGKAIIIgI2AgggAiAANgIMDAULIAZBFGoiAigCACIFRQRAIAYoAhAiBUUNBCAGQRBqIQILA0AgAiEDIAUiAEEUaiICKAIAIgUNACAAQRBqIQIgACgCECIFDQALIANBADYCAAwEC0F4IABrQQ9xIgEgAGoiByAGQThrIgMgAWsiAUEBcjYCBCAAIANqQTg2AgQgAiAFQTcgBWtBD3FqQT9rIgMgAyACQRBqSRsiA0EjNgIEQZzUAEHo1wAoAgA2AgBBjNQAIAE2AgBBmNQAIAc2AgAgA0EQakHI1wApAgA3AgAgA0HA1wApAgA3AghByNcAIANBCGo2AgBBxNcAIAY2AgBBwNcAIAA2AgBBzNcAQQA2AgAgA0EkaiEBA0AgAUEHNgIAIAUgAUEEaiIBSw0ACyACIANGDQAgAyADKAIEQX5xNgIEIAMgAyACayIFNgIAIAIgBUEBcjYCBCAFQf8BTQRAIAVBeHFBqNQAaiEAAn9BgNQAKAIAIgFBASAFQQN2dCIDcUUEQEGA1AAgASADcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbDWAGohAEGE1AAoAgAiA0EBIAF0IgZxRQRAIAAgAjYCAEGE1AAgAyAGcjYCACACIAA2AhggAiACNgIIIAIgAjYCDAwBCyAFQRkgAUEBdmtBACABQR9HG3QhASAAKAIAIQMCQANAIAMiACgCBEF4cSAFRg0BIAFBHXYhAyABQQF0IQEgACADQQRxakEQaiIGKAIAIgMNAAsgBiACNgIAIAIgADYCGCACIAI2AgwgAiACNgIIDAELIAAoAggiASACNgIMIAAgAjYCCCACQQA2AhggAiAANgIMIAIgATYCCAtBjNQAKAIAIgEgBE0NAEGY1AAoAgAiACAEaiICIAEgBGsiAUEBcjYCBEGM1AAgATYCAEGY1AAgAjYCACAAIARBA3I2AgQgAEEIaiEBDAgLQQAhAUHw1wBBMDYCAAwHC0EAIQALIAdFDQACQCAGKAIcIgJBAnRBsNYAaiIDKAIAIAZGBEAgAyAANgIAIAANAUGE1ABBhNQAKAIAQX4gAndxNgIADAILIAdBEEEUIAcoAhAgBkYbaiAANgIAIABFDQELIAAgBzYCGCAGKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAGQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAIaiEBIAYgCGoiBigCBCEFCyAGIAVBfnE2AgQgASAEaiABNgIAIAQgAUEBcjYCBCABQf8BTQRAIAFBeHFBqNQAaiEAAn9BgNQAKAIAIgJBASABQQN2dCIBcUUEQEGA1AAgASACcjYCACAADAELIAAoAggLIgEgBDYCDCAAIAQ2AgggBCAANgIMIAQgATYCCAwBC0EfIQUgAUH///8HTQRAIAFBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmohBQsgBCAFNgIcIARCADcCECAFQQJ0QbDWAGohAEGE1AAoAgAiAkEBIAV0IgNxRQRAIAAgBDYCAEGE1AAgAiADcjYCACAEIAA2AhggBCAENgIIIAQgBDYCDAwBCyABQRkgBUEBdmtBACAFQR9HG3QhBSAAKAIAIQACQANAIAAiAigCBEF4cSABRg0BIAVBHXYhACAFQQF0IQUgAiAAQQRxakEQaiIDKAIAIgANAAsgAyAENgIAIAQgAjYCGCAEIAQ2AgwgBCAENgIIDAELIAIoAggiACAENgIMIAIgBDYCCCAEQQA2AhggBCACNgIMIAQgADYCCAsgCUEIaiEBDAILAkAgB0UNAAJAIAMoAhwiAUECdEGw1gBqIgIoAgAgA0YEQCACIAA2AgAgAA0BQYTUACAIQX4gAXdxIgg2AgAMAgsgB0EQQRQgBygCECADRhtqIAA2AgAgAEUNAQsgACAHNgIYIAMoAhAiAQRAIAAgATYCECABIAA2AhgLIANBFGooAgAiAUUNACAAQRRqIAE2AgAgASAANgIYCwJAIAVBD00EQCADIAQgBWoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARqIgIgBUEBcjYCBCADIARBA3I2AgQgAiAFaiAFNgIAIAVB/wFNBEAgBUF4cUGo1ABqIQACf0GA1AAoAgAiAUEBIAVBA3Z0IgVxRQRAQYDUACABIAVyNgIAIAAMAQsgACgCCAsiASACNgIMIAAgAjYCCCACIAA2AgwgAiABNgIIDAELQR8hASAFQf///wdNBEAgBUEmIAVBCHZnIgBrdkEBcSAAQQF0a0E+aiEBCyACIAE2AhwgAkIANwIQIAFBAnRBsNYAaiEAQQEgAXQiBCAIcUUEQCAAIAI2AgBBhNQAIAQgCHI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEEAkADQCAEIgAoAgRBeHEgBUYNASABQR12IQQgAUEBdCEBIAAgBEEEcWpBEGoiBigCACIEDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLIANBCGohAQwBCwJAIAlFDQACQCAAKAIcIgFBAnRBsNYAaiICKAIAIABGBEAgAiADNgIAIAMNAUGE1AAgC0F+IAF3cTYCAAwCCyAJQRBBFCAJKAIQIABGG2ogAzYCACADRQ0BCyADIAk2AhggACgCECIBBEAgAyABNgIQIAEgAzYCGAsgAEEUaigCACIBRQ0AIANBFGogATYCACABIAM2AhgLAkAgBUEPTQRAIAAgBCAFaiIBQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEDAELIAAgBGoiByAFQQFyNgIEIAAgBEEDcjYCBCAFIAdqIAU2AgAgCARAIAhBeHFBqNQAaiEBQZTUACgCACEDAn9BASAIQQN2dCICIAZxRQRAQYDUACACIAZyNgIAIAEMAQsgASgCCAsiAiADNgIMIAEgAzYCCCADIAE2AgwgAyACNgIIC0GU1AAgBzYCAEGI1AAgBTYCAAsgAEEIaiEBCyAKQRBqJAAgAQtDACAARQRAPwBBEHQPCwJAIABB//8DcQ0AIABBAEgNACAAQRB2QAAiAEF/RgRAQfDXAEEwNgIAQX8PCyAAQRB0DwsACwvbQCIAQYAICwkBAAAAAgAAAAMAQZQICwUEAAAABQBBpAgLCQYAAAAHAAAACABB3AgLgjFJbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBFeHBlY3RlZCBMRiBhZnRlciBoZWFkZXJzAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMAVXNlciBjYWxsYmFjayBlcnJvcgBgb25fcmVzZXRgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19oZWFkZXJgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21ldGhvZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lYCBjYWxsYmFjayBlcnJvcgBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNlcnZlcgBJbnZhbGlkIGhlYWRlciB2YWx1ZSBjaGFyAEludmFsaWQgaGVhZGVyIGZpZWxkIGNoYXIAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl92ZXJzaW9uAEludmFsaWQgbWlub3IgdmVyc2lvbgBJbnZhbGlkIG1ham9yIHZlcnNpb24ARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgdmVyc2lvbgBFeHBlY3RlZCBDUkxGIGFmdGVyIHZlcnNpb24ASW52YWxpZCBIVFRQIHZlcnNpb24ASW52YWxpZCBoZWFkZXIgdG9rZW4AU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl91cmwASW52YWxpZCBjaGFyYWN0ZXJzIGluIHVybABVbmV4cGVjdGVkIHN0YXJ0IGNoYXIgaW4gdXJsAERvdWJsZSBAIGluIHVybABFbXB0eSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXJhY3RlciBpbiBDb250ZW50LUxlbmd0aABUcmFuc2Zlci1FbmNvZGluZyBjYW4ndCBiZSBwcmVzZW50IHdpdGggQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciBjaHVuayBzaXplAEV4cGVjdGVkIExGIGFmdGVyIGNodW5rIHNpemUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgaGVhZGVyIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciBjaHVuayBleHRlbnNpb24gdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIHF1b3RlZC1wYWlyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciByZXNwb25zZSBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgY2h1bmsgZXh0ZW5zaW9uIG5hbWUASW52YWxpZCBzdGF0dXMgY29kZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABNaXNzaW5nIGV4cGVjdGVkIENSIGFmdGVyIGNodW5rIGRhdGEARXhwZWN0ZWQgTEYgYWZ0ZXIgY2h1bmsgZGF0YQBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AARGF0YSBhZnRlciBgQ29ubmVjdGlvbjogY2xvc2VgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBRVUVSWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAEV4cGVjdGVkIExGIGFmdGVyIENSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX0NIVU5LX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX05BTUVfQ09NUExFVEUASFBFX0NCX01FU1NBR0VfQ09NUExFVEUASFBFX0NCX01FVEhPRF9DT01QTEVURQBIUEVfQ0JfSEVBREVSX0ZJRUxEX0NPTVBMRVRFAERFTEVURQBIUEVfSU5WQUxJRF9FT0ZfU1RBVEUASU5WQUxJRF9TU0xfQ0VSVElGSUNBVEUAUEFVU0UATk9fUkVTUE9OU0UAVU5TVVBQT1JURURfTUVESUFfVFlQRQBHT05FAE5PVF9BQ0NFUFRBQkxFAFNFUlZJQ0VfVU5BVkFJTEFCTEUAUkFOR0VfTk9UX1NBVElTRklBQkxFAE9SSUdJTl9JU19VTlJFQUNIQUJMRQBSRVNQT05TRV9JU19TVEFMRQBQVVJHRQBNRVJHRQBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFAFJFUVVFU1RfSEVBREVSX1RPT19MQVJHRQBQQVlMT0FEX1RPT19MQVJHRQBJTlNVRkZJQ0lFTlRfU1RPUkFHRQBIUEVfUEFVU0VEX1VQR1JBREUASFBFX1BBVVNFRF9IMl9VUEdSQURFAFNPVVJDRQBBTk5PVU5DRQBUUkFDRQBIUEVfVU5FWFBFQ1RFRF9TUEFDRQBERVNDUklCRQBVTlNVQlNDUklCRQBSRUNPUkQASFBFX0lOVkFMSURfTUVUSE9EAE5PVF9GT1VORABQUk9QRklORABVTkJJTkQAUkVCSU5EAFVOQVVUSE9SSVpFRABNRVRIT0RfTk9UX0FMTE9XRUQASFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQAQUxSRUFEWV9SRVBPUlRFRABBQ0NFUFRFRABOT1RfSU1QTEVNRU5URUQATE9PUF9ERVRFQ1RFRABIUEVfQ1JfRVhQRUNURUQASFBFX0xGX0VYUEVDVEVEAENSRUFURUQASU1fVVNFRABIUEVfUEFVU0VEAFRJTUVPVVRfT0NDVVJFRABQQVlNRU5UX1JFUVVJUkVEAFBSRUNPTkRJVElPTl9SRVFVSVJFRABQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRABORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAExFTkdUSF9SRVFVSVJFRABTU0xfQ0VSVElGSUNBVEVfUkVRVUlSRUQAVVBHUkFERV9SRVFVSVJFRABQQUdFX0VYUElSRUQAUFJFQ09ORElUSU9OX0ZBSUxFRABFWFBFQ1RBVElPTl9GQUlMRUQAUkVWQUxJREFUSU9OX0ZBSUxFRABTU0xfSEFORFNIQUtFX0ZBSUxFRABMT0NLRUQAVFJBTlNGT1JNQVRJT05fQVBQTElFRABOT1RfTU9ESUZJRUQATk9UX0VYVEVOREVEAEJBTkRXSURUSF9MSU1JVF9FWENFRURFRABTSVRFX0lTX09WRVJMT0FERUQASEVBRABFeHBlY3RlZCBIVFRQLwAAUhUAABoVAAAPEgAA5BkAAJEVAAAJFAAALRkAAOQUAADpEQAAaRQAAKEUAAB2FQAAQxYAAF4SAACUFwAAFxYAAH0UAAB/FgAAQRcAALMTAADDFgAABBoAAL0YAADQGAAAoBMAANQZAACvFgAAaBYAAHAXAADZFgAA/BgAAP4RAABZFwAAlxYAABwXAAD2FgAAjRcAAAsSAAB/GwAALhEAALMQAABJEgAArRIAAPYYAABoEAAAYhUAABAVAABaFgAAShkAALUVAADBFQAAYBUAAFwZAABaGQAAUxkAABYVAACtEQAAQhAAALcQAABXGAAAvxUAAIkQAAAcGQAAGhkAALkVAABRGAAA3BMAAFsVAABZFQAA5hgAAGcVAAARGQAA7RgAAOcTAACuEAAAwhcAAAAUAACSEwAAhBMAAEASAAAmGQAArxUAAGIQAEHpOQsBAQBBgDoL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB6jsLBAEAAAIAQYE8C14DBAMDAwMDAAADAwADAwADAwMDAwMDAwMDAAUAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAwADAEHqPQsEAQAAAgBBgT4LXgMAAwMDAwMAAAMDAAMDAAMDAwMDAwMDAwMABAAFAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwADAAMAQeA/Cw1sb3NlZWVwLWFsaXZlAEH5PwsBAQBBkMAAC+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnBAAsBAQBBkMIAC+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGhxAALXgEAAQEBAQEAAAEBAAEBAAEBAQEBAQEBAQEAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEAQYDGAAshZWN0aW9uZW50LWxlbmd0aG9ucm94eS1jb25uZWN0aW9uAEGwxgALK3JhbnNmZXItZW5jb2RpbmdwZ3JhZGUNCg0KU00NCg0KVFRQL0NFL1RTUC8AQenGAAsFAQIAAQMAQYDHAAtfBAUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUAQenIAAsFAQIAAQMAQYDJAAtfBAUFBgUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUAQenKAAsEAQAAAQBBgcsAC14CAgACAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAEHpzAALBQECAAEDAEGAzQALXwQFAAAFBQUFBQUFBQUFBQYFBQUFBQUFBQUFBQUABQAHCAUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQAFAAUABQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUAAAAFAEHpzgALBQEBAAEBAEGAzwALAQEAQZrPAAtBAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQenQAAsFAQEAAQEAQYDRAAsBAQBBitEACwYCAAAAAAIAQaHRAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB4NIAC5oBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRVVFUllPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==";Object.defineProperty(a,"exports",{get:()=>d||(d=e.from(f,"base64"))})},79808:(a,b,c)=>{"use strict";c.d(b,{h:()=>e,w:()=>f});var d=c(82544);let e={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},f=(a,{httpAuthSchemeParametersProvider:b,identityProviderConfigProvider:c})=>({applyToStack:f=>{f.addRelativeTo((0,d.E)(a,{httpAuthSchemeParametersProvider:b,identityProviderConfigProvider:c}),e)}})},79845:(a,b,c)=>{"use strict";let{InvalidArgumentError:d,RequestAbortedError:e}=c(212),f=c(6e3);class g extends f{#bw=1048576;#cm=!1;#bx=0;#ch=null;aborted=!1;reason=!1;constructor({maxSize:a,signal:b},c){if(null!=a&&(!Number.isFinite(a)||a<1))throw new d("maxSize must be a number greater than 0");super(c),this.#bw=a??this.#bw}#cn(a){this.aborted=!0,this.reason=a}onRequestStart(a,b){return a.abort=this.#cn.bind(this),this.#ch=a,super.onRequestStart(a,b)}onResponseStart(a,b,c,d){let f=c["content-length"];if(null!=f&&f>this.#bw)throw new e(`Response size (${f}) larger than maxSize (${this.#bw})`);return!0===this.aborted||super.onResponseStart(a,b,c,d)}onResponseError(a,b){this.#cm||(b=this.#ch.reason??b,super.onResponseError(a,b))}onResponseData(a,b){return this.#bx=this.#bx+b.length,this.#bx>=this.#bw&&(this.#cm=!0,!0===this.aborted?super.onResponseError(a,this.reason):super.onResponseEnd(a,{})),!0}onResponseEnd(a,b){if(!this.#cm){if(!0===this.#ch.aborted)return void super.onResponseError(a,this.reason);super.onResponseEnd(a,b)}}}a.exports=function({maxSize:a}={maxSize:1048576}){return b=>function(c,d){let{dumpMaxSize:e=a}=c,f=new g({maxSize:e,signal:c.signal},d);return b(c,f)}}},79875:(a,b,c)=>{"use strict";let d=Symbol.for("pino.metadata"),e=c(60209),{Duplex:f}=c(27910),{parentPort:g,workerData:h}=c(73566);function i(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return c.resolve=a,c.reject=b,c}function j(a,b){process.nextTick(b,a)}a.exports=function(a,b={}){let c=!0===b.expectPinoConfig&&h?.workerData?.pinoWillSendConfig===!0,k="lines"===b.parse,l="function"==typeof b.parseLine?b.parseLine:JSON.parse,m=b.close||j,o=e(function(a){let b;try{b=l(a)}catch(b){this.emit("unknown",a,b);return}return null===b?void this.emit("unknown",a,"Null value ignored"):("object"!=typeof b&&(b={data:b,time:Date.now()}),o[d]&&(o.lastTime=b.time,o.lastLevel=b.level,o.lastObj=b),k)?a:b},{autoDestroy:!0});if(o._destroy=function(a,b){let c=m(a,b);c&&"function"==typeof c.then&&c.then(b,b)},!0===b.expectPinoConfig&&h?.workerData?.pinoWillSendConfig!==!0&&setImmediate(()=>{o.emit("error",Error("This transport is not compatible with the current version of pino. Please upgrade pino to the latest version."))}),!1!==b.metadata&&(o[d]=!0,o.lastTime=0,o.lastLevel=0,o.lastObj=null),c){let a={},b=i();return g.on("message",function c(d){"PINO_CONFIG"===d.code&&(a=d.config,b.resolve(),g.off("message",c))}),Object.defineProperties(o,{levels:{get:()=>a.levels},messageKey:{get:()=>a.messageKey},errorKey:{get:()=>a.errorKey}}),b.then(p)}return p();function p(){let c=a(o);if(c&&"function"==typeof c.catch)c.catch(a=>{o.destroy(a)}),c=null;else if(b.enablePipelining&&c)return f.from({writable:o,readable:c});return o}}},79990:(a,b,c)=>{"use strict";let{InvalidArgumentError:d,NotSupportedError:e}=c(212),f=c(34589),{isValidHTTPToken:g,isValidHeaderValue:h,isStream:i,destroy:j,isBuffer:k,isFormDataLike:l,isIterable:m,isBlobLike:o,serializePathWithQuery:p,assertRequestHandler:q,getServerName:r,normalizedMethodRecords:s}=c(33895),{channels:t}=c(20471),{headerNameLowerCasedRecord:u}=c(63090),v=/[^\u0021-\u00ff]/,w=Symbol("handler");class x{constructor(a,{path:b,method:c,body:e,headers:f,query:h,idempotent:u,blocking:x,upgrade:z,headersTimeout:A,bodyTimeout:B,reset:C,expectContinue:D,servername:E,throwOnError:F},G){if("string"!=typeof b)throw new d("path must be a string");if("/"===b[0]||b.startsWith("http://")||b.startsWith("https://")||"CONNECT"===c){if(v.test(b))throw new d("invalid request path")}else throw new d("path must be an absolute URL or start with a slash");if("string"!=typeof c)throw new d("method must be a string");if(void 0===s[c]&&!g(c))throw new d("invalid request method");if(z&&"string"!=typeof z)throw new d("upgrade must be a string");if(null!=A&&(!Number.isFinite(A)||A<0))throw new d("invalid headersTimeout");if(null!=B&&(!Number.isFinite(B)||B<0))throw new d("invalid bodyTimeout");if(null!=C&&"boolean"!=typeof C)throw new d("invalid reset");if(null!=D&&"boolean"!=typeof D)throw new d("invalid expectContinue");if(null!=F)throw new d("invalid throwOnError");if(this.headersTimeout=A,this.bodyTimeout=B,this.method=c,this.abort=null,null==e)this.body=null;else if(i(e)){this.body=e;let a=this.body._readableState;a&&a.autoDestroy||(this.endHandler=function(){j(this)},this.body.on("end",this.endHandler)),this.errorHandler=a=>{this.abort?this.abort(a):this.error=a},this.body.on("error",this.errorHandler)}else if(k(e))this.body=e.byteLength?e:null;else if(ArrayBuffer.isView(e))this.body=e.buffer.byteLength?Buffer.from(e.buffer,e.byteOffset,e.byteLength):null;else if(e instanceof ArrayBuffer)this.body=e.byteLength?Buffer.from(e):null;else if("string"==typeof e)this.body=e.length?Buffer.from(e):null;else if(l(e)||m(e)||o(e))this.body=e;else throw new d("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=z||null,this.path=h?p(b,h):b,this.origin=a,this.idempotent=null==u?"HEAD"===c||"GET"===c:u,this.blocking=x??"HEAD"!==this.method,this.reset=null==C?null:C,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=null!=D&&D,Array.isArray(f)){if(f.length%2!=0)throw new d("headers array must be even");for(let a=0;a<f.length;a+=2)y(this,f[a],f[a+1])}else if(f&&"object"==typeof f)if(f[Symbol.iterator])for(let a of f){if(!Array.isArray(a)||2!==a.length)throw new d("headers must be in key-value pair format");y(this,a[0],a[1])}else{let a=Object.keys(f);for(let b=0;b<a.length;++b)y(this,a[b],f[a[b]])}else if(null!=f)throw new d("headers must be an object or an array");q(G,c,z),this.servername=E||r(this.host)||null,this[w]=G,t.create.hasSubscribers&&t.create.publish({request:this})}onBodySent(a){if(this[w].onBodySent)try{return this[w].onBodySent(a)}catch(a){this.abort(a)}}onRequestSent(){if(t.bodySent.hasSubscribers&&t.bodySent.publish({request:this}),this[w].onRequestSent)try{return this[w].onRequestSent()}catch(a){this.abort(a)}}onConnect(a){if(f(!this.aborted),f(!this.completed),!this.error)return this.abort=a,this[w].onConnect(a);a(this.error)}onResponseStarted(){return this[w].onResponseStarted?.()}onHeaders(a,b,c,d){f(!this.aborted),f(!this.completed),t.headers.hasSubscribers&&t.headers.publish({request:this,response:{statusCode:a,headers:b,statusText:d}});try{return this[w].onHeaders(a,b,c,d)}catch(a){this.abort(a)}}onData(a){f(!this.aborted),f(!this.completed);try{return this[w].onData(a)}catch(a){return this.abort(a),!1}}onUpgrade(a,b,c){return f(!this.aborted),f(!this.completed),this[w].onUpgrade(a,b,c)}onComplete(a){this.onFinally(),f(!this.aborted),f(!this.completed),this.completed=!0,t.trailers.hasSubscribers&&t.trailers.publish({request:this,trailers:a});try{return this[w].onComplete(a)}catch(a){this.onError(a)}}onError(a){if(this.onFinally(),t.error.hasSubscribers&&t.error.publish({request:this,error:a}),!this.aborted)return this.aborted=!0,this[w].onError(a)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(a,b){return y(this,a,b),this}}function y(a,b,c){if(c&&"object"==typeof c&&!Array.isArray(c))throw new d(`invalid ${b} header`);if(void 0===c)return;let f=u[b];if(void 0===f&&void 0===u[f=b.toLowerCase()]&&!g(f))throw new d("invalid header key");if(Array.isArray(c)){let a=[];for(let e=0;e<c.length;e++)if("string"==typeof c[e]){if(!h(c[e]))throw new d(`invalid ${b} header`);a.push(c[e])}else if(null===c[e])a.push("");else if("object"==typeof c[e])throw new d(`invalid ${b} header`);else a.push(`${c[e]}`);c=a}else if("string"==typeof c){if(!h(c))throw new d(`invalid ${b} header`)}else c=null===c?"":`${c}`;if(null===a.host&&"host"===f){if("string"!=typeof c)throw new d("invalid host header");a.host=c}else if(null===a.contentLength&&"content-length"===f){if(a.contentLength=parseInt(c,10),!Number.isFinite(a.contentLength))throw new d("invalid content-length header")}else if(null===a.contentType&&"content-type"===f)a.contentType=c,a.headers.push(b,c);else if("transfer-encoding"===f||"keep-alive"===f||"upgrade"===f)throw new d(`invalid ${f} header`);else if("connection"===f){let b="string"==typeof c?c.toLowerCase():null;if("close"!==b&&"keep-alive"!==b)throw new d("invalid connection header");"close"===b&&(a.reset=!0)}else if("expect"===f)throw new e("expect header not supported");else a.headers.push(b,c)}a.exports=x},80044:(a,b,c)=>{"use strict";c.d(b,{y:()=>e});var d=c(82222);let e=async({id:a,slug:b,payload:c,req:e})=>{try{await c.db.deleteMany({collection:d.SJ,req:e,where:{and:[{completedAt:{exists:!1}},{processing:{equals:!1}},{"input.doc.value":{equals:a}},{"input.doc.relationTo":{equals:b}},{taskSlug:{equals:"schedulePublish"}}]}})}catch(d){c.logger.error({err:d,msg:`There was an error deleting scheduled publish jobs from the queue for ${b} document with ID ${a}.`})}}},80098:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isStreamingPayload=void 0;let d=c(27910);b.isStreamingPayload=a=>a?.body instanceof d.Readable||"undefined"!=typeof ReadableStream&&a?.body instanceof ReadableStream},80249:(a,b,c)=>{"use strict";c.d(b,{f:()=>g});var d=c(27910),e=c(56533);let f=6e3;async function g(a,b,c=f){let d=b.headers??{},i=d.Expect||d.expect,j=-1,k=!0;"100-continue"===i&&(k=await Promise.race([new Promise(a=>{j=Number(e.N.setTimeout(()=>a(!0),Math.max(f,c)))}),new Promise(b=>{a.on("continue",()=>{e.N.clearTimeout(j),b(!0)}),a.on("response",()=>{e.N.clearTimeout(j),b(!1)}),a.on("error",()=>{e.N.clearTimeout(j),b(!1)})})])),k&&h(a,b.body)}function h(a,b){if(b instanceof d.Readable)return void b.pipe(a);if(b){if(Buffer.isBuffer(b)||"string"==typeof b)return void a.end(b);let c=b;return"object"==typeof c&&c.buffer&&"number"==typeof c.byteOffset&&"number"==typeof c.byteLength?void a.end(Buffer.from(c.buffer,c.byteOffset,c.byteLength)):void a.end(Buffer.from(b))}a.end()}},80348:(a,b,c)=>{"use strict";c.d(b,{m:()=>h});var d=c(23631),e=c(27661),f=c(22501);let g=async({blockData:a,collection:b,context:c,data:g,doc:i,field:j,fieldIndex:k,global:l,operation:m,parentIndexPath:o,parentIsLocalized:p,parentPath:q,parentSchemaPath:r,previousDoc:s,previousSiblingDoc:t,req:u,siblingData:v,siblingDoc:w,siblingFields:x})=>{let{indexPath:y,path:z,schemaPath:A}=(0,f.I)({field:j,index:k,parentIndexPath:o,parentPath:q,parentSchemaPath:r}),B=z?z.split("."):[],C=A?A.split("."):[],D=y?y.split("-").filter(Boolean)?.map(Number):[];if((0,e.Z7)(j)&&"hooks"in j&&j.hooks?.afterChange)for(let d of j.hooks.afterChange){let e=await d({blockData:a,collection:b,context:c,data:g,field:j,global:l,indexPath:D,operation:m,originalDoc:i,path:B,previousDoc:s,previousSiblingDoc:t,previousValue:s?.[j.name],req:u,schemaPath:C,siblingData:v,siblingFields:x,value:w?.[j.name]});void 0!==e&&(w[j.name]=e)}switch(j.type){case"array":{let d=w[j.name];if(Array.isArray(d)){let e=[];d.forEach((d,f)=>{e.push(h({blockData:a,collection:b,context:c,data:g,doc:i,fields:j.fields,global:l,operation:m,parentIndexPath:"",parentIsLocalized:p||j.localized,parentPath:z+"."+f,parentSchemaPath:A,previousDoc:s,previousSiblingDoc:s?.[j.name]?.[f]||{},req:u,siblingData:v?.[j.name]?.[f]||{},siblingDoc:d?{...d}:{}}))}),await Promise.all(e)}break}case"blocks":{let a=w[j.name];if(Array.isArray(a)){let d=[];a.forEach((a,e)=>{let f=a.blockType,k=u.payload.blocks[f]??(j.blockReferences??j.blocks).find(a=>"string"!=typeof a&&a.slug===f);k&&d.push(h({blockData:v?.[j.name]?.[e],collection:b,context:c,data:g,doc:i,fields:k.fields,global:l,operation:m,parentIndexPath:"",parentIsLocalized:p||j.localized,parentPath:z+"."+e,parentSchemaPath:A+"."+k.slug,previousDoc:s,previousSiblingDoc:s?.[j.name]?.[e]||{},req:u,siblingData:v?.[j.name]?.[e]||{},siblingDoc:a?{...a}:{}}))}),await Promise.all(d)}break}case"collapsible":case"row":await h({blockData:a,collection:b,context:c,data:g,doc:i,fields:j.fields,global:l,operation:m,parentIndexPath:y,parentIsLocalized:p,parentPath:q,parentSchemaPath:A,previousDoc:s,previousSiblingDoc:{...t},req:u,siblingData:v||{},siblingDoc:{...w}});break;case"group":(0,e.Z7)(j)?await h({blockData:a,collection:b,context:c,data:g,doc:i,fields:j.fields,global:l,operation:m,parentIndexPath:"",parentIsLocalized:p||j.localized,parentPath:z,parentSchemaPath:A,previousDoc:s,previousSiblingDoc:s?.[j.name]||{},req:u,siblingData:v?.[j.name]||{},siblingDoc:w?.[j.name]||{}}):await h({blockData:a,collection:b,context:c,data:g,doc:i,fields:j.fields,global:l,operation:m,parentIndexPath:y,parentIsLocalized:p,parentPath:q,parentSchemaPath:A,previousDoc:s,previousSiblingDoc:{...t},req:u,siblingData:v||{},siblingDoc:{...w}});break;case"richText":{if(!j?.editor)throw new d.X(j);if("function"==typeof j.editor)throw Error("Attempted to access unsanitized rich text editor.");let a=j.editor;if(a?.hooks?.afterChange?.length)for(let d of a.hooks.afterChange){let a=await d({collection:b,context:c,data:g,field:j,global:l,indexPath:D,operation:m,originalDoc:i,parentIsLocalized:p,path:B,previousDoc:s,previousSiblingDoc:t,previousValue:s?.[j.name],req:u,schemaPath:C,siblingData:v,value:w?.[j.name]});void 0!==a&&(w[j.name]=a)}break}case"tab":{let d=v,f=w,k=w,o=(0,e.pz)(j);o&&(d=v?.[j.name]??{},f=w?.[j.name]??{},k=s?.[j.name]??{}),await h({blockData:a,collection:b,context:c,data:g,doc:i,fields:j.fields,global:l,operation:m,parentIndexPath:o?"":y,parentIsLocalized:p||j.localized,parentPath:o?z:q,parentSchemaPath:A,previousDoc:s,previousSiblingDoc:k,req:u,siblingData:d,siblingDoc:f});break}case"tabs":await h({blockData:a,collection:b,context:c,data:g,doc:i,fields:j.tabs.map(a=>({...a,type:"tab"})),global:l,operation:m,parentIndexPath:y,parentIsLocalized:p,parentPath:z,parentSchemaPath:A,previousDoc:s,previousSiblingDoc:{...t},req:u,siblingData:v||{},siblingDoc:{...w}})}},h=async({blockData:a,collection:b,context:c,data:d,doc:e,fields:f,global:h,operation:i,parentIndexPath:j,parentIsLocalized:k,parentPath:l,parentSchemaPath:m,previousDoc:o,previousSiblingDoc:p,req:q,siblingData:r,siblingDoc:s,siblingFields:t})=>{let u=[];f.forEach((f,v)=>{u.push(g({blockData:a,collection:b,context:c,data:d,doc:e,field:f,fieldIndex:v,global:h,operation:i,parentIndexPath:j,parentIsLocalized:k,parentPath:l,parentSchemaPath:m,previousDoc:o,previousSiblingDoc:p,req:q,siblingData:r,siblingDoc:s,siblingFields:t}))}),await Promise.all(u)}},80395:(a,b,c)=>{"use strict";c.d(b,{b:()=>k});var d=c(26132),e=c(50474),f=c(78690),g=c(58328);let h=a=>(b,c,d)=>{let e=a(d);e&&(e.append(...c),b.replace(e),e.select(0,0))},i=a=>{let b=a.map(a=>Number(a.slice(1))),c=RegExp(`^(${b.map(a=>`#{${a}}`).join("|")})\\s`);return{type:"element",dependencies:[d.jL],export:(a,b)=>{if(!(0,d.Pi)(a))return null;let c=Number(a.getTag().slice(1));return"#".repeat(c)+" "+b(a)},regExp:c,replace:h(a=>{let b="h"+a[1]?.length;return(0,d.fi)(b)})}},j={ar:{label:"العنوان {{headingLevel}}"},az:{label:"Başlıq {{headingLevel}}"},bg:{label:"Заглавие {{headingLevel}}"},cs:{label:"Nadpis {{headingLevel}}"},da:{label:"Overskrift {{overskriftNiveau}}"},de:{label:"\xdcberschrift {{headingLevel}}"},en:{label:"Heading {{headingLevel}}"},es:{label:"Encabezado {{headingLevel}}"},et:{label:"Pealkiri {{headingLevel}}"},fa:{label:"[SKIPPED]"},fr:{label:"En-t\xeate {{headingLevel}}"},he:{label:"כותרת {{רמת כותרת}}"},hr:{label:"Naslov {{headingLevel}}"},hu:{label:"C\xedmsor {{headingLevel}}"},is:{label:"Fyrirs\xf6gn {{headingLevel}}"},it:{label:"Intestazione {{headingLevel}}"},ja:{label:"見出し{{headingLevel}}"},ko:{label:"제목 {{headingLevel}}"},my:{label:"[SURAT]\n\nKepala {{headingLevel}}"},nb:{label:"Overskrift {{headingLevel}}"},nl:{label:"Kop {{headingLevel}}"},pl:{label:"Nagł\xf3wek {{headingLevel}}"},pt:{label:"Cabe\xe7alho {{headingLevel}}"},ro:{label:"Titlu {{headingLevel}}"},rs:{label:"Наслов {{headingLevel}}"},"rs-latin":{label:"Naslov {{headingLevel}}"},ru:{label:"Заголовок {{headingLevel}}"},sk:{label:"Nadpis {{headingLevel}}"},sl:{label:"Naslov {{headingLevel}}"},sv:{label:"Rubrik {{headingLevel}}"},ta:{label:"தலைப்பு {{headingLevel}}"},th:{label:"หัวข้อ {{headingLevel}}"},tr:{label:"Başlık {{headingLevel}}"},uk:{label:"Заголовок {{headingLevel}}"},vi:{label:"Ti\xeau đề {{headingLevel}}"},zh:{label:"标题 {{headingLevel}}"},"zh-TW":{label:"標題 {{headingLevel}}"}},k=(0,e.m)({feature:({props:a})=>{a||(a={});let{enabledHeadingSizes:b=["h1","h2","h3","h4","h5","h6"]}=a;return b.sort(),{ClientFeature:"@payloadcms/richtext-lexical/client#HeadingFeatureClient",clientFeatureProps:a,i18n:j,markdownTransformers:[i(b)],nodes:[(0,g.R)({converters:{html:{converter:async({converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:g,parent:h,req:i,showHiddenFields:j})=>{let k=await (0,f.D)({converters:a,currentDepth:b,depth:c,draft:d,lexicalNodes:e.children,overrideAccess:g,parent:{...e,parent:h},req:i,showHiddenFields:j}),l=[e.format?`text-align: ${e.format};`:"",e.indent>0?`padding-inline-start: ${40*e.indent}px;`:""].filter(Boolean).join(" ");return`<${e?.tag}${l?` style='${l}'`:""}>${k}</${e?.tag}>`},nodeTypes:[d.jL.getType()]}},node:d.jL})],sanitizedServerFeatureProps:a}},key:"heading"})},80440:(a,b,c)=>{"use strict";c.d(b,{d:()=>d});let d={SignatureV4a:null}},80555:function(a){!function(b){"use strict";let c="(0?\\d+|0x[a-f0-9]+)",d={fourOctet:RegExp(`^${c}\\.${c}\\.${c}\\.${c}$`,"i"),threeOctet:RegExp(`^${c}\\.${c}\\.${c}$`,"i"),twoOctet:RegExp(`^${c}\\.${c}$`,"i"),longValue:RegExp(`^${c}$`,"i")},e=RegExp("^0[0-7]+$","i"),f=RegExp("^0x[a-f0-9]+$","i"),g="%[0-9a-z]{1,}",h="(?:[0-9a-f]+::?)+",i={zoneIndex:RegExp(g,"i"),native:RegExp(`^(::)?(${h})?([0-9a-f]+)?(::)?(${g})?$`,"i"),deprecatedTransitional:RegExp(`^(?:::)(${c}\\.${c}\\.${c}\\.${c}(${g})?)$`,"i"),transitional:RegExp(`^((?:${h})|(?:::)(?:${h})?)${c}\\.${c}\\.${c}\\.${c}(${g})?$`,"i")};function j(a,b){let c,d;if(a.indexOf("::")!==a.lastIndexOf("::"))return null;let e=0,f=-1,g=(a.match(i.zoneIndex)||[])[0];for(g&&(g=g.substring(1),a=a.replace(/%.+$/,""));(f=a.indexOf(":",f+1))>=0;)e++;if("::"===a.substr(0,2)&&e--,"::"===a.substr(-2,2)&&e--,e>b)return null;for(d=b-e,c=":";d--;)c+="0:";return":"===(a=a.replace("::",c))[0]&&(a=a.slice(1)),":"===a[a.length-1]&&(a=a.slice(0,-1)),{parts:b=function(){let b=a.split(":"),c=[];for(let a=0;a<b.length;a++)c.push(parseInt(b[a],16));return c}(),zoneId:g}}function k(a,b,c,d){let e;if(a.length!==b.length)throw Error("ipaddr: cannot match CIDR for objects with different lengths");let f=0;for(;d>0;){if((e=c-d)<0&&(e=0),a[f]>>e!=b[f]>>e)return!1;d-=c,f+=1}return!0}function l(a){if(f.test(a))return parseInt(a,16);if("0"===a[0]&&!isNaN(parseInt(a[1],10))){if(e.test(a))return parseInt(a,8);throw Error(`ipaddr: cannot parse ${a} as octal`)}return parseInt(a,10)}function m(a,b){for(;a.length<b;)a=`0${a}`;return a}let o={};o.IPv4=function(){function a(a){let b,c;if(4!==a.length)throw Error("ipaddr: ipv4 octet count should be 4");for(b=0;b<a.length;b++)if(!(0<=(c=a[b])&&c<=255))throw Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=a}return a.prototype.SpecialRanges={unspecified:[[new a([0,0,0,0]),8]],broadcast:[[new a([255,255,255,255]),32]],multicast:[[new a([224,0,0,0]),4]],linkLocal:[[new a([169,254,0,0]),16]],loopback:[[new a([127,0,0,0]),8]],carrierGradeNat:[[new a([100,64,0,0]),10]],private:[[new a([10,0,0,0]),8],[new a([172,16,0,0]),12],[new a([192,168,0,0]),16]],reserved:[[new a([192,0,0,0]),24],[new a([192,0,2,0]),24],[new a([192,88,99,0]),24],[new a([198,18,0,0]),15],[new a([198,51,100,0]),24],[new a([203,0,113,0]),24],[new a([240,0,0,0]),4]],as112:[[new a([192,175,48,0]),24],[new a([192,31,196,0]),24]],amt:[[new a([192,52,193,0]),24]]},a.prototype.kind=function(){return"ipv4"},a.prototype.match=function(a,b){let c;if(void 0===b&&(a=(c=a)[0],b=c[1]),"ipv4"!==a.kind())throw Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return k(this.octets,a.octets,8,b)},a.prototype.prefixLengthFromSubnetMask=function(){let a,b,c,d=0,e=!1,f={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};for(a=3;a>=0;a-=1){if(!((b=this.octets[a])in f)||(c=f[b],e&&0!==c))return null;8!==c&&(e=!0),d+=c}return 32-d},a.prototype.range=function(){return o.subnetMatch(this,this.SpecialRanges)},a.prototype.toByteArray=function(){return this.octets.slice(0)},a.prototype.toIPv4MappedAddress=function(){return o.IPv6.parse(`::ffff:${this.toString()}`)},a.prototype.toNormalizedString=function(){return this.toString()},a.prototype.toString=function(){return this.octets.join(".")},a}(),o.IPv4.broadcastAddressFromCIDR=function(a){try{let b=this.parseCIDR(a),c=b[0].toByteArray(),d=this.subnetMaskFromPrefixLength(b[1]).toByteArray(),e=[],f=0;for(;f<4;)e.push(parseInt(c[f],10)|255^parseInt(d[f],10)),f++;return new this(e)}catch(a){throw Error("ipaddr: the address does not have IPv4 CIDR format")}},o.IPv4.isIPv4=function(a){return null!==this.parser(a)},o.IPv4.isValid=function(a){try{return new this(this.parser(a)),!0}catch(a){return!1}},o.IPv4.isValidCIDR=function(a){try{return this.parseCIDR(a),!0}catch(a){return!1}},o.IPv4.isValidFourPartDecimal=function(a){return!!(o.IPv4.isValid(a)&&a.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},o.IPv4.networkAddressFromCIDR=function(a){let b,c,d,e,f;try{for(d=(b=this.parseCIDR(a))[0].toByteArray(),f=this.subnetMaskFromPrefixLength(b[1]).toByteArray(),e=[],c=0;c<4;)e.push(parseInt(d[c],10)&parseInt(f[c],10)),c++;return new this(e)}catch(a){throw Error("ipaddr: the address does not have IPv4 CIDR format")}},o.IPv4.parse=function(a){let b=this.parser(a);if(null===b)throw Error("ipaddr: string is not formatted like an IPv4 Address");return new this(b)},o.IPv4.parseCIDR=function(a){let b;if(b=a.match(/^(.+)\/(\d+)$/)){let a=parseInt(b[2]);if(a>=0&&a<=32){let c=[this.parse(b[1]),a];return Object.defineProperty(c,"toString",{value:function(){return this.join("/")}}),c}}throw Error("ipaddr: string is not formatted like an IPv4 CIDR range")},o.IPv4.parser=function(a){let b,c;if(b=a.match(d.fourOctet))return function(){let a=b.slice(1,6),c=[];for(let b=0;b<a.length;b++)c.push(l(a[b]));return c}();if(b=a.match(d.longValue)){if((c=l(b[1]))>0xffffffff||c<0)throw Error("ipaddr: address outside defined range");return(function(){let a,b=[];for(a=0;a<=24;a+=8)b.push(c>>a&255);return b})().reverse()}return(b=a.match(d.twoOctet))?function(){let a=b.slice(1,4),d=[];if((c=l(a[1]))>0xffffff||c<0)throw Error("ipaddr: address outside defined range");return d.push(l(a[0])),d.push(c>>16&255),d.push(c>>8&255),d.push(255&c),d}():(b=a.match(d.threeOctet))?function(){let a=b.slice(1,5),d=[];if((c=l(a[2]))>65535||c<0)throw Error("ipaddr: address outside defined range");return d.push(l(a[0])),d.push(l(a[1])),d.push(c>>8&255),d.push(255&c),d}():null},o.IPv4.subnetMaskFromPrefixLength=function(a){if((a=parseInt(a))<0||a>32)throw Error("ipaddr: invalid IPv4 prefix length");let b=[0,0,0,0],c=0,d=Math.floor(a/8);for(;c<d;)b[c]=255,c++;return d<4&&(b[d]=Math.pow(2,a%8)-1<<8-a%8),new this(b)},o.IPv6=function(){function a(a,b){let c,d;if(16===a.length)for(c=0,this.parts=[];c<=14;c+=2)this.parts.push(a[c]<<8|a[c+1]);else if(8===a.length)this.parts=a;else throw Error("ipaddr: ipv6 part count should be 8 or 16");for(c=0;c<this.parts.length;c++)if(!(0<=(d=this.parts[c])&&d<=65535))throw Error("ipaddr: ipv6 part should fit in 16 bits");b&&(this.zoneId=b)}return a.prototype.SpecialRanges={unspecified:[new a([0,0,0,0,0,0,0,0]),128],linkLocal:[new a([65152,0,0,0,0,0,0,0]),10],multicast:[new a([65280,0,0,0,0,0,0,0]),8],loopback:[new a([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new a([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new a([0,0,0,0,0,65535,0,0]),96],discard:[new a([256,0,0,0,0,0,0,0]),64],rfc6145:[new a([0,0,0,0,65535,0,0,0]),96],rfc6052:[new a([100,65435,0,0,0,0,0,0]),96],"6to4":[new a([8194,0,0,0,0,0,0,0]),16],teredo:[new a([8193,0,0,0,0,0,0,0]),32],benchmarking:[new a([8193,2,0,0,0,0,0,0]),48],amt:[new a([8193,3,0,0,0,0,0,0]),32],as112v6:[[new a([8193,4,274,0,0,0,0,0]),48],[new a([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new a([8193,16,0,0,0,0,0,0]),28],orchid2:[new a([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new a([8193,48,0,0,0,0,0,0]),28],reserved:[[new a([8193,0,0,0,0,0,0,0]),23],[new a([8193,3512,0,0,0,0,0,0]),32]]},a.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},a.prototype.kind=function(){return"ipv6"},a.prototype.match=function(a,b){let c;if(void 0===b&&(a=(c=a)[0],b=c[1]),"ipv6"!==a.kind())throw Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return k(this.parts,a.parts,16,b)},a.prototype.prefixLengthFromSubnetMask=function(){let a,b,c=0,d=!1,e={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};for(let f=7;f>=0;f-=1){if(!((a=this.parts[f])in e)||(b=e[a],d&&0!==b))return null;16!==b&&(d=!0),c+=b}return 128-c},a.prototype.range=function(){return o.subnetMatch(this,this.SpecialRanges)},a.prototype.toByteArray=function(){let a,b=[],c=this.parts;for(let d=0;d<c.length;d++)b.push((a=c[d])>>8),b.push(255&a);return b},a.prototype.toFixedLengthString=function(){let a=(function(){let a=[];for(let b=0;b<this.parts.length;b++)a.push(m(this.parts[b].toString(16),4));return a}).call(this).join(":"),b="";return this.zoneId&&(b=`%${this.zoneId}`),a+b},a.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw Error("ipaddr: trying to convert a generic ipv6 address to ipv4");let a=this.parts.slice(-2),b=a[0],c=a[1];return new o.IPv4([b>>8,255&b,c>>8,255&c])},a.prototype.toNormalizedString=function(){let a=(function(){let a=[];for(let b=0;b<this.parts.length;b++)a.push(this.parts[b].toString(16));return a}).call(this).join(":"),b="";return this.zoneId&&(b=`%${this.zoneId}`),a+b},a.prototype.toRFC5952String=function(){let a,b=/((^|:)(0(:|$)){2,})/g,c=this.toNormalizedString(),d=0,e=-1;for(;a=b.exec(c);)a[0].length>e&&(d=a.index,e=a[0].length);return e<0?c:`${c.substring(0,d)}::${c.substring(d+e)}`},a.prototype.toString=function(){return this.toRFC5952String()},a}(),o.IPv6.broadcastAddressFromCIDR=function(a){try{let b=this.parseCIDR(a),c=b[0].toByteArray(),d=this.subnetMaskFromPrefixLength(b[1]).toByteArray(),e=[],f=0;for(;f<16;)e.push(parseInt(c[f],10)|255^parseInt(d[f],10)),f++;return new this(e)}catch(a){throw Error(`ipaddr: the address does not have IPv6 CIDR format (${a})`)}},o.IPv6.isIPv6=function(a){return null!==this.parser(a)},o.IPv6.isValid=function(a){if("string"==typeof a&&-1===a.indexOf(":"))return!1;try{let b=this.parser(a);return new this(b.parts,b.zoneId),!0}catch(a){return!1}},o.IPv6.isValidCIDR=function(a){if("string"==typeof a&&-1===a.indexOf(":"))return!1;try{return this.parseCIDR(a),!0}catch(a){return!1}},o.IPv6.networkAddressFromCIDR=function(a){let b,c,d,e,f;try{for(d=(b=this.parseCIDR(a))[0].toByteArray(),f=this.subnetMaskFromPrefixLength(b[1]).toByteArray(),e=[],c=0;c<16;)e.push(parseInt(d[c],10)&parseInt(f[c],10)),c++;return new this(e)}catch(a){throw Error(`ipaddr: the address does not have IPv6 CIDR format (${a})`)}},o.IPv6.parse=function(a){let b=this.parser(a);if(null===b.parts)throw Error("ipaddr: string is not formatted like an IPv6 Address");return new this(b.parts,b.zoneId)},o.IPv6.parseCIDR=function(a){let b,c,d;if((c=a.match(/^(.+)\/(\d+)$/))&&(b=parseInt(c[2]))>=0&&b<=128)return Object.defineProperty(d=[this.parse(c[1]),b],"toString",{value:function(){return this.join("/")}}),d;throw Error("ipaddr: string is not formatted like an IPv6 CIDR range")},o.IPv6.parser=function(a){let b,c,d,e,f,g;if(d=a.match(i.deprecatedTransitional))return this.parser(`::ffff:${d[1]}`);if(i.native.test(a))return j(a,8);if((d=a.match(i.transitional))&&(g=d[6]||"",b=d[1],d[1].endsWith("::")||(b=b.slice(0,-1)),(b=j(b+g,6)).parts)){for(c=0,f=[parseInt(d[2]),parseInt(d[3]),parseInt(d[4]),parseInt(d[5])];c<f.length;c++)if(!(0<=(e=f[c])&&e<=255))return null;return b.parts.push(f[0]<<8|f[1]),b.parts.push(f[2]<<8|f[3]),{parts:b.parts,zoneId:b.zoneId}}return null},o.IPv6.subnetMaskFromPrefixLength=function(a){if((a=parseInt(a))<0||a>128)throw Error("ipaddr: invalid IPv6 prefix length");let b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0,d=Math.floor(a/8);for(;c<d;)b[c]=255,c++;return d<16&&(b[d]=Math.pow(2,a%8)-1<<8-a%8),new this(b)},o.fromByteArray=function(a){let b=a.length;if(4===b)return new o.IPv4(a);if(16===b)return new o.IPv6(a);throw Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},o.isValid=function(a){return o.IPv6.isValid(a)||o.IPv4.isValid(a)},o.isValidCIDR=function(a){return o.IPv6.isValidCIDR(a)||o.IPv4.isValidCIDR(a)},o.parse=function(a){if(o.IPv6.isValid(a))return o.IPv6.parse(a);if(o.IPv4.isValid(a))return o.IPv4.parse(a);throw Error("ipaddr: the address has neither IPv6 nor IPv4 format")},o.parseCIDR=function(a){try{return o.IPv6.parseCIDR(a)}catch(b){try{return o.IPv4.parseCIDR(a)}catch(a){throw Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},o.process=function(a){let b=this.parse(a);return"ipv6"===b.kind()&&b.isIPv4MappedAddress()?b.toIPv4Address():b},o.subnetMatch=function(a,b,c){let d,e,f,g;for(e in null==c&&(c="unicast"),b)if(Object.prototype.hasOwnProperty.call(b,e)){for(!(f=b[e])[0]||f[0]instanceof Array||(f=[f]),d=0;d<f.length;d++)if(g=f[d],a.kind()===g[0].kind()&&a.match.apply(a,g))return e}return c},a.exports?a.exports=o:b.ipaddr=o}(this)},80602:(a,b,c)=>{"use strict";c.d(b,{d:()=>h});var d=c(62985),e=c(79748),f=c(33873);let g={svg:"image/svg+xml"},h=async a=>{if("string"!=typeof a)return;let b=f.basename(a),c=f.extname(a).slice(1),[h,i,j]=await Promise.all([e.readFile(a),e.stat(a),(0,d.bN)(a)]);return{name:b,data:h,mimetype:j?.mime||g[c],size:i.size}}},80658:(a,b,c)=>{"use strict";function d(a){return(a.includes(",")||a.includes('"'))&&(a=`"${a.replace(/"/g,'\\"')}"`),a}c.d(b,{m:()=>d})},80747:(a,b,c)=>{"use strict";var d,e,f=c(60168),g=c(84642),h=c(76413),i=c(65),j=c(62821),k=c(32330),l=c(58331),m=c(3598);let o={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},p=o.WHEN_SUPPORTED,q={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},r=o.WHEN_SUPPORTED;b.VD=void 0,function(a){a.MD5="MD5",a.CRC32="CRC32",a.CRC32C="CRC32C",a.CRC64NVME="CRC64NVME",a.SHA1="SHA1",a.SHA256="SHA256"}(b.VD||(b.VD={})),b.P$=void 0,function(a){a.HEADER="header",a.TRAILER="trailer"}(b.P$||(b.P$={}));let s=b.VD.CRC32;!function(a){a.ENV="env",a.CONFIG="shared config entry"}(e||(e={}));let t=(a,b,c,d)=>{if(!(b in a))return;let e=a[b].toUpperCase();if(!Object.values(c).includes(e))throw TypeError(`Cannot load ${d} '${b}'. Expected one of ${Object.values(c)}, got '${a[b]}'.`);return e},u="AWS_REQUEST_CHECKSUM_CALCULATION",v="request_checksum_calculation",w={environmentVariableSelector:a=>t(a,u,o,e.ENV),configFileSelector:a=>t(a,v,o,e.CONFIG),default:p},x="AWS_RESPONSE_CHECKSUM_VALIDATION",y="response_checksum_validation",z={environmentVariableSelector:a=>t(a,x,q,e.ENV),configFileSelector:a=>t(a,y,q,e.CONFIG),default:r},A={CrtCrc64Nvme:null},B=[b.VD.CRC32,b.VD.CRC32C,b.VD.CRC64NVME,b.VD.SHA1,b.VD.SHA256],C=[b.VD.SHA256,b.VD.SHA1,b.VD.CRC32,b.VD.CRC32C,b.VD.CRC64NVME],D=(a,{requestChecksumRequired:b,requestAlgorithmMember:c,requestChecksumCalculation:d})=>{if(!c)return d===o.WHEN_SUPPORTED||b?s:void 0;if(!a[c])return;let e=a[c];if(!B.includes(e))throw Error(`The checksum algorithm "${e}" is not supported by the client. Select one of ${B}.`);return e},E=a=>a===b.VD.MD5?"content-md5":`x-amz-checksum-${a.toLowerCase()}`,F=(a,b)=>{let c=a.toLowerCase();for(let a of Object.keys(b))if(c===a.toLowerCase())return!0;return!1},G=(a,b)=>{let c=a.toLowerCase();for(let a of Object.keys(b))if(a.toLowerCase().startsWith(c))return!0;return!1},H=a=>void 0!==a&&"string"!=typeof a&&!ArrayBuffer.isView(a)&&!i.isArrayBuffer(a),I=(a,c)=>{switch(a){case b.VD.MD5:return c.md5;case b.VD.CRC32:return k.getCrc32ChecksumAlgorithmFunction();case b.VD.CRC32C:return j.AwsCrc32c;case b.VD.CRC64NVME:if("function"!=typeof A.CrtCrc64Nvme)throw Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return A.CrtCrc64Nvme;case b.VD.SHA1:return c.sha1;case b.VD.SHA256:return c.sha256;default:throw Error(`Unsupported checksum algorithm: ${a}`)}},J=(a,b)=>{let c=new a;return c.update(l.toUint8Array(b||"")),c.digest()},K={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},L=(a,c)=>(d,e)=>async i=>{if(!g.HttpRequest.isInstance(i.request)||G("x-amz-checksum-",i.request.headers))return d(i);let{request:j,input:k}=i,{body:l,headers:m}=j,{base64Encoder:p,streamHasher:q}=a,{requestChecksumRequired:r,requestAlgorithmMember:t}=c,u=await a.requestChecksumCalculation(),v=t?.name,w=t?.httpHeader;v&&!k[v]&&(u===o.WHEN_SUPPORTED||r)&&(k[v]=s,w&&(m[w]=s));let x=D(k,{requestChecksumRequired:r,requestAlgorithmMember:t?.name,requestChecksumCalculation:u}),y=l,z=m;if(x){switch(x){case b.VD.CRC32:f.setFeature(e,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case b.VD.CRC32C:f.setFeature(e,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case b.VD.CRC64NVME:f.setFeature(e,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case b.VD.SHA1:f.setFeature(e,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case b.VD.SHA256:f.setFeature(e,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y")}let c=E(x),d=I(x,a);if(H(l)){let{getAwsChunkedEncodingStream:b,bodyLengthChecker:f}=a;y=b("number"==typeof a.requestStreamBufferSize&&a.requestStreamBufferSize>=8192?h.createBufferedReadable(l,a.requestStreamBufferSize,e.logger):l,{base64Encoder:p,bodyLengthChecker:f,checksumLocationName:c,checksumAlgorithmFn:d,streamHasher:q}),z={...m,"content-encoding":m["content-encoding"]?`${m["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":m["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":c},delete z["content-length"]}else if(!F(c,m)){let a=await J(d,l);z={...m,[c]:p(a)}}}return await d({...i,request:{...j,headers:z,body:y}})},M={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},N=(a,b)=>(c,d)=>async e=>{let g=e.input,{requestValidationModeMember:h}=b,i=await a.requestChecksumCalculation(),j=await a.responseChecksumValidation();switch(i){case o.WHEN_REQUIRED:f.setFeature(d,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case o.WHEN_SUPPORTED:f.setFeature(d,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z")}switch(j){case q.WHEN_REQUIRED:f.setFeature(d,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case q.WHEN_SUPPORTED:f.setFeature(d,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b")}return h&&!g[h]&&j===q.WHEN_SUPPORTED&&(g[h]="ENABLED"),c(e)},O=(a=[])=>{let b=[];for(let c of C)a.includes(c)&&B.includes(c)&&b.push(c);return b},P=a=>{let b=a.lastIndexOf("-");if(-1!==b){let c=a.slice(b+1);if(!c.startsWith("0")){let a=parseInt(c,10);if(!isNaN(a)&&a>=1&&a<=1e4)return!0}}return!1},Q=async(a,{checksumAlgorithmFn:b,base64Encoder:c})=>c(await J(b,a)),R=async(a,{config:c,responseAlgorithms:d,logger:e})=>{let f=O(d),{body:g,headers:i}=a;for(let d of f){let f=E(d),j=i[f];if(j){let i;try{i=I(d,c)}catch(a){if(d===b.VD.CRC64NVME){e?.warn(`Skipping ${b.VD.CRC64NVME} checksum validation: ${a.message}`);continue}throw a}let{base64Encoder:k}=c;if(H(g)){a.body=h.createChecksumStream({expectedChecksum:j,checksumSourceLocation:f,checksum:new i,source:g,base64Encoder:k});return}let l=await Q(g,{checksumAlgorithmFn:i,base64Encoder:k});if(l===j)break;throw Error(`Checksum mismatch: expected "${l}" but received "${j}" in response header "${f}".`)}}},S={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},T=(a,b)=>(c,d)=>async e=>{if(!g.HttpRequest.isInstance(e.request))return c(e);let f=e.input,h=await c(e),i=h.response,{requestValidationModeMember:j,responseAlgorithms:k}=b;if(j&&"ENABLED"===f[j]){let{clientName:b,commandName:c}=d;if("S3Client"===b&&"GetObjectCommand"===c&&O(k).every(a=>{let b=E(a),c=i.headers[b];return!c||P(c)}))return h;await R(i,{config:a,responseAlgorithms:k,logger:d.logger})}return h},U=(a,b)=>({applyToStack:c=>{c.add(L(a,b),K),c.addRelativeTo(N(a,b),M),c.addRelativeTo(T(a,b),S)}}),V=a=>{let{requestChecksumCalculation:b,responseChecksumValidation:c,requestStreamBufferSize:d}=a;return Object.assign(a,{requestChecksumCalculation:m.normalizeProvider(b??p),responseChecksumValidation:m.normalizeProvider(c??r),requestStreamBufferSize:Number(d??0)})};d=v,d=y,d=s,d=p,d=r,d=u,d=x,b.XV=w,b.$x=z,d=o,d=q,d=A,d=L,d=K,b.R9=U,b.M4=V},80982:(a,b,c)=>{"use strict";var d;c.d(b,{U:()=>d}),function(a){a.HTTP="http",a.HTTPS="https"}(d||(d={}))},81318:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(66754);b.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:a=>(0,d.validateTuple)(a,"items")}},81388:a=>{"use strict";let b=Symbol("kDone"),c=Symbol("kRun");class d{constructor(a){this[b]=()=>{this.pending--,this[c]()},this.concurrency=a||1/0,this.jobs=[],this.pending=0}add(a){this.jobs.push(a),this[c]()}[c](){if(this.pending!==this.concurrency&&this.jobs.length){let a=this.jobs.shift();this.pending++,a(this[b])}}}a.exports=d},81473:(a,b,c)=>{"use strict";c.d(b,{$H:()=>g,Jj:()=>f});let{readFile:d}=c(29021).promises,e={},f={},g=(a,b)=>void 0!==f[a]?f[a]:((!e[a]||b?.ignoreCache)&&(e[a]=d(a,"utf8")),e[a])},81541:(a,b,c)=>{"use strict";c.d(b,{J:()=>d});let d=async function(a=""){let b=a instanceof Promise?await a:a;this.sessions[b]&&(await this.sessions[b].reject(),delete this.sessions[b])}},81561:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateKeywordUsage=b.validSchemaType=b.funcKeywordCode=b.macroKeywordCode=void 0;let d=c(86397),e=c(13491),f=c(55613),g=c(58052);function h(a){let{gen:b,data:c,it:e}=a;b.if(e.parentData,()=>b.assign(c,(0,d._)`${e.parentData}[${e.parentDataProperty}]`))}function i(a,b){let{gen:c}=a;c.if((0,d._)`Array.isArray(${b})`,()=>{c.assign(e.default.vErrors,(0,d._)`${e.default.vErrors} === null ? ${b} : ${e.default.vErrors}.concat(${b})`).assign(e.default.errors,(0,d._)`${e.default.vErrors}.length`),(0,g.extendErrors)(a)},()=>a.error())}function j({schemaEnv:a},b){if(b.async&&!a.$async)throw Error("async keyword in sync schema")}function k(a,b,c){if(void 0===c)throw Error(`keyword "${b}" failed to compile`);return a.scopeValue("keyword","function"==typeof c?{ref:c}:{ref:c,code:(0,d.stringify)(c)})}b.macroKeywordCode=function(a,b){let{gen:c,keyword:e,schema:f,parentSchema:g,it:h}=a,i=b.macro.call(h.self,f,g,h),j=k(c,e,i);!1!==h.opts.validateSchema&&h.self.validateSchema(i,!0);let l=c.name("valid");a.subschema({schema:i,schemaPath:d.nil,errSchemaPath:`${h.errSchemaPath}/${e}`,topSchemaRef:j,compositeRule:!0},l),a.pass(l,()=>a.error(!0))},b.funcKeywordCode=function(a,b){var c;let{gen:g,keyword:l,schema:m,parentSchema:o,$data:p,it:q}=a;j(q,b);let r=k(g,l,!p&&b.compile?b.compile.call(q.self,m,o,q):b.validate),s=g.let("valid");function t(){if(!1===b.errors)w(),b.modifying&&h(a),x(()=>a.error());else{let c=b.async?u():v();b.modifying&&h(a),x(()=>i(a,c))}}function u(){let a=g.let("ruleErrs",null);return g.try(()=>w((0,d._)`await `),b=>g.assign(s,!1).if((0,d._)`${b} instanceof ${q.ValidationError}`,()=>g.assign(a,(0,d._)`${b}.errors`),()=>g.throw(b))),a}function v(){let a=(0,d._)`${r}.errors`;return g.assign(a,null),w(d.nil),a}function w(c=b.async?(0,d._)`await `:d.nil){let h=q.opts.passContext?e.default.this:e.default.self,i=!("compile"in b&&!p||!1===b.schema);g.assign(s,(0,d._)`${c}${(0,f.callValidateCode)(a,r,h,i)}`,b.modifying)}function x(a){var c;g.if((0,d.not)(null!=(c=b.valid)?c:s),a)}a.block$data(s,t),a.ok(null!=(c=b.valid)?c:s)},b.validSchemaType=function(a,b,c=!1){return!b.length||b.some(b=>"array"===b?Array.isArray(a):"object"===b?a&&"object"==typeof a&&!Array.isArray(a):typeof a==b||c&&void 0===a)},b.validateKeywordUsage=function({schema:a,opts:b,self:c,errSchemaPath:d},e,f){if(Array.isArray(e.keyword)?!e.keyword.includes(f):e.keyword!==f)throw Error("ajv implementation error");let g=e.dependencies;if(null==g?void 0:g.some(b=>!Object.prototype.hasOwnProperty.call(a,b)))throw Error(`parent schema must have dependencies of ${f}: ${g.join(",")}`);if(e.validateSchema&&!e.validateSchema(a[f])){let a=`keyword "${f}" value is invalid at path "${d}": `+c.errorsText(e.validateSchema.errors);if("log"===b.validateSchema)c.logger.error(a);else throw Error(a)}}},81619:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(86397),e=c(49943);function f(a,b){let c=a.schema[b];return void 0!==c&&!(0,e.alwaysValidSchema)(a,c)}b.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,d.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,d._)`{failingKeyword: ${a.ifClause}}`},code(a){let{gen:b,parentSchema:c,it:g}=a;void 0===c.then&&void 0===c.else&&(0,e.checkStrictMode)(g,'"if" without "then" and "else" is ignored');let h=f(g,"then"),i=f(g,"else");if(!h&&!i)return;let j=b.let("valid",!0),k=b.name("_valid");if(l(),a.reset(),h&&i){let c=b.let("ifClause");a.setParams({ifClause:c}),b.if(k,m("then",c),m("else",c))}else h?b.if(k,m("then")):b.if((0,d.not)(k),m("else"));function l(){let b=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},k);a.mergeEvaluated(b)}function m(c,e){return()=>{let f=a.subschema({keyword:c},k);b.assign(j,k),a.mergeValidEvaluated(f,j),e?b.assign(e,(0,d._)`${c}`):a.setParams({ifClause:c})}}a.pass(j,()=>a.error(!0))}}},81645:(a,b,c)=>{"use strict";c.d(b,{C5:()=>j,Rp:()=>k,XC:()=>o,Xh:()=>l,wJ:()=>i,xV:()=>q});var d=c(22702),e=c(67405),f=c(25943),g=c(88283);let h="default"in e?e.default:e,i=(a,{maxLength:b,minLength:c=3,req:{payload:{config:d},t:e},required:f})=>{let g;return("number"==typeof d?.defaultMaxTextLength&&(g=d.defaultMaxTextLength),"number"==typeof b&&(g=b),a&&g&&a.length>g)?e("validation:shorterThanMax",{maxLength:g}):a&&c&&a.length<c?e("validation:longerThanMin",{minLength:c}):!f||!!a||e("validation:required")},j=(a,{req:{t:b},required:c,siblingData:d})=>c&&!a?b("validation:required"):!a||a===d.password||b("fields:passwordsDoNotMatch"),k=(a,{collectionSlug:b,req:{payload:{collections:c,config:d},t:e},required:f,siblingData:g})=>{if(b){let f=c?.[b]?.config??d.collections.find(({slug:a})=>a===b);if(f.auth.loginWithUsername&&!f.auth.loginWithUsername?.requireUsername&&!f.auth.loginWithUsername?.requireEmail&&!a&&!g?.username)return e("validation:required")}let h=/^(?!.*\.\.)[\w!#$%&'*+/=?^`{|}~-](?:[\w!#$%&'*+/=?^`{|}~.-]*[\w!#$%&'*+/=?^`{|}~-])?@[a-z0-9](?:[a-z0-9-]*[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)*\.[a-z]{2,}$/i;return(!a||!!h.test(a))&&(!!a||!f)||e("validation:emailAddress")},l=(a,{collectionSlug:b,req:{payload:{collections:c,config:d},t:e},required:f,siblingData:g})=>{let h;if(b){let f=c?.[b]?.config??d.collections.find(({slug:a})=>a===b);if(f.auth.loginWithUsername&&!f.auth.loginWithUsername?.requireUsername&&!f.auth.loginWithUsername?.requireEmail&&!a&&!g?.email)return e("validation:required")}return("number"==typeof d?.defaultMaxTextLength&&(h=d.defaultMaxTextLength),a&&h&&a.length>h)?e("validation:shorterThanMax",{maxLength:h}):!!a||!f||e("validation:required")},m=(a,b)=>{let{maxRows:c,minRows:d,required:e,t:f}=b,g=Array.isArray(a)?a.length:a||0;return!e&&0===g||(d&&g<d?f("validation:requiresAtLeast",{count:d,label:f("general:rows")}):c&&g>c?f("validation:requiresNoMoreThan",{count:c,label:f("general:rows")}):!e||!!g||f("validation:requiresAtLeast",{count:1,label:f("general:row")}))};async function o({id:a,data:b,filterOptions:c,req:d,siblingData:e,value:f}){let g,h=Array.isArray(f)?f.map(a=>a.blockType).filter(a=>!!a):[];if("function"==typeof c){let f=await c({id:a,data:b,req:d,siblingData:e,user:d.user});!0!==f&&Array.isArray(f)&&(g=f)}else Array.isArray(c)&&(g=c);let i=[];if(g)for(let a of h)g.includes(a)||i.push(a);return{allBlockSlugs:h,allowedBlockSlugs:g,invalidBlockSlugs:i}}let p=async(a,{id:b,blockData:c,data:d,filterOptions:e,relationTo:f,req:g,req:{t:i,user:j},siblingData:k})=>{if(void 0!==e&&a){let l={},m=[],o=Array.isArray(f)?f:[f],p=Array.isArray(a)?a:[a];for(let a of o)try{let f="function"==typeof e?await e({id:b,blockData:c,data:d,relationTo:a,req:g,siblingData:k,user:j}):e;!0===f&&(f=null);let i=[];if(p.forEach(a=>{"object"==typeof a&&(a?.value?i.push(a.value):h.isValid(a)&&i.push(new h(a).toHexString())),("string"==typeof a||"number"==typeof a)&&i.push(a)}),i.length>0){let b={and:[{id:{in:i}}]};f&&!0!==f&&b.and?.push(f),!1===f&&m.push(a);let c=await g.payloadDataLoader.find({collection:a,depth:0,limit:0,pagination:!1,req:g,where:b});l[a]=c.docs.map(a=>a.id)}else l[a]=[]}catch(b){g.payload.logger.error({err:b,msg:`Error validating filter options for collection ${a}`}),l[a]=[]}let q=p.filter(a=>{let b,c;return"string"==typeof f&&(b=f,("string"==typeof a||"number"==typeof a)&&(c=a),"object"==typeof a&&h.isValid(a)&&(c=new h(a).toHexString())),Array.isArray(f)&&"object"==typeof a&&a?.relationTo&&(b=a.relationTo,c=a.value),!!m.find(a=>f===a)||!l[b]||-1===l[b].indexOf(c)});if(q.length>0)return q.reduce((a,b,c)=>`${a} ${JSON.stringify(b)}${q.length===c+1?",":""} `,i("validation:invalidSelections"))}return!0},q={array:(a,{maxRows:b,minRows:c,req:{t:d},required:e})=>m(a,{maxRows:b,minRows:c,required:e,t:d}),blocks:async(a,{id:b,data:c,filterOptions:d,maxRows:e,minRows:f,req:{t:g},req:h,required:i,siblingData:j})=>{let k=m(a,{maxRows:e,minRows:f,required:i,t:g});if("string"==typeof k)return k;if(d){let{invalidBlockSlugs:e}=await o({id:b,data:c,filterOptions:d,req:h,siblingData:j,value:a});if(e?.length)return g("validation:invalidBlocks",{blocks:e.join(", ")})}return!0},checkbox:(a,{req:{t:b},required:c})=>(!a||"boolean"==typeof a)&&(!c||"boolean"==typeof a)||b("validation:trueOrFalse"),code:(a,{req:{t:b},required:c})=>!c||void 0!==a||b("validation:required"),confirmPassword:j,date:(a,{name:b,req:{t:c},required:d,siblingData:e,timezone:f})=>{let g=a&&!isNaN(Date.parse(a.toString())),h=f&&d,i=e?.[`${b}_tz`],j=!h||!!i;return!!g&&!!j||(g&&!j?c("validation:timezoneRequired"):a?c("validation:notValidDate",{value:a}):!d||c("validation:required"))},email:k,json:(a,{jsonError:b,jsonSchema:c,req:{t:e},required:f})=>{let g=a=>!(null==a||Array.isArray(a)&&0===a.length)&&("object"!=typeof a||0!==Object.keys(a).length),h=({schema:a,uri:b})=>b&&a?a:fetch(b).then(a=>{if(!a.ok)throw Error("Network response was not ok");return a.json()}).then(a=>{let b=a,c={id:void 0,$id:b.id,$schema:"http://json-schema.org/draft-07/schema#"};return Object.assign(b,c)});if(f&&!a)return e("validation:required");if(void 0!==b)return e("validation:invalidInput");if(c&&g(a))try{c.schema=h(c);let{schema:b}=c,e=new d;if(!e.validate(b,a))return e.errorsText()}catch(a){return a instanceof Error?a.message:"Unknown error"}return!0},number:(a,{hasMany:b,max:c,maxRows:d,min:e,minRows:g,req:{t:h},required:i})=>{if(!0===b){let b=m(a,{maxRows:d,minRows:g,required:i,t:h});if("string"==typeof b)return b}if(!a&&!(0,f.E)(a)){if(i)return h("validation:required");if(!i)return!0}for(let b of Array.isArray(a)?a:[a]){if(!(0,f.E)(b))return h("validation:enterNumber");let d=parseFloat(b);if("number"==typeof c&&d>c)return h("validation:greaterThanMax",{label:h("general:value"),max:c,value:a});if("number"==typeof e&&d<e)return h("validation:lessThanMin",{label:h("general:value"),min:e,value:a})}return!0},password:i,point:(a=["",""],{req:{t:b},required:c})=>{if(null===a)return!c||b("validation:required");let d=parseFloat(String(a[0])),e=parseFloat(String(a[1]));return c&&(a[0]&&a[1]&&"number"!=typeof d&&"number"!=typeof e||Number.isNaN(d)||Number.isNaN(e)||Array.isArray(a)&&2!==a.length)?b("validation:requiresTwoNumbers"):a[1]&&Number.isNaN(d)||a[0]&&Number.isNaN(e)?b("validation:invalidInput"):a[0]&&!Number.isNaN(d)&&(d<-180||d>180)?b("validation:longitudeOutOfBounds"):!a[1]||!!Number.isNaN(e)||!(e<-90)&&!(e>90)||b("validation:latitudeOutOfBounds")},radio:(a,{options:b,req:{t:c},required:d})=>a?b.some(b=>b===a||"string"!=typeof b&&b.value===a)||c("validation:invalidSelection"):!d||c("validation:required"),relationship:async(a,b)=>{let{event:c,maxRows:d,minRows:e,relationTo:f,req:{payload:h,t:i},required:j}=b;if((!a&&"number"!=typeof a||Array.isArray(a)&&0===a.length)&&j)return i("validation:required");if(Array.isArray(a)&&a.length>0){if(e&&a.length<e)return i("validation:lessThanMin",{label:i("general:rows"),min:e,value:a.length});if(d&&a.length>d)return i("validation:greaterThanMax",{label:i("general:rows"),max:d,value:a.length})}if(null!=a){let b=(Array.isArray(a)?a:[a]).filter(a=>{let b,c;if("string"==typeof f&&(b=f,(a||"number"==typeof a)&&(c=a)),Array.isArray(f)&&"object"==typeof a&&a?.relationTo&&(b=a.relationTo,c=a.value),null===c)return!1;let d=h.collections[b]?.customIDType||h?.db?.defaultIDType||"text";return!(0,g.m)(c,d)});if(b.length>0)return`This relationship field has the following invalid relationships: ${b.map((a,b)=>`${a} ${JSON.stringify(b)}`).join(", ")}`}return"onChange"===c||p(a,b)},richText:async(a,b)=>{if(!b?.editor)throw Error("richText field has no editor property.");if("function"==typeof b?.editor)throw Error("Attempted to access unsanitized rich text editor.");return(b?.editor).validate(a,b)},select:(a,{data:b,filterOptions:c,hasMany:d,options:e,req:f,req:{t:g},required:h,siblingData:i})=>{let j="function"==typeof c?c({data:b,options:e,req:f,siblingData:i}):e;return Array.isArray(a)&&a.some(a=>!j.some(b=>b===a||"string"!=typeof b&&b?.value===a))||"string"==typeof a&&!j.some(b=>b===a||"string"!=typeof b&&b.value===a)?g("validation:invalidSelection"):!(h&&(null==a||d&&Array.isArray(a)&&a?.length===0))||g("validation:required")},text:(a,{hasMany:b,maxLength:c,maxRows:d,minLength:e,minRows:f,req:{payload:{config:g},t:h},required:i})=>{let j;if(!i&&null==a)return!0;if(!0===b){let b=m(a,{maxRows:d,minRows:f,required:i,t:h});if("string"==typeof b)return b}for(let b of("number"==typeof g?.defaultMaxTextLength&&(j=g.defaultMaxTextLength),"number"==typeof c&&(j=c),Array.isArray(a)?a:[a])){let a=b?.length||0;if("number"==typeof j&&a>j)return h("validation:shorterThanMax",{label:h("general:value"),maxLength:j,stringValue:b});if("number"==typeof e&&a<e)return h("validation:longerThanMin",{label:h("general:value"),minLength:e,stringValue:b})}return!i||!!("string"==typeof a||Array.isArray(a))&&a?.length!==0||h("validation:required")},textarea:(a,{maxLength:b,minLength:c,req:{payload:{config:d},t:e},required:f})=>{let g;return("number"==typeof d?.defaultMaxTextLength&&(g=d.defaultMaxTextLength),"number"==typeof b&&(g=b),a&&g&&a.length>g)?e("validation:shorterThanMax",{maxLength:g}):a&&c&&a.length<c?e("validation:longerThanMin",{minLength:c}):!f||!!a||e("validation:required")},upload:async(a,b)=>{let{event:c,maxRows:d,minRows:e,relationTo:f,req:{payload:h,t:i},required:j}=b;if((!a&&"number"!=typeof a||Array.isArray(a)&&0===a.length)&&j)return i("validation:required");if(Array.isArray(a)&&a.length>0){if(e&&a.length<e)return i("validation:lessThanMin",{label:i("general:rows"),min:e,value:a.length});if(d&&a.length>d)return i("validation:greaterThanMax",{label:i("general:rows"),max:d,value:a.length})}if(null!=a){let b=(Array.isArray(a)?a:[a]).filter(a=>{let b,c;if("string"==typeof f&&(b=f,(a||"number"==typeof a)&&(c=a)),Array.isArray(f)&&"object"==typeof a&&a?.relationTo&&(b=a.relationTo,c=a.value),null===c)return!1;let d=h.collections[b]?.customIDType||h?.db?.defaultIDType||"text";return!(0,g.m)(c,d)});if(b.length>0)return`This relationship field has the following invalid relationships: ${b.map((a,b)=>`${a} ${JSON.stringify(b)}`).join(", ")}`}return"onChange"===c||p(a,b)}}},81795:(a,b,c)=>{"use strict";c.d(b,{X:()=>e});let d=RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),e=(a,b=!1)=>{if(!b)return d.test(a);for(let b of a.split("."))if(!e(b))return!1;return!0}},81866:(a,b,c)=>{let d=c(90165),e=c(32741),{cursor:f,erase:g}=c(1298),{style:h,figures:i,clear:j,lines:k}=c(67406),l=/[0-9]/,m=a=>void 0!==a,o=(a,b)=>{let c=Math.pow(10,b);return Math.round(a*c)/c};class p extends e{constructor(a={}){super(a),this.transform=h.render(a.style),this.msg=a.message,this.initial=m(a.initial)?a.initial:"",this.float=!!a.float,this.round=a.round||2,this.inc=a.increment||1,this.min=m(a.min)?a.min:-1/0,this.max=m(a.max)?a.max:1/0,this.errorMsg=a.error||"Please Enter A Valid Value",this.validator=a.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(a){a||0===a?(this.placeholder=!1,this.rendered=this.transform.render(`${o(a,this.round)}`),this._value=o(a,this.round)):(this.placeholder=!0,this.rendered=d.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(a){return this.float?parseFloat(a):parseInt(a)}valid(a){return"-"===a||"."===a&&this.float||l.test(a)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let a=this.value;this.value=""!==a?a:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let a=await this.validator(this.value);"string"==typeof a&&(this.errorMsg=a,a=!1),this.error=!a}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let a=this.value;this.value=""!==a?a:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let a=this.value.toString();if(0===a.length)return this.bell();this.value=this.parse(a=a.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(a,b){if(!this.valid(a))return this.bell();let c=Date.now();if(c-this.lastHit>1e3&&(this.typed=""),this.typed+=a,this.lastHit=c,this.color="cyan","."===a)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(f.down(k(this.outputError,this.out.columns)-1)+j(this.outputError,this.out.columns)),this.out.write(j(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[h.symbol(this.done,this.aborted),d.bold(this.msg),h.delimiter(this.done),!this.done||!this.done&&!this.placeholder?d[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((a,b,c)=>a+`
${c?" ":i.pointerSmall} ${d.red().italic(b)}`,"")),this.out.write(g.line+f.to(0)+this.outputText+f.save+this.outputError+f.restore))}}a.exports=p},81900:a=>{"use strict";a.exports={mapHttpResponse:e,resSerializer:d};let b=Symbol("pino-raw-res-ref"),c=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[b]},set:function(a){this[b]=a}}});function d(a){let b=Object.create(c);return b.statusCode=a.headersSent?a.statusCode:null,b.headers=a.getHeaders?a.getHeaders():a._headers,b.raw=a,b}function e(a){return{res:d(a)}}Object.defineProperty(c,b,{writable:!0,value:{}})},81907:(a,b,c)=>{"use strict";let d=c(40639);class e extends d{constructor(a={}){super(a)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(a){this.date.setHours(parseInt(a.substr(-2)))}toString(){let a=this.date.getHours();return/h/.test(this.token)&&(a=a%12||12),this.token.length>1?String(a).padStart(2,"0"):a}}a.exports=e},81953:(a,b,c)=>{"use strict";var d;d={value:!0},Object.defineProperty(b,"e",{enumerable:!0,get:function(){return l}});let e=c(97702),f=c(7036),g=c(29294),h=c(63033),i=c(44748),j=0;async function k(a,b,c,d,f,g,h){await b.set(c,{kind:i.CachedRouteKind.FETCH,data:{headers:{},body:JSON.stringify(a),status:200,url:""},revalidate:"number"!=typeof f?e.CACHE_ONE_YEAR:f},{fetchCache:!0,tags:d,fetchIdx:g,fetchUrl:h})}function l(a,b,c={}){if(0===c.revalidate)throw Object.defineProperty(Error(`Invariant revalidate: 0 can not be passed to unstable_cache(), must be "false" or "> 0" ${a.toString()}`),"__NEXT_ERROR_CODE",{value:"E57",enumerable:!1,configurable:!0});let d=c.tags?(0,f.validateTags)(c.tags,`unstable_cache ${a.toString()}`):[];(0,f.validateRevalidate)(c.revalidate,`unstable_cache ${a.name||a.toString()}`);let e=`${a.toString()}-${Array.isArray(b)&&b.join(",")}`;return async(...b)=>{let f=g.workAsyncStorage.getStore(),l=h.workUnitAsyncStorage.getStore(),o=(null==f?void 0:f.incrementalCache)||globalThis.__incrementalCache;if(!o)throw Object.defineProperty(Error(`Invariant: incrementalCache missing in unstable_cache ${a.toString()}`),"__NEXT_ERROR_CODE",{value:"E469",enumerable:!1,configurable:!0});let p=o,q=l?(0,h.getCacheSignal)(l):null;q&&q.beginRead();try{let g=f&&l?m(f,l):"",o=`${e}-${JSON.stringify(b)}`,q=await p.generateCacheKey(o),r=`unstable_cache ${g} ${a.name?` ${a.name}`:q}`,s=(f?f.nextFetchId:j)??1,t=null==l?void 0:l.implicitTags,u={type:"unstable-cache",phase:"render",implicitTags:t,draftMode:l&&f&&(0,h.getDraftModeProviderForCacheScope)(f,l)};if(f){f.nextFetchId=s+1;let e=!1;if(l)switch(l.type){case"cache":case"private-cache":case"prerender":case"prerender-runtime":case"prerender-ppr":case"prerender-legacy":"number"==typeof c.revalidate&&(l.revalidate<c.revalidate||(l.revalidate=c.revalidate));let g=l.tags;if(null===g)l.tags=d.slice();else for(let a of d)g.includes(a)||g.push(a);break;case"unstable-cache":e=!0}if(!e&&"force-no-store"!==f.fetchCache&&!(f.isOnDemandRevalidate && !globalThis.__openNextAls?.getStore()?.isISRRevalidation)&&!(p.isOnDemandRevalidate && !globalThis.__openNextAls?.getStore()?.isISRRevalidation)&&!f.isDraftMode){let e=await p.get(q,{kind:i.IncrementalCacheKind.FETCH,revalidate:c.revalidate,tags:d,softTags:null==t?void 0:t.tags,fetchIdx:s,fetchUrl:r});if(e&&e.value)if(e.value.kind!==i.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${o}`);else{let g=void 0!==e.value.data.body?JSON.parse(e.value.data.body):void 0;if(e.isStale){if(f.pendingRevalidates||(f.pendingRevalidates={}),!f.pendingRevalidates[o]){let e=h.workUnitAsyncStorage.run(u,a,...b).then(async a=>(await k(a,p,q,d,c.revalidate,s,r),a)).catch(a=>(console.error(`revalidating cache with key: ${o}`,a),g));f.isRevalidate&&e.catch(()=>{}),f.pendingRevalidates[o]=e}if(f.isRevalidate)return f.pendingRevalidates[o]}return g}}let j=await h.workUnitAsyncStorage.run(u,a,...b);return f.isDraftMode||(f.pendingRevalidates||(f.pendingRevalidates={}),f.pendingRevalidates[o]=k(j,p,q,d,c.revalidate,s,r)),j}{if(j+=1,!(p.isOnDemandRevalidate && !globalThis.__openNextAls?.getStore()?.isISRRevalidation)){let a=await p.get(q,{kind:i.IncrementalCacheKind.FETCH,revalidate:c.revalidate,tags:d,fetchIdx:s,fetchUrl:r,softTags:null==t?void 0:t.tags});if(a&&a.value){if(a.value.kind!==i.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${o}`);else if(!a.isStale)return void 0!==a.value.data.body?JSON.parse(a.value.data.body):void 0}}let e=await h.workUnitAsyncStorage.run(u,a,...b);return await k(e,p,q,d,c.revalidate,s,r),e}}finally{q&&q.endRead()}}}function m(a,b){switch(b.type){case"request":let c=b.url.pathname,d=new URLSearchParams(b.url.search),e=[...d.keys()].sort((a,b)=>a.localeCompare(b)).map(a=>`${a}=${d.get(a)}`).join("&");return`${c}${e.length?"?":""}${e}`;case"prerender":case"prerender-client":case"prerender-runtime":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":return a.route;default:return b}}},81958:a=>{a.exports=e;var b=/\s/,c=/(_|-|\.|:)/,d=/([a-z][A-Z]|[A-Z][a-z])/;function e(a){return b.test(a)?a.toLowerCase():c.test(a)?(g(a)||a).toLowerCase():d.test(a)?i(a).toLowerCase():a.toLowerCase()}var f=/[\W_]+(.|$)/g;function g(a){return a.replace(f,function(a,b){return b?" "+b:""})}var h=/(.)([A-Z]+)/g;function i(a){return a.replace(h,function(a,b,c){return b+" "+c.toLowerCase().split("").join(" ")})}},81977:(a,b,c)=>{"use strict";c.d(b,{k:()=>o});var d=c(61101),e=c(35593),f=c(83518),g=c(43982),h=c(57819),i=c(33334),j=c(53216),k=c(25083),l=c(69815),m=c(48478);let o=async a=>{let{collection:{config:b},overrideAccess:c,req:{locale:o},req:p}=a,q=b.auth.loginWithUsername,{canLoginWithEmail:r,canLoginWithUsername:s}=(0,l.Y)(q),t=r&&(a.data?.email||"").toLowerCase().trim(),u=s&&"username"in a.data&&"string"==typeof a.data.username&&a.data.username.toLowerCase().trim()||null;if(b.auth.disableLocalStrategy)throw new f.c(p.t);if(!t&&!u)throw new e.L(`Missing ${b.auth.loginWithUsername?"username":"email"}.`,d.h.BAD_REQUEST);try{let a=await (0,i.n)(p);c||await (0,k.m)({req:p},b.access.unlock);let d={};r&&t?d={email:{equals:t}}:s&&u&&(d={username:{equals:u}}),d=(0,g.v)({enableTrash:!!b.trash,trash:!1,where:d});let e=await p.payload.db.findOne({collection:b.slug,locale:o,req:p,where:d}),f=null;return e?(await (0,m.Z)({collection:b,doc:e,payload:p.payload,req:p}),f=!0):f=null,a&&await (0,h.w)(p),f}catch(a){throw await (0,j.J)(p),a}}},81985:(a,b,c)=>{"use strict";c.d(b,{Y:()=>e});let d=(0,c(8086).createRequire)("file:///Users/Owner/my-project/.conductor/abuja-v1/node_modules/.pnpm/@payloadcms+drizzle@3.60.0_@libsql+client@0.14.0_bufferutil@4.0.9_utf-8-validate@6.0.5__7bea7d8635a1bdf925dd5ad37a680a1c/node_modules/@payloadcms/drizzle/dist/sqlite/requireDrizzleKit.js"),e=()=>{let{generateSQLiteDrizzleJson:a,generateSQLiteMigration:b,pushSQLiteSchema:c}=d("drizzle-kit/api");return{generateDrizzleJson:a,generateMigration:b,pushSchema:c}}},81990:(a,b,c)=>{"use strict";c.d(b,{J:()=>d});let d=async function({db:a,tableName:b,where:c}){let d=this.tables[b];await a.delete(d).where(c)}},82016:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(98373);d.code='require("ajv/dist/runtime/uri").default',b.default=d},82039:(a,b,c)=>{"use strict";c.d(b,{J:()=>f});var d=c(38200),e=c(64319);let f=async function({slug:a,locale:b,req:c,select:f,where:g}){let h=this.payload.globals.config.find(b=>b.slug===a),i=this.tableNameMap.get(d(h.slug)),{docs:[j]}=await (0,e.n)({adapter:this,fields:h.flattenedFields,limit:1,locale:b,pagination:!1,req:c,select:f,tableName:i,where:g});return j?(j.globalType=a,j):{}}},82222:(a,b,c)=>{"use strict";c.d(b,{MT:()=>k,Sf:()=>l,SJ:()=>j});var d=c(35921),e=c(46006);let f={handler:async a=>{let b=a.payload.config.jobs;if(!g(b))return Response.json({message:"No jobs to run."},{status:200});let c=b.access?.run??(()=>!0);if(!await c({req:a}))return Response.json({message:a.i18n.t("error:unauthorized")},{status:401});let{allQueues:d,disableScheduling:f,limit:h,queue:i,silent:j}=a.query,k="true"===j,l=d&&("string"!=typeof d||"false"!==d);"true"!==f&&b.scheduling&&await a.payload.jobs.handleSchedules({allQueues:l,queue:i,req:a});let m={queue:i,req:a,allQueues:l,overrideAccess:!0,silent:k};"string"==typeof i&&(m.queue=i);let o=Number(h);isNaN(o)||(m.limit=o);let p=!1,q=0;try{let a=await (0,e.A)(m);p=!!a.noJobsRemaining,q=a.remainingJobsFromQueried}catch(b){return a.payload.logger.error({err:b,msg:"There was an error running jobs:",queue:m.queue}),Response.json({message:a.i18n.t("error:unknown"),noJobsRemaining:!0,remainingJobsFromQueried:q},{status:500})}return Response.json({message:a.i18n.t("general:success"),noJobsRemaining:p,remainingJobsFromQueried:q},{status:200})},method:"get",path:"/run"},g=a=>!!(a.tasks?.length||a.workflows?.length),h={handler:async a=>{let b=a.payload.config.jobs;if(!g(b))return Response.json({message:"No jobs to schedule."},{status:200});let c=b.access?.run??(()=>!0);if(!await c({req:a}))return Response.json({message:a.i18n.t("error:unauthorized")},{status:401});if(!b.scheduling)return Response.json({message:"Cannot handle schedules because no tasks or workflows with schedules are defined."},{status:500});let{allQueues:e,queue:f}=a.query,h=e&&("string"!=typeof e||"false"!==e),{errored:i,queued:j,skipped:k}=await (0,d.L6)({allQueues:h,queue:f,req:a});return Response.json({errored:i,message:a.i18n.t("general:success"),queued:j,skipped:k},{status:200})},method:"get",path:"/handle-schedules"},i=({jobLog:a})=>{let b={};if(!a||!Array.isArray(a))return b;for(let c of a)if(b[c.taskSlug]||(b[c.taskSlug]={}),b[c.taskSlug]?.[c.taskID]){let a=b[c.taskSlug][c.taskID];a.totalTried+=1,"succeeded"===c.state&&(a.complete=!0,a.output=c.output,a.input=c.input,a.taskSlug=c.taskSlug),b[c.taskSlug][c.taskID]=a}else b[c.taskSlug][c.taskID]={complete:"succeeded"===c.state,input:c.input,output:c.output,taskSlug:c.taskSlug,totalTried:1};return b},j="payload-jobs",k=a=>{let b=new Set,c=new Set(["inline"]);a.workflows?.length&&a.workflows.forEach(a=>{b.add(a.slug)}),a.tasks?.length&&a.tasks.forEach(a=>{if(b.has(a.slug))throw Error(`Task slug "${a.slug}" is already used by a workflow. No tasks are allowed to have the same slug as a workflow.`);c.add(a.slug)});let d=[{name:"executedAt",type:"date",required:!0},{name:"completedAt",type:"date",required:!0},{name:"taskSlug",type:"select",options:[...c],required:!0},{name:"taskID",type:"text",required:!0},{name:"input",type:"json"},{name:"output",type:"json"},{name:"state",type:"radio",options:["failed","succeeded"],required:!0},{name:"error",type:"json",admin:{condition:(a,b)=>"failed"===b.state},required:!0}];a.addParentToTaskLog&&d.push({name:"parent",type:"group",fields:[{name:"taskSlug",type:"select",options:[...c]},{name:"taskID",type:"text"}]});let e={slug:j,admin:{group:"System",hidden:!0},endpoints:[f,h],fields:[{name:"input",type:"json",admin:{description:"Input data provided to the job"}},{name:"taskStatus",type:"json",virtual:!0},{type:"tabs",tabs:[{fields:[{name:"completedAt",type:"date",index:!0},{name:"totalTried",type:"number",defaultValue:0,index:!0},{name:"hasError",type:"checkbox",admin:{description:"If hasError is true this job will not be retried"},defaultValue:!1,index:!0},{name:"error",type:"json",admin:{condition:a=>a.hasError,description:"If hasError is true, this is the error that caused it"}},{name:"log",type:"array",admin:{description:"Task execution log"},fields:d}],label:"Status"}]},...b.size>0?[{name:"workflowSlug",type:"select",admin:{position:"sidebar"},index:!0,options:[...b]}]:[],{name:"taskSlug",type:"select",admin:{position:"sidebar"},index:!0,options:[...c],required:!1},{name:"queue",type:"text",admin:{position:"sidebar"},defaultValue:"default",index:!0},{name:"waitUntil",type:"date",admin:{date:{pickerAppearance:"dayAndTime"}},index:!0},{name:"processing",type:"checkbox",admin:{position:"sidebar"},defaultValue:!1,index:!0}],hooks:{afterRead:[({doc:a,req:b})=>l({config:b.payload.config,doc:a})],beforeChange:[({data:a,originalDoc:b})=>(b?.error?.cancelled&&(a.processing=!1,a.hasError=!0,delete a.completedAt,delete a.waitUntil),a)]},lockDocuments:!1};return a.stats&&e.fields.push({name:"meta",type:"json"}),e};function l({config:a,doc:b}){return b.taskStatus=i({jobLog:b.log||[]}),b.input=b.input||{},b.taskStatus=b.taskStatus||{},b}},82282:(a,b,c)=>{"use strict";c.d(b,{J:()=>d});let d=({adapter:a,addImport:b,column:c,locales:d,tableKey:e})=>{let f=c.type,g=[],h=null;switch(c.type){case"boolean":f="integer",g.push("mode: 'boolean'");break;case"enum":{let a;if("locale"in c){if(!d?.length)throw Error("Locales must be defined for locale columns");a=d}else a=c.options;f="text",g.push(`enum: [${a.map(a=>`'${a}'`).join(", ")}]`);break}case"geometry":case"jsonb":f="text",g.push("mode: 'json'");break;case"numeric":g.push("mode: 'number'");break;case"serial":f="integer";break;case"timestamp":f="text",h="default(sql`(strftime('%Y-%m-%dT%H:%M:%fZ', 'now'))`)";break;case"uuid":f="text",c.defaultRandom&&(b("crypto","randomUUID"),h="$defaultFn(() => randomUUID())");break;case"varchar":f="text";break;default:f=c.type}b(`${a.packageName}/drizzle/sqlite-core`,f);let i="";g.length&&(i=`, {${g.join(",")}}`);let j=`${f}('${c.name}'${i})`;if(c.notNull&&(j=`${j}.notNull()`),c.primaryKey){let a="";"integer"===c.type&&c.autoIncrement&&(a="{ autoIncrement: true }"),j=`${j}.primaryKey(${a})`}if(h)j=`${j}.${h}`;else if(void 0!==c.default){let a=c.default;"jsonb"===c.type||"geometry"===c.type?a=`'${JSON.stringify(c.default)}'`:"string"==typeof c.default?a=JSON.stringify(c.default):"numeric"===c.type&&(a=`'${c.default}'`),j=`${j}.default(${a})`}if(c.reference){let d="()";c.reference.table===e&&(b(`${a.packageName}/drizzle/sqlite-core`,"type AnySQLiteColumn"),d=`${d}: AnySQLiteColumn`),d=`${d} => ${c.reference.table}.${c.reference.name}`,j=`${j}.references(${d}, {
      ${c.reference.onDelete?`onDelete: '${c.reference.onDelete}'`:""}
  })`}return j}},82384:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>createSchemaGenerator});var fs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(29021),fs_promises__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(79748),path__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(33873);let sanitizeObjectKey=a=>/^[a-z_$][\w$]*$/i.test(a)?a:`'${a}'`,accessProperty=(a,b)=>{let c=sanitizeObjectKey(b);return c.startsWith("'")?`${a}[${c}]`:`${a}.${b}`},createSchemaGenerator=({columnToCodeConverter,corePackageSuffix,defaultOutputFile,enumImport,schemaImport,tableImport})=>async function generateSchema({log=!0,outputFile=defaultOutputFile,prettify=!0}={}){let importDeclarations={},tableDeclarations=[],enumDeclarations=[],relationsDeclarations=[],addImport=(a,b)=>{importDeclarations[a]||(importDeclarations[a]=new Set),importDeclarations[a].add(b)},corePackage=`${this.packageName}/drizzle/${corePackageSuffix}`,schemaDeclaration=null;this.schemaName&&(addImport(corePackage,schemaImport),schemaDeclaration=`export const db_schema = ${schemaImport}('${this.schemaName}')`);let enumFn=this.schemaName?"db_schema.enum":enumImport,enumsList=[],addEnum=(a,b)=>{enumsList.some(b=>b===a)||(enumsList.push(a),enumDeclarations.push(`export const ${a} = ${enumFn}('${a}', [${b.map(a=>`'${a}'`).join(", ")}])`))};this.payload.config.localization&&enumImport&&addEnum("enum__locales",this.payload.config.localization.localeCodes);let tableFn=this.schemaName?"db_schema.table":tableImport;for(let tableName in this.schemaName||addImport(corePackage,tableImport),addImport(corePackage,"index"),addImport(corePackage,"uniqueIndex"),addImport(corePackage,"foreignKey"),addImport(`${this.packageName}/drizzle`,"sql"),addImport(`${this.packageName}/drizzle`,"relations"),this.rawTables){let table=this.rawTables[tableName],extrasDeclarations=[];if(table.indexes)for(let key in table.indexes){let index=table.indexes[key],indexDeclaration=`${index.unique?"uniqueIndex":"index"}('${index.name}')`;indexDeclaration+=`.on(${"string"==typeof index.on?`${accessProperty("columns",index.on)}`:`${index.on.map(a=>`${accessProperty("columns",a)}`).join(", ")}`}),`,extrasDeclarations.push(indexDeclaration)}if(table.foreignKeys)for(let key in table.foreignKeys){let foreignKey=table.foreignKeys[key],foreignKeyDeclaration=`foreignKey({
      columns: [${foreignKey.columns.map(a=>`columns['${a}']`).join(", ")}],
      foreignColumns: [${foreignKey.foreignColumns.map(a=>`${accessProperty(a.table,a.name)}`).join(", ")}],
      name: '${foreignKey.name}'
    })`;foreignKey.onDelete&&(foreignKeyDeclaration+=`.onDelete('${foreignKey.onDelete}')`),foreignKey.onUpdate&&(foreignKeyDeclaration+=`.onUpdate('${foreignKey.onDelete}')`),foreignKeyDeclaration+=",",extrasDeclarations.push(foreignKeyDeclaration)}let tableCode=`
export const ${tableName} = ${tableFn}('${tableName}', {
${Object.entries(table.columns).map(([a,b])=>`  ${sanitizeObjectKey(a)}: ${columnToCodeConverter({adapter:this,addEnum,addImport,column:b,locales:this.payload.config.localization?this.payload.config.localization.localeCodes:void 0,tableKey:tableName})},`).join("\n")}
}${extrasDeclarations.length?`, (columns) => [
    ${extrasDeclarations.join(" ")}
]`:""}
)
`;tableDeclarations.push(tableCode)}for(let tableName in this.rawRelations){let relations=this.rawRelations[tableName],properties=[];for(let key in relations){let declaration,relation=relations[key];declaration="one"===relation.type?`${sanitizeObjectKey(key)}: one(${relation.to}, {
    ${relation.fields.some(a=>a.table!==tableName)?"// @ts-expect-error Drizzle TypeScript bug for ONE relationships with a field in different table":""}
    fields: [${relation.fields.map(a=>`${accessProperty(a.table,a.name)}`).join(", ")}],
    references: [${relation.references.map(a=>`${accessProperty(relation.to,a)}`).join(", ")}],
    ${relation.relationName?`relationName: '${relation.relationName}',`:""}
    }),`:`${sanitizeObjectKey(key)}: many(${relation.to}, {
            ${relation.relationName?`relationName: '${relation.relationName}',`:""}
    }),`,properties.push(declaration)}let args=[];Object.values(relations).some(a=>"one"===a.type)&&args.push("one"),Object.values(relations).some(a=>"many"===a.type)&&args.push("many");let arg=args.length?`{ ${args.join(", ")} }`:"",declaration=`export const relations_${tableName} = relations(${tableName}, (${arg}) => ({
  ${properties.join("\n    ")}
      }))`;relationsDeclarations.push(declaration)}enumDeclarations.length&&!this.schemaName&&addImport(corePackage,enumImport);let importDeclarationsSanitized=[];for(let moduleName in importDeclarations){let moduleImports=importDeclarations[moduleName];importDeclarationsSanitized.push(`import { ${Array.from(moduleImports).join(", ")} } from '${moduleName}'`)}let schemaType=`
type DatabaseSchema = {
  ${[this.schemaName?"db_schema":null,...enumsList,...Object.keys(this.rawTables),...Object.keys(this.rawRelations).map(a=>`relations_${a}`)].filter(Boolean).map(a=>`${a}: typeof ${a}`).join("\n  ")}
}
    `,finalDeclaration=`
declare module '${this.packageName}' {
  export interface GeneratedDatabaseSchema {
    schema: DatabaseSchema
  }
}
    `,warning=`
/* tslint:disable */
/* eslint-disable */
/**
 * This file was automatically generated by Payload.
 * DO NOT MODIFY IT BY HAND. Instead, modify your source Payload config,
 * and re-run \`payload generate:db-schema\` to regenerate this file.
 */
`,importTypes=`import type {} from '${this.packageName}'`,code=[warning,importTypes,...importDeclarationsSanitized,schemaDeclaration,...enumDeclarations,...tableDeclarations,...relationsDeclarations,schemaType,finalDeclaration].filter(Boolean).join("\n");if(!outputFile){let cwd=process.cwd(),srcDir=path__WEBPACK_IMPORTED_MODULE_2__.resolve(cwd,"src");outputFile=(0,fs__WEBPACK_IMPORTED_MODULE_0__.existsSync)(srcDir)?path__WEBPACK_IMPORTED_MODULE_2__.resolve(srcDir,"payload-generated-schema.ts"):path__WEBPACK_IMPORTED_MODULE_2__.resolve(cwd,"payload-generated-schema.ts")}if(prettify)try{let prettier=await eval('import("prettier")'),configPath=await prettier.resolveConfigFile(),config=configPath?await prettier.resolveConfig(configPath):{};code=await prettier.format(code,{...config,parser:"typescript"})}catch{}await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.writeFile)(outputFile,code,"utf-8"),log&&this.payload.logger.info(`Written ${outputFile}`)}},82531:(a,b,c)=>{"use strict";c.d(b,{M:()=>e});var d=c(43982);let e=async a=>{let{collection:b,req:c}=a,e=c.payload.config.collections?.find(a=>a.slug===b),f=(0,d.v)({enableTrash:!!e?.trash,trash:!1,where:{}});return!!await c.payload.db.findOne({collection:b,req:c,where:f})}},82544:(a,b,c)=>{"use strict";c.d(b,{E:()=>g});var d=c(23301);let e=(a,b)=>{if(!b||0===b.length)return a;let c=[];for(let d of b)for(let b of a)b.schemeId.split("#")[1]===d&&c.push(b);for(let b of a)c.find(({schemeId:a})=>a===b.schemeId)||c.push(b);return c};function f(a){let b=new Map;for(let c of a)b.set(c.schemeId,c);return b}let g=(a,b)=>(c,g)=>async h=>{let i=e(a.httpAuthSchemeProvider(await b.httpAuthSchemeParametersProvider(a,g,h.input)),a.authSchemePreference?await a.authSchemePreference():[]),j=f(a.httpAuthSchemes),k=(0,d.u)(g),l=[];for(let c of i){let d=j.get(c.schemeId);if(!d){l.push(`HttpAuthScheme \`${c.schemeId}\` was not enabled for this service.`);continue}let e=d.identityProvider(await b.identityProviderConfigProvider(a));if(!e){l.push(`HttpAuthScheme \`${c.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:f={},signingProperties:h={}}=c.propertiesExtractor?.(a,g)||{};c.identityProperties=Object.assign(c.identityProperties||{},f),c.signingProperties=Object.assign(c.signingProperties||{},h),k.selectedHttpAuthScheme={httpAuthOption:c,identity:await e(c.identityProperties),signer:d.signer};break}if(!k.selectedHttpAuthScheme)throw Error(l.join("\n"));return c(h)}},82592:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.printSimpleTable=b.renderSimpleTable=b.renderTable=void 0;let e=d(c(12164)),f=c(42314),g=c(34315),h=c(98667),i=d(c(95529)),j=c(58035),k=(a,b,c,d,i,j,k,l)=>{let m=new e.default(k);return m.addCharsWithColor("",a.vertical),b.forEach(b=>{let e=c<d[b.name].length?(0,h.cellText)(d[b.name][c]):"";m.addCharsWithColor(g.DEFAULT_ROW_FONT_COLOR," "),m.addCharsWithColor(i&&g.DEFAULT_HEADER_FONT_COLOR||b.color||j.color,(0,f.textWithPadding)(e,b.alignment||g.DEFAULT_ROW_ALIGNMENT,b.length||g.DEFAULT_COLUMN_LEN,l)),m.addCharsWithColor("",` ${a.vertical}`)}),m.renderConsole()},l=(a,b,c,d,e,f)=>{let g=(0,h.getWidthLimitedColumnsArray)(b,c,f),i=Object.values(g).reduce((a,b)=>Math.max(a,b.length),0),j=[];for(let h=0;h<i;h+=1){let i=k(a,b,h,g,e,c,d,f);j.push(i)}return j},m=(a,b)=>{let c=[];return c.concat(l(a.tableStyle,a.columns,b,a.colorMap,void 0,a.charLength))},o=a=>{let b=[];if(void 0===a.title)return b;let c=()=>{let b=(a,b)=>a+b+2+1;return a.columns.map(a=>a.length||g.DEFAULT_COLUMN_LEN).reduce(b,1)},d=(0,f.textWithPadding)(a.title,g.DEFAULT_HEADER_ALIGNMENT,c()),h=new e.default(a.colorMap);return h.addCharsWithColor(g.DEFAULT_HEADER_FONT_COLOR,d),b.push(h.renderConsole()),b},p=a=>{let b=[];b.push((0,h.renderTableHorizontalBorders)(a.tableStyle.headerTop,a.columns.map(a=>a.length||g.DEFAULT_COLUMN_LEN)));let c=(0,h.createHeaderAsRow)(h.createRow,a.columns);return(b=b.concat(l(a.tableStyle,a.columns,c,a.colorMap,!0))).push((0,h.renderTableHorizontalBorders)(a.tableStyle.headerBottom,a.columns.map(a=>a.length||g.DEFAULT_COLUMN_LEN))),b},q=a=>{let b=[];return b.push((0,h.renderTableHorizontalBorders)(a.tableStyle.tableBottom,a.columns.map(a=>a.length||g.DEFAULT_COLUMN_LEN))),b},r=(a,b)=>{let c=[],d=a.rows.length-1;return a.rows.indexOf(b)!==d&&b.separator&&c.push((0,h.renderTableHorizontalBorders)(a.tableStyle.rowSeparator,a.columns.map(a=>a.length||g.DEFAULT_COLUMN_LEN))),c};b.renderTable=a=>{(0,j.preProcessColumns)(a),(0,j.preProcessRows)(a);let b=[];return o(a).forEach(a=>b.push(a)),p(a).forEach(a=>b.push(a)),a.rows.forEach(c=>{m(a,c).forEach(a=>b.push(a)),r(a,c).forEach(a=>b.push(a))}),q(a).forEach(a=>b.push(a)),b.join("\n")};let s=a=>{let c=new i.default;return c.addRows(a),(0,b.renderTable)(c)};b.renderSimpleTable=s;let t=a=>{console.log((0,b.renderSimpleTable)(a))};b.printSimpleTable=t},82596:(a,b,c)=>{"use strict";c.d(b,{z:()=>i});var d=c(50531),e=c(28506),f=c(69480),g=c(12436),h=c(98661);class i extends g.f{codecDeserializer;stringDeserializer;constructor(a,b){super(),this.codecDeserializer=a,this.stringDeserializer=new h.k(b)}setSerdeContext(a){this.stringDeserializer.setSerdeContext(a),this.codecDeserializer.setSerdeContext(a),this.serdeContext=a}read(a,b){let c=d.l.of(a),g=c.getMergedTraits(),h=this.serdeContext?.utf8Encoder??e.P;if(g.httpHeader||g.httpResponseCode)return this.stringDeserializer.read(c,h(b));if(g.httpPayload){if(c.isBlobSchema()){let a=this.serdeContext?.utf8Decoder??f.a;return"string"==typeof b?a(b):b}else if(c.isStringSchema())return"byteLength"in b?h(b):b}return this.codecDeserializer.read(c,b)}}},82665:(a,b,c)=>{"use strict";var d=c(47590),e=c(58331),f=c(83398),g=c(19933),h=c(89846),i=c(55755),j=c(30623),k=c(70574),l=c(87933),m=c(11939);class o extends Uint8Array{static fromString(a,b="utf-8"){if("string"==typeof a)return"base64"===b?o.mutate(d.fromBase64(a)):o.mutate(e.fromUtf8(a));throw Error(`Unsupported conversion from ${typeof a} to Uint8ArrayBlobAdapter.`)}static mutate(a){return Object.setPrototypeOf(a,o.prototype),a}transformToString(a="utf-8"){return"base64"===a?d.toBase64(this):e.toUtf8(this)}}b.Uint8ArrayBlobAdapter=o,Object.keys(f).forEach(function(a){"default"===a||Object.prototype.hasOwnProperty.call(b,a)||Object.defineProperty(b,a,{enumerable:!0,get:function(){return f[a]}})}),Object.keys(g).forEach(function(a){"default"===a||Object.prototype.hasOwnProperty.call(b,a)||Object.defineProperty(b,a,{enumerable:!0,get:function(){return g[a]}})}),Object.keys(h).forEach(function(a){"default"===a||Object.prototype.hasOwnProperty.call(b,a)||Object.defineProperty(b,a,{enumerable:!0,get:function(){return h[a]}})}),Object.keys(i).forEach(function(a){"default"===a||Object.prototype.hasOwnProperty.call(b,a)||Object.defineProperty(b,a,{enumerable:!0,get:function(){return i[a]}})}),Object.keys(j).forEach(function(a){"default"===a||Object.prototype.hasOwnProperty.call(b,a)||Object.defineProperty(b,a,{enumerable:!0,get:function(){return j[a]}})}),Object.keys(k).forEach(function(a){"default"===a||Object.prototype.hasOwnProperty.call(b,a)||Object.defineProperty(b,a,{enumerable:!0,get:function(){return k[a]}})}),Object.keys(l).forEach(function(a){"default"===a||Object.prototype.hasOwnProperty.call(b,a)||Object.defineProperty(b,a,{enumerable:!0,get:function(){return l[a]}})}),Object.keys(m).forEach(function(a){"default"===a||Object.prototype.hasOwnProperty.call(b,a)||Object.defineProperty(b,a,{enumerable:!0,get:function(){return m[a]}})})},82828:(a,b,c)=>{"use strict";var d=c(63204);a.exports=function(a){return d(a)||0===a?a:a<0?-1:1}},82888:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.regexpCode=b.getEsmExportName=b.getProperty=b.safeStringify=b.stringify=b.strConcat=b.addCodeArg=b.str=b._=b.nil=b._Code=b.Name=b.IDENTIFIER=b._CodeOrName=void 0;class c{}b._CodeOrName=c,b.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class d extends c{constructor(a){if(super(),!b.IDENTIFIER.test(a))throw Error("CodeGen: name must be a valid identifier");this.str=a}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}b.Name=d;class e extends c{constructor(a){super(),this._items="string"==typeof a?[a]:a}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let a=this._items[0];return""===a||'""'===a}get str(){var a;return null!=(a=this._str)?a:this._str=this._items.reduce((a,b)=>`${a}${b}`,"")}get names(){var a;return null!=(a=this._names)?a:this._names=this._items.reduce((a,b)=>(b instanceof d&&(a[b.str]=(a[b.str]||0)+1),a),{})}}function f(a,...b){let c=[a[0]],d=0;for(;d<b.length;)i(c,b[d]),c.push(a[++d]);return new e(c)}b._Code=e,b.nil=new e(""),b._=f;let g=new e("+");function h(a,...b){let c=[m(a[0])],d=0;for(;d<b.length;)c.push(g),i(c,b[d]),c.push(g,m(a[++d]));return j(c),new e(c)}function i(a,b){b instanceof e?a.push(...b._items):b instanceof d?a.push(b):a.push(l(b))}function j(a){let b=1;for(;b<a.length-1;){if(a[b]===g){let c=k(a[b-1],a[b+1]);if(void 0!==c){a.splice(b-1,3,c);continue}a[b++]="+"}b++}}function k(a,b){return'""'===b?a:'""'===a?b:"string"==typeof a?b instanceof d||'"'!==a[a.length-1]?void 0:"string"!=typeof b?`${a.slice(0,-1)}${b}"`:'"'===b[0]?a.slice(0,-1)+b.slice(1):void 0:"string"!=typeof b||'"'!==b[0]||a instanceof d?void 0:`"${a}${b.slice(1)}`}function l(a){return"number"==typeof a||"boolean"==typeof a||null===a?a:m(Array.isArray(a)?a.join(","):a)}function m(a){return JSON.stringify(a).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function o(a){return"string"==typeof a&&b.IDENTIFIER.test(a)?new e(`.${a}`):f`[${a}]`}function p(a){if("string"==typeof a&&b.IDENTIFIER.test(a))return new e(`${a}`);throw Error(`CodeGen: invalid export name: ${a}, use explicit $id name mapping`)}b.str=h,b.addCodeArg=i,b.strConcat=function(a,b){return b.emptyStr()?a:a.emptyStr()?b:h`${a}${b}`},b.stringify=function(a){return new e(m(a))},b.safeStringify=m,b.getProperty=o,b.getEsmExportName=p,b.regexpCode=function(a){return new e(a.toString())}},82905:(a,b,c)=>{"use strict";c.d(b,{W:()=>d});let d=(a,b)=>{try{let c=new URL(a);return b.some(a=>Object.entries(a).every(([a,b])=>{if(!b)return!0;if("protocol"===a)return"string"==typeof b&&c.protocol===`${b}:`;if("pathname"===a){let a=b.replace(/\*\*/g,".*").replace(/\*/g,"[^/]*").replace(/\/$/,"(/)?");return RegExp(`^${a}$`).test(c.pathname)}return c[a]===b}))}catch{return!1}}},83031:a=>{"use strict";a.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},83038:(a,b,c)=>{"use strict";async function d({payload:a}){let b=(await a.find({collection:"payload-migrations",limit:0,sort:["-batch","-name"],where:{batch:{not_equals:-1}}})).docs,c=Number(b?.[0]?.batch)||0;return{existingMigrations:b,latestBatch:c}}c.d(b,{A:()=>d})},83045:(a,b,c)=>{"use strict";c.d(b,{Rv:()=>f,jY:()=>g,n9:()=>e});var d=c(37593);class e extends Error{static [d.i]="DrizzleError";constructor({message:a,cause:b}){super(a),this.name="DrizzleError",this.cause=b}}class f extends Error{constructor(a,b,c){super(`Failed query: ${a}
params: ${b}`),this.query=a,this.params=b,this.cause=c,Error.captureStackTrace(this,f),c&&(this.cause=c)}}class g extends e{static [d.i]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}},83151:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(86397);b.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:b}){let c="maxItems"===a?"more":"fewer";return(0,d.str)`must NOT have ${c} than ${b} items`},params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:e}=a,f="maxItems"===b?d.operators.GT:d.operators.LT;a.fail$data((0,d._)`${c}.length ${f} ${e}`)}}},83166:(a,b,c)=>{"use strict";c.r(b),c.d(b,{SelectorType:()=>f.c,booleanSelector:()=>d.Q,numberSelector:()=>e});var d=c(51636);let e=(a,b,c)=>{if(!(b in a))return;let d=parseInt(a[b],10);if(Number.isNaN(d))throw TypeError(`Cannot load ${c} '${b}'. Expected number, got '${a[b]}'.`);return d};var f=c(61720)},83398:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ChecksumStream=void 0;let d=c(47590),e=c(27910);class f extends e.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:a,checksum:b,source:c,checksumSourceLocation:e,base64Encoder:f}){if(super(),"function"==typeof c.pipe)this.source=c;else throw Error(`@smithy/util-stream: unsupported source type ${c?.constructor?.name??c} in ChecksumStream.`);this.base64Encoder=f??d.toBase64,this.expectedChecksum=a,this.checksum=b,this.checksumSourceLocation=e,this.source.pipe(this)}_read(a){}_write(a,b,c){try{this.checksum.update(a),this.push(a)}catch(a){return c(a)}return c()}async _final(a){try{let b=await this.checksum.digest(),c=this.base64Encoder(b);if(this.expectedChecksum!==c)return a(Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${c}" in response header "${this.checksumSourceLocation}".`))}catch(b){return a(b)}return this.push(null),a()}}b.ChecksumStream=f},83421:(a,b,c)=>{"use strict";c.d(b,{c:()=>k});var d=c(25083),e=c(18528),f=c(20551),g=c(2431),h=c(57819),i=c(33334),j=c(53216);let k=async a=>{let{id:b,depth:c,draft:k,globalConfig:l,overrideAccess:m,populate:o,showHiddenFields:p}=a,q=a.req,{fallbackLocale:r,locale:s,payload:t}=q;try{let j=await (0,i.n)(q);if(l.hooks?.beforeOperation?.length)for(let b of l.hooks.beforeOperation)a=await b({args:a,context:q.context,global:l,operation:"restoreVersion",req:q})||a;m||await (0,d.m)({req:q},l.access.update);let{docs:u}=await t.db.findGlobalVersions({global:l.slug,limit:1,req:q,where:{id:{equals:b}}});if(!u||0===u.length)throw new e.M(q.t);let v=u[0];v.version.globalType=l.slug,k&&(v.version._status="draft");let w=await t.findGlobal({slug:l.slug,depth:c,req:q}),x=await t.db.findGlobal({slug:l.slug,req:q}),y=v.version;if(x){y.updatedAt=new Date().toISOString(),y=await t.db.updateGlobal({slug:l.slug,data:y,req:q});let a=new Date().toISOString();y=await t.db.createGlobalVersion({autosave:!1,createdAt:y.createdAt?new Date(y.createdAt).toISOString():a,globalSlug:l.slug,parent:b,req:q,updatedAt:k?a:new Date(y.updatedAt).toISOString(),versionData:y})}else y=await t.db.createGlobal({slug:l.slug,data:y,req:q});if(y=await (0,g.v)({collection:null,context:q.context,depth:c,doc:y,draft:void 0,fallbackLocale:r,global:l,locale:s,overrideAccess:m,populate:o,req:q,showHiddenFields:p}),l.hooks?.afterRead?.length)for(let a of l.hooks.afterRead)y=await a({context:q.context,doc:y,global:l,req:q})||y;if(y=await (0,f.t)({collection:null,context:q.context,data:y,doc:y,global:l,operation:"update",previousDoc:w,req:q}),l.hooks?.afterChange?.length)for(let a of l.hooks.afterChange)y=await a({context:q.context,data:y,doc:y,global:l,previousDoc:w,req:q})||y;return j&&await (0,h.w)(q),y}catch(a){throw await (0,j.J)(q),a}}},83518:(a,b,c)=>{"use strict";c.d(b,{c:()=>g});var d=c(12820),e=c(61101),f=c(35593);class g extends f.L{constructor(a){super(a?a("error:notAllowedToPerformAction"):d.en.translations.error.notAllowedToPerformAction,e.h.FORBIDDEN)}}},83572:(a,b,c)=>{"use strict";c.r(b),c.d(b,{convertToBuffer:()=>h,isEmptyData:()=>i,numToUint8:()=>j,uint32ArrayFrom:()=>k});var d=c(57047);let e=(a,b)=>{if("string"!=typeof a)throw TypeError(`The "input" argument must be of type string. Received type ${typeof a} (${a})`);return b?d.Buffer.from(a,b):d.Buffer.from(a)},f=a=>{let b=e(a,"utf8");return new Uint8Array(b.buffer,b.byteOffset,b.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var g="undefined"!=typeof Buffer&&Buffer.from?function(a){return Buffer.from(a,"utf8")}:f;function h(a){return a instanceof Uint8Array?a:"string"==typeof a?g(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}function i(a){return"string"==typeof a?0===a.length:0===a.byteLength}function j(a){return new Uint8Array([(0xff000000&a)>>24,(0xff0000&a)>>16,(65280&a)>>8,255&a])}function k(a){if(!Uint32Array.from){for(var b=new Uint32Array(a.length),c=0;c<a.length;)b[c]=a[c],c+=1;return b}return Uint32Array.from(a)}},83634:a=>{"use strict";let b=["mon","tue","wed","thu","fri","sat","sun"],c=[4,7,11,16,25],d=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],e=[19,22],f=[3,7,10,19],g=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];function h(a){if(29!==a.length||!a.endsWith("gmt"))return;for(let b of c)if(" "!==a[b])return;for(let b of e)if(":"!==a[b])return;let f=a.substring(0,3);if(!b.includes(f))return;let g=a.substring(5,7),h=Number.parseInt(g);if(isNaN(h)||h<10&&"0"!==g[0])return;let i=a.substring(8,11),j=d.indexOf(i);if(-1===j)return;let k=Number.parseInt(a.substring(12,16));if(isNaN(k))return;let l=a.substring(17,19),m=Number.parseInt(l);if(isNaN(m)||m<10&&"0"!==l[0])return;let o=a.substring(20,22),p=Number.parseInt(o);if(isNaN(p)||p<10&&"0"!==o[0])return;let q=a.substring(23,25),r=Number.parseInt(q);if(!isNaN(r)&&(!(r<10)||"0"===q[0]))return new Date(Date.UTC(k,j,h,m,p,r))}function i(a){if(24!==a.length)return;for(let b of f)if(" "!==a[b])return;let c=a.substring(0,3);if(!b.includes(c))return;let e=a.substring(4,7),g=d.indexOf(e);if(-1===g)return;let h=a.substring(8,10),i=Number.parseInt(h);if(isNaN(i)||i<10&&" "!==h[0])return;let j=a.substring(11,13),k=Number.parseInt(j);if(isNaN(k)||k<10&&"0"!==j[0])return;let l=a.substring(14,16),m=Number.parseInt(l);if(isNaN(m)||m<10&&"0"!==l[0])return;let o=a.substring(17,19),p=Number.parseInt(o);if(isNaN(p)||p<10&&"0"!==o[0])return;let q=Number.parseInt(a.substring(20,24));if(!isNaN(q))return new Date(Date.UTC(q,g,i,k,m,p))}function j(a,b=new Date){if(!a.endsWith("gmt"))return;let c=a.indexOf(",");if(-1===c||a.length-c-1!=23)return;let e=a.substring(0,c);if(!g.includes(e)||" "!==a[c+1]||"-"!==a[c+4]||"-"!==a[c+8]||" "!==a[c+11]||":"!==a[c+14]||":"!==a[c+17]||" "!==a[c+20])return;let f=a.substring(c+2,c+4),h=Number.parseInt(f);if(isNaN(h)||h<10&&"0"!==f[0])return;let i=a.substring(c+5,c+8),k=d.indexOf(i);if(-1===k)return;let l=Number.parseInt(a.substring(c+9,c+11));if(isNaN(l))return;let m=b.getUTCFullYear(),o=m%100,p=Math.floor(m/100);l>o&&l-o>=50?l+=(p-1)*100:l+=100*p;let q=a.substring(c+12,c+14),r=Number.parseInt(q);if(isNaN(r)||r<10&&"0"!==q[0])return;let s=a.substring(c+15,c+17),t=Number.parseInt(s);if(isNaN(t)||t<10&&"0"!==s[0])return;let u=a.substring(c+18,c+20),v=Number.parseInt(u);if(!isNaN(v)&&(!(v<10)||"0"===u[0]))return new Date(Date.UTC(l,k,h,r,t,v))}a.exports={parseHttpDate:function(a,b){switch((a=a.toLowerCase())[3]){case",":return h(a);case" ":return i(a);default:return j(a,b)}}}},83646:(a,b,c)=>{"use strict";c.d(b,{Ou:()=>g,TM:()=>h,hl:()=>f});var d=c(30245),e=c(46674);let f={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},g={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function h(a,b,c){return{applyToStack:h=>{h.add((0,d.i)(a,c),f),h.add((0,e.J)(a,b),g)}}}},83911:(a,b,c)=>{"use strict";c.d(b,{Z:()=>h});var d=c(18648),e=c(79748),f=c(27910);let g=async(a,b)=>{let c=a,d=new f.Readable;return d._read=()=>{d.push(c),c=null},await e.writeFile(b,a)},h=async(a,b,c)=>{try{await Promise.all(b.map(async({buffer:a,path:b})=>{await g(a,b)}))}catch(b){throw a.logger.error(b),new d.e(c.t)}}},83986:(a,b,c)=>{"use strict";c.d(b,{C:()=>h});var d=c(45139),e=c(38200),f=c(8615),g=c(42526);let h=async function({global:a,locale:b,req:c,where:h}){let i=this.payload.globals.config.find(({slug:b})=>b===a),j=this.tableNameMap.get(`_${e(i.slug)}${this.versionsSuffix}`),k=await (0,g.x)(this,c),l=(0,d.p)(this.payload.config,i,!0),{joins:m,where:o}=(0,f.Z)({adapter:this,fields:l,locale:b,tableName:j,where:h});return{totalDocs:await this.countDistinct({db:k,joins:m,tableName:j,where:o})}}},84330:(a,b,c)=>{"use strict";var d=c(73024);b.n=a=>{if(!a)return 0;if("string"==typeof a)return Buffer.byteLength(a);if("number"==typeof a.byteLength)return a.byteLength;if("number"==typeof a.size)return a.size;if("number"==typeof a.start&&"number"==typeof a.end)return a.end+1-a.start;if(a instanceof d.ReadStream){if(null!=a.path)return d.lstatSync(a.path).size;else if("number"==typeof a.fd)return d.fstatSync(a.fd).size}throw Error(`Body Length computation failed for ${a}`)}},84386:(a,b,c)=>{"use strict";var d;c.d(b,{I:()=>d}),function(a){a.PROFILE="profile",a.SSO_SESSION="sso-session",a.SERVICES="services"}(d||(d={}))},84642:(a,b,c)=>{"use strict";c.r(b),c.d(b,{Field:()=>f,Fields:()=>g,HttpRequest:()=>h.K,HttpResponse:()=>i.c,getHttpHandlerExtensionConfiguration:()=>d.e,isValidHostname:()=>j,resolveHttpHandlerRuntimeConfig:()=>d.j});var d=c(71e3),e=c(70059);class f{name;kind;values;constructor({name:a,kind:b=e.w.HEADER,values:c=[]}){this.name=a,this.kind=b,this.values=c}add(a){this.values.push(a)}set(a){this.values=a}remove(a){this.values=this.values.filter(b=>b!==a)}toString(){return this.values.map(a=>a.includes(",")||a.includes(" ")?`"${a}"`:a).join(", ")}get(){return this.values}}class g{entries={};encoding;constructor({fields:a=[],encoding:b="utf-8"}){a.forEach(this.setField.bind(this)),this.encoding=b}setField(a){this.entries[a.name.toLowerCase()]=a}getField(a){return this.entries[a.toLowerCase()]}removeField(a){delete this.entries[a.toLowerCase()]}getByType(a){return Object.values(this.entries).filter(b=>b.kind===a)}}var h=c(579),i=c(42887);function j(a){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(a)}},84670:(a,b,c)=>{"use strict";c.d(b,{t:()=>d});let d=({adapter:a,db:b,forceRun:c,joins:d,query:e=({query:a})=>a,selectFields:f,tableName:g,where:h})=>{if(c||Object.keys(d).length>0){let c,i=a.tables[g];return"postgres"===a.name&&(c=b.selectDistinct(f).from(i).$dynamic()),"sqlite"===a.name&&(c=b.selectDistinct(f).from(i).$dynamic()),h&&(c=c.where(h)),d.forEach(({type:a,condition:b,table:d})=>{c=c[a??"leftJoin"](d,b)}),e({query:c})}}},84947:(a,b,c)=>{"use strict";c.d(b,{y:()=>d});let d=({headers:a,req:b})=>{let c=b?.payload?.config.cors,d=b?.headers?.get("Origin");if(c){let b=["Origin","X-Requested-With","Content-Type","Accept","Authorization","Content-Encoding","x-apollo-tracing","X-Payload-HTTP-Method-Override"];a.set("Access-Control-Allow-Methods","PUT, PATCH, POST, GET, DELETE, OPTIONS"),"object"==typeof c&&"headers"in c?a.set("Access-Control-Allow-Headers",[...b,...c.headers].filter(Boolean).join(", ")):a.set("Access-Control-Allow-Headers",b.join(", ")),"*"===c||"object"==typeof c&&"origins"in c&&"*"===c.origins?a.set("Access-Control-Allow-Origin","*"):(Array.isArray(c)&&c.indexOf(d)>-1||!Array.isArray(c)&&"object"==typeof c&&"origins"in c&&c.origins.indexOf(d)>-1)&&(a.set("Access-Control-Allow-Credentials","true"),a.set("Access-Control-Allow-Origin",d))}return a}},85095:(a,b,c)=>{"use strict";c.d(b,{h:()=>t});var d=c(92974),e=c(3174),f=c(73844),g=c(47539),h=c(94757),i=c(27008),j=c(37958);class k{_payload;_protectedHeader;_unprotectedHeader;constructor(a){if(!(a instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=a}setProtectedHeader(a){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=a,this}setUnprotectedHeader(a){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=a,this}async sign(a,b){let c;if(!this._protectedHeader&&!this._unprotectedHeader)throw new g.Ye("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,f.A)(this._protectedHeader,this._unprotectedHeader))throw new g.Ye("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let k={...this._protectedHeader,...this._unprotectedHeader},l=(0,j.A)(g.Ye,new Map([["b64",!0]]),b?.crit,this._protectedHeader,k),m=!0;if(l.has("b64")&&"boolean"!=typeof(m=this._protectedHeader.b64))throw new g.Ye('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:o}=k;if("string"!=typeof o||!o)throw new g.Ye('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,i.I)(o,a,"sign");let p=this._payload;m&&(p=h.Rd.encode((0,d.lF)(p))),c=this._protectedHeader?h.Rd.encode((0,d.lF)(JSON.stringify(this._protectedHeader))):h.Rd.encode("");let q=(0,h.xW)(c,h.Rd.encode("."),p),r=await (0,e.A)(o,a,q),s={signature:(0,d.lF)(r),payload:""};return m&&(s.payload=h.D0.decode(p)),this._unprotectedHeader&&(s.header=this._unprotectedHeader),this._protectedHeader&&(s.protected=h.D0.decode(c)),s}}class l{_flattened;constructor(a){this._flattened=new k(a)}setProtectedHeader(a){return this._flattened.setProtectedHeader(a),this}async sign(a,b){let c=await this._flattened.sign(a,b);if(void 0===c.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${c.protected}.${c.payload}.${c.signature}`}}var m=c(64208),o=c(70011),p=c(15579);function q(a,b){if(!Number.isFinite(b))throw TypeError(`Invalid ${a} input`);return b}class r{_payload;constructor(a={}){if(!(0,o.A)(a))throw TypeError("JWT Claims Set MUST be an object");this._payload=a}setIssuer(a){return this._payload={...this._payload,iss:a},this}setSubject(a){return this._payload={...this._payload,sub:a},this}setAudience(a){return this._payload={...this._payload,aud:a},this}setJti(a){return this._payload={...this._payload,jti:a},this}setNotBefore(a){return"number"==typeof a?this._payload={...this._payload,nbf:q("setNotBefore",a)}:a instanceof Date?this._payload={...this._payload,nbf:q("setNotBefore",(0,m.A)(a))}:this._payload={...this._payload,nbf:(0,m.A)(new Date)+(0,p.A)(a)},this}setExpirationTime(a){return"number"==typeof a?this._payload={...this._payload,exp:q("setExpirationTime",a)}:a instanceof Date?this._payload={...this._payload,exp:q("setExpirationTime",(0,m.A)(a))}:this._payload={...this._payload,exp:(0,m.A)(new Date)+(0,p.A)(a)},this}setIssuedAt(a){return void 0===a?this._payload={...this._payload,iat:(0,m.A)(new Date)}:a instanceof Date?this._payload={...this._payload,iat:q("setIssuedAt",(0,m.A)(a))}:"string"==typeof a?this._payload={...this._payload,iat:q("setIssuedAt",(0,m.A)(new Date)+(0,p.A)(a))}:this._payload={...this._payload,iat:q("setIssuedAt",a)},this}}class s extends r{_protectedHeader;setProtectedHeader(a){return this._protectedHeader=a,this}async sign(a,b){let c=new l(h.Rd.encode(JSON.stringify(this._payload)));if(c.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new g.Dp("JWTs MUST NOT use unencoded payload");return c.sign(a,b)}}let t=async({fieldsToSign:a,secret:b,tokenExpiration:c})=>{let d=new TextEncoder().encode(b),e=Math.floor(Date.now()/1e3),f=e+c,g=await new s(a).setProtectedHeader({alg:"HS256",typ:"JWT"}).setIssuedAt(e).setExpirationTime(f).sign(d);return{exp:f,token:g}}},85540:(a,b,c)=>{"use strict";c.d(b,{g:()=>g});var d=c(33873),e=c(5313);let f="AWS_CONFIG_FILE",g=()=>process.env[f]||(0,d.join)((0,e.R)(),".aws","config")},85797:(a,b,c)=>{"use strict";let{WebsocketFrameSend:d}=c(64119),{opcodes:e,sendHints:f}=c(51787),g=c(65257);class h{#T=new g;#co=!1;#$;constructor(a){this.#$=a}add(a,b,c){if(c!==f.blob){if(this.#co){let d={promise:null,callback:b,frame:i(a,c)};this.#T.push(d)}else if(c===f.text){let{0:c,1:e}=d.createFastTextFrame(a);this.#$.cork(),this.#$.write(c),this.#$.write(e,b),this.#$.uncork()}else this.#$.write(i(a,c),b);return}let e={promise:a.arrayBuffer().then(a=>{e.promise=null,e.frame=i(a,c)}),callback:b,frame:null};this.#T.push(e),this.#co||this.#cp()}async #cp(){this.#co=!0;let a=this.#T;for(;!a.isEmpty();){let b=a.shift();null!==b.promise&&await b.promise,this.#$.write(b.frame,b.callback),b.callback=b.frame=null}this.#co=!1}}function i(a,b){return new d(j(a,b)).createFrame(b===f.text?e.TEXT:e.BINARY)}function j(a,b){switch(b){case f.text:case f.typedArray:return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);case f.arrayBuffer:case f.blob:return new Uint8Array(a)}}a.exports={SendQueue:h}},86055:(a,b,c)=>{var d,e=c(71179),f=c(62879);try{d=c(29021)}catch(a){}var g=function(){},h="undefined"!=typeof process&&/^v?\.0/.test(process.version),i=function(a){return"function"==typeof a},j=function(a){return!!h&&!!d&&(a instanceof(d.ReadStream||g)||a instanceof(d.WriteStream||g))&&i(a.close)},k=function(a){return a.setHeader&&i(a.abort)},l=function(a,b,c,d){d=e(d);var h=!1;a.on("close",function(){h=!0}),f(a,{readable:b,writable:c},function(a){if(a)return d(a);h=!0,d()});var l=!1;return function(b){if(!h&&!l){if(l=!0,j(a))return a.close(g);if(k(a))return a.abort();if(i(a.destroy))return a.destroy();d(b||Error("stream was destroyed"))}}},m=function(a){a()},o=function(a,b){return a.pipe(b)};a.exports=function(){var a,b=Array.prototype.slice.call(arguments),c=i(b[b.length-1]||g)&&b.pop()||g;if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw Error("pump requires two streams per minimum");var d=b.map(function(e,f){var g=f<b.length-1;return l(e,g,f>0,function(b){a||(a=b),b&&d.forEach(m),g||(d.forEach(m),c(a))})});return b.reduce(o)}},86075:(a,b,c)=>{"use strict";c.d(b,{E:()=>d});let d=Symbol.for("drizzle:Name")},86101:(a,b,c)=>{"use strict";let d;c.d(b,{h:()=>as});let e={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(a,b){return b},attributeValueProcessor:function(a,b){return b},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(a,b,c){return a},captureMetaData:!1},f=function(a){return Object.assign({},e,a)},g=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",h=g+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",i=RegExp("^"+("["+g+"]["+h)+"]*$");function j(a,b){let c=[],d=b.exec(a);for(;d;){let e=[];e.startIndex=b.lastIndex-d[0].length;let f=d.length;for(let a=0;a<f;a++)e.push(d[a]);c.push(e),d=b.exec(a)}return c}let k=function(a){return null!=i.exec(a)};function l(a){return void 0!==a}d="function"!=typeof Symbol?"@@xmlMetadata":Symbol("XML Node Metadata");class m{constructor(a){this.tagname=a,this.child=[],this[":@"]={}}add(a,b){"__proto__"===a&&(a="#__proto__"),this.child.push({[a]:b})}addChild(a,b){"__proto__"===a.tagname&&(a.tagname="#__proto__"),a[":@"]&&Object.keys(a[":@"]).length>0?this.child.push({[a.tagname]:a.child,":@":a[":@"]}):this.child.push({[a.tagname]:a.child}),void 0!==b&&(this.child[this.child.length-1][d]={startIndex:b})}static getMetaDataSymbol(){return d}}function o(a,b){let c={};if("O"===a[b+3]&&"C"===a[b+4]&&"T"===a[b+5]&&"Y"===a[b+6]&&"P"===a[b+7]&&"E"===a[b+8]){b+=9;let d=1,e=!1,f=!1,g="";for(;b<a.length;b++)if("<"!==a[b]||f)if(">"===a[b]){if(f?"-"===a[b-1]&&"-"===a[b-2]&&(f=!1,d--):d--,0===d)break}else"["===a[b]?e=!0:g+=a[b];else{if(e&&u(a,"!ENTITY",b)){let d,e;b+=7,[d,e,b]=q(a,b+1),-1===e.indexOf("&")&&(c[d]={regx:RegExp(`&${d};`,"g"),val:e})}else if(e&&u(a,"!ELEMENT",b)){let{index:c}=t(a,(b+=8)+1);b=c}else if(e&&u(a,"!ATTLIST",b))b+=8;else if(e&&u(a,"!NOTATION",b)){let{index:c}=r(a,(b+=9)+1);b=c}else if(u(a,"!--",b))f=!0;else throw Error("Invalid DOCTYPE");d++,g=""}if(0!==d)throw Error("Unclosed DOCTYPE")}else throw Error("Invalid Tag instead of DOCTYPE");return{entities:c,i:b}}let p=(a,b)=>{for(;b<a.length&&/\s/.test(a[b]);)b++;return b};function q(a,b){b=p(a,b);let c="";for(;b<a.length&&!/\s/.test(a[b])&&'"'!==a[b]&&"'"!==a[b];)c+=a[b],b++;if(v(c),b=p(a,b),"SYSTEM"===a.substring(b,b+6).toUpperCase())throw Error("External entities are not supported");if("%"===a[b])throw Error("Parameter entities are not supported");let d="";return[b,d]=s(a,b,"entity"),[c,d,--b]}function r(a,b){b=p(a,b);let c="";for(;b<a.length&&!/\s/.test(a[b]);)c+=a[b],b++;v(c),b=p(a,b);let d=a.substring(b,b+6).toUpperCase();if("SYSTEM"!==d&&"PUBLIC"!==d)throw Error(`Expected SYSTEM or PUBLIC, found "${d}"`);b+=d.length,b=p(a,b);let e=null,f=null;if("PUBLIC"===d)[b,e]=s(a,b,"publicIdentifier"),b=p(a,b),('"'===a[b]||"'"===a[b])&&([b,f]=s(a,b,"systemIdentifier"));else if("SYSTEM"===d&&([b,f]=s(a,b,"systemIdentifier"),!f))throw Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:c,publicIdentifier:e,systemIdentifier:f,index:--b}}function s(a,b,c){let d="",e=a[b];if('"'!==e&&"'"!==e)throw Error(`Expected quoted string, found "${e}"`);for(b++;b<a.length&&a[b]!==e;)d+=a[b],b++;if(a[b]!==e)throw Error(`Unterminated ${c} value`);return[++b,d]}function t(a,b){b=p(a,b);let c="";for(;b<a.length&&!/\s/.test(a[b]);)c+=a[b],b++;if(!v(c))throw Error(`Invalid element name: "${c}"`);b=p(a,b);let d="";if("E"===a[b]&&u(a,"MPTY",b))b+=4;else if("A"===a[b]&&u(a,"NY",b))b+=2;else if("("===a[b]){for(b++;b<a.length&&")"!==a[b];)d+=a[b],b++;if(")"!==a[b])throw Error("Unterminated content model")}else throw Error(`Invalid Element Expression, found "${a[b]}"`);return{elementName:c,contentModel:d.trim(),index:b}}function u(a,b,c){for(let d=0;d<b.length;d++)if(b[d]!==a[c+d+1])return!1;return!0}function v(a){if(k(a))return a;throw Error(`Invalid entity name ${a}`)}let w=/^[-+]?0x[a-fA-F0-9]+$/,x=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,y={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function z(a,b={}){if(b=Object.assign({},y,b),!a||"string"!=typeof a)return a;let c=a.trim();if(void 0!==b.skipLike&&b.skipLike.test(c))return a;{if("0"===a)return 0;if(b.hex&&w.test(c))return D(c,16);if(-1!==c.search(/.+[eE].+/))return B(a,c,b);let d=x.exec(c);if(!d)return a;{let e=d[1]||"",f=d[2],g=C(d[3]),h=e?"."===a[f.length+1]:"."===a[f.length];if(!b.leadingZeros&&(f.length>1||1===f.length&&!h))return a;{let d=Number(c),h=String(d);if(0===d)return d;if(-1!==h.search(/[eE]/))if(b.eNotation)return d;else return a;if(-1!==c.indexOf("."))if("0"===h)return d;else if(h===g)return d;else if(h===`${e}${g}`)return d;else return a;let i=f?g:c;return f?i===h||e+i===h?d:a:i===h||i===e+h?d:a}}}}let A=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function B(a,b,c){if(!c.eNotation)return a;let d=b.match(A);if(!d)return a;{let e=d[1]||"",f=-1===d[3].indexOf("e")?"E":"e",g=d[2],h=e?a[g.length+1]===f:a[g.length]===f;return g.length>1&&h?a:1===g.length&&(d[3].startsWith(`.${f}`)||d[3][0]===f)?Number(b):c.leadingZeros&&!h?Number(b=(d[1]||"")+d[3]):a}}function C(a){return a&&-1!==a.indexOf(".")&&("."===(a=a.replace(/0+$/,""))?a="0":"."===a[0]?a="0"+a:"."===a[a.length-1]&&(a=a.substring(0,a.length-1))),a}function D(a,b){if(parseInt)return parseInt(a,b);if(Number.parseInt)return Number.parseInt(a,b);if(window&&window.parseInt)return window.parseInt(a,b);throw Error("parseInt, Number.parseInt, window.parseInt are not supported")}function E(a){return"function"==typeof a?a:Array.isArray(a)?b=>{for(let c of a)if("string"==typeof c&&b===c||c instanceof RegExp&&c.test(b))return!0}:()=>!1}class F{constructor(a){this.options=a,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xa2"},pound:{regex:/&(pound|#163);/g,val:"\xa3"},yen:{regex:/&(yen|#165);/g,val:"\xa5"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"\xa9"},reg:{regex:/&(reg|#174);/g,val:"\xae"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(a,b)=>String.fromCodePoint(Number.parseInt(b,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(a,b)=>String.fromCodePoint(Number.parseInt(b,16))}},this.addExternalEntities=G,this.parseXml=L,this.parseTextData=H,this.resolveNameSpace=I,this.buildAttributesMap=K,this.isItStopNode=P,this.replaceEntitiesValue=N,this.readStopNodeData=T,this.saveTextToParentTag=O,this.addChild=M,this.ignoreAttributesFn=E(this.options.ignoreAttributes)}}function G(a){let b=Object.keys(a);for(let c=0;c<b.length;c++){let d=b[c];this.lastEntities[d]={regex:RegExp("&"+d+";","g"),val:a[d]}}}function H(a,b,c,d,e,f,g){if(void 0!==a&&(this.options.trimValues&&!d&&(a=a.trim()),a.length>0)){g||(a=this.replaceEntitiesValue(a));let d=this.options.tagValueProcessor(b,a,c,e,f);return null==d?a:typeof d!=typeof a||d!==a?d:this.options.trimValues||a.trim()===a?U(a,this.options.parseTagValue,this.options.numberParseOptions):a}}function I(a){if(this.options.removeNSPrefix){let b=a.split(":"),c="/"===a.charAt(0)?"/":"";if("xmlns"===b[0])return"";2===b.length&&(a=c+b[1])}return a}let J=RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function K(a,b,c){if(!0!==this.options.ignoreAttributes&&"string"==typeof a){let c=j(a,J),d=c.length,e={};for(let a=0;a<d;a++){let d=this.resolveNameSpace(c[a][1]);if(this.ignoreAttributesFn(d,b))continue;let f=c[a][4],g=this.options.attributeNamePrefix+d;if(d.length)if(this.options.transformAttributeName&&(g=this.options.transformAttributeName(g)),"__proto__"===g&&(g="#__proto__"),void 0!==f){this.options.trimValues&&(f=f.trim()),f=this.replaceEntitiesValue(f);let a=this.options.attributeValueProcessor(d,f,b);null==a?e[g]=f:typeof a!=typeof f||a!==f?e[g]=a:e[g]=U(f,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(e[g]=!0)}if(Object.keys(e).length){if(this.options.attributesGroupName){let a={};return a[this.options.attributesGroupName]=e,a}return e}}}let L=function(a){a=a.replace(/\r\n?/g,"\n");let b=new m("!xml"),c=b,d="",e="";for(let f=0;f<a.length;f++)if("<"===a[f])if("/"===a[f+1]){let b=R(a,">",f,"Closing Tag is not closed."),g=a.substring(f+2,b).trim();if(this.options.removeNSPrefix){let a=g.indexOf(":");-1!==a&&(g=g.substr(a+1))}this.options.transformTagName&&(g=this.options.transformTagName(g)),c&&(d=this.saveTextToParentTag(d,c,e));let h=e.substring(e.lastIndexOf(".")+1);if(g&&-1!==this.options.unpairedTags.indexOf(g))throw Error(`Unpaired tag can not be used as closing tag: </${g}>`);let i=0;h&&-1!==this.options.unpairedTags.indexOf(h)?(i=e.lastIndexOf(".",e.lastIndexOf(".")-1),this.tagsNodeStack.pop()):i=e.lastIndexOf("."),e=e.substring(0,i),c=this.tagsNodeStack.pop(),d="",f=b}else if("?"===a[f+1]){let b=S(a,f,!1,"?>");if(!b)throw Error("Pi Tag is not closed.");if(d=this.saveTextToParentTag(d,c,e),this.options.ignoreDeclaration&&"?xml"===b.tagName||this.options.ignorePiTags);else{let a=new m(b.tagName);a.add(this.options.textNodeName,""),b.tagName!==b.tagExp&&b.attrExpPresent&&(a[":@"]=this.buildAttributesMap(b.tagExp,e,b.tagName)),this.addChild(c,a,e,f)}f=b.closeIndex+1}else if("!--"===a.substr(f+1,3)){let b=R(a,"--\x3e",f+4,"Comment is not closed.");if(this.options.commentPropName){let g=a.substring(f+4,b-2);d=this.saveTextToParentTag(d,c,e),c.add(this.options.commentPropName,[{[this.options.textNodeName]:g}])}f=b}else if("!D"===a.substr(f+1,2)){let b=o(a,f);this.docTypeEntities=b.entities,f=b.i}else if("!["===a.substr(f+1,2)){let b=R(a,"]]>",f,"CDATA is not closed.")-2,g=a.substring(f+9,b);d=this.saveTextToParentTag(d,c,e);let h=this.parseTextData(g,c.tagname,e,!0,!1,!0,!0);void 0==h&&(h=""),this.options.cdataPropName?c.add(this.options.cdataPropName,[{[this.options.textNodeName]:g}]):c.add(this.options.textNodeName,h),f=b+2}else{let g=S(a,f,this.options.removeNSPrefix),h=g.tagName,i=g.rawTagName,j=g.tagExp,k=g.attrExpPresent,l=g.closeIndex;this.options.transformTagName&&(h=this.options.transformTagName(h)),c&&d&&"!xml"!==c.tagname&&(d=this.saveTextToParentTag(d,c,e,!1));let o=c;o&&-1!==this.options.unpairedTags.indexOf(o.tagname)&&(c=this.tagsNodeStack.pop(),e=e.substring(0,e.lastIndexOf("."))),h!==b.tagname&&(e+=e?"."+h:h);let p=f;if(this.isItStopNode(this.options.stopNodes,e,h)){let b="";if(j.length>0&&j.lastIndexOf("/")===j.length-1)"/"===h[h.length-1]?(h=h.substr(0,h.length-1),e=e.substr(0,e.length-1),j=h):j=j.substr(0,j.length-1),f=g.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(h))f=g.closeIndex;else{let c=this.readStopNodeData(a,i,l+1);if(!c)throw Error(`Unexpected end of ${i}`);f=c.i,b=c.tagContent}let d=new m(h);h!==j&&k&&(d[":@"]=this.buildAttributesMap(j,e,h)),b&&(b=this.parseTextData(b,h,e,!0,k,!0,!0)),e=e.substr(0,e.lastIndexOf(".")),d.add(this.options.textNodeName,b),this.addChild(c,d,e,p)}else{if(j.length>0&&j.lastIndexOf("/")===j.length-1){"/"===h[h.length-1]?(h=h.substr(0,h.length-1),e=e.substr(0,e.length-1),j=h):j=j.substr(0,j.length-1),this.options.transformTagName&&(h=this.options.transformTagName(h));let a=new m(h);h!==j&&k&&(a[":@"]=this.buildAttributesMap(j,e,h)),this.addChild(c,a,e,p),e=e.substr(0,e.lastIndexOf("."))}else{let a=new m(h);this.tagsNodeStack.push(c),h!==j&&k&&(a[":@"]=this.buildAttributesMap(j,e,h)),this.addChild(c,a,e,p),c=a}d="",f=l}}else d+=a[f];return b.child};function M(a,b,c,d){this.options.captureMetaData||(d=void 0);let e=this.options.updateTag(b.tagname,c,b[":@"]);!1===e||("string"==typeof e&&(b.tagname=e),a.addChild(b,d))}let N=function(a){if(this.options.processEntities){for(let b in this.docTypeEntities){let c=this.docTypeEntities[b];a=a.replace(c.regx,c.val)}for(let b in this.lastEntities){let c=this.lastEntities[b];a=a.replace(c.regex,c.val)}if(this.options.htmlEntities)for(let b in this.htmlEntities){let c=this.htmlEntities[b];a=a.replace(c.regex,c.val)}a=a.replace(this.ampEntity.regex,this.ampEntity.val)}return a};function O(a,b,c,d){return a&&(void 0===d&&(d=0===b.child.length),void 0!==(a=this.parseTextData(a,b.tagname,c,!1,!!b[":@"]&&0!==Object.keys(b[":@"]).length,d))&&""!==a&&b.add(this.options.textNodeName,a),a=""),a}function P(a,b,c){let d="*."+c;for(let c in a){let e=a[c];if(d===e||b===e)return!0}return!1}function Q(a,b,c=">"){let d,e="";for(let f=b;f<a.length;f++){let b=a[f];if(d)b===d&&(d="");else if('"'===b||"'"===b)d=b;else if(b===c[0]){if(!c[1])return{data:e,index:f};else if(a[f+1]===c[1])return{data:e,index:f}}else"	"===b&&(b=" ");e+=b}}function R(a,b,c,d){let e=a.indexOf(b,c);if(-1!==e)return e+b.length-1;throw Error(d)}function S(a,b,c,d=">"){let e=Q(a,b+1,d);if(!e)return;let f=e.data,g=e.index,h=f.search(/\s/),i=f,j=!0;-1!==h&&(i=f.substring(0,h),f=f.substring(h+1).trimStart());let k=i;if(c){let a=i.indexOf(":");-1!==a&&(j=(i=i.substr(a+1))!==e.data.substr(a+1))}return{tagName:i,tagExp:f,closeIndex:g,attrExpPresent:j,rawTagName:k}}function T(a,b,c){let d=c,e=1;for(;c<a.length;c++)if("<"===a[c])if("/"===a[c+1]){let f=R(a,">",c,`${b} is not closed`);if(a.substring(c+2,f).trim()===b&&0==--e)return{tagContent:a.substring(d,c),i:f};c=f}else if("?"===a[c+1])c=R(a,"?>",c+1,"StopNode is not closed.");else if("!--"===a.substr(c+1,3))c=R(a,"--\x3e",c+3,"StopNode is not closed.");else if("!["===a.substr(c+1,2))c=R(a,"]]>",c,"StopNode is not closed.")-2;else{let d=S(a,c,">");d&&((d&&d.tagName)===b&&"/"!==d.tagExp[d.tagExp.length-1]&&e++,c=d.closeIndex)}}function U(a,b,c){if(b&&"string"==typeof a){let b=a.trim();return"true"===b||"false"!==b&&z(a,c)}return l(a)?a:""}let V=m.getMetaDataSymbol();function W(a,b){return X(a,b)}function X(a,b,c){let d,e={};for(let f=0;f<a.length;f++){let g=a[f],h=Y(g),i="";if(i=void 0===c?h:c+"."+h,h===b.textNodeName)void 0===d?d=g[h]:d+=""+g[h];else if(void 0===h)continue;else if(g[h]){let a=X(g[h],b,i),c=$(a,b);void 0!==g[V]&&(a[V]=g[V]),g[":@"]?Z(a,g[":@"],i,b):1!==Object.keys(a).length||void 0===a[b.textNodeName]||b.alwaysCreateTextNode?0===Object.keys(a).length&&(b.alwaysCreateTextNode?a[b.textNodeName]="":a=""):a=a[b.textNodeName],void 0!==e[h]&&e.hasOwnProperty(h)?(Array.isArray(e[h])||(e[h]=[e[h]]),e[h].push(a)):b.isArray(h,i,c)?e[h]=[a]:e[h]=a}}return"string"==typeof d?d.length>0&&(e[b.textNodeName]=d):void 0!==d&&(e[b.textNodeName]=d),e}function Y(a){let b=Object.keys(a);for(let a=0;a<b.length;a++){let c=b[a];if(":@"!==c)return c}}function Z(a,b,c,d){if(b){let e=Object.keys(b),f=e.length;for(let g=0;g<f;g++){let f=e[g];d.isArray(f,c+"."+f,!0,!0)?a[f]=[b[f]]:a[f]=b[f]}}}function $(a,b){let{textNodeName:c}=b,d=Object.keys(a).length;return 0===d||1===d&&(!!a[c]||"boolean"==typeof a[c]||0===a[c])}let _={allowBooleanAttributes:!1,unpairedTags:[]};function aa(a,b){b=Object.assign({},_,b);let c=[],d=!1,e=!1;"\uFEFF"===a[0]&&(a=a.substr(1));for(let f=0;f<a.length;f++)if("<"===a[f]&&"?"===a[f+1]){if(f+=2,(f=ac(a,f)).err)return f}else if("<"===a[f]){let g=f;if("!"===a[++f]){f=ad(a,f);continue}{let h=!1;"/"===a[f]&&(h=!0,f++);let i="";for(;f<a.length&&">"!==a[f]&&" "!==a[f]&&"	"!==a[f]&&"\n"!==a[f]&&"\r"!==a[f];f++)i+=a[f];if("/"===(i=i.trim())[i.length-1]&&(i=i.substring(0,i.length-1),f--),!an(i)){let b;return al("InvalidTag",b=0===i.trim().length?"Invalid space after '<'.":"Tag '"+i+"' is an invalid name.",ao(a,f))}let j=ag(a,f);if(!1===j)return al("InvalidAttr","Attributes for '"+i+"' have open quote.",ao(a,f));let k=j.value;if(f=j.index,"/"===k[k.length-1]){let c=f-k.length,e=ai(k=k.substring(0,k.length-1),b);if(!0!==e)return al(e.err.code,e.err.msg,ao(a,c+e.err.line));d=!0}else if(h)if(!j.tagClosed)return al("InvalidTag","Closing tag '"+i+"' doesn't have proper closing.",ao(a,f));else{if(k.trim().length>0)return al("InvalidTag","Closing tag '"+i+"' can't have attributes or invalid starting.",ao(a,g));if(0===c.length)return al("InvalidTag","Closing tag '"+i+"' has not been opened.",ao(a,g));let b=c.pop();if(i!==b.tagName){let c=ao(a,b.tagStartPos);return al("InvalidTag","Expected closing tag '"+b.tagName+"' (opened in line "+c.line+", col "+c.col+") instead of closing tag '"+i+"'.",ao(a,g))}0==c.length&&(e=!0)}else{let h=ai(k,b);if(!0!==h)return al(h.err.code,h.err.msg,ao(a,f-k.length+h.err.line));if(!0===e)return al("InvalidXml","Multiple possible root nodes found.",ao(a,f));-1!==b.unpairedTags.indexOf(i)||c.push({tagName:i,tagStartPos:g}),d=!0}for(f++;f<a.length;f++)if("<"===a[f])if("!"===a[f+1]){f=ad(a,++f);continue}else if("?"===a[f+1]){if((f=ac(a,++f)).err)return f}else break;else if("&"===a[f]){let b=ak(a,f);if(-1==b)return al("InvalidChar","char '&' is not expected.",ao(a,f));f=b}else if(!0===e&&!ab(a[f]))return al("InvalidXml","Extra text at the end",ao(a,f));"<"===a[f]&&f--}}else{if(ab(a[f]))continue;return al("InvalidChar","char '"+a[f]+"' is not expected.",ao(a,f))}return d?1==c.length?al("InvalidTag","Unclosed tag '"+c[0].tagName+"'.",ao(a,c[0].tagStartPos)):!(c.length>0)||al("InvalidXml","Invalid '"+JSON.stringify(c.map(a=>a.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):al("InvalidXml","Start tag expected.",1)}function ab(a){return" "===a||"	"===a||"\n"===a||"\r"===a}function ac(a,b){let c=b;for(;b<a.length;b++)if("?"==a[b]||" "==a[b]){let d=a.substr(c,b-c);if(b>5&&"xml"===d)return al("InvalidXml","XML declaration allowed only at the start of the document.",ao(a,b));if("?"!=a[b]||">"!=a[b+1])continue;b++;break}return b}function ad(a,b){if(a.length>b+5&&"-"===a[b+1]&&"-"===a[b+2]){for(b+=3;b<a.length;b++)if("-"===a[b]&&"-"===a[b+1]&&">"===a[b+2]){b+=2;break}}else if(a.length>b+8&&"D"===a[b+1]&&"O"===a[b+2]&&"C"===a[b+3]&&"T"===a[b+4]&&"Y"===a[b+5]&&"P"===a[b+6]&&"E"===a[b+7]){let c=1;for(b+=8;b<a.length;b++)if("<"===a[b])c++;else if(">"===a[b]&&0==--c)break}else if(a.length>b+9&&"["===a[b+1]&&"C"===a[b+2]&&"D"===a[b+3]&&"A"===a[b+4]&&"T"===a[b+5]&&"A"===a[b+6]&&"["===a[b+7]){for(b+=8;b<a.length;b++)if("]"===a[b]&&"]"===a[b+1]&&">"===a[b+2]){b+=2;break}}return b}let ae='"',af="'";function ag(a,b){let c="",d="",e=!1;for(;b<a.length;b++){if(a[b]===ae||a[b]===af)""===d?d=a[b]:d!==a[b]||(d="");else if(">"===a[b]&&""===d){e=!0;break}c+=a[b]}return""===d&&{value:c,index:b,tagClosed:e}}let ah=RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function ai(a,b){let c=j(a,ah),d={};for(let a=0;a<c.length;a++){if(0===c[a][1].length)return al("InvalidAttr","Attribute '"+c[a][2]+"' has no space in starting.",ap(c[a]));if(void 0!==c[a][3]&&void 0===c[a][4])return al("InvalidAttr","Attribute '"+c[a][2]+"' is without value.",ap(c[a]));if(void 0===c[a][3]&&!b.allowBooleanAttributes)return al("InvalidAttr","boolean attribute '"+c[a][2]+"' is not allowed.",ap(c[a]));let e=c[a][2];if(!am(e))return al("InvalidAttr","Attribute '"+e+"' is an invalid name.",ap(c[a]));if(d.hasOwnProperty(e))return al("InvalidAttr","Attribute '"+e+"' is repeated.",ap(c[a]));d[e]=1}return!0}function aj(a,b){let c=/\d/;for("x"===a[b]&&(b++,c=/[\da-fA-F]/);b<a.length;b++){if(";"===a[b])return b;if(!a[b].match(c))break}return -1}function ak(a,b){if(";"===a[++b])return -1;if("#"===a[b])return aj(a,++b);let c=0;for(;b<a.length;b++,c++)if(!a[b].match(/\w/)||!(c<20)){if(";"===a[b])break;return -1}return b}function al(a,b,c){return{err:{code:a,msg:b,line:c.line||c,col:c.col}}}function am(a){return k(a)}function an(a){return k(a)}function ao(a,b){let c=a.substring(0,b).split(/\r?\n/);return{line:c.length,col:c[c.length-1].length+1}}function ap(a){return a.startIndex+a[1].length}class aq{constructor(a){this.externalEntities={},this.options=f(a)}parse(a,b){if("string"==typeof a);else if(a.toString)a=a.toString();else throw Error("XML data is accepted in String or Bytes[] form.");if(b){!0===b&&(b={});let c=aa(a,b);if(!0!==c)throw Error(`${c.err.msg}:${c.err.line}:${c.err.col}`)}let c=new F(this.options);c.addExternalEntities(this.externalEntities);let d=c.parseXml(a);return this.options.preserveOrder||void 0===d?d:W(d,this.options)}addEntity(a,b){if(-1!==b.indexOf("&"))throw Error("Entity value can't have '&'");if(-1!==a.indexOf("&")||-1!==a.indexOf(";"))throw Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===b)throw Error("An entity with value '&' is not permitted");this.externalEntities[a]=b}static getMetaDataSymbol(){return m.getMetaDataSymbol()}}let ar=new aq({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,b)=>""===b.trim()&&b.includes("\n")?"":void 0});function as(a){return ar.parse(a,!0)}ar.addEntity("#xD","\r"),ar.addEntity("#10","\n")},86233:(a,b,c)=>{"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}let f=c(90165),g=c(67858),h=c(1298),i=h.cursor,j=h.erase,k=c(90439),l=k.style,m=k.figures,o=k.clear,p=k.lines,q=/[0-9]/,r=a=>void 0!==a,s=(a,b)=>{let c=Math.pow(10,b);return Math.round(a*c)/c};class t extends g{constructor(a={}){super(a),this.transform=l.render(a.style),this.msg=a.message,this.initial=r(a.initial)?a.initial:"",this.float=!!a.float,this.round=a.round||2,this.inc=a.increment||1,this.min=r(a.min)?a.min:-1/0,this.max=r(a.max)?a.max:1/0,this.errorMsg=a.error||"Please Enter A Valid Value",this.validator=a.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(a){a||0===a?(this.placeholder=!1,this.rendered=this.transform.render(`${s(a,this.round)}`),this._value=s(a,this.round)):(this.placeholder=!0,this.rendered=f.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(a){return this.float?parseFloat(a):parseInt(a)}valid(a){return"-"===a||"."===a&&this.float||q.test(a)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let a=this.value;this.value=""!==a?a:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var a=this;return e(function*(){let b=yield a.validator(a.value);"string"==typeof b&&(a.errorMsg=b,b=!1),a.error=!b})()}submit(){var a=this;return e(function*(){if(yield a.validate(),a.error){a.color="red",a.fire(),a.render();return}let b=a.value;a.value=""!==b?b:a.initial,a.done=!0,a.aborted=!1,a.error=!1,a.fire(),a.render(),a.out.write(`
`),a.close()})()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let a=this.value.toString();if(0===a.length)return this.bell();this.value=this.parse(a=a.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(a,b){if(!this.valid(a))return this.bell();let c=Date.now();if(c-this.lastHit>1e3&&(this.typed=""),this.typed+=a,this.lastHit=c,this.color="cyan","."===a)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(i.down(p(this.outputError,this.out.columns)-1)+o(this.outputError,this.out.columns)),this.out.write(o(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),f.bold(this.msg),l.delimiter(this.done),!this.done||!this.done&&!this.placeholder?f[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((a,b,c)=>a+`
${c?" ":m.pointerSmall} ${f.red().italic(b)}`,"")),this.out.write(j.line+i.to(0)+this.outputText+i.save+this.outputError+i.restore))}}a.exports=t},86397:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.or=b.and=b.not=b.CodeGen=b.operators=b.varKinds=b.ValueScopeName=b.ValueScope=b.Scope=b.Name=b.regexpCode=b.stringify=b.getProperty=b.nil=b.strConcat=b.str=b._=void 0;let d=c(82888),e=c(1501);var f=c(82888);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(b,"strConcat",{enumerable:!0,get:function(){return f.strConcat}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(b,"getProperty",{enumerable:!0,get:function(){return f.getProperty}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(b,"regexpCode",{enumerable:!0,get:function(){return f.regexpCode}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return f.Name}});var g=c(1501);Object.defineProperty(b,"Scope",{enumerable:!0,get:function(){return g.Scope}}),Object.defineProperty(b,"ValueScope",{enumerable:!0,get:function(){return g.ValueScope}}),Object.defineProperty(b,"ValueScopeName",{enumerable:!0,get:function(){return g.ValueScopeName}}),Object.defineProperty(b,"varKinds",{enumerable:!0,get:function(){return g.varKinds}}),b.operators={GT:new d._Code(">"),GTE:new d._Code(">="),LT:new d._Code("<"),LTE:new d._Code("<="),EQ:new d._Code("==="),NEQ:new d._Code("!=="),NOT:new d._Code("!"),OR:new d._Code("||"),AND:new d._Code("&&"),ADD:new d._Code("+")};class h{optimizeNodes(){return this}optimizeNames(a,b){return this}}class i extends h{constructor(a,b,c){super(),this.varKind=a,this.name=b,this.rhs=c}render({es5:a,_n:b}){let c=a?e.varKinds.var:this.varKind,d=void 0===this.rhs?"":` = ${this.rhs}`;return`${c} ${this.name}${d};`+b}optimizeNames(a,b){if(a[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,a,b)),this}get names(){return this.rhs instanceof d._CodeOrName?this.rhs.names:{}}}class j extends h{constructor(a,b,c){super(),this.lhs=a,this.rhs=b,this.sideEffects=c}render({_n:a}){return`${this.lhs} = ${this.rhs};`+a}optimizeNames(a,b){if(!(this.lhs instanceof d.Name)||a[this.lhs.str]||this.sideEffects)return this.rhs=H(this.rhs,a,b),this}get names(){return G(this.lhs instanceof d.Name?{}:{...this.lhs.names},this.rhs)}}class k extends j{constructor(a,b,c,d){super(a,c,d),this.op=b}render({_n:a}){return`${this.lhs} ${this.op}= ${this.rhs};`+a}}class l extends h{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){return`${this.label}:`+a}}class m extends h{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){let b=this.label?` ${this.label}`:"";return`break${b};`+a}}class o extends h{constructor(a){super(),this.error=a}render({_n:a}){return`throw ${this.error};`+a}get names(){return this.error.names}}class p extends h{constructor(a){super(),this.code=a}render({_n:a}){return`${this.code};`+a}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(a,b){return this.code=H(this.code,a,b),this}get names(){return this.code instanceof d._CodeOrName?this.code.names:{}}}class q extends h{constructor(a=[]){super(),this.nodes=a}render(a){return this.nodes.reduce((b,c)=>b+c.render(a),"")}optimizeNodes(){let{nodes:a}=this,b=a.length;for(;b--;){let c=a[b].optimizeNodes();Array.isArray(c)?a.splice(b,1,...c):c?a[b]=c:a.splice(b,1)}return a.length>0?this:void 0}optimizeNames(a,b){let{nodes:c}=this,d=c.length;for(;d--;){let e=c[d];e.optimizeNames(a,b)||(I(a,e.names),c.splice(d,1))}return c.length>0?this:void 0}get names(){return this.nodes.reduce((a,b)=>F(a,b.names),{})}}class r extends q{render(a){return"{"+a._n+super.render(a)+"}"+a._n}}class s extends q{}class t extends r{}t.kind="else";class u extends r{constructor(a,b){super(b),this.condition=a}render(a){let b=`if(${this.condition})`+super.render(a);return this.else&&(b+="else "+this.else.render(a)),b}optimizeNodes(){super.optimizeNodes();let a=this.condition;if(!0===a)return this.nodes;let b=this.else;if(b){let a=b.optimizeNodes();b=this.else=Array.isArray(a)?new t(a):a}return b?!1===a?b instanceof u?b:b.nodes:this.nodes.length?this:new u(J(a),b instanceof u?[b]:b.nodes):!1!==a&&this.nodes.length?this:void 0}optimizeNames(a,b){var c;if(this.else=null==(c=this.else)?void 0:c.optimizeNames(a,b),super.optimizeNames(a,b)||this.else)return this.condition=H(this.condition,a,b),this}get names(){let a=super.names;return G(a,this.condition),this.else&&F(a,this.else.names),a}}u.kind="if";class v extends r{}v.kind="for";class w extends v{constructor(a){super(),this.iteration=a}render(a){return`for(${this.iteration})`+super.render(a)}optimizeNames(a,b){if(super.optimizeNames(a,b))return this.iteration=H(this.iteration,a,b),this}get names(){return F(super.names,this.iteration.names)}}class x extends v{constructor(a,b,c,d){super(),this.varKind=a,this.name=b,this.from=c,this.to=d}render(a){let b=a.es5?e.varKinds.var:this.varKind,{name:c,from:d,to:f}=this;return`for(${b} ${c}=${d}; ${c}<${f}; ${c}++)`+super.render(a)}get names(){let a=G(super.names,this.from);return G(a,this.to)}}class y extends v{constructor(a,b,c,d){super(),this.loop=a,this.varKind=b,this.name=c,this.iterable=d}render(a){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(a)}optimizeNames(a,b){if(super.optimizeNames(a,b))return this.iterable=H(this.iterable,a,b),this}get names(){return F(super.names,this.iterable.names)}}class z extends r{constructor(a,b,c){super(),this.name=a,this.args=b,this.async=c}render(a){let b=this.async?"async ":"";return`${b}function ${this.name}(${this.args})`+super.render(a)}}z.kind="func";class A extends q{render(a){return"return "+super.render(a)}}A.kind="return";class B extends r{render(a){let b="try"+super.render(a);return this.catch&&(b+=this.catch.render(a)),this.finally&&(b+=this.finally.render(a)),b}optimizeNodes(){var a,b;return super.optimizeNodes(),null==(a=this.catch)||a.optimizeNodes(),null==(b=this.finally)||b.optimizeNodes(),this}optimizeNames(a,b){var c,d;return super.optimizeNames(a,b),null==(c=this.catch)||c.optimizeNames(a,b),null==(d=this.finally)||d.optimizeNames(a,b),this}get names(){let a=super.names;return this.catch&&F(a,this.catch.names),this.finally&&F(a,this.finally.names),a}}class C extends r{constructor(a){super(),this.error=a}render(a){return`catch(${this.error})`+super.render(a)}}C.kind="catch";class D extends r{render(a){return"finally"+super.render(a)}}D.kind="finally";class E{constructor(a,b={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...b,_n:b.lines?"\n":""},this._extScope=a,this._scope=new e.Scope({parent:a}),this._nodes=[new s]}toString(){return this._root.render(this.opts)}name(a){return this._scope.name(a)}scopeName(a){return this._extScope.name(a)}scopeValue(a,b){let c=this._extScope.value(a,b);return(this._values[c.prefix]||(this._values[c.prefix]=new Set)).add(c),c}getScopeValue(a,b){return this._extScope.getValue(a,b)}scopeRefs(a){return this._extScope.scopeRefs(a,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(a,b,c,d){let e=this._scope.toName(b);return void 0!==c&&d&&(this._constants[e.str]=c),this._leafNode(new i(a,e,c)),e}const(a,b,c){return this._def(e.varKinds.const,a,b,c)}let(a,b,c){return this._def(e.varKinds.let,a,b,c)}var(a,b,c){return this._def(e.varKinds.var,a,b,c)}assign(a,b,c){return this._leafNode(new j(a,b,c))}add(a,c){return this._leafNode(new k(a,b.operators.ADD,c))}code(a){return"function"==typeof a?a():a!==d.nil&&this._leafNode(new p(a)),this}object(...a){let b=["{"];for(let[c,e]of a)b.length>1&&b.push(","),b.push(c),(c!==e||this.opts.es5)&&(b.push(":"),(0,d.addCodeArg)(b,e));return b.push("}"),new d._Code(b)}if(a,b,c){if(this._blockNode(new u(a)),b&&c)this.code(b).else().code(c).endIf();else if(b)this.code(b).endIf();else if(c)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(a){return this._elseNode(new u(a))}else(){return this._elseNode(new t)}endIf(){return this._endBlockNode(u,t)}_for(a,b){return this._blockNode(a),b&&this.code(b).endFor(),this}for(a,b){return this._for(new w(a),b)}forRange(a,b,c,d,f=this.opts.es5?e.varKinds.var:e.varKinds.let){let g=this._scope.toName(a);return this._for(new x(f,g,b,c),()=>d(g))}forOf(a,b,c,f=e.varKinds.const){let g=this._scope.toName(a);if(this.opts.es5){let a=b instanceof d.Name?b:this.var("_arr",b);return this.forRange("_i",0,(0,d._)`${a}.length`,b=>{this.var(g,(0,d._)`${a}[${b}]`),c(g)})}return this._for(new y("of",f,g,b),()=>c(g))}forIn(a,b,c,f=this.opts.es5?e.varKinds.var:e.varKinds.const){if(this.opts.ownProperties)return this.forOf(a,(0,d._)`Object.keys(${b})`,c);let g=this._scope.toName(a);return this._for(new y("in",f,g,b),()=>c(g))}endFor(){return this._endBlockNode(v)}label(a){return this._leafNode(new l(a))}break(a){return this._leafNode(new m(a))}return(a){let b=new A;if(this._blockNode(b),this.code(a),1!==b.nodes.length)throw Error('CodeGen: "return" should have one node');return this._endBlockNode(A)}try(a,b,c){if(!b&&!c)throw Error('CodeGen: "try" without "catch" and "finally"');let d=new B;if(this._blockNode(d),this.code(a),b){let a=this.name("e");this._currNode=d.catch=new C(a),b(a)}return c&&(this._currNode=d.finally=new D,this.code(c)),this._endBlockNode(C,D)}throw(a){return this._leafNode(new o(a))}block(a,b){return this._blockStarts.push(this._nodes.length),a&&this.code(a).endBlock(b),this}endBlock(a){let b=this._blockStarts.pop();if(void 0===b)throw Error("CodeGen: not in self-balancing block");let c=this._nodes.length-b;if(c<0||void 0!==a&&c!==a)throw Error(`CodeGen: wrong number of nodes: ${c} vs ${a} expected`);return this._nodes.length=b,this}func(a,b=d.nil,c,e){return this._blockNode(new z(a,b,c)),e&&this.code(e).endFunc(),this}endFunc(){return this._endBlockNode(z)}optimize(a=1){for(;a-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(a){return this._currNode.nodes.push(a),this}_blockNode(a){this._currNode.nodes.push(a),this._nodes.push(a)}_endBlockNode(a,b){let c=this._currNode;if(c instanceof a||b&&c instanceof b)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${b?`${a.kind}/${b.kind}`:a.kind}"`)}_elseNode(a){let b=this._currNode;if(!(b instanceof u))throw Error('CodeGen: "else" without "if"');return this._currNode=b.else=a,this}get _root(){return this._nodes[0]}get _currNode(){let a=this._nodes;return a[a.length-1]}set _currNode(a){let b=this._nodes;b[b.length-1]=a}}function F(a,b){for(let c in b)a[c]=(a[c]||0)+(b[c]||0);return a}function G(a,b){return b instanceof d._CodeOrName?F(a,b.names):a}function H(a,b,c){if(a instanceof d.Name)return e(a);if(!f(a))return a;return new d._Code(a._items.reduce((a,b)=>(b instanceof d.Name&&(b=e(b)),b instanceof d._Code?a.push(...b._items):a.push(b),a),[]));function e(a){let d=c[a.str];return void 0===d||1!==b[a.str]?a:(delete b[a.str],d)}function f(a){return a instanceof d._Code&&a._items.some(a=>a instanceof d.Name&&1===b[a.str]&&void 0!==c[a.str])}}function I(a,b){for(let c in b)a[c]=(a[c]||0)-(b[c]||0)}function J(a){return"boolean"==typeof a||"number"==typeof a||null===a?!a:(0,d._)`!${N(a)}`}b.CodeGen=E,b.not=J;let K=M(b.operators.AND);b.and=function(...a){return a.reduce(K)};let L=M(b.operators.OR);function M(a){return(b,c)=>b===d.nil?c:c===d.nil?b:(0,d._)`${N(b)} ${a} ${N(c)}`}function N(a){return a instanceof d.Name?a:(0,d._)`(${a})`}b.or=function(...a){return a.reduce(L)}},86438:(a,b,c)=>{"use strict";c.d(b,{e:()=>i});var d=c(71540),e=c(45139),f=c(38200),g=c(42788),h=c(42526);async function i({autosave:a,createdAt:b,globalSlug:c,publishedLocale:i,req:j,returning:k,select:l,snapshot:m,updatedAt:o,versionData:p}){let q=await (0,h.x)(this,j),r=this.payload.globals.config.find(({slug:a})=>a===c),s=this.tableNameMap.get(`_${f(r.slug)}${this.versionsSuffix}`),t=await (0,g.q)({adapter:this,data:{autosave:a,createdAt:b,latest:!0,publishedLocale:i,snapshot:m,updatedAt:o,version:p},db:q,fields:(0,e.p)(this.payload.config,r,!0),ignoreResult:!1===k&&"idOnly",operation:"create",req:j,select:l,tableName:s}),u=this.tables[s];return(r.versions.drafts&&await this.execute({db:q,sql:(0,d.ll)`
          UPDATE ${u}
          SET latest = false
          WHERE ${u.id} != ${t.id};
        `}),!1===k)?null:t}},86460:(a,b,c)=>{"use strict";c.d(b,{H:()=>e});var d=c(59837);let e=({headers:a},b,c)=>{let e={};for(let f of Object.keys(a).sort()){if(void 0==a[f])continue;let g=f.toLowerCase();(!(g in d.SN||b?.has(g)||d.Ir.test(g)||d.lP.test(g))||c&&(!c||c.has(g)))&&(e[g]=a[f].trim().replace(/\s+/g," "))}return e}},86541:(a,b,c)=>{"use strict";let d=c(34589),e=new TextEncoder,f=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,g=/[\u000A\u000D\u0009\u0020]/,h=/[\u0009\u000A\u000C\u000D\u0020]/g,i=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function j(a,b=!1){if(!b)return a.href;let c=a.href,d=a.hash.length,e=0===d?c:c.substring(0,c.length-d);return!d&&c.endsWith("#")?e.slice(0,-1):e}function k(a,b,c){let d="";for(;c.position<b.length&&a(b[c.position]);)d+=b[c.position],c.position++;return d}function l(a,b,c){let d=b.indexOf(a,c.position),e=c.position;return -1===d?(c.position=b.length,b.slice(e)):(c.position=d,b.slice(e,c.position))}function m(a){return q(e.encode(a))}function o(a){return a>=48&&a<=57||a>=65&&a<=70||a>=97&&a<=102}function p(a){return a>=48&&a<=57?a-48:(223&a)-55}function q(a){let b=a.length,c=new Uint8Array(b),d=0;for(let e=0;e<b;++e){let b=a[e];37!==b?c[d++]=b:37!==b||o(a[e+1])&&o(a[e+2])?(c[d++]=p(a[e+1])<<4|p(a[e+2]),e+=2):c[d++]=37}return b===d?c:c.subarray(0,d)}function r(a){a=v(a,!0,!0);let b={position:0},c=l("/",a,b);if(0===c.length||!f.test(c)||b.position>=a.length)return"failure";b.position++;let d=l(";",a,b);if(0===(d=v(d,!1,!0)).length||!f.test(d))return"failure";let e=c.toLowerCase(),h=d.toLowerCase(),j={type:e,subtype:h,parameters:new Map,essence:`${e}/${h}`};for(;b.position<a.length;){b.position++,k(a=>g.test(a),a,b);let c=k(a=>";"!==a&&"="!==a,a,b);if(c=c.toLowerCase(),b.position<a.length){if(";"===a[b.position])continue;b.position++}if(b.position>=a.length)break;let d=null;if('"'===a[b.position])d=t(a,b,!0),l(";",a,b);else if(0===(d=v(d=l(";",a,b),!1,!0)).length)continue;0!==c.length&&f.test(c)&&(0===d.length||i.test(d))&&!j.parameters.has(c)&&j.parameters.set(c,d)}return j}function s(a){let b=(a=a.replace(h,"")).length;if(b%4==0&&61===a.charCodeAt(b-1)&&(--b,61===a.charCodeAt(b-1)&&--b),b%4==1||/[^+/0-9A-Za-z]/.test(a.length===b?a:a.substring(0,b)))return"failure";let c=Buffer.from(a,"base64");return new Uint8Array(c.buffer,c.byteOffset,c.byteLength)}function t(a,b,c=!1){let e=b.position,f="";for(d('"'===a[b.position]),b.position++;f+=k(a=>'"'!==a&&"\\"!==a,a,b),!(b.position>=a.length);){let c=a[b.position];if(b.position++,"\\"===c){if(b.position>=a.length){f+="\\";break}f+=a[b.position],b.position++}else{d('"'===c);break}}return c?f:a.slice(e,b.position)}function u(a){return 13===a||10===a||9===a||32===a}function v(a,b=!0,c=!0){return y(a,b,c,u)}function w(a){return 13===a||10===a||9===a||12===a||32===a}function x(a,b=!0,c=!0){return y(a,b,c,w)}function y(a,b,c,d){let e=0,f=a.length-1;if(b)for(;e<a.length&&d(a.charCodeAt(e));)e++;if(c)for(;f>0&&d(a.charCodeAt(f));)f--;return 0===e&&f===a.length-1?a:a.slice(e,f+1)}function z(a){let b=a.length;if(65535>b)return String.fromCharCode.apply(null,a);let c="",d=0,e=65535;for(;d<b;)d+e>b&&(e=b-d),c+=String.fromCharCode.apply(null,a.subarray(d,d+=e));return c}a.exports={dataURLProcessor:function(a){d("data:"===a.protocol);let b=j(a,!0);b=b.slice(5);let c={position:0},e=l(",",b,c),f=e.length;if(e=x(e,!0,!0),c.position>=b.length)return"failure";c.position++;let g=m(b.slice(f+1));if(/;(\u0020){0,}base64$/i.test(e)){if("failure"===(g=s(z(g))))return"failure";e=(e=(e=e.slice(0,-6)).replace(/(\u0020)+$/,"")).slice(0,-1)}e.startsWith(";")&&(e="text/plain"+e);let h=r(e);return"failure"===h&&(h=r("text/plain;charset=US-ASCII")),{mimeType:h,body:g}},URLSerializer:j,collectASequenceOfCodePoints:k,collectASequenceOfCodePointsFast:l,stringPercentDecode:m,parseMIMEType:r,collectAnHTTPQuotedString:t,serializeAMimeType:function(a){d("failure"!==a);let{parameters:b,essence:c}=a,e=c;for(let[a,c]of b.entries())e+=";",e+=a,e+="=",f.test(c)||(c='"'+(c=c.replace(/(\\|")/g,"\\$1"))+'"'),e+=c;return e},removeChars:y,removeHTTPWhitespace:v,minimizeSupportedMimeType:function(a){switch(a.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return a.subtype.endsWith("+json")?"application/json":a.subtype.endsWith("+xml")?"application/xml":""},HTTP_TOKEN_CODEPOINTS:f,isomorphicDecode:z}},86586:(a,b,c)=>{"use strict";c.d(b,{r:()=>d});let d=async(a,b)=>{let c;if("postgres"===a.name){let b=a.schemaName?`"${a.schemaName}".`:"";c=`SELECT to_regclass('${b}"payload_migrations"') AS exists;`}"sqlite"===a.name&&(c=`
      SELECT CASE
               WHEN COUNT(*) > 0 THEN 1
               ELSE 0
               END AS 'exists'
      FROM sqlite_master
      WHERE type = 'table'
        AND name = 'payload_migrations';`);let[d]=(await a.execute({drizzle:b??a.drizzle,raw:c})).rows;return d&&"object"==typeof d&&"exists"in d&&!!d.exists}},86686:(a,b,c)=>{"use strict";c.d(b,{r:()=>m});var d=c(79551),e=c(87641),f=c(83518),g=c(57819),h=c(33334),i=c(53216),j=c(73039),k=c(85095),l=c(93109);let m=async a=>{let b=a;try{let a,c=await (0,h.n)(b.req);if(b.collection.config.hooks?.beforeOperation?.length)for(let a of b.collection.config.hooks.beforeOperation)b=await a({args:b,collection:b.collection?.config,context:b.req.context,operation:"refresh",req:b.req})||b;let{collection:{config:i},req:m,req:{payload:{config:o,secret:p}}}=b;if(!b.req.user)throw new f.c(b.req.t);let q=d.parse(b.req.url).pathname===o.routes.graphQL,r=await m.payload.db.findOne({collection:i.slug,req:m,where:{id:{equals:b.req.user.id}}}),s=b.req.user._sid;if(i.auth.useSessions&&!i.auth.disableLocalStrategy){if(!Array.isArray(r.sessions)||!s)throw new f.c(b.req.t);let a=r.sessions.find(({id:a})=>a===s),c=new Date,d=1e3*i.auth.tokenExpiration;a.expiresAt=new Date(c.getTime()+d),r.updatedAt=new Date().toISOString(),await m.payload.db.updateOne({id:r.id,collection:i.slug,data:{...r,sessions:(0,l.b)(r.sessions)},req:m,returning:!1})}for(let c of((r=await m.payload.findByID({id:r.id,collection:i.slug,depth:q?0:b.collection.config.auth.depth,req:b.req}))&&(r.collection=b.req.user.collection,r._strategy=b.req.user._strategy),b.collection.config.hooks.refresh)){let d=await c({args:b,user:r});if(d){a=d;break}}if(!a){let c=(0,j.C)({collectionConfig:i,email:r?.email,sid:s,user:b?.req?.user}),{exp:d,token:e}=await (0,k.h)({fieldsToSign:c,secret:p,tokenExpiration:i.auth.tokenExpiration});a={exp:d,refreshedToken:e,setCookie:!0,strategy:b.req.user._strategy,user:r}}if(i.hooks?.afterRefresh?.length)for(let c of i.hooks.afterRefresh)a=await c({collection:b.collection?.config,context:b.req.context,exp:a.exp,req:b.req,token:a.refreshedToken})||a;return a=await (0,e.E)({args:b,collection:b.collection?.config,operation:"refresh",result:a}),c&&await (0,g.w)(m),a}catch(a){throw await (0,i.J)(b.req),a}}},87225:(a,b,c)=>{"use strict";c.d(b,{k:()=>d});class d{capacity;data=new Map;parameters=[];constructor({size:a,params:b}){this.capacity=a??50,b&&(this.parameters=b)}get(a,b){let c=this.hash(a);if(!1===c)return b();if(!this.data.has(c)){if(this.data.size>this.capacity+10){let a=this.data.keys(),b=0;for(;;){let{value:c,done:d}=a.next();if(this.data.delete(c),d||++b>10)break}}this.data.set(c,b())}return this.data.get(c)}size(){return this.data.size}hash(a){let b="",{parameters:c}=this;if(0===c.length)return!1;for(let d of c){let c=String(a[d]??"");if(c.includes("|;"))return!1;b+=c+"|;"}return b}}},87262:(a,b,c)=>{"use strict";c.d(b,{Pv:()=>g,w:()=>f});var d=c(37593);class e{static [d.i]="ConsoleLogWriter";write(a){console.log(a)}}class f{static [d.i]="DefaultLogger";writer;constructor(a){this.writer=a?.writer??new e}logQuery(a,b){let c=b.map(a=>{try{return JSON.stringify(a)}catch{return String(a)}}),d=c.length?` -- params: [${c.join(", ")}]`:"";this.writer.write(`Query: ${a}${d}`)}}class g{static [d.i]="NoopLogger";logQuery(){}}},87324:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.sdkStreamMixin=void 0;let d=c(36866),e=c(47590),f=c(38751),g=c(58331),h=c(11939),i="The stream has already been transformed.";b.sdkStreamMixin=a=>{if(!j(a)&&!(0,h.isReadableStream)(a)){let b=a?.__proto__?.constructor?.name||a;throw Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${b}`)}let b=!1,c=async()=>{if(b)throw Error(i);return b=!0,await (0,d.streamCollector)(a)},k=a=>{if("function"!=typeof a.stream)throw Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return a.stream()};return Object.assign(a,{transformToByteArray:c,transformToString:async a=>{let b=await c();if("base64"===a)return(0,e.toBase64)(b);if("hex"===a)return(0,f.toHex)(b);if(void 0===a||"utf8"===a||"utf-8"===a)return(0,g.toUtf8)(b);if("function"==typeof TextDecoder)return new TextDecoder(a).decode(b);throw Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(b)throw Error(i);if(b=!0,j(a))return k(a);if((0,h.isReadableStream)(a))return a;throw Error(`Cannot transform payload to web stream, got ${a}`)}})};let j=a=>"function"==typeof Blob&&a instanceof Blob},87412:(a,b,c)=>{"use strict";try{a.exports=c(70263)(__dirname)}catch(b){a.exports=c(6532)}},87444:(a,b,c)=>{"use strict";c.d(b,{S:()=>g});var d=c(38200),e=c(42788),f=c(42526);async function g({slug:a,data:b,req:c,returning:g}){let h=await (0,f.x)(this,c),i=this.payload.globals.config.find(b=>b.slug===a),j=this.tableNameMap.get(d(i.slug));b.createdAt=new Date().toISOString();let k=await (0,e.q)({adapter:this,data:b,db:h,fields:i.flattenedFields,ignoreResult:!1===g,operation:"create",req:c,tableName:j});return!1===g?null:(k.globalType=a,k)}},87641:(a,b,c)=>{"use strict";c.d(b,{E:()=>d});let d=async a=>{let{args:b,collection:c,operation:d,result:e}=a,f=e;if(b.collection.config.hooks?.afterOperation?.length)for(let a of b.collection.config.hooks.afterOperation){let e=await a({args:b,collection:c,operation:d,req:b.req,result:f});void 0!==e&&(f=e)}return f}},87747:(a,b,c)=>{"use strict";c.d(b,{D:()=>d});let d=({fields:a,payload:b,where:c})=>{for(let e in c){let f=c[e];if(["and","or"].includes(e.toLowerCase())&&Array.isArray(f)){for(let c of f)d({fields:a,payload:b,where:c});continue}let g=e.split("."),h=!1,i=a;for(let a=0;a<g.length;a++){let c=g[a],d=i.find(a=>a.name===c);if(!d)break;if("virtual"in d&&d.virtual&&"string"==typeof d.virtual&&(g[a]=d.virtual,h=!0),"flattenedFields"in d&&(i=d.flattenedFields),("relationship"===d.type||"upload"===d.type)&&"string"==typeof d.relationTo){let a=b.collections[d.relationTo];a&&(i=a.config.flattenedFields)}}h&&(c[g.join(".")]=c[e],delete c[e])}}},87917:(a,b,c)=>{"use strict";c.d(b,{FU:()=>e,nz:()=>d});let d=[{name:"_status",type:"select",admin:{components:{Field:!1},disableBulkEdit:!0},defaultValue:"draft",index:!0,label:({t:a})=>a("version:status"),options:[{label:({t:a})=>a("version:draft"),value:"draft"},{label:({t:a})=>a("version:published"),value:"published"}]}],e={name:"snapshot",type:"checkbox",admin:{disableBulkEdit:!0,disabled:!0},index:!0}},87933:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.splitStream=g;let d=c(27910),e=c(41575),f=c(11939);async function g(a){if((0,f.isReadableStream)(a)||(0,f.isBlob)(a))return(0,e.splitStream)(a);let b=new d.PassThrough,c=new d.PassThrough;return a.pipe(b),a.pipe(c),[b,c]}},87961:(a,b,c)=>{"use strict";let d=c(12266),e=a=>1==(a%=10)?"st":2===a?"nd":3===a?"rd":"th";class f extends d{constructor(a={}){super(a)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(a){this.date.setDate(parseInt(a.substr(-2)))}toString(){let a=this.date.getDate(),b=this.date.getDay();return"DD"===this.token?String(a).padStart(2,"0"):"Do"===this.token?a+e(a):"d"===this.token?b+1:"ddd"===this.token?this.locales.weekdaysShort[b]:"dddd"===this.token?this.locales.weekdays[b]:a}}a.exports=f},87965:(a,b,c)=>{"use strict";let d=c(12266);class e extends d{constructor(a={}){super(a)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let a=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?a.toUpperCase():a}}a.exports=e},87993:(a,b,c)=>{"use strict";var d;c.d(b,{n:()=>d}),function(a){a.HEADER="header",a.QUERY="query"}(d||(d={}))},88190:(a,b,c)=>{"use strict";c.d(b,{_:()=>m});var d=c(55900),e=c(75423),f=c(33334),g=c(57819),h=c(53216),i=c(47449),j=c(42526),k=c(86586),l=c(66285);let m=async function(a){let{payload:b}=this,c=a?.migrations||await (0,d.I)({payload:b});if(!c.length)return void b.logger.info({msg:"No migrations to run."});"createExtensions"in this&&"function"==typeof this.createExtensions&&await this.createExtensions();let e=0,f=[];if(await (0,k.r)(this)){if({docs:f}=await b.find({collection:"payload-migrations",limit:0,sort:"-name"}),f.find(a=>-1===a.batch)){let{confirm:a}=await i({name:"confirm",type:"confirm",initial:!1,message:"It looks like you've run Payload in dev mode, meaning you've dynamically pushed changes to your database.\n\nIf you'd like to run migrations, data loss will occur. Would you like to proceed?"},{onCancel:()=>{process.exit(0)}});a||process.exit(0),f=f.filter(a=>-1!==a.batch)}Number(f?.[0]?.batch)>0&&(e=Number(f[0]?.batch))}let g=e+1;for(let a of c)f.find(b=>b.name===a.name)||await o(b,a,g)};async function o(a,b,c){let d=Date.now(),i=await (0,e.M)({},a);a.logger.info({msg:`Migrating: ${b.name}`});try{await (0,f.n)(i);let e=await (0,j.x)(a.db,i);await b.up({db:e,payload:a,req:i}),a.logger.info({msg:`Migrated:  ${b.name} (${Date.now()-d}ms)`}),await a.create({collection:"payload-migrations",data:{name:b.name,batch:c},req:i}),await (0,g.w)(i)}catch(c){await (0,h.J)(i),a.logger.error({err:c,msg:(0,l.u)(c,`Error running migration ${b.name}`)}),process.exit(1)}}},88275:a=>{"use strict";let b={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},c={arrowUp:b.arrowUp,arrowDown:b.arrowDown,arrowLeft:b.arrowLeft,arrowRight:b.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"\xd7",ellipsis:"...",pointerSmall:"\xbb",line:"─",pointer:">"};a.exports="win32"===process.platform?c:b},88283:(a,b,c)=>{"use strict";c.d(b,{m:()=>f});var d=c(67405);let e="default"in d?d.default:d,f=(a,b)=>{if("text"===b&&a){if(["object","string"].includes(typeof a)){let b=e.isValid(a);return"string"==typeof a||b}return!1}return!("number"!=typeof a||Number.isNaN(a))||("ObjectID"===b?e.isValid(String(a)):void 0)}},88480:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=[{first:768,last:879},{first:1155,last:1158},{first:1160,last:1161},{first:1425,last:1469},{first:1471,last:1471},{first:1473,last:1474},{first:1476,last:1477},{first:1479,last:1479},{first:1536,last:1539},{first:1552,last:1557},{first:1611,last:1630},{first:1648,last:1648},{first:1750,last:1764},{first:1767,last:1768},{first:1770,last:1773},{first:1807,last:1807},{first:1809,last:1809},{first:1840,last:1866},{first:1958,last:1968},{first:2027,last:2035},{first:2305,last:2306},{first:2364,last:2364},{first:2369,last:2376},{first:2381,last:2381},{first:2385,last:2388},{first:2402,last:2403},{first:2433,last:2433},{first:2492,last:2492},{first:2497,last:2500},{first:2509,last:2509},{first:2530,last:2531},{first:2561,last:2562},{first:2620,last:2620},{first:2625,last:2626},{first:2631,last:2632},{first:2635,last:2637},{first:2672,last:2673},{first:2689,last:2690},{first:2748,last:2748},{first:2753,last:2757},{first:2759,last:2760},{first:2765,last:2765},{first:2786,last:2787},{first:2817,last:2817},{first:2876,last:2876},{first:2879,last:2879},{first:2881,last:2883},{first:2893,last:2893},{first:2902,last:2902},{first:2946,last:2946},{first:3008,last:3008},{first:3021,last:3021},{first:3134,last:3136},{first:3142,last:3144},{first:3146,last:3149},{first:3157,last:3158},{first:3260,last:3260},{first:3263,last:3263},{first:3270,last:3270},{first:3276,last:3277},{first:3298,last:3299},{first:3393,last:3395},{first:3405,last:3405},{first:3530,last:3530},{first:3538,last:3540},{first:3542,last:3542},{first:3633,last:3633},{first:3636,last:3642},{first:3655,last:3662},{first:3761,last:3761},{first:3764,last:3769},{first:3771,last:3772},{first:3784,last:3789},{first:3864,last:3865},{first:3893,last:3893},{first:3895,last:3895},{first:3897,last:3897},{first:3953,last:3966},{first:3968,last:3972},{first:3974,last:3975},{first:3984,last:3991},{first:3993,last:4028},{first:4038,last:4038},{first:4141,last:4144},{first:4146,last:4146},{first:4150,last:4151},{first:4153,last:4153},{first:4184,last:4185},{first:4448,last:4607},{first:4959,last:4959},{first:5906,last:5908},{first:5938,last:5940},{first:5970,last:5971},{first:6002,last:6003},{first:6068,last:6069},{first:6071,last:6077},{first:6086,last:6086},{first:6089,last:6099},{first:6109,last:6109},{first:6155,last:6157},{first:6313,last:6313},{first:6432,last:6434},{first:6439,last:6440},{first:6450,last:6450},{first:6457,last:6459},{first:6679,last:6680},{first:6912,last:6915},{first:6964,last:6964},{first:6966,last:6970},{first:6972,last:6972},{first:6978,last:6978},{first:7019,last:7027},{first:7616,last:7626},{first:7678,last:7679},{first:8203,last:8207},{first:8234,last:8238},{first:8288,last:8291},{first:8298,last:8303},{first:8400,last:8431},{first:12330,last:12335},{first:12441,last:12442},{first:43014,last:43014},{first:43019,last:43019},{first:43045,last:43046},{first:64286,last:64286},{first:65024,last:65039},{first:65056,last:65059},{first:65279,last:65279},{first:65529,last:65531},{first:68097,last:68099},{first:68101,last:68102},{first:68108,last:68111},{first:68152,last:68154},{first:68159,last:68159},{first:119143,last:119145},{first:119155,last:119170},{first:119173,last:119179},{first:119210,last:119213},{first:119362,last:119364},{first:917505,last:917505},{first:917536,last:917631},{first:917760,last:917999}]},88524:a=>{function b(a){var b=0,c=[];function d(){--b<a&&e()}function e(){var a=c.shift();h.queue=c.length,a&&g(a.fn).then(a.resolve).catch(a.reject)}function f(a){return new Promise(function(b,d){c.push({fn:a,resolve:b,reject:d}),h.queue=c.length})}function g(a){b++;try{return Promise.resolve(a()).then(function(a){return d(),a},function(a){throw d(),a})}catch(a){return d(),Promise.reject(a)}}var h=function(c){return b>=a?f(c):g(c)};return h}function c(a,b){var c=!1,d=this;return Promise.all(a.map(function(){var a=arguments;return d(function(){if(!c)return b.apply(void 0,a).catch(function(a){throw c=!0,a})})}))}function d(a){return a.queue=0,a.map=c,a}a.exports=function(a){return a?d(b(a)):d(function(a){return a()})}},88595:(a,b,c)=>{"use strict";function d(a,b,c,e,f,g,h,i){return d.fromTZ(d.tp(a,b,c,e,f,g,h),i)}function e(a,b=new Date){let c=b.toLocaleString("en-US",{timeZone:a,timeZoneName:"shortOffset"}).split(" ").slice(-1)[0],d=b.toLocaleString("en-US").replace(/[\u202f]/," ");return Date.parse(`${d} GMT`)-Date.parse(`${d} ${c}`)}function f(a,b){let c=new Date(Date.parse(a));if(isNaN(c))throw Error("minitz: Invalid ISO8601 passed to parser.");let e=a.substring(9);return a.includes("Z")||e.includes("-")||e.includes("+")?d.tp(c.getUTCFullYear(),c.getUTCMonth()+1,c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),"Etc/UTC"):d.tp(c.getFullYear(),c.getMonth()+1,c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),b)}c.d(b,{l4:()=>u}),d.fromTZISO=(a,b,c)=>d.fromTZ(f(a,b),c),d.fromTZ=function(a,b){let c=new Date(Date.UTC(a.y,a.m-1,a.d,a.h,a.i,a.s)),d=e(a.tz,c),f=new Date(c.getTime()-d),g=e(a.tz,f);if(g-d==0)return f;{let d=new Date(c.getTime()-g),h=e(a.tz,d);if(h-g==0||!b&&h-g>0)return d;if(b)throw Error("Invalid date passed to fromTZ()");return f}},d.toTZ=function(a,b){let c=new Date(a.toLocaleString("en-US",{timeZone:b}).replace(/[\u202f]/," "));return{y:c.getFullYear(),m:c.getMonth()+1,d:c.getDate(),h:c.getHours(),i:c.getMinutes(),s:c.getSeconds(),tz:b}},d.tp=(a,b,c,d,e,f,g)=>({y:a,m:b,d:c,h:d,i:e,s:f,tz:g}),d.minitz=d;var g=32,h=63,i=[1,2,4,8,16],j=class{pattern;timezone;second;minute;hour;day;month;dayOfWeek;lastDayOfMonth;starDOM;starDOW;constructor(a,b){this.pattern=a,this.timezone=b,this.second=Array(60).fill(0),this.minute=Array(60).fill(0),this.hour=Array(24).fill(0),this.day=Array(31).fill(0),this.month=Array(12).fill(0),this.dayOfWeek=Array(7).fill(0),this.lastDayOfMonth=!1,this.starDOM=!1,this.starDOW=!1,this.parse()}parse(){if(!("string"==typeof this.pattern||this.pattern instanceof String))throw TypeError("CronPattern: Pattern has to be of type string.");this.pattern.indexOf("@")>=0&&(this.pattern=this.handleNicknames(this.pattern).trim());let a=this.pattern.replace(/\s+/g," ").split(" ");if(a.length<5||a.length>6)throw TypeError("CronPattern: invalid configuration format ('"+this.pattern+"'), exactly five or six space separated parts are required.");if(5===a.length&&a.unshift("0"),a[3].indexOf("L")>=0&&(a[3]=a[3].replace("L",""),this.lastDayOfMonth=!0),"*"==a[3]&&(this.starDOM=!0),a[4].length>=3&&(a[4]=this.replaceAlphaMonths(a[4])),a[5].length>=3&&(a[5]=this.replaceAlphaDays(a[5])),"*"==a[5]&&(this.starDOW=!0),this.pattern.indexOf("?")>=0){let b=new m(new Date,this.timezone).getDate(!0);a[0]=a[0].replace("?",b.getSeconds().toString()),a[1]=a[1].replace("?",b.getMinutes().toString()),a[2]=a[2].replace("?",b.getHours().toString()),this.starDOM||(a[3]=a[3].replace("?",b.getDate().toString())),a[4]=a[4].replace("?",(b.getMonth()+1).toString()),this.starDOW||(a[5]=a[5].replace("?",b.getDay().toString()))}this.throwAtIllegalCharacters(a),this.partToArray("second",a[0],0,1),this.partToArray("minute",a[1],0,1),this.partToArray("hour",a[2],0,1),this.partToArray("day",a[3],-1,1),this.partToArray("month",a[4],-1,1),this.partToArray("dayOfWeek",a[5],0,h),this.dayOfWeek[7]&&(this.dayOfWeek[0]=this.dayOfWeek[7])}partToArray(a,b,c,d){let e=this[a],f="day"===a&&this.lastDayOfMonth;if(""===b&&!f)throw TypeError("CronPattern: configuration entry "+a+" ("+b+") is empty, check for trailing spaces.");if("*"===b)return e.fill(d);let g=b.split(",");if(g.length>1)for(let b=0;b<g.length;b++)this.partToArray(a,g[b],c,d);else -1!==b.indexOf("-")&&-1!==b.indexOf("/")?this.handleRangeWithStepping(b,a,c,d):-1!==b.indexOf("-")?this.handleRange(b,a,c,d):-1!==b.indexOf("/")?this.handleStepping(b,a,c,d):""!==b&&this.handleNumber(b,a,c,d)}throwAtIllegalCharacters(a){for(let b=0;b<a.length;b++)if((5===b?/[^/*0-9,\-#L]+/:/[^/*0-9,-]+/).test(a[b]))throw TypeError("CronPattern: configuration entry "+b+" ("+a[b]+") contains illegal characters.")}handleNumber(a,b,c,d){let e=this.extractNth(a,b),f=parseInt(e[0],10)+c;if(isNaN(f))throw TypeError("CronPattern: "+b+" is not a number: '"+a+"'");this.setPart(b,f,e[1]||d)}setPart(a,b,c){if(!Object.prototype.hasOwnProperty.call(this,a))throw TypeError("CronPattern: Invalid part specified: "+a);if("dayOfWeek"===a){if(7===b&&(b=0),b<0||b>6)throw RangeError("CronPattern: Invalid value for dayOfWeek: "+b);this.setNthWeekdayOfMonth(b,c);return}if("second"===a||"minute"===a){if(b<0||b>=60)throw RangeError("CronPattern: Invalid value for "+a+": "+b)}else if("hour"===a){if(b<0||b>=24)throw RangeError("CronPattern: Invalid value for "+a+": "+b)}else if("day"===a){if(b<0||b>=31)throw RangeError("CronPattern: Invalid value for "+a+": "+b)}else if("month"===a&&(b<0||b>=12))throw RangeError("CronPattern: Invalid value for "+a+": "+b);this[a][b]=c}handleRangeWithStepping(a,b,c,d){let e=this.extractNth(a,b),f=e[0].match(/^(\d+)-(\d+)\/(\d+)$/);if(null===f)throw TypeError("CronPattern: Syntax error, illegal range with stepping: '"+a+"'");let[,g,h,i]=f,j=parseInt(g,10)+c,k=parseInt(h,10)+c,l=parseInt(i,10);if(isNaN(j))throw TypeError("CronPattern: Syntax error, illegal lower range (NaN)");if(isNaN(k))throw TypeError("CronPattern: Syntax error, illegal upper range (NaN)");if(isNaN(l))throw TypeError("CronPattern: Syntax error, illegal stepping: (NaN)");if(0===l)throw TypeError("CronPattern: Syntax error, illegal stepping: 0");if(l>this[b].length)throw TypeError("CronPattern: Syntax error, steps cannot be greater than maximum value of part ("+this[b].length+")");if(j>k)throw TypeError("CronPattern: From value is larger than to value: '"+a+"'");for(let a=j;a<=k;a+=l)this.setPart(b,a,e[1]||d)}extractNth(a,b){let c=a,d;if(c.includes("#")){if("dayOfWeek"!==b)throw Error("CronPattern: nth (#) only allowed in day-of-week field");d=c.split("#")[1],c=c.split("#")[0]}return[c,d]}handleRange(a,b,c,d){let e=this.extractNth(a,b),f=e[0].split("-");if(2!==f.length)throw TypeError("CronPattern: Syntax error, illegal range: '"+a+"'");let g=parseInt(f[0],10)+c,h=parseInt(f[1],10)+c;if(isNaN(g))throw TypeError("CronPattern: Syntax error, illegal lower range (NaN)");if(isNaN(h))throw TypeError("CronPattern: Syntax error, illegal upper range (NaN)");if(g>h)throw TypeError("CronPattern: From value is larger than to value: '"+a+"'");for(let a=g;a<=h;a++)this.setPart(b,a,e[1]||d)}handleStepping(a,b,c,d){let e=this.extractNth(a,b),f=e[0].split("/");if(2!==f.length)throw TypeError("CronPattern: Syntax error, illegal stepping: '"+a+"'");""===f[0]&&(f[0]="*");let g=0;"*"!==f[0]&&(g=parseInt(f[0],10)+c);let h=parseInt(f[1],10);if(isNaN(h))throw TypeError("CronPattern: Syntax error, illegal stepping: (NaN)");if(0===h)throw TypeError("CronPattern: Syntax error, illegal stepping: 0");if(h>this[b].length)throw TypeError("CronPattern: Syntax error, max steps for part is ("+this[b].length+")");for(let a=g;a<this[b].length;a+=h)this.setPart(b,a,e[1]||d)}replaceAlphaDays(a){return a.replace(/-sun/gi,"-7").replace(/sun/gi,"0").replace(/mon/gi,"1").replace(/tue/gi,"2").replace(/wed/gi,"3").replace(/thu/gi,"4").replace(/fri/gi,"5").replace(/sat/gi,"6")}replaceAlphaMonths(a){return a.replace(/jan/gi,"1").replace(/feb/gi,"2").replace(/mar/gi,"3").replace(/apr/gi,"4").replace(/may/gi,"5").replace(/jun/gi,"6").replace(/jul/gi,"7").replace(/aug/gi,"8").replace(/sep/gi,"9").replace(/oct/gi,"10").replace(/nov/gi,"11").replace(/dec/gi,"12")}handleNicknames(a){let b=a.trim().toLowerCase();return"@yearly"===b||"@annually"===b?"0 0 1 1 *":"@monthly"===b?"0 0 1 * *":"@weekly"===b?"0 0 * * 0":"@daily"===b?"0 0 * * *":"@hourly"===b?"0 * * * *":a}setNthWeekdayOfMonth(a,b){if("number"!=typeof b&&"L"===b)this.dayOfWeek[a]=this.dayOfWeek[a]|g;else if(b===h)this.dayOfWeek[a]=h;else if(b<6&&b>0)this.dayOfWeek[a]=this.dayOfWeek[a]|i[b-1];else throw TypeError(`CronPattern: nth weekday out of range, should be 1-5 or L. Value: ${b}, Type: ${typeof b}`)}},k=[31,28,31,30,31,30,31,31,30,31,30,31],l=[["month","year",0],["day","month",-1],["hour","day",0],["minute","hour",0],["second","minute",0]],m=class a{tz;ms;second;minute;hour;day;month;year;constructor(b,c){if(this.tz=c,b&&b instanceof Date)if(isNaN(b))throw TypeError("CronDate: Invalid date passed to CronDate constructor");else this.fromDate(b);else if(void 0===b)this.fromDate(new Date);else if(b&&"string"==typeof b)this.fromString(b);else if(b instanceof a)this.fromCronDate(b);else throw TypeError("CronDate: Invalid type ("+typeof b+") passed to CronDate constructor")}isNthWeekdayOfMonth(a,b,c,d){let e=new Date(Date.UTC(a,b,c)).getUTCDay(),f=0;for(let d=1;d<=c;d++)new Date(Date.UTC(a,b,d)).getUTCDay()===e&&f++;if(d&h&&i[f-1]&d)return!0;if(d&g){let d=new Date(Date.UTC(a,b+1,0)).getUTCDate();for(let f=c+1;f<=d;f++)if(new Date(Date.UTC(a,b,f)).getUTCDay()===e)return!1;return!0}return!1}fromDate(a){if(void 0!==this.tz)if("number"==typeof this.tz)this.ms=a.getUTCMilliseconds(),this.second=a.getUTCSeconds(),this.minute=a.getUTCMinutes()+this.tz,this.hour=a.getUTCHours(),this.day=a.getUTCDate(),this.month=a.getUTCMonth(),this.year=a.getUTCFullYear(),this.apply();else{let b=d.toTZ(a,this.tz);this.ms=a.getMilliseconds(),this.second=b.s,this.minute=b.i,this.hour=b.h,this.day=b.d,this.month=b.m-1,this.year=b.y}else this.ms=a.getMilliseconds(),this.second=a.getSeconds(),this.minute=a.getMinutes(),this.hour=a.getHours(),this.day=a.getDate(),this.month=a.getMonth(),this.year=a.getFullYear()}fromCronDate(a){this.tz=a.tz,this.year=a.year,this.month=a.month,this.day=a.day,this.hour=a.hour,this.minute=a.minute,this.second=a.second,this.ms=a.ms}apply(){if(!(this.month>11)&&!(this.day>k[this.month])&&!(this.hour>59)&&!(this.minute>59)&&!(this.second>59)&&!(this.hour<0)&&!(this.minute<0)&&!(this.second<0))return!1;{let a=new Date(Date.UTC(this.year,this.month,this.day,this.hour,this.minute,this.second,this.ms));return this.ms=a.getUTCMilliseconds(),this.second=a.getUTCSeconds(),this.minute=a.getUTCMinutes(),this.hour=a.getUTCHours(),this.day=a.getUTCDate(),this.month=a.getUTCMonth(),this.year=a.getUTCFullYear(),!0}}fromString(a){if("number"!=typeof this.tz)return this.fromDate(d.fromTZISO(a,this.tz));{let b=d.fromTZISO(a);this.ms=b.getUTCMilliseconds(),this.second=b.getUTCSeconds(),this.minute=b.getUTCMinutes(),this.hour=b.getUTCHours(),this.day=b.getUTCDate(),this.month=b.getUTCMonth(),this.year=b.getUTCFullYear(),this.apply()}}findNext(a,b,c,d){let e=this[b],f;c.lastDayOfMonth&&(f=1!==this.month?k[this.month]:new Date(Date.UTC(this.year,this.month+1,0,0,0,0,0)).getUTCDate());let g=c.starDOW||"day"!=b?void 0:new Date(Date.UTC(this.year,this.month,1,0,0,0,0)).getUTCDay();for(let i=this[b]+d;i<c[b].length;i++){let j=c[b][i];if("day"===b&&c.lastDayOfMonth&&i-d==f&&(j=1),"day"===b&&!c.starDOW){let b=c.dayOfWeek[(g+(i-d-1))%7];if(b&&b&h)b=+!!this.isNthWeekdayOfMonth(this.year,this.month,i-d,b);else if(b)throw Error(`CronDate: Invalid value for dayOfWeek encountered. ${b}`);j=a.legacyMode&&!c.starDOM?j||b:j&&b}if(j)return this[b]=i-d,e!==this[b]?2:1}return 3}recurse(a,b,c){let d=this.findNext(b,l[c][0],a,l[c][2]);if(d>1){let e=c+1;for(;e<l.length;)this[l[e][0]]=-l[e][2],e++;if(3===d)return this[l[c][1]]++,this[l[c][0]]=-l[c][2],this.apply(),this.recurse(a,b,0);if(this.apply())return this.recurse(a,b,c-1)}return(c+=1)>=l.length?this:this.year>=3e3?null:this.recurse(a,b,c)}increment(a,b,c){return this.second+=void 0!==b.interval&&b.interval>1&&c?b.interval:1,this.ms=0,this.apply(),this.recurse(a,b,0)}getDate(a){return a||void 0===this.tz?new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.ms):"number"==typeof this.tz?new Date(Date.UTC(this.year,this.month,this.day,this.hour,this.minute-this.tz,this.second,this.ms)):d.fromTZ(d.tp(this.year,this.month+1,this.day,this.hour,this.minute,this.second,this.tz),!1)}getTime(){return this.getDate(!1).getTime()}};function o(a){if(void 0===a&&(a={}),delete a.name,a.legacyMode=void 0===a.legacyMode||a.legacyMode,a.paused=void 0!==a.paused&&a.paused,a.maxRuns=void 0===a.maxRuns?1/0:a.maxRuns,a.catch=void 0!==a.catch&&a.catch,a.interval=void 0===a.interval?0:parseInt(a.interval.toString(),10),a.utcOffset=void 0===a.utcOffset?void 0:parseInt(a.utcOffset.toString(),10),a.unref=void 0!==a.unref&&a.unref,a.startAt&&(a.startAt=new m(a.startAt,a.timezone)),a.stopAt&&(a.stopAt=new m(a.stopAt,a.timezone)),null!==a.interval){if(isNaN(a.interval))throw Error("CronOptions: Supplied value for interval is not a number");if(a.interval<0)throw Error("CronOptions: Supplied value for interval can not be negative")}if(void 0!==a.utcOffset){if(isNaN(a.utcOffset))throw Error("CronOptions: Invalid value passed for utcOffset, should be number representing minutes offset from UTC.");if(a.utcOffset<-870||a.utcOffset>870)throw Error("CronOptions: utcOffset out of bounds.");if(void 0!==a.utcOffset&&a.timezone)throw Error("CronOptions: Combining 'utcOffset' with 'timezone' is not allowed.")}if(!0!==a.unref&&!1!==a.unref)throw Error("CronOptions: Unref should be either true, false or undefined(false).");return a}function p(a){return"[object Function]"===Object.prototype.toString.call(a)||"function"==typeof a||a instanceof Function}function q(a){return p(a)}function r(a){"u">typeof Deno&&"u">typeof Deno.unrefTimer?Deno.unrefTimer(a):a&&"u">typeof a.unref&&a.unref()}var s=3e4,t=[],u=class{name;options;_states;fn;constructor(a,b,c){let d,e;if(p(b))e=b;else if("object"==typeof b)d=b;else if(void 0!==b)throw Error("Cron: Invalid argument passed for optionsIn. Should be one of function, or object (options).");if(p(c))e=c;else if("object"==typeof c)d=c;else if(void 0!==c)throw Error("Cron: Invalid argument passed for funcIn. Should be one of function, or object (options).");if(this.name=d?.name,this.options=o(d),this._states={kill:!1,blocking:!1,previousRun:void 0,currentRun:void 0,once:void 0,currentTimeout:void 0,maxRuns:d?d.maxRuns:void 0,paused:!!d&&d.paused,pattern:new j("* * * * *")},a&&(a instanceof Date||"string"==typeof a&&a.indexOf(":")>0)?this._states.once=new m(a,this.options.timezone||this.options.utcOffset):this._states.pattern=new j(a,this.options.timezone),this.name){if(t.find(a=>a.name===this.name))throw Error("Cron: Tried to initialize new named job '"+this.name+"', but name already taken.");t.push(this)}return void 0!==e&&q(e)&&(this.fn=e,this.schedule()),this}nextRun(a){let b=this._next(a);return b?b.getDate(!1):null}nextRuns(a,b){void 0!==this._states.maxRuns&&a>this._states.maxRuns&&(a=this._states.maxRuns);let c=[],d=b||this._states.currentRun||void 0;for(;a--&&(d=this.nextRun(d));)c.push(d);return c}getPattern(){return this._states.pattern?this._states.pattern.pattern:void 0}isRunning(){let a=this.nextRun(this._states.currentRun),b=!this._states.paused,c=void 0!==this.fn,d=!this._states.kill;return b&&c&&d&&null!==a}isStopped(){return this._states.kill}isBusy(){return this._states.blocking}currentRun(){return this._states.currentRun?this._states.currentRun.getDate():null}previousRun(){return this._states.previousRun?this._states.previousRun.getDate():null}msToNext(a){let b=this._next(a);return b?a instanceof m||a instanceof Date?b.getTime()-a.getTime():b.getTime()-new m(a).getTime():null}stop(){this._states.kill=!0,this._states.currentTimeout&&clearTimeout(this._states.currentTimeout);let a=t.indexOf(this);a>=0&&t.splice(a,1)}pause(){return this._states.paused=!0,!this._states.kill}resume(){return this._states.paused=!1,!this._states.kill}schedule(a){if(a&&this.fn)throw Error("Cron: It is not allowed to schedule two functions using the same Croner instance.");a&&(this.fn=a);let b=this.msToNext(),c=this.nextRun(this._states.currentRun);return null==b||isNaN(b)||null===c||(b>s&&(b=s),this._states.currentTimeout=setTimeout(()=>this._checkTrigger(c),b),this._states.currentTimeout&&this.options.unref&&r(this._states.currentTimeout)),this}async _trigger(a){if(this._states.blocking=!0,this._states.currentRun=new m(void 0,this.options.timezone||this.options.utcOffset),this.options.catch)try{void 0!==this.fn&&await this.fn(this,this.options.context)}catch(a){p(this.options.catch)&&this.options.catch(a,this)}else void 0!==this.fn&&await this.fn(this,this.options.context);this._states.previousRun=new m(a,this.options.timezone||this.options.utcOffset),this._states.blocking=!1}async trigger(){await this._trigger()}runsLeft(){return this._states.maxRuns}_checkTrigger(a){let b=new Date,c=!this._states.paused&&b.getTime()>=a.getTime(),d=this._states.blocking&&this.options.protect;c&&!d?(void 0!==this._states.maxRuns&&this._states.maxRuns--,this._trigger()):c&&d&&p(this.options.protect)&&setTimeout(()=>this.options.protect(this),0),this.schedule()}_next(a){let b=!!(a||this._states.currentRun),c=!1;!a&&this.options.startAt&&this.options.interval&&([a,b]=this._calculatePreviousRun(a,b),c=!a),a=new m(a,this.options.timezone||this.options.utcOffset),this.options.startAt&&a&&a.getTime()<this.options.startAt.getTime()&&(a=this.options.startAt);let d=this._states.once||new m(a,this.options.timezone||this.options.utcOffset);return c||d===this._states.once||(d=d.increment(this._states.pattern,this.options,b)),this._states.once&&this._states.once.getTime()<=a.getTime()||null===d||void 0!==this._states.maxRuns&&this._states.maxRuns<=0||this._states.kill||this.options.stopAt&&d.getTime()>=this.options.stopAt.getTime()?null:d}_calculatePreviousRun(a,b){let c=new m(void 0,this.options.timezone||this.options.utcOffset),d=a;if(this.options.startAt.getTime()<=c.getTime()){let a=(d=this.options.startAt).getTime()+1e3*this.options.interval;for(;a<=c.getTime();)a=(d=new m(d,this.options.timezone||this.options.utcOffset).increment(this._states.pattern,this.options,!0)).getTime()+1e3*this.options.interval;b=!0}return null===d&&(d=void 0),[d,b]}}},88884:(a,b,c)=>{"use strict";c.r(b),c.d(b,{deserializerMiddleware:()=>d.i,deserializerMiddlewareOption:()=>e.hl,getSerdePlugin:()=>e.TM,serializerMiddleware:()=>f.J,serializerMiddlewareOption:()=>e.Ou});var d=c(30245),e=c(83646),f=c(46674)},89010:(a,b,c)=>{"use strict";c.d(b,{Y:()=>f});var d=c(67445);let e=(...a)=>{let b={};for(let c of a)for(let[a,d]of Object.entries(c))void 0!==b[a]?Object.assign(b[a],d):b[a]=d;return b},f=async a=>{let b=await (0,d.p)(a);return e(b.configFile,b.credentialsFile)}},89163:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.extendSubschemaMode=b.extendSubschemaData=b.getSubschema=void 0;let d=c(86397),e=c(49943);b.getSubschema=function(a,{keyword:b,schemaProp:c,schema:f,schemaPath:g,errSchemaPath:h,topSchemaRef:i}){if(void 0!==b&&void 0!==f)throw Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==b){let f=a.schema[b];return void 0===c?{schema:f,schemaPath:(0,d._)`${a.schemaPath}${(0,d.getProperty)(b)}`,errSchemaPath:`${a.errSchemaPath}/${b}`}:{schema:f[c],schemaPath:(0,d._)`${a.schemaPath}${(0,d.getProperty)(b)}${(0,d.getProperty)(c)}`,errSchemaPath:`${a.errSchemaPath}/${b}/${(0,e.escapeFragment)(c)}`}}if(void 0!==f){if(void 0===g||void 0===h||void 0===i)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:f,schemaPath:g,topSchemaRef:i,errSchemaPath:h}}throw Error('either "keyword" or "schema" must be passed')},b.extendSubschemaData=function(a,b,{dataProp:c,dataPropType:f,data:g,dataTypes:h,propertyName:i}){if(void 0!==g&&void 0!==c)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:j}=b;if(void 0!==c){let{errorPath:g,dataPathArr:h,opts:i}=b;k(j.let("data",(0,d._)`${b.data}${(0,d.getProperty)(c)}`,!0)),a.errorPath=(0,d.str)`${g}${(0,e.getErrorPath)(c,f,i.jsPropertySyntax)}`,a.parentDataProperty=(0,d._)`${c}`,a.dataPathArr=[...h,a.parentDataProperty]}function k(c){a.data=c,a.dataLevel=b.dataLevel+1,a.dataTypes=[],b.definedProperties=new Set,a.parentData=b.data,a.dataNames=[...b.dataNames,c]}void 0!==g&&(k(g instanceof d.Name?g:j.let("data",g,!0)),void 0!==i&&(a.propertyName=i)),h&&(a.dataTypes=h)},b.extendSubschemaMode=function(a,{jtdDiscriminator:b,jtdMetadata:c,compositeRule:d,createErrors:e,allErrors:f}){void 0!==d&&(a.compositeRule=d),void 0!==e&&(a.createErrors=e),void 0!==f&&(a.allErrors=f),a.jtdDiscriminator=b,a.jtdMetadata=c}},89178:(a,b,c)=>{"use strict";c.d(b,{Q:()=>e});var d=c(37593);class e{static [d.i]="ColumnBuilder";config;constructor(a,b,c){this.config={name:a,keyAsName:""===a,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:b,columnType:c,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(a){return this.config.default=a,this.config.hasDefault=!0,this}$defaultFn(a){return this.config.defaultFn=a,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(a){return this.config.onUpdateFn=a,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(a){""===this.config.name&&(this.config.name=a)}}},89583:a=>{"use strict";function b(a){try{return JSON.stringify(a)}catch(a){return'"[Circular]"'}}a.exports=function a(a,c,d){var e=d&&d.stringify||b,f=1;if("object"==typeof a&&null!==a){var g=c.length+f;if(1===g)return a;var h=Array(g);h[0]=e(a);for(var i=1;i<g;i++)h[i]=e(c[i]);return h.join(" ")}if("string"!=typeof a)return a;var j=c.length;if(0===j)return a;for(var k="",l=1-f,m=-1,o=a&&a.length||0,p=0;p<o;){if(37===a.charCodeAt(p)&&p+1<o){switch(m=m>-1?m:0,a.charCodeAt(p+1)){case 100:case 102:if(l>=j||null==c[l])break;m<p&&(k+=a.slice(m,p)),k+=Number(c[l]),m=p+2,p++;break;case 105:if(l>=j||null==c[l])break;m<p&&(k+=a.slice(m,p)),k+=Math.floor(Number(c[l])),m=p+2,p++;break;case 79:case 111:case 106:if(l>=j||void 0===c[l])break;m<p&&(k+=a.slice(m,p));var q=typeof c[l];if("string"===q){k+="'"+c[l]+"'",m=p+2,p++;break}if("function"===q){k+=c[l].name||"<anonymous>",m=p+2,p++;break}k+=e(c[l]),m=p+2,p++;break;case 115:if(l>=j)break;m<p&&(k+=a.slice(m,p)),k+=String(c[l]),m=p+2,p++;break;case 37:m<p&&(k+=a.slice(m,p)),k+="%",m=p+2,p++,l--}++l}++p}return -1===m?a:(m<o&&(k+=a.slice(m)),k)}},89656:(a,b,c)=>{"use strict";c.d(b,{Hs:()=>o,Ht:()=>i,h_:()=>j,oG:()=>l,ug:()=>m,yY:()=>p});var d=c(23192),e=c(37593),f=c(71540),g=c(56704),h=c(27685);class i{constructor(a){this.table=a}static [e.i]="ColumnAliasProxyHandler";get(a,b){return"table"===b?this.table:a[b]}}class j{constructor(a,b){this.alias=a,this.replaceOriginalName=b}static [e.i]="TableAliasProxyHandler";get(a,b){if(b===g.XI.Symbol.IsAlias)return!0;if(b===g.XI.Symbol.Name||this.replaceOriginalName&&b===g.XI.Symbol.OriginalName)return this.alias;if(b===h.n)return{...a[h.n],name:this.alias,isAlias:!0};if(b===g.XI.Symbol.Columns){let b=a[g.XI.Symbol.Columns];if(!b)return b;let c={};return Object.keys(b).map(d=>{c[d]=new Proxy(b[d],new i(new Proxy(a,this)))}),c}let c=a[b];return(0,e.is)(c,d.V)?new Proxy(c,new i(new Proxy(a,this))):c}}class k{constructor(a){this.alias=a}static [e.i]=null;get(a,b){return"sourceTable"===b?l(a.sourceTable,this.alias):a[b]}}function l(a,b){return new Proxy(a,new j(b,!1))}function m(a,b){return new Proxy(a,new i(new Proxy(a.table,new j(b,!1))))}function o(a,b){return new f.Xs.Aliased(p(a.sql,b),a.fieldAlias)}function p(a,b){return f.ll.join(a.queryChunks.map(a=>(0,e.is)(a,d.V)?m(a,b):(0,e.is)(a,f.Xs)?p(a,b):(0,e.is)(a,f.Xs.Aliased)?o(a,b):a))}},89807:(a,b,c)=>{"use strict";c.d(b,{k:()=>d});let d=({hasGenerateFn:a=!1,overrides:b})=>({name:"description",type:"textarea",admin:{components:{Field:{clientProps:{hasGenerateDescriptionFn:a},path:"@payloadcms/plugin-seo/client#MetaDescriptionComponent"}}},localized:!0,...b??{}})},89846:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createBufferedReadable=h;let d=c(57075),e=c(41211),f=c(14198),g=c(11939);function h(a,b,c){if((0,g.isReadableStream)(a))return(0,f.createBufferedReadableStream)(a,b,c);let h=new d.Readable({read(){}}),i=!1,j=0,k=["",new e.ByteArrayCollector(a=>new Uint8Array(a)),new e.ByteArrayCollector(a=>Buffer.from(new Uint8Array(a)))],l=-1;return a.on("data",a=>{let d=(0,f.modeOf)(a,!0);if(l!==d&&(l>=0&&h.push((0,f.flush)(k,l)),l=d),-1===l)return void h.push(a);let e=(0,f.sizeOf)(a);j+=e;let g=(0,f.sizeOf)(k[l]);if(e>=b&&0===g)h.push(a);else{let d=(0,f.merge)(k,l,a);!i&&j>2*b&&(i=!0,c?.warn(`@smithy/util-stream - stream chunk size ${e} is below threshold of ${b}, automatically buffering.`)),d>=b&&h.push((0,f.flush)(k,l))}}),a.on("end",()=>{if(-1!==l){let a=(0,f.flush)(k,l);(0,f.sizeOf)(a)>0&&h.push(a)}h.push(null)}),h}},90067:(a,b,c)=>{"use strict";let d=c(63780),e=c(32911);class f extends d{#cq=null;#f=null;constructor(a,b={}){super(b),this.#cq=a,this.#f=b}dispatch(a,b){let c=new e({...a,retryOptions:this.#f},{dispatch:this.#cq.dispatch.bind(this.#cq),handler:b});return this.#cq.dispatch(a,c)}close(){return this.#cq.close()}destroy(){return this.#cq.destroy()}}a.exports=f},90165:a=>{"use strict";let{FORCE_COLOR:b,NODE_DISABLE_COLORS:c,TERM:d}=process.env,e={enabled:!c&&"dumb"!==d&&"0"!==b,reset:h(0,0),bold:h(1,22),dim:h(2,22),italic:h(3,23),underline:h(4,24),inverse:h(7,27),hidden:h(8,28),strikethrough:h(9,29),black:h(30,39),red:h(31,39),green:h(32,39),yellow:h(33,39),blue:h(34,39),magenta:h(35,39),cyan:h(36,39),white:h(37,39),gray:h(90,39),grey:h(90,39),bgBlack:h(40,49),bgRed:h(41,49),bgGreen:h(42,49),bgYellow:h(43,49),bgBlue:h(44,49),bgMagenta:h(45,49),bgCyan:h(46,49),bgWhite:h(47,49)};function f(a,b){let c=0,d,e="",f="";for(;c<a.length;c++)e+=(d=a[c]).open,f+=d.close,b.includes(d.close)&&(b=b.replace(d.rgx,d.close+d.open));return e+b+f}function g(a,b){let c={has:a,keys:b};return c.reset=e.reset.bind(c),c.bold=e.bold.bind(c),c.dim=e.dim.bind(c),c.italic=e.italic.bind(c),c.underline=e.underline.bind(c),c.inverse=e.inverse.bind(c),c.hidden=e.hidden.bind(c),c.strikethrough=e.strikethrough.bind(c),c.black=e.black.bind(c),c.red=e.red.bind(c),c.green=e.green.bind(c),c.yellow=e.yellow.bind(c),c.blue=e.blue.bind(c),c.magenta=e.magenta.bind(c),c.cyan=e.cyan.bind(c),c.white=e.white.bind(c),c.gray=e.gray.bind(c),c.grey=e.grey.bind(c),c.bgBlack=e.bgBlack.bind(c),c.bgRed=e.bgRed.bind(c),c.bgGreen=e.bgGreen.bind(c),c.bgYellow=e.bgYellow.bind(c),c.bgBlue=e.bgBlue.bind(c),c.bgMagenta=e.bgMagenta.bind(c),c.bgCyan=e.bgCyan.bind(c),c.bgWhite=e.bgWhite.bind(c),c}function h(a,b){let c={open:`\x1b[${a}m`,close:`\x1b[${b}m`,rgx:RegExp(`\\x1b\\[${b}m`,"g")};return function(b){return void 0!==this&&void 0!==this.has?(this.has.includes(a)||(this.has.push(a),this.keys.push(c)),void 0===b?this:e.enabled?f(this.keys,b+""):b+""):void 0===b?g([a],[c]):e.enabled?f([c],b+""):b+""}}a.exports=e},90214:(a,b,c)=>{"use strict";let d=c(12266);class e extends d{constructor(a={}){super(a)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(a){this.date.setSeconds(parseInt(a.substr(-2)))}toString(){let a=this.date.getSeconds();return this.token.length>1?String(a).padStart(2,"0"):a}}a.exports=e},90222:(a,b,c)=>{"use strict";c.r(b),c.d(b,{FromStringShapeDeserializer:()=>k.k,HttpBindingProtocol:()=>f.s,HttpInterceptingShapeDeserializer:()=>l.z,HttpInterceptingShapeSerializer:()=>m._,HttpProtocol:()=>g.t,RequestBuilder:()=>i.t,RpcProtocol:()=>h.M,SerdeContext:()=>q.f,ToStringShapeSerializer:()=>o.A,collectBody:()=>d.P,determineTimestampFormat:()=>p.V,extendedEncodeURIComponent:()=>e.$,requestBuilder:()=>i.l,resolvedPath:()=>j.u});var d=c(9742),e=c(27613),f=c(70867),g=c(31212),h=c(31329),i=c(79464),j=c(7916),k=c(98661),l=c(82596),m=c(97359),o=c(77529),p=c(94110),q=c(12436)},90439:(a,b,c)=>{"use strict";a.exports={action:c(4125),clear:c(41098),style:c(56090),strip:c(31121),figures:c(19110),lines:c(75592),wrap:c(42039),entriesToDisplay:c(12566)}},90504:(a,b,c)=>{"use strict";c.d(b,{t:()=>d});let d=({collectionConfig:a,sort:b})=>(b||(b=a.defaultSort?a.defaultSort:"-createdAt"),"string"==typeof b&&(b=[b]),b.map(a=>{let b,c="";return("-"===a[0]?(b=a.substring(1),c="-"):b=a,"id"===b)?`${c}parent`:`${c}version.${b}`}))},90521:(a,b,c)=>{"use strict";let{pipeline:d}=c(57075),{fetching:e}=c(2461),{makeRequest:f}=c(78728),{webidl:g}=c(2312),{EventSourceStream:h}=c(3998),{parseMIMEType:i}=c(86541),{createFastMessageEvent:j}=c(44677),{isNetworkError:k}=c(28886),{delay:l}=c(53298),{kEnumerableProperty:m}=c(33895),{environmentSettingsObject:o}=c(45293),p=!1,q=3e3,r=0,s=1,t=2,u="anonymous",v="use-credentials";class w extends EventTarget{#bf={open:null,error:null,message:null};#aG;#cr=!1;#cs=r;#ct=null;#ch=null;#cl;#be;constructor(a,b={}){let c;super(),g.util.markAsUncloneable(this);let d="EventSource constructor";g.argumentLengthCheck(arguments,1,d),p||(p=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),a=g.converters.USVString(a),b=g.converters.EventSourceInitDict(b,d,"eventSourceInitDict"),this.#cl=b.dispatcher,this.#be={lastEventId:"",reconnectionTime:q};let e=o;try{c=new URL(a,e.settingsObject.baseUrl),this.#be.origin=c.origin}catch(a){throw new DOMException(a,"SyntaxError")}this.#aG=c.href;let h=u;!0===b.withCredentials&&(h=v,this.#cr=!0);let i={redirect:"follow",keepalive:!0,mode:"cors",credentials:"anonymous"===h?"same-origin":"omit",referrer:"no-referrer"};i.client=o.settingsObject,i.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],i.cache="no-store",i.initiator="other",i.urlList=[new URL(this.#aG)],this.#ct=f(i),this.#cu()}get readyState(){return this.#cs}get url(){return this.#aG}get withCredentials(){return this.#cr}#cu(){if(this.#cs===t)return;this.#cs=r;let a={request:this.#ct,dispatcher:this.#cl};a.processResponseEndOfBody=a=>{k(a)&&(this.dispatchEvent(new Event("error")),this.close()),this.#cv()},a.processResponse=a=>{if(k(a))if(!a.aborted)return void this.#cv();else{this.close(),this.dispatchEvent(new Event("error"));return}let b=a.headersList.get("content-type",!0),c=null!==b?i(b):"failure",e="failure"!==c&&"text/event-stream"===c.essence;if(200!==a.status||!1===e){this.close(),this.dispatchEvent(new Event("error"));return}this.#cs=s,this.dispatchEvent(new Event("open")),this.#be.origin=a.urlList[a.urlList.length-1].origin;let f=new h({eventSourceSettings:this.#be,push:a=>{this.dispatchEvent(j(a.type,a.options))}});d(a.body.stream,f,a=>{a?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#ch=e(a)}async #cv(){this.#cs!==t&&(this.#cs=r,this.dispatchEvent(new Event("error")),await l(this.#be.reconnectionTime),this.#cs===r&&(this.#be.lastEventId.length&&this.#ct.headersList.set("last-event-id",this.#be.lastEventId,!0),this.#cu()))}close(){g.brandCheck(this,w),this.#cs!==t&&(this.#cs=t,this.#ch.abort(),this.#ct=null)}get onopen(){return this.#bf.open}set onopen(a){this.#bf.open&&this.removeEventListener("open",this.#bf.open),"function"==typeof a?(this.#bf.open=a,this.addEventListener("open",a)):this.#bf.open=null}get onmessage(){return this.#bf.message}set onmessage(a){this.#bf.message&&this.removeEventListener("message",this.#bf.message),"function"==typeof a?(this.#bf.message=a,this.addEventListener("message",a)):this.#bf.message=null}get onerror(){return this.#bf.error}set onerror(a){this.#bf.error&&this.removeEventListener("error",this.#bf.error),"function"==typeof a?(this.#bf.error=a,this.addEventListener("error",a)):this.#bf.error=null}}let x={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:r,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:s,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:t,writable:!1}};Object.defineProperties(w,x),Object.defineProperties(w.prototype,x),Object.defineProperties(w.prototype,{close:m,onerror:m,onmessage:m,onopen:m,readyState:m,url:m,withCredentials:m}),g.converters.EventSourceInitDict=g.dictionaryConverter([{key:"withCredentials",converter:g.converters.boolean,defaultValue:()=>!1},{key:"dispatcher",converter:g.converters.any}]),a.exports={EventSource:w,defaultReconnectionTime:q}},90627:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},90632:(a,b,c)=>{"use strict";c.r(b),c.d(b,{ALGORITHM_IDENTIFIER:()=>e.SG,ALGORITHM_IDENTIFIER_V4A:()=>e.ku,ALGORITHM_QUERY_PARAM:()=>e.XI,ALWAYS_UNSIGNABLE_HEADERS:()=>e.SN,AMZ_DATE_HEADER:()=>e.ot,AMZ_DATE_QUERY_PARAM:()=>e.Zs,AUTH_HEADER:()=>e.H1,CREDENTIAL_QUERY_PARAM:()=>e.tI,DATE_HEADER:()=>e.J9,EVENT_ALGORITHM_IDENTIFIER:()=>e.r1,EXPIRES_QUERY_PARAM:()=>e.MS,GENERATED_HEADERS:()=>e.pj,HOST_HEADER:()=>e.zX,KEY_TYPE_IDENTIFIER:()=>e.VQ,MAX_CACHE_SIZE:()=>e.g5,MAX_PRESIGNED_TTL:()=>e.Uv,PROXY_HEADER_PATTERN:()=>e.Ir,REGION_SET_PARAM:()=>e.oB,SEC_HEADER_PATTERN:()=>e.lP,SHA256_HEADER:()=>e.Wd,SIGNATURE_HEADER:()=>e.D8,SIGNATURE_QUERY_PARAM:()=>e.cR,SIGNED_HEADERS_QUERY_PARAM:()=>e.FY,SignatureV4:()=>d.B,SignatureV4Base:()=>l.y,TOKEN_HEADER:()=>e.wE,TOKEN_QUERY_PARAM:()=>e.r2,UNSIGNABLE_PATTERNS:()=>e.Jp,UNSIGNED_PAYLOAD:()=>e.z8,clearCredentialCache:()=>k.HK,createScope:()=>k.Ds,getCanonicalHeaders:()=>f.H,getCanonicalQuery:()=>g.$,getPayloadHash:()=>h.p,getSigningKey:()=>k.Xf,hasHeader:()=>m.ou,moveHeadersToQuery:()=>i.b,prepareRequest:()=>j.n,signatureV4aContainer:()=>o.d});var d=c(19443),e=c(59837),f=c(86460),g=c(4690),h=c(5044),i=c(14294),j=c(5098),k=c(68042),l=c(7189),m=c(9895),o=c(80440)},90751:a=>{"use strict";a.exports=function a(a){let b=[],c=!1,d="";for(let e=0;e<a.length;e++){let f=a.charAt(e);if("\\"===f){c=!0;continue}if(c){c=!1,d+=f;continue}if("."===f){b.push(d),d="";continue}d+=f}return d.length&&b.push(d),b}},90947:(a,b,c)=>{"use strict";c.d(b,{W:()=>d});let d=({hasGenerateFn:a=!1,overrides:b})=>({name:"title",type:"text",admin:{components:{Field:{clientProps:{hasGenerateTitleFn:a},path:"@payloadcms/plugin-seo/client#MetaTitleComponent"}}},localized:!0,...b??{}})},91067:(a,b,c)=>{"use strict";c.d(b,{F:()=>e});var d=c(69480);let e=a=>"string"==typeof a?(0,d.a)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)},91164:(a,b,c)=>{"use strict";c.d(b,{o:()=>g});var d=c(47624),e=c(70366),f=c(38395);let g=async({id:a,collection:b,context:c,data:g,doc:h,docWithLocales:i,global:j,operation:k,overrideAccess:l,req:m,skipValidation:o})=>{let p=(0,e.Zt)(g),q=[],r=[];if(await (0,f.m)({id:a,collection:b,context:c,data:p,doc:h,docWithLocales:i,errors:r,fieldLabelPath:"",fields:b?.fields||j?.fields,global:j,mergeLocaleActions:q,operation:k,overrideAccess:l,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",req:m,siblingData:p,siblingDoc:h,siblingDocWithLocales:i,skipValidation:o}),r.length>0)throw new d.y({id:a,collection:b?.slug,errors:r,global:j?.slug,req:m},m.t);for(let a of q)await a();return p}},91177:a=>{"use strict";a.exports=JSON.parse('[{"name":"Agola CI","constant":"AGOLA","env":"AGOLA_GIT_REF","pr":"AGOLA_PULL_REQUEST_ID"},{"name":"Appcircle","constant":"APPCIRCLE","env":"AC_APPCIRCLE","pr":{"env":"AC_GIT_PR","ne":"false"}},{"name":"AppVeyor","constant":"APPVEYOR","env":"APPVEYOR","pr":"APPVEYOR_PULL_REQUEST_NUMBER"},{"name":"AWS CodeBuild","constant":"CODEBUILD","env":"CODEBUILD_BUILD_ARN","pr":{"env":"CODEBUILD_WEBHOOK_EVENT","any":["PULL_REQUEST_CREATED","PULL_REQUEST_UPDATED","PULL_REQUEST_REOPENED"]}},{"name":"Azure Pipelines","constant":"AZURE_PIPELINES","env":"TF_BUILD","pr":{"BUILD_REASON":"PullRequest"}},{"name":"Bamboo","constant":"BAMBOO","env":"bamboo_planKey"},{"name":"Bitbucket Pipelines","constant":"BITBUCKET","env":"BITBUCKET_COMMIT","pr":"BITBUCKET_PR_ID"},{"name":"Bitrise","constant":"BITRISE","env":"BITRISE_IO","pr":"BITRISE_PULL_REQUEST"},{"name":"Buddy","constant":"BUDDY","env":"BUDDY_WORKSPACE_ID","pr":"BUDDY_EXECUTION_PULL_REQUEST_ID"},{"name":"Buildkite","constant":"BUILDKITE","env":"BUILDKITE","pr":{"env":"BUILDKITE_PULL_REQUEST","ne":"false"}},{"name":"CircleCI","constant":"CIRCLE","env":"CIRCLECI","pr":"CIRCLE_PULL_REQUEST"},{"name":"Cirrus CI","constant":"CIRRUS","env":"CIRRUS_CI","pr":"CIRRUS_PR"},{"name":"Cloudflare Pages","constant":"CLOUDFLARE_PAGES","env":"CF_PAGES"},{"name":"Cloudflare Workers","constant":"CLOUDFLARE_WORKERS","env":"WORKERS_CI"},{"name":"Codefresh","constant":"CODEFRESH","env":"CF_BUILD_ID","pr":{"any":["CF_PULL_REQUEST_NUMBER","CF_PULL_REQUEST_ID"]}},{"name":"Codemagic","constant":"CODEMAGIC","env":"CM_BUILD_ID","pr":"CM_PULL_REQUEST"},{"name":"Codeship","constant":"CODESHIP","env":{"CI_NAME":"codeship"}},{"name":"Drone","constant":"DRONE","env":"DRONE","pr":{"DRONE_BUILD_EVENT":"pull_request"}},{"name":"dsari","constant":"DSARI","env":"DSARI"},{"name":"Earthly","constant":"EARTHLY","env":"EARTHLY_CI"},{"name":"Expo Application Services","constant":"EAS","env":"EAS_BUILD"},{"name":"Gerrit","constant":"GERRIT","env":"GERRIT_PROJECT"},{"name":"Gitea Actions","constant":"GITEA_ACTIONS","env":"GITEA_ACTIONS"},{"name":"GitHub Actions","constant":"GITHUB_ACTIONS","env":"GITHUB_ACTIONS","pr":{"GITHUB_EVENT_NAME":"pull_request"}},{"name":"GitLab CI","constant":"GITLAB","env":"GITLAB_CI","pr":"CI_MERGE_REQUEST_ID"},{"name":"GoCD","constant":"GOCD","env":"GO_PIPELINE_LABEL"},{"name":"Google Cloud Build","constant":"GOOGLE_CLOUD_BUILD","env":"BUILDER_OUTPUT"},{"name":"Harness CI","constant":"HARNESS","env":"HARNESS_BUILD_ID"},{"name":"Heroku","constant":"HEROKU","env":{"env":"NODE","includes":"/app/.heroku/node/bin/node"}},{"name":"Hudson","constant":"HUDSON","env":"HUDSON_URL"},{"name":"Jenkins","constant":"JENKINS","env":["JENKINS_URL","BUILD_ID"],"pr":{"any":["ghprbPullId","CHANGE_ID"]}},{"name":"LayerCI","constant":"LAYERCI","env":"LAYERCI","pr":"LAYERCI_PULL_REQUEST"},{"name":"Magnum CI","constant":"MAGNUM","env":"MAGNUM"},{"name":"Netlify CI","constant":"NETLIFY","env":"NETLIFY","pr":{"env":"PULL_REQUEST","ne":"false"}},{"name":"Nevercode","constant":"NEVERCODE","env":"NEVERCODE","pr":{"env":"NEVERCODE_PULL_REQUEST","ne":"false"}},{"name":"Prow","constant":"PROW","env":"PROW_JOB_ID"},{"name":"ReleaseHub","constant":"RELEASEHUB","env":"RELEASE_BUILD_ID"},{"name":"Render","constant":"RENDER","env":"RENDER","pr":{"IS_PULL_REQUEST":"true"}},{"name":"Sail CI","constant":"SAIL","env":"SAILCI","pr":"SAIL_PULL_REQUEST_NUMBER"},{"name":"Screwdriver","constant":"SCREWDRIVER","env":"SCREWDRIVER","pr":{"env":"SD_PULL_REQUEST","ne":"false"}},{"name":"Semaphore","constant":"SEMAPHORE","env":"SEMAPHORE","pr":"PULL_REQUEST_NUMBER"},{"name":"Sourcehut","constant":"SOURCEHUT","env":{"CI_NAME":"sourcehut"}},{"name":"Strider CD","constant":"STRIDER","env":"STRIDER"},{"name":"TaskCluster","constant":"TASKCLUSTER","env":["TASK_ID","RUN_ID"]},{"name":"TeamCity","constant":"TEAMCITY","env":"TEAMCITY_VERSION"},{"name":"Travis CI","constant":"TRAVIS","env":"TRAVIS","pr":{"env":"TRAVIS_PULL_REQUEST","ne":"false"}},{"name":"Vela","constant":"VELA","env":"VELA","pr":{"VELA_PULL_REQUEST":"1"}},{"name":"Vercel","constant":"VERCEL","env":{"any":["NOW_BUILDER","VERCEL"]},"pr":"VERCEL_GIT_PULL_REQUEST_ID"},{"name":"Visual Studio App Center","constant":"APPCENTER","env":"APPCENTER_BUILD_ID"},{"name":"Woodpecker","constant":"WOODPECKER","env":{"CI":"woodpecker"},"pr":{"CI_BUILD_EVENT":"pull_request"}},{"name":"Xcode Cloud","constant":"XCODE_CLOUD","env":"CI_XCODE_PROJECT","pr":"CI_PULL_REQUEST_NUMBER"},{"name":"Xcode Server","constant":"XCODE_SERVER","env":"XCS"}]')},91331:(a,b,c)=>{"use strict";c.d(b,{Eb:()=>j,N9:()=>k,X0:()=>l});var d=c(50695),e=c(37593),f=c(83045),g=c(30204),h=c(50956);class i extends g.k{constructor(a){super(),this.resultCb=a}static [e.i]="ExecuteResultSync";async execute(){return this.resultCb()}sync(){return this.resultCb()}}class j{constructor(a,b,c,d,e,f){this.mode=a,this.executeMethod=b,this.query=c,this.cache=d,this.queryMetadata=e,this.cacheConfig=f,d&&"all"===d.strategy()&&void 0===f&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}static [e.i]="PreparedQuery";joinsNotNullableMap;async queryWithCache(a,b,c){if(void 0===this.cache||(0,e.is)(this.cache,d.Th)||void 0===this.queryMetadata||this.cacheConfig&&!this.cacheConfig.enable)try{return await c()}catch(c){throw new f.Rv(a,b,c)}if(("insert"===this.queryMetadata.type||"update"===this.queryMetadata.type||"delete"===this.queryMetadata.type)&&this.queryMetadata.tables.length>0)try{let[a]=await Promise.all([c(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return a}catch(c){throw new f.Rv(a,b,c)}if(!this.cacheConfig)try{return await c()}catch(c){throw new f.Rv(a,b,c)}if("select"===this.queryMetadata.type){let e=await this.cache.get(this.cacheConfig.tag??await (0,d.h1)(a,b),this.queryMetadata.tables,void 0!==this.cacheConfig.tag,this.cacheConfig.autoInvalidate);if(void 0===e){let e;try{e=await c()}catch(c){throw new f.Rv(a,b,c)}return await this.cache.put(this.cacheConfig.tag??await (0,d.h1)(a,b),e,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],void 0!==this.cacheConfig.tag,this.cacheConfig.config),e}return e}try{return await c()}catch(c){throw new f.Rv(a,b,c)}}getQuery(){return this.query}mapRunResult(a,b){return a}mapAllResult(a,b){throw Error("Not implemented")}mapGetResult(a,b){throw Error("Not implemented")}execute(a){return"async"===this.mode?this[this.executeMethod](a):new i(()=>this[this.executeMethod](a))}mapResult(a,b){switch(this.executeMethod){case"run":return this.mapRunResult(a,b);case"all":return this.mapAllResult(a,b);case"get":return this.mapGetResult(a,b)}}}class k{constructor(a){this.dialect=a}static [e.i]="SQLiteSession";prepareOneTimeQuery(a,b,c,d,e,f,g){return this.prepareQuery(a,b,c,d,e,f,g)}run(a){let b=this.dialect.sqlToQuery(a);try{return this.prepareOneTimeQuery(b,void 0,"run",!1).run()}catch(a){throw new f.n9({cause:a,message:`Failed to run the query '${b.sql}'`})}}extractRawRunValueFromBatchResult(a){return a}all(a){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(a),void 0,"run",!1).all()}extractRawAllValueFromBatchResult(a){throw Error("Not implemented")}get(a){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(a),void 0,"run",!1).get()}extractRawGetValueFromBatchResult(a){throw Error("Not implemented")}values(a){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(a),void 0,"run",!1).values()}async count(a){return(await this.values(a))[0][0]}extractRawValuesValueFromBatchResult(a){throw Error("Not implemented")}}class l extends h.N{constructor(a,b,c,d,e=0){super(a,b,c,d),this.schema=d,this.nestedIndex=e}static [e.i]="SQLiteTransaction";rollback(){throw new f.jY}}},91406:(a,b,c)=>{"use strict";c.d(b,{r:()=>d});let d=a=>{let b="#text";for(let c in a)a.hasOwnProperty(c)&&void 0!==a[c][b]?a[c]=a[c][b]:"object"==typeof a[c]&&null!==a[c]&&(a[c]=d(a[c]));return a}},91916:a=>{"use strict";if("undefined"!=typeof SharedArrayBuffer&&"undefined"!=typeof Atomics){let b=new Int32Array(new SharedArrayBuffer(4));a.exports=function(a){if(!1==(a>0&&a<1/0)){if("number"!=typeof a&&"bigint"!=typeof a)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}Atomics.wait(b,0,0,Number(a))}}else a.exports=function(a){if(!1==(a>0&&a<1/0)){if("number"!=typeof a&&"bigint"!=typeof a)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}let b=Date.now()+Number(a);for(;b>Date.now(););}},92029:(a,b,c)=>{"use strict";let d=c(12266);class e extends d{constructor(a={}){super(a)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(a){a=parseInt(a.substr(-2))-1,this.date.setMonth(a<0?0:a)}toString(){let a=this.date.getMonth(),b=this.token.length;return 2===b?String(a+1).padStart(2,"0"):3===b?this.locales.monthsShort[a]:4===b?this.locales.months[a]:String(a+1)}}a.exports=e},92073:(a,b,c)=>{"use strict";c.d(b,{$:()=>r});var d=c(25083),e=c(51114),f=c(9896),g=c(87747),h=c(18528),i=c(2431),j=c(71292),k=c(70151),l=c(43982),m=c(53216),o=c(32609),p=c(6125),q=c(87641);let r=async a=>{let b=a;try{if(b.collection.config.hooks?.beforeOperation?.length)for(let a of b.collection.config.hooks.beforeOperation)b=await a({args:b,collection:b.collection.config,context:b.req.context,operation:"read",req:b.req})||b;let{id:a,collection:{config:c},currentDepth:m,depth:r,disableErrors:s,draft:t=!1,flattenLocales:u,includeLockStatus:v,joins:w,overrideAccess:x=!1,populate:y,req:{fallbackLocale:z,locale:A,t:B},req:C,select:D,showHiddenFields:E,trash:F=!1}=b,G=(0,o.Y)({fields:c.flattenedFields,forceSelect:c.forceSelect,select:D}),H=!!x||await (0,d.m)({id:a,disableErrors:s,req:C},c.access.read);if(!1===H)return null;let I={id:{equals:a}},J=(0,e.m)(I,H);J=(0,l.v)({enableTrash:c.trash,trash:F,where:J}),(0,g.D)({fields:c.flattenedFields,payload:b.req.payload,where:J});let K=await (0,f.S)({collectionConfig:c,joins:w,overrideAccess:x,req:C}),L={collection:c.slug,draftsEnabled:t,joins:"GraphQL"!==C.payloadAPI&&K,locale:A,req:{transactionID:C.transactionID},select:G,where:J};if(C.payload.collections[c.slug].customIDType&&await (0,j.d)({collectionConfig:c,overrideAccess:x,req:C,where:I}),!L.where?.and?.[0]?.id)throw new h.M(B);let M=b.data??await C.payload.db.findOne(L);if(!M){if(!s)throw new h.M(C.t);return null}if(v&&a){let b=null;try{let d=c?.lockDocuments,e=300,f="object"==typeof d?d.duration:e,g=1e3*f,h=await C.payload.find({collection:k.q,depth:1,limit:1,overrideAccess:!1,pagination:!1,req:C,where:{and:[{"document.relationTo":{equals:c.slug}},{"document.value":{equals:a}},{updatedAt:{greater_than:new Date(new Date().getTime()-g)}}]}});h&&h.docs.length>0&&(b=h.docs[0])}catch{}M._isLocked=!!b,M._userEditing=b?.user?.value??null}if(c.versions?.drafts&&t&&(M=await (0,p.M)({accessResult:H,doc:M,entity:c,entityType:"collection",overrideAccess:x,req:C,select:G})),c.hooks?.beforeRead?.length)for(let a of c.hooks.beforeRead)M=await a({collection:c,context:C.context,doc:M,query:L.where,req:C})||M;if(M=await (0,i.v)({collection:c,context:C.context,currentDepth:m,depth:r,doc:M,draft:t,fallbackLocale:z,flattenLocales:u,global:null,locale:A,overrideAccess:x,populate:y,req:C,select:G,showHiddenFields:E}),c.hooks?.afterRead?.length)for(let a of c.hooks.afterRead)M=await a({collection:c,context:C.context,doc:M,query:L.where,req:C})||M;return M=await (0,q.E)({args:b,collection:c,operation:"findByID",result:M})}catch(a){throw await (0,m.J)(b.req),a}}},92102:(a,b,c)=>{"use strict";let d=c(40639),e=a=>1==(a%=10)?"st":2===a?"nd":3===a?"rd":"th";class f extends d{constructor(a={}){super(a)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(a){this.date.setDate(parseInt(a.substr(-2)))}toString(){let a=this.date.getDate(),b=this.date.getDay();return"DD"===this.token?String(a).padStart(2,"0"):"Do"===this.token?a+e(a):"d"===this.token?b+1:"ddd"===this.token?this.locales.weekdaysShort[b]:"dddd"===this.token?this.locales.weekdays[b]:a}}a.exports=f},92358:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(30737),e=c(81318),f=c(66754),g=c(15426),h=c(1981),i=c(6417),j=c(56321),k=c(93940),l=c(54653),m=c(45213),o=c(55079),p=c(53849),q=c(75351),r=c(6788),s=c(81619),t=c(59158);b.default=function(a=!1){let b=[o.default,p.default,q.default,r.default,s.default,t.default,j.default,k.default,i.default,l.default,m.default];return a?b.push(e.default,g.default):b.push(d.default,f.default),b.push(h.default),b}},92497:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.enumToMap=void 0,b.enumToMap=function(a,b=[],c=[]){var d,e;let f=(null!=(d=null==b?void 0:b.length)?d:0)===0,g=(null!=(e=null==c?void 0:c.length)?e:0)===0;return Object.fromEntries(Object.entries(a).filter(([,a])=>"number"==typeof a&&(f||b.includes(a))&&(g||!c.includes(a))))}},92507:(a,b,c)=>{"use strict";let d=c(48161),e=c(65950),f=c(44),g=c(28882),h=c(21958),i=c(20193),j=c(25258),{configure:k}=c(9850),{assertDefaultLevelFound:l,mappings:m,genLsCache:o,genLevelComparison:p,assertLevelComparison:q}=c(53140),{DEFAULT_LEVELS:r,SORTING_ORDER:s}=c(17306),{createArgsNormalizer:t,asChindings:u,buildSafeSonicBoom:v,buildFormatters:w,stringify:x,normalizeDestFileDescriptor:y,noop:z}=c(45728),{version:A}=c(12690),{chindingsSym:B,redactFmtSym:C,serializersSym:D,timeSym:E,timeSliceIndexSym:F,streamSym:G,stringifySym:H,stringifySafeSym:I,stringifiersSym:J,setLevelSym:K,endSym:L,formatOptsSym:M,messageKeySym:N,errorKeySym:O,nestedKeySym:P,mixinSym:Q,levelCompSym:R,useOnlyCustomLevelsSym:S,formattersSym:T,hooksSym:U,nestedKeyStrSym:V,mixinMergeStrategySym:W,msgPrefixSym:X}=j,{epochTime:Y,nullTime:Z}=h,{pid:$}=process,_=d.hostname(),aa=e.err,ab=t({level:"info",levelComparison:s.ASC,levels:r,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:$,hostname:_},serializers:Object.assign(Object.create(null),{err:aa}),formatters:Object.assign(Object.create(null),{bindings:a=>a,level:(a,b)=>({level:b})}),hooks:{logMethod:void 0},timestamp:Y,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100}),ac=Object.assign(Object.create(null),e);function ad(...a){let b={},{opts:c,stream:d}=ab(b,f(),...a);c.level&&"string"==typeof c.level&&void 0!==r[c.level.toLowerCase()]&&(c.level=c.level.toLowerCase());let{redact:e,crlf:h,serializers:j,timestamp:s,messageKey:t,errorKey:v,nestedKey:y,base:A,name:$,level:_,customLevels:aa,levelComparison:ac,mixin:ae,mixinMergeStrategy:af,useOnlyCustomLevels:ag,formatters:ah,hooks:ai,depthLimit:aj,edgeLimit:ak,onChild:al,msgPrefix:am}=c,an=k({maximumDepth:aj,maximumBreadth:ak}),ao=w(ah.level,ah.bindings,ah.log),ap=x.bind({[I]:an}),aq=e?g(e,ap):{},ar=e?{stringify:aq[C]}:{stringify:ap},as="}"+(h?"\r\n":"\n"),at=u.bind(null,{[B]:"",[D]:j,[J]:aq,[H]:x,[I]:an,[T]:ao}),au="";null!==A&&(au=at(void 0===$?A:Object.assign({},A,{name:$})));let av=s instanceof Function?s:s?Y:Z,aw=av().indexOf(":")+1;if(ag&&!aa)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(ae&&"function"!=typeof ae)throw Error(`Unknown mixin type "${typeof ae}" - expected "function"`);if(am&&"string"!=typeof am)throw Error(`Unknown msgPrefix type "${typeof am}" - expected "string"`);l(_,aa,ag);let ax=m(aa,ag);return"function"==typeof d.emit&&d.emit("message",{code:"PINO_CONFIG",config:{levels:ax,messageKey:t,errorKey:v}}),q(ac),Object.assign(b,{levels:ax,[R]:p(ac),[S]:ag,[G]:d,[E]:av,[F]:aw,[H]:x,[I]:an,[J]:aq,[L]:as,[M]:ar,[N]:t,[O]:v,[P]:y,[V]:y?`,${JSON.stringify(y)}:{`:"",[D]:j,[Q]:ae,[W]:af,[B]:au,[T]:ao,[U]:ai,silent:z,onChild:al,[X]:am}),Object.setPrototypeOf(b,i()),o(b),b[K](_),b}a.exports=ad,a.exports.destination=(a=process.stdout.fd)=>"object"==typeof a?(a.dest=y(a.dest||process.stdout.fd),v(a)):v({dest:y(a),minLength:0}),a.exports.transport=c(42402),a.exports.multistream=c(78666),a.exports.levels=m(),a.exports.stdSerializers=ac,a.exports.stdTimeFunctions=Object.assign({},h),a.exports.symbols=j,a.exports.version=A,a.exports.default=ad,a.exports.pino=ad},92546:(a,b,c)=>{"use strict";let d=c(12266);class e extends d{constructor(a={}){super(a)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(a){this.date.setFullYear(a.substr(-4))}toString(){let a=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?a.substr(-2):a}}a.exports=e},92697:a=>{"use strict";a.exports=Math.abs},92834:(a,b,c)=>{"use strict";function d(a,b,c){a.__smithy_context?a.__smithy_context.features||(a.__smithy_context.features={}):a.__smithy_context={features:{}},a.__smithy_context.features[b]=c}c.d(b,{J:()=>d})},92844:(a,b,c)=>{"use strict";a.exports={DatePart:c(40639),Meridiem:c(19444),Day:c(92102),Hours:c(81907),Milliseconds:c(10124),Minutes:c(2205),Month:c(72046),Seconds:c(13945),Year:c(16235)}},92913:(a,b,c)=>{"use strict";c.r(b),c.d(b,{__addDisposableResource:()=>K,__assign:()=>f,__asyncDelegator:()=>A,__asyncGenerator:()=>z,__asyncValues:()=>B,__await:()=>y,__awaiter:()=>p,__classPrivateFieldGet:()=>H,__classPrivateFieldIn:()=>J,__classPrivateFieldSet:()=>I,__createBinding:()=>r,__decorate:()=>h,__disposeResources:()=>M,__esDecorate:()=>j,__exportStar:()=>s,__extends:()=>e,__generator:()=>q,__importDefault:()=>G,__importStar:()=>F,__makeTemplateObject:()=>C,__metadata:()=>o,__param:()=>i,__propKey:()=>l,__read:()=>u,__rest:()=>g,__rewriteRelativeImportExtension:()=>N,__runInitializers:()=>k,__setFunctionName:()=>m,__spread:()=>v,__spreadArray:()=>x,__spreadArrays:()=>w,__values:()=>t,default:()=>O});var d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)};function e(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}var f=function(){return(f=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function g(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function h(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}function i(a,b){return function(c,d){b(c,d,a)}}function j(a,b,c,d,e,f){function g(a){if(void 0!==a&&"function"!=typeof a)throw TypeError("Function expected");return a}for(var h,i=d.kind,j="getter"===i?"get":"setter"===i?"set":"value",k=!b&&a?d.static?a:a.prototype:null,l=b||(k?Object.getOwnPropertyDescriptor(k,d.name):{}),m=!1,o=c.length-1;o>=0;o--){var p={};for(var q in d)p[q]="access"===q?{}:d[q];for(var q in d.access)p.access[q]=d.access[q];p.addInitializer=function(a){if(m)throw TypeError("Cannot add initializers after decoration has completed");f.push(g(a||null))};var r=(0,c[o])("accessor"===i?{get:l.get,set:l.set}:l[j],p);if("accessor"===i){if(void 0===r)continue;if(null===r||"object"!=typeof r)throw TypeError("Object expected");(h=g(r.get))&&(l.get=h),(h=g(r.set))&&(l.set=h),(h=g(r.init))&&e.unshift(h)}else(h=g(r))&&("field"===i?e.unshift(h):l[j]=h)}k&&Object.defineProperty(k,d.name,l),m=!0}function k(a,b,c){for(var d=arguments.length>2,e=0;e<b.length;e++)c=d?b[e].call(a,c):b[e].call(a);return d?c:void 0}function l(a){return"symbol"==typeof a?a:"".concat(a)}function m(a,b,c){return"symbol"==typeof b&&(b=b.description?"[".concat(b.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:c?"".concat(c," ",b):b})}function o(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)}function p(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})}function q(a,b){var c,d,e,f={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=h(0),g.throw=h(1),g.return=h(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function h(a){return function(b){return i([a,b])}}function i(h){if(c)throw TypeError("Generator is already executing.");for(;g&&(g=0,h[0]&&(f=0)),f;)try{if(c=1,d&&(e=2&h[0]?d.return:h[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,h[1])).done)return e;switch(d=0,e&&(h=[2&h[0],e.value]),h[0]){case 0:case 1:e=h;break;case 4:return f.label++,{value:h[1],done:!1};case 5:f.label++,d=h[1],h=[0];continue;case 7:h=f.ops.pop(),f.trys.pop();continue;default:if(!(e=(e=f.trys).length>0&&e[e.length-1])&&(6===h[0]||2===h[0])){f=0;continue}if(3===h[0]&&(!e||h[1]>e[0]&&h[1]<e[3])){f.label=h[1];break}if(6===h[0]&&f.label<e[1]){f.label=e[1],e=h;break}if(e&&f.label<e[2]){f.label=e[2],f.ops.push(h);break}e[2]&&f.ops.pop(),f.trys.pop();continue}h=b.call(a,f)}catch(a){h=[6,a],d=0}finally{c=e=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var r=Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]};function s(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||r(b,a,c)}function t(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function v(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(u(arguments[b]));return a}function w(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}function x(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))}function y(a){return this instanceof y?(this.v=a,this):new y(a)}function z(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",g),d[Symbol.asyncIterator]=function(){return this},d;function g(a){return function(b){return Promise.resolve(b).then(a,l)}}function h(a,b){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||i(a,b)})},b&&(d[a]=b(d[a])))}function i(a,b){try{j(e[a](b))}catch(a){m(f[0][3],a)}}function j(a){a.value instanceof y?Promise.resolve(a.value.v).then(k,l):m(f[0][2],a)}function k(a){i("next",a)}function l(a){i("throw",a)}function m(a,b){a(b),f.shift(),f.length&&i(f[0][0],f[0][1])}}function A(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:y(a[d](b)),done:!1}:e?e(b):b}:e}}function B(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a=t(a),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,f){e(d,f,(b=a[c](b)).done,b.value)})}}function e(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}}function C(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}var D=Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b},E=function(a){return(E=Object.getOwnPropertyNames||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[b.length]=c);return b})(a)};function F(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c=E(a),d=0;d<c.length;d++)"default"!==c[d]&&r(b,a,c[d]);return D(b,a),b}function G(a){return a&&a.__esModule?a:{default:a}}function H(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)}function I(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c}function J(a,b){if(null===b||"object"!=typeof b&&"function"!=typeof b)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof a?b===a:a.has(b)}function K(a,b,c){if(null!=b){var d,e;if("object"!=typeof b&&"function"!=typeof b)throw TypeError("Object expected.");if(c){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");d=b[Symbol.asyncDispose]}if(void 0===d){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");d=b[Symbol.dispose],c&&(e=d)}if("function"!=typeof d)throw TypeError("Object not disposable.");e&&(d=function(){try{e.call(this)}catch(a){return Promise.reject(a)}}),a.stack.push({value:b,dispose:d,async:c})}else c&&a.stack.push({async:!0});return b}var L="function"==typeof SuppressedError?SuppressedError:function(a,b,c){var d=Error(c);return d.name="SuppressedError",d.error=a,d.suppressed=b,d};function M(a){function b(b){a.error=a.hasError?new L(b,a.error,"An error was suppressed during disposal."):b,a.hasError=!0}var c,d=0;function e(){for(;c=a.stack.pop();)try{if(!c.async&&1===d)return d=0,a.stack.push(c),Promise.resolve().then(e);if(c.dispose){var f=c.dispose.call(c.value);if(c.async)return d|=2,Promise.resolve(f).then(e,function(a){return b(a),e()})}else d|=1}catch(a){b(a)}if(1===d)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return e()}function N(a,b){return"string"==typeof a&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,c,d,e,f){return c?b?".jsx":".js":!d||e&&f?d+e+"."+f.toLowerCase()+"js":a}):a}let O={__extends:e,__assign:f,__rest:g,__decorate:h,__param:i,__esDecorate:j,__runInitializers:k,__propKey:l,__setFunctionName:m,__metadata:o,__awaiter:p,__generator:q,__createBinding:r,__exportStar:s,__values:t,__read:u,__spread:v,__spreadArrays:w,__spreadArray:x,__await:y,__asyncGenerator:z,__asyncDelegator:A,__asyncValues:B,__makeTemplateObject:C,__importStar:F,__importDefault:G,__classPrivateFieldGet:H,__classPrivateFieldSet:I,__classPrivateFieldIn:J,__addDisposableResource:K,__disposeResources:M,__rewriteRelativeImportExtension:N}},92974:(a,b,c)=>{"use strict";c.d(b,{D4:()=>h,lF:()=>g});var d=c(4573),e=c(94757);function f(a){let b=a;return b instanceof Uint8Array&&(b=e.D0.decode(b)),b}let g=a=>d.Buffer.from(a).toString("base64url"),h=a=>new Uint8Array(d.Buffer.from(f(a),"base64url"))},92991:(a,b,c)=>{"use strict";c.d(b,{l:()=>l});var d=c(55900),e=c(83038),f=c(75423),g=c(33334),h=c(57819),i=c(53216),j=c(42526),k=c(86586);async function l(){let{payload:a}=this,b=await (0,d.I)({payload:a}),{existingMigrations:c}=await (0,e.A)({payload:a});if(!c?.length)return void a.logger.info({msg:"No migrations to reset."});let l=await (0,f.M)({},a);for(let d of(c.reverse(),c)){let c=b.find(a=>a.name===d.name);try{if(!c)throw Error(`Migration ${d.name} not found locally.`);let b=Date.now();a.logger.info({msg:`Migrating down: ${c.name}`}),await (0,g.n)(l);let e=await (0,j.x)(this,l);await c.down({db:e,payload:a,req:l}),a.logger.info({msg:`Migrated down:  ${c.name} (${Date.now()-b}ms)`}),await (0,k.r)(this,e)&&await a.delete({id:d.id,collection:"payload-migrations",req:l}),await (0,h.w)(l)}catch(d){let b=`Error running migration ${c.name}.`;d instanceof Error&&(b+=` ${d.message}`),await (0,i.J)(l),a.logger.error({err:d,msg:b}),process.exit(1)}}if(await (0,k.r)(this))try{await a.delete({collection:"payload-migrations",where:{batch:{equals:-1}}})}catch(b){a.logger.error({err:b,msg:"Error deleting dev migration"})}}},93101:(a,b)=>{"use strict";async function c(a,b){let c=0,d=[],e=a.getReader(),f=!1;for(;!f;){let{done:a,value:g}=await e.read();if(g&&(d.push(g),c+=g?.byteLength??0),c>=b)break;f=a}e.releaseLock();let g=new Uint8Array(Math.min(b,c)),h=0;for(let a of d){if(a.byteLength>g.byteLength-h){g.set(a.subarray(0,g.byteLength-h),h);break}g.set(a,h),h+=a.length}return g}Object.defineProperty(b,"__esModule",{value:!0}),b.headStream=c},93109:(a,b,c)=>{"use strict";c.d(b,{A:()=>f,b:()=>e});var d=c(36659);let e=a=>{let b=new Date;return a.filter(({expiresAt:a})=>(a instanceof Date?a:new Date(a))>b)},f=async({collectionConfig:a,payload:b,req:c,user:f})=>{let g;if(a.auth.useSessions){g=(0,d.A)();let h=new Date,i=1e3*a.auth.tokenExpiration,j=new Date(h.getTime()+i),k={id:g,createdAt:h,expiresAt:j};f.sessions?.length?(f.sessions=e(f.sessions),f.sessions.push(k)):f.sessions=[k],f.updatedAt=new Date().toISOString(),await b.db.updateOne({id:f.id,collection:a.slug,data:f,req:c,returning:!1}),f.collection=a.slug,f._strategy="local-jwt"}return{sid:g}}},93110:(a,b,c)=>{"use strict";a.exports=g;let{isMainThread:d}=c(73566),e=c(1689),f=c(57015);function g(a){let b=new e(a);return b.on("error",c),process.env.NODE_V8_COVERAGE||a.sync||!d||h(b),b;function c(a){if("EPIPE"===a.code){b.write=f,b.end=f,b.flushSync=f,b.destroy=f;return}b.removeListener("error",c)}}function h(a){if(global.WeakRef&&global.WeakMap&&global.FinalizationRegistry){let b=c(47512);b.register(a,i),a.on("close",function(){b.unregister(a)})}}function i(a,b){a.destroyed||("beforeExit"===b?(a.flush(),a.on("drain",function(){a.end()})):a.flushSync())}},93226:(a,b,c)=>{"use strict";c.d(b,{s:()=>f});var d=c(38200),e=c(64319);async function f({collection:a,draftsEnabled:b,joins:c,locale:f,req:g,select:h,where:i}){let j=this.payload.collections[a].config,k=this.tableNameMap.get(d(j.slug)),{docs:l}=await (0,e.n)({adapter:this,collectionSlug:a,draftsEnabled:b,fields:j.flattenedFields,joins:c,limit:1,locale:f,page:1,pagination:!1,req:g,select:h,sort:void 0,tableName:k,where:i});return l?.[0]||null}},93311:(a,b,c)=>{"use strict";var d=c(64373),e=c(52032),f=c(74666),g=c(14351),h=c(4762)||g||f;a.exports=function(){var a,b={assert:function(a){if(!b.has(a))throw new d("Side channel does not contain "+e(a))},delete:function(b){return!!a&&a.delete(b)},get:function(b){return a&&a.get(b)},has:function(b){return!!a&&a.has(b)},set:function(b,c){a||(a=h()),a.set(b,c)}};return b}},93313:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let e=d(c(88480)),f=d(c(42735));b.default=a=>0===a?0:a<32||a>=127&&a<160?-1:(0,f.default)(a,e.default,e.default.length-1)?0:1+Number(a>=4352&&(a<=4447||9001===a||9002===a||a>=11904&&a<=42191&&12351!==a||a>=44032&&a<=55203||a>=63744&&a<=64255||a>=65040&&a<=65049||a>=65072&&a<=65135||a>=65280&&a<=65376||a>=65504&&a<=65510||a>=131072&&a<=196605||a>=196608&&a<=262141))},93507:(a,b,c)=>{"use strict";a.exports={buildSafeSonicBoom:c(93110),createDate:c(54872),deleteLogProperty:c(17573),filterLog:c(40234),formatTime:c(70612),getPropertyValue:c(5873),handleCustomLevelsNamesOpts:c(55467),handleCustomLevelsOpts:c(32628),interpretConditionals:c(5986),isObject:c(46755),isValidDate:c(24797),joinLinesWithIndentation:c(42012),noop:c(57015),parseFactoryOptions:c(95316),prettifyErrorLog:c(77258),prettifyError:c(65942),prettifyLevel:c(59969),prettifyMessage:c(49564),prettifyMetadata:c(6850),prettifyObject:c(21036),prettifyTime:c(76102),splitPropertyKey:c(90751),getLevelLabelData:c(6232)}},93513:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(47539);function e(a){switch(a){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new d.T0(`alg ${a} is not supported either by JOSE or your javascript runtime`)}}},93562:(a,b,c)=>{"use strict";c.d(b,{L:()=>g});var d=c(27910);async function e(a){return"function"==typeof a.stream&&(a=a.stream()),a.tee()}var f=c(8731);async function g(a){if((0,f.H)(a)||(0,f.q)(a))return e(a);let b=new d.PassThrough,c=new d.PassThrough;return a.pipe(b),a.pipe(c),[b,c]}},93603:(a,b,c)=>{"use strict";let d=c(90165),e=c(32741),{erase:f,cursor:g}=c(1298),{style:h,clear:i,figures:j,wrap:k,entriesToDisplay:l}=c(67406),m=(a,b)=>a[b]&&(a[b].value||a[b].title||a[b]),o=(a,b)=>a[b]&&(a[b].title||a[b].value||a[b]),p=(a,b)=>{let c=a.findIndex(a=>a.value===b||a.title===b);return c>-1?c:void 0};class q extends e{constructor(a={}){super(a),this.msg=a.message,this.suggest=a.suggest,this.choices=a.choices,this.initial="number"==typeof a.initial?a.initial:p(a.choices,a.initial),this.select=this.initial||a.cursor||0,this.i18n={noMatches:a.noMatches||"no matches found"},this.fallback=a.fallback||this.initial,this.clearFirst=a.clearFirst||!1,this.suggestions=[],this.input="",this.limit=a.limit||10,this.cursor=0,this.transform=h.render(a.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=i("",this.out.columns),this.complete(this.render),this.render()}set fallback(a){this._fb=Number.isSafeInteger(parseInt(a))?parseInt(a):a}get fallback(){let a;return"number"==typeof this._fb?a=this.choices[this._fb]:"string"==typeof this._fb&&(a={title:this._fb}),a||this._fb||{title:this.i18n.noMatches}}moveSelect(a){this.select=a,this.suggestions.length>0?this.value=m(this.suggestions,a):this.value=this.fallback.value,this.fire()}async complete(a){let b=this.completing=this.suggest(this.input,this.choices),c=await b;if(this.completing!==b)return;this.suggestions=c.map((a,b,c)=>({title:o(c,b),value:m(c,b),description:a.description})),this.completing=!1;let d=Math.max(c.length-1,0);this.moveSelect(Math.min(d,this.select)),a&&a()}reset(){this.input="",this.complete(()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(a,b){let c=this.input.slice(0,this.cursor),d=this.input.slice(this.cursor);this.input=`${c}${a}${d}`,this.cursor=c.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let a=this.input.slice(0,this.cursor-1),b=this.input.slice(this.cursor);this.input=`${a}${b}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let a=this.input.slice(0,this.cursor),b=this.input.slice(this.cursor+1);this.input=`${a}${b}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(a,b,c,e){let f,g=c?j.arrowUp:e?j.arrowDown:" ",h=b?d.cyan().underline(a.title):a.title;return g=(b?d.cyan(j.pointer)+" ":"  ")+g,a.description&&(f=` - ${a.description}`,(g.length+h.length+f.length>=this.out.columns||a.description.split(/\r?\n/).length>1)&&(f="\n"+k(a.description,{margin:3,width:this.out.columns}))),g+" "+h+d.gray(f||"")}render(){if(this.closed)return;this.firstRender?this.out.write(g.hide):this.out.write(i(this.outputText,this.out.columns)),super.render();let{startIndex:a,endIndex:b}=l(this.select,this.choices.length,this.limit);if(this.outputText=[h.symbol(this.done,this.aborted,this.exited),d.bold(this.msg),h.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let c=this.suggestions.slice(a,b).map((c,d)=>this.renderOption(c,this.select===d+a,0===d&&a>0,d+a===b-1&&b<this.choices.length)).join("\n");this.outputText+=`
`+(c||d.gray(this.fallback.title))}this.out.write(f.line+g.to(0)+this.outputText)}}a.exports=q},93668:(a,b,c)=>{"use strict";c.d(b,{Hj:()=>h,Ko:()=>i,Oi:()=>g,rw:()=>f});var d=c(51636),e=c(61720);let f="AWS_USE_FIPS_ENDPOINT",g="use_fips_endpoint",h=!1,i={environmentVariableSelector:a=>(0,d.Q)(a,f,e.c.ENV),configFileSelector:a=>(0,d.Q)(a,g,e.c.CONFIG),default:!1}},93791:a=>{"use strict";a.exports=Math.max},93820:(a,b,c)=>{"use strict";c.d(b,{xr:()=>j,xA:()=>i,uv:()=>k});var d=c(16063);let e=a=>{let b=[];for(let c in d.dB){let e=d.dB[c];void 0!==a[e]&&b.push({algorithmId:()=>e,checksumConstructor:()=>a[e]})}return{addChecksumAlgorithm(a){b.push(a)},checksumAlgorithms:()=>b}},f=a=>{let b={};return a.checksumAlgorithms().forEach(a=>{b[a.algorithmId()]=a.checksumConstructor()}),b},g=a=>({setRetryStrategy(b){a.retryStrategy=b},retryStrategy:()=>a.retryStrategy}),h=a=>{let b={};return b.retryStrategy=a.retryStrategy(),b},i=a=>Object.assign(e(a),g(a)),j=i,k=a=>Object.assign(f(a),h(a))},93918:(a,b,c)=>{"use strict";c.d(b,{Q:()=>e,r:()=>g});var d=c(27661);let e=({block:a})=>({...a,flattenedFields:g({fields:a.fields})}),f=new Map,g=({cache:a,fields:b})=>{if(a){let a=f.get(b);if(a)return a}let c=[];for(let a of b)switch(a.type){case"array":case"group":if((0,d.Z7)(a))c.push({...a,flattenedFields:g({fields:a.fields})});else for(let b of g({fields:a.fields}))c.push(b);break;case"blocks":{let b,d=[];if(a.blockReferences)for(let c of(b=[],a.blockReferences)){if("string"==typeof c){b.push(c);continue}b.push(e({block:c}))}else for(let b of a.blocks){if("string"==typeof b){d.push(b);continue}d.push(e({block:b}))}let f={...a,blockReferences:b,blocks:d};c.push(f);break}case"collapsible":case"row":for(let b of g({fields:a.fields}))c.push(b);break;case"join":c.push(a);break;case"tabs":for(let b of a.tabs)if((0,d.pz)(b))c.push({...b,type:"tab",flattenedFields:g({fields:b.fields})});else for(let a of g({fields:b.fields}))c.push(a);break;default:"ui"!==a.type&&c.push(a)}return f.set(b,c),c}},93940:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(55613),e=c(86397),f=c(13491),g=c(49943);b.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:a})=>(0,e._)`{additionalProperty: ${a.additionalProperty}}`},code(a){let{gen:b,schema:c,parentSchema:h,data:i,errsCount:j,it:k}=a;if(!j)throw Error("ajv implementation error");let{allErrors:l,opts:m}=k;if(k.props=!0,"all"!==m.removeAdditional&&(0,g.alwaysValidSchema)(k,c))return;let o=(0,d.allSchemaProperties)(h.properties),p=(0,d.allSchemaProperties)(h.patternProperties);function q(c){let f;if(o.length>8){let a=(0,g.schemaRefOrVal)(k,h.properties,"properties");f=(0,d.isOwnProperty)(b,a,c)}else f=o.length?(0,e.or)(...o.map(a=>(0,e._)`${c} === ${a}`)):e.nil;return p.length&&(f=(0,e.or)(f,...p.map(b=>(0,e._)`${(0,d.usePattern)(a,b)}.test(${c})`))),(0,e.not)(f)}function r(a){b.code((0,e._)`delete ${i}[${a}]`)}function s(d){if("all"===m.removeAdditional||m.removeAdditional&&!1===c)return void r(d);if(!1===c){a.setParams({additionalProperty:d}),a.error(),l||b.break();return}if("object"==typeof c&&!(0,g.alwaysValidSchema)(k,c)){let c=b.name("valid");"failing"===m.removeAdditional?(t(d,c,!1),b.if((0,e.not)(c),()=>{a.reset(),r(d)})):(t(d,c),l||b.if((0,e.not)(c),()=>b.break()))}}function t(b,c,d){let e={keyword:"additionalProperties",dataProp:b,dataPropType:g.Type.Str};!1===d&&Object.assign(e,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(e,c)}(function a(){b.forIn("key",i,a=>{o.length||p.length?b.if(q(a),()=>s(a)):s(a)})})(),a.ok((0,e._)`${j} === ${f.default.errors}`)}}},93968:(a,b,c)=>{"use strict";c.d(b,{S:()=>d});let d=a=>{if(null==a)return{};if(Array.isArray(a))return a.filter(a=>null!=a).map(d);if("object"==typeof a){let b={};for(let c of Object.keys(a))null!=a[c]&&(b[c]=d(a[c]));return b}return a}},94110:(a,b,c)=>{"use strict";function d(a,b){if(b.timestampFormat.useTrait&&a.isTimestampSchema()&&(5===a.getSchema()||6===a.getSchema()||7===a.getSchema()))return a.getSchema();let{httpLabel:c,httpPrefixHeaders:d,httpHeader:e,httpQuery:f}=a.getMergedTraits();return(b.httpBindings?"string"==typeof d||e?6:f||c?5:void 0:void 0)??b.timestampFormat.default}c.d(b,{V:()=>d})},94169:a=>{"use strict";a.exports=Error},94324:(a,b,c)=>{"use strict";c.d(b,{T:()=>G});var d=c(8507),e=c(58725),f=c(50474),g=c(78690),h=c(58328),i=c(65099),j=c(64554),k=c(67405);let l=new Set(["http:","https:","mailto:","sms:","tel:"]);class m extends i.fGB{__fields;__id;constructor({id:a,fields:b={linkType:"custom",newTab:!1},key:c}){super(c),this.__fields=b,this.__id=a}static clone(a){return new m({id:a.__id,fields:a.__fields,key:a.__key})}static getType(){return"link"}static importDOM(){return{a:a=>({conversion:o,priority:1})}}static importJSON(a){let b=p({}).updateFromJSON(a);return 1===a.version&&"object"==typeof a.fields?.doc?.value&&a.fields?.doc?.value?.id&&(a.fields.doc.value=a.fields.doc.value.id,a.version=2),2!==a.version||a.id||(a.id=new k.default().toHexString(),a.version=3),b}canBeEmpty(){return!1}canInsertTextAfter(){return!1}canInsertTextBefore(){return!1}createDOM(a){let b=document.createElement("a");return this.__fields?.linkType==="custom"&&(b.href=this.sanitizeUrl(this.__fields.url??"")),this.__fields?.newTab&&(b.target="_blank"),this.__fields?.newTab===!0&&this.__fields?.linkType==="custom"&&(b.rel=r(b.rel,"add","noopener")),(0,j.ZB)(b,a.theme.link),b}exportJSON(){let a=this.getFields();a?.linkType==="internal"?delete a.url:a?.linkType==="custom"&&delete a.doc;let b={...super.exportJSON(),type:"link",fields:a,version:3},c=this.getID();return c&&(b.id=c),b}extractWithChild(a,b,c){if(!(0,i.I2P)(b))return!1;let d=b.anchor.getNode(),e=b.focus.getNode();return this.isParentOf(d)&&this.isParentOf(e)&&b.getTextContent().length>0}getFields(){return this.getLatest().__fields}getID(){return this.getLatest().__id}insertNewAfter(a,b=!0){let c=this.getParentOrThrow().insertNewAfter(a,b);if((0,i.ff4)(c)){let a=p({fields:this.__fields});return c.append(a),a}return null}isInline(){return!0}sanitizeUrl(a){try{let b=new URL(a);if(!l.has(b.protocol))return"about:blank"}catch(a){return"https://"}return a}setFields(a){let b=this.getWritable();return b.__fields=a,b}setID(a){let b=this.getWritable();return b.__id=a,b}updateDOM(a,b,c){let d=this.__fields?.url,e=this.__fields?.newTab;return null!=d&&d!==a.__fields?.url&&this.__fields?.linkType==="custom"&&(b.href=d),this.__fields?.linkType==="internal"&&a.__fields?.linkType==="custom"&&b.removeAttribute("href"),null==b.rel&&(b.rel=""),e!==a.__fields?.newTab&&(e?(b.target="_blank",this.__fields?.linkType==="custom"&&(b.rel=r(b.rel,"add","noopener"))):(b.removeAttribute("target"),b.rel=r(b.rel,"remove","noopener"))),!1}updateFromJSON(a){return super.updateFromJSON(a).setFields(a.fields).setID(a.id)}}function o(a){let b=null;if((0,i.nYP)(a)){let c=a.textContent;null!==c&&""!==c&&(b=p({id:new k.default().toHexString(),fields:{doc:null,linkType:"custom",newTab:"_blank"===a.getAttribute("target"),url:a.getAttribute("href")??""}}))}return{node:b}}function p({id:a,fields:b}){return(0,i.pTq)(new m({id:a??new k.default().toHexString(),fields:b}))}function q(a){return a instanceof m}function r(a,b,c){let d,e=`${a}`;if("add"===b){if(e.includes(c)){let a=RegExp(c,"g");e=e.replace(a,"").trim()}d=0===(e=e.trim()).length?`${c}`:`${e} ${c}`}else{let a=RegExp(c,"g");d=e.replace(a,"").trim()}return d}(0,i.guI)("TOGGLE_LINK_COMMAND");let s={type:"text-match",dependencies:[m],export:(a,b)=>{if(!q(a))return null;let c=a,{url:d}=c.getFields(),e=b(c);return`[${e}](${d})`},importRegExp:/\[([^[]+)\]\(([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?\)/,regExp:/\[([^[]+)\]\(([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?\)$/,replace:(a,b)=>{let[,c,d]=b,e=p({fields:{doc:null,linkType:"custom",newTab:!1,url:d}}),f=(0,i.sTu)(c);return f.setFormat(a.getFormat()),e.append(f),a.replace(e),f},trigger:")"};class t extends m{static clone(a){return new t({id:"",fields:a.__fields,key:a.__key})}static getType(){return"autolink"}static importDOM(){return null}static importJSON(a){let b=u({}).updateFromJSON(a);return 1===a.version&&"object"==typeof a.fields?.doc?.value&&a.fields?.doc?.value?.id&&(a.fields.doc.value=a.fields.doc.value.id,a.version=2),b}exportJSON(){let a=super.exportJSON();return{type:"autolink",children:a.children,direction:a.direction,fields:a.fields,format:a.format,indent:a.indent,version:2}}insertNewAfter(a,b=!0){let c=this.getParentOrThrow().insertNewAfter(a,b);if((0,i.ff4)(c)){let a=u({fields:this.__fields});return c.append(a),a}return null}updateFromJSON(a){return super.updateFromJSON(a).setFields(a.fields)}}function u({fields:a}){return(0,i.pTq)(new t({id:"",fields:a}))}var v=c(38886);let w=a=>({context:b,currentDepth:c,depth:d,draft:e,editorPopulationPromises:f,field:g,fieldPromises:h,findMany:i,flattenLocales:j,node:k,overrideAccess:l,parentIsLocalized:m,populationPromises:o,req:p,showHiddenFields:q})=>{a.fields?.length&&Array.isArray(a.fields)&&(0,v.V)({context:b,currentDepth:c,data:k.fields,depth:d,draft:e,editorPopulationPromises:f,fieldPromises:h,fields:a.fields,findMany:i,flattenLocales:j,overrideAccess:l,parentIsLocalized:m||g.localized||!1,populationPromises:o,req:p,showHiddenFields:q,siblingDoc:k.fields})},x={ar:{label:"رابط",loadingWithEllipsis:"جار التحميل..."},az:{label:"Ke\xe7id",loadingWithEllipsis:"Y\xfcklənir..."},bg:{label:"Връзка",loadingWithEllipsis:"Зарежда се..."},cs:{label:"Odkaz",loadingWithEllipsis:"Nač\xedt\xe1n\xed..."},da:{label:"Link",loadingWithEllipsis:"Indl\xe6ser..."},de:{label:"Verkn\xfcpfung",loadingWithEllipsis:"Laden..."},en:{label:"Link",loadingWithEllipsis:"Loading..."},es:{label:"Enlace",loadingWithEllipsis:"Cargando..."},et:{label:"Link",loadingWithEllipsis:"Laadimine..."},fa:{label:"پیوند",loadingWithEllipsis:"در حال بارگذاری..."},fr:{label:"Lien",loadingWithEllipsis:"Chargement..."},he:{label:"קישור",loadingWithEllipsis:"טוען..."},hr:{label:"Poveznica",loadingWithEllipsis:"Učitavanje..."},hu:{label:"Hivatkoz\xe1s",loadingWithEllipsis:"Bet\xf6lt\xe9s..."},is:{label:"Hlekkur",loadingWithEllipsis:"Hle\xf0..."},it:{label:"Collegamento",loadingWithEllipsis:"Caricamento..."},ja:{label:"リンク",loadingWithEllipsis:"読み込み中..."},ko:{label:"링크",loadingWithEllipsis:"로딩 중..."},my:{label:"လင့်",loadingWithEllipsis:"ဖွင့်နေသည်..."},nb:{label:"Lenke",loadingWithEllipsis:"Laster..."},nl:{label:"Link",loadingWithEllipsis:"Laden..."},pl:{label:"Łącze",loadingWithEllipsis:"Ładowanie..."},pt:{label:"Liga\xe7\xe3o",loadingWithEllipsis:"Carregando..."},ro:{label:"Legătură",loadingWithEllipsis:"Se \xeencarcă..."},rs:{label:"Веза",loadingWithEllipsis:"Учитавање..."},"rs-latin":{label:"Veza",loadingWithEllipsis:"Učitavanje..."},ru:{label:"Ссылка",loadingWithEllipsis:"Загрузка..."},sk:{label:"Odkaz",loadingWithEllipsis:"Nač\xedtava sa..."},sl:{label:"Povezava",loadingWithEllipsis:"Nalaganje..."},sv:{label:"L\xe4nk",loadingWithEllipsis:"Laddar..."},ta:{label:"இணைப்பு",loadingWithEllipsis:"போர்த்துவருகிறது..."},th:{label:"ลิงค์",loadingWithEllipsis:"กำลังโหลด..."},tr:{label:"Bağlantı",loadingWithEllipsis:"Y\xfckleniyor..."},uk:{label:"Посилання",loadingWithEllipsis:"Завантаження..."},vi:{label:"Li\xean kết",loadingWithEllipsis:"Đang tải..."},zh:{label:"链接",loadingWithEllipsis:"加载中..."},"zh-TW":{label:"連結",loadingWithEllipsis:"載入中..."}},y=/^(?:[a-zA-Z][a-zA-Z\d+.-]*:(?:\/\/)?(?:[-;:&=+$,\w]+@)?[A-Za-z\d]+(?:\.[A-Za-z\d]+)+|www\.[A-Za-z\d]+(?:\.[A-Za-z\d]+)+|(?:tel|mailto):[\w+.-]+)(?:\/[+~%/\w-]*)?(?:\?[-;&=%\w]*)?(?:#\w+)?$/,z=/^(?:\/[\w\-./]*(?:#\w[\w-]*)?|#[\w\-]+)$/;function A(a){return!!a&&!a.includes(" ")}function B(a){if(!a)return!1;if("https://"===a||y.test(a)||z.test(a))return!0;try{return new URL(a),!0}catch{}return!1}let C=(a,b,c,d)=>{let e;e=b||(c?a.collections.filter(({slug:a})=>!c.includes(a)).map(({slug:a})=>a):a.collections.filter(({admin:{enableRichTextLink:a,hidden:b}})=>("function"==typeof b||!b)&&a).map(({slug:a})=>a));let f=[{name:"text",type:"text",label:({t:a})=>a("fields:textToDisplay"),required:!0},{name:"linkType",type:"radio",admin:{description:({t:a})=>a("fields:chooseBetweenCustomTextOrDocument")},defaultValue:"custom",label:({t:a})=>a("fields:linkType"),options:[{label:({t:a})=>a("fields:customURL"),value:"custom"}],required:!0},{name:"url",type:"text",hooks:{beforeChange:[({value:a})=>{if(a)return B(a)?a:encodeURIComponent(a)}]},label:({t:a})=>a("fields:enterURL"),required:!0,validate:(a,b)=>{if(b?.siblingData?.linkType!=="internal"&&!A(a))return"Invalid URL"}}];return e?.length&&(f[1].options.push({label:({t:a})=>a("fields:internalLink"),value:"internal"}),f[2].admin={condition:(a,b)=>"internal"!==b.linkType},f.push({name:"doc",admin:{condition:(a,b)=>"internal"===b.linkType},type:"relationship",filterOptions:b||c?null:async({relationTo:b,req:c,user:d})=>{let e=a.collections.find(({slug:a})=>a===b)?.admin,f=e?.hidden;if("function"==typeof f&&f({user:d}))return!1;let g=e?.baseFilter??e?.baseListFilter;return await g?.({limit:0,page:1,req:c,sort:"id"})??!0},label:({t:a})=>a("fields:chooseDocumentToLink"),maxDepth:d,relationTo:e,required:!0})),f.push({name:"newTab",type:"checkbox",label:({t:a})=>a("fields:openInNewTab")}),f};function D(a,b,c,d,e){let f=C(b,c,d,e);return"function"==typeof a?a({config:b,defaultFields:f}):Array.isArray(a)?a:f}var E=c(7932);let F=(a,b)=>async({node:a,validation:{options:{id:c,collectionSlug:d,data:e,operation:f,preferences:g,req:h}}})=>{let i=await (0,E.d)({id:c,collectionSlug:d,data:a.fields,documentData:e,fields:b,fieldSchemaMap:void 0,initialBlockData:a.fields,operation:"create"===f||"update"===f?f:"update",permissions:{},preferences:g,renderAllFields:!1,req:h,schemaPath:""}),j=new Set;for(let a in i){let b=i[a];if(b?.errorPaths?.length)for(let a of b.errorPaths)j.add(a)}let k=Array.from(j);return!k.length||"The following fields are invalid: "+k.join(", ")},G=(0,f.m)({feature:async({config:a,isRoot:b,parentIsLocalized:c,props:f})=>{f||(f={});let i=a.collections.map(a=>a.slug)||[],j=D(f.fields?f.fields:null,a,f.enabledCollections,f.disabledCollections,f.maxDepth),k=await (0,e.b)({config:a,fields:j,parentIsLocalized:c,requireFieldLevelRichTextEditor:b,validRelationships:i});f.fields=k;let l=k.filter(a=>!("name"in a)||"text"!==a.name),o=null,p=null;for(let a of k)"name"in a&&"linkType"===a.name&&(o=a),"name"in a&&"url"===a.name&&(p=a);return{ClientFeature:"@payloadcms/richtext-lexical/client#LinkFeatureClient",clientFeatureProps:{defaultLinkType:o?"defaultValue"in o&&"string"==typeof o.defaultValue?o.defaultValue:"custom":void 0,defaultLinkURL:p?"defaultValue"in p&&"string"==typeof p.defaultValue?p.defaultValue:"https://":void 0,disableAutoLinks:f.disableAutoLinks,disabledCollections:f.disabledCollections,enabledCollections:f.enabledCollections},generateSchemaMap:()=>{if(!k||!Array.isArray(k)||0===k.length)return null;let a=new Map;return a.set("fields",{fields:k}),a},i18n:x,markdownTransformers:[s],nodes:[f?.disableAutoLinks===!0?null:(0,h.R)({converters:{html:{converter:async({converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:f,parent:h,req:i,showHiddenFields:j})=>{let k=await (0,g.D)({converters:a,currentDepth:b,depth:c,draft:d,lexicalNodes:e.children,overrideAccess:f,parent:{...e,parent:h},req:i,showHiddenFields:j}),l=e.fields.url??"";return"internal"===e.fields.linkType&&(l="object"!=typeof e.fields.doc?.value?String(e.fields.doc?.value):String(e.fields.doc?.value?.id)),`<a href="${l}"${e.fields.newTab?' rel="noopener noreferrer" target="_blank"':""}>${k}</a>`},nodeTypes:[t.getType()]}},node:t,validations:[F(f,l)]}),(0,h.R)({converters:{html:{converter:async({converters:a,currentDepth:b,depth:c,draft:e,node:f,overrideAccess:h,parent:i,req:j,showHiddenFields:k})=>{let l=await (0,g.D)({converters:a,currentDepth:b,depth:c,draft:e,lexicalNodes:f.children,overrideAccess:h,parent:{...f,parent:i},req:j,showHiddenFields:k}),m="custom"===f.fields.linkType?d(f.fields.url):f.fields.doc?.value;return`<a href="${m}"${f.fields.newTab?' rel="noopener noreferrer" target="_blank"':""}>${l}</a>`},nodeTypes:[m.getType()]}},getSubFields:()=>l,getSubFieldsData:({node:a})=>a?.fields,graphQLPopulationPromises:[w(f)],node:m,validations:[F(f,l)]})].filter(Boolean),sanitizedServerFeatureProps:f}},key:"link"})},94428:(a,b,c)=>{let d={unstable_cache:c(81953).e,revalidateTag:c(23661).revalidateTag,revalidatePath:c(23661).revalidatePath,unstable_expireTag:c(23661).unstable_expireTag,unstable_expirePath:c(23661).unstable_expirePath,unstable_noStore:c(37392).M,unstable_cacheLife:c(97037).F,unstable_cacheTag:c(8363).z};a.exports=d,b.unstable_cache=d.unstable_cache,b.revalidatePath=d.revalidatePath,b.revalidateTag=d.revalidateTag,b.unstable_expireTag=d.unstable_expireTag,b.unstable_expirePath=d.unstable_expirePath,b.unstable_noStore=d.unstable_noStore,b.unstable_cacheLife=d.unstable_cacheLife,b.unstable_cacheTag=d.unstable_cacheTag},94441:(a,b,c)=>{"use strict";c.d(b,{jo:()=>A,D:()=>C});var d=c(37593),e=c(56704),f=c(39773),g=c(18616);class h extends g.o{static [d.i]="SQLiteBigIntBuilder";constructor(a){super(a,"bigint","SQLiteBigInt")}build(a){return new i(a,this.config)}}class i extends g.v{static [d.i]="SQLiteBigInt";getSQLType(){return"blob"}mapFromDriverValue(a){return"undefined"!=typeof Buffer&&Buffer.from?BigInt((Buffer.isBuffer(a)?a:a instanceof ArrayBuffer?Buffer.from(a):a.buffer?Buffer.from(a.buffer,a.byteOffset,a.byteLength):Buffer.from(a)).toString("utf8")):BigInt(f.su.decode(a))}mapToDriverValue(a){return Buffer.from(a.toString())}}class j extends g.o{static [d.i]="SQLiteBlobJsonBuilder";constructor(a){super(a,"json","SQLiteBlobJson")}build(a){return new k(a,this.config)}}class k extends g.v{static [d.i]="SQLiteBlobJson";getSQLType(){return"blob"}mapFromDriverValue(a){return"undefined"!=typeof Buffer&&Buffer.from?JSON.parse((Buffer.isBuffer(a)?a:a instanceof ArrayBuffer?Buffer.from(a):a.buffer?Buffer.from(a.buffer,a.byteOffset,a.byteLength):Buffer.from(a)).toString("utf8")):JSON.parse(f.su.decode(a))}mapToDriverValue(a){return Buffer.from(JSON.stringify(a))}}class l extends g.o{static [d.i]="SQLiteBlobBufferBuilder";constructor(a){super(a,"buffer","SQLiteBlobBuffer")}build(a){return new m(a,this.config)}}class m extends g.v{static [d.i]="SQLiteBlobBuffer";mapFromDriverValue(a){return Buffer.isBuffer(a)?a:Buffer.from(a)}getSQLType(){return"blob"}}function o(a,b){let{name:c,config:d}=(0,f.Ll)(a,b);return d?.mode==="json"?new j(c):d?.mode==="bigint"?new h(c):new l(c)}class p extends g.o{static [d.i]="SQLiteCustomColumnBuilder";constructor(a,b,c){super(a,"custom","SQLiteCustomColumn"),this.config.fieldConfig=b,this.config.customTypeParams=c}build(a){return new q(a,this.config)}}class q extends g.v{static [d.i]="SQLiteCustomColumn";sqlName;mapTo;mapFrom;constructor(a,b){super(a,b),this.sqlName=b.customTypeParams.dataType(b.fieldConfig),this.mapTo=b.customTypeParams.toDriver,this.mapFrom=b.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(a){return"function"==typeof this.mapFrom?this.mapFrom(a):a}mapToDriverValue(a){return"function"==typeof this.mapTo?this.mapTo(a):a}}function r(a){return(b,c)=>{let{name:d,config:e}=(0,f.Ll)(b,c);return new p(d,e,a)}}var s=c(20813),t=c(67624);class u extends g.o{static [d.i]="SQLiteRealBuilder";constructor(a){super(a,"number","SQLiteReal")}build(a){return new v(a,this.config)}}class v extends g.v{static [d.i]="SQLiteReal";getSQLType(){return"real"}}function w(a){return new u(a??"")}var x=c(74196);function y(){return{blob:o,customType:r,integer:s.nd,numeric:t.sH,real:w,text:x.Qq}}let z=Symbol.for("drizzle:SQLiteInlineForeignKeys");class A extends e.XI{static [d.i]="SQLiteTable";static Symbol=Object.assign({},e.XI.Symbol,{InlineForeignKeys:z});[e.XI.Symbol.Columns];[z]=[];[e.XI.Symbol.ExtraConfigBuilder]=void 0}function B(a,b,c,d,f=a){let g=new A(a,d,f),h=Object.fromEntries(Object.entries("function"==typeof b?b(y()):b).map(([a,b])=>{let c=b;c.setName(a);let d=c.build(g);return g[z].push(...c.buildForeignKeys(d,g)),[a,d]})),i=Object.assign(g,h);return i[e.XI.Symbol.Columns]=h,i[e.XI.Symbol.ExtraConfigColumns]=h,c&&(i[A.Symbol.ExtraConfigBuilder]=c),i}let C=(a,b,c)=>B(a,b,c)},94585:(a,b,c)=>{"use strict";c.d(b,{w:()=>t,$:()=>u});var d=c(42887),e=c(14822),f=c(81630),g=c(55591);let h=["ECONNRESET","EPIPE","ETIMEDOUT"];var i=c(40048),j=c(56533);let k=1e3,l=(a,b,c=0)=>{if(!c)return -1;let d=d=>{let e=j.N.setTimeout(()=>{a.destroy(),b(Object.assign(Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${c} ms.`),{name:"TimeoutError"}))},c-d),f=a=>{a?.connecting?a.on("connect",()=>{j.N.clearTimeout(e)}):j.N.clearTimeout(e)};a.socket?f(a.socket):a.on("socket",f)};return c<2e3?(d(0),0):j.N.setTimeout(d.bind(null,k),k)},m=(a,b,c=0,d,e)=>c?j.N.setTimeout(()=>{let f=`@smithy/node-http-handler - [${d?"ERROR":"WARN"}] a request has exceeded the configured ${c} ms requestTimeout.`;if(d){let c=Object.assign(Error(f),{name:"TimeoutError",code:"ETIMEDOUT"});a.destroy(c),b(c)}else f+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",e?.warn?.(f)},c):-1,o=3e3,p=(a,{keepAlive:b,keepAliveMsecs:c},d=o)=>{if(!0!==b)return -1;let e=()=>{a.socket?a.socket.setKeepAlive(b,c||0):a.on("socket",a=>{a.setKeepAlive(b,c||0)})};return 0===d?(e(),0):j.N.setTimeout(e,d)},q=3e3,r=(a,b,c=0)=>{let d=d=>{let e=c-d,f=()=>{a.destroy(),b(Object.assign(Error(`@smithy/node-http-handler - the request socket timed out after ${c} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};a.socket?(a.socket.setTimeout(e,f),a.on("close",()=>a.socket?.removeListener("timeout",f))):a.setTimeout(e,f)};return 0<c&&c<6e3?(d(0),0):j.N.setTimeout(d.bind(null,0===c?0:q),q)};var s=c(80249);let t=0;class u{config;configProvider;socketWarningTimestamp=0;metadata={handlerProtocol:"http/1.1"};static create(a){return"function"==typeof a?.handle?a:new u(a)}static checkSocketUsage(a,b,c=console){let{sockets:d,requests:e,maxSockets:f}=a;if("number"!=typeof f||f===1/0)return b;let g=15e3;if(Date.now()-g<b)return b;if(d&&e)for(let a in d){let b=d[a]?.length??0,g=e[a]?.length??0;if(b>=f&&g>=2*f)return c?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${b} and ${g} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return b}constructor(a){this.configProvider=new Promise((b,c)=>{"function"==typeof a?a().then(a=>{b(this.resolveDefaultConfig(a))}).catch(c):b(this.resolveDefaultConfig(a))})}resolveDefaultConfig(a){let{requestTimeout:b,connectionTimeout:c,socketTimeout:d,socketAcquisitionWarningTimeout:e,httpAgent:h,httpsAgent:i,throwOnRequestTimeout:j}=a||{},k=!0,l=50;return{connectionTimeout:c,requestTimeout:b,socketTimeout:d,socketAcquisitionWarningTimeout:e,throwOnRequestTimeout:j,httpAgent:h instanceof f.Agent||"function"==typeof h?.destroy?h:new f.Agent({keepAlive:k,maxSockets:l,...h}),httpsAgent:i instanceof g.Agent||"function"==typeof i?.destroy?i:new g.Agent({keepAlive:k,maxSockets:l,...i}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(a,{abortSignal:b,requestTimeout:c}={}){return this.config||(this.config=await this.configProvider),new Promise((k,o)=>{let q,t,v=[],w=async a=>{await q,v.forEach(j.N.clearTimeout),k(a)},x=async a=>{await q,v.forEach(j.N.clearTimeout),o(a)};if(!this.config)throw Error("Node HTTP request handler config is not resolved");if(b?.aborted){let a=Error("Request aborted");a.name="AbortError",x(a);return}let y="https:"===a.protocol,z=y?this.config.httpsAgent:this.config.httpAgent;v.push(j.N.setTimeout(()=>{this.socketWarningTimestamp=u.checkSocketUsage(z,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let A=(0,e.buildQueryString)(a.query||{});if(null!=a.username||null!=a.password){let b=a.username??"",c=a.password??"";t=`${b}:${c}`}let B=a.path;A&&(B+=`?${A}`),a.fragment&&(B+=`#${a.fragment}`);let C=a.hostname??"";C="["===C[0]&&C.endsWith("]")?a.hostname.slice(1,-1):a.hostname;let D={headers:a.headers,host:C,method:a.method,path:B,port:a.port,agent:z,auth:t},E=(y?g.request:f.request)(D,a=>{w({response:new d.c({statusCode:a.statusCode||-1,reason:a.statusMessage,headers:(0,i.u)(a.headers),body:a})})});if(E.on("error",a=>{h.includes(a.code)?x(Object.assign(a,{name:"TimeoutError"})):x(a)}),b){let a=()=>{E.destroy();let a=Error("Request aborted");a.name="AbortError",x(a)};if("function"==typeof b.addEventListener){let c=b;c.addEventListener("abort",a,{once:!0}),E.once("close",()=>c.removeEventListener("abort",a))}else b.onabort=a}let F=c??this.config.requestTimeout;v.push(l(E,x,this.config.connectionTimeout)),v.push(m(E,x,F,this.config.throwOnRequestTimeout,this.config.logger??console)),v.push(r(E,x,this.config.socketTimeout));let G=D.agent;"object"==typeof G&&"keepAlive"in G&&v.push(p(E,{keepAlive:G.keepAlive,keepAliveMsecs:G.keepAliveMsecs})),q=(0,s.f)(E,a,F).catch(a=>(v.forEach(j.N.clearTimeout),o(a)))})}updateHttpClientConfig(a,b){this.config=void 0,this.configProvider=this.configProvider.then(c=>({...c,[a]:b}))}httpHandlerConfigs(){return this.config??{}}}},94757:(a,b,c)=>{"use strict";c.d(b,{D0:()=>e,Rd:()=>d,xW:()=>f});let d=new TextEncoder,e=new TextDecoder;function f(...a){let b=new Uint8Array(a.reduce((a,{length:b})=>a+b,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}},94772:(a,b,c)=>{"use strict";let d,{uid:e,states:f,sentCloseFrameState:g,emptyBuffer:h,opcodes:i}=c(51787),{parseExtensions:j,isClosed:k,isClosing:l,isEstablished:m,validateCloseCodeAndReason:o}=c(56664),{channels:p}=c(20471),{makeRequest:q}=c(78728),{fetching:r}=c(2461),{Headers:s,getHeadersList:t}=c(24415),{getDecodeSplit:u}=c(45293),{WebsocketFrameSend:v}=c(64119),w=c(34589);try{d=c(77598)}catch{}function x(a,b,c,d=!1){if(b??=null,c??="",d&&o(b,c),k(a.readyState)||l(a.readyState));else if(m(a.readyState))if(a.closeState.has(g.SENT)||a.closeState.has(g.RECEIVED))a.readyState=f.CLOSING;else{let d=new v;0!==c.length&&null===b&&(b=1e3),w(null===b||Number.isInteger(b)),null===b&&0===c.length?d.frameData=h:null!==b&&null===c?(d.frameData=Buffer.allocUnsafe(2),d.frameData.writeUInt16BE(b,0)):null!==b&&null!==c?(d.frameData=Buffer.allocUnsafe(2+Buffer.byteLength(c)),d.frameData.writeUInt16BE(b,0),d.frameData.write(c,2,"utf-8")):d.frameData=h,a.socket.write(d.createFrame(i.CLOSE)),a.closeState.add(g.SENT),a.readyState=f.CLOSING}else y(a),a.readyState=f.CLOSING}function y(a,b,c){m(a.readyState)&&x(a,b,c,!1),a.controller.abort(),a.socket?.destroyed===!1&&a.socket.destroy(),a.onFail(b,c)}a.exports={establishWebSocketConnection:function(a,b,c,g,h){let i=a;i.protocol="ws:"===a.protocol?"http:":"https:";let k=q({urlList:[i],client:c,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});h.headers&&(k.headersList=t(new s(h.headers)));let l=d.randomBytes(16).toString("base64");for(let a of(k.headersList.append("sec-websocket-key",l,!0),k.headersList.append("sec-websocket-version","13",!0),b))k.headersList.append("sec-websocket-protocol",a,!0);let m="permessage-deflate; client_max_window_bits";return k.headersList.append("sec-websocket-extensions",m,!0),r({request:k,useParallelQueue:!0,dispatcher:h.dispatcher,processResponse(a){let c;if("error"===a.type&&(g.readyState=f.CLOSED),"error"===a.type||101!==a.status)return void y(g,1002,"Received network error or non-101 status code.");if(0!==b.length&&!a.headersList.get("Sec-WebSocket-Protocol"))return void y(g,1002,"Server did not respond with sent protocols.");if(a.headersList.get("Upgrade")?.toLowerCase()!=="websocket")return void y(g,1002,'Server did not set Upgrade header to "websocket".');if(a.headersList.get("Connection")?.toLowerCase()!=="upgrade")return void y(g,1002,'Server did not set Connection header to "upgrade".');if(a.headersList.get("Sec-WebSocket-Accept")!==d.createHash("sha1").update(l+e).digest("base64"))return void y(g,1002,"Incorrect hash received in Sec-WebSocket-Accept header.");let h=a.headersList.get("Sec-WebSocket-Extensions");if(null!==h&&!(c=j(h)).has("permessage-deflate"))return void y(g,1002,"Sec-WebSocket-Extensions header does not match.");let i=a.headersList.get("Sec-WebSocket-Protocol");if(null!==i&&!u("sec-websocket-protocol",k.headersList).includes(i))return void y(g,1002,"Protocol was not set in the opening handshake.");a.socket.on("data",g.onSocketData),a.socket.on("close",g.onSocketClose),a.socket.on("error",g.onSocketError),p.open.hasSubscribers&&p.open.publish({address:a.socket.address(),protocol:i,extensions:h}),g.wasEverConnected=!0,g.onConnectionEstablished(a,c)}})},failWebsocketConnection:y,closeWebSocketConnection:x}},95087:(a,b,c)=>{"use strict";let d=c(44968),{erase:e,cursor:f}=c(1298),g=a=>[...d(a)].length;a.exports=function(a,b){if(!b)return e.line+f.to(0);let c=0;for(let d of a.split(/\r?\n/))c+=1+Math.floor(Math.max(g(d)-1,0)/b);return e.lines(c)}},95316:(a,b,c)=>{"use strict";a.exports=i;let{LEVEL_NAMES:d}=c(3612),e=c(74377),f=c(32628),g=c(55467),h=c(6232);function i(a){let b,c=a.crlf?"\r\n":"\n",i="    ",{customPrettifiers:j,errorLikeObjectKeys:k,hideObject:l,levelFirst:m,levelKey:o,levelLabel:p,messageFormat:q,messageKey:r,minimumLevel:s,singleLine:t,timestampKey:u,translateTime:v}=a,w=a.errorProps.split(","),x="boolean"==typeof a.useOnlyCustomProps?a.useOnlyCustomProps:"true"===a.useOnlyCustomProps,y=f(a.customLevels),z=g(a.customLevels),A=h(x,y,z);if(a.customColors)if("string"==typeof a.customColors)b=a.customColors.split(",").reduce((b,c)=>{let[e,f]=c.split(":"),g=(x?a.customLevels:void 0!==z[e])?z[e]:d[e],h=void 0!==g?g:e;return b.push([h,f]),b},[]);else if("object"==typeof a.customColors)b=Object.keys(a.customColors).reduce((b,c)=>{let[e,f]=[c,a.customColors[c]],g=(x?a.customLevels:void 0!==z[e])?z[e]:d[e],h=void 0!==g?g:e;return b.push([h,f]),b},[]);else throw Error("options.customColors must be of type string or object.");let B={customLevels:y,customLevelNames:z};!0!==x||a.customLevels||(B.customLevels=void 0,B.customLevelNames=void 0);let C=void 0!==a.include?new Set(a.include.split(",")):void 0,D=!C&&a.ignore?new Set(a.ignore.split(",")):void 0,E=e(a.colorize,b,x),F=a.colorizeObjects?E:e(!1,[],!1);return{EOL:c,IDENT:i,colorizer:E,customColors:b,customLevelNames:z,customLevels:y,customPrettifiers:j,customProperties:B,errorLikeObjectKeys:k,errorProps:w,getLevelLabelData:A,hideObject:l,ignoreKeys:D,includeKeys:C,levelFirst:m,levelKey:o,levelLabel:p,messageFormat:q,messageKey:r,minimumLevel:s,objectColorizer:F,singleLine:t,timestampKey:u,translateTime:v,useOnlyCustomProps:x}}},95323:(a,b,c)=>{"use strict";c.d(b,{R:()=>i});var d=c(65029),e=c(38200),f=c(64319),g=c(8615),h=c(42526);let i=async function({collection:a,req:b,where:c}){let i=await (0,h.x)(this,b),j=this.payload.collections[a].config,k=this.tableNameMap.get(e(j.slug)),l=this.tables[k],{joins:m,where:o}=(0,g.Z)({adapter:this,fields:j.flattenedFields,locale:b?.locale,tableName:k,where:c}),p=o;if(m?.length){let a=await (0,f.n)({adapter:this,fields:j.flattenedFields,joins:!1,limit:0,locale:b?.locale,page:1,pagination:!1,req:b,select:{id:!0},tableName:k,where:c});p=(0,d.RV)(l.id,a.docs.map(a=>a.id))}await this.deleteWhere({db:i,tableName:k,where:p})}},95453:(a,b,c)=>{"use strict";c.d(b,{DN:()=>g,IS:()=>f,JT:()=>h});let d=a=>{let{name:b,domain:c,expires:d,httpOnly:e,maxAge:f,path:g,returnCookieAsObject:h,sameSite:i,secure:j,value:k}=a,l=`${b}=${k||""}`,m={name:b,value:k},o=j||"None"===i;return d&&(h?m.expires=d.toUTCString():l+=`; Expires=${d.toUTCString()}`),f&&(h?m.maxAge=f:l+=`; Max-Age=${f.toString()}`),c&&(h?m.domain=c:l+=`; Domain=${c}`),g&&(h?m.path=g:l+=`; Path=${g}`),o&&(h?m.secure=o:l+=`; Secure=${o}`),e&&(h?m.httpOnly=e:l+=`; HttpOnly=${e}`),i&&(h?m.sameSite=i:l+=`; SameSite=${i}`),h?m:l},e=({seconds:a=7200})=>{let b=new Date;return b.setSeconds(b.getSeconds()+a),b},f=({collectionAuthConfig:a,cookiePrefix:b,returnCookieAsObject:c=!1,token:f})=>{let g="string"==typeof a.cookies.sameSite?a.cookies.sameSite:a.cookies.sameSite?"Strict":void 0;return d({name:`${b}-token`,domain:a.cookies.domain??void 0,expires:e({seconds:a.tokenExpiration}),httpOnly:!0,path:"/",returnCookieAsObject:c,sameSite:g,secure:a.cookies.secure,value:f})},g=({collectionAuthConfig:a,cookiePrefix:b,returnCookieAsObject:c=!1})=>{let e="string"==typeof a.cookies.sameSite?a.cookies.sameSite:a.cookies.sameSite?"Strict":void 0,f=new Date(Date.now()-1e3);return d({name:`${b}-token`,domain:a.cookies.domain??void 0,expires:f,httpOnly:!0,path:"/",returnCookieAsObject:c,sameSite:e,secure:a.cookies.secure})};function h(a){let b=new Map,c=a.get("Cookie");if(!c)return b;for(let a of c.split(/; */)){if(!a)continue;let c=a.indexOf("=");if(-1===c){b.set(a,"true");continue}let[d,e]=[a.slice(0,c),a.slice(c+1)];try{b.set(d,decodeURIComponent(e??"true"))}catch{}}return b}},95529:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(12164),e=c(34315),f=c(98667),g=c(76692),h=c(82592),i=()=>0,j=()=>!0;class k{initSimple(a){this.columns=a.map(a=>({name:a,title:a,alignment:e.DEFAULT_ROW_ALIGNMENT}))}initDetailed(a){var b;this.title=(null==a?void 0:a.title)||this.title,this.tableStyle=(null==a?void 0:a.style)||this.tableStyle,this.sortFunction=(null==a?void 0:a.sort)||this.sortFunction,this.filterFunction=(null==a?void 0:a.filter)||this.filterFunction,this.enabledColumns=(null==a?void 0:a.enabledColumns)||this.enabledColumns,this.disabledColumns=(null==a?void 0:a.disabledColumns)||this.disabledColumns,this.computedColumns=(null==a?void 0:a.computedColumns)||this.computedColumns,this.columns=(null==(b=null==a?void 0:a.columns)?void 0:b.map(g.rawColumnToInternalColumn))||this.columns,this.rowSeparator=(null==a?void 0:a.rowSeparator)||this.rowSeparator,this.charLength=(null==a?void 0:a.charLength)||this.charLength,(null==a?void 0:a.shouldDisableColors)?this.colorMap={}:(null==a?void 0:a.colorMap)&&(this.colorMap=Object.assign(Object.assign({},this.colorMap),a.colorMap)),void 0!==a.rows&&this.addRows(a.rows)}constructor(a){this.rows=[],this.columns=[],this.title=void 0,this.tableStyle=e.DEFAULT_TABLE_STYLE,this.filterFunction=j,this.sortFunction=i,this.enabledColumns=[],this.disabledColumns=[],this.computedColumns=[],this.rowSeparator=e.DEFAULT_ROW_SEPARATOR,this.colorMap=d.DEFAULT_COLOR_MAP,this.charLength={},a instanceof Array?this.initSimple(a):"object"==typeof a&&this.initDetailed(a)}createColumnFromRow(a){let b=this.columns.map(a=>a.name);Object.keys(a).forEach(a=>{b.includes(a)||this.columns.push((0,f.createColumFromOnlyName)(a))})}addColumn(a){"string"==typeof a?this.columns.push((0,f.createColumFromOnlyName)(a)):this.columns.push((0,f.createColumFromComputedColumn)(a))}addColumns(a){a.forEach(a=>{this.addColumn(a)})}addRow(a,b){this.createColumnFromRow(a),this.rows.push((0,f.createRow)((null==b?void 0:b.color)||e.DEFAULT_ROW_FONT_COLOR,a,(null==b?void 0:b.separator)!==void 0?null==b?void 0:b.separator:this.rowSeparator))}addRows(a,b){a.forEach(a=>{this.addRow(a,b)})}renderTable(){return(0,h.renderTable)(this)}}b.default=k},95580:(a,b,c)=>{"use strict";let d=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:e}=c(212),f=c(43008);function g(a){if(!a||"function"!=typeof a.dispatch)throw new e("Argument agent must implement Agent");Object.defineProperty(globalThis,d,{value:a,writable:!0,enumerable:!1,configurable:!1})}function h(){return globalThis[d]}void 0===h()&&g(new f),a.exports={setGlobalDispatcher:g,getGlobalDispatcher:h}},95582:a=>{"use strict";var b,c=function(){function a(a,b){if("function"!=typeof a)throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+a+".");this._batchLoadFn=a,this._maxBatchSize=i(b),this._batchScheduleFn=j(b),this._cacheKeyFn=k(b),this._cacheMap=l(b),this._batch=null,this.name=m(b)}var b=a.prototype;return b.load=function(a){if(null==a)throw TypeError("The loader.load() function must be called with a value, but got: "+String(a)+".");var b,c=e(this),d=this._cacheMap;if(d){b=this._cacheKeyFn(a);var f=d.get(b);if(f){var g=c.cacheHits||(c.cacheHits=[]);return new Promise(function(a){g.push(function(){a(f)})})}}c.keys.push(a);var h=new Promise(function(a,b){c.callbacks.push({resolve:a,reject:b})});return d&&d.set(b,h),h},b.loadMany=function(a){if(!o(a))throw TypeError("The loader.loadMany() function must be called with Array<key> but got: "+a+".");for(var b=[],c=0;c<a.length;c++)b.push(this.load(a[c]).catch(function(a){return a}));return Promise.all(b)},b.clear=function(a){var b=this._cacheMap;if(b){var c=this._cacheKeyFn(a);b.delete(c)}return this},b.clearAll=function(){var a=this._cacheMap;return a&&a.clear(),this},b.prime=function(a,b){var c=this._cacheMap;if(c){var d,e=this._cacheKeyFn(a);void 0===c.get(e)&&(b instanceof Error?(d=Promise.reject(b)).catch(function(){}):d=Promise.resolve(b),c.set(e,d))}return this},a}(),d="object"==typeof process&&"function"==typeof process.nextTick?function(a){b||(b=Promise.resolve()),b.then(function(){process.nextTick(a)})}:"function"==typeof setImmediate?function(a){setImmediate(a)}:function(a){setTimeout(a)};function e(a){var b=a._batch;if(null!==b&&!b.hasDispatched&&b.keys.length<a._maxBatchSize)return b;var c={hasDispatched:!1,keys:[],callbacks:[]};return a._batch=c,a._batchScheduleFn(function(){f(a,c)}),c}function f(a,b){var c;if(b.hasDispatched=!0,0===b.keys.length)return void h(b);try{c=a._batchLoadFn(b.keys)}catch(c){return g(a,b,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(c)+"."))}if(!c||"function"!=typeof c.then)return g(a,b,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(c)+"."));c.then(function(a){if(!o(a))throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(a)+".");if(a.length!==b.keys.length)throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(b.keys)+"\n\nValues:\n"+String(a));h(b);for(var c=0;c<b.callbacks.length;c++){var d=a[c];d instanceof Error?b.callbacks[c].reject(d):b.callbacks[c].resolve(d)}}).catch(function(c){g(a,b,c)})}function g(a,b,c){h(b);for(var d=0;d<b.keys.length;d++)a.clear(b.keys[d]),b.callbacks[d].reject(c)}function h(a){if(a.cacheHits)for(var b=0;b<a.cacheHits.length;b++)a.cacheHits[b]()}function i(a){if(!(!a||!1!==a.batch))return 1;var b=a&&a.maxBatchSize;if(void 0===b)return 1/0;if("number"!=typeof b||b<1)throw TypeError("maxBatchSize must be a positive number: "+b);return b}function j(a){var b=a&&a.batchScheduleFn;if(void 0===b)return d;if("function"!=typeof b)throw TypeError("batchScheduleFn must be a function: "+b);return b}function k(a){var b=a&&a.cacheKeyFn;if(void 0===b)return function(a){return a};if("function"!=typeof b)throw TypeError("cacheKeyFn must be a function: "+b);return b}function l(a){if(!(!a||!1!==a.cache))return null;var b=a&&a.cacheMap;if(void 0===b)return new Map;if(null!==b){var c=["get","set","delete","clear"].filter(function(a){return b&&"function"!=typeof b[a]});if(0!==c.length)throw TypeError("Custom cacheMap missing methods: "+c.join(", "))}return b}function m(a){return a&&a.name?a.name:null}function o(a){return"object"==typeof a&&null!==a&&"number"==typeof a.length&&(0===a.length||a.length>0&&Object.prototype.hasOwnProperty.call(a,a.length-1))}a.exports=c},95625:(a,b,c)=>{"use strict";c.d(b,{m:()=>f});var d=c(27661);let e=({callback:a,callbackStack:b,config:c,data:d,field:e,fillEmpty:g,leavesFirst:h,parentIsLocalized:i,parentPath:j,parentRef:k})=>{if(g){if("array"===e.type&&f({callback:a,callbackStack:b,config:c,fields:e.fields,isTopLevel:!1,leavesFirst:h,parentIsLocalized:i||e.localized,parentPath:`${j}${e.name}.`,parentRef:k}),"blocks"===e.type)for(let d of e.blockReferences??e.blocks){let g="string"==typeof d?c?.blocks?.find(a=>a.slug===d):d;g&&f({callback:a,callbackStack:b,config:c,fields:g.fields,isTopLevel:!1,leavesFirst:h,parentIsLocalized:i||e.localized,parentPath:`${j}${e.name}.`,parentRef:k})}return}for(let l of d){let d;if("blocks"===e.type&&"string"==typeof l?.blockType){let a=e.blockReferences?c?.blocks?.find(a=>a.slug===l.blockType)??e.blockReferences.find(a=>"string"!=typeof a&&a.slug===l.blockType):e.blocks.find(a=>a.slug===l.blockType);d=a?.fields}else"array"===e.type&&(d=e.fields);d&&f({callback:a,callbackStack:b,config:c,fields:d,fillEmpty:g,isTopLevel:!1,leavesFirst:h,parentIsLocalized:i||e.localized,parentPath:`${j}${e.name}.`,parentRef:k,ref:l})}},f=({callback:a,callbackStack:b=[],config:c,fields:g,fillEmpty:h=!0,isTopLevel:i=!0,leavesFirst:j=!1,parentIsLocalized:k,parentPath:l="",parentRef:m={},ref:o={}})=>{!g.some(g=>{let p=[];i||(p=b);let q=!1,r=()=>{q=!0};if(!o||"object"!=typeof o)return;if(!j&&a&&a({field:g,next:r,parentIsLocalized:k,parentPath:l,parentRef:m,ref:o}))return!0;if(j&&p.push(()=>a({field:g,next:r,parentIsLocalized:k,parentPath:l,parentRef:m,ref:o})),q)return!1;let s=o,t=m;if("tabs"===g.type&&"tabs"in g){for(let b of g.tabs){let e=o;if(q)return!1;if("name"in b&&b.name){if(!o[b.name]||"object"!=typeof o[b.name])if(!h)continue;else b.localized?o[b.name]={en:{}}:o[b.name]={};if(a&&!j&&a({field:{...b,type:"tab"},next:r,parentIsLocalized:k,parentPath:l,parentRef:t,ref:e}))return!0;if(j&&p.push(()=>a({field:{...b,type:"tab"},next:r,parentIsLocalized:k,parentPath:l,parentRef:t,ref:e})),e=e[b.name],b.localized)for(let d in e)e[d]&&"object"==typeof e[d]&&f({callback:a,callbackStack:p,config:c,fields:b.fields,fillEmpty:h,isTopLevel:!1,leavesFirst:j,parentIsLocalized:!0,parentPath:`${l}${b.name}.`,parentRef:t,ref:e[d]})}else{if(a&&!j&&a({field:{...b,type:"tab"},next:r,parentIsLocalized:k,parentPath:l,parentRef:t,ref:e}))return!0;j&&p.push(()=>a({field:{...b,type:"tab"},next:r,parentIsLocalized:k,parentPath:l,parentRef:t,ref:e}))}if(b.localized||f({callback:a,callbackStack:p,config:c,fields:b.fields,fillEmpty:h,isTopLevel:!1,leavesFirst:j,parentIsLocalized:!1,parentPath:(0,d.pz)(b)?`${l}${b.name}`:l,parentRef:t,ref:e}),q)return!1}return}if("tab"===g.type||(0,d.sd)(g)||"blocks"===g.type){if("name"in g&&g.name){if(t=s,!o[g.name])if(!h)return;else"group"===g.type||"tab"===g.type?(0,d.Cd)({field:g,parentIsLocalized:k})?o[g.name]={en:{}}:o[g.name]={}:("array"===g.type||"blocks"===g.type)&&((0,d.Cd)({field:g,parentIsLocalized:k})?o[g.name]={en:[]}:o[g.name]=[]);s=o[g.name]}if(("tab"===g.type||"group"===g.type)&&(0,d.Cd)({field:g,parentIsLocalized:k})&&s&&"object"==typeof s){if((0,d.Z7)(g))for(let b in s)s[b]&&f({callback:a,callbackStack:p,config:c,fields:g.fields,fillEmpty:h,isTopLevel:!1,leavesFirst:j,parentIsLocalized:!0,parentPath:g.name?`${l}${g.name}.`:l,parentRef:t,ref:s[b]});else f({callback:a,callbackStack:p,config:c,fields:g.fields,fillEmpty:h,isTopLevel:!1,leavesFirst:j,parentIsLocalized:k,parentRef:t,ref:s});return}if(("blocks"===g.type||"array"===g.type)&&s&&"object"==typeof s)if((0,d.Cd)({field:g,parentIsLocalized:k??!1}))if(Array.isArray(s))e({callback:a,callbackStack:p,config:c,data:s,field:g,fillEmpty:h,leavesFirst:j,parentIsLocalized:!0,parentPath:l,parentRef:t});else for(let b in s){let d=s[b];Array.isArray(d)&&e({callback:a,callbackStack:p,config:c,data:d,field:g,fillEmpty:h,leavesFirst:j,parentIsLocalized:!0,parentPath:l,parentRef:t})}else Array.isArray(s)&&e({callback:a,callbackStack:p,config:c,data:s,field:g,fillEmpty:h,leavesFirst:j,parentIsLocalized:k,parentPath:l,parentRef:t});else s&&"object"==typeof s&&"fields"in g&&f({callback:a,callbackStack:p,config:c,fields:g.fields,fillEmpty:h,isTopLevel:!1,leavesFirst:j,parentIsLocalized:k,parentPath:"name"in g&&g.name?`${l}${g.name}.`:l,parentRef:t,ref:s})}i&&p.reverse().forEach(a=>{a()})})&&o&&"object"==typeof o&&Object.keys(o).forEach(d=>{if(d.includes(".")){let e=d.indexOf("."),i=d.substring(0,e),p=d.substring(e+1);o[i]||(o[i]={}),o[i][p]=o[d],delete o[d],f({callback:a,callbackStack:b,config:c,fields:g,fillEmpty:h,isTopLevel:!1,leavesFirst:j,parentIsLocalized:k,parentPath:l,parentRef:m,ref:o})}})}},95755:(a,b,c)=>{"use strict";c.d(b,{q:()=>r});var d=c(61101),e=c(87641),f=c(35593),g=c(83518),h=c(43982),i=c(57819),j=c(33334),k=c(53216),l=c(73039),m=c(85095),o=c(93109),p=c(16225),q=c(54510);let r=async a=>{let{collection:{config:b},data:c,depth:r,overrideAccess:s,req:{payload:{secret:t},payload:u},req:v}=a;if(!Object.prototype.hasOwnProperty.call(c,"token")||!Object.prototype.hasOwnProperty.call(c,"password"))throw new f.L("Missing required data.",d.h.BAD_REQUEST);if(b.auth.disableLocalStrategy)throw new g.c(v.t);try{let g=await (0,j.n)(v);if(a.collection.config.hooks?.beforeOperation?.length)for(let b of a.collection.config.hooks.beforeOperation)a=await b({args:a,collection:a.collection?.config,context:a.req.context,operation:"resetPassword",req:a.req})||a;let k=(0,h.v)({enableTrash:!!b.trash,trash:!1,where:{resetPasswordExpiration:{greater_than:new Date().toISOString()},resetPasswordToken:{equals:c.token}}}),w=await u.db.findOne({collection:b.slug,req:v,where:k});if(!w)throw new f.L("Token is either invalid or has expired.",d.h.FORBIDDEN);let{hash:x,salt:y}=await (0,q.$)({collection:b,password:c.password,req:v});if(w.salt=y,w.hash=x,w.resetPasswordExpiration=new Date().toISOString(),b.auth.verify&&(w._verified=!!w._verified),b.hooks?.beforeValidate?.length)for(let c of b.hooks.beforeValidate)await c({collection:a.collection?.config,context:v.context,data:w,operation:"update",req:v});w.updatedAt=new Date().toISOString();let z=await u.db.updateOne({id:w.id,collection:b.slug,data:w,req:v});await (0,p.Q)({doc:z,password:c.password});let A={collectionConfig:b,email:w.email,user:w},{sid:B}=await (0,o.A)({collectionConfig:b,payload:u,req:v,user:w});B&&(A.sid=B);let C=(0,l.C)(A),{token:D}=await (0,m.h)({fieldsToSign:C,secret:t,tokenExpiration:b.auth.tokenExpiration}),E=await u.findByID({id:w.id,collection:b.slug,depth:r,overrideAccess:s,req:v,trash:!1});g&&await (0,i.w)(v),E&&(E.collection=b.slug,E._strategy="local-jwt");let F={token:D,user:E};return F=await (0,e.E)({args:a,collection:a.collection?.config,operation:"resetPassword",result:F})}catch(a){throw await (0,k.J)(v),a}}},95805:(a,b,c)=>{"use strict";let{groupRestore:d,nestedRestore:e}=c(16723);function f(a,b){return b.map(b=>{let{circle:c,escPath:d,leadingBracket:e}=a[b],f=e?"":".",g=c?`o.${c} = secret[${d}].val`:`o${f}${b} = secret[${d}].val`,h=`secret[${d}].val = undefined`;return`
      if (secret[${d}].val !== undefined) {
        try { ${g} } catch (e) {}
        ${h}
      }
    `}).join("")}function g(a,b,c){let d=!0===c?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${b.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:"";return`
    const secret = this.secret
    ${d}
    ${a}
    return o
  `}a.exports=function a(){return function(){if(this.restore){this.restore.state.secret=this.secret;return}let{secret:a,wcLen:b}=this,c=Object.keys(a),h=f(a,c),i=b>0,j=i?{secret:a,groupRestore:d,nestedRestore:e}:{secret:a};this.restore=Function("o",g(h,c,i)).bind(j),this.restore.state=j}}},95958:(a,b,c)=>{"use strict";var d=c(67281),e=c(64373),f=c(47960),g=c(33732);a.exports=function(a){if(a.length<1||"function"!=typeof a[0])throw new e("a function is required");return g(d,f,a)}},96157:(a,b,c)=>{"use strict";c.d(b,{s:()=>d});let d=(a,b)=>{if("object"==typeof a&&!Object.prototype.hasOwnProperty.call(a,"$$typeof")){if(a[b.language])return a[b.language];let c=[];"string"==typeof b.fallbackLanguage?c=[b.fallbackLanguage]:Array.isArray(b.fallbackLanguage)&&(c=b.fallbackLanguage);let d=c.find(b=>a[b]);return d&&a[d]?a[d]:a[Object.keys(a)[0]]}return"function"==typeof a?a({i18n:b,t:b.t}):a}},96423:(a,b,c)=>{"use strict";c.d(b,{j:()=>k});var d=c(56753),e=c(50474),f=c(58328),g=c(13885),h=c(11121);let i={type:"element",dependencies:[d.v5,d.YW],export:(a,b)=>(0,d.HY)(a)?(0,h.p)(a,b,0):null,regExp:/^(\s*)[-*+]\s/,replace:(0,h.b)("bullet")},j={ar:{label:"قائمة غير مرتبة"},az:{label:"Sırasız Siyahı"},bg:{label:"Неподреден списък"},cs:{label:"Neuspoř\xe1dan\xfd seznam"},da:{label:"Usorteret Liste"},de:{label:"Ungeordnete Liste"},en:{label:"Unordered List"},es:{label:"Lista desordenada"},et:{label:"Sorteerimata loend"},fa:{label:"لیست بدون ترتیب"},fr:{label:"Liste non ordonn\xe9e"},he:{label:"רשימה לא מסודרת"},hr:{label:"Neuređeni popis"},hu:{label:"Rendezetlen lista"},is:{label:"\xd3ra\xf0a\xf0ur listi"},it:{label:"Elenco non ordinato"},ja:{label:"順不同リスト"},ko:{label:"비정렬 목록"},my:{label:"Senarai Tidak Tertib"},nb:{label:"Usortert liste"},nl:{label:"Ongeordende lijst"},pl:{label:"Nieuporządkowana lista"},pt:{label:"Lista N\xe3o Ordenada"},ro:{label:"Listă neordonată"},rs:{label:"Неуређена листа"},"rs-latin":{label:"Neuređena lista"},ru:{label:"Несортированный список"},sk:{label:"Neusporiadan\xfd zoznam"},sl:{label:"Neurejen seznam"},sv:{label:"Oordnad lista"},ta:{label:"வரிசைப்படுத்தப்படாத பட்டியல்"},th:{label:"รายการที่ไม่ได้เรียงลำดับ"},tr:{label:"Sırasız Liste"},uk:{label:"Невпорядкований список"},vi:{label:"Danh s\xe1ch kh\xf4ng theo thứ tự"},zh:{label:"无序列表"},"zh-TW":{label:"無順序列表"}},k=(0,e.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#UnorderedListFeatureClient",i18n:j,markdownTransformers:[i],nodes:[(0,f.R)({converters:{html:g.O},node:d.v5}),(0,f.R)({converters:{html:g.F},node:d.YW})]},key:"unorderedList"})},96519:(a,b,c)=>{"use strict";c.d(b,{O:()=>i});var d=c(57819),e=c(59841),f=c(33334),g=c(53216),h=c(19113);let i=async a=>{let{globalConfig:b,req:c}=a,i=["read","update"];b.versions&&i.push("readVersions");try{let a=await (0,f.n)(c),g=await (0,e.U)({type:"global",blockPolicies:{},entity:b,operations:i,req:c});a&&await (0,d.w)(c);let j=(0,h.yD)({globals:{[b.slug]:g}});return j?.globals?.[b.slug]??{fields:{}}}catch(a){throw await (0,g.J)(c),a}}},96645:(a,b,c)=>{"use strict";let{Writable:d}=c(57075),e=c(34589),{parserStates:f,opcodes:g,states:h,emptyBuffer:i,sentCloseFrameState:j}=c(51787),{channels:k}=c(20471),{isValidStatusCode:l,isValidOpcode:m,websocketMessageReceived:o,utf8Decode:p,isControlFrame:q,isTextBinaryFrame:r,isContinuationFrame:s}=c(56664),{failWebsocketConnection:t}=c(94772),{WebsocketFrameSend:u}=c(64119),{PerMessageDeflate:v}=c(30368);class w extends d{#cw=[];#cx=0;#cy=0;#cz=!1;#be=f.INFO;#cA={};#cB=[];#bi;#a;constructor(a,b){super(),this.#a=a,this.#bi=null==b?new Map:b,this.#bi.has("permessage-deflate")&&this.#bi.set("permessage-deflate",new v(b))}_write(a,b,c){this.#cw.push(a),this.#cy+=a.length,this.#cz=!0,this.run(c)}run(a){for(;this.#cz;)if(this.#be===f.INFO){if(this.#cy<2)return a();let b=this.consume(2),c=(128&b[0])!=0,d=15&b[0],e=(128&b[1])==128,h=!c&&d!==g.CONTINUATION,i=127&b[1],j=64&b[0],k=32&b[0],l=16&b[0];if(!m(d))return t(this.#a,1002,"Invalid opcode received"),a();if(e)return t(this.#a,1002,"Frame cannot be masked"),a();if(0!==j&&!this.#bi.has("permessage-deflate"))return void t(this.#a,1002,"Expected RSV1 to be clear.");if(0!==k||0!==l)return void t(this.#a,1002,"RSV1, RSV2, RSV3 must be clear");if(h&&!r(d))return void t(this.#a,1002,"Invalid frame type was fragmented.");if(r(d)&&this.#cB.length>0)return void t(this.#a,1002,"Expected continuation frame");if(this.#cA.fragmented&&h)return void t(this.#a,1002,"Fragmented frame exceeded 125 bytes.");if((i>125||h)&&q(d))return void t(this.#a,1002,"Control frame either too large or fragmented");if(s(d)&&0===this.#cB.length&&!this.#cA.compressed)return void t(this.#a,1002,"Unexpected continuation frame");i<=125?(this.#cA.payloadLength=i,this.#be=f.READ_DATA):126===i?this.#be=f.PAYLOADLENGTH_16:127===i&&(this.#be=f.PAYLOADLENGTH_64),r(d)&&(this.#cA.binaryType=d,this.#cA.compressed=0!==j),this.#cA.opcode=d,this.#cA.masked=e,this.#cA.fin=c,this.#cA.fragmented=h}else if(this.#be===f.PAYLOADLENGTH_16){if(this.#cy<2)return a();let b=this.consume(2);this.#cA.payloadLength=b.readUInt16BE(0),this.#be=f.READ_DATA}else if(this.#be===f.PAYLOADLENGTH_64){if(this.#cy<8)return a();let b=this.consume(8),c=b.readUInt32BE(0);if(c>0x80000000-1)return void t(this.#a,1009,"Received payload length > 2^31 bytes.");let d=b.readUInt32BE(4);this.#cA.payloadLength=(c<<8)+d,this.#be=f.READ_DATA}else if(this.#be===f.READ_DATA){if(this.#cy<this.#cA.payloadLength)return a();let b=this.consume(this.#cA.payloadLength);if(q(this.#cA.opcode))this.#cz=this.parseControlFrame(b),this.#be=f.INFO;else if(this.#cA.compressed){this.#bi.get("permessage-deflate").decompress(b,this.#cA.fin,(b,c)=>{if(b)return void t(this.#a,1007,b.message);if(this.writeFragments(c),!this.#cA.fin){this.#be=f.INFO,this.#cz=!0,this.run(a);return}o(this.#a,this.#cA.binaryType,this.consumeFragments()),this.#cz=!0,this.#be=f.INFO,this.run(a)}),this.#cz=!1;break}else this.writeFragments(b),!this.#cA.fragmented&&this.#cA.fin&&o(this.#a,this.#cA.binaryType,this.consumeFragments()),this.#be=f.INFO}}consume(a){if(a>this.#cy)throw Error("Called consume() before buffers satiated.");if(0===a)return i;this.#cy-=a;let b=this.#cw[0];if(b.length>a)return this.#cw[0]=b.subarray(a,b.length),b.subarray(0,a);{if(b.length===a)return this.#cw.shift();let c=0,d=Buffer.allocUnsafeSlow(a);for(;c!==a;){let b=this.#cw[0],e=b.length;if(e+c===a){d.set(this.#cw.shift(),c);break}if(e+c>a){d.set(b.subarray(0,a-c),c),this.#cw[0]=b.subarray(a-c);break}d.set(this.#cw.shift(),c),c+=e}return d}}writeFragments(a){this.#cx+=a.length,this.#cB.push(a)}consumeFragments(){let a=this.#cB;if(1===a.length)return this.#cx=0,a.shift();let b=0,c=Buffer.allocUnsafeSlow(this.#cx);for(let d=0;d<a.length;++d){let e=a[d];c.set(e,b),b+=e.length}return this.#cB=[],this.#cx=0,c}parseCloseBody(a){let b;if(e(1!==a.length),a.length>=2&&(b=a.readUInt16BE(0)),void 0!==b&&!l(b))return{code:1002,reason:"Invalid status code",error:!0};let c=a.subarray(2);239===c[0]&&187===c[1]&&191===c[2]&&(c=c.subarray(3));try{c=p(c)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:b,reason:c,error:!1}}parseControlFrame(a){let{opcode:b,payloadLength:c}=this.#cA;if(b===g.CLOSE){if(1===c)return t(this.#a,1002,"Received close frame with a 1-byte body."),!1;if(this.#cA.closeInfo=this.parseCloseBody(a),this.#cA.closeInfo.error){let{code:a,reason:b}=this.#cA.closeInfo;return t(this.#a,a,b),!1}if(!this.#a.closeState.has(j.SENT)&&!this.#a.closeState.has(j.RECEIVED)){let a=i;this.#cA.closeInfo.code&&(a=Buffer.allocUnsafe(2)).writeUInt16BE(this.#cA.closeInfo.code,0);let b=new u(a);this.#a.socket.write(b.createFrame(g.CLOSE)),this.#a.closeState.add(j.SENT)}return this.#a.readyState=h.CLOSING,this.#a.closeState.add(j.RECEIVED),!1}if(b===g.PING){if(!this.#a.closeState.has(j.RECEIVED)){let b=new u(a);this.#a.socket.write(b.createFrame(g.PONG)),k.ping.hasSubscribers&&k.ping.publish({payload:a})}}else b===g.PONG&&k.pong.hasSubscribers&&k.pong.publish({payload:a});return!0}get closingInfo(){return this.#cA.closeInfo}}a.exports={ByteParser:w}},96879:(a,b,c)=>{"use strict";c.d(b,{m:()=>d});class d extends Error{name="ProviderError";tryNextLink;constructor(a,b=!0){let c,e=!0;"boolean"==typeof b?(c=void 0,e=b):null!=b&&"object"==typeof b&&(c=b.logger,e=b.tryNextLink??!0),super(a),this.tryNextLink=e,Object.setPrototypeOf(this,d.prototype),c?.debug?.(`@smithy/property-provider ${e?"->":"(!)"} ${a}`)}static from(a,b=!0){return Object.assign(new this(a.message,b),a)}}},96927:(a,b,c)=>{"use strict";c.d(b,{g:()=>q});var d=c(55511),e=c(61101),f=c(79551),g=c(87641),h=c(35593),i=c(83518),j=c(43982),k=c(57819),l=c(62569),m=c(33334),o=c(53216),p=c(69815);let q=async a=>{let b=a.collection.config.auth.loginWithUsername,{data:c}=a,{canLoginWithEmail:q,canLoginWithUsername:r}=(0,p.Y)(b),s=q&&(a.data.email||"").toLowerCase().trim()||null,t="username"in c&&"string"==typeof c?.username?c.username.toLowerCase().trim():null,u=a;if(a.collection.config.auth.disableLocalStrategy)throw new i.c(a.req.t);if(!s&&!t)throw new h.L(`Missing ${b?"username":"email"}.`,e.h.BAD_REQUEST);try{let a=await (0,m.n)(u.req);if(u.collection.config.hooks?.beforeOperation?.length)for(let a of u.collection.config.hooks.beforeOperation)u=await a({args:u,collection:u.collection?.config,context:u.req.context,operation:"forgotPassword",req:u.req})||u;let{collection:{config:c},disableEmail:i,expiration:o,req:{payload:{config:p,email:v},payload:w},req:x}=u,y=d.randomBytes(20).toString("hex");if(!s&&!t)throw new h.L(`Missing ${b?"username":"email"}.`,e.h.BAD_REQUEST);let z={};q&&s?z={email:{equals:s}}:r&&t&&(z={username:{equals:t}}),z=(0,j.v)({enableTrash:c.trash,trash:!1,where:z});let A=await w.db.findOne({collection:c.slug,req:x,where:z});if(!A)return await (0,k.w)(u.req),null;let B=new Date(Date.now()+(c.auth?.forgotPassword?.expiration??o??36e5)).toISOString();if(A=await w.update({id:A.id,collection:c.slug,data:{resetPasswordExpiration:B,resetPasswordToken:y},req:x}),!i&&A.email){let a=new f.URL(x.url).protocol,b=null!==p.serverURL&&""!==p.serverURL?p.serverURL:`${a}//${x.headers.get("host")}`,d=(0,l.Q)({adminRoute:p.routes.admin,path:`${p.admin.routes.reset}/${y}`,serverURL:b}),e=`${x.t("authentication:youAreReceivingResetPassword")}
    <a href="${d}">${d}</a>
    ${x.t("authentication:youDidNotRequestPassword")}`;"function"==typeof c.auth.forgotPassword?.generateEmailHTML&&(e=await c.auth.forgotPassword.generateEmailHTML({req:x,token:y,user:A}));let g=x.t("authentication:resetYourPassword");"function"==typeof c.auth.forgotPassword?.generateEmailSubject&&(g=await c.auth.forgotPassword.generateEmailSubject({req:x,token:y,user:A})),await v.sendEmail({from:`"${v.defaultFromName}" <${v.defaultFromAddress}>`,html:e,subject:g,to:A.email})}if(c.hooks?.afterForgotPassword?.length)for(let a of c.hooks.afterForgotPassword)await a({args:u,collection:u.collection?.config,context:x.context});return y=await (0,g.E)({args:u,collection:u.collection?.config,operation:"forgotPassword",result:y}),a&&await (0,k.w)(x),y}catch(a){throw await (0,o.J)(u.req),a}}},96959:(a,b,c)=>{"use strict";c.d(b,{G:()=>d});let d=(a,b)=>{if(a.id&&Array.isArray(b)){let c=b.find(b=>"object"==typeof b&&"id"in b&&b.id===a.id&&b);if(c)return c}return{}}},96968:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(90627),e=c(40581);b.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",d.default,e.default]},97037:(a,b,c)=>{"use strict";var d;function e(a){throw Object.defineProperty(Error("cacheLife() is only available with the experimental.useCache config."),"__NEXT_ERROR_CODE",{value:"E627",enumerable:!1,configurable:!0})}d={value:!0},Object.defineProperty(b,"F",{enumerable:!0,get:function(){return e}}),c(29294),c(63033)},97359:(a,b,c)=>{"use strict";c.d(b,{_:()=>f});var d=c(50531),e=c(77529);class f{codecSerializer;stringSerializer;buffer;constructor(a,b,c=new e.A(b)){this.codecSerializer=a,this.stringSerializer=c}setSerdeContext(a){this.codecSerializer.setSerdeContext(a),this.stringSerializer.setSerdeContext(a)}write(a,b){let c=d.l.of(a),e=c.getMergedTraits();if(e.httpHeader||e.httpLabel||e.httpQuery){this.stringSerializer.write(c,b),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(c,b)}flush(){if(void 0!==this.buffer){let a=this.buffer;return this.buffer=void 0,a}return this.codecSerializer.flush()}}},97418:(a,b,c)=>{"use strict";c.d(b,{h:()=>e});var d=c(79748);let e=async a=>{try{return await d.stat(a),!0}catch(a){return!1}}},97520:(a,b,c)=>{"use strict";var d,e=c(99173);let f=a=>({setHttpHandler(b){a.httpHandler=b},httpHandler:()=>a.httpHandler,updateHttpClientConfig(b,c){a.httpHandler?.updateHttpClientConfig(b,c)},httpHandlerConfigs:()=>a.httpHandler.httpHandlerConfigs()}),g=a=>({httpHandler:a.httpHandler()});class h{name;kind;values;constructor({name:a,kind:b=e.FieldPosition.HEADER,values:c=[]}){this.name=a,this.kind=b,this.values=c}add(a){this.values.push(a)}set(a){this.values=a}remove(a){this.values=this.values.filter(b=>b!==a)}toString(){return this.values.map(a=>a.includes(",")||a.includes(" ")?`"${a}"`:a).join(", ")}get(){return this.values}}class i{entries={};encoding;constructor({fields:a=[],encoding:b="utf-8"}){a.forEach(this.setField.bind(this)),this.encoding=b}setField(a){this.entries[a.name.toLowerCase()]=a}getField(a){return this.entries[a.toLowerCase()]}removeField(a){delete this.entries[a.toLowerCase()]}getByType(a){return Object.values(this.entries).filter(b=>b.kind===a)}}class j{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(a){this.method=a.method||"GET",this.hostname=a.hostname||"localhost",this.port=a.port,this.query=a.query||{},this.headers=a.headers||{},this.body=a.body,this.protocol=a.protocol?":"!==a.protocol.slice(-1)?`${a.protocol}:`:a.protocol:"https:",this.path=a.path?"/"!==a.path.charAt(0)?`/${a.path}`:a.path:"/",this.username=a.username,this.password=a.password,this.fragment=a.fragment}static clone(a){let b=new j({...a,headers:{...a.headers}});return b.query&&(b.query=k(b.query)),b}static isInstance(a){if(!a)return!1;let b=a;return"method"in b&&"protocol"in b&&"hostname"in b&&"path"in b&&"object"==typeof b.query&&"object"==typeof b.headers}clone(){return j.clone(this)}}function k(a){return Object.keys(a).reduce((b,c)=>{let d=a[c];return{...b,[c]:Array.isArray(d)?[...d]:d}},{})}class l{statusCode;reason;headers;body;constructor(a){this.statusCode=a.statusCode,this.reason=a.reason,this.headers=a.headers||{},this.body=a.body}static isInstance(a){if(!a)return!1;let b=a;return"number"==typeof b.statusCode&&"object"==typeof b.headers}}function m(a){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(a)}d=h,d=i,d=j,d=l,b.eS=f,b.oJ=m,b.jt=g},97822:(a,b,c)=>{"use strict";c.d(b,{Z:()=>f});let d=a=>a.client.execute(`SELECT name
                                 FROM sqlite_master
                                 WHERE type = 'table'
                                   AND name NOT LIKE 'sqlite_%';`),e=(a,b)=>{let c=`
  PRAGMA foreign_keys = OFF;

  ${b.map(({name:a})=>`DROP TABLE IF EXISTS ${a}`).join(";\n ")};

  PRAGMA foreign_keys = ON;`;return a.client.executeMultiple(c)},f=async function({adapter:a}){let b=await d(a);await e(a,b.rows)}},97997:(a,b,c)=>{"use strict";let d=c(74359);function e(a,b,c){return Object.keys(a).map(e=>{let{escPath:f,leadingBracket:g,path:h}=a[e],i=+!!g,j=g?"":".",k=[];for(;null!==(l=d.exec(e));){let[,a]=l,{index:b,input:c}=l;b>i&&k.push(c.substring(0,b-!a))}var l,m=k.map(a=>`o${j}${a}`).join(" && ");0===m.length?m+=`o${j}${e} != null`:m+=` && o${j}${e} != null`;let o=`
      switch (true) {
        ${k.reverse().map(a=>`
          case o${j}${a} === censor:
            secret[${f}].circle = ${JSON.stringify(a)}
            break
        `).join("\n")}
      }
    `,p=c?`val, ${JSON.stringify(h)}`:"val";return`
      if (${m}) {
        const val = o${j}${e}
        if (val === censor) {
          secret[${f}].precensored = true
        } else {
          secret[${f}].val = val
          o${j}${e} = ${b?`censor(${p})`:"censor"}
          ${o}
        }
      }
    `}).join("\n")}function f(a,b,c){return!0===a?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${b}, ${c})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${b}, ${c})
      }
    }
  `:""}function g(a){return!1===a?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function h(a,b){return!0===a?"throw Error('fast-redact: primitives cannot be redacted')":!1===b?"return o":"return this.serialize(o)"}a.exports=function a({secret:a,serialize:b,wcLen:c,strict:d,isCensorFct:i,censorFctTakesPath:j},k){let l=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${h(d,b)}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${e(a,i,j)}
    this.compileRestore()
    ${f(c>0,i,j)}
    this.secret = originalSecret
    ${g(b)}
  `).bind(k);return l.state=k,!1===b&&(l.restore=a=>k.restore(a)),l}},98053:(a,b,c)=>{"use strict";c.r(b),c.d(b,{DefaultIdentityProviderConfig:()=>s.h,EXPIRATION_MS:()=>y.rl,HttpApiKeyAuthSigner:()=>v,HttpBearerAuthSigner:()=>w,NoAuthSigner:()=>x.m,createIsIdentityExpiredFunction:()=>y.OS,createPaginator:()=>o,doesIdentityRequireRefresh:()=>y.e,getHttpAuthSchemeEndpointRuleSetPlugin:()=>g.w,getHttpAuthSchemePlugin:()=>i,getHttpSigningPlugin:()=>k.l,getSmithyContext:()=>e,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>g.h,httpAuthSchemeMiddleware:()=>f.E,httpAuthSchemeMiddlewareOptions:()=>h,httpSigningMiddleware:()=>j.s,httpSigningMiddlewareOptions:()=>k.Q,isIdentityExpired:()=>y.OC,memoizeIdentityProvider:()=>y.K4,normalizeProvider:()=>l.t,requestBuilder:()=>q.l,setFeature:()=>r.J});var d=c(99395);let e=a=>a[d.V]||(a[d.V]={});var f=c(82544),g=c(79808);let h={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:c(83646).Ou.name},i=(a,{httpAuthSchemeParametersProvider:b,identityProviderConfigProvider:c})=>({applyToStack:d=>{d.addRelativeTo((0,f.E)(a,{httpAuthSchemeParametersProvider:b,identityProviderConfigProvider:c}),h)}});var j=c(7839),k=c(4745),l=c(11372);let m=async(a,b,c,d=a=>a,...e)=>{let f=new a(c);return f=d(f)??f,await b.send(f,...e)};function o(a,b,c,d,e){return async function*(f,g,...h){let i,j=g,k=f.startingToken??j[c],l=!0;for(;l;){if(j[c]=k,e&&(j[e]=j[e]??f.pageSize),f.client instanceof a)i=await m(b,f.client,g,f.withCommand,...h);else throw Error(`Invalid client, expected instance of ${a.name}`);yield i;let o=k;l=!!((k=p(i,d))&&(!f.stopOnSameToken||k!==o))}}}let p=(a,b)=>{let c=a;for(let a of b.split(".")){if(!c||"object"!=typeof c)return;c=c[a]}return c};var q=c(79464),r=c(92834),s=c(66337),t=c(579),u=c(87993);class v{async sign(a,b,c){if(!c)throw Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!c.name)throw Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!c.in)throw Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!b.apiKey)throw Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let d=t.K.clone(a);if(c.in===u.n.QUERY)d.query[c.name]=b.apiKey;else if(c.in===u.n.HEADER)d.headers[c.name]=c.scheme?`${c.scheme} ${b.apiKey}`:b.apiKey;else throw Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+c.in+"`");return d}}class w{async sign(a,b,c){let d=t.K.clone(a);if(!b.token)throw Error("request could not be signed with `token` since the `token` is not defined");return d.headers.Authorization=`Bearer ${b.token}`,d}}var x=c(71487),y=c(79634)},98105:(a,b,c)=>{"use strict";let d=c(44968);a.exports=function(a,b){let c=String(d(a)||"").split(/\r?\n/);return b?c.map(a=>Math.ceil(a.length/b)).reduce((a,b)=>a+b):c.length}},98116:(a,b,c)=>{"use strict";c.d(b,{I:()=>f});var d=c(38200),e=c(64319);let f=async function({collection:a,draftsEnabled:b,joins:c,limit:f,locale:g,page:h=1,pagination:i,req:j,select:k,sort:l,where:m}){let o=this.payload.collections[a].config,p=null!=l?l:o.defaultSort,q=this.tableNameMap.get(d(o.slug));return(0,e.n)({adapter:this,collectionSlug:o.slug,draftsEnabled:b,fields:o.flattenedFields,joins:c,limit:f,locale:g,page:h,pagination:i,req:j,select:k,sort:p,tableName:q,where:m})}},98224:(a,b,c)=>{"use strict";let{parseHeaders:d}=c(33895),{InvalidArgumentError:e}=c(212),f=Symbol("resume");class g{#cC=!1;#b9=null;#cD=!1;#cn;[f]=null;constructor(a){this.#cn=a}pause(){this.#cC=!0}resume(){this.#cC&&(this.#cC=!1,this[f]?.())}abort(a){this.#cD||(this.#cD=!0,this.#b9=a,this.#cn(a))}get aborted(){return this.#cD}get reason(){return this.#b9}get paused(){return this.#cC}}a.exports=class a{#a;#ch;constructor(a){this.#a=a}static unwrap(b){return b.onRequestStart?new a(b):b}onConnect(a,b){this.#ch=new g(a),this.#a.onRequestStart?.(this.#ch,b)}onUpgrade(a,b,c){this.#a.onRequestUpgrade?.(this.#ch,a,d(b),c)}onHeaders(a,b,c,e){return this.#ch[f]=c,this.#a.onResponseStart?.(this.#ch,a,d(b),e),!this.#ch.paused}onData(a){return this.#a.onResponseData?.(this.#ch,a),!this.#ch.paused}onComplete(a){this.#a.onResponseEnd?.(this.#ch,d(a))}onError(a){if(!this.#a.onResponseError)throw new e("invalid onError method");this.#a.onResponseError?.(this.#ch,a)}}},98327:(a,b,c)=>{"use strict";c.d(b,{U:()=>e,j:()=>f});var d=c(28492);let e=({output:a,parsedBody:b,exceptionCtor:c,errorCode:e})=>{let f=g(a),h=f.httpStatusCode?f.httpStatusCode+"":void 0,i=new c({name:b?.code||b?.Code||e||h||"UnknownError",$fault:"client",$metadata:f});throw(0,d.M)(i,b)},f=a=>({output:b,parsedBody:c,errorCode:d})=>{e({output:b,parsedBody:c,exceptionCtor:a,errorCode:d})},g=a=>({httpStatusCode:a.statusCode,requestId:a.headers["x-amzn-requestid"]??a.headers["x-amzn-request-id"]??a.headers["x-amz-request-id"],extendedRequestId:a.headers["x-amz-id-2"],cfId:a.headers["x-amz-cf-id"]})},98373:(a,b,c)=>{"use strict";let{normalizeIPv6:d,removeDotSegments:e,recomposeAuthority:f,normalizeComponentEncoding:g,isIPv4:h,nonSimpleDomain:i}=c(20728),{SCHEMES:j,getSchemeHandler:k}=c(21293);function l(a,b,c,d){let f={};return d||(a=p(m(a,c),c),b=p(m(b,c),c)),!(c=c||{}).tolerant&&b.scheme?(f.scheme=b.scheme,f.userinfo=b.userinfo,f.host=b.host,f.port=b.port,f.path=e(b.path||""),f.query=b.query):(void 0!==b.userinfo||void 0!==b.host||void 0!==b.port?(f.userinfo=b.userinfo,f.host=b.host,f.port=b.port,f.path=e(b.path||""),f.query=b.query):(b.path?("/"===b.path[0]?f.path=e(b.path):(void 0===a.userinfo&&void 0===a.host&&void 0===a.port||a.path?a.path?f.path=a.path.slice(0,a.path.lastIndexOf("/")+1)+b.path:f.path=b.path:f.path="/"+b.path,f.path=e(f.path)),f.query=b.query):(f.path=a.path,void 0!==b.query?f.query=b.query:f.query=a.query),f.userinfo=a.userinfo,f.host=a.host,f.port=a.port),f.scheme=a.scheme),f.fragment=b.fragment,f}function m(a,b){let c={host:a.host,scheme:a.scheme,userinfo:a.userinfo,port:a.port,path:a.path,query:a.query,nid:a.nid,nss:a.nss,uuid:a.uuid,fragment:a.fragment,reference:a.reference,resourceName:a.resourceName,secure:a.secure,error:""},d=Object.assign({},b),g=[],h=k(d.scheme||c.scheme);h&&h.serialize&&h.serialize(c,d),void 0!==c.path&&(d.skipEscape?c.path=unescape(c.path):(c.path=escape(c.path),void 0!==c.scheme&&(c.path=c.path.split("%3A").join(":")))),"suffix"!==d.reference&&c.scheme&&g.push(c.scheme,":");let i=f(c);if(void 0!==i&&("suffix"!==d.reference&&g.push("//"),g.push(i),c.path&&"/"!==c.path[0]&&g.push("/")),void 0!==c.path){let a=c.path;d.absolutePath||h&&h.absolutePath||(a=e(a)),void 0===i&&"/"===a[0]&&"/"===a[1]&&(a="/%2F"+a.slice(2)),g.push(a)}return void 0!==c.query&&g.push("?",c.query),void 0!==c.fragment&&g.push("#",c.fragment),g.join("")}let o=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function p(a,b){let c=Object.assign({},b),e={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},f=!1;"suffix"===c.reference&&(a=c.scheme?c.scheme+":"+a:"//"+a);let g=a.match(o);if(g){if(e.scheme=g[1],e.userinfo=g[3],e.host=g[4],e.port=parseInt(g[5],10),e.path=g[6]||"",e.query=g[7],e.fragment=g[8],isNaN(e.port)&&(e.port=g[5]),e.host)if(!1===h(e.host)){let a=d(e.host);e.host=a.host.toLowerCase(),f=a.isIPV6}else f=!0;void 0!==e.scheme||void 0!==e.userinfo||void 0!==e.host||void 0!==e.port||void 0!==e.query||e.path?void 0===e.scheme?e.reference="relative":void 0===e.fragment?e.reference="absolute":e.reference="uri":e.reference="same-document",c.reference&&"suffix"!==c.reference&&c.reference!==e.reference&&(e.error=e.error||"URI is not a "+c.reference+" reference.");let b=k(c.scheme||e.scheme);if(!c.unicodeSupport&&(!b||!b.unicodeSupport)&&e.host&&(c.domainHost||b&&b.domainHost)&&!1===f&&i(e.host))try{e.host=URL.domainToASCII(e.host.toLowerCase())}catch(a){e.error=e.error||"Host's domain name can not be converted to ASCII: "+a}(!b||b&&!b.skipNormalize)&&(-1!==a.indexOf("%")&&(void 0!==e.scheme&&(e.scheme=unescape(e.scheme)),void 0!==e.host&&(e.host=unescape(e.host))),e.path&&(e.path=escape(unescape(e.path))),e.fragment&&(e.fragment=encodeURI(decodeURIComponent(e.fragment)))),b&&b.parse&&b.parse(e,c)}else e.error=e.error||"URI can not be parsed.";return e}let q={SCHEMES:j,normalize:function(a,b){return"string"==typeof a?a=m(p(a,b),b):"object"==typeof a&&(a=p(m(a,b),b)),a},resolve:function(a,b,c){let d=c?Object.assign({scheme:"null"},c):{scheme:"null"},e=l(p(a,d),p(b,d),d,!0);return d.skipEscape=!0,m(e,d)},resolveComponent:l,equal:function(a,b,c){return"string"==typeof a?a=m(g(p(a=unescape(a),c),!0),{...c,skipEscape:!0}):"object"==typeof a&&(a=m(g(a,!0),{...c,skipEscape:!0})),"string"==typeof b?b=m(g(p(b=unescape(b),c),!0),{...c,skipEscape:!0}):"object"==typeof b&&(b=m(g(b,!0),{...c,skipEscape:!0})),a.toLowerCase()===b.toLowerCase()},serialize:m,parse:p};a.exports=q,a.exports.default=q,a.exports.fastUri=q},98571:(a,b,c)=>{"use strict";var d,e=c(84642),f=c(14822),g=c(81630),h=c(55591),i=c(27910),j=c(73496);let k=["ECONNRESET","EPIPE","ETIMEDOUT"],l=a=>{let b={};for(let c of Object.keys(a)){let d=a[c];b[c]=Array.isArray(d)?d.join(","):d}return b},m={setTimeout:(a,b)=>setTimeout(a,b),clearTimeout:a=>clearTimeout(a)},o=1e3,p=(a,b,c=0)=>{if(!c)return -1;let d=d=>{let e=m.setTimeout(()=>{a.destroy(),b(Object.assign(Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${c} ms.`),{name:"TimeoutError"}))},c-d),f=a=>{a?.connecting?a.on("connect",()=>{m.clearTimeout(e)}):m.clearTimeout(e)};a.socket?f(a.socket):a.on("socket",f)};return c<2e3?(d(0),0):m.setTimeout(d.bind(null,o),o)},q=(a,b,c=0,d,e)=>c?m.setTimeout(()=>{let f=`@smithy/node-http-handler - [${d?"ERROR":"WARN"}] a request has exceeded the configured ${c} ms requestTimeout.`;if(d){let c=Object.assign(Error(f),{name:"TimeoutError",code:"ETIMEDOUT"});a.destroy(c),b(c)}else f+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",e?.warn?.(f)},c):-1,r=3e3,s=(a,{keepAlive:b,keepAliveMsecs:c},d=r)=>{if(!0!==b)return -1;let e=()=>{a.socket?a.socket.setKeepAlive(b,c||0):a.on("socket",a=>{a.setKeepAlive(b,c||0)})};return 0===d?(e(),0):m.setTimeout(e,d)},t=3e3,u=(a,b,c=0)=>{let d=d=>{let e=c-d,f=()=>{a.destroy(),b(Object.assign(Error(`@smithy/node-http-handler - the request socket timed out after ${c} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};a.socket?(a.socket.setTimeout(e,f),a.on("close",()=>a.socket?.removeListener("timeout",f))):a.setTimeout(e,f)};return 0<c&&c<6e3?(d(0),0):m.setTimeout(d.bind(null,0===c?0:t),t)},v=6e3;async function w(a,b,c=v){let d=b.headers??{},e=d.Expect||d.expect,f=-1,g=!0;"100-continue"===e&&(g=await Promise.race([new Promise(a=>{f=Number(m.setTimeout(()=>a(!0),Math.max(v,c)))}),new Promise(b=>{a.on("continue",()=>{m.clearTimeout(f),b(!0)}),a.on("response",()=>{m.clearTimeout(f),b(!1)}),a.on("error",()=>{m.clearTimeout(f),b(!1)})})])),g&&x(a,b.body)}function x(a,b){if(b instanceof i.Readable)return void b.pipe(a);if(b){if(Buffer.isBuffer(b)||"string"==typeof b)return void a.end(b);let c=b;return"object"==typeof c&&c.buffer&&"number"==typeof c.byteOffset&&"number"==typeof c.byteLength?void a.end(Buffer.from(c.buffer,c.byteOffset,c.byteLength)):void a.end(Buffer.from(b))}a.end()}let y=0;class z{config;configProvider;socketWarningTimestamp=0;metadata={handlerProtocol:"http/1.1"};static create(a){return"function"==typeof a?.handle?a:new z(a)}static checkSocketUsage(a,b,c=console){let{sockets:d,requests:e,maxSockets:f}=a;if("number"!=typeof f||f===1/0)return b;let g=15e3;if(Date.now()-g<b)return b;if(d&&e)for(let a in d){let b=d[a]?.length??0,g=e[a]?.length??0;if(b>=f&&g>=2*f)return c?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${b} and ${g} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return b}constructor(a){this.configProvider=new Promise((b,c)=>{"function"==typeof a?a().then(a=>{b(this.resolveDefaultConfig(a))}).catch(c):b(this.resolveDefaultConfig(a))})}resolveDefaultConfig(a){let{requestTimeout:b,connectionTimeout:c,socketTimeout:d,socketAcquisitionWarningTimeout:e,httpAgent:f,httpsAgent:i,throwOnRequestTimeout:j}=a||{},k=!0,l=50;return{connectionTimeout:c,requestTimeout:b,socketTimeout:d,socketAcquisitionWarningTimeout:e,throwOnRequestTimeout:j,httpAgent:f instanceof g.Agent||"function"==typeof f?.destroy?f:new g.Agent({keepAlive:k,maxSockets:l,...f}),httpsAgent:i instanceof h.Agent||"function"==typeof i?.destroy?i:new h.Agent({keepAlive:k,maxSockets:l,...i}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(a,{abortSignal:b,requestTimeout:c}={}){return this.config||(this.config=await this.configProvider),new Promise((d,i)=>{let j,o,r=[],t=async a=>{await j,r.forEach(m.clearTimeout),d(a)},v=async a=>{await j,r.forEach(m.clearTimeout),i(a)};if(!this.config)throw Error("Node HTTP request handler config is not resolved");if(b?.aborted){let a=Error("Request aborted");a.name="AbortError",v(a);return}let x="https:"===a.protocol,y=x?this.config.httpsAgent:this.config.httpAgent;r.push(m.setTimeout(()=>{this.socketWarningTimestamp=z.checkSocketUsage(y,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let A=f.buildQueryString(a.query||{});if(null!=a.username||null!=a.password){let b=a.username??"",c=a.password??"";o=`${b}:${c}`}let B=a.path;A&&(B+=`?${A}`),a.fragment&&(B+=`#${a.fragment}`);let C=a.hostname??"";C="["===C[0]&&C.endsWith("]")?a.hostname.slice(1,-1):a.hostname;let D={headers:a.headers,host:C,method:a.method,path:B,port:a.port,agent:y,auth:o},E=(x?h.request:g.request)(D,a=>{t({response:new e.HttpResponse({statusCode:a.statusCode||-1,reason:a.statusMessage,headers:l(a.headers),body:a})})});if(E.on("error",a=>{k.includes(a.code)?v(Object.assign(a,{name:"TimeoutError"})):v(a)}),b){let a=()=>{E.destroy();let a=Error("Request aborted");a.name="AbortError",v(a)};if("function"==typeof b.addEventListener){let c=b;c.addEventListener("abort",a,{once:!0}),E.once("close",()=>c.removeEventListener("abort",a))}else b.onabort=a}let F=c??this.config.requestTimeout;r.push(p(E,v,this.config.connectionTimeout)),r.push(q(E,v,F,this.config.throwOnRequestTimeout,this.config.logger??console)),r.push(u(E,v,this.config.socketTimeout));let G=D.agent;"object"==typeof G&&"keepAlive"in G&&r.push(s(E,{keepAlive:G.keepAlive,keepAliveMsecs:G.keepAliveMsecs})),j=w(E,a,F).catch(a=>(r.forEach(m.clearTimeout),i(a)))})}updateHttpClientConfig(a,b){this.config=void 0,this.configProvider=this.configProvider.then(c=>({...c,[a]:b}))}httpHandlerConfigs(){return this.config??{}}}class A{sessions=[];constructor(a){this.sessions=a??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(a){this.sessions.push(a)}contains(a){return this.sessions.includes(a)}remove(a){this.sessions=this.sessions.filter(b=>b!==a)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(a){for(let b of this.sessions)b!==a||b.destroyed||b.destroy()}}class B{constructor(a){if(this.config=a,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(a,b){let c=this.getUrlString(a),d=this.sessionCache.get(c);if(d){let a=d.poll();if(a&&!this.config.disableConcurrency)return a}let e=j.connect(c);this.config.maxConcurrency&&e.settings({maxConcurrentStreams:this.config.maxConcurrency},b=>{if(b)throw Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+a.destination.toString())}),e.unref();let f=()=>{e.destroy(),this.deleteSession(c,e)};e.on("goaway",f),e.on("error",f),e.on("frameError",f),e.on("close",()=>this.deleteSession(c,e)),b.requestTimeout&&e.setTimeout(b.requestTimeout,f);let g=this.sessionCache.get(c)||new A;return g.offerLast(e),this.sessionCache.set(c,g),e}deleteSession(a,b){let c=this.sessionCache.get(a);c&&c.contains(b)&&(c.remove(b),this.sessionCache.set(a,c))}release(a,b){let c=this.getUrlString(a);this.sessionCache.get(c)?.offerLast(b)}destroy(){for(let[a,b]of this.sessionCache){for(let a of b)a.destroyed||a.destroy(),b.remove(a);this.sessionCache.delete(a)}}setMaxConcurrentStreams(a){if(a&&a<=0)throw RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=a}setDisableConcurrentStreams(a){this.config.disableConcurrency=a}getUrlString(a){return a.destination.toString()}}class C{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new B({});static create(a){return"function"==typeof a?.handle?a:new C(a)}constructor(a){this.configProvider=new Promise((b,c)=>{"function"==typeof a?a().then(a=>{b(a||{})}).catch(c):b(a||{})})}destroy(){this.connectionManager.destroy()}async handle(a,{abortSignal:b,requestTimeout:c}={}){!this.config&&(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:d,disableConcurrentStreams:g}=this.config,h=c??d;return new Promise((c,d)=>{let i,k=!1,m=async a=>{await i,c(a)},o=async a=>{await i,d(a)};if(b?.aborted){k=!0;let a=Error("Request aborted");a.name="AbortError",o(a);return}let{hostname:p,method:q,port:r,protocol:s,query:t}=a,u="";if(null!=a.username||null!=a.password){let b=a.username??"",c=a.password??"";u=`${b}:${c}@`}let v=`${s}//${u}${p}${r?`:${r}`:""}`,x={destination:new URL(v)},y=this.connectionManager.lease(x,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:g||!1}),z=a=>{g&&this.destroySession(y),k=!0,o(a)},A=f.buildQueryString(t||{}),B=a.path;A&&(B+=`?${A}`),a.fragment&&(B+=`#${a.fragment}`);let C=y.request({...a.headers,[j.constants.HTTP2_HEADER_PATH]:B,[j.constants.HTTP2_HEADER_METHOD]:q});if(y.ref(),C.on("response",a=>{let b=new e.HttpResponse({statusCode:a[":status"]||-1,headers:l(a),body:C});k=!0,m({response:b}),g&&(y.close(),this.connectionManager.deleteSession(v,y))}),h&&C.setTimeout(h,()=>{C.close();let a=Error(`Stream timed out because of no activity for ${h} ms`);a.name="TimeoutError",z(a)}),b){let a=()=>{C.close();let a=Error("Request aborted");a.name="AbortError",z(a)};if("function"==typeof b.addEventListener){let c=b;c.addEventListener("abort",a,{once:!0}),C.once("close",()=>c.removeEventListener("abort",a))}else b.onabort=a}C.on("frameError",(a,b,c)=>{z(Error(`Frame type id ${a} in stream id ${c} has failed with code ${b}.`))}),C.on("error",z),C.on("aborted",()=>{z(Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${C.rstCode}.`))}),C.on("close",()=>{y.unref(),g&&y.destroy(),k||z(Error("Unexpected error: http2 request did not get a response"))}),i=w(C,a,h)})}updateHttpClientConfig(a,b){this.config=void 0,this.configProvider=this.configProvider.then(c=>({...c,[a]:b}))}httpHandlerConfigs(){return this.config??{}}destroySession(a){a.destroyed||a.destroy()}}class D extends i.Writable{bufferedBytes=[];_write(a,b,c){this.bufferedBytes.push(a),c()}}let E=a=>F(a)?G(a):new Promise((b,c)=>{let d=new D;a.pipe(d),a.on("error",a=>{d.end(),c(a)}),d.on("error",c),d.on("finish",function(){b(new Uint8Array(Buffer.concat(this.bufferedBytes)))})}),F=a=>"function"==typeof ReadableStream&&a instanceof ReadableStream;async function G(a){let b=[],c=a.getReader(),d=!1,e=0;for(;!d;){let{done:a,value:f}=await c.read();f&&(b.push(f),e+=f.length),d=a}let f=new Uint8Array(e),g=0;for(let a of b)f.set(a,g),g+=a.length;return f}d=y,d=C,b.$c=z,b.kv=E},98661:(a,b,c)=>{"use strict";c.d(b,{k:()=>m});var d=c(50531),e=c(77262),f=c(39708),g=c(3217),h=c(38334),i=c(77915),j=c(28506),k=c(12436),l=c(94110);class m extends k.f{settings;constructor(a){super(),this.settings=a}read(a,b){let c=d.l.of(a);if(c.isListSchema())return(0,e.G)(b).map(a=>this.read(c.getValueSchema(),a));if(c.isBlobSchema())return(this.serdeContext?.base64Decoder??i.E)(b);if(c.isTimestampSchema())switch((0,l.V)(c,this.settings)){case 5:return(0,f.eH)(b);case 6:return(0,f.Gj)(b);case 7:return(0,f.UK)(b);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",b),new Date(b)}if(c.isStringSchema()){let a=c.getMergedTraits().mediaType,d=b;if(a)return c.getMergedTraits().httpHeader&&(d=this.base64ToUtf8(d)),("application/json"===a||a.endsWith("+json"))&&(d=g.A.from(d)),d}return c.isNumericSchema()?Number(b):c.isBigIntegerSchema()?BigInt(b):c.isBigDecimalSchema()?new h.D(b,"bigDecimal"):c.isBooleanSchema()?"true"===String(b).toLowerCase():b}base64ToUtf8(a){return(this.serdeContext?.utf8Encoder??j.P)((this.serdeContext?.base64Decoder??i.E)(a))}}},98667:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getWidthLimitedColumnsArray=b.createHeaderAsRow=b.renderTableHorizontalBorders=b.findLenOfColumn=b.createRow=b.createColumFromComputedColumn=b.createColumFromOnlyName=b.createTableHorizontalBorders=b.convertRawRowOptionsToStandard=b.cellText=void 0;let d=c(76692),e=c(22362),f=c(42314),g=c(34315),h=(a,b)=>Math.max(a,b);b.cellText=a=>null==a?"":`${a}`,b.convertRawRowOptionsToStandard=a=>{if(a)return{color:a.color,separator:a.separator||g.DEFAULT_ROW_SEPARATOR}},b.createTableHorizontalBorders=({left:a,mid:b,right:c,other:d},e)=>{let f=a;return e.forEach(a=>{f+=d.repeat(a+2),f+=b}),f=f.slice(0,-b.length)+c},b.createColumFromOnlyName=a=>({name:a,title:a}),b.createColumFromComputedColumn=a=>{var b;return Object.assign(Object.assign(Object.assign(Object.assign({name:a.name,title:null!=(b=a.title)?b:a.name},(0,d.objIfExists)("color",a.color)),(0,d.objIfExists)("maxLen",a.maxLen)),(0,d.objIfExists)("minLen",a.minLen)),{alignment:a.alignment||g.DEFAULT_ROW_ALIGNMENT})},b.createRow=(a,b,c)=>({color:a,separator:c,text:b});let i=(a,c,d)=>{let g=a.name,i=a.title,j=h(0,(null==a?void 0:a.minLen)||0);return a.maxLen?(j=h(j,h(a.maxLen,(0,f.biggestWordInSentence)(i,d))),j=c.reduce((a,c)=>h(a,(0,f.biggestWordInSentence)((0,b.cellText)(c.text[g]),d)),j)):(j=h(j,(0,e.findWidthInConsole)(i,d)),c.forEach(a=>{j=h(j,(0,e.findWidthInConsole)((0,b.cellText)(a.text[g]),d))}),j)};b.findLenOfColumn=i;let j=(a,c)=>(0,b.createTableHorizontalBorders)(a,c);b.renderTableHorizontalBorders=j,b.createHeaderAsRow=(a,b)=>{let c=a(g.DEFAULT_HEADER_FONT_COLOR,{},!1);return b.forEach(a=>{c.text[a.name]=a.title}),c};let k=(a,c,d)=>{let e={};return a.forEach(a=>{e[a.name]=(0,f.splitTextIntoTextsOfMinLen)((0,b.cellText)(c.text[a.name]),a.length||g.DEFAULT_COLUMN_LEN,d)}),e};b.getWidthLimitedColumnsArray=k},99083:(a,b,c)=>{"use strict";c.d(b,{k:()=>e});var d=c(77915);let e=async a=>"function"==typeof Blob&&a instanceof Blob||a.constructor?.name==="Blob"?void 0!==Blob.prototype.arrayBuffer?new Uint8Array(await a.arrayBuffer()):f(a):g(a);async function f(a){let b=await h(a);return new Uint8Array((0,d.E)(b))}async function g(a){let b=[],c=a.getReader(),d=!1,e=0;for(;!d;){let{done:a,value:f}=await c.read();f&&(b.push(f),e+=f.length),d=a}let f=new Uint8Array(e),g=0;for(let a of b)f.set(a,g),g+=a.length;return f}function h(a){return new Promise((b,c)=>{let d=new FileReader;d.onloadend=()=>{if(2!==d.readyState)return c(Error("Reader aborted too early"));let a=d.result??"",e=a.indexOf(","),f=e>-1?e+1:a.length;b(a.substring(f))},d.onabort=()=>c(Error("Read aborted")),d.onerror=()=>c(d.error),d.readAsDataURL(a)})}},99135:(a,b,c)=>{"use strict";var d,e=c(98053),f=c(18413),g=c(84642),h=c(60168);let i=void 0;function j(a){return void 0===a||"string"==typeof a&&a.length<=50}function k(a){let b=e.normalizeProvider(a.userAgentAppId??i),{customUserAgent:c}=a;return Object.assign(a,{customUserAgent:"string"==typeof c?[[c]]:c,userAgentAppId:async()=>{let c=await b();if(!j(c)){let b=a.logger?.constructor?.name!=="NoOpLogger"&&a.logger?a.logger:console;"string"!=typeof c?b?.warn("userAgentAppId must be a string or undefined."):c.length>50&&b?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return c}})}let l=/\d{12}\.ddb/;async function m(a,b,c){let d=c.request;if(d?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&h.setFeature(a,"PROTOCOL_RPC_V2_CBOR","M"),"function"==typeof b.retryStrategy){let c=await b.retryStrategy();"function"==typeof c.acquireInitialRetryToken?c.constructor?.name?.includes("Adaptive")?h.setFeature(a,"RETRY_MODE_ADAPTIVE","F"):h.setFeature(a,"RETRY_MODE_STANDARD","E"):h.setFeature(a,"RETRY_MODE_LEGACY","D")}if("function"==typeof b.accountIdEndpointMode){let c=a.endpointV2;switch(String(c?.url?.hostname).match(l)&&h.setFeature(a,"ACCOUNT_ID_ENDPOINT","O"),await b.accountIdEndpointMode?.()){case"disabled":h.setFeature(a,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":h.setFeature(a,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":h.setFeature(a,"ACCOUNT_ID_MODE_REQUIRED","R")}}let e=a.__smithy_context?.selectedHttpAuthScheme?.identity;if(e?.$source){let b=e;for(let[c,d]of(b.accountId&&h.setFeature(a,"RESOLVED_ACCOUNT_ID","T"),Object.entries(b.$source??{})))h.setFeature(a,c,d)}}let o="user-agent",p="x-amz-user-agent",q=" ",r="/",s=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,t=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,u="-",v=1024;function w(a){let b="";for(let c in a){let d=a[c];if(b.length+d.length+1<=v){b.length?b+=","+d:b+=d;continue}break}return b}let x=a=>(b,c)=>async d=>{let{request:e}=d;if(!g.HttpRequest.isInstance(e))return b(d);let{headers:h}=e,i=c?.userAgent?.map(y)||[],j=(await a.defaultUserAgentProvider()).map(y);await m(c,a,d);let k=c;j.push(`m/${w(Object.assign({},c.__smithy_context?.features,k.__aws_sdk_context?.features))}`);let l=a?.customUserAgent?.map(y)||[],r=await a.userAgentAppId();r&&j.push(y([`app/${r}`]));let s=f.getUserAgentPrefix(),t=(s?[s]:[]).concat([...j,...i,...l]).join(q),u=[...j.filter(a=>a.startsWith("aws-sdk-")),...l].join(q);return"browser"!==a.runtime?(u&&(h[p]=h[p]?`${h[o]} ${u}`:u),h[o]=t):h[p]=t,b({...d,request:e})},y=a=>{let b=a[0].split(r).map(a=>a.replace(s,u)).join(r),c=a[1]?.replace(t,u),d=b.indexOf(r),e=b.substring(0,d),f=b.substring(d+1);return"api"===e&&(f=f.toLowerCase()),[e,f,c].filter(a=>a&&a.length>0).reduce((a,b,c)=>{switch(c){case 0:return b;case 1:return`${a}/${b}`;default:return`${a}#${b}`}},"")},z={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},A=a=>({applyToStack:b=>{b.add(x(a),z)}});d=i,d=z,b.sM=A,b.Dc=k,d=x},99173:(a,b,c)=>{"use strict";c.r(b),c.d(b,{AlgorithmId:()=>h.dB,EndpointURLScheme:()=>g.U,FieldPosition:()=>k.w,HttpApiKeyAuthLocation:()=>f.n,HttpAuthLocation:()=>d,IniSectionType:()=>m.I,RequestHandlerProtocol:()=>e,SMITHY_CONTEXT_KEY:()=>l.V,getDefaultClientConfiguration:()=>i,resolveDefaultRuntimeConfig:()=>j}),function(a){a.HEADER="header",a.QUERY="query"}(d||(d={}));var d,e,f=c(87993),g=c(80982),h=c(16063);let i=a=>(0,h.M2)(a),j=a=>(0,h.MS)(a);var k=c(70059),l=c(99395),m=c(84386);!function(a){a.HTTP_0_9="http/0.9",a.HTTP_1_0="http/1.0",a.TDS_8_0="tds/8.0"}(e||(e={}))},99210:(a,b,c)=>{"use strict";var d,e=c(29021),f=c(58331),g=c(27910);class h extends g.Writable{hash;constructor(a,b){super(b),this.hash=a}_write(a,b,c){try{this.hash.update(f.toUint8Array(a))}catch(a){return c(a)}c()}}let i=a=>"string"==typeof a.path,j=(a,b)=>{if(null!==b.readableFlowing)throw Error("Unable to calculate hash for flowing readable stream");let c=new a,d=new h(c);return b.pipe(d),new Promise((a,e)=>{b.on("error",a=>{d.end(),e(a)}),d.on("error",e),d.on("finish",()=>{c.digest().then(a).catch(e)})})};d=(a,b)=>new Promise((c,d)=>{if(!i(b))return void d(Error("Unable to calculate hash for non-file streams."));let f=e.createReadStream(b.path,{start:b.start,end:b.end}),g=new a,j=new h(g);f.pipe(j),f.on("error",a=>{j.end(),d(a)}),j.on("error",d),j.on("finish",function(){g.digest().then(c).catch(d)})}),b.S=j},99284:a=>{"use strict";a.exports=EvalError},99288:a=>{(()=>{"use strict";let b;var c={d:(a,b)=>{for(var d in b)c.o(b,d)&&!c.o(a,d)&&Object.defineProperty(a,d,{enumerable:!0,get:b[d]})},o:(a,b)=>Object.prototype.hasOwnProperty.call(a,b),r:a=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}},d={};c.r(d),c.d(d,{XMLBuilder:()=>ao,XMLParser:()=>ag,XMLValidator:()=>as});let e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",f=RegExp("^["+e+"]["+e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function g(a,b){let c=[],d=b.exec(a);for(;d;){let e=[];e.startIndex=b.lastIndex-d[0].length;let f=d.length;for(let a=0;a<f;a++)e.push(d[a]);c.push(e),d=b.exec(a)}return c}let h=function(a){return null!=f.exec(a)},i={allowBooleanAttributes:!1,unpairedTags:[]};function j(a,b){b=Object.assign({},i,b);let c=[],d=!1,e=!1;"\uFEFF"===a[0]&&(a=a.substr(1));for(let f=0;f<a.length;f++)if("<"===a[f]&&"?"===a[f+1]){if(f+=2,(f=l(a,f)).err)return f}else{if("<"!==a[f]){if(k(a[f]))continue;return u("InvalidChar","char '"+a[f]+"' is not expected.",w(a,f))}{let g=f;if("!"===a[++f]){f=m(a,f);continue}{let i=!1;"/"===a[f]&&(i=!0,f++);let j="";for(;f<a.length&&">"!==a[f]&&" "!==a[f]&&"	"!==a[f]&&"\n"!==a[f]&&"\r"!==a[f];f++)j+=a[f];if("/"===(j=j.trim())[j.length-1]&&(j=j.substring(0,j.length-1),f--),!h(j))return u("InvalidTag",0===j.trim().length?"Invalid space after '<'.":"Tag '"+j+"' is an invalid name.",w(a,f));let o=q(a,f);if(!1===o)return u("InvalidAttr","Attributes for '"+j+"' have open quote.",w(a,f));let p=o.value;if(f=o.index,"/"===p[p.length-1]){let c=f-p.length,e=s(p=p.substring(0,p.length-1),b);if(!0!==e)return u(e.err.code,e.err.msg,w(a,c+e.err.line));d=!0}else if(i){if(!o.tagClosed)return u("InvalidTag","Closing tag '"+j+"' doesn't have proper closing.",w(a,f));if(p.trim().length>0)return u("InvalidTag","Closing tag '"+j+"' can't have attributes or invalid starting.",w(a,g));if(0===c.length)return u("InvalidTag","Closing tag '"+j+"' has not been opened.",w(a,g));{let b=c.pop();if(j!==b.tagName){let c=w(a,b.tagStartPos);return u("InvalidTag","Expected closing tag '"+b.tagName+"' (opened in line "+c.line+", col "+c.col+") instead of closing tag '"+j+"'.",w(a,g))}0==c.length&&(e=!0)}}else{let h=s(p,b);if(!0!==h)return u(h.err.code,h.err.msg,w(a,f-p.length+h.err.line));if(!0===e)return u("InvalidXml","Multiple possible root nodes found.",w(a,f));-1!==b.unpairedTags.indexOf(j)||c.push({tagName:j,tagStartPos:g}),d=!0}for(f++;f<a.length;f++)if("<"===a[f]){if("!"===a[f+1]){f=m(a,++f);continue}if("?"!==a[f+1])break;if((f=l(a,++f)).err)return f}else if("&"===a[f]){let b=t(a,f);if(-1==b)return u("InvalidChar","char '&' is not expected.",w(a,f));f=b}else if(!0===e&&!k(a[f]))return u("InvalidXml","Extra text at the end",w(a,f));"<"===a[f]&&f--}}}return d?1==c.length?u("InvalidTag","Unclosed tag '"+c[0].tagName+"'.",w(a,c[0].tagStartPos)):!(c.length>0)||u("InvalidXml","Invalid '"+JSON.stringify(c.map(a=>a.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):u("InvalidXml","Start tag expected.",1)}function k(a){return" "===a||"	"===a||"\n"===a||"\r"===a}function l(a,b){let c=b;for(;b<a.length;b++)if("?"!=a[b]&&" "!=a[b]);else{let d=a.substr(c,b-c);if(b>5&&"xml"===d)return u("InvalidXml","XML declaration allowed only at the start of the document.",w(a,b));if("?"==a[b]&&">"==a[b+1]){b++;break}}return b}function m(a,b){if(a.length>b+5&&"-"===a[b+1]&&"-"===a[b+2]){for(b+=3;b<a.length;b++)if("-"===a[b]&&"-"===a[b+1]&&">"===a[b+2]){b+=2;break}}else if(a.length>b+8&&"D"===a[b+1]&&"O"===a[b+2]&&"C"===a[b+3]&&"T"===a[b+4]&&"Y"===a[b+5]&&"P"===a[b+6]&&"E"===a[b+7]){let c=1;for(b+=8;b<a.length;b++)if("<"===a[b])c++;else if(">"===a[b]&&0==--c)break}else if(a.length>b+9&&"["===a[b+1]&&"C"===a[b+2]&&"D"===a[b+3]&&"A"===a[b+4]&&"T"===a[b+5]&&"A"===a[b+6]&&"["===a[b+7]){for(b+=8;b<a.length;b++)if("]"===a[b]&&"]"===a[b+1]&&">"===a[b+2]){b+=2;break}}return b}let o='"',p="'";function q(a,b){let c="",d="",e=!1;for(;b<a.length;b++){if(a[b]===o||a[b]===p)""===d?d=a[b]:d!==a[b]||(d="");else if(">"===a[b]&&""===d){e=!0;break}c+=a[b]}return""===d&&{value:c,index:b,tagClosed:e}}let r=RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function s(a,b){let c=g(a,r),d={};for(let a=0;a<c.length;a++){if(0===c[a][1].length)return u("InvalidAttr","Attribute '"+c[a][2]+"' has no space in starting.",x(c[a]));if(void 0!==c[a][3]&&void 0===c[a][4])return u("InvalidAttr","Attribute '"+c[a][2]+"' is without value.",x(c[a]));if(void 0===c[a][3]&&!b.allowBooleanAttributes)return u("InvalidAttr","boolean attribute '"+c[a][2]+"' is not allowed.",x(c[a]));let e=c[a][2];if(!v(e))return u("InvalidAttr","Attribute '"+e+"' is an invalid name.",x(c[a]));if(d.hasOwnProperty(e))return u("InvalidAttr","Attribute '"+e+"' is repeated.",x(c[a]));d[e]=1}return!0}function t(a,b){if(";"===a[++b])return -1;if("#"===a[b])return function(a,b){let c=/\d/;for("x"===a[b]&&(b++,c=/[\da-fA-F]/);b<a.length;b++){if(";"===a[b])return b;if(!a[b].match(c))break}return -1}(a,++b);let c=0;for(;b<a.length;b++,c++)if(!(a[b].match(/\w/)&&c<20)){if(";"===a[b])break;return -1}return b}function u(a,b,c){return{err:{code:a,msg:b,line:c.line||c,col:c.col}}}function v(a){return h(a)}function w(a,b){let c=a.substring(0,b).split(/\r?\n/);return{line:c.length,col:c[c.length-1].length+1}}function x(a){return a.startIndex+a[1].length}let y={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(a,b){return b},attributeValueProcessor:function(a,b){return b},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(a,b,c){return a},captureMetaData:!1};b="function"!=typeof Symbol?"@@xmlMetadata":Symbol("XML Node Metadata");class z{constructor(a){this.tagname=a,this.child=[],this[":@"]={}}add(a,b){"__proto__"===a&&(a="#__proto__"),this.child.push({[a]:b})}addChild(a,c){"__proto__"===a.tagname&&(a.tagname="#__proto__"),a[":@"]&&Object.keys(a[":@"]).length>0?this.child.push({[a.tagname]:a.child,":@":a[":@"]}):this.child.push({[a.tagname]:a.child}),void 0!==c&&(this.child[this.child.length-1][b]={startIndex:c})}static getMetaDataSymbol(){return b}}function A(a,b){let c={};if("O"!==a[b+3]||"C"!==a[b+4]||"T"!==a[b+5]||"Y"!==a[b+6]||"P"!==a[b+7]||"E"!==a[b+8])throw Error("Invalid Tag instead of DOCTYPE");{b+=9;let d=1,e=!1,f=!1,g="";for(;b<a.length;b++)if("<"!==a[b]||f)if(">"===a[b]){if(f?"-"===a[b-1]&&"-"===a[b-2]&&(f=!1,d--):d--,0===d)break}else"["===a[b]?e=!0:g+=a[b];else{if(e&&G(a,"!ENTITY",b)){let d,e;b+=7,[d,e,b]=C(a,b+1),-1===e.indexOf("&")&&(c[d]={regx:RegExp(`&${d};`,"g"),val:e})}else if(e&&G(a,"!ELEMENT",b)){let{index:c}=F(a,(b+=8)+1);b=c}else if(e&&G(a,"!ATTLIST",b))b+=8;else if(e&&G(a,"!NOTATION",b)){let{index:c}=D(a,(b+=9)+1);b=c}else{if(!G(a,"!--",b))throw Error("Invalid DOCTYPE");f=!0}d++,g=""}if(0!==d)throw Error("Unclosed DOCTYPE")}return{entities:c,i:b}}let B=(a,b)=>{for(;b<a.length&&/\s/.test(a[b]);)b++;return b};function C(a,b){b=B(a,b);let c="";for(;b<a.length&&!/\s/.test(a[b])&&'"'!==a[b]&&"'"!==a[b];)c+=a[b],b++;if(H(c),b=B(a,b),"SYSTEM"===a.substring(b,b+6).toUpperCase())throw Error("External entities are not supported");if("%"===a[b])throw Error("Parameter entities are not supported");let d="";return[b,d]=E(a,b,"entity"),[c,d,--b]}function D(a,b){b=B(a,b);let c="";for(;b<a.length&&!/\s/.test(a[b]);)c+=a[b],b++;H(c),b=B(a,b);let d=a.substring(b,b+6).toUpperCase();if("SYSTEM"!==d&&"PUBLIC"!==d)throw Error(`Expected SYSTEM or PUBLIC, found "${d}"`);b+=d.length,b=B(a,b);let e=null,f=null;if("PUBLIC"===d)[b,e]=E(a,b,"publicIdentifier"),'"'!==a[b=B(a,b)]&&"'"!==a[b]||([b,f]=E(a,b,"systemIdentifier"));else if("SYSTEM"===d&&([b,f]=E(a,b,"systemIdentifier"),!f))throw Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:c,publicIdentifier:e,systemIdentifier:f,index:--b}}function E(a,b,c){let d="",e=a[b];if('"'!==e&&"'"!==e)throw Error(`Expected quoted string, found "${e}"`);for(b++;b<a.length&&a[b]!==e;)d+=a[b],b++;if(a[b]!==e)throw Error(`Unterminated ${c} value`);return[++b,d]}function F(a,b){b=B(a,b);let c="";for(;b<a.length&&!/\s/.test(a[b]);)c+=a[b],b++;if(!H(c))throw Error(`Invalid element name: "${c}"`);let d="";if("E"===a[b=B(a,b)]&&G(a,"MPTY",b))b+=4;else if("A"===a[b]&&G(a,"NY",b))b+=2;else{if("("!==a[b])throw Error(`Invalid Element Expression, found "${a[b]}"`);for(b++;b<a.length&&")"!==a[b];)d+=a[b],b++;if(")"!==a[b])throw Error("Unterminated content model")}return{elementName:c,contentModel:d.trim(),index:b}}function G(a,b,c){for(let d=0;d<b.length;d++)if(b[d]!==a[c+d+1])return!1;return!0}function H(a){if(h(a))return a;throw Error(`Invalid entity name ${a}`)}let I=/^[-+]?0x[a-fA-F0-9]+$/,J=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,K={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},L=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function M(a){return"function"==typeof a?a:Array.isArray(a)?b=>{for(let c of a)if("string"==typeof c&&b===c||c instanceof RegExp&&c.test(b))return!0}:()=>!1}class N{constructor(a){this.options=a,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xa2"},pound:{regex:/&(pound|#163);/g,val:"\xa3"},yen:{regex:/&(yen|#165);/g,val:"\xa5"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"\xa9"},reg:{regex:/&(reg|#174);/g,val:"\xae"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(a,b)=>String.fromCodePoint(Number.parseInt(b,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(a,b)=>String.fromCodePoint(Number.parseInt(b,16))}},this.addExternalEntities=O,this.parseXml=T,this.parseTextData=P,this.resolveNameSpace=Q,this.buildAttributesMap=S,this.isItStopNode=X,this.replaceEntitiesValue=V,this.readStopNodeData=$,this.saveTextToParentTag=W,this.addChild=U,this.ignoreAttributesFn=M(this.options.ignoreAttributes)}}function O(a){let b=Object.keys(a);for(let c=0;c<b.length;c++){let d=b[c];this.lastEntities[d]={regex:RegExp("&"+d+";","g"),val:a[d]}}}function P(a,b,c,d,e,f,g){if(void 0!==a&&(this.options.trimValues&&!d&&(a=a.trim()),a.length>0)){g||(a=this.replaceEntitiesValue(a));let d=this.options.tagValueProcessor(b,a,c,e,f);return null==d?a:typeof d!=typeof a||d!==a?d:this.options.trimValues||a.trim()===a?_(a,this.options.parseTagValue,this.options.numberParseOptions):a}}function Q(a){if(this.options.removeNSPrefix){let b=a.split(":"),c="/"===a.charAt(0)?"/":"";if("xmlns"===b[0])return"";2===b.length&&(a=c+b[1])}return a}let R=RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function S(a,b,c){if(!0!==this.options.ignoreAttributes&&"string"==typeof a){let c=g(a,R),d=c.length,e={};for(let a=0;a<d;a++){let d=this.resolveNameSpace(c[a][1]);if(this.ignoreAttributesFn(d,b))continue;let f=c[a][4],g=this.options.attributeNamePrefix+d;if(d.length)if(this.options.transformAttributeName&&(g=this.options.transformAttributeName(g)),"__proto__"===g&&(g="#__proto__"),void 0!==f){this.options.trimValues&&(f=f.trim()),f=this.replaceEntitiesValue(f);let a=this.options.attributeValueProcessor(d,f,b);e[g]=null==a?f:typeof a!=typeof f||a!==f?a:_(f,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(e[g]=!0)}if(Object.keys(e).length){if(this.options.attributesGroupName){let a={};return a[this.options.attributesGroupName]=e,a}return e}}}let T=function(a){a=a.replace(/\r\n?/g,"\n");let b=new z("!xml"),c=b,d="",e="";for(let f=0;f<a.length;f++)if("<"===a[f])if("/"===a[f+1]){let b=Y(a,">",f,"Closing Tag is not closed."),g=a.substring(f+2,b).trim();if(this.options.removeNSPrefix){let a=g.indexOf(":");-1!==a&&(g=g.substr(a+1))}this.options.transformTagName&&(g=this.options.transformTagName(g)),c&&(d=this.saveTextToParentTag(d,c,e));let h=e.substring(e.lastIndexOf(".")+1);if(g&&-1!==this.options.unpairedTags.indexOf(g))throw Error(`Unpaired tag can not be used as closing tag: </${g}>`);let i=0;h&&-1!==this.options.unpairedTags.indexOf(h)?(i=e.lastIndexOf(".",e.lastIndexOf(".")-1),this.tagsNodeStack.pop()):i=e.lastIndexOf("."),e=e.substring(0,i),c=this.tagsNodeStack.pop(),d="",f=b}else if("?"===a[f+1]){let b=Z(a,f,!1,"?>");if(!b)throw Error("Pi Tag is not closed.");if(d=this.saveTextToParentTag(d,c,e),this.options.ignoreDeclaration&&"?xml"===b.tagName||this.options.ignorePiTags);else{let a=new z(b.tagName);a.add(this.options.textNodeName,""),b.tagName!==b.tagExp&&b.attrExpPresent&&(a[":@"]=this.buildAttributesMap(b.tagExp,e,b.tagName)),this.addChild(c,a,e,f)}f=b.closeIndex+1}else if("!--"===a.substr(f+1,3)){let b=Y(a,"--\x3e",f+4,"Comment is not closed.");if(this.options.commentPropName){let g=a.substring(f+4,b-2);d=this.saveTextToParentTag(d,c,e),c.add(this.options.commentPropName,[{[this.options.textNodeName]:g}])}f=b}else if("!D"===a.substr(f+1,2)){let b=A(a,f);this.docTypeEntities=b.entities,f=b.i}else if("!["===a.substr(f+1,2)){let b=Y(a,"]]>",f,"CDATA is not closed.")-2,g=a.substring(f+9,b);d=this.saveTextToParentTag(d,c,e);let h=this.parseTextData(g,c.tagname,e,!0,!1,!0,!0);null==h&&(h=""),this.options.cdataPropName?c.add(this.options.cdataPropName,[{[this.options.textNodeName]:g}]):c.add(this.options.textNodeName,h),f=b+2}else{let g=Z(a,f,this.options.removeNSPrefix),h=g.tagName,i=g.rawTagName,j=g.tagExp,k=g.attrExpPresent,l=g.closeIndex;this.options.transformTagName&&(h=this.options.transformTagName(h)),c&&d&&"!xml"!==c.tagname&&(d=this.saveTextToParentTag(d,c,e,!1));let m=c;m&&-1!==this.options.unpairedTags.indexOf(m.tagname)&&(c=this.tagsNodeStack.pop(),e=e.substring(0,e.lastIndexOf("."))),h!==b.tagname&&(e+=e?"."+h:h);let o=f;if(this.isItStopNode(this.options.stopNodes,e,h)){let b="";if(j.length>0&&j.lastIndexOf("/")===j.length-1)"/"===h[h.length-1]?(h=h.substr(0,h.length-1),e=e.substr(0,e.length-1),j=h):j=j.substr(0,j.length-1),f=g.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(h))f=g.closeIndex;else{let c=this.readStopNodeData(a,i,l+1);if(!c)throw Error(`Unexpected end of ${i}`);f=c.i,b=c.tagContent}let d=new z(h);h!==j&&k&&(d[":@"]=this.buildAttributesMap(j,e,h)),b&&(b=this.parseTextData(b,h,e,!0,k,!0,!0)),e=e.substr(0,e.lastIndexOf(".")),d.add(this.options.textNodeName,b),this.addChild(c,d,e,o)}else{if(j.length>0&&j.lastIndexOf("/")===j.length-1){"/"===h[h.length-1]?(h=h.substr(0,h.length-1),e=e.substr(0,e.length-1),j=h):j=j.substr(0,j.length-1),this.options.transformTagName&&(h=this.options.transformTagName(h));let a=new z(h);h!==j&&k&&(a[":@"]=this.buildAttributesMap(j,e,h)),this.addChild(c,a,e,o),e=e.substr(0,e.lastIndexOf("."))}else{let a=new z(h);this.tagsNodeStack.push(c),h!==j&&k&&(a[":@"]=this.buildAttributesMap(j,e,h)),this.addChild(c,a,e,o),c=a}d="",f=l}}else d+=a[f];return b.child};function U(a,b,c,d){this.options.captureMetaData||(d=void 0);let e=this.options.updateTag(b.tagname,c,b[":@"]);!1===e||("string"==typeof e&&(b.tagname=e),a.addChild(b,d))}let V=function(a){if(this.options.processEntities){for(let b in this.docTypeEntities){let c=this.docTypeEntities[b];a=a.replace(c.regx,c.val)}for(let b in this.lastEntities){let c=this.lastEntities[b];a=a.replace(c.regex,c.val)}if(this.options.htmlEntities)for(let b in this.htmlEntities){let c=this.htmlEntities[b];a=a.replace(c.regex,c.val)}a=a.replace(this.ampEntity.regex,this.ampEntity.val)}return a};function W(a,b,c,d){return a&&(void 0===d&&(d=0===b.child.length),void 0!==(a=this.parseTextData(a,b.tagname,c,!1,!!b[":@"]&&0!==Object.keys(b[":@"]).length,d))&&""!==a&&b.add(this.options.textNodeName,a),a=""),a}function X(a,b,c){let d="*."+c;for(let c in a){let e=a[c];if(d===e||b===e)return!0}return!1}function Y(a,b,c,d){let e=a.indexOf(b,c);if(-1===e)throw Error(d);return e+b.length-1}function Z(a,b,c,d=">"){let e=function(a,b,c=">"){let d,e="";for(let f=b;f<a.length;f++){let b=a[f];if(d)b===d&&(d="");else if('"'===b||"'"===b)d=b;else if(b===c[0]){if(!c[1]||a[f+1]===c[1])return{data:e,index:f}}else"	"===b&&(b=" ");e+=b}}(a,b+1,d);if(!e)return;let f=e.data,g=e.index,h=f.search(/\s/),i=f,j=!0;-1!==h&&(i=f.substring(0,h),f=f.substring(h+1).trimStart());let k=i;if(c){let a=i.indexOf(":");-1!==a&&(j=(i=i.substr(a+1))!==e.data.substr(a+1))}return{tagName:i,tagExp:f,closeIndex:g,attrExpPresent:j,rawTagName:k}}function $(a,b,c){let d=c,e=1;for(;c<a.length;c++)if("<"===a[c])if("/"===a[c+1]){let f=Y(a,">",c,`${b} is not closed`);if(a.substring(c+2,f).trim()===b&&0==--e)return{tagContent:a.substring(d,c),i:f};c=f}else if("?"===a[c+1])c=Y(a,"?>",c+1,"StopNode is not closed.");else if("!--"===a.substr(c+1,3))c=Y(a,"--\x3e",c+3,"StopNode is not closed.");else if("!["===a.substr(c+1,2))c=Y(a,"]]>",c,"StopNode is not closed.")-2;else{let d=Z(a,c,">");d&&((d&&d.tagName)===b&&"/"!==d.tagExp[d.tagExp.length-1]&&e++,c=d.closeIndex)}}function _(a,b,c){if(b&&"string"==typeof a){let b=a.trim();return"true"===b||"false"!==b&&function(a,b={}){var c;if(b=Object.assign({},K,b),!a||"string"!=typeof a)return a;let d=a.trim();if(void 0!==b.skipLike&&b.skipLike.test(d))return a;if("0"===a)return 0;if(b.hex&&I.test(d))return function(a){if(parseInt)return parseInt(a,16);if(Number.parseInt)return Number.parseInt(a,16);if(window&&window.parseInt)return window.parseInt(a,16);throw Error("parseInt, Number.parseInt, window.parseInt are not supported")}(d);if(-1!==d.search(/.+[eE].+/))return function(a,b,c){if(!c.eNotation)return a;let d=b.match(L);if(d){let e=d[1]||"",f=-1===d[3].indexOf("e")?"E":"e",g=d[2],h=e?a[g.length+1]===f:a[g.length]===f;return g.length>1&&h?a:1===g.length&&(d[3].startsWith(`.${f}`)||d[3][0]===f)?Number(b):c.leadingZeros&&!h?Number(b=(d[1]||"")+d[3]):a}return a}(a,d,b);{let e=J.exec(d);if(e){let f=e[1]||"",g=e[2],h=((c=e[3])&&-1!==c.indexOf(".")&&("."===(c=c.replace(/0+$/,""))?c="0":"."===c[0]?c="0"+c:"."===c[c.length-1]&&(c=c.substring(0,c.length-1))),c),i=f?"."===a[g.length+1]:"."===a[g.length];if(!b.leadingZeros&&(g.length>1||1===g.length&&!i))return a;{let c=Number(d),e=String(c);if(0===c||-0===c)return c;if(-1!==e.search(/[eE]/))return b.eNotation?c:a;if(-1!==d.indexOf("."))return"0"===e||e===h||e===`${f}${h}`?c:a;let i=g?h:d;return g?i===e||f+i===e?c:a:i===e||i===f+e?c:a}}return a}}(a,c)}return void 0!==a?a:""}let aa=z.getMetaDataSymbol();function ab(a,b){return ac(a,b)}function ac(a,b,c){let d,e={};for(let f=0;f<a.length;f++){let g=a[f],h=ad(g),i="";if(i=void 0===c?h:c+"."+h,h===b.textNodeName)void 0===d?d=g[h]:d+=""+g[h];else{if(void 0===h)continue;if(g[h]){let a=ac(g[h],b,i),c=af(a,b);void 0!==g[aa]&&(a[aa]=g[aa]),g[":@"]?ae(a,g[":@"],i,b):1!==Object.keys(a).length||void 0===a[b.textNodeName]||b.alwaysCreateTextNode?0===Object.keys(a).length&&(b.alwaysCreateTextNode?a[b.textNodeName]="":a=""):a=a[b.textNodeName],void 0!==e[h]&&e.hasOwnProperty(h)?(Array.isArray(e[h])||(e[h]=[e[h]]),e[h].push(a)):b.isArray(h,i,c)?e[h]=[a]:e[h]=a}}}return"string"==typeof d?d.length>0&&(e[b.textNodeName]=d):void 0!==d&&(e[b.textNodeName]=d),e}function ad(a){let b=Object.keys(a);for(let a=0;a<b.length;a++){let c=b[a];if(":@"!==c)return c}}function ae(a,b,c,d){if(b){let e=Object.keys(b),f=e.length;for(let g=0;g<f;g++){let f=e[g];d.isArray(f,c+"."+f,!0,!0)?a[f]=[b[f]]:a[f]=b[f]}}}function af(a,b){let{textNodeName:c}=b,d=Object.keys(a).length;return 0===d||!(1!==d||!a[c]&&"boolean"!=typeof a[c]&&0!==a[c])}class ag{constructor(a){this.externalEntities={},this.options=function(a){return Object.assign({},y,a)}(a)}parse(a,b){if("string"==typeof a);else{if(!a.toString)throw Error("XML data is accepted in String or Bytes[] form.");a=a.toString()}if(b){!0===b&&(b={});let c=j(a,b);if(!0!==c)throw Error(`${c.err.msg}:${c.err.line}:${c.err.col}`)}let c=new N(this.options);c.addExternalEntities(this.externalEntities);let d=c.parseXml(a);return this.options.preserveOrder||void 0===d?d:ab(d,this.options)}addEntity(a,b){if(-1!==b.indexOf("&"))throw Error("Entity value can't have '&'");if(-1!==a.indexOf("&")||-1!==a.indexOf(";"))throw Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===b)throw Error("An entity with value '&' is not permitted");this.externalEntities[a]=b}static getMetaDataSymbol(){return z.getMetaDataSymbol()}}function ah(a,b){let c="";return b.format&&b.indentBy.length>0&&(c="\n"),ai(a,b,"",c)}function ai(a,b,c,d){let e="",f=!1;for(let g=0;g<a.length;g++){let h=a[g],i=aj(h);if(void 0===i)continue;let j="";if(j=0===c.length?i:`${c}.${i}`,i===b.textNodeName){let a=h[i];al(j,b)||(a=am(a=b.tagValueProcessor(i,a),b)),f&&(e+=d),e+=a,f=!1;continue}if(i===b.cdataPropName){f&&(e+=d),e+=`<![CDATA[${h[i][0][b.textNodeName]}]]>`,f=!1;continue}if(i===b.commentPropName){e+=d+`<!--${h[i][0][b.textNodeName]}-->`,f=!0;continue}if("?"===i[0]){let a=ak(h[":@"],b),c="?xml"===i?"":d,g=h[i][0][b.textNodeName];g=0!==g.length?" "+g:"",e+=c+`<${i}${g}${a}?>`,f=!0;continue}let k=d;""!==k&&(k+=b.indentBy);let l=d+`<${i}${ak(h[":@"],b)}`,m=ai(h[i],b,j,k);-1!==b.unpairedTags.indexOf(i)?b.suppressUnpairedNode?e+=l+">":e+=l+"/>":m&&0!==m.length||!b.suppressEmptyNode?m&&m.endsWith(">")?e+=l+`>${m}${d}</${i}>`:(e+=l+">",m&&""!==d&&(m.includes("/>")||m.includes("</"))?e+=d+b.indentBy+m+d:e+=m,e+=`</${i}>`):e+=l+"/>",f=!0}return e}function aj(a){let b=Object.keys(a);for(let c=0;c<b.length;c++){let d=b[c];if(a.hasOwnProperty(d)&&":@"!==d)return d}}function ak(a,b){let c="";if(a&&!b.ignoreAttributes)for(let d in a){if(!a.hasOwnProperty(d))continue;let e=b.attributeValueProcessor(d,a[d]);!0===(e=am(e,b))&&b.suppressBooleanAttributes?c+=` ${d.substr(b.attributeNamePrefix.length)}`:c+=` ${d.substr(b.attributeNamePrefix.length)}="${e}"`}return c}function al(a,b){let c=(a=a.substr(0,a.length-b.textNodeName.length-1)).substr(a.lastIndexOf(".")+1);for(let d in b.stopNodes)if(b.stopNodes[d]===a||b.stopNodes[d]==="*."+c)return!0;return!1}function am(a,b){if(a&&a.length>0&&b.processEntities)for(let c=0;c<b.entities.length;c++){let d=b.entities[c];a=a.replace(d.regex,d.val)}return a}let an={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(a,b){return b},attributeValueProcessor:function(a,b){return b},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:RegExp("&","g"),val:"&amp;"},{regex:RegExp(">","g"),val:"&gt;"},{regex:RegExp("<","g"),val:"&lt;"},{regex:RegExp("'","g"),val:"&apos;"},{regex:RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function ao(a){this.options=Object.assign({},an,a),!0===this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=M(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=ar),this.processTextOrObjNode=ap,this.options.format?(this.indentate=aq,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function ap(a,b,c,d){let e=this.j2x(a,c+1,d.concat(b));return void 0!==a[this.options.textNodeName]&&1===Object.keys(a).length?this.buildTextValNode(a[this.options.textNodeName],b,e.attrStr,c):this.buildObjectNode(e.val,b,e.attrStr,c)}function aq(a){return this.options.indentBy.repeat(a)}function ar(a){return!(!a.startsWith(this.options.attributeNamePrefix)||a===this.options.textNodeName)&&a.substr(this.attrPrefixLen)}ao.prototype.build=function(a){return this.options.preserveOrder?ah(a,this.options):(Array.isArray(a)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(a={[this.options.arrayNodeName]:a}),this.j2x(a,0,[]).val)},ao.prototype.j2x=function(a,b,c){let d="",e="",f=c.join(".");for(let g in a)if(Object.prototype.hasOwnProperty.call(a,g))if(void 0===a[g])this.isAttribute(g)&&(e+="");else if(null===a[g])this.isAttribute(g)||g===this.options.cdataPropName?e+="":"?"===g[0]?e+=this.indentate(b)+"<"+g+"?"+this.tagEndChar:e+=this.indentate(b)+"<"+g+"/"+this.tagEndChar;else if(a[g]instanceof Date)e+=this.buildTextValNode(a[g],g,"",b);else if("object"!=typeof a[g]){let c=this.isAttribute(g);if(c&&!this.ignoreAttributesFn(c,f))d+=this.buildAttrPairStr(c,""+a[g]);else if(!c)if(g===this.options.textNodeName){let b=this.options.tagValueProcessor(g,""+a[g]);e+=this.replaceEntitiesValue(b)}else e+=this.buildTextValNode(a[g],g,"",b)}else if(Array.isArray(a[g])){let d=a[g].length,f="",h="";for(let i=0;i<d;i++){let d=a[g][i];if(void 0===d);else if(null===d)"?"===g[0]?e+=this.indentate(b)+"<"+g+"?"+this.tagEndChar:e+=this.indentate(b)+"<"+g+"/"+this.tagEndChar;else if("object"==typeof d)if(this.options.oneListGroup){let a=this.j2x(d,b+1,c.concat(g));f+=a.val,this.options.attributesGroupName&&d.hasOwnProperty(this.options.attributesGroupName)&&(h+=a.attrStr)}else f+=this.processTextOrObjNode(d,g,b,c);else if(this.options.oneListGroup){let a=this.options.tagValueProcessor(g,d);f+=a=this.replaceEntitiesValue(a)}else f+=this.buildTextValNode(d,g,"",b)}this.options.oneListGroup&&(f=this.buildObjectNode(f,g,h,b)),e+=f}else if(this.options.attributesGroupName&&g===this.options.attributesGroupName){let b=Object.keys(a[g]),c=b.length;for(let e=0;e<c;e++)d+=this.buildAttrPairStr(b[e],""+a[g][b[e]])}else e+=this.processTextOrObjNode(a[g],g,b,c);return{attrStr:d,val:e}},ao.prototype.buildAttrPairStr=function(a,b){return b=this.options.attributeValueProcessor(a,""+b),b=this.replaceEntitiesValue(b),this.options.suppressBooleanAttributes&&"true"===b?" "+a:" "+a+'="'+b+'"'},ao.prototype.buildObjectNode=function(a,b,c,d){if(""===a)return"?"===b[0]?this.indentate(d)+"<"+b+c+"?"+this.tagEndChar:this.indentate(d)+"<"+b+c+this.closeTag(b)+this.tagEndChar;{let e="</"+b+this.tagEndChar,f="";return"?"===b[0]&&(f="?",e=""),(c||""===c)&&-1===a.indexOf("<")?this.indentate(d)+"<"+b+c+f+">"+a+e:!1!==this.options.commentPropName&&b===this.options.commentPropName&&0===f.length?this.indentate(d)+`<!--${a}-->`+this.newLine:this.indentate(d)+"<"+b+c+f+this.tagEndChar+a+this.indentate(d)+e}},ao.prototype.closeTag=function(a){let b="";return -1!==this.options.unpairedTags.indexOf(a)?this.options.suppressUnpairedNode||(b="/"):b=this.options.suppressEmptyNode?"/":`></${a}`,b},ao.prototype.buildTextValNode=function(a,b,c,d){if(!1!==this.options.cdataPropName&&b===this.options.cdataPropName)return this.indentate(d)+`<![CDATA[${a}]]>`+this.newLine;if(!1!==this.options.commentPropName&&b===this.options.commentPropName)return this.indentate(d)+`<!--${a}-->`+this.newLine;if("?"===b[0])return this.indentate(d)+"<"+b+c+"?"+this.tagEndChar;{let e=this.options.tagValueProcessor(b,a);return""===(e=this.replaceEntitiesValue(e))?this.indentate(d)+"<"+b+c+this.closeTag(b)+this.tagEndChar:this.indentate(d)+"<"+b+c+">"+e+"</"+b+this.tagEndChar}},ao.prototype.replaceEntitiesValue=function(a){if(a&&a.length>0&&this.options.processEntities)for(let b=0;b<this.options.entities.length;b++){let c=this.options.entities[b];a=a.replace(c.regex,c.val)}return a};let as={validate:j};a.exports=d})()},99355:(a,b,c)=>{"use strict";var d=c(47638),e=c(71347);function f(a){try{let b=new Set(Array.from(a.match(/([A-Z_]){3,}/g)??[]));return b.delete("CONFIG"),b.delete("CONFIG_PREFIX_SEPARATOR"),b.delete("ENV"),[...b].join(", ")}catch(b){return a}}let g=(a,b)=>async()=>{try{let c=a(process.env,b);if(void 0===c)throw Error();return c}catch(c){throw new d.CredentialsProviderError(c.message||`Not found in ENV: ${f(a.toString())}`,{logger:b?.logger})}},h=(a,{preferredFile:b="config",...c}={})=>async()=>{let g=e.getProfileName(c),{configFile:h,credentialsFile:i}=await e.loadSharedConfigFiles(c),j=i[g]||{},k=h[g]||{},l="config"===b?{...j,...k}:{...k,...j};try{let c="config"===b?h:i,d=a(l,c);if(void 0===d)throw Error();return d}catch(b){throw new d.CredentialsProviderError(b.message||`Not found in config files w/ profile [${g}]: ${f(a.toString())}`,{logger:c.logger})}},i=a=>"function"==typeof a,j=a=>i(a)?async()=>await a():d.fromStatic(a);b.Z=({environmentVariableSelector:a,configFileSelector:b,default:c},e={})=>{let{signingName:f,logger:i}=e,k={signingName:f,logger:i};return d.memoize(d.chain(g(a,k),h(b,e),j(c)))}},99381:(a,b,c)=>{"use strict";c.d(b,{$:()=>d});let d="***SensitiveInformation***"},99395:(a,b,c)=>{"use strict";c.d(b,{V:()=>d});let d="__smithy_context"},99483:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(86397);b.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:a})=>(0,d.str)`must be multiple of ${a}`,params:({schemaCode:a})=>(0,d._)`{multipleOf: ${a}}`},code(a){let{gen:b,data:c,schemaCode:e,it:f}=a,g=f.opts.multipleOfPrecision,h=b.let("res"),i=g?(0,d._)`Math.abs(Math.round(${h}) - ${h}) > 1e-${g}`:(0,d._)`${h} !== parseInt(${h})`;a.fail$data((0,d._)`(${e} === 0 || (${h} = ${c}/${e}, ${i}))`)}}},99507:(a,b,c)=>{"use strict";c.d(b,{C:()=>d});let d=a=>new Date(Date.now()+a)},99753:a=>{"use strict";let b=["nodebuffer","arraybuffer","fragments"],c="undefined"!=typeof Blob;c&&b.push("blob"),a.exports={BINARY_TYPES:b,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:c,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}}};